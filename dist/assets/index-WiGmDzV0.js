var sie=Object.defineProperty;var c6=t=>{throw TypeError(t)};var oie=(t,e,r)=>e in t?sie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Rr=(t,e,r)=>oie(t,typeof e!="symbol"?e+"":e,r),_E=(t,e,r)=>e.has(t)||c6("Cannot "+r);var xe=(t,e,r)=>(_E(t,e,"read from private field"),r?r.call(t):e.get(t)),Ft=(t,e,r)=>e.has(t)?c6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ht=(t,e,r,n)=>(_E(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),yr=(t,e,r)=>(_E(t,e,"access private method"),r);var kw=(t,e,r,n)=>({set _(i){ht(t,e,i,r)},get _(){return xe(t,e,n)}});function lie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cie(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var lV={exports:{}},U5={},cV={exports:{}},_r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=Symbol.for("react.element"),uie=Symbol.for("react.portal"),die=Symbol.for("react.fragment"),hie=Symbol.for("react.strict_mode"),fie=Symbol.for("react.profiler"),pie=Symbol.for("react.provider"),mie=Symbol.for("react.context"),gie=Symbol.for("react.forward_ref"),vie=Symbol.for("react.suspense"),yie=Symbol.for("react.memo"),bie=Symbol.for("react.lazy"),u6=Symbol.iterator;function xie(t){return t===null||typeof t!="object"?null:(t=u6&&t[u6]||t["@@iterator"],typeof t=="function"?t:null)}var uV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dV=Object.assign,hV={};function gy(t,e,r){this.props=t,this.context=e,this.refs=hV,this.updater=r||uV}gy.prototype.isReactComponent={};gy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fV(){}fV.prototype=gy.prototype;function Z4(t,e,r){this.props=t,this.context=e,this.refs=hV,this.updater=r||uV}var eI=Z4.prototype=new fV;eI.constructor=Z4;dV(eI,gy.prototype);eI.isPureReactComponent=!0;var d6=Array.isArray,pV=Object.prototype.hasOwnProperty,tI={current:null},mV={key:!0,ref:!0,__self:!0,__source:!0};function gV(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)pV.call(e,n)&&!mV.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:xx,type:t,key:a,ref:s,props:i,_owner:tI.current}}function wie(t,e){return{$$typeof:xx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rI(t){return typeof t=="object"&&t!==null&&t.$$typeof===xx}function _ie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var h6=/\/+/g;function SE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_ie(""+t.key):e.toString(36)}function F2(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case xx:case uie:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+SE(s,0):n,d6(i)?(r="",t!=null&&(r=t.replace(h6,"$&/")+"/"),F2(i,e,r,"",function(u){return u})):i!=null&&(rI(i)&&(i=wie(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(h6,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",d6(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+SE(a,o);s+=F2(a,e,r,l,i)}else if(l=xie(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+SE(a,o++),s+=F2(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Iw(t,e,r){if(t==null)return t;var n=[],i=0;return F2(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Sie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ds={current:null},B2={transition:null},Aie={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:B2,ReactCurrentOwner:tI};function vV(){throw Error("act(...) is not supported in production builds of React.")}_r.Children={map:Iw,forEach:function(t,e,r){Iw(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Iw(t,function(){e++}),e},toArray:function(t){return Iw(t,function(e){return e})||[]},only:function(t){if(!rI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_r.Component=gy;_r.Fragment=die;_r.Profiler=fie;_r.PureComponent=Z4;_r.StrictMode=hie;_r.Suspense=vie;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aie;_r.act=vV;_r.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=dV({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=tI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)pV.call(e,l)&&!mV.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:xx,type:t.type,key:i,ref:a,props:n,_owner:s}};_r.createContext=function(t){return t={$$typeof:mie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pie,_context:t},t.Consumer=t};_r.createElement=gV;_r.createFactory=function(t){var e=gV.bind(null,t);return e.type=t,e};_r.createRef=function(){return{current:null}};_r.forwardRef=function(t){return{$$typeof:gie,render:t}};_r.isValidElement=rI;_r.lazy=function(t){return{$$typeof:bie,_payload:{_status:-1,_result:t},_init:Sie}};_r.memo=function(t,e){return{$$typeof:yie,type:t,compare:e===void 0?null:e}};_r.startTransition=function(t){var e=B2.transition;B2.transition={};try{t()}finally{B2.transition=e}};_r.unstable_act=vV;_r.useCallback=function(t,e){return ds.current.useCallback(t,e)};_r.useContext=function(t){return ds.current.useContext(t)};_r.useDebugValue=function(){};_r.useDeferredValue=function(t){return ds.current.useDeferredValue(t)};_r.useEffect=function(t,e){return ds.current.useEffect(t,e)};_r.useId=function(){return ds.current.useId()};_r.useImperativeHandle=function(t,e,r){return ds.current.useImperativeHandle(t,e,r)};_r.useInsertionEffect=function(t,e){return ds.current.useInsertionEffect(t,e)};_r.useLayoutEffect=function(t,e){return ds.current.useLayoutEffect(t,e)};_r.useMemo=function(t,e){return ds.current.useMemo(t,e)};_r.useReducer=function(t,e,r){return ds.current.useReducer(t,e,r)};_r.useRef=function(t){return ds.current.useRef(t)};_r.useState=function(t){return ds.current.useState(t)};_r.useSyncExternalStore=function(t,e,r){return ds.current.useSyncExternalStore(t,e,r)};_r.useTransition=function(){return ds.current.useTransition()};_r.version="18.3.1";cV.exports=_r;var P=cV.exports;const ue=Zr(P),nI=lie({__proto__:null,default:ue},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nie=P,Eie=Symbol.for("react.element"),jie=Symbol.for("react.fragment"),Pie=Object.prototype.hasOwnProperty,Tie=Nie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cie={key:!0,ref:!0,__self:!0,__source:!0};function yV(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Pie.call(e,n)&&!Cie.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Eie,type:t,key:a,ref:s,props:i,_owner:Tie.current}}U5.Fragment=jie;U5.jsx=yV;U5.jsxs=yV;lV.exports=U5;var c=lV.exports,bV={exports:{}},po={},xV={exports:{}},wV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Z){var ve=q.length;q.push(Z);e:for(;0<ve;){var ce=ve-1>>>1,F=q[ce];if(0<i(F,Z))q[ce]=Z,q[ve]=F,ve=ce;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var Z=q[0],ve=q.pop();if(ve!==Z){q[0]=ve;e:for(var ce=0,F=q.length,V=F>>>1;ce<V;){var G=2*(ce+1)-1,oe=q[G],J=G+1,ie=q[J];if(0>i(oe,ve))J<F&&0>i(ie,oe)?(q[ce]=ie,q[J]=ve,ce=J):(q[ce]=oe,q[G]=ve,ce=G);else if(J<F&&0>i(ie,ve))q[ce]=ie,q[J]=ve,ce=J;else break e}}return Z}function i(q,Z){var ve=q.sortIndex-Z.sortIndex;return ve!==0?ve:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,h=null,p=3,f=!1,v=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=q)n(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=r(u)}}function S(q){if(m=!1,_(q),!v)if(r(l)!==null)v=!0,Y(N);else{var Z=r(u);Z!==null&&K(S,Z.startTime-q)}}function N(q,Z){v=!1,m&&(m=!1,y(E),E=-1),f=!0;var ve=p;try{for(_(Z),h=r(l);h!==null&&(!(h.expirationTime>Z)||q&&!k());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,p=h.priorityLevel;var F=ce(h.expirationTime<=Z);Z=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(l)&&n(l),_(Z)}else n(l);h=r(l)}if(h!==null)var V=!0;else{var G=r(u);G!==null&&K(S,G.startTime-Z),V=!1}return V}finally{h=null,p=ve,f=!1}}var C=!1,j=null,E=-1,I=5,D=-1;function k(){return!(t.unstable_now()-D<I)}function O(){if(j!==null){var q=t.unstable_now();D=q;var Z=!0;try{Z=j(!0,q)}finally{Z?L():(C=!1,j=null)}}else C=!1}var L;if(typeof x=="function")L=function(){x(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=O,L=function(){re.postMessage(null)}}else L=function(){g(O,0)};function Y(q){j=q,C||(C=!0,L())}function K(q,Z){E=g(function(){q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,Y(N))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ve=p;p=Z;try{return q()}finally{p=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ve=p;p=q;try{return Z()}finally{p=ve}},t.unstable_scheduleCallback=function(q,Z,ve){var ce=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ce+ve:ce):ve=ce,q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ve+F,q={id:d++,callback:Z,priorityLevel:q,startTime:ve,expirationTime:F,sortIndex:-1},ve>ce?(q.sortIndex=ve,e(u,q),r(l)===null&&q===r(u)&&(m?(y(E),E=-1):m=!0,K(S,ve-ce))):(q.sortIndex=F,e(l,q),v||f||(v=!0,Y(N))),q},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(q){var Z=p;return function(){var ve=p;p=Z;try{return q.apply(this,arguments)}finally{p=ve}}}})(wV);xV.exports=wV;var kie=xV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iie=P,ho=kie;function Qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _V=new Set,V1={};function pm(t,e){yv(t,e),yv(t+"Capture",e)}function yv(t,e){for(V1[t]=e,t=0;t<e.length;t++)_V.add(e[t])}var $u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),HP=Object.prototype.hasOwnProperty,Oie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f6={},p6={};function Rie(t){return HP.call(p6,t)?!0:HP.call(f6,t)?!1:Oie.test(t)?p6[t]=!0:(f6[t]=!0,!1)}function Die(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lie(t,e,r,n){if(e===null||typeof e>"u"||Die(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hs(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var ga={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ga[t]=new hs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ga[e]=new hs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ga[t]=new hs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ga[t]=new hs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ga[t]=new hs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ga[t]=new hs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ga[t]=new hs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ga[t]=new hs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ga[t]=new hs(t,5,!1,t.toLowerCase(),null,!1,!1)});var iI=/[\-:]([a-z])/g;function aI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iI,aI);ga[e]=new hs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iI,aI);ga[e]=new hs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iI,aI);ga[e]=new hs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ga[t]=new hs(t,1,!1,t.toLowerCase(),null,!1,!1)});ga.xlinkHref=new hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ga[t]=new hs(t,1,!1,t.toLowerCase(),null,!0,!0)});function sI(t,e,r,n){var i=ga.hasOwnProperty(e)?ga[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lie(e,r,i,n)&&(r=null),n||i===null?Rie(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ju=Iie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ow=Symbol.for("react.element"),hg=Symbol.for("react.portal"),fg=Symbol.for("react.fragment"),oI=Symbol.for("react.strict_mode"),GP=Symbol.for("react.profiler"),SV=Symbol.for("react.provider"),AV=Symbol.for("react.context"),lI=Symbol.for("react.forward_ref"),KP=Symbol.for("react.suspense"),YP=Symbol.for("react.suspense_list"),cI=Symbol.for("react.memo"),zd=Symbol.for("react.lazy"),NV=Symbol.for("react.offscreen"),m6=Symbol.iterator;function b0(t){return t===null||typeof t!="object"?null:(t=m6&&t[m6]||t["@@iterator"],typeof t=="function"?t:null)}var ii=Object.assign,AE;function H0(t){if(AE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);AE=e&&e[1]||""}return`
`+AE+t}var NE=!1;function EE(t,e){if(!t||NE)return"";NE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{NE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?H0(t):""}function Mie(t){switch(t.tag){case 5:return H0(t.type);case 16:return H0("Lazy");case 13:return H0("Suspense");case 19:return H0("SuspenseList");case 0:case 2:case 15:return t=EE(t.type,!1),t;case 11:return t=EE(t.type.render,!1),t;case 1:return t=EE(t.type,!0),t;default:return""}}function XP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fg:return"Fragment";case hg:return"Portal";case GP:return"Profiler";case oI:return"StrictMode";case KP:return"Suspense";case YP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AV:return(t.displayName||"Context")+".Consumer";case SV:return(t._context.displayName||"Context")+".Provider";case lI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cI:return e=t.displayName||null,e!==null?e:XP(t.type)||"Memo";case zd:e=t._payload,t=t._init;try{return XP(t(e))}catch{}}return null}function $ie(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return XP(e);case 8:return e===oI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fie(t){var e=EV(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rw(t){t._valueTracker||(t._valueTracker=Fie(t))}function jV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=EV(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function P_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function QP(t,e){var r=e.checked;return ii({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function g6(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Vh(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PV(t,e){e=e.checked,e!=null&&sI(t,"checked",e,!1)}function JP(t,e){PV(t,e);var r=Vh(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ZP(t,e.type,r):e.hasOwnProperty("defaultValue")&&ZP(t,e.type,Vh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v6(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ZP(t,e,r){(e!=="number"||P_(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var G0=Array.isArray;function Ig(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Vh(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return ii({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y6(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Qe(92));if(G0(r)){if(1<r.length)throw Error(Qe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Vh(r)}}function TV(t,e){var r=Vh(e.value),n=Vh(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function b6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dw,kV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dw=Dw||document.createElement("div"),Dw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dw.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function z1(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var c1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bie=["Webkit","ms","Moz","O"];Object.keys(c1).forEach(function(t){Bie.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),c1[e]=c1[t]})});function IV(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||c1.hasOwnProperty(t)&&c1[t]?(""+e).trim():e+"px"}function OV(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=IV(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Uie=ii({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rT(t,e){if(e){if(Uie[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function nT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iT=null;function uI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var aT=null,Og=null,Rg=null;function x6(t){if(t=Sx(t)){if(typeof aT!="function")throw Error(Qe(280));var e=t.stateNode;e&&(e=H5(e),aT(t.stateNode,t.type,e))}}function RV(t){Og?Rg?Rg.push(t):Rg=[t]:Og=t}function DV(){if(Og){var t=Og,e=Rg;if(Rg=Og=null,x6(t),e)for(t=0;t<e.length;t++)x6(e[t])}}function LV(t,e){return t(e)}function MV(){}var jE=!1;function $V(t,e,r){if(jE)return t(e,r);jE=!0;try{return LV(t,e,r)}finally{jE=!1,(Og!==null||Rg!==null)&&(MV(),DV())}}function q1(t,e){var r=t.stateNode;if(r===null)return null;var n=H5(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Qe(231,e,typeof r));return r}var sT=!1;if($u)try{var x0={};Object.defineProperty(x0,"passive",{get:function(){sT=!0}}),window.addEventListener("test",x0,x0),window.removeEventListener("test",x0,x0)}catch{sT=!1}function Vie(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var u1=!1,T_=null,C_=!1,oT=null,zie={onError:function(t){u1=!0,T_=t}};function qie(t,e,r,n,i,a,s,o,l){u1=!1,T_=null,Vie.apply(zie,arguments)}function Wie(t,e,r,n,i,a,s,o,l){if(qie.apply(this,arguments),u1){if(u1){var u=T_;u1=!1,T_=null}else throw Error(Qe(198));C_||(C_=!0,oT=u)}}function mm(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function FV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w6(t){if(mm(t)!==t)throw Error(Qe(188))}function Hie(t){var e=t.alternate;if(!e){if(e=mm(t),e===null)throw Error(Qe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return w6(i),t;if(a===n)return w6(i),e;a=a.sibling}throw Error(Qe(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Qe(189))}}if(r.alternate!==n)throw Error(Qe(190))}if(r.tag!==3)throw Error(Qe(188));return r.stateNode.current===r?t:e}function BV(t){return t=Hie(t),t!==null?UV(t):null}function UV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UV(t);if(e!==null)return e;t=t.sibling}return null}var VV=ho.unstable_scheduleCallback,_6=ho.unstable_cancelCallback,Gie=ho.unstable_shouldYield,Kie=ho.unstable_requestPaint,yi=ho.unstable_now,Yie=ho.unstable_getCurrentPriorityLevel,dI=ho.unstable_ImmediatePriority,zV=ho.unstable_UserBlockingPriority,k_=ho.unstable_NormalPriority,Xie=ho.unstable_LowPriority,qV=ho.unstable_IdlePriority,V5=null,yc=null;function Qie(t){if(yc&&typeof yc.onCommitFiberRoot=="function")try{yc.onCommitFiberRoot(V5,t,void 0,(t.current.flags&128)===128)}catch{}}var _l=Math.clz32?Math.clz32:eae,Jie=Math.log,Zie=Math.LN2;function eae(t){return t>>>=0,t===0?32:31-(Jie(t)/Zie|0)|0}var Lw=64,Mw=4194304;function K0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function I_(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=K0(o):(a&=s,a!==0&&(n=K0(a)))}else s=r&~i,s!==0?n=K0(s):a!==0&&(n=K0(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_l(e),i=1<<r,n|=t[r],e&=~i;return n}function tae(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rae(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-_l(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=tae(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function lT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WV(){var t=Lw;return Lw<<=1,!(Lw&4194240)&&(Lw=64),t}function PE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function wx(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_l(e),t[e]=r}function nae(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-_l(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function hI(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-_l(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var on=0;function HV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GV,fI,KV,YV,XV,cT=!1,$w=[],bh=null,xh=null,wh=null,W1=new Map,H1=new Map,Gd=[],iae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S6(t,e){switch(t){case"focusin":case"focusout":bh=null;break;case"dragenter":case"dragleave":xh=null;break;case"mouseover":case"mouseout":wh=null;break;case"pointerover":case"pointerout":W1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":H1.delete(e.pointerId)}}function w0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Sx(e),e!==null&&fI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aae(t,e,r,n,i){switch(e){case"focusin":return bh=w0(bh,t,e,r,n,i),!0;case"dragenter":return xh=w0(xh,t,e,r,n,i),!0;case"mouseover":return wh=w0(wh,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return W1.set(a,w0(W1.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,H1.set(a,w0(H1.get(a)||null,t,e,r,n,i)),!0}return!1}function QV(t){var e=cp(t.target);if(e!==null){var r=mm(e);if(r!==null){if(e=r.tag,e===13){if(e=FV(r),e!==null){t.blockedOn=e,XV(t.priority,function(){KV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function U2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=uT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);iT=n,r.target.dispatchEvent(n),iT=null}else return e=Sx(r),e!==null&&fI(e),t.blockedOn=r,!1;e.shift()}return!0}function A6(t,e,r){U2(t)&&r.delete(e)}function sae(){cT=!1,bh!==null&&U2(bh)&&(bh=null),xh!==null&&U2(xh)&&(xh=null),wh!==null&&U2(wh)&&(wh=null),W1.forEach(A6),H1.forEach(A6)}function _0(t,e){t.blockedOn===e&&(t.blockedOn=null,cT||(cT=!0,ho.unstable_scheduleCallback(ho.unstable_NormalPriority,sae)))}function G1(t){function e(i){return _0(i,t)}if(0<$w.length){_0($w[0],t);for(var r=1;r<$w.length;r++){var n=$w[r];n.blockedOn===t&&(n.blockedOn=null)}}for(bh!==null&&_0(bh,t),xh!==null&&_0(xh,t),wh!==null&&_0(wh,t),W1.forEach(e),H1.forEach(e),r=0;r<Gd.length;r++)n=Gd[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gd.length&&(r=Gd[0],r.blockedOn===null);)QV(r),r.blockedOn===null&&Gd.shift()}var Dg=Ju.ReactCurrentBatchConfig,O_=!0;function oae(t,e,r,n){var i=on,a=Dg.transition;Dg.transition=null;try{on=1,pI(t,e,r,n)}finally{on=i,Dg.transition=a}}function lae(t,e,r,n){var i=on,a=Dg.transition;Dg.transition=null;try{on=4,pI(t,e,r,n)}finally{on=i,Dg.transition=a}}function pI(t,e,r,n){if(O_){var i=uT(t,e,r,n);if(i===null)$E(t,e,n,R_,r),S6(t,n);else if(aae(i,t,e,r,n))n.stopPropagation();else if(S6(t,n),e&4&&-1<iae.indexOf(t)){for(;i!==null;){var a=Sx(i);if(a!==null&&GV(a),a=uT(t,e,r,n),a===null&&$E(t,e,n,R_,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else $E(t,e,n,null,r)}}var R_=null;function uT(t,e,r,n){if(R_=null,t=uI(n),t=cp(t),t!==null)if(e=mm(t),e===null)t=null;else if(r=e.tag,r===13){if(t=FV(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return R_=t,null}function JV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yie()){case dI:return 1;case zV:return 4;case k_:case Xie:return 16;case qV:return 536870912;default:return 16}default:return 16}}var hh=null,mI=null,V2=null;function ZV(){if(V2)return V2;var t,e=mI,r=e.length,n,i="value"in hh?hh.value:hh.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return V2=i.slice(t,1<n?1-n:void 0)}function z2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fw(){return!0}function N6(){return!1}function mo(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fw:N6,this.isPropagationStopped=N6,this}return ii(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fw)},persist:function(){},isPersistent:Fw}),e}var vy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gI=mo(vy),_x=ii({},vy,{view:0,detail:0}),cae=mo(_x),TE,CE,S0,z5=ii({},_x,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==S0&&(S0&&t.type==="mousemove"?(TE=t.screenX-S0.screenX,CE=t.screenY-S0.screenY):CE=TE=0,S0=t),TE)},movementY:function(t){return"movementY"in t?t.movementY:CE}}),E6=mo(z5),uae=ii({},z5,{dataTransfer:0}),dae=mo(uae),hae=ii({},_x,{relatedTarget:0}),kE=mo(hae),fae=ii({},vy,{animationName:0,elapsedTime:0,pseudoElement:0}),pae=mo(fae),mae=ii({},vy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gae=mo(mae),vae=ii({},vy,{data:0}),j6=mo(vae),yae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wae(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xae[t])?!!e[t]:!1}function vI(){return wae}var _ae=ii({},_x,{key:function(t){if(t.key){var e=yae[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=z2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bae[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vI,charCode:function(t){return t.type==="keypress"?z2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?z2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sae=mo(_ae),Aae=ii({},z5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P6=mo(Aae),Nae=ii({},_x,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vI}),Eae=mo(Nae),jae=ii({},vy,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pae=mo(jae),Tae=ii({},z5,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cae=mo(Tae),kae=[9,13,27,32],yI=$u&&"CompositionEvent"in window,d1=null;$u&&"documentMode"in document&&(d1=document.documentMode);var Iae=$u&&"TextEvent"in window&&!d1,ez=$u&&(!yI||d1&&8<d1&&11>=d1),T6=" ",C6=!1;function tz(t,e){switch(t){case"keyup":return kae.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rz(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pg=!1;function Oae(t,e){switch(t){case"compositionend":return rz(e);case"keypress":return e.which!==32?null:(C6=!0,T6);case"textInput":return t=e.data,t===T6&&C6?null:t;default:return null}}function Rae(t,e){if(pg)return t==="compositionend"||!yI&&tz(t,e)?(t=ZV(),V2=mI=hh=null,pg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ez&&e.locale!=="ko"?null:e.data;default:return null}}var Dae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Dae[t.type]:e==="textarea"}function nz(t,e,r,n){RV(n),e=D_(e,"onChange"),0<e.length&&(r=new gI("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var h1=null,K1=null;function Lae(t){pz(t,0)}function q5(t){var e=vg(t);if(jV(e))return t}function Mae(t,e){if(t==="change")return e}var iz=!1;if($u){var IE;if($u){var OE="oninput"in document;if(!OE){var I6=document.createElement("div");I6.setAttribute("oninput","return;"),OE=typeof I6.oninput=="function"}IE=OE}else IE=!1;iz=IE&&(!document.documentMode||9<document.documentMode)}function O6(){h1&&(h1.detachEvent("onpropertychange",az),K1=h1=null)}function az(t){if(t.propertyName==="value"&&q5(K1)){var e=[];nz(e,K1,t,uI(t)),$V(Lae,e)}}function $ae(t,e,r){t==="focusin"?(O6(),h1=e,K1=r,h1.attachEvent("onpropertychange",az)):t==="focusout"&&O6()}function Fae(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return q5(K1)}function Bae(t,e){if(t==="click")return q5(e)}function Uae(t,e){if(t==="input"||t==="change")return q5(e)}function Vae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var El=typeof Object.is=="function"?Object.is:Vae;function Y1(t,e){if(El(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!HP.call(e,i)||!El(t[i],e[i]))return!1}return!0}function R6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D6(t,e){var r=R6(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=R6(r)}}function sz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oz(){for(var t=window,e=P_();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=P_(t.document)}return e}function bI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zae(t){var e=oz(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sz(r.ownerDocument.documentElement,r)){if(n!==null&&bI(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=D6(r,a);var s=D6(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qae=$u&&"documentMode"in document&&11>=document.documentMode,mg=null,dT=null,f1=null,hT=!1;function L6(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hT||mg==null||mg!==P_(n)||(n=mg,"selectionStart"in n&&bI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),f1&&Y1(f1,n)||(f1=n,n=D_(dT,"onSelect"),0<n.length&&(e=new gI("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=mg)))}function Bw(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var gg={animationend:Bw("Animation","AnimationEnd"),animationiteration:Bw("Animation","AnimationIteration"),animationstart:Bw("Animation","AnimationStart"),transitionend:Bw("Transition","TransitionEnd")},RE={},lz={};$u&&(lz=document.createElement("div").style,"AnimationEvent"in window||(delete gg.animationend.animation,delete gg.animationiteration.animation,delete gg.animationstart.animation),"TransitionEvent"in window||delete gg.transitionend.transition);function W5(t){if(RE[t])return RE[t];if(!gg[t])return t;var e=gg[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in lz)return RE[t]=e[r];return t}var cz=W5("animationend"),uz=W5("animationiteration"),dz=W5("animationstart"),hz=W5("transitionend"),fz=new Map,M6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uf(t,e){fz.set(t,e),pm(e,[t])}for(var DE=0;DE<M6.length;DE++){var LE=M6[DE],Wae=LE.toLowerCase(),Hae=LE[0].toUpperCase()+LE.slice(1);uf(Wae,"on"+Hae)}uf(cz,"onAnimationEnd");uf(uz,"onAnimationIteration");uf(dz,"onAnimationStart");uf("dblclick","onDoubleClick");uf("focusin","onFocus");uf("focusout","onBlur");uf(hz,"onTransitionEnd");yv("onMouseEnter",["mouseout","mouseover"]);yv("onMouseLeave",["mouseout","mouseover"]);yv("onPointerEnter",["pointerout","pointerover"]);yv("onPointerLeave",["pointerout","pointerover"]);pm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pm("onBeforeInput",["compositionend","keypress","textInput","paste"]);pm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gae=new Set("cancel close invalid load scroll toggle".split(" ").concat(Y0));function $6(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Wie(n,e,void 0,t),t.currentTarget=null}function pz(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;$6(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;$6(i,o,u),a=l}}}if(C_)throw t=oT,C_=!1,oT=null,t}function Fn(t,e){var r=e[vT];r===void 0&&(r=e[vT]=new Set);var n=t+"__bubble";r.has(n)||(mz(e,t,2,!1),r.add(n))}function ME(t,e,r){var n=0;e&&(n|=4),mz(r,t,n,e)}var Uw="_reactListening"+Math.random().toString(36).slice(2);function X1(t){if(!t[Uw]){t[Uw]=!0,_V.forEach(function(r){r!=="selectionchange"&&(Gae.has(r)||ME(r,!1,t),ME(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uw]||(e[Uw]=!0,ME("selectionchange",!1,e))}}function mz(t,e,r,n){switch(JV(e)){case 1:var i=oae;break;case 4:i=lae;break;default:i=pI}r=i.bind(null,e,r,t),i=void 0,!sT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function $E(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=cp(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}$V(function(){var u=a,d=uI(r),h=[];e:{var p=fz.get(t);if(p!==void 0){var f=gI,v=t;switch(t){case"keypress":if(z2(r)===0)break e;case"keydown":case"keyup":f=Sae;break;case"focusin":v="focus",f=kE;break;case"focusout":v="blur",f=kE;break;case"beforeblur":case"afterblur":f=kE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=E6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=dae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Eae;break;case cz:case uz:case dz:f=pae;break;case hz:f=Pae;break;case"scroll":f=cae;break;case"wheel":f=Cae;break;case"copy":case"cut":case"paste":f=gae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=P6}var m=(e&4)!==0,g=!m&&t==="scroll",y=m?p!==null?p+"Capture":null:p;m=[];for(var x=u,_;x!==null;){_=x;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,y!==null&&(S=q1(x,y),S!=null&&m.push(Q1(x,S,_)))),g)break;x=x.return}0<m.length&&(p=new f(p,v,null,r,d),h.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==iT&&(v=r.relatedTarget||r.fromElement)&&(cp(v)||v[Fu]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=u,v=v?cp(v):null,v!==null&&(g=mm(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(m=E6,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=P6,S="onPointerLeave",y="onPointerEnter",x="pointer"),g=f==null?p:vg(f),_=v==null?p:vg(v),p=new m(S,x+"leave",f,r,d),p.target=g,p.relatedTarget=_,S=null,cp(d)===u&&(m=new m(y,x+"enter",v,r,d),m.target=_,m.relatedTarget=g,S=m),g=S,f&&v)t:{for(m=f,y=v,x=0,_=m;_;_=Bm(_))x++;for(_=0,S=y;S;S=Bm(S))_++;for(;0<x-_;)m=Bm(m),x--;for(;0<_-x;)y=Bm(y),_--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=Bm(m),y=Bm(y)}m=null}else m=null;f!==null&&F6(h,p,f,m,!1),v!==null&&g!==null&&F6(h,g,v,m,!0)}}e:{if(p=u?vg(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=Mae;else if(k6(p))if(iz)N=Uae;else{N=Fae;var C=$ae}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Bae);if(N&&(N=N(t,u))){nz(h,N,r,d);break e}C&&C(t,p,u),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&ZP(p,"number",p.value)}switch(C=u?vg(u):window,t){case"focusin":(k6(C)||C.contentEditable==="true")&&(mg=C,dT=u,f1=null);break;case"focusout":f1=dT=mg=null;break;case"mousedown":hT=!0;break;case"contextmenu":case"mouseup":case"dragend":hT=!1,L6(h,r,d);break;case"selectionchange":if(qae)break;case"keydown":case"keyup":L6(h,r,d)}var j;if(yI)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else pg?tz(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(ez&&r.locale!=="ko"&&(pg||E!=="onCompositionStart"?E==="onCompositionEnd"&&pg&&(j=ZV()):(hh=d,mI="value"in hh?hh.value:hh.textContent,pg=!0)),C=D_(u,E),0<C.length&&(E=new j6(E,t,null,r,d),h.push({event:E,listeners:C}),j?E.data=j:(j=rz(r),j!==null&&(E.data=j)))),(j=Iae?Oae(t,r):Rae(t,r))&&(u=D_(u,"onBeforeInput"),0<u.length&&(d=new j6("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}pz(h,e)})}function Q1(t,e,r){return{instance:t,listener:e,currentTarget:r}}function D_(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=q1(t,r),a!=null&&n.unshift(Q1(t,a,i)),a=q1(t,e),a!=null&&n.push(Q1(t,a,i))),t=t.return}return n}function Bm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F6(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=q1(r,a),l!=null&&s.unshift(Q1(r,l,o))):i||(l=q1(r,a),l!=null&&s.push(Q1(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Kae=/\r\n?/g,Yae=/\u0000|\uFFFD/g;function B6(t){return(typeof t=="string"?t:""+t).replace(Kae,`
`).replace(Yae,"")}function Vw(t,e,r){if(e=B6(e),B6(t)!==e&&r)throw Error(Qe(425))}function L_(){}var fT=null,pT=null;function mT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gT=typeof setTimeout=="function"?setTimeout:void 0,Xae=typeof clearTimeout=="function"?clearTimeout:void 0,U6=typeof Promise=="function"?Promise:void 0,Qae=typeof queueMicrotask=="function"?queueMicrotask:typeof U6<"u"?function(t){return U6.resolve(null).then(t).catch(Jae)}:gT;function Jae(t){setTimeout(function(){throw t})}function FE(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),G1(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);G1(e)}function _h(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function V6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var yy=Math.random().toString(36).slice(2),dc="__reactFiber$"+yy,J1="__reactProps$"+yy,Fu="__reactContainer$"+yy,vT="__reactEvents$"+yy,Zae="__reactListeners$"+yy,ese="__reactHandles$"+yy;function cp(t){var e=t[dc];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fu]||r[dc]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=V6(t);t!==null;){if(r=t[dc])return r;t=V6(t)}return e}t=r,r=t.parentNode}return null}function Sx(t){return t=t[dc]||t[Fu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Qe(33))}function H5(t){return t[J1]||null}var yT=[],yg=-1;function df(t){return{current:t}}function qn(t){0>yg||(t.current=yT[yg],yT[yg]=null,yg--)}function kn(t,e){yg++,yT[yg]=t.current,t.current=e}var zh={},$a=df(zh),ks=df(!1),$p=zh;function bv(t,e){var r=t.type.contextTypes;if(!r)return zh;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Is(t){return t=t.childContextTypes,t!=null}function M_(){qn(ks),qn($a)}function z6(t,e,r){if($a.current!==zh)throw Error(Qe(168));kn($a,e),kn(ks,r)}function gz(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Qe(108,$ie(t)||"Unknown",i));return ii({},r,n)}function $_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zh,$p=$a.current,kn($a,t),kn(ks,ks.current),!0}function q6(t,e,r){var n=t.stateNode;if(!n)throw Error(Qe(169));r?(t=gz(t,e,$p),n.__reactInternalMemoizedMergedChildContext=t,qn(ks),qn($a),kn($a,t)):qn(ks),kn(ks,r)}var gu=null,G5=!1,BE=!1;function vz(t){gu===null?gu=[t]:gu.push(t)}function tse(t){G5=!0,vz(t)}function hf(){if(!BE&&gu!==null){BE=!0;var t=0,e=on;try{var r=gu;for(on=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}gu=null,G5=!1}catch(i){throw gu!==null&&(gu=gu.slice(t+1)),VV(dI,hf),i}finally{on=e,BE=!1}}return null}var bg=[],xg=0,F_=null,B_=0,Do=[],Lo=0,Fp=null,wu=1,_u="";function Yf(t,e){bg[xg++]=B_,bg[xg++]=F_,F_=t,B_=e}function yz(t,e,r){Do[Lo++]=wu,Do[Lo++]=_u,Do[Lo++]=Fp,Fp=t;var n=wu;t=_u;var i=32-_l(n)-1;n&=~(1<<i),r+=1;var a=32-_l(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,wu=1<<32-_l(e)+i|r<<i|n,_u=a+t}else wu=1<<a|r<<i|n,_u=t}function xI(t){t.return!==null&&(Yf(t,1),yz(t,1,0))}function wI(t){for(;t===F_;)F_=bg[--xg],bg[xg]=null,B_=bg[--xg],bg[xg]=null;for(;t===Fp;)Fp=Do[--Lo],Do[Lo]=null,_u=Do[--Lo],Do[Lo]=null,wu=Do[--Lo],Do[Lo]=null}var oo=null,no=null,Gn=!1,vl=null;function bz(t,e){var r=zo(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function W6(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oo=t,no=_h(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oo=t,no=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Fp!==null?{id:wu,overflow:_u}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=zo(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,oo=t,no=null,!0):!1;default:return!1}}function bT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xT(t){if(Gn){var e=no;if(e){var r=e;if(!W6(t,e)){if(bT(t))throw Error(Qe(418));e=_h(r.nextSibling);var n=oo;e&&W6(t,e)?bz(n,r):(t.flags=t.flags&-4097|2,Gn=!1,oo=t)}}else{if(bT(t))throw Error(Qe(418));t.flags=t.flags&-4097|2,Gn=!1,oo=t}}}function H6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oo=t}function zw(t){if(t!==oo)return!1;if(!Gn)return H6(t),Gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mT(t.type,t.memoizedProps)),e&&(e=no)){if(bT(t))throw xz(),Error(Qe(418));for(;e;)bz(t,e),e=_h(e.nextSibling)}if(H6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){no=_h(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}no=null}}else no=oo?_h(t.stateNode.nextSibling):null;return!0}function xz(){for(var t=no;t;)t=_h(t.nextSibling)}function xv(){no=oo=null,Gn=!1}function _I(t){vl===null?vl=[t]:vl.push(t)}var rse=Ju.ReactCurrentBatchConfig;function A0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Qe(309));var n=r.stateNode}if(!n)throw Error(Qe(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Qe(284));if(!r._owner)throw Error(Qe(290,t))}return t}function qw(t,e){throw t=Object.prototype.toString.call(e),Error(Qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G6(t){var e=t._init;return e(t._payload)}function wz(t){function e(y,x){if(t){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Eh(y,x),y.index=0,y.sibling=null,y}function a(y,x,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,x,_,S){return x===null||x.tag!==6?(x=GE(_,y.mode,S),x.return=y,x):(x=i(x,_),x.return=y,x)}function l(y,x,_,S){var N=_.type;return N===fg?d(y,x,_.props.children,S,_.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zd&&G6(N)===x.type)?(S=i(x,_.props),S.ref=A0(y,x,_),S.return=y,S):(S=X2(_.type,_.key,_.props,null,y.mode,S),S.ref=A0(y,x,_),S.return=y,S)}function u(y,x,_,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=KE(_,y.mode,S),x.return=y,x):(x=i(x,_.children||[]),x.return=y,x)}function d(y,x,_,S,N){return x===null||x.tag!==7?(x=Cp(_,y.mode,S,N),x.return=y,x):(x=i(x,_),x.return=y,x)}function h(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=GE(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ow:return _=X2(x.type,x.key,x.props,null,y.mode,_),_.ref=A0(y,null,x),_.return=y,_;case hg:return x=KE(x,y.mode,_),x.return=y,x;case zd:var S=x._init;return h(y,S(x._payload),_)}if(G0(x)||b0(x))return x=Cp(x,y.mode,_,null),x.return=y,x;qw(y,x)}return null}function p(y,x,_,S){var N=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:o(y,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ow:return _.key===N?l(y,x,_,S):null;case hg:return _.key===N?u(y,x,_,S):null;case zd:return N=_._init,p(y,x,N(_._payload),S)}if(G0(_)||b0(_))return N!==null?null:d(y,x,_,S,null);qw(y,_)}return null}function f(y,x,_,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(_)||null,o(x,y,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ow:return y=y.get(S.key===null?_:S.key)||null,l(x,y,S,N);case hg:return y=y.get(S.key===null?_:S.key)||null,u(x,y,S,N);case zd:var C=S._init;return f(y,x,_,C(S._payload),N)}if(G0(S)||b0(S))return y=y.get(_)||null,d(x,y,S,N,null);qw(x,S)}return null}function v(y,x,_,S){for(var N=null,C=null,j=x,E=x=0,I=null;j!==null&&E<_.length;E++){j.index>E?(I=j,j=null):I=j.sibling;var D=p(y,j,_[E],S);if(D===null){j===null&&(j=I);break}t&&j&&D.alternate===null&&e(y,j),x=a(D,x,E),C===null?N=D:C.sibling=D,C=D,j=I}if(E===_.length)return r(y,j),Gn&&Yf(y,E),N;if(j===null){for(;E<_.length;E++)j=h(y,_[E],S),j!==null&&(x=a(j,x,E),C===null?N=j:C.sibling=j,C=j);return Gn&&Yf(y,E),N}for(j=n(y,j);E<_.length;E++)I=f(j,y,E,_[E],S),I!==null&&(t&&I.alternate!==null&&j.delete(I.key===null?E:I.key),x=a(I,x,E),C===null?N=I:C.sibling=I,C=I);return t&&j.forEach(function(k){return e(y,k)}),Gn&&Yf(y,E),N}function m(y,x,_,S){var N=b0(_);if(typeof N!="function")throw Error(Qe(150));if(_=N.call(_),_==null)throw Error(Qe(151));for(var C=N=null,j=x,E=x=0,I=null,D=_.next();j!==null&&!D.done;E++,D=_.next()){j.index>E?(I=j,j=null):I=j.sibling;var k=p(y,j,D.value,S);if(k===null){j===null&&(j=I);break}t&&j&&k.alternate===null&&e(y,j),x=a(k,x,E),C===null?N=k:C.sibling=k,C=k,j=I}if(D.done)return r(y,j),Gn&&Yf(y,E),N;if(j===null){for(;!D.done;E++,D=_.next())D=h(y,D.value,S),D!==null&&(x=a(D,x,E),C===null?N=D:C.sibling=D,C=D);return Gn&&Yf(y,E),N}for(j=n(y,j);!D.done;E++,D=_.next())D=f(j,y,E,D.value,S),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?E:D.key),x=a(D,x,E),C===null?N=D:C.sibling=D,C=D);return t&&j.forEach(function(O){return e(y,O)}),Gn&&Yf(y,E),N}function g(y,x,_,S){if(typeof _=="object"&&_!==null&&_.type===fg&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ow:e:{for(var N=_.key,C=x;C!==null;){if(C.key===N){if(N=_.type,N===fg){if(C.tag===7){r(y,C.sibling),x=i(C,_.props.children),x.return=y,y=x;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zd&&G6(N)===C.type){r(y,C.sibling),x=i(C,_.props),x.ref=A0(y,C,_),x.return=y,y=x;break e}r(y,C);break}else e(y,C);C=C.sibling}_.type===fg?(x=Cp(_.props.children,y.mode,S,_.key),x.return=y,y=x):(S=X2(_.type,_.key,_.props,null,y.mode,S),S.ref=A0(y,x,_),S.return=y,y=S)}return s(y);case hg:e:{for(C=_.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){r(y,x.sibling),x=i(x,_.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=KE(_,y.mode,S),x.return=y,y=x}return s(y);case zd:return C=_._init,g(y,x,C(_._payload),S)}if(G0(_))return v(y,x,_,S);if(b0(_))return m(y,x,_,S);qw(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,_),x.return=y,y=x):(r(y,x),x=GE(_,y.mode,S),x.return=y,y=x),s(y)):r(y,x)}return g}var wv=wz(!0),_z=wz(!1),U_=df(null),V_=null,wg=null,SI=null;function AI(){SI=wg=V_=null}function NI(t){var e=U_.current;qn(U_),t._currentValue=e}function wT(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Lg(t,e){V_=t,SI=wg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(js=!0),t.firstContext=null)}function Ko(t){var e=t._currentValue;if(SI!==t)if(t={context:t,memoizedValue:e,next:null},wg===null){if(V_===null)throw Error(Qe(308));wg=t,V_.dependencies={lanes:0,firstContext:t}}else wg=wg.next=t;return e}var up=null;function EI(t){up===null?up=[t]:up.push(t)}function Sz(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,EI(e)):(r.next=i.next,i.next=r),e.interleaved=r,Bu(t,n)}function Bu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var qd=!1;function jI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Az(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sh(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,zr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Bu(t,r)}return i=n.interleaved,i===null?(e.next=e,EI(n)):(e.next=i.next,i.next=e),n.interleaved=e,Bu(t,r)}function q2(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hI(t,r)}}function K6(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function z_(t,e,r,n){var i=t.updateQueue;qd=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,d=u=l=null,o=a;do{var p=o.lane,f=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,m=o;switch(p=e,f=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=ii({},h,p);break e;case 2:qd=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=f,l=h):d=d.next=f,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Up|=s,t.lanes=s,t.memoizedState=h}}function Y6(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Qe(191,i));i.call(n)}}}var Ax={},bc=df(Ax),Z1=df(Ax),eb=df(Ax);function dp(t){if(t===Ax)throw Error(Qe(174));return t}function PI(t,e){switch(kn(eb,e),kn(Z1,t),kn(bc,Ax),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tT(e,t)}qn(bc),kn(bc,e)}function _v(){qn(bc),qn(Z1),qn(eb)}function Nz(t){dp(eb.current);var e=dp(bc.current),r=tT(e,t.type);e!==r&&(kn(Z1,t),kn(bc,r))}function TI(t){Z1.current===t&&(qn(bc),qn(Z1))}var Jn=df(0);function q_(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var UE=[];function CI(){for(var t=0;t<UE.length;t++)UE[t]._workInProgressVersionPrimary=null;UE.length=0}var W2=Ju.ReactCurrentDispatcher,VE=Ju.ReactCurrentBatchConfig,Bp=0,ni=null,Ui=null,Zi=null,W_=!1,p1=!1,tb=0,nse=0;function _a(){throw Error(Qe(321))}function kI(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!El(t[r],e[r]))return!1;return!0}function II(t,e,r,n,i,a){if(Bp=a,ni=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W2.current=t===null||t.memoizedState===null?ose:lse,t=r(n,i),p1){a=0;do{if(p1=!1,tb=0,25<=a)throw Error(Qe(301));a+=1,Zi=Ui=null,e.updateQueue=null,W2.current=cse,t=r(n,i)}while(p1)}if(W2.current=H_,e=Ui!==null&&Ui.next!==null,Bp=0,Zi=Ui=ni=null,W_=!1,e)throw Error(Qe(300));return t}function OI(){var t=tb!==0;return tb=0,t}function nc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?ni.memoizedState=Zi=t:Zi=Zi.next=t,Zi}function Yo(){if(Ui===null){var t=ni.alternate;t=t!==null?t.memoizedState:null}else t=Ui.next;var e=Zi===null?ni.memoizedState:Zi.next;if(e!==null)Zi=e,Ui=t;else{if(t===null)throw Error(Qe(310));Ui=t,t={memoizedState:Ui.memoizedState,baseState:Ui.baseState,baseQueue:Ui.baseQueue,queue:Ui.queue,next:null},Zi===null?ni.memoizedState=Zi=t:Zi=Zi.next=t}return Zi}function rb(t,e){return typeof e=="function"?e(t):e}function zE(t){var e=Yo(),r=e.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=t;var n=Ui,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Bp&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,s=n):l=l.next=h,ni.lanes|=d,Up|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,El(n,e.memoizedState)||(js=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ni.lanes|=a,Up|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function qE(t){var e=Yo(),r=e.queue;if(r===null)throw Error(Qe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);El(a,e.memoizedState)||(js=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Ez(){}function jz(t,e){var r=ni,n=Yo(),i=e(),a=!El(n.memoizedState,i);if(a&&(n.memoizedState=i,js=!0),n=n.queue,RI(Cz.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Zi!==null&&Zi.memoizedState.tag&1){if(r.flags|=2048,nb(9,Tz.bind(null,r,n,i,e),void 0,null),ra===null)throw Error(Qe(349));Bp&30||Pz(r,e,i)}return i}function Pz(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ni.updateQueue,e===null?(e={lastEffect:null,stores:null},ni.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Tz(t,e,r,n){e.value=r,e.getSnapshot=n,kz(e)&&Iz(t)}function Cz(t,e,r){return r(function(){kz(e)&&Iz(t)})}function kz(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!El(t,r)}catch{return!0}}function Iz(t){var e=Bu(t,1);e!==null&&Sl(e,t,1,-1)}function X6(t){var e=nc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rb,lastRenderedState:t},e.queue=t,t=t.dispatch=sse.bind(null,ni,t),[e.memoizedState,t]}function nb(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ni.updateQueue,e===null?(e={lastEffect:null,stores:null},ni.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Oz(){return Yo().memoizedState}function H2(t,e,r,n){var i=nc();ni.flags|=t,i.memoizedState=nb(1|e,r,void 0,n===void 0?null:n)}function K5(t,e,r,n){var i=Yo();n=n===void 0?null:n;var a=void 0;if(Ui!==null){var s=Ui.memoizedState;if(a=s.destroy,n!==null&&kI(n,s.deps)){i.memoizedState=nb(e,r,a,n);return}}ni.flags|=t,i.memoizedState=nb(1|e,r,a,n)}function Q6(t,e){return H2(8390656,8,t,e)}function RI(t,e){return K5(2048,8,t,e)}function Rz(t,e){return K5(4,2,t,e)}function Dz(t,e){return K5(4,4,t,e)}function Lz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mz(t,e,r){return r=r!=null?r.concat([t]):null,K5(4,4,Lz.bind(null,e,t),r)}function DI(){}function $z(t,e){var r=Yo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kI(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Fz(t,e){var r=Yo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kI(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Bz(t,e,r){return Bp&21?(El(r,e)||(r=WV(),ni.lanes|=r,Up|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,js=!0),t.memoizedState=r)}function ise(t,e){var r=on;on=r!==0&&4>r?r:4,t(!0);var n=VE.transition;VE.transition={};try{t(!1),e()}finally{on=r,VE.transition=n}}function Uz(){return Yo().memoizedState}function ase(t,e,r){var n=Nh(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Vz(t))zz(e,r);else if(r=Sz(t,e,r,n),r!==null){var i=os();Sl(r,t,n,i),qz(r,e,n)}}function sse(t,e,r){var n=Nh(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vz(t))zz(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,El(o,s)){var l=e.interleaved;l===null?(i.next=i,EI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Sz(t,e,i,n),r!==null&&(i=os(),Sl(r,t,n,i),qz(r,e,n))}}function Vz(t){var e=t.alternate;return t===ni||e!==null&&e===ni}function zz(t,e){p1=W_=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function qz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hI(t,r)}}var H_={readContext:Ko,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ose={readContext:Ko,useCallback:function(t,e){return nc().memoizedState=[t,e===void 0?null:e],t},useContext:Ko,useEffect:Q6,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,H2(4194308,4,Lz.bind(null,e,t),r)},useLayoutEffect:function(t,e){return H2(4194308,4,t,e)},useInsertionEffect:function(t,e){return H2(4,2,t,e)},useMemo:function(t,e){var r=nc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ase.bind(null,ni,t),[n.memoizedState,t]},useRef:function(t){var e=nc();return t={current:t},e.memoizedState=t},useState:X6,useDebugValue:DI,useDeferredValue:function(t){return nc().memoizedState=t},useTransition:function(){var t=X6(!1),e=t[0];return t=ise.bind(null,t[1]),nc().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ni,i=nc();if(Gn){if(r===void 0)throw Error(Qe(407));r=r()}else{if(r=e(),ra===null)throw Error(Qe(349));Bp&30||Pz(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Q6(Cz.bind(null,n,a,t),[t]),n.flags|=2048,nb(9,Tz.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=nc(),e=ra.identifierPrefix;if(Gn){var r=_u,n=wu;r=(n&~(1<<32-_l(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=tb++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=nse++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lse={readContext:Ko,useCallback:$z,useContext:Ko,useEffect:RI,useImperativeHandle:Mz,useInsertionEffect:Rz,useLayoutEffect:Dz,useMemo:Fz,useReducer:zE,useRef:Oz,useState:function(){return zE(rb)},useDebugValue:DI,useDeferredValue:function(t){var e=Yo();return Bz(e,Ui.memoizedState,t)},useTransition:function(){var t=zE(rb)[0],e=Yo().memoizedState;return[t,e]},useMutableSource:Ez,useSyncExternalStore:jz,useId:Uz,unstable_isNewReconciler:!1},cse={readContext:Ko,useCallback:$z,useContext:Ko,useEffect:RI,useImperativeHandle:Mz,useInsertionEffect:Rz,useLayoutEffect:Dz,useMemo:Fz,useReducer:qE,useRef:Oz,useState:function(){return qE(rb)},useDebugValue:DI,useDeferredValue:function(t){var e=Yo();return Ui===null?e.memoizedState=t:Bz(e,Ui.memoizedState,t)},useTransition:function(){var t=qE(rb)[0],e=Yo().memoizedState;return[t,e]},useMutableSource:Ez,useSyncExternalStore:jz,useId:Uz,unstable_isNewReconciler:!1};function dl(t,e){if(t&&t.defaultProps){e=ii({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function _T(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ii({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Y5={isMounted:function(t){return(t=t._reactInternals)?mm(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=os(),i=Nh(t),a=Pu(n,i);a.payload=e,r!=null&&(a.callback=r),e=Sh(t,a,i),e!==null&&(Sl(e,t,i,n),q2(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=os(),i=Nh(t),a=Pu(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Sh(t,a,i),e!==null&&(Sl(e,t,i,n),q2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=os(),n=Nh(t),i=Pu(r,n);i.tag=2,e!=null&&(i.callback=e),e=Sh(t,i,n),e!==null&&(Sl(e,t,n,r),q2(e,t,n))}};function J6(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Y1(r,n)||!Y1(i,a):!0}function Wz(t,e,r){var n=!1,i=zh,a=e.contextType;return typeof a=="object"&&a!==null?a=Ko(a):(i=Is(e)?$p:$a.current,n=e.contextTypes,a=(n=n!=null)?bv(t,i):zh),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Y5,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Z6(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Y5.enqueueReplaceState(e,e.state,null)}function ST(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},jI(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ko(a):(a=Is(e)?$p:$a.current,i.context=bv(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(_T(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Y5.enqueueReplaceState(i,i.state,null),z_(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sv(t,e){try{var r="",n=e;do r+=Mie(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function WE(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function AT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var use=typeof WeakMap=="function"?WeakMap:Map;function Hz(t,e,r){r=Pu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){K_||(K_=!0,RT=n),AT(t,e)},r}function Gz(t,e,r){r=Pu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){AT(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){AT(t,e),typeof n!="function"&&(Ah===null?Ah=new Set([this]):Ah.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function eL(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new use;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Ase.bind(null,t,e,r),e.then(t,t))}function tL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rL(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Pu(-1,1),e.tag=2,Sh(r,e,1))),r.lanes|=1),t)}var dse=Ju.ReactCurrentOwner,js=!1;function Xa(t,e,r,n){e.child=t===null?_z(e,null,r,n):wv(e,t.child,r,n)}function nL(t,e,r,n,i){r=r.render;var a=e.ref;return Lg(e,i),n=II(t,e,r,n,a,i),r=OI(),t!==null&&!js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uu(t,e,i)):(Gn&&r&&xI(e),e.flags|=1,Xa(t,e,n,i),e.child)}function iL(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!zI(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Kz(t,e,a,n,i)):(t=X2(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Y1,r(s,n)&&t.ref===e.ref)return Uu(t,e,i)}return e.flags|=1,t=Eh(a,n),t.ref=e.ref,t.return=e,e.child=t}function Kz(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Y1(a,n)&&t.ref===e.ref)if(js=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(js=!0);else return e.lanes=t.lanes,Uu(t,e,i)}return NT(t,e,r,n,i)}function Yz(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(Sg,Zs),Zs|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kn(Sg,Zs),Zs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,kn(Sg,Zs),Zs|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,kn(Sg,Zs),Zs|=n;return Xa(t,e,i,r),e.child}function Xz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function NT(t,e,r,n,i){var a=Is(r)?$p:$a.current;return a=bv(e,a),Lg(e,i),r=II(t,e,r,n,a,i),n=OI(),t!==null&&!js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Uu(t,e,i)):(Gn&&n&&xI(e),e.flags|=1,Xa(t,e,r,i),e.child)}function aL(t,e,r,n,i){if(Is(r)){var a=!0;$_(e)}else a=!1;if(Lg(e,i),e.stateNode===null)G2(t,e),Wz(e,r,n),ST(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ko(u):(u=Is(r)?$p:$a.current,u=bv(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Z6(e,s,n,u),qd=!1;var p=e.memoizedState;s.state=p,z_(e,n,s,i),l=e.memoizedState,o!==n||p!==l||ks.current||qd?(typeof d=="function"&&(_T(e,r,d,n),l=e.memoizedState),(o=qd||J6(e,r,o,n,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,Az(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:dl(e.type,o),s.props=u,h=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ko(l):(l=Is(r)?$p:$a.current,l=bv(e,l));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||p!==l)&&Z6(e,s,n,l),qd=!1,p=e.memoizedState,s.state=p,z_(e,n,s,i);var v=e.memoizedState;o!==h||p!==v||ks.current||qd?(typeof f=="function"&&(_T(e,r,f,n),v=e.memoizedState),(u=qd||J6(e,r,u,n,p,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return ET(t,e,r,n,a,i)}function ET(t,e,r,n,i,a){Xz(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&q6(e,r,!1),Uu(t,e,a);n=e.stateNode,dse.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=wv(e,t.child,null,a),e.child=wv(e,null,o,a)):Xa(t,e,o,a),e.memoizedState=n.state,i&&q6(e,r,!0),e.child}function Qz(t){var e=t.stateNode;e.pendingContext?z6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z6(t,e.context,!1),PI(t,e.containerInfo)}function sL(t,e,r,n,i){return xv(),_I(i),e.flags|=256,Xa(t,e,r,n),e.child}var jT={dehydrated:null,treeContext:null,retryLane:0};function PT(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jz(t,e,r){var n=e.pendingProps,i=Jn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kn(Jn,i&1),t===null)return xT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=J5(s,n,0,null),t=Cp(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=PT(r),e.memoizedState=jT,t):LI(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return hse(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Eh(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Eh(o,a):(a=Cp(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?PT(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=jT,n}return a=t.child,t=a.sibling,n=Eh(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function LI(t,e){return e=J5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ww(t,e,r,n){return n!==null&&_I(n),wv(e,t.child,null,r),t=LI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hse(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=WE(Error(Qe(422))),Ww(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=J5({mode:"visible",children:n.children},i,0,null),a=Cp(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&wv(e,t.child,null,s),e.child.memoizedState=PT(s),e.memoizedState=jT,a);if(!(e.mode&1))return Ww(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Qe(419)),n=WE(a,n,void 0),Ww(t,e,s,n)}if(o=(s&t.childLanes)!==0,js||o){if(n=ra,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Bu(t,i),Sl(n,t,i,-1))}return VI(),n=WE(Error(Qe(421))),Ww(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Nse.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,no=_h(i.nextSibling),oo=e,Gn=!0,vl=null,t!==null&&(Do[Lo++]=wu,Do[Lo++]=_u,Do[Lo++]=Fp,wu=t.id,_u=t.overflow,Fp=e),e=LI(e,n.children),e.flags|=4096,e)}function oL(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),wT(t.return,e,r)}function HE(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Zz(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Xa(t,e,n.children,r),n=Jn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oL(t,r,e);else if(t.tag===19)oL(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(kn(Jn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&q_(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),HE(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&q_(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}HE(e,!0,r,null,a);break;case"together":HE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function G2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Uu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Up|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Qe(153));if(e.child!==null){for(t=e.child,r=Eh(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Eh(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function fse(t,e,r){switch(e.tag){case 3:Qz(e),xv();break;case 5:Nz(e);break;case 1:Is(e.type)&&$_(e);break;case 4:PI(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;kn(U_,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(kn(Jn,Jn.current&1),e.flags|=128,null):r&e.child.childLanes?Jz(t,e,r):(kn(Jn,Jn.current&1),t=Uu(t,e,r),t!==null?t.sibling:null);kn(Jn,Jn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Zz(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kn(Jn,Jn.current),n)break;return null;case 22:case 23:return e.lanes=0,Yz(t,e,r)}return Uu(t,e,r)}var eq,TT,tq,rq;eq=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};TT=function(){};tq=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,dp(bc.current);var a=null;switch(r){case"input":i=QP(t,i),n=QP(t,n),a=[];break;case"select":i=ii({},i,{value:void 0}),n=ii({},n,{value:void 0}),a=[];break;case"textarea":i=eT(t,i),n=eT(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=L_)}rT(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(V1.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(V1.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fn("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};rq=function(t,e,r,n){r!==n&&(e.flags|=4)};function N0(t,e){if(!Gn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Sa(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function pse(t,e,r){var n=e.pendingProps;switch(wI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sa(e),null;case 1:return Is(e.type)&&M_(),Sa(e),null;case 3:return n=e.stateNode,_v(),qn(ks),qn($a),CI(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(zw(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vl!==null&&(MT(vl),vl=null))),TT(t,e),Sa(e),null;case 5:TI(e);var i=dp(eb.current);if(r=e.type,t!==null&&e.stateNode!=null)tq(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Qe(166));return Sa(e),null}if(t=dp(bc.current),zw(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[dc]=e,n[J1]=a,t=(e.mode&1)!==0,r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(i=0;i<Y0.length;i++)Fn(Y0[i],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":g6(n,a),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Fn("invalid",n);break;case"textarea":y6(n,a),Fn("invalid",n)}rT(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Vw(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Vw(n.textContent,o,t),i=["children",""+o]):V1.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Fn("scroll",n)}switch(r){case"input":Rw(n),v6(n,a,!0);break;case"textarea":Rw(n),b6(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=L_)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CV(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[dc]=e,t[J1]=n,eq(t,e,!1,!1),e.stateNode=t;e:{switch(s=nT(r,n),r){case"dialog":Fn("cancel",t),Fn("close",t),i=n;break;case"iframe":case"object":case"embed":Fn("load",t),i=n;break;case"video":case"audio":for(i=0;i<Y0.length;i++)Fn(Y0[i],t);i=n;break;case"source":Fn("error",t),i=n;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),i=n;break;case"details":Fn("toggle",t),i=n;break;case"input":g6(t,n),i=QP(t,n),Fn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ii({},n,{value:void 0}),Fn("invalid",t);break;case"textarea":y6(t,n),i=eT(t,n),Fn("invalid",t);break;default:i=n}rT(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?OV(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kV(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&z1(t,l):typeof l=="number"&&z1(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(V1.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Fn("scroll",t):l!=null&&sI(t,a,l,s))}switch(r){case"input":Rw(t),v6(t,n,!1);break;case"textarea":Rw(t),b6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Vh(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ig(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ig(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=L_)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sa(e),null;case 6:if(t&&e.stateNode!=null)rq(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Qe(166));if(r=dp(eb.current),dp(bc.current),zw(e)){if(n=e.stateNode,r=e.memoizedProps,n[dc]=e,(a=n.nodeValue!==r)&&(t=oo,t!==null))switch(t.tag){case 3:Vw(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vw(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dc]=e,e.stateNode=n}return Sa(e),null;case 13:if(qn(Jn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gn&&no!==null&&e.mode&1&&!(e.flags&128))xz(),xv(),e.flags|=98560,a=!1;else if(a=zw(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Qe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Qe(317));a[dc]=e}else xv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sa(e),a=!1}else vl!==null&&(MT(vl),vl=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Jn.current&1?zi===0&&(zi=3):VI())),e.updateQueue!==null&&(e.flags|=4),Sa(e),null);case 4:return _v(),TT(t,e),t===null&&X1(e.stateNode.containerInfo),Sa(e),null;case 10:return NI(e.type._context),Sa(e),null;case 17:return Is(e.type)&&M_(),Sa(e),null;case 19:if(qn(Jn),a=e.memoizedState,a===null)return Sa(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)N0(a,!1);else{if(zi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=q_(t),s!==null){for(e.flags|=128,N0(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return kn(Jn,Jn.current&1|2),e.child}t=t.sibling}a.tail!==null&&yi()>Av&&(e.flags|=128,n=!0,N0(a,!1),e.lanes=4194304)}else{if(!n)if(t=q_(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),N0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Gn)return Sa(e),null}else 2*yi()-a.renderingStartTime>Av&&r!==1073741824&&(e.flags|=128,n=!0,N0(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=yi(),e.sibling=null,r=Jn.current,kn(Jn,n?r&1|2:r&1),e):(Sa(e),null);case 22:case 23:return UI(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Zs&1073741824&&(Sa(e),e.subtreeFlags&6&&(e.flags|=8192)):Sa(e),null;case 24:return null;case 25:return null}throw Error(Qe(156,e.tag))}function mse(t,e){switch(wI(e),e.tag){case 1:return Is(e.type)&&M_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _v(),qn(ks),qn($a),CI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return TI(e),null;case 13:if(qn(Jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Qe(340));xv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qn(Jn),null;case 4:return _v(),null;case 10:return NI(e.type._context),null;case 22:case 23:return UI(),null;case 24:return null;default:return null}}var Hw=!1,Oa=!1,gse=typeof WeakSet=="function"?WeakSet:Set,yt=null;function _g(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){di(t,e,n)}else r.current=null}function CT(t,e,r){try{r()}catch(n){di(t,e,n)}}var lL=!1;function vse(t,e){if(fT=O_,t=oz(),bI(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(o=s+i),h!==a||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===r&&++u===i&&(o=s),p===a&&++d===n&&(l=s),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(pT={focusedElem:t,selectionRange:r},O_=!1,yt=e;yt!==null;)if(e=yt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,yt=t;else for(;yt!==null;){e=yt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,g=v.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:dl(e.type,m),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(S){di(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,yt=t;break}yt=e.return}return v=lL,lL=!1,v}function m1(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&CT(e,r,a)}i=i.next}while(i!==n)}}function X5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function kT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function nq(t){var e=t.alternate;e!==null&&(t.alternate=null,nq(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dc],delete e[J1],delete e[vT],delete e[Zae],delete e[ese])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iq(t){return t.tag===5||t.tag===3||t.tag===4}function cL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iq(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function IT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=L_));else if(n!==4&&(t=t.child,t!==null))for(IT(t,e,r),t=t.sibling;t!==null;)IT(t,e,r),t=t.sibling}function OT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(OT(t,e,r),t=t.sibling;t!==null;)OT(t,e,r),t=t.sibling}var ca=null,pl=!1;function Id(t,e,r){for(r=r.child;r!==null;)aq(t,e,r),r=r.sibling}function aq(t,e,r){if(yc&&typeof yc.onCommitFiberUnmount=="function")try{yc.onCommitFiberUnmount(V5,r)}catch{}switch(r.tag){case 5:Oa||_g(r,e);case 6:var n=ca,i=pl;ca=null,Id(t,e,r),ca=n,pl=i,ca!==null&&(pl?(t=ca,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ca.removeChild(r.stateNode));break;case 18:ca!==null&&(pl?(t=ca,r=r.stateNode,t.nodeType===8?FE(t.parentNode,r):t.nodeType===1&&FE(t,r),G1(t)):FE(ca,r.stateNode));break;case 4:n=ca,i=pl,ca=r.stateNode.containerInfo,pl=!0,Id(t,e,r),ca=n,pl=i;break;case 0:case 11:case 14:case 15:if(!Oa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&CT(r,e,s),i=i.next}while(i!==n)}Id(t,e,r);break;case 1:if(!Oa&&(_g(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){di(r,e,o)}Id(t,e,r);break;case 21:Id(t,e,r);break;case 22:r.mode&1?(Oa=(n=Oa)||r.memoizedState!==null,Id(t,e,r),Oa=n):Id(t,e,r);break;default:Id(t,e,r)}}function uL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new gse),e.forEach(function(n){var i=Ese.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function sl(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:ca=o.stateNode,pl=!1;break e;case 3:ca=o.stateNode.containerInfo,pl=!0;break e;case 4:ca=o.stateNode.containerInfo,pl=!0;break e}o=o.return}if(ca===null)throw Error(Qe(160));aq(a,s,i),ca=null,pl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){di(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sq(e,t),e=e.sibling}function sq(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sl(e,t),Zl(t),n&4){try{m1(3,t,t.return),X5(3,t)}catch(m){di(t,t.return,m)}try{m1(5,t,t.return)}catch(m){di(t,t.return,m)}}break;case 1:sl(e,t),Zl(t),n&512&&r!==null&&_g(r,r.return);break;case 5:if(sl(e,t),Zl(t),n&512&&r!==null&&_g(r,r.return),t.flags&32){var i=t.stateNode;try{z1(i,"")}catch(m){di(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&PV(i,a),nT(o,s);var u=nT(o,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?OV(i,h):d==="dangerouslySetInnerHTML"?kV(i,h):d==="children"?z1(i,h):sI(i,d,h,u)}switch(o){case"input":JP(i,a);break;case"textarea":TV(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Ig(i,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ig(i,!!a.multiple,a.defaultValue,!0):Ig(i,!!a.multiple,a.multiple?[]:"",!1))}i[J1]=a}catch(m){di(t,t.return,m)}}break;case 6:if(sl(e,t),Zl(t),n&4){if(t.stateNode===null)throw Error(Qe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){di(t,t.return,m)}}break;case 3:if(sl(e,t),Zl(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{G1(e.containerInfo)}catch(m){di(t,t.return,m)}break;case 4:sl(e,t),Zl(t);break;case 13:sl(e,t),Zl(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(FI=yi())),n&4&&uL(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Oa=(u=Oa)||d,sl(e,t),Oa=u):sl(e,t),Zl(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(yt=t,d=t.child;d!==null;){for(h=yt=d;yt!==null;){switch(p=yt,f=p.child,p.tag){case 0:case 11:case 14:case 15:m1(4,p,p.return);break;case 1:_g(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){di(n,r,m)}}break;case 5:_g(p,p.return);break;case 22:if(p.memoizedState!==null){hL(h);continue}}f!==null?(f.return=p,yt=f):hL(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=IV("display",s))}catch(m){di(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){di(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sl(e,t),Zl(t),n&4&&uL(t);break;case 21:break;default:sl(e,t),Zl(t)}}function Zl(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(iq(r)){var n=r;break e}r=r.return}throw Error(Qe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(z1(i,""),n.flags&=-33);var a=cL(t);OT(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=cL(t);IT(t,o,s);break;default:throw Error(Qe(161))}}catch(l){di(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yse(t,e,r){yt=t,oq(t)}function oq(t,e,r){for(var n=(t.mode&1)!==0;yt!==null;){var i=yt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Hw;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Oa;o=Hw;var u=Oa;if(Hw=s,(Oa=l)&&!u)for(yt=i;yt!==null;)s=yt,l=s.child,s.tag===22&&s.memoizedState!==null?fL(i):l!==null?(l.return=s,yt=l):fL(i);for(;a!==null;)yt=a,oq(a),a=a.sibling;yt=i,Hw=o,Oa=u}dL(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,yt=a):dL(t)}}function dL(t){for(;yt!==null;){var e=yt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oa||X5(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Oa)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:dl(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Y6(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Y6(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&G1(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}Oa||e.flags&512&&kT(e)}catch(p){di(e,e.return,p)}}if(e===t){yt=null;break}if(r=e.sibling,r!==null){r.return=e.return,yt=r;break}yt=e.return}}function hL(t){for(;yt!==null;){var e=yt;if(e===t){yt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,yt=r;break}yt=e.return}}function fL(t){for(;yt!==null;){var e=yt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{X5(4,e)}catch(l){di(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){di(e,i,l)}}var a=e.return;try{kT(e)}catch(l){di(e,a,l)}break;case 5:var s=e.return;try{kT(e)}catch(l){di(e,s,l)}}}catch(l){di(e,e.return,l)}if(e===t){yt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,yt=o;break}yt=e.return}}var bse=Math.ceil,G_=Ju.ReactCurrentDispatcher,MI=Ju.ReactCurrentOwner,Wo=Ju.ReactCurrentBatchConfig,zr=0,ra=null,Ti=null,pa=0,Zs=0,Sg=df(0),zi=0,ib=null,Up=0,Q5=0,$I=0,g1=null,As=null,FI=0,Av=1/0,fu=null,K_=!1,RT=null,Ah=null,Gw=!1,fh=null,Y_=0,v1=0,DT=null,K2=-1,Y2=0;function os(){return zr&6?yi():K2!==-1?K2:K2=yi()}function Nh(t){return t.mode&1?zr&2&&pa!==0?pa&-pa:rse.transition!==null?(Y2===0&&(Y2=WV()),Y2):(t=on,t!==0||(t=window.event,t=t===void 0?16:JV(t.type)),t):1}function Sl(t,e,r,n){if(50<v1)throw v1=0,DT=null,Error(Qe(185));wx(t,r,n),(!(zr&2)||t!==ra)&&(t===ra&&(!(zr&2)&&(Q5|=r),zi===4&&Kd(t,pa)),Os(t,n),r===1&&zr===0&&!(e.mode&1)&&(Av=yi()+500,G5&&hf()))}function Os(t,e){var r=t.callbackNode;rae(t,e);var n=I_(t,t===ra?pa:0);if(n===0)r!==null&&_6(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&_6(r),e===1)t.tag===0?tse(pL.bind(null,t)):vz(pL.bind(null,t)),Qae(function(){!(zr&6)&&hf()}),r=null;else{switch(HV(n)){case 1:r=dI;break;case 4:r=zV;break;case 16:r=k_;break;case 536870912:r=qV;break;default:r=k_}r=mq(r,lq.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function lq(t,e){if(K2=-1,Y2=0,zr&6)throw Error(Qe(327));var r=t.callbackNode;if(Mg()&&t.callbackNode!==r)return null;var n=I_(t,t===ra?pa:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=X_(t,n);else{e=n;var i=zr;zr|=2;var a=uq();(ra!==t||pa!==e)&&(fu=null,Av=yi()+500,Tp(t,e));do try{_se();break}catch(o){cq(t,o)}while(!0);AI(),G_.current=a,zr=i,Ti!==null?e=0:(ra=null,pa=0,e=zi)}if(e!==0){if(e===2&&(i=lT(t),i!==0&&(n=i,e=LT(t,i))),e===1)throw r=ib,Tp(t,0),Kd(t,n),Os(t,yi()),r;if(e===6)Kd(t,n);else{if(i=t.current.alternate,!(n&30)&&!xse(i)&&(e=X_(t,n),e===2&&(a=lT(t),a!==0&&(n=a,e=LT(t,a))),e===1))throw r=ib,Tp(t,0),Kd(t,n),Os(t,yi()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Qe(345));case 2:Xf(t,As,fu);break;case 3:if(Kd(t,n),(n&130023424)===n&&(e=FI+500-yi(),10<e)){if(I_(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){os(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gT(Xf.bind(null,t,As,fu),e);break}Xf(t,As,fu);break;case 4:if(Kd(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-_l(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=yi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bse(n/1960))-n,10<n){t.timeoutHandle=gT(Xf.bind(null,t,As,fu),n);break}Xf(t,As,fu);break;case 5:Xf(t,As,fu);break;default:throw Error(Qe(329))}}}return Os(t,yi()),t.callbackNode===r?lq.bind(null,t):null}function LT(t,e){var r=g1;return t.current.memoizedState.isDehydrated&&(Tp(t,e).flags|=256),t=X_(t,e),t!==2&&(e=As,As=r,e!==null&&MT(e)),t}function MT(t){As===null?As=t:As.push.apply(As,t)}function xse(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!El(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kd(t,e){for(e&=~$I,e&=~Q5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_l(e),n=1<<r;t[r]=-1,e&=~n}}function pL(t){if(zr&6)throw Error(Qe(327));Mg();var e=I_(t,0);if(!(e&1))return Os(t,yi()),null;var r=X_(t,e);if(t.tag!==0&&r===2){var n=lT(t);n!==0&&(e=n,r=LT(t,n))}if(r===1)throw r=ib,Tp(t,0),Kd(t,e),Os(t,yi()),r;if(r===6)throw Error(Qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xf(t,As,fu),Os(t,yi()),null}function BI(t,e){var r=zr;zr|=1;try{return t(e)}finally{zr=r,zr===0&&(Av=yi()+500,G5&&hf())}}function Vp(t){fh!==null&&fh.tag===0&&!(zr&6)&&Mg();var e=zr;zr|=1;var r=Wo.transition,n=on;try{if(Wo.transition=null,on=1,t)return t()}finally{on=n,Wo.transition=r,zr=e,!(zr&6)&&hf()}}function UI(){Zs=Sg.current,qn(Sg)}function Tp(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Xae(r)),Ti!==null)for(r=Ti.return;r!==null;){var n=r;switch(wI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&M_();break;case 3:_v(),qn(ks),qn($a),CI();break;case 5:TI(n);break;case 4:_v();break;case 13:qn(Jn);break;case 19:qn(Jn);break;case 10:NI(n.type._context);break;case 22:case 23:UI()}r=r.return}if(ra=t,Ti=t=Eh(t.current,null),pa=Zs=e,zi=0,ib=null,$I=Q5=Up=0,As=g1=null,up!==null){for(e=0;e<up.length;e++)if(r=up[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}up=null}return t}function cq(t,e){do{var r=Ti;try{if(AI(),W2.current=H_,W_){for(var n=ni.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}W_=!1}if(Bp=0,Zi=Ui=ni=null,p1=!1,tb=0,MI.current=null,r===null||r.return===null){zi=1,ib=e,Ti=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=pa,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=tL(s);if(f!==null){f.flags&=-257,rL(f,s,o,a,e),f.mode&1&&eL(a,u,e),e=f,l=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){eL(a,u,e),VI();break e}l=Error(Qe(426))}}else if(Gn&&o.mode&1){var g=tL(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),rL(g,s,o,a,e),_I(Sv(l,o));break e}}a=l=Sv(l,o),zi!==4&&(zi=2),g1===null?g1=[a]:g1.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=Hz(a,l,e);K6(a,y);break e;case 1:o=l;var x=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ah===null||!Ah.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=Gz(a,o,e);K6(a,S);break e}}a=a.return}while(a!==null)}hq(r)}catch(N){e=N,Ti===r&&r!==null&&(Ti=r=r.return);continue}break}while(!0)}function uq(){var t=G_.current;return G_.current=H_,t===null?H_:t}function VI(){(zi===0||zi===3||zi===2)&&(zi=4),ra===null||!(Up&268435455)&&!(Q5&268435455)||Kd(ra,pa)}function X_(t,e){var r=zr;zr|=2;var n=uq();(ra!==t||pa!==e)&&(fu=null,Tp(t,e));do try{wse();break}catch(i){cq(t,i)}while(!0);if(AI(),zr=r,G_.current=n,Ti!==null)throw Error(Qe(261));return ra=null,pa=0,zi}function wse(){for(;Ti!==null;)dq(Ti)}function _se(){for(;Ti!==null&&!Gie();)dq(Ti)}function dq(t){var e=pq(t.alternate,t,Zs);t.memoizedProps=t.pendingProps,e===null?hq(t):Ti=e,MI.current=null}function hq(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=mse(r,e),r!==null){r.flags&=32767,Ti=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zi=6,Ti=null;return}}else if(r=pse(r,e,Zs),r!==null){Ti=r;return}if(e=e.sibling,e!==null){Ti=e;return}Ti=e=t}while(e!==null);zi===0&&(zi=5)}function Xf(t,e,r){var n=on,i=Wo.transition;try{Wo.transition=null,on=1,Sse(t,e,r,n)}finally{Wo.transition=i,on=n}return null}function Sse(t,e,r,n){do Mg();while(fh!==null);if(zr&6)throw Error(Qe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Qe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(nae(t,a),t===ra&&(Ti=ra=null,pa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gw||(Gw=!0,mq(k_,function(){return Mg(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Wo.transition,Wo.transition=null;var s=on;on=1;var o=zr;zr|=4,MI.current=null,vse(t,r),sq(r,t),zae(pT),O_=!!fT,pT=fT=null,t.current=r,yse(r),Kie(),zr=o,on=s,Wo.transition=a}else t.current=r;if(Gw&&(Gw=!1,fh=t,Y_=i),a=t.pendingLanes,a===0&&(Ah=null),Qie(r.stateNode),Os(t,yi()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(K_)throw K_=!1,t=RT,RT=null,t;return Y_&1&&t.tag!==0&&Mg(),a=t.pendingLanes,a&1?t===DT?v1++:(v1=0,DT=t):v1=0,hf(),null}function Mg(){if(fh!==null){var t=HV(Y_),e=Wo.transition,r=on;try{if(Wo.transition=null,on=16>t?16:t,fh===null)var n=!1;else{if(t=fh,fh=null,Y_=0,zr&6)throw Error(Qe(331));var i=zr;for(zr|=4,yt=t.current;yt!==null;){var a=yt,s=a.child;if(yt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(yt=u;yt!==null;){var d=yt;switch(d.tag){case 0:case 11:case 15:m1(8,d,a)}var h=d.child;if(h!==null)h.return=d,yt=h;else for(;yt!==null;){d=yt;var p=d.sibling,f=d.return;if(nq(d),d===u){yt=null;break}if(p!==null){p.return=f,yt=p;break}yt=f}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}yt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,yt=s;else e:for(;yt!==null;){if(a=yt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:m1(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,yt=y;break e}yt=a.return}}var x=t.current;for(yt=x;yt!==null;){s=yt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,yt=_;else e:for(s=x;yt!==null;){if(o=yt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:X5(9,o)}}catch(N){di(o,o.return,N)}if(o===s){yt=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,yt=S;break e}yt=o.return}}if(zr=i,hf(),yc&&typeof yc.onPostCommitFiberRoot=="function")try{yc.onPostCommitFiberRoot(V5,t)}catch{}n=!0}return n}finally{on=r,Wo.transition=e}}return!1}function mL(t,e,r){e=Sv(r,e),e=Hz(t,e,1),t=Sh(t,e,1),e=os(),t!==null&&(wx(t,1,e),Os(t,e))}function di(t,e,r){if(t.tag===3)mL(t,t,r);else for(;e!==null;){if(e.tag===3){mL(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ah===null||!Ah.has(n))){t=Sv(r,t),t=Gz(e,t,1),e=Sh(e,t,1),t=os(),e!==null&&(wx(e,1,t),Os(e,t));break}}e=e.return}}function Ase(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=os(),t.pingedLanes|=t.suspendedLanes&r,ra===t&&(pa&r)===r&&(zi===4||zi===3&&(pa&130023424)===pa&&500>yi()-FI?Tp(t,0):$I|=r),Os(t,e)}function fq(t,e){e===0&&(t.mode&1?(e=Mw,Mw<<=1,!(Mw&130023424)&&(Mw=4194304)):e=1);var r=os();t=Bu(t,e),t!==null&&(wx(t,e,r),Os(t,r))}function Nse(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fq(t,r)}function Ese(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Qe(314))}n!==null&&n.delete(e),fq(t,r)}var pq;pq=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ks.current)js=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return js=!1,fse(t,e,r);js=!!(t.flags&131072)}else js=!1,Gn&&e.flags&1048576&&yz(e,B_,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;G2(t,e),t=e.pendingProps;var i=bv(e,$a.current);Lg(e,r),i=II(null,e,n,t,i,r);var a=OI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Is(n)?(a=!0,$_(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jI(e),i.updater=Y5,e.stateNode=i,i._reactInternals=e,ST(e,n,t,r),e=ET(null,e,n,!0,a,r)):(e.tag=0,Gn&&a&&xI(e),Xa(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(G2(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Pse(n),t=dl(n,t),i){case 0:e=NT(null,e,n,t,r);break e;case 1:e=aL(null,e,n,t,r);break e;case 11:e=nL(null,e,n,t,r);break e;case 14:e=iL(null,e,n,dl(n.type,t),r);break e}throw Error(Qe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dl(n,i),NT(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dl(n,i),aL(t,e,n,i,r);case 3:e:{if(Qz(e),t===null)throw Error(Qe(387));n=e.pendingProps,a=e.memoizedState,i=a.element,Az(t,e),z_(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Sv(Error(Qe(423)),e),e=sL(t,e,n,r,i);break e}else if(n!==i){i=Sv(Error(Qe(424)),e),e=sL(t,e,n,r,i);break e}else for(no=_h(e.stateNode.containerInfo.firstChild),oo=e,Gn=!0,vl=null,r=_z(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xv(),n===i){e=Uu(t,e,r);break e}Xa(t,e,n,r)}e=e.child}return e;case 5:return Nz(e),t===null&&xT(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,mT(n,i)?s=null:a!==null&&mT(n,a)&&(e.flags|=32),Xz(t,e),Xa(t,e,s,r),e.child;case 6:return t===null&&xT(e),null;case 13:return Jz(t,e,r);case 4:return PI(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wv(e,null,n,r):Xa(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dl(n,i),nL(t,e,n,i,r);case 7:return Xa(t,e,e.pendingProps,r),e.child;case 8:return Xa(t,e,e.pendingProps.children,r),e.child;case 12:return Xa(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,kn(U_,n._currentValue),n._currentValue=s,a!==null)if(El(a.value,s)){if(a.children===i.children&&!ks.current){e=Uu(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Pu(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),wT(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Qe(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),wT(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Xa(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Lg(e,r),i=Ko(i),n=n(i),e.flags|=1,Xa(t,e,n,r),e.child;case 14:return n=e.type,i=dl(n,e.pendingProps),i=dl(n.type,i),iL(t,e,n,i,r);case 15:return Kz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dl(n,i),G2(t,e),e.tag=1,Is(n)?(t=!0,$_(e)):t=!1,Lg(e,r),Wz(e,n,i),ST(e,n,i,r),ET(null,e,n,!0,t,r);case 19:return Zz(t,e,r);case 22:return Yz(t,e,r)}throw Error(Qe(156,e.tag))};function mq(t,e){return VV(t,e)}function jse(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zo(t,e,r,n){return new jse(t,e,r,n)}function zI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pse(t){if(typeof t=="function")return zI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lI)return 11;if(t===cI)return 14}return 2}function Eh(t,e){var r=t.alternate;return r===null?(r=zo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function X2(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")zI(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fg:return Cp(r.children,i,a,e);case oI:s=8,i|=8;break;case GP:return t=zo(12,r,e,i|2),t.elementType=GP,t.lanes=a,t;case KP:return t=zo(13,r,e,i),t.elementType=KP,t.lanes=a,t;case YP:return t=zo(19,r,e,i),t.elementType=YP,t.lanes=a,t;case NV:return J5(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SV:s=10;break e;case AV:s=9;break e;case lI:s=11;break e;case cI:s=14;break e;case zd:s=16,n=null;break e}throw Error(Qe(130,t==null?t:typeof t,""))}return e=zo(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Cp(t,e,r,n){return t=zo(7,t,n,e),t.lanes=r,t}function J5(t,e,r,n){return t=zo(22,t,n,e),t.elementType=NV,t.lanes=r,t.stateNode={isHidden:!1},t}function GE(t,e,r){return t=zo(6,t,null,e),t.lanes=r,t}function KE(t,e,r){return e=zo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tse(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=PE(0),this.expirationTimes=PE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=PE(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qI(t,e,r,n,i,a,s,o,l){return t=new Tse(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=zo(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jI(a),t}function Cse(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hg,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gq(t){if(!t)return zh;t=t._reactInternals;e:{if(mm(t)!==t||t.tag!==1)throw Error(Qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qe(171))}if(t.tag===1){var r=t.type;if(Is(r))return gz(t,r,e)}return e}function vq(t,e,r,n,i,a,s,o,l){return t=qI(r,n,!0,t,i,a,s,o,l),t.context=gq(null),r=t.current,n=os(),i=Nh(r),a=Pu(n,i),a.callback=e??null,Sh(r,a,i),t.current.lanes=i,wx(t,i,n),Os(t,n),t}function Z5(t,e,r,n){var i=e.current,a=os(),s=Nh(i);return r=gq(r),e.context===null?e.context=r:e.pendingContext=r,e=Pu(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Sh(i,e,s),t!==null&&(Sl(t,i,s,a),q2(t,i,s)),s}function Q_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function WI(t,e){gL(t,e),(t=t.alternate)&&gL(t,e)}function kse(){return null}var yq=typeof reportError=="function"?reportError:function(t){console.error(t)};function HI(t){this._internalRoot=t}eA.prototype.render=HI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Qe(409));Z5(t,e,null,null)};eA.prototype.unmount=HI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vp(function(){Z5(null,t,null,null)}),e[Fu]=null}};function eA(t){this._internalRoot=t}eA.prototype.unstable_scheduleHydration=function(t){if(t){var e=YV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Gd.length&&e!==0&&e<Gd[r].priority;r++);Gd.splice(r,0,t),r===0&&QV(t)}};function GI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vL(){}function Ise(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Q_(s);a.call(u)}}var s=vq(e,n,t,0,null,!1,!1,"",vL);return t._reactRootContainer=s,t[Fu]=s.current,X1(t.nodeType===8?t.parentNode:t),Vp(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Q_(l);o.call(u)}}var l=qI(t,0,!1,null,null,!1,!1,"",vL);return t._reactRootContainer=l,t[Fu]=l.current,X1(t.nodeType===8?t.parentNode:t),Vp(function(){Z5(e,l,r,n)}),l}function rA(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Q_(s);o.call(l)}}Z5(e,s,t,i)}else s=Ise(r,e,t,i,n);return Q_(s)}GV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=K0(e.pendingLanes);r!==0&&(hI(e,r|1),Os(e,yi()),!(zr&6)&&(Av=yi()+500,hf()))}break;case 13:Vp(function(){var n=Bu(t,1);if(n!==null){var i=os();Sl(n,t,1,i)}}),WI(t,1)}};fI=function(t){if(t.tag===13){var e=Bu(t,134217728);if(e!==null){var r=os();Sl(e,t,134217728,r)}WI(t,134217728)}};KV=function(t){if(t.tag===13){var e=Nh(t),r=Bu(t,e);if(r!==null){var n=os();Sl(r,t,e,n)}WI(t,e)}};YV=function(){return on};XV=function(t,e){var r=on;try{return on=t,e()}finally{on=r}};aT=function(t,e,r){switch(e){case"input":if(JP(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=H5(n);if(!i)throw Error(Qe(90));jV(n),JP(n,i)}}}break;case"textarea":TV(t,r);break;case"select":e=r.value,e!=null&&Ig(t,!!r.multiple,e,!1)}};LV=BI;MV=Vp;var Ose={usingClientEntryPoint:!1,Events:[Sx,vg,H5,RV,DV,BI]},E0={findFiberByHostInstance:cp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rse={bundleType:E0.bundleType,version:E0.version,rendererPackageName:E0.rendererPackageName,rendererConfig:E0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ju.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BV(t),t===null?null:t.stateNode},findFiberByHostInstance:E0.findFiberByHostInstance||kse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kw.isDisabled&&Kw.supportsFiber)try{V5=Kw.inject(Rse),yc=Kw}catch{}}po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ose;po.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GI(e))throw Error(Qe(200));return Cse(t,e,null,r)};po.createRoot=function(t,e){if(!GI(t))throw Error(Qe(299));var r=!1,n="",i=yq;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qI(t,1,!1,null,null,r,!1,n,i),t[Fu]=e.current,X1(t.nodeType===8?t.parentNode:t),new HI(e)};po.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Qe(188)):(t=Object.keys(t).join(","),Error(Qe(268,t)));return t=BV(e),t=t===null?null:t.stateNode,t};po.flushSync=function(t){return Vp(t)};po.hydrate=function(t,e,r){if(!tA(e))throw Error(Qe(200));return rA(null,t,e,!0,r)};po.hydrateRoot=function(t,e,r){if(!GI(t))throw Error(Qe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=yq;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=vq(e,null,t,1,r??null,i,!1,a,s),t[Fu]=e.current,X1(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new eA(e)};po.render=function(t,e,r){if(!tA(e))throw Error(Qe(200));return rA(null,t,e,!1,r)};po.unmountComponentAtNode=function(t){if(!tA(t))throw Error(Qe(40));return t._reactRootContainer?(Vp(function(){rA(null,null,t,!1,function(){t._reactRootContainer=null,t[Fu]=null})}),!0):!1};po.unstable_batchedUpdates=BI;po.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tA(r))throw Error(Qe(200));if(t==null||t._reactInternals===void 0)throw Error(Qe(38));return rA(t,e,r,!1,n)};po.version="18.3.1-next-f1338f8080-20240426";function bq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bq)}catch(t){console.error(t)}}bq(),bV.exports=po;var gm=bV.exports;const xq=Zr(gm);var wq,yL=gm;wq=yL.createRoot,yL.hydrateRoot;const Dse=1,Lse=1e6;let YE=0;function Mse(){return YE=(YE+1)%Number.MAX_SAFE_INTEGER,YE.toString()}const XE=new Map,bL=t=>{if(XE.has(t))return;const e=setTimeout(()=>{XE.delete(t),y1({type:"REMOVE_TOAST",toastId:t})},Lse);XE.set(t,e)},$se=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Dse)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?bL(r):t.toasts.forEach(n=>{bL(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Q2=[];let J2={toasts:[]};function y1(t){J2=$se(J2,t),Q2.forEach(e=>{e(J2)})}function Fse({...t}){const e=Mse(),r=i=>y1({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>y1({type:"DISMISS_TOAST",toastId:e});return y1({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Bse(){const[t,e]=P.useState(J2);return P.useEffect(()=>(Q2.push(e),()=>{const r=Q2.indexOf(e);r>-1&&Q2.splice(r,1)}),[t]),{...t,toast:Fse,dismiss:r=>y1({type:"DISMISS_TOAST",toastId:r})}}function It(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function xL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _q(...t){return e=>{let r=!1;const n=t.map(i=>{const a=xL(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():xL(t[i],null)}}}}function Mr(...t){return P.useCallback(_q(...t),t)}function Use(t,e){const r=P.createContext(e),n=a=>{const{children:s,...o}=a,l=P.useMemo(()=>o,Object.values(o));return c.jsx(r.Provider,{value:l,children:s})};n.displayName=t+"Provider";function i(a){const s=P.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function go(t,e=[]){let r=[];function n(a,s){const o=P.createContext(s),l=r.length;r=[...r,s];const u=h=>{var y;const{scope:p,children:f,...v}=h,m=((y=p==null?void 0:p[t])==null?void 0:y[l])||o,g=P.useMemo(()=>v,Object.values(v));return c.jsx(m.Provider,{value:g,children:f})};u.displayName=a+"Provider";function d(h,p){var m;const f=((m=p==null?void 0:p[t])==null?void 0:m[l])||o,v=P.useContext(f);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>P.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return P.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,Vse(i,...e)]}function Vse(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(a)[`__scope${u}`];return{...o,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function zp(t){const e=qse(t),r=P.forwardRef((n,i)=>{const{children:a,...s}=n,o=P.Children.toArray(a),l=o.find(Wse);if(l){const u=l.props.children,d=o.map(h=>h===l?P.Children.count(u)>1?P.Children.only(null):P.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...s,ref:i,children:P.isValidElement(u)?P.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var zse=zp("Slot");function qse(t){const e=P.forwardRef((r,n)=>{const{children:i,...a}=r;if(P.isValidElement(i)){const s=Gse(i),o=Hse(a,i.props);return i.type!==P.Fragment&&(o.ref=n?_q(n,s):s),P.cloneElement(i,o)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Sq=Symbol("radix.slottable");function Aq(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Sq,e}function Wse(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Sq}function Hse(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const l=a(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Gse(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function nA(t){const e=t+"CollectionProvider",[r,n]=go(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:g,children:y}=m,x=ue.useRef(null),_=ue.useRef(new Map).current;return c.jsx(i,{scope:g,itemMap:_,collectionRef:x,children:y})};s.displayName=e;const o=t+"CollectionSlot",l=zp(o),u=ue.forwardRef((m,g)=>{const{scope:y,children:x}=m,_=a(o,y),S=Mr(g,_.collectionRef);return c.jsx(l,{ref:S,children:x})});u.displayName=o;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=zp(d),f=ue.forwardRef((m,g)=>{const{scope:y,children:x,..._}=m,S=ue.useRef(null),N=Mr(g,S),C=a(d,y);return ue.useEffect(()=>(C.itemMap.set(S,{ref:S,..._}),()=>void C.itemMap.delete(S))),c.jsx(p,{[h]:"",ref:N,children:x})});f.displayName=d;function v(m){const g=a(t+"CollectionConsumer",m);return ue.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((C,j)=>_.indexOf(C.ref.current)-_.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:u,ItemSlot:f},v,n]}var Kse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=Kse.reduce((t,e)=>{const r=zp(`Primitive.${e}`),n=P.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Nq(t,e){t&&gm.flushSync(()=>t.dispatchEvent(e))}function Xo(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Yse(t,e=globalThis==null?void 0:globalThis.document){const r=Xo(t);P.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Xse="DismissableLayer",$T="dismissableLayer.update",Qse="dismissableLayer.pointerDownOutside",Jse="dismissableLayer.focusOutside",wL,Eq=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),by=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,u=P.useContext(Eq),[d,h]=P.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=P.useState({}),v=Mr(e,j=>h(j)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),x=d?m.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,N=eoe(j=>{const E=j.target,I=[...u.branches].some(D=>D.contains(E));!S||I||(i==null||i(j),s==null||s(j),j.defaultPrevented||o==null||o())},p),C=toe(j=>{const E=j.target;[...u.branches].some(D=>D.contains(E))||(a==null||a(j),s==null||s(j),j.defaultPrevented||o==null||o())},p);return Yse(j=>{x===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},p),P.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wL=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),_L(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=wL)}},[d,p,r,u]),P.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),_L())},[d,u]),P.useEffect(()=>{const j=()=>f({});return document.addEventListener($T,j),()=>document.removeEventListener($T,j)},[]),c.jsx(Ht.div,{...l,ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:It(t.onFocusCapture,C.onFocusCapture),onBlurCapture:It(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:It(t.onPointerDownCapture,N.onPointerDownCapture)})});by.displayName=Xse;var Zse="DismissableLayerBranch",jq=P.forwardRef((t,e)=>{const r=P.useContext(Eq),n=P.useRef(null),i=Mr(e,n);return P.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),c.jsx(Ht.div,{...t,ref:i})});jq.displayName=Zse;function eoe(t,e=globalThis==null?void 0:globalThis.document){const r=Xo(t),n=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let l=function(){Pq(Qse,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function toe(t,e=globalThis==null?void 0:globalThis.document){const r=Xo(t),n=P.useRef(!1);return P.useEffect(()=>{const i=a=>{a.target&&!n.current&&Pq(Jse,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _L(){const t=new CustomEvent($T);document.dispatchEvent(t)}function Pq(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Nq(i,a):i.dispatchEvent(a)}var roe=by,noe=jq,na=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},ioe="Portal",Nx=P.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,a]=P.useState(!1);na(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?xq.createPortal(c.jsx(Ht.div,{...n,ref:e}),s):null});Nx.displayName=ioe;function aoe(t,e){return P.useReducer((r,n)=>e[r][n]??r,t)}var Lc=t=>{const{present:e,children:r}=t,n=soe(e),i=typeof r=="function"?r({present:n.isPresent}):P.Children.only(r),a=Mr(n.ref,ooe(i));return typeof r=="function"||n.isPresent?P.cloneElement(i,{ref:a}):null};Lc.displayName="Presence";function soe(t){const[e,r]=P.useState(),n=P.useRef(null),i=P.useRef(t),a=P.useRef("none"),s=t?"mounted":"unmounted",[o,l]=aoe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const u=Yw(n.current);a.current=o==="mounted"?u:"none"},[o]),na(()=>{const u=n.current,d=i.current;if(d!==t){const p=a.current,f=Yw(u);t?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),na(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=f=>{const m=Yw(n.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=f=>{f.target===e&&(a.current=Yw(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:P.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Yw(t){return(t==null?void 0:t.animationName)||"none"}function ooe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var loe=nI[" useInsertionEffect ".trim().toString()]||na;function jl({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,s]=coe({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const d=P.useRef(t!==void 0);P.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=P.useCallback(d=>{var h;if(o){const p=uoe(d)?d(t):d;p!==t&&((h=s.current)==null||h.call(s,p))}else a(d)},[o,t,a,s]);return[l,u]}function coe({defaultProp:t,onChange:e}){const[r,n]=P.useState(t),i=P.useRef(r),a=P.useRef(e);return loe(()=>{a.current=e},[e]),P.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function uoe(t){return typeof t=="function"}var Tq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),doe="VisuallyHidden",iA=P.forwardRef((t,e)=>c.jsx(Ht.span,{...t,ref:e,style:{...Tq,...t.style}}));iA.displayName=doe;var hoe=iA,KI="ToastProvider",[YI,foe,poe]=nA("Toast"),[Cq,HJe]=go("Toast",[poe]),[moe,aA]=Cq(KI),kq=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,l]=P.useState(null),[u,d]=P.useState(0),h=P.useRef(!1),p=P.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${KI}\`. Expected non-empty \`string\`.`),c.jsx(YI.Provider,{scope:e,children:c.jsx(moe,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:P.useCallback(()=>d(f=>f+1),[]),onToastRemove:P.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:s})})};kq.displayName=KI;var Iq="ToastViewport",goe=["F8"],FT="toast.viewportPause",BT="toast.viewportResume",Oq=P.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=goe,label:i="Notifications ({hotkey})",...a}=t,s=aA(Iq,r),o=foe(r),l=P.useRef(null),u=P.useRef(null),d=P.useRef(null),h=P.useRef(null),p=Mr(e,h,s.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;P.useEffect(()=>{const g=y=>{var _;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),P.useEffect(()=>{const g=l.current,y=h.current;if(v&&g&&y){const x=()=>{if(!s.isClosePausedRef.current){const C=new CustomEvent(FT);y.dispatchEvent(C),s.isClosePausedRef.current=!0}},_=()=>{if(s.isClosePausedRef.current){const C=new CustomEvent(BT);y.dispatchEvent(C),s.isClosePausedRef.current=!1}},S=C=>{!g.contains(C.relatedTarget)&&_()},N=()=>{g.contains(document.activeElement)||_()};return g.addEventListener("focusin",x),g.addEventListener("focusout",S),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",S),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[v,s.isClosePausedRef]);const m=P.useCallback(({tabbingDirection:g})=>{const x=o().map(_=>{const S=_.ref.current,N=[S,...Toe(S)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?x.reverse():x).flat()},[o]);return P.useEffect(()=>{const g=h.current;if(g){const y=x=>{var N,C,j;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const E=document.activeElement,I=x.shiftKey;if(x.target===g&&I){(N=u.current)==null||N.focus();return}const O=m({tabbingDirection:I?"backwards":"forwards"}),L=O.findIndex(z=>z===E);QE(O.slice(L+1))?x.preventDefault():I?(C=u.current)==null||C.focus():(j=d.current)==null||j.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[o,m]),c.jsxs(noe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(UT,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});QE(g)}}),c.jsx(YI.Slot,{scope:r,children:c.jsx(Ht.ol,{tabIndex:-1,...a,ref:p})}),v&&c.jsx(UT,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});QE(g)}})]})});Oq.displayName=Iq;var Rq="ToastFocusProxy",UT=P.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=aA(Rq,r);return c.jsx(iA,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});UT.displayName=Rq;var Ex="Toast",voe="toast.swipeStart",yoe="toast.swipeMove",boe="toast.swipeCancel",xoe="toast.swipeEnd",Dq=P.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=t,[o,l]=jl({prop:n,defaultProp:i??!0,onChange:a,caller:Ex});return c.jsx(Lc,{present:r||o,children:c.jsx(Soe,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:Xo(t.onPause),onResume:Xo(t.onResume),onSwipeStart:It(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:It(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:It(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:It(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Dq.displayName=Ex;var[woe,_oe]=Cq(Ex,{onClose(){}}),Soe=P.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...v}=t,m=aA(Ex,r),[g,y]=P.useState(null),x=Mr(e,z=>y(z)),_=P.useRef(null),S=P.useRef(null),N=i||m.duration,C=P.useRef(0),j=P.useRef(N),E=P.useRef(0),{onToastAdd:I,onToastRemove:D}=m,k=Xo(()=>{var re;(g==null?void 0:g.contains(document.activeElement))&&((re=m.viewport)==null||re.focus()),s()}),O=P.useCallback(z=>{!z||z===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(k,z))},[k]);P.useEffect(()=>{const z=m.viewport;if(z){const re=()=>{O(j.current),u==null||u()},Y=()=>{const K=new Date().getTime()-C.current;j.current=j.current-K,window.clearTimeout(E.current),l==null||l()};return z.addEventListener(FT,Y),z.addEventListener(BT,re),()=>{z.removeEventListener(FT,Y),z.removeEventListener(BT,re)}}},[m.viewport,N,l,u,O]),P.useEffect(()=>{a&&!m.isClosePausedRef.current&&O(N)},[a,N,m.isClosePausedRef,O]),P.useEffect(()=>(I(),()=>D()),[I,D]);const L=P.useMemo(()=>g?Vq(g):null,[g]);return m.viewport?c.jsxs(c.Fragment,{children:[L&&c.jsx(Aoe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),c.jsx(woe,{scope:r,onClose:k,children:gm.createPortal(c.jsx(YI.ItemSlot,{scope:r,children:c.jsx(roe,{asChild:!0,onEscapeKeyDown:It(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||k(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:It(t.onKeyDown,z=>{z.key==="Escape"&&(o==null||o(z.nativeEvent),z.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:It(t.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:It(t.onPointerMove,z=>{if(!_.current)return;const re=z.clientX-_.current.x,Y=z.clientY-_.current.y,K=!!S.current,q=["left","right"].includes(m.swipeDirection),Z=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ve=q?Z(0,re):0,ce=q?0:Z(0,Y),F=z.pointerType==="touch"?10:2,V={x:ve,y:ce},G={originalEvent:z,delta:V};K?(S.current=V,Xw(yoe,h,G,{discrete:!1})):SL(V,m.swipeDirection,F)?(S.current=V,Xw(voe,d,G,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(re)>F||Math.abs(Y)>F)&&(_.current=null)}),onPointerUp:It(t.onPointerUp,z=>{const re=S.current,Y=z.target;if(Y.hasPointerCapture(z.pointerId)&&Y.releasePointerCapture(z.pointerId),S.current=null,_.current=null,re){const K=z.currentTarget,q={originalEvent:z,delta:re};SL(re,m.swipeDirection,m.swipeThreshold)?Xw(xoe,f,q,{discrete:!0}):Xw(boe,p,q,{discrete:!0}),K.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Aoe=t=>{const{__scopeToast:e,children:r,...n}=t,i=aA(Ex,e),[a,s]=P.useState(!1),[o,l]=P.useState(!1);return joe(()=>s(!0)),P.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(Nx,{asChild:!0,children:c.jsx(iA,{...n,children:a&&c.jsxs(c.Fragment,{children:[i.label," ",r]})})})},Noe="ToastTitle",Lq=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ht.div,{...n,ref:e})});Lq.displayName=Noe;var Eoe="ToastDescription",Mq=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ht.div,{...n,ref:e})});Mq.displayName=Eoe;var $q="ToastAction",Fq=P.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(Uq,{altText:r,asChild:!0,children:c.jsx(XI,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$q}\`. Expected non-empty \`string\`.`),null)});Fq.displayName=$q;var Bq="ToastClose",XI=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=_oe(Bq,r);return c.jsx(Uq,{asChild:!0,children:c.jsx(Ht.button,{type:"button",...n,ref:e,onClick:It(t.onClick,i.onClose)})})});XI.displayName=Bq;var Uq=P.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return c.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function Vq(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Poe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...Vq(n))}}),e}function Xw(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Nq(i,a):i.dispatchEvent(a)}var SL=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function joe(t=()=>{}){const e=Xo(t);na(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Poe(t){return t.nodeType===t.ELEMENT_NODE}function Toe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function QE(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Coe=kq,zq=Oq,qq=Dq,Wq=Lq,Hq=Mq,Gq=Fq,Kq=XI;function Yq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Yq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Yq(t))&&(n&&(n+=" "),n+=e);return n}const AL=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,NL=vr,jx=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return NL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const p=AL(d)||AL(h);return i[u][p]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...a,...o}[m]):{...a,...o}[m]===g})?[...u,h,p]:u},[]);return NL(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ioe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>P.createElement("svg",{ref:l,...Ioe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Xq("lucide",i),...o},[...s.map(([u,d])=>P.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const r=P.forwardRef(({className:n,...i},a)=>P.createElement(Ooe,{ref:a,iconNode:e,className:Xq(`lucide-${koe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Pt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Pt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=Pt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=Pt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=Pt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Pt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=Pt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=Pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=Pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Pt("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=Pt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Pt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=Pt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=Pt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=Pt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Pt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=Pt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Pt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=Pt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=Pt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=Pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Pt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=Pt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=Pt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=Pt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Pt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=Pt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=Pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=Pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=Pt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Pt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=Pt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=Pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Pt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=Pt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Pt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=Pt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Pt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=Pt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Pt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Pt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=Pt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=Pt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=Pt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),eO="-",Xoe=t=>{const e=Joe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(eO);return o[0]===""&&o.length!==1&&o.shift(),aW(o,e)||Qoe(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},aW=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?aW(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(eO);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},TL=/^\[(.+)\]$/,Qoe=t=>{if(TL.test(t)){const e=TL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Joe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return ele(Object.entries(t.classGroups),r).forEach(([a,s])=>{WT(s,n,a,e)}),n},WT=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:CL(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Zoe(i)){WT(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{WT(s,CL(e,a),r,n)})})},CL=(t,e)=>{let r=t;return e.split(eO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Zoe=t=>t.isThemeGetter,ele=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[r,i]}):t,tle=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},sW="!",rle=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,s=o=>{const l=[];let u=0,d=0,h;for(let g=0;g<o.length;g++){let y=o[g];if(u===0){if(y===i&&(n||o.slice(g,g+a)===e)){l.push(o.slice(d,g)),d=g+a;continue}if(y==="/"){h=g;continue}}y==="["?u++:y==="]"&&u--}const p=l.length===0?o:o.substring(d),f=p.startsWith(sW),v=f?p.substring(1):p,m=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:s}):s},nle=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},ile=t=>({cache:tle(t.cacheSize),parseClassName:rle(t),...Xoe(t)}),ale=/\s+/,sle=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(ale);let o="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let v=!!f,m=n(v?p.substring(0,f):p);if(!m){if(!v){o=u+(o.length>0?" "+o:o);continue}if(m=n(p),!m){o=u+(o.length>0?" "+o:o);continue}v=!1}const g=nle(d).join(":"),y=h?g+sW:g,x=y+m;if(a.includes(x))continue;a.push(x);const _=i(m,v);for(let S=0;S<_.length;++S){const N=_[S];a.push(y+N)}o=u+(o.length>0?" "+o:o)}return o};function ole(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=oW(e))&&(n&&(n+=" "),n+=r);return n}const oW=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=oW(t[n]))&&(r&&(r+=" "),r+=e);return r};function lle(t,...e){let r,n,i,a=s;function s(l){const u=e.reduce((d,h)=>h(d),t());return r=ile(u),n=r.cache.get,i=r.cache.set,a=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=sle(l,r);return i(l,d),d}return function(){return a(ole.apply(null,arguments))}}const $n=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},lW=/^\[(?:([a-z-]+):)?(.+)\]$/i,cle=/^\d+\/\d+$/,ule=new Set(["px","full","screen"]),dle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ple=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,iu=t=>Fg(t)||ule.has(t)||cle.test(t),Od=t=>xy(t,"length",Sle),Fg=t=>!!t&&!Number.isNaN(Number(t)),rj=t=>xy(t,"number",Fg),j0=t=>!!t&&Number.isInteger(Number(t)),gle=t=>t.endsWith("%")&&Fg(t.slice(0,-1)),pr=t=>lW.test(t),Rd=t=>dle.test(t),vle=new Set(["length","size","percentage"]),yle=t=>xy(t,vle,cW),ble=t=>xy(t,"position",cW),xle=new Set(["image","url"]),wle=t=>xy(t,xle,Nle),_le=t=>xy(t,"",Ale),P0=()=>!0,xy=(t,e,r)=>{const n=lW.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Sle=t=>hle.test(t)&&!fle.test(t),cW=()=>!1,Ale=t=>ple.test(t),Nle=t=>mle.test(t),Ele=()=>{const t=$n("colors"),e=$n("spacing"),r=$n("blur"),n=$n("brightness"),i=$n("borderColor"),a=$n("borderRadius"),s=$n("borderSpacing"),o=$n("borderWidth"),l=$n("contrast"),u=$n("grayscale"),d=$n("hueRotate"),h=$n("invert"),p=$n("gap"),f=$n("gradientColorStops"),v=$n("gradientColorStopPositions"),m=$n("inset"),g=$n("margin"),y=$n("opacity"),x=$n("padding"),_=$n("saturate"),S=$n("scale"),N=$n("sepia"),C=$n("skew"),j=$n("space"),E=$n("translate"),I=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",pr,e],O=()=>[pr,e],L=()=>["",iu,Od],z=()=>["auto",Fg,pr],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",pr],ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Fg,pr];return{cacheSize:500,separator:":",theme:{colors:[P0],spacing:[iu,Od],blur:["none","",Rd,pr],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Rd,pr],borderSpacing:O(),borderWidth:L(),contrast:ce(),grayscale:Z(),hueRotate:ce(),invert:Z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[gle,Od],inset:k(),margin:k(),opacity:ce(),padding:O(),saturate:ce(),scale:ce(),sepia:Z(),skew:ce(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",pr]}],container:["container"],columns:[{columns:[Rd]}],"break-after":[{"break-after":ve()}],"break-before":[{"break-before":ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),pr]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",j0,pr]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pr]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",j0,pr]}],"grid-cols":[{"grid-cols":[P0]}],"col-start-end":[{col:["auto",{span:["full",j0,pr]},pr]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[P0]}],"row-start-end":[{row:["auto",{span:[j0,pr]},pr]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pr,e]}],"min-w":[{"min-w":[pr,e,"min","max","fit"]}],"max-w":[{"max-w":[pr,e,"none","full","min","max","fit","prose",{screen:[Rd]},Rd]}],h:[{h:[pr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rd,Od]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rj]}],"font-family":[{font:[P0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pr]}],"line-clamp":[{"line-clamp":["none",Fg,rj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",iu,pr]}],"list-image":[{"list-image":["none",pr]}],"list-style-type":[{list:["none","disc","decimal",pr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",iu,Od]}],"underline-offset":[{"underline-offset":["auto",iu,pr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),ble]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wle]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[iu,pr]}],"outline-w":[{outline:[iu,Od]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[iu,Od]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rd,_le]}],"shadow-color":[{shadow:[P0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Rd,pr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pr]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",pr]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",pr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[j0,pr]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[iu,Od,rj]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jle=lle(Ele);function _t(...t){return jle(vr(t))}const Ple=Coe,uW=P.forwardRef(({className:t,...e},r)=>c.jsx(zq,{ref:r,className:_t("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));uW.displayName=zq.displayName;const Tle=jx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dW=P.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(qq,{ref:n,className:_t(Tle({variant:e}),t),...r}));dW.displayName=qq.displayName;const Cle=P.forwardRef(({className:t,...e},r)=>c.jsx(Gq,{ref:r,className:_t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Cle.displayName=Gq.displayName;const hW=P.forwardRef(({className:t,...e},r)=>c.jsx(Kq,{ref:r,className:_t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx($g,{className:"h-4 w-4"})}));hW.displayName=Kq.displayName;const fW=P.forwardRef(({className:t,...e},r)=>c.jsx(Wq,{ref:r,className:_t("text-sm font-semibold",t),...e}));fW.displayName=Wq.displayName;const pW=P.forwardRef(({className:t,...e},r)=>c.jsx(Hq,{ref:r,className:_t("text-sm opacity-90",t),...e}));pW.displayName=Hq.displayName;function kle(){const{toasts:t}=Bse();return c.jsxs(Ple,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return c.jsxs(dW,{...a,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(fW,{children:r}),n&&c.jsx(pW,{children:n})]}),i,c.jsx(hW,{})]},e)}),c.jsx(uW,{})]})}var kL=["light","dark"],Ile="(prefers-color-scheme: dark)",Ole=P.createContext(void 0),Rle={setTheme:t=>{},themes:[]},Dle=()=>{var t;return(t=P.useContext(Ole))!=null?t:Rle};P.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:l})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=i?kL.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,m=!1,g=!0)=>{let y=s?s[v]:v,x=m?v+"|| ''":`'${y}'`,_="";return i&&g&&!m&&kL.includes(v)&&(_+=`d.style.colorScheme = '${v}';`),r==="class"?m||y?_+=`c.add(${x})`:_+="null":y&&(_+=`d[s](n,${x})`),_},f=t?`!function(){${d}${p(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Ile}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${p(s?"x[e]":"e",!0)}}${u?"":"else{"+p(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${p(s?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${h}}catch(t){}}();`;return P.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var Lle=t=>{switch(t){case"success":return Fle;case"info":return Ule;case"warning":return Ble;case"error":return Vle;default:return null}},Mle=Array(12).fill(0),$le=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},Mle.map((r,n)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Fle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ble=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ule=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Vle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qle=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},HT=1,Wle=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:HT++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...i,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),a=n!==void 0,s,o=i.then(async u=>{if(s=["resolve",u],ue.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(Gle(u)&&!u.ok){a=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:h})}else if(r.success!==void 0){a=!1;let d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){a=!1;let d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var u;a&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),l=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||HT++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ws=new Wle,Hle=(t,e)=>{let r=(e==null?void 0:e.id)||HT++;return ws.addToast({title:t,...e,id:r}),r},Gle=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Kle=Hle,Yle=()=>ws.toasts,Xle=()=>ws.getActiveToasts(),We=Object.assign(Kle,{success:ws.success,info:ws.info,warning:ws.warning,error:ws.error,custom:ws.custom,message:ws.message,promise:ws.promise,dismiss:ws.dismiss,loading:ws.loading},{getHistory:Yle,getToasts:Xle});function Qle(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Qle(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zw(t){return t.label!==void 0}var Jle=3,Zle="32px",ece="16px",IL=4e3,tce=356,rce=14,nce=20,ice=200;function ol(...t){return t.filter(Boolean).join(" ")}function ace(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var sce=t=>{var e,r,n,i,a,s,o,l,u,d,h;let{invert:p,toast:f,unstyled:v,interacting:m,setHeights:g,visibleToasts:y,heights:x,index:_,toasts:S,expanded:N,removeToast:C,defaultRichColors:j,closeButton:E,style:I,cancelButtonStyle:D,actionButtonStyle:k,className:O="",descriptionClassName:L="",duration:z,position:re,gap:Y,loadingIcon:K,expandByDefault:q,classNames:Z,icons:ve,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:F}=t,[V,G]=ue.useState(null),[oe,J]=ue.useState(null),[ie,be]=ue.useState(!1),[he,T]=ue.useState(!1),[X,ne]=ue.useState(!1),[de,ge]=ue.useState(!1),[ee,Ne]=ue.useState(!1),[De,Le]=ue.useState(0),[_e,Pe]=ue.useState(0),je=ue.useRef(f.duration||z||IL),Me=ue.useRef(null),Je=ue.useRef(null),Gt=_===0,At=_+1<=y,ut=f.type,Lt=f.dismissible!==!1,Nt=f.className||"",St=f.descriptionClassName||"",kt=ue.useMemo(()=>x.findIndex(ot=>ot.toastId===f.id)||0,[x,f.id]),ct=ue.useMemo(()=>{var ot;return(ot=f.closeButton)!=null?ot:E},[f.closeButton,E]),Kt=ue.useMemo(()=>f.duration||z||IL,[f.duration,z]),zt=ue.useRef(0),dt=ue.useRef(0),Oe=ue.useRef(0),Ot=ue.useRef(null),[gt,Qt]=re.split("-"),Ae=ue.useMemo(()=>x.reduce((ot,ft,ur)=>ur>=kt?ot:ot+ft.height,0),[x,kt]),nt=qle(),tr=f.invert||p,it=ut==="loading";dt.current=ue.useMemo(()=>kt*Y+Ae,[kt,Ae]),ue.useEffect(()=>{je.current=Kt},[Kt]),ue.useEffect(()=>{be(!0)},[]),ue.useEffect(()=>{let ot=Je.current;if(ot){let ft=ot.getBoundingClientRect().height;return Pe(ft),g(ur=>[{toastId:f.id,height:ft,position:f.position},...ur]),()=>g(ur=>ur.filter(dr=>dr.toastId!==f.id))}},[g,f.id]),ue.useLayoutEffect(()=>{if(!ie)return;let ot=Je.current,ft=ot.style.height;ot.style.height="auto";let ur=ot.getBoundingClientRect().height;ot.style.height=ft,Pe(ur),g(dr=>dr.find(lt=>lt.toastId===f.id)?dr.map(lt=>lt.toastId===f.id?{...lt,height:ur}:lt):[{toastId:f.id,height:ur,position:f.position},...dr])},[ie,f.title,f.description,g,f.id]);let Ze=ue.useCallback(()=>{T(!0),Le(dt.current),g(ot=>ot.filter(ft=>ft.toastId!==f.id)),setTimeout(()=>{C(f)},ice)},[f,C,g,dt]);ue.useEffect(()=>{if(f.promise&&ut==="loading"||f.duration===1/0||f.type==="loading")return;let ot;return N||m||F&&nt?(()=>{if(Oe.current<zt.current){let ft=new Date().getTime()-zt.current;je.current=je.current-ft}Oe.current=new Date().getTime()})():je.current!==1/0&&(zt.current=new Date().getTime(),ot=setTimeout(()=>{var ft;(ft=f.onAutoClose)==null||ft.call(f,f),Ze()},je.current)),()=>clearTimeout(ot)},[N,m,f,ut,F,nt,Ze]),ue.useEffect(()=>{f.delete&&Ze()},[Ze,f.delete]);function mt(){var ot,ft,ur;return ve!=null&&ve.loading?ue.createElement("div",{className:ol(Z==null?void 0:Z.loader,(ot=f==null?void 0:f.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":ut==="loading"},ve.loading):K?ue.createElement("div",{className:ol(Z==null?void 0:Z.loader,(ft=f==null?void 0:f.classNames)==null?void 0:ft.loader,"sonner-loader"),"data-visible":ut==="loading"},K):ue.createElement($le,{className:ol(Z==null?void 0:Z.loader,(ur=f==null?void 0:f.classNames)==null?void 0:ur.loader),visible:ut==="loading"})}return ue.createElement("li",{tabIndex:0,ref:Je,className:ol(O,Nt,Z==null?void 0:Z.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[ut],(r=f==null?void 0:f.classNames)==null?void 0:r[ut]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:j,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":ie,"data-promise":!!f.promise,"data-swiped":ee,"data-removed":he,"data-visible":At,"data-y-position":gt,"data-x-position":Qt,"data-index":_,"data-front":Gt,"data-swiping":X,"data-dismissible":Lt,"data-type":ut,"data-invert":tr,"data-swipe-out":de,"data-swipe-direction":oe,"data-expanded":!!(N||q&&ie),style:{"--index":_,"--toasts-before":_,"--z-index":S.length-_,"--offset":`${he?De:dt.current}px`,"--initial-height":q?"auto":`${_e}px`,...I,...f.style},onDragEnd:()=>{ne(!1),G(null),Ot.current=null},onPointerDown:ot=>{it||!Lt||(Me.current=new Date,Le(dt.current),ot.target.setPointerCapture(ot.pointerId),ot.target.tagName!=="BUTTON"&&(ne(!0),Ot.current={x:ot.clientX,y:ot.clientY}))},onPointerUp:()=>{var ot,ft,ur,dr;if(de||!Lt)return;Ot.current=null;let lt=Number(((ot=Je.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qn=Number(((ft=Je.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rn=new Date().getTime()-((ur=Me.current)==null?void 0:ur.getTime()),$r=V==="x"?lt:Qn,cn=Math.abs($r)/Rn;if(Math.abs($r)>=nce||cn>.11){Le(dt.current),(dr=f.onDismiss)==null||dr.call(f,f),J(V==="x"?lt>0?"right":"left":Qn>0?"down":"up"),Ze(),ge(!0),Ne(!1);return}ne(!1),G(null)},onPointerMove:ot=>{var ft,ur,dr,lt;if(!Ot.current||!Lt||((ft=window.getSelection())==null?void 0:ft.toString().length)>0)return;let Qn=ot.clientY-Ot.current.y,Rn=ot.clientX-Ot.current.x,$r=(ur=t.swipeDirections)!=null?ur:ace(re);!V&&(Math.abs(Rn)>1||Math.abs(Qn)>1)&&G(Math.abs(Rn)>Math.abs(Qn)?"x":"y");let cn={x:0,y:0};V==="y"?($r.includes("top")||$r.includes("bottom"))&&($r.includes("top")&&Qn<0||$r.includes("bottom")&&Qn>0)&&(cn.y=Qn):V==="x"&&($r.includes("left")||$r.includes("right"))&&($r.includes("left")&&Rn<0||$r.includes("right")&&Rn>0)&&(cn.x=Rn),(Math.abs(cn.x)>0||Math.abs(cn.y)>0)&&Ne(!0),(dr=Je.current)==null||dr.style.setProperty("--swipe-amount-x",`${cn.x}px`),(lt=Je.current)==null||lt.style.setProperty("--swipe-amount-y",`${cn.y}px`)}},ct&&!f.jsx?ue.createElement("button",{"aria-label":ce,"data-disabled":it,"data-close-button":!0,onClick:it||!Lt?()=>{}:()=>{var ot;Ze(),(ot=f.onDismiss)==null||ot.call(f,f)},className:ol(Z==null?void 0:Z.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(a=ve==null?void 0:ve.close)!=null?a:zle):null,f.jsx||P.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:ue.createElement(ue.Fragment,null,ut||f.icon||f.promise?ue.createElement("div",{"data-icon":"",className:ol(Z==null?void 0:Z.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||mt():null,f.type!=="loading"?f.icon||(ve==null?void 0:ve[ut])||Lle(ut):null):null,ue.createElement("div",{"data-content":"",className:ol(Z==null?void 0:Z.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},ue.createElement("div",{"data-title":"",className:ol(Z==null?void 0:Z.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?ue.createElement("div",{"data-description":"",className:ol(L,St,Z==null?void 0:Z.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),P.isValidElement(f.cancel)?f.cancel:f.cancel&&Zw(f.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||D,onClick:ot=>{var ft,ur;Zw(f.cancel)&&Lt&&((ur=(ft=f.cancel).onClick)==null||ur.call(ft,ot),Ze())},className:ol(Z==null?void 0:Z.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,P.isValidElement(f.action)?f.action:f.action&&Zw(f.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:ot=>{var ft,ur;Zw(f.action)&&((ur=(ft=f.action).onClick)==null||ur.call(ft,ot),!ot.defaultPrevented&&Ze())},className:ol(Z==null?void 0:Z.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function OL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function oce(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",o=a?ece:Zle;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=o:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}var lce=P.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=Jle,toastOptions:m,dir:g=OL(),gap:y=rce,loadingIcon:x,icons:_,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:N}=t,[C,j]=ue.useState([]),E=ue.useMemo(()=>Array.from(new Set([n].concat(C.filter(F=>F.position).map(F=>F.position)))),[C,n]),[I,D]=ue.useState([]),[k,O]=ue.useState(!1),[L,z]=ue.useState(!1),[re,Y]=ue.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ue.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=ue.useRef(null),ve=ue.useRef(!1),ce=ue.useCallback(F=>{j(V=>{var G;return(G=V.find(oe=>oe.id===F.id))!=null&&G.delete||ws.dismiss(F.id),V.filter(({id:oe})=>oe!==F.id)})},[]);return ue.useEffect(()=>ws.subscribe(F=>{if(F.dismiss){j(V=>V.map(G=>G.id===F.id?{...G,delete:!0}:G));return}setTimeout(()=>{xq.flushSync(()=>{j(V=>{let G=V.findIndex(oe=>oe.id===F.id);return G!==-1?[...V.slice(0,G),{...V[G],...F},...V.slice(G+1)]:[F,...V]})})})}),[]),ue.useEffect(()=>{if(d!=="system"){Y(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:V})=>{Y(V?"dark":"light")})}catch{F.addListener(({matches:G})=>{try{Y(G?"dark":"light")}catch(oe){console.error(oe)}})}},[d]),ue.useEffect(()=>{C.length<=1&&O(!1)},[C]),ue.useEffect(()=>{let F=V=>{var G,oe;i.every(J=>V[J]||V.code===J)&&(O(!0),(G=K.current)==null||G.focus()),V.code==="Escape"&&(document.activeElement===K.current||(oe=K.current)!=null&&oe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),ue.useEffect(()=>{if(K.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,ve.current=!1)}},[K.current]),ue.createElement("section",{ref:e,"aria-label":`${S} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((F,V)=>{var G;let[oe,J]=F.split("-");return C.length?ue.createElement("ol",{key:F,dir:g==="auto"?OL():g,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":oe,"data-lifted":k&&C.length>1&&!a,"data-x-position":J,style:{"--front-toast-height":`${((G=I[0])==null?void 0:G.height)||0}px`,"--width":`${tce}px`,"--gap":`${y}px`,...f,...oce(l,u)},onBlur:ie=>{ve.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(ve.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||ve.current||(ve.current=!0,Z.current=ie.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},C.filter(ie=>!ie.position&&V===0||ie.position===F).map((ie,be)=>{var he,T;return ue.createElement(sce,{key:ie.id,icons:_,index:be,toast:ie,defaultRichColors:h,duration:(he=m==null?void 0:m.duration)!=null?he:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:v,closeButton:(T=m==null?void 0:m.closeButton)!=null?T:s,interacting:L,position:F,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ce,toasts:C.filter(X=>X.position==ie.position),heights:I.filter(X=>X.position==ie.position),setHeights:D,expandByDefault:a,gap:y,loadingIcon:x,expanded:k,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const cce=({...t})=>{const{theme:e="system"}=Dle();return c.jsx(lce,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var uce=nI[" useId ".trim().toString()]||(()=>{}),dce=0;function Al(t){const[e,r]=P.useState(uce());return na(()=>{r(n=>n??String(dce++))},[t]),e?`radix-${e}`:""}const hce=["top","right","bottom","left"],Hh=Math.min,to=Math.max,eS=Math.round,e2=Math.floor,xc=t=>({x:t,y:t}),fce={left:"right",right:"left",bottom:"top",top:"bottom"},pce={start:"end",end:"start"};function GT(t,e,r){return to(t,Hh(e,r))}function Vu(t,e){return typeof t=="function"?t(e):t}function zu(t){return t.split("-")[0]}function wy(t){return t.split("-")[1]}function tO(t){return t==="x"?"y":"x"}function rO(t){return t==="y"?"height":"width"}const mce=new Set(["top","bottom"]);function pc(t){return mce.has(zu(t))?"y":"x"}function nO(t){return tO(pc(t))}function gce(t,e,r){r===void 0&&(r=!1);const n=wy(t),i=nO(t),a=rO(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=tS(s)),[s,tS(s)]}function vce(t){const e=tS(t);return[KT(t),e,KT(e)]}function KT(t){return t.replace(/start|end/g,e=>pce[e])}const RL=["left","right"],DL=["right","left"],yce=["top","bottom"],bce=["bottom","top"];function xce(t,e,r){switch(t){case"top":case"bottom":return r?e?DL:RL:e?RL:DL;case"left":case"right":return e?yce:bce;default:return[]}}function wce(t,e,r,n){const i=wy(t);let a=xce(zu(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(KT)))),a}function tS(t){return t.replace(/left|right|bottom|top/g,e=>fce[e])}function _ce(t){return{top:0,right:0,bottom:0,left:0,...t}}function mW(t){return typeof t!="number"?_ce(t):{top:t,right:t,bottom:t,left:t}}function rS(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function LL(t,e,r){let{reference:n,floating:i}=t;const a=pc(e),s=nO(e),o=rO(s),l=zu(e),u=a==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,p=n[o]/2-i[o]/2;let f;switch(l){case"top":f={x:d,y:n.y-i.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-i.width,y:h};break;default:f={x:n.x,y:n.y}}switch(wy(e)){case"start":f[s]-=p*(r&&u?-1:1);break;case"end":f[s]+=p*(r&&u?-1:1);break}return f}const Sce=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=LL(u,n,l),p=n,f={},v=0;for(let m=0;m<o.length;m++){const{name:g,fn:y}=o[m],{x,y:_,data:S,reset:N}=await y({x:d,y:h,initialPlacement:n,placement:p,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:t,floating:e}});d=x??d,h=_??h,f={...f,[g]:{...f[g],...S}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:h}=LL(u,p,l)),m=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:f}};async function ab(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Vu(e,t),v=mW(f),g=o[p?h==="floating"?"reference":"floating":h],y=rS(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),x=h==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),S=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},N=rS(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-N.top+v.top)/S.y,bottom:(N.bottom-y.bottom+v.bottom)/S.y,left:(y.left-N.left+v.left)/S.x,right:(N.right-y.right+v.right)/S.x}}const Ace=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=Vu(t,e)||{};if(u==null)return{};const h=mW(d),p={x:r,y:n},f=nO(i),v=rO(f),m=await s.getDimensions(u),g=f==="y",y=g?"top":"left",x=g?"bottom":"right",_=g?"clientHeight":"clientWidth",S=a.reference[v]+a.reference[f]-p[f]-a.floating[v],N=p[f]-a.reference[f],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let j=C?C[_]:0;(!j||!await(s.isElement==null?void 0:s.isElement(C)))&&(j=o.floating[_]||a.floating[v]);const E=S/2-N/2,I=j/2-m[v]/2-1,D=Hh(h[y],I),k=Hh(h[x],I),O=D,L=j-m[v]-k,z=j/2-m[v]/2+E,re=GT(O,z,L),Y=!l.arrow&&wy(i)!=null&&z!==re&&a.reference[v]/2-(z<O?D:k)-m[v]/2<0,K=Y?z<O?z-O:z-L:0;return{[f]:p[f]+K,data:{[f]:re,centerOffset:z-re-K,...Y&&{alignmentOffset:K}},reset:Y}}}),Nce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=Vu(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=zu(i),x=pc(o),_=zu(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=p||(_||!m?[tS(o)]:vce(o)),C=v!=="none";!p&&C&&N.push(...wce(o,m,v,S));const j=[o,...N],E=await ab(e,g),I=[];let D=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&I.push(E[y]),h){const z=gce(i,s,S);I.push(E[z[0]],E[z[1]])}if(D=[...D,{placement:i,overflows:I}],!I.every(z=>z<=0)){var k,O;const z=(((k=a.flip)==null?void 0:k.index)||0)+1,re=j[z];if(re&&(!(h==="alignment"?x!==pc(re):!1)||D.every(q=>q.overflows[0]>0&&pc(q.placement)===x)))return{data:{index:z,overflows:D},reset:{placement:re}};let Y=(O=D.filter(K=>K.overflows[0]<=0).sort((K,q)=>K.overflows[1]-q.overflows[1])[0])==null?void 0:O.placement;if(!Y)switch(f){case"bestFit":{var L;const K=(L=D.filter(q=>{if(C){const Z=pc(q.placement);return Z===x||Z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Z=>Z>0).reduce((Z,ve)=>Z+ve,0)]).sort((q,Z)=>q[1]-Z[1])[0])==null?void 0:L[0];K&&(Y=K);break}case"initialPlacement":Y=o;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function ML(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $L(t){return hce.some(e=>t[e]>=0)}const Ece=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Vu(t,e);switch(n){case"referenceHidden":{const a=await ab(e,{...i,elementContext:"reference"}),s=ML(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:$L(s)}}}case"escaped":{const a=await ab(e,{...i,altBoundary:!0}),s=ML(a,r.floating);return{data:{escapedOffsets:s,escaped:$L(s)}}}default:return{}}}}},gW=new Set(["left","top"]);async function jce(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=zu(r),o=wy(r),l=pc(r)==="y",u=gW.has(s)?-1:1,d=a&&l?-1:1,h=Vu(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof v=="number"&&(f=o==="end"?v*-1:v),l?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const Pce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await jce(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},Tce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:g=>{let{x:y,y:x}=g;return{x:y,y:x}}},...l}=Vu(t,e),u={x:r,y:n},d=await ab(e,l),h=pc(zu(i)),p=tO(h);let f=u[p],v=u[h];if(a){const g=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=f+d[g],_=f-d[y];f=GT(x,f,_)}if(s){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=v+d[g],_=v-d[y];v=GT(x,v,_)}const m=o.fn({...e,[p]:f,[h]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:a,[h]:s}}}}}},Cce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Vu(t,e),d={x:r,y:n},h=pc(i),p=tO(h);let f=d[p],v=d[h];const m=Vu(o,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=p==="y"?"height":"width",S=a.reference[p]-a.floating[_]+g.mainAxis,N=a.reference[p]+a.reference[_]-g.mainAxis;f<S?f=S:f>N&&(f=N)}if(u){var y,x;const _=p==="y"?"width":"height",S=gW.has(zu(i)),N=a.reference[h]-a.floating[_]+(S&&((y=s.offset)==null?void 0:y[h])||0)+(S?0:g.crossAxis),C=a.reference[h]+a.reference[_]+(S?0:((x=s.offset)==null?void 0:x[h])||0)-(S?g.crossAxis:0);v<N?v=N:v>C&&(v=C)}return{[p]:f,[h]:v}}}},kce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...u}=Vu(t,e),d=await ab(e,u),h=zu(i),p=wy(i),f=pc(i)==="y",{width:v,height:m}=a.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=p===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=h,g=p==="end"?"top":"bottom");const x=m-d.top-d.bottom,_=v-d.left-d.right,S=Hh(m-d[g],x),N=Hh(v-d[y],_),C=!e.middlewareData.shift;let j=S,E=N;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=x),C&&!p){const D=to(d.left,0),k=to(d.right,0),O=to(d.top,0),L=to(d.bottom,0);f?E=v-2*(D!==0||k!==0?D+k:to(d.left,d.right)):j=m-2*(O!==0||L!==0?O+L:to(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:j});const I=await s.getDimensions(o.floating);return v!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function uA(){return typeof window<"u"}function _y(t){return vW(t)?(t.nodeName||"").toLowerCase():"#document"}function lo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mc(t){var e;return(e=(vW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vW(t){return uA()?t instanceof Node||t instanceof lo(t).Node:!1}function Pl(t){return uA()?t instanceof Element||t instanceof lo(t).Element:!1}function Ic(t){return uA()?t instanceof HTMLElement||t instanceof lo(t).HTMLElement:!1}function FL(t){return!uA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof lo(t).ShadowRoot}const Ice=new Set(["inline","contents"]);function Tx(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Tl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Ice.has(i)}const Oce=new Set(["table","td","th"]);function Rce(t){return Oce.has(_y(t))}const Dce=[":popover-open",":modal"];function dA(t){return Dce.some(e=>{try{return t.matches(e)}catch{return!1}})}const Lce=["transform","translate","scale","rotate","perspective"],Mce=["transform","translate","scale","rotate","perspective","filter"],$ce=["paint","layout","strict","content"];function iO(t){const e=aO(),r=Pl(t)?Tl(t):t;return Lce.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Mce.some(n=>(r.willChange||"").includes(n))||$ce.some(n=>(r.contain||"").includes(n))}function Fce(t){let e=Gh(t);for(;Ic(e)&&!jv(e);){if(iO(e))return e;if(dA(e))return null;e=Gh(e)}return null}function aO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Bce=new Set(["html","body","#document"]);function jv(t){return Bce.has(_y(t))}function Tl(t){return lo(t).getComputedStyle(t)}function hA(t){return Pl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gh(t){if(_y(t)==="html")return t;const e=t.assignedSlot||t.parentNode||FL(t)&&t.host||Mc(t);return FL(e)?e.host:e}function yW(t){const e=Gh(t);return jv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ic(e)&&Tx(e)?e:yW(e)}function sb(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=yW(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=lo(i);if(a){const o=YT(s);return e.concat(s,s.visualViewport||[],Tx(i)?i:[],o&&r?sb(o):[])}return e.concat(i,sb(i,[],r))}function YT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bW(t){const e=Tl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ic(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=eS(r)!==a||eS(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function sO(t){return Pl(t)?t:t.contextElement}function Bg(t){const e=sO(t);if(!Ic(e))return xc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=bW(e);let s=(a?eS(r.width):r.width)/n,o=(a?eS(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Uce=xc(0);function xW(t){const e=lo(t);return!aO()||!e.visualViewport?Uce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Vce(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==lo(t)?!1:e}function Wp(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=sO(t);let s=xc(1);e&&(n?Pl(n)&&(s=Bg(n)):s=Bg(t));const o=Vce(a,r,n)?xW(a):xc(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(a){const p=lo(a),f=n&&Pl(n)?lo(n):n;let v=p,m=YT(v);for(;m&&n&&f!==v;){const g=Bg(m),y=m.getBoundingClientRect(),x=Tl(m),_=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*g.x,S=y.top+(m.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,h*=g.y,l+=_,u+=S,v=lo(m),m=YT(v)}}return rS({width:d,height:h,x:l,y:u})}function oO(t,e){const r=hA(t).scrollLeft;return e?e.left+r:Wp(Mc(t)).left+r}function wW(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:oO(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function zce(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=Mc(n),o=e?dA(e.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},u=xc(1);const d=xc(0),h=Ic(n);if((h||!h&&!a)&&((_y(n)!=="body"||Tx(s))&&(l=hA(n)),Ic(n))){const f=Wp(n);u=Bg(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=s&&!h&&!a?wW(s,l,!0):xc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-l.scrollTop*u.y+d.y+p.y}}function qce(t){return Array.from(t.getClientRects())}function Wce(t){const e=Mc(t),r=hA(t),n=t.ownerDocument.body,i=to(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=to(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+oO(t);const o=-r.scrollTop;return Tl(n).direction==="rtl"&&(s+=to(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function Hce(t,e){const r=lo(t),n=Mc(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=aO();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}const Gce=new Set(["absolute","fixed"]);function Kce(t,e){const r=Wp(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Ic(t)?Bg(t):xc(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:s,height:o,x:l,y:u}}function BL(t,e,r){let n;if(e==="viewport")n=Hce(t,r);else if(e==="document")n=Wce(Mc(t));else if(Pl(e))n=Kce(e,r);else{const i=xW(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rS(n)}function _W(t,e){const r=Gh(t);return r===e||!Pl(r)||jv(r)?!1:Tl(r).position==="fixed"||_W(r,e)}function Yce(t,e){const r=e.get(t);if(r)return r;let n=sb(t,[],!1).filter(o=>Pl(o)&&_y(o)!=="body"),i=null;const a=Tl(t).position==="fixed";let s=a?Gh(t):t;for(;Pl(s)&&!jv(s);){const o=Tl(s),l=iO(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&Gce.has(i.position)||Tx(s)&&!l&&_W(t,s))?n=n.filter(d=>d!==s):i=o,s=Gh(s)}return e.set(t,n),n}function Xce(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?dA(e)?[]:Yce(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,d)=>{const h=BL(e,d,i);return u.top=to(h.top,u.top),u.right=Hh(h.right,u.right),u.bottom=Hh(h.bottom,u.bottom),u.left=to(h.left,u.left),u},BL(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qce(t){const{width:e,height:r}=bW(t);return{width:e,height:r}}function Jce(t,e,r){const n=Ic(e),i=Mc(e),a=r==="fixed",s=Wp(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=xc(0);function u(){l.x=oO(i)}if(n||!n&&!a)if((_y(e)!=="body"||Tx(i))&&(o=hA(e)),n){const f=Wp(e,!0,a,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&u();a&&!n&&i&&u();const d=i&&!n&&!a?wW(i,o):xc(0),h=s.left+o.scrollLeft-l.x-d.x,p=s.top+o.scrollTop-l.y-d.y;return{x:h,y:p,width:s.width,height:s.height}}function nj(t){return Tl(t).position==="static"}function UL(t,e){if(!Ic(t)||Tl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Mc(t)===r&&(r=r.ownerDocument.body),r}function SW(t,e){const r=lo(t);if(dA(t))return r;if(!Ic(t)){let i=Gh(t);for(;i&&!jv(i);){if(Pl(i)&&!nj(i))return i;i=Gh(i)}return r}let n=UL(t,e);for(;n&&Rce(n)&&nj(n);)n=UL(n,e);return n&&jv(n)&&nj(n)&&!iO(n)?r:n||Fce(t)||r}const Zce=async function(t){const e=this.getOffsetParent||SW,r=this.getDimensions,n=await r(t.floating);return{reference:Jce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eue(t){return Tl(t).direction==="rtl"}const tue={convertOffsetParentRelativeRectToViewportRelativeRect:zce,getDocumentElement:Mc,getClippingRect:Xce,getOffsetParent:SW,getElementRects:Zce,getClientRects:qce,getDimensions:Qce,getScale:Bg,isElement:Pl,isRTL:eue};function AW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rue(t,e){let r=null,n;const i=Mc(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(o||e(),!p||!f)return;const v=e2(h),m=e2(i.clientWidth-(d+p)),g=e2(i.clientHeight-(h+f)),y=e2(d),_={rootMargin:-v+"px "+-m+"px "+-g+"px "+-y+"px",threshold:to(0,Hh(1,l))||1};let S=!0;function N(C){const j=C[0].intersectionRatio;if(j!==l){if(!S)return s();j?s(!1,j):n=setTimeout(()=>{s(!1,1e-7)},1e3)}j===1&&!AW(u,t.getBoundingClientRect())&&s(),S=!1}try{r=new IntersectionObserver(N,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,_)}r.observe(t)}return s(!0),a}function nue(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=sO(t),d=i||a?[...u?sb(u):[],...sb(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const h=u&&o?rue(u,r):null;let p=-1,f=null;s&&(f=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),r()}),u&&!l&&f.observe(u),f.observe(e));let v,m=l?Wp(t):null;l&&g();function g(){const y=Wp(t);m&&!AW(m,y)&&r(),m=y,v=requestAnimationFrame(g)}return r(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const iue=Pce,aue=Tce,sue=Nce,oue=kce,lue=Ece,VL=Ace,cue=Cce,uue=(t,e,r)=>{const n=new Map,i={platform:tue,...r},a={...i.platform,_c:n};return Sce(t,e,{...i,platform:a})};var due=typeof document<"u",hue=function(){},r_=due?P.useLayoutEffect:hue;function nS(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!nS(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!nS(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function NW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zL(t,e){const r=NW(t);return Math.round(e*r)/r}function ij(t){const e=P.useRef(t);return r_(()=>{e.current=t}),e}function fue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,h]=P.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=P.useState(n);nS(p,n)||f(n);const[v,m]=P.useState(null),[g,y]=P.useState(null),x=P.useCallback(q=>{q!==C.current&&(C.current=q,m(q))},[]),_=P.useCallback(q=>{q!==j.current&&(j.current=q,y(q))},[]),S=a||v,N=s||g,C=P.useRef(null),j=P.useRef(null),E=P.useRef(d),I=l!=null,D=ij(l),k=ij(i),O=ij(u),L=P.useCallback(()=>{if(!C.current||!j.current)return;const q={placement:e,strategy:r,middleware:p};k.current&&(q.platform=k.current),uue(C.current,j.current,q).then(Z=>{const ve={...Z,isPositioned:O.current!==!1};z.current&&!nS(E.current,ve)&&(E.current=ve,gm.flushSync(()=>{h(ve)}))})},[p,e,r,k,O]);r_(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[u]);const z=P.useRef(!1);r_(()=>(z.current=!0,()=>{z.current=!1}),[]),r_(()=>{if(S&&(C.current=S),N&&(j.current=N),S&&N){if(D.current)return D.current(S,N,L);L()}},[S,N,L,D,I]);const re=P.useMemo(()=>({reference:C,floating:j,setReference:x,setFloating:_}),[x,_]),Y=P.useMemo(()=>({reference:S,floating:N}),[S,N]),K=P.useMemo(()=>{const q={position:r,left:0,top:0};if(!Y.floating)return q;const Z=zL(Y.floating,d.x),ve=zL(Y.floating,d.y);return o?{...q,transform:"translate("+Z+"px, "+ve+"px)",...NW(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:ve}},[r,o,Y.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:L,refs:re,elements:Y,floatingStyles:K}),[d,L,re,Y,K])}const pue=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?VL({element:n.current,padding:i}).fn(r):{}:n?VL({element:n,padding:i}).fn(r):{}}}},mue=(t,e)=>({...iue(t),options:[t,e]}),gue=(t,e)=>({...aue(t),options:[t,e]}),vue=(t,e)=>({...cue(t),options:[t,e]}),yue=(t,e)=>({...sue(t),options:[t,e]}),bue=(t,e)=>({...oue(t),options:[t,e]}),xue=(t,e)=>({...lue(t),options:[t,e]}),wue=(t,e)=>({...pue(t),options:[t,e]});var _ue="Arrow",EW=P.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return c.jsx(Ht.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});EW.displayName=_ue;var Sue=EW;function jW(t){const[e,r]=P.useState(void 0);return na(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var lO="Popper",[PW,Sy]=go(lO),[Aue,TW]=PW(lO),CW=t=>{const{__scopePopper:e,children:r}=t,[n,i]=P.useState(null);return c.jsx(Aue,{scope:e,anchor:n,onAnchorChange:i,children:r})};CW.displayName=lO;var kW="PopperAnchor",IW=P.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=TW(kW,r),s=P.useRef(null),o=Mr(e,s);return P.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:c.jsx(Ht.div,{...i,ref:o})});IW.displayName=kW;var cO="PopperContent",[Nue,Eue]=PW(cO),OW=P.forwardRef((t,e)=>{var ie,be,he,T,X,ne;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=t,g=TW(cO,r),[y,x]=P.useState(null),_=Mr(e,de=>x(de)),[S,N]=P.useState(null),C=jW(S),j=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,I=n+(a!=="center"?"-"+a:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,L={padding:D,boundary:k.filter(Pue),altBoundary:O},{refs:z,floatingStyles:re,placement:Y,isPositioned:K,middlewareData:q}=fue({strategy:"fixed",placement:I,whileElementsMounted:(...de)=>nue(...de,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[mue({mainAxis:i+E,alignmentAxis:s}),l&&gue({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?vue():void 0,...L}),l&&yue({...L}),bue({...L,apply:({elements:de,rects:ge,availableWidth:ee,availableHeight:Ne})=>{const{width:De,height:Le}=ge.reference,_e=de.floating.style;_e.setProperty("--radix-popper-available-width",`${ee}px`),_e.setProperty("--radix-popper-available-height",`${Ne}px`),_e.setProperty("--radix-popper-anchor-width",`${De}px`),_e.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),S&&wue({element:S,padding:o}),Tue({arrowWidth:j,arrowHeight:E}),p&&xue({strategy:"referenceHidden",...L})]}),[Z,ve]=LW(Y),ce=Xo(v);na(()=>{K&&(ce==null||ce())},[K,ce]);const F=(ie=q.arrow)==null?void 0:ie.x,V=(be=q.arrow)==null?void 0:be.y,G=((he=q.arrow)==null?void 0:he.centerOffset)!==0,[oe,J]=P.useState();return na(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:K?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(T=q.transformOrigin)==null?void 0:T.x,(X=q.transformOrigin)==null?void 0:X.y].join(" "),...((ne=q.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(Nue,{scope:r,placedSide:Z,onArrowChange:N,arrowX:F,arrowY:V,shouldHideArrow:G,children:c.jsx(Ht.div,{"data-side":Z,"data-align":ve,...m,ref:_,style:{...m.style,animation:K?void 0:"none"}})})})});OW.displayName=cO;var RW="PopperArrow",jue={top:"bottom",right:"left",bottom:"top",left:"right"},DW=P.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=Eue(RW,n),s=jue[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(Sue,{...i,ref:r,style:{...i.style,display:"block"}})})});DW.displayName=RW;function Pue(t){return t!==null}var Tue=t=>({name:"transformOrigin",options:t,fn(e){var g,y,x;const{placement:r,rects:n,middlewareData:i}=e,s=((g=i.arrow)==null?void 0:g.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=LW(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,f=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",m="";return u==="bottom"?(v=s?h:`${p}px`,m=`${-l}px`):u==="top"?(v=s?h:`${p}px`,m=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,m=s?h:`${f}px`):u==="left"&&(v=`${n.floating.width+l}px`,m=s?h:`${f}px`),{data:{x:v,y:m}}}});function LW(t){const[e,r="center"]=t.split("-");return[e,r]}var MW=CW,fA=IW,uO=OW,dO=DW,[pA,KJe]=go("Tooltip",[Sy]),hO=Sy(),$W="TooltipProvider",Cue=700,qL="tooltip.open",[kue,FW]=pA($W),BW=t=>{const{__scopeTooltip:e,delayDuration:r=Cue,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,s=P.useRef(!0),o=P.useRef(!1),l=P.useRef(0);return P.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(kue,{scope:e,isOpenDelayedRef:s,delayDuration:r,onOpen:P.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:P.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:a})};BW.displayName=$W;var UW="Tooltip",[YJe,mA]=pA(UW),XT="TooltipTrigger",Iue=P.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=mA(XT,r),a=FW(XT,r),s=hO(r),o=P.useRef(null),l=Mr(e,o,i.onTriggerChange),u=P.useRef(!1),d=P.useRef(!1),h=P.useCallback(()=>u.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(fA,{asChild:!0,...s,children:c.jsx(Ht.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:It(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:It(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:It(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:It(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:It(t.onBlur,i.onClose),onClick:It(t.onClick,i.onClose)})})});Iue.displayName=XT;var Oue="TooltipPortal",[XJe,Rue]=pA(Oue,{forceMount:void 0}),Pv="TooltipContent",VW=P.forwardRef((t,e)=>{const r=Rue(Pv,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,s=mA(Pv,t.__scopeTooltip);return c.jsx(Lc,{present:n||s.open,children:s.disableHoverableContent?c.jsx(zW,{side:i,...a,ref:e}):c.jsx(Due,{side:i,...a,ref:e})})}),Due=P.forwardRef((t,e)=>{const r=mA(Pv,t.__scopeTooltip),n=FW(Pv,t.__scopeTooltip),i=P.useRef(null),a=Mr(e,i),[s,o]=P.useState(null),{trigger:l,onClose:u}=r,d=i.current,{onPointerInTransitChange:h}=n,p=P.useCallback(()=>{o(null),h(!1)},[h]),f=P.useCallback((v,m)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},x=Bue(y,g.getBoundingClientRect()),_=Uue(y,x),S=Vue(m.getBoundingClientRect()),N=que([..._,...S]);o(N),h(!0)},[h]);return P.useEffect(()=>()=>p(),[p]),P.useEffect(()=>{if(l&&d){const v=g=>f(g,d),m=g=>f(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[l,d,f,p]),P.useEffect(()=>{if(s){const v=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),_=!zue(y,s);x?p():_&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,s,u,p]),c.jsx(zW,{...t,ref:a})}),[Lue,Mue]=pA(UW,{isInside:!1}),$ue=Aq("TooltipContent"),zW=P.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=mA(Pv,r),u=hO(r),{onClose:d}=l;return P.useEffect(()=>(document.addEventListener(qL,d),()=>document.removeEventListener(qL,d)),[d]),P.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(by,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(uO,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx($ue,{children:n}),c.jsx(Lue,{scope:r,isInside:!0,children:c.jsx(hoe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});VW.displayName=Pv;var qW="TooltipArrow",Fue=P.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=hO(r);return Mue(qW,r).isInside?null:c.jsx(dO,{...i,...n,ref:e})});Fue.displayName=qW;function Bue(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Uue(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Vue(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function zue(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a],l=e[s],u=o.x,d=o.y,h=l.x,p=l.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(i=!i)}return i}function que(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Wue(e)}function Wue(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Hue=BW,WW=VW;const Gue=Hue,Kue=P.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(WW,{ref:n,sideOffset:e,className:_t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Kue.displayName=WW.displayName;var Ay=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hp=typeof window>"u"||"Deno"in globalThis;function Qa(){}function Yue(t,e){return typeof t=="function"?t(e):t}function QT(t){return typeof t=="number"&&t>=0&&t!==1/0}function HW(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ch(t,e){return typeof t=="function"?t(e):t}function Ro(t,e){return typeof t=="function"?t(e):t}function WL(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==fO(s,e.options))return!1}else if(!ob(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function HL(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Gp(e.options.mutationKey)!==Gp(a))return!1}else if(!ob(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function fO(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gp)(t)}function Gp(t){return JSON.stringify(t,(e,r)=>JT(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ob(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ob(t[r],e[r])):!1}function GW(t,e){if(t===e)return t;const r=GL(t)&&GL(e);if(r||JT(t)&&JT(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,o=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<s;d++){const h=r?d:a[d];(!r&&l.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(o[h]=void 0,u++):(o[h]=GW(t[h],e[h]),o[h]===t[h]&&t[h]!==void 0&&u++)}return i===s&&u===i?t:o}return e}function iS(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function GL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function JT(t){if(!KL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!KL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function KL(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xue(t){return new Promise(e=>{setTimeout(e,t)})}function ZT(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?GW(t,e):e}function Que(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Jue(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var pO=Symbol();function KW(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===pO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function YW(t,e){return typeof t=="function"?t(...e):!!t}var xp,rh,sv,JU,Zue=(JU=class extends Ay{constructor(){super();Ft(this,xp);Ft(this,rh);Ft(this,sv);ht(this,sv,e=>{if(!Hp&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){xe(this,rh)||this.setEventListener(xe(this,sv))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,rh))==null||e.call(this),ht(this,rh,void 0))}setEventListener(e){var r;ht(this,sv,e),(r=xe(this,rh))==null||r.call(this),ht(this,rh,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){xe(this,xp)!==e&&(ht(this,xp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof xe(this,xp)=="boolean"?xe(this,xp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xp=new WeakMap,rh=new WeakMap,sv=new WeakMap,JU),mO=new Zue,ov,nh,lv,ZU,ede=(ZU=class extends Ay{constructor(){super();Ft(this,ov,!0);Ft(this,nh);Ft(this,lv);ht(this,lv,e=>{if(!Hp&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){xe(this,nh)||this.setEventListener(xe(this,lv))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,nh))==null||e.call(this),ht(this,nh,void 0))}setEventListener(e){var r;ht(this,lv,e),(r=xe(this,nh))==null||r.call(this),ht(this,nh,e(this.setOnline.bind(this)))}setOnline(e){xe(this,ov)!==e&&(ht(this,ov,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return xe(this,ov)}},ov=new WeakMap,nh=new WeakMap,lv=new WeakMap,ZU),aS=new ede;function eC(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function tde(t){return Math.min(1e3*2**t,3e4)}function XW(t){return(t??"online")==="online"?aS.isOnline():!0}var QW=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function aj(t){return t instanceof QW}function JW(t){let e=!1,r=0,n=!1,i;const a=eC(),s=m=>{var g;n||(p(new QW(m)),(g=t.abort)==null||g.call(t))},o=()=>{e=!0},l=()=>{e=!1},u=()=>mO.isFocused()&&(t.networkMode==="always"||aS.isOnline())&&t.canRun(),d=()=>XW(t.networkMode)&&t.canRun(),h=m=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,m),i==null||i(),a.resolve(m))},p=m=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,m),i==null||i(),a.reject(m))},f=()=>new Promise(m=>{var g;i=y=>{(n||u())&&m(y)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(n)return;let m;const g=r===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(h).catch(y=>{var C;if(n)return;const x=t.retry??(Hp?0:3),_=t.retryDelay??tde,S=typeof _=="function"?_(r,y):_,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!N){p(y);return}r++,(C=t.onFail)==null||C.call(t,r,y),Xue(S).then(()=>u()?void 0:f()).then(()=>{e?p(y):v()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?v():f().then(v),a)}}var rde=t=>setTimeout(t,0);function nde(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=rde;const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Vi=nde(),wp,eV,ZW=(eV=class{constructor(){Ft(this,wp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QT(this.gcTime)&&ht(this,wp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hp?1/0:5*60*1e3))}clearGcTimeout(){xe(this,wp)&&(clearTimeout(xe(this,wp)),ht(this,wp,void 0))}},wp=new WeakMap,eV),cv,_p,Oo,Sp,Ca,gx,Ap,hl,cu,tV,ide=(tV=class extends ZW{constructor(r){super();Ft(this,hl);Ft(this,cv);Ft(this,_p);Ft(this,Oo);Ft(this,Sp);Ft(this,Ca);Ft(this,gx);Ft(this,Ap);ht(this,Ap,!1),ht(this,gx,r.defaultOptions),this.setOptions(r.options),this.observers=[],ht(this,Sp,r.client),ht(this,Oo,xe(this,Sp).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,ht(this,cv,ade(this.options)),this.state=r.state??xe(this,cv),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=xe(this,Ca))==null?void 0:r.promise}setOptions(r){this.options={...xe(this,gx),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,Oo).remove(this)}setData(r,n){const i=ZT(this.state.data,r,this.options);return yr(this,hl,cu).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){yr(this,hl,cu).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,a;const n=(i=xe(this,Ca))==null?void 0:i.promise;return(a=xe(this,Ca))==null||a.cancel(r),n?n.then(Qa).catch(Qa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,cv))}isActive(){return this.observers.some(r=>Ro(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Ch(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!HW(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=xe(this,Ca))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=xe(this,Ca))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),xe(this,Oo).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(xe(this,Ca)&&(xe(this,Ap)?xe(this,Ca).cancel({revert:!0}):xe(this,Ca).cancelRetry()),this.scheduleGc()),xe(this,Oo).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yr(this,hl,cu).call(this,{type:"invalidate"})}fetch(r,n){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(xe(this,Ca))return xe(this,Ca).continueRetry(),xe(this,Ca).promise}if(r&&this.setOptions(r),!this.options.queryFn){const f=this.observers.find(v=>v.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ht(this,Ap,!0),i.signal)})},s=()=>{const f=KW(this.options,n),m=(()=>{const g={client:xe(this,Sp),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return ht(this,Ap,!1),this.options.persister?this.options.persister(f,m,this):f(m)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:xe(this,Sp),state:this.state,fetchFn:s};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),ht(this,_p,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&yr(this,hl,cu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=f=>{var v,m,g,y;aj(f)&&f.silent||yr(this,hl,cu).call(this,{type:"error",error:f}),aj(f)||((m=(v=xe(this,Oo).config).onError)==null||m.call(v,f,this),(y=(g=xe(this,Oo).config).onSettled)==null||y.call(g,this.state.data,f,this)),this.scheduleGc()};return ht(this,Ca,JW({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var v,m,g,y;if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){u(x);return}(m=(v=xe(this,Oo).config).onSuccess)==null||m.call(v,f,this),(y=(g=xe(this,Oo).config).onSettled)==null||y.call(g,f,this.state.error,this),this.scheduleGc()},onError:u,onFail:(f,v)=>{yr(this,hl,cu).call(this,{type:"failed",failureCount:f,error:v})},onPause:()=>{yr(this,hl,cu).call(this,{type:"pause"})},onContinue:()=>{yr(this,hl,cu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),xe(this,Ca).start()}},cv=new WeakMap,_p=new WeakMap,Oo=new WeakMap,Sp=new WeakMap,Ca=new WeakMap,gx=new WeakMap,Ap=new WeakMap,hl=new WeakSet,cu=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...eH(i.data,this.options),fetchMeta:r.meta??null};case"success":return ht(this,_p,void 0),{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return aj(a)&&a.revert&&xe(this,_p)?{...xe(this,_p),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),Vi.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),xe(this,Oo).notify({query:this,type:"updated",action:r})})},tV);function eH(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XW(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ade(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var lc,rV,sde=(rV=class extends Ay{constructor(e={}){super();Ft(this,lc);this.config=e,ht(this,lc,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??fO(i,r);let s=this.get(a);return s||(s=new ide({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){xe(this,lc).has(e.queryHash)||(xe(this,lc).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=xe(this,lc).get(e.queryHash);r&&(e.destroy(),r===e&&xe(this,lc).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return xe(this,lc).get(e)}getAll(){return[...xe(this,lc).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>WL(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>WL(e,n)):r}notify(e){Vi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Vi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lc=new WeakMap,rV),cc,Ka,Np,uc,Bd,nV,ode=(nV=class extends ZW{constructor(r){super();Ft(this,uc);Ft(this,cc);Ft(this,Ka);Ft(this,Np);this.mutationId=r.mutationId,ht(this,Ka,r.mutationCache),ht(this,cc,[]),this.state=r.state||tH(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){xe(this,cc).includes(r)||(xe(this,cc).push(r),this.clearGcTimeout(),xe(this,Ka).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){ht(this,cc,xe(this,cc).filter(n=>n!==r)),this.scheduleGc(),xe(this,Ka).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){xe(this,cc).length||(this.state.status==="pending"?this.scheduleGc():xe(this,Ka).remove(this))}continue(){var r;return((r=xe(this,Np))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,l,u,d,h,p,f,v,m,g,y,x,_,S,N,C,j,E,I;const n=()=>{yr(this,uc,Bd).call(this,{type:"continue"})};ht(this,Np,JW({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(D,k)=>{yr(this,uc,Bd).call(this,{type:"failed",failureCount:D,error:k})},onPause:()=>{yr(this,uc,Bd).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,Ka).canRun(this)}));const i=this.state.status==="pending",a=!xe(this,Np).canStart();try{if(i)n();else{yr(this,uc,Bd).call(this,{type:"pending",variables:r,isPaused:a}),await((o=(s=xe(this,Ka).config).onMutate)==null?void 0:o.call(s,r,this));const k=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,r));k!==this.state.context&&yr(this,uc,Bd).call(this,{type:"pending",context:k,variables:r,isPaused:a})}const D=await xe(this,Np).start();return await((h=(d=xe(this,Ka).config).onSuccess)==null?void 0:h.call(d,D,r,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,D,r,this.state.context)),await((m=(v=xe(this,Ka).config).onSettled)==null?void 0:m.call(v,D,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,D,null,r,this.state.context)),yr(this,uc,Bd).call(this,{type:"success",data:D}),D}catch(D){try{throw await((_=(x=xe(this,Ka).config).onError)==null?void 0:_.call(x,D,r,this.state.context,this)),await((N=(S=this.options).onError)==null?void 0:N.call(S,D,r,this.state.context)),await((j=(C=xe(this,Ka).config).onSettled)==null?void 0:j.call(C,void 0,D,this.state.variables,this.state.context,this)),await((I=(E=this.options).onSettled)==null?void 0:I.call(E,void 0,D,r,this.state.context)),D}finally{yr(this,uc,Bd).call(this,{type:"error",error:D})}}finally{xe(this,Ka).runNext(this)}}},cc=new WeakMap,Ka=new WeakMap,Np=new WeakMap,uc=new WeakSet,Bd=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vi.batch(()=>{xe(this,cc).forEach(i=>{i.onMutationUpdate(r)}),xe(this,Ka).notify({mutation:this,type:"updated",action:r})})},nV);function tH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bu,fl,vx,iV,lde=(iV=class extends Ay{constructor(e={}){super();Ft(this,bu);Ft(this,fl);Ft(this,vx);this.config=e,ht(this,bu,new Set),ht(this,fl,new Map),ht(this,vx,0)}build(e,r,n){const i=new ode({mutationCache:this,mutationId:++kw(this,vx)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){xe(this,bu).add(e);const r=t2(e);if(typeof r=="string"){const n=xe(this,fl).get(r);n?n.push(e):xe(this,fl).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(xe(this,bu).delete(e)){const r=t2(e);if(typeof r=="string"){const n=xe(this,fl).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&xe(this,fl).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=t2(e);if(typeof r=="string"){const n=xe(this,fl).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=t2(e);if(typeof r=="string"){const i=(n=xe(this,fl).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vi.batch(()=>{xe(this,bu).forEach(e=>{this.notify({type:"removed",mutation:e})}),xe(this,bu).clear(),xe(this,fl).clear()})}getAll(){return Array.from(xe(this,bu))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>HL(r,n))}findAll(e={}){return this.getAll().filter(r=>HL(e,r))}notify(e){Vi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Vi.batch(()=>Promise.all(e.map(r=>r.continue().catch(Qa))))}},bu=new WeakMap,fl=new WeakMap,vx=new WeakMap,iV);function t2(t){var e;return(e=t.options.scope)==null?void 0:e.id}function YL(t){return{onFetch:(e,r)=>{var d,h,p,f,v;const n=e.options,i=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((f=e.state.data)==null?void 0:f.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const g=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=KW(e.options,e.fetchOptions),x=async(_,S,N)=>{if(m)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const j=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:S,direction:N?"backward":"forward",meta:e.options.meta};return g(k),k})(),E=await y(j),{maxPages:I}=e.options,D=N?Jue:Que;return{pages:D(_.pages,E,I),pageParams:D(_.pageParams,S,I)}};if(i&&a.length){const _=i==="backward",S=_?cde:XL,N={pages:a,pageParams:s},C=S(n,N);o=await x(N,C,_)}else{const _=t??a.length;do{const S=l===0?s[0]??n.initialPageParam:XL(n,o);if(l>0&&S==null)break;o=await x(o,S),l++}while(l<_)}return o};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function XL(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function cde(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ci,ih,ah,uv,dv,sh,hv,fv,aV,ude=(aV=class{constructor(t={}){Ft(this,ci);Ft(this,ih);Ft(this,ah);Ft(this,uv);Ft(this,dv);Ft(this,sh);Ft(this,hv);Ft(this,fv);ht(this,ci,t.queryCache||new sde),ht(this,ih,t.mutationCache||new lde),ht(this,ah,t.defaultOptions||{}),ht(this,uv,new Map),ht(this,dv,new Map),ht(this,sh,0)}mount(){kw(this,sh)._++,xe(this,sh)===1&&(ht(this,hv,mO.subscribe(async t=>{t&&(await this.resumePausedMutations(),xe(this,ci).onFocus())})),ht(this,fv,aS.subscribe(async t=>{t&&(await this.resumePausedMutations(),xe(this,ci).onOnline())})))}unmount(){var t,e;kw(this,sh)._--,xe(this,sh)===0&&((t=xe(this,hv))==null||t.call(this),ht(this,hv,void 0),(e=xe(this,fv))==null||e.call(this),ht(this,fv,void 0))}isFetching(t){return xe(this,ci).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return xe(this,ih).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=xe(this,ci).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=xe(this,ci).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Ch(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return xe(this,ci).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=xe(this,ci).get(n.queryHash),a=i==null?void 0:i.state.data,s=Yue(e,a);if(s!==void 0)return xe(this,ci).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Vi.batch(()=>xe(this,ci).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=xe(this,ci).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=xe(this,ci);Vi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=xe(this,ci);return Vi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Vi.batch(()=>xe(this,ci).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Qa).catch(Qa)}invalidateQueries(t,e={}){return Vi.batch(()=>(xe(this,ci).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Vi.batch(()=>xe(this,ci).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Qa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Qa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=xe(this,ci).build(this,e);return r.isStaleByTime(Ch(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qa).catch(Qa)}fetchInfiniteQuery(t){return t.behavior=YL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qa).catch(Qa)}ensureInfiniteQueryData(t){return t.behavior=YL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return aS.isOnline()?xe(this,ih).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,ci)}getMutationCache(){return xe(this,ih)}getDefaultOptions(){return xe(this,ah)}setDefaultOptions(t){ht(this,ah,t)}setQueryDefaults(t,e){xe(this,uv).set(Gp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...xe(this,uv).values()],r={};return e.forEach(n=>{ob(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){xe(this,dv).set(Gp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...xe(this,dv).values()],r={};return e.forEach(n=>{ob(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...xe(this,ah).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...xe(this,ah).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){xe(this,ci).clear(),xe(this,ih).clear()}},ci=new WeakMap,ih=new WeakMap,ah=new WeakMap,uv=new WeakMap,dv=new WeakMap,sh=new WeakMap,hv=new WeakMap,fv=new WeakMap,aV),bs,Tr,yx,Ya,Ep,pv,oh,lh,bx,mv,gv,jp,Pp,ch,vv,Qr,X0,tC,rC,nC,iC,aC,sC,oC,rH,sV,dde=(sV=class extends Ay{constructor(e,r){super();Ft(this,Qr);Ft(this,bs);Ft(this,Tr);Ft(this,yx);Ft(this,Ya);Ft(this,Ep);Ft(this,pv);Ft(this,oh);Ft(this,lh);Ft(this,bx);Ft(this,mv);Ft(this,gv);Ft(this,jp);Ft(this,Pp);Ft(this,ch);Ft(this,vv,new Set);this.options=r,ht(this,bs,e),ht(this,lh,null),ht(this,oh,eC()),this.options.experimental_prefetchInRender||xe(this,oh).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(xe(this,Tr).addObserver(this),QL(xe(this,Tr),this.options)?yr(this,Qr,X0).call(this):this.updateResult(),yr(this,Qr,iC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lC(xe(this,Tr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lC(xe(this,Tr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,yr(this,Qr,aC).call(this),yr(this,Qr,sC).call(this),xe(this,Tr).removeObserver(this)}setOptions(e){const r=this.options,n=xe(this,Tr);if(this.options=xe(this,bs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ro(this.options.enabled,xe(this,Tr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");yr(this,Qr,oC).call(this),xe(this,Tr).setOptions(this.options),r._defaulted&&!iS(this.options,r)&&xe(this,bs).getQueryCache().notify({type:"observerOptionsUpdated",query:xe(this,Tr),observer:this});const i=this.hasListeners();i&&JL(xe(this,Tr),n,this.options,r)&&yr(this,Qr,X0).call(this),this.updateResult(),i&&(xe(this,Tr)!==n||Ro(this.options.enabled,xe(this,Tr))!==Ro(r.enabled,xe(this,Tr))||Ch(this.options.staleTime,xe(this,Tr))!==Ch(r.staleTime,xe(this,Tr)))&&yr(this,Qr,tC).call(this);const a=yr(this,Qr,rC).call(this);i&&(xe(this,Tr)!==n||Ro(this.options.enabled,xe(this,Tr))!==Ro(r.enabled,xe(this,Tr))||a!==xe(this,ch))&&yr(this,Qr,nC).call(this,a)}getOptimisticResult(e){const r=xe(this,bs).getQueryCache().build(xe(this,bs),e),n=this.createResult(r,e);return fde(this,n)&&(ht(this,Ya,n),ht(this,pv,this.options),ht(this,Ep,xe(this,Tr).state)),n}getCurrentResult(){return xe(this,Ya)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){xe(this,vv).add(e)}getCurrentQuery(){return xe(this,Tr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=xe(this,bs).defaultQueryOptions(e),n=xe(this,bs).getQueryCache().build(xe(this,bs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return yr(this,Qr,X0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),xe(this,Ya)))}createResult(e,r){var I;const n=xe(this,Tr),i=this.options,a=xe(this,Ya),s=xe(this,Ep),o=xe(this,pv),u=e!==n?e.state:xe(this,yx),{state:d}=e;let h={...d},p=!1,f;if(r._optimisticResults){const D=this.hasListeners(),k=!D&&QL(e,r),O=D&&JL(e,n,r,i);(k||O)&&(h={...h,...eH(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:g}=h;f=h.data;let y=!1;if(r.placeholderData!==void 0&&f===void 0&&g==="pending"){let D;a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(D=a.data,y=!0):D=typeof r.placeholderData=="function"?r.placeholderData((I=xe(this,gv))==null?void 0:I.state.data,xe(this,gv)):r.placeholderData,D!==void 0&&(g="success",f=ZT(a==null?void 0:a.data,D,r),p=!0)}if(r.select&&f!==void 0&&!y)if(a&&f===(s==null?void 0:s.data)&&r.select===xe(this,bx))f=xe(this,mv);else try{ht(this,bx,r.select),f=r.select(f),f=ZT(a==null?void 0:a.data,f,r),ht(this,mv,f),ht(this,lh,null)}catch(D){ht(this,lh,D)}xe(this,lh)&&(v=xe(this,lh),f=xe(this,mv),m=Date.now(),g="error");const x=h.fetchStatus==="fetching",_=g==="pending",S=g==="error",N=_&&x,C=f!==void 0,E={status:g,fetchStatus:h.fetchStatus,isPending:_,isSuccess:g==="success",isError:S,isInitialLoading:N,isLoading:N,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:S&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&C,isStale:gO(e,r),refetch:this.refetch,promise:xe(this,oh),isEnabled:Ro(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},k=()=>{const L=ht(this,oh,E.promise=eC());D(L)},O=xe(this,oh);switch(O.status){case"pending":e.queryHash===n.queryHash&&D(O);break;case"fulfilled":(E.status==="error"||E.data!==O.value)&&k();break;case"rejected":(E.status!=="error"||E.error!==O.reason)&&k();break}}return E}updateResult(){const e=xe(this,Ya),r=this.createResult(xe(this,Tr),this.options);if(ht(this,Ep,xe(this,Tr).state),ht(this,pv,this.options),xe(this,Ep).data!==void 0&&ht(this,gv,xe(this,Tr)),iS(r,e))return;ht(this,Ya,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!xe(this,vv).size)return!0;const s=new Set(a??xe(this,vv));return this.options.throwOnError&&s.add("error"),Object.keys(xe(this,Ya)).some(o=>{const l=o;return xe(this,Ya)[l]!==e[l]&&s.has(l)})};yr(this,Qr,rH).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&yr(this,Qr,iC).call(this)}},bs=new WeakMap,Tr=new WeakMap,yx=new WeakMap,Ya=new WeakMap,Ep=new WeakMap,pv=new WeakMap,oh=new WeakMap,lh=new WeakMap,bx=new WeakMap,mv=new WeakMap,gv=new WeakMap,jp=new WeakMap,Pp=new WeakMap,ch=new WeakMap,vv=new WeakMap,Qr=new WeakSet,X0=function(e){yr(this,Qr,oC).call(this);let r=xe(this,Tr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Qa)),r},tC=function(){yr(this,Qr,aC).call(this);const e=Ch(this.options.staleTime,xe(this,Tr));if(Hp||xe(this,Ya).isStale||!QT(e))return;const n=HW(xe(this,Ya).dataUpdatedAt,e)+1;ht(this,jp,setTimeout(()=>{xe(this,Ya).isStale||this.updateResult()},n))},rC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(xe(this,Tr)):this.options.refetchInterval)??!1},nC=function(e){yr(this,Qr,sC).call(this),ht(this,ch,e),!(Hp||Ro(this.options.enabled,xe(this,Tr))===!1||!QT(xe(this,ch))||xe(this,ch)===0)&&ht(this,Pp,setInterval(()=>{(this.options.refetchIntervalInBackground||mO.isFocused())&&yr(this,Qr,X0).call(this)},xe(this,ch)))},iC=function(){yr(this,Qr,tC).call(this),yr(this,Qr,nC).call(this,yr(this,Qr,rC).call(this))},aC=function(){xe(this,jp)&&(clearTimeout(xe(this,jp)),ht(this,jp,void 0))},sC=function(){xe(this,Pp)&&(clearInterval(xe(this,Pp)),ht(this,Pp,void 0))},oC=function(){const e=xe(this,bs).getQueryCache().build(xe(this,bs),this.options);if(e===xe(this,Tr))return;const r=xe(this,Tr);ht(this,Tr,e),ht(this,yx,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},rH=function(e){Vi.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(xe(this,Ya))}),xe(this,bs).getQueryCache().notify({query:xe(this,Tr),type:"observerResultsUpdated"})})},sV);function hde(t,e){return Ro(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function QL(t,e){return hde(t,e)||t.state.data!==void 0&&lC(t,e,e.refetchOnMount)}function lC(t,e,r){if(Ro(e.enabled,t)!==!1&&Ch(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&gO(t,e)}return!1}function JL(t,e,r,n){return(t!==e||Ro(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&gO(t,r)}function gO(t,e){return Ro(e.enabled,t)!==!1&&t.isStaleByTime(Ch(e.staleTime,t))}function fde(t,e){return!iS(t.getCurrentResult(),e)}var uh,dh,xs,xu,Mu,n_,cC,oV,pde=(oV=class extends Ay{constructor(r,n){super();Ft(this,Mu);Ft(this,uh);Ft(this,dh);Ft(this,xs);Ft(this,xu);ht(this,uh,r),this.setOptions(n),this.bindMethods(),yr(this,Mu,n_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=xe(this,uh).defaultMutationOptions(r),iS(this.options,n)||xe(this,uh).getMutationCache().notify({type:"observerOptionsUpdated",mutation:xe(this,xs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Gp(n.mutationKey)!==Gp(this.options.mutationKey)?this.reset():((i=xe(this,xs))==null?void 0:i.state.status)==="pending"&&xe(this,xs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=xe(this,xs))==null||r.removeObserver(this)}onMutationUpdate(r){yr(this,Mu,n_).call(this),yr(this,Mu,cC).call(this,r)}getCurrentResult(){return xe(this,dh)}reset(){var r;(r=xe(this,xs))==null||r.removeObserver(this),ht(this,xs,void 0),yr(this,Mu,n_).call(this),yr(this,Mu,cC).call(this)}mutate(r,n){var i;return ht(this,xu,n),(i=xe(this,xs))==null||i.removeObserver(this),ht(this,xs,xe(this,uh).getMutationCache().build(xe(this,uh),this.options)),xe(this,xs).addObserver(this),xe(this,xs).execute(r)}},uh=new WeakMap,dh=new WeakMap,xs=new WeakMap,xu=new WeakMap,Mu=new WeakSet,n_=function(){var n;const r=((n=xe(this,xs))==null?void 0:n.state)??tH();ht(this,dh,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},cC=function(r){Vi.batch(()=>{var n,i,a,s,o,l,u,d;if(xe(this,xu)&&this.hasListeners()){const h=xe(this,dh).variables,p=xe(this,dh).context;(r==null?void 0:r.type)==="success"?((i=(n=xe(this,xu)).onSuccess)==null||i.call(n,r.data,h,p),(s=(a=xe(this,xu)).onSettled)==null||s.call(a,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((l=(o=xe(this,xu)).onError)==null||l.call(o,r.error,h,p),(d=(u=xe(this,xu)).onSettled)==null||d.call(u,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(xe(this,dh))})})},oV),nH=P.createContext(void 0),Hi=t=>{const e=P.useContext(nH);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},mde=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(nH.Provider,{value:t,children:e})),iH=P.createContext(!1),gde=()=>P.useContext(iH);iH.Provider;function vde(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yde=P.createContext(vde()),bde=()=>P.useContext(yde),xde=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wde=t=>{P.useEffect(()=>{t.clearReset()},[t])},_de=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||YW(r,[t.error,n])),Sde=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Ade=(t,e)=>t.isLoading&&t.isFetching&&!e,Nde=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ZL=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Ede(t,e,r){var h,p,f,v,m;const n=gde(),i=bde(),a=Hi(),s=a.defaultQueryOptions(t);(p=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,s),s._optimisticResults=n?"isRestoring":"optimistic",Sde(s),xde(s,i),wde(i);const o=!a.getQueryCache().get(s.queryHash),[l]=P.useState(()=>new e(a,s)),u=l.getOptimisticResult(s),d=!n&&t.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(g=>{const y=d?l.subscribe(Vi.batchCalls(g)):Qa;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),P.useEffect(()=>{l.setOptions(s)},[s,l]),Nde(s,u))throw ZL(s,l,i);if(_de({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((v=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,s,u),s.experimental_prefetchInRender&&!Hp&&Ade(u,n)){const g=o?ZL(s,l,i):(m=a.getQueryCache().get(s.queryHash))==null?void 0:m.promise;g==null||g.catch(Qa).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function Ny(t,e){return Ede(t,dde)}function vo(t,e){const r=Hi(),[n]=P.useState(()=>new pde(r,t));P.useEffect(()=>{n.setOptions(t)},[n,t]);const i=P.useSyncExternalStore(P.useCallback(s=>n.subscribe(Vi.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=P.useCallback((s,o)=>{n.mutate(s,o).catch(Qa)},[n]);if(i.error&&YW(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lb.apply(this,arguments)}var ph;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ph||(ph={}));const eM="popstate";function jde(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return uC("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:sS(i)}return Tde(e,r,null,t)}function Si(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aH(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pde(){return Math.random().toString(36).substr(2,8)}function tM(t,e){return{usr:t.state,key:t.key,idx:e}}function uC(t,e,r,n){return r===void 0&&(r=null),lb({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ey(e):e,{state:r,key:e&&e.key||n||Pde()})}function sS(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ey(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Tde(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=ph.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(lb({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function h(){o=ph.Pop;let g=d(),y=g==null?null:g-u;u=g,l&&l({action:o,location:m.location,delta:y})}function p(g,y){o=ph.Push;let x=uC(m.location,g,y);u=d()+1;let _=tM(x,u),S=m.createHref(x);try{s.pushState(_,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(S)}a&&l&&l({action:o,location:m.location,delta:1})}function f(g,y){o=ph.Replace;let x=uC(m.location,g,y);u=d();let _=tM(x,u),S=m.createHref(x);s.replaceState(_,"",S),a&&l&&l({action:o,location:m.location,delta:0})}function v(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof g=="string"?g:sS(g);return x=x.replace(/ $/,"%20"),Si(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return o},get location(){return t(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eM,h),l=g,()=>{i.removeEventListener(eM,h),l=null}},createHref(g){return e(i,g)},createURL:v,encodeLocation(g){let y=v(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(g){return s.go(g)}};return m}var rM;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rM||(rM={}));function Cde(t,e,r){return r===void 0&&(r="/"),kde(t,e,r,!1)}function kde(t,e,r,n){let i=typeof e=="string"?Ey(e):e,a=vO(i.pathname||"/",r);if(a==null)return null;let s=sH(t);Ide(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=zde(a);o=Ude(s[l],u,n)}return o}function sH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Si(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=kh([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(Si(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sH(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Fde(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of oH(a.path))i(a,s,l)}),e}function oH(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=oH(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Ide(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Bde(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ode=/^:[\w-]+$/,Rde=3,Dde=2,Lde=1,Mde=10,$de=-2,nM=t=>t==="*";function Fde(t,e){let r=t.split("/"),n=r.length;return r.some(nM)&&(n+=$de),e&&(n+=Dde),r.filter(i=>!nM(i)).reduce((i,a)=>i+(Ode.test(a)?Rde:a===""?Lde:Mde),n)}function Bde(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Ude(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=iM({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=iM({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:kh([a,h.pathname]),pathnameBase:Gde(kh([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=kh([a,h.pathnameBase]))}return s}function iM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Vde(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let m=o[h]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const v=o[h];return f&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function Vde(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),aH(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function zde(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aH(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function qde(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ey(t):t;return{pathname:r?r.startsWith("/")?r:Wde(r,e):e,search:Kde(n),hash:Yde(i)}}function Wde(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function sj(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hde(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function yO(t,e){let r=Hde(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ey(t):(i=lb({},t),Si(!i.pathname||!i.pathname.includes("?"),sj("?","pathname","search",i)),Si(!i.pathname||!i.pathname.includes("#"),sj("#","pathname","hash",i)),Si(!i.search||!i.search.includes("#"),sj("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let h=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=qde(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const kh=t=>t.join("/").replace(/\/\/+/g,"/"),Gde=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kde=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Yde=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xde(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lH=["post","put","patch","delete"];new Set(lH);const Qde=["get",...lH];new Set(Qde);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cb.apply(this,arguments)}const xO=P.createContext(null),Jde=P.createContext(null),ff=P.createContext(null),gA=P.createContext(null),Zu=P.createContext({outlet:null,matches:[],isDataRoute:!1}),cH=P.createContext(null);function Zde(t,e){let{relative:r}=e===void 0?{}:e;jy()||Si(!1);let{basename:n,navigator:i}=P.useContext(ff),{hash:a,pathname:s,search:o}=dH(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:kh([n,s])),i.createHref({pathname:l,search:o,hash:a})}function jy(){return P.useContext(gA)!=null}function pf(){return jy()||Si(!1),P.useContext(gA).location}function uH(t){P.useContext(ff).static||P.useLayoutEffect(t)}function Gi(){let{isDataRoute:t}=P.useContext(Zu);return t?fhe():ehe()}function ehe(){jy()||Si(!1);let t=P.useContext(xO),{basename:e,future:r,navigator:n}=P.useContext(ff),{matches:i}=P.useContext(Zu),{pathname:a}=pf(),s=JSON.stringify(yO(i,r.v7_relativeSplatPath)),o=P.useRef(!1);return uH(()=>{o.current=!0}),P.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=bO(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:kh([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,a,t])}function the(){let{matches:t}=P.useContext(Zu),e=t[t.length-1];return e?e.params:{}}function dH(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=P.useContext(ff),{matches:i}=P.useContext(Zu),{pathname:a}=pf(),s=JSON.stringify(yO(i,n.v7_relativeSplatPath));return P.useMemo(()=>bO(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function rhe(t,e){return nhe(t,e)}function nhe(t,e,r,n){jy()||Si(!1);let{navigator:i}=P.useContext(ff),{matches:a}=P.useContext(Zu),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=pf(),d;if(e){var h;let g=typeof e=="string"?Ey(e):e;l==="/"||(h=g.pathname)!=null&&h.startsWith(l)||Si(!1),d=g}else d=u;let p=d.pathname||"/",f=p;if(l!=="/"){let g=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=Cde(t,{pathname:f}),m=lhe(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:kh([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:kh([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return e&&m?P.createElement(gA.Provider,{value:{location:cb({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ph.Pop}},m):m}function ihe(){let t=hhe(),e=Xde(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:i},r):null,null)}const ahe=P.createElement(ihe,null);class she extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(Zu.Provider,{value:this.props.routeContext},P.createElement(cH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ohe(t){let{routeContext:e,match:r,children:n}=t,i=P.useContext(xO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(Zu.Provider,{value:e},n)}function lhe(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Si(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let f,v=!1,m=null,g=null;r&&(f=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||ahe,l&&(u<0&&p===0?(v=!0,g=null):u===p&&(v=!0,g=h.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,p+1)),x=()=>{let _;return f?_=m:v?_=g:h.route.Component?_=P.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,P.createElement(ohe,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?P.createElement(she,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var hH=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hH||{}),oS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oS||{});function che(t){let e=P.useContext(xO);return e||Si(!1),e}function uhe(t){let e=P.useContext(Jde);return e||Si(!1),e}function dhe(t){let e=P.useContext(Zu);return e||Si(!1),e}function fH(t){let e=dhe(),r=e.matches[e.matches.length-1];return r.route.id||Si(!1),r.route.id}function hhe(){var t;let e=P.useContext(cH),r=uhe(oS.UseRouteError),n=fH(oS.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function fhe(){let{router:t}=che(hH.UseNavigateStable),e=fH(oS.UseNavigateStable),r=P.useRef(!1);return uH(()=>{r.current=!0}),P.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cb({fromRouteId:e},a)))},[t,e])}function phe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pH(t){let{to:e,replace:r,state:n,relative:i}=t;jy()||Si(!1);let{future:a,static:s}=P.useContext(ff),{matches:o}=P.useContext(Zu),{pathname:l}=pf(),u=Gi(),d=bO(e,yO(o,a.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return P.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function jn(t){Si(!1)}function mhe(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ph.Pop,navigator:a,static:s=!1,future:o}=t;jy()&&Si(!1);let l=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:a,static:s,future:cb({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Ey(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:v="default"}=n,m=P.useMemo(()=>{let g=vO(d,l);return g==null?null:{location:{pathname:g,search:h,hash:p,state:f,key:v},navigationType:i}},[l,d,h,p,f,v,i]);return m==null?null:P.createElement(ff.Provider,{value:u},P.createElement(gA.Provider,{children:r,value:m}))}function ghe(t){let{children:e,location:r}=t;return rhe(dC(e),r)}new Promise(()=>{});function dC(t,e){e===void 0&&(e=[]);let r=[];return P.Children.forEach(t,(n,i)=>{if(!P.isValidElement(n))return;let a=[...e,i];if(n.type===P.Fragment){r.push.apply(r,dC(n.props.children,a));return}n.type!==jn&&Si(!1),!n.props.index||!n.props.children||Si(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=dC(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hC(){return hC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hC.apply(this,arguments)}function vhe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function yhe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bhe(t,e){return t.button===0&&(!e||e==="_self")&&!yhe(t)}function fC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function xhe(t,e){let r=fC(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const whe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_he="6";try{window.__reactRouterVersion=_he}catch{}const She="startTransition",aM=nI[She];function Ahe(t){let{basename:e,children:r,future:n,window:i}=t,a=P.useRef();a.current==null&&(a.current=jde({window:i,v5Compat:!0}));let s=a.current,[o,l]=P.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=P.useCallback(h=>{u&&aM?aM(()=>l(h)):l(h)},[l,u]);return P.useLayoutEffect(()=>s.listen(d),[s,d]),P.useEffect(()=>phe(n),[n]),P.createElement(mhe,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const Nhe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ehe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sM=P.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,p=vhe(e,whe),{basename:f}=P.useContext(ff),v,m=!1;if(typeof u=="string"&&Ehe.test(u)&&(v=u,Nhe))try{let _=new URL(window.location.href),S=u.startsWith("//")?new URL(_.protocol+u):new URL(u),N=vO(S.pathname,f);S.origin===_.origin&&N!=null?u=N+S.search+S.hash:m=!0}catch{}let g=Zde(u,{relative:i}),y=jhe(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function x(_){n&&n(_),_.defaultPrevented||y(_)}return P.createElement("a",hC({},p,{href:v||g,onClick:m||a?n:x,ref:r,target:l}))});var oM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oM||(oM={}));var lM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lM||(lM={}));function jhe(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Gi(),u=pf(),d=dH(t,{relative:s});return P.useCallback(h=>{if(bhe(h,r)){h.preventDefault();let p=n!==void 0?n:sS(u)===sS(d);l(t,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,t,a,s,o])}function mH(t){let e=P.useRef(fC(t)),r=P.useRef(!1),n=pf(),i=P.useMemo(()=>xhe(n.search,r.current?null:e.current),[n.search]),a=Gi(),s=P.useCallback((o,l)=>{const u=fC(typeof o=="function"?o(i):o);r.current=!0,a("?"+u,l)},[a,i]);return[i,s]}const Phe=()=>{};var cM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},The=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},vH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,f=u&63;l||(f=64,s||(p=64)),n.push(r[d],r[h],r[p],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):The(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||h==null)throw new Che;const p=a<<2|o>>4;if(n.push(p),u!==64){const f=o<<4&240|u>>2;if(n.push(f),h!==64){const v=u<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Che extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const khe=function(t){const e=gH(t);return vH.encodeByteArray(e,!0)},lS=function(t){return khe(t).replace(/\./g,"")},yH=function(t){try{return vH.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ihe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ohe=()=>Ihe().__FIREBASE_DEFAULTS__,Rhe=()=>{if(typeof process>"u"||typeof cM>"u")return;const t=cM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dhe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yH(t[1]);return e&&JSON.parse(e)},vA=()=>{try{return Phe()||Ohe()||Rhe()||Dhe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bH=t=>{var e,r;return(r=(e=vA())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Lhe=t=>{const e=bH(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},xH=()=>{var t;return(t=vA())==null?void 0:t.config},wH=t=>{var e;return(e=vA())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mhe=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _H(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $he(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[lS(JSON.stringify(r)),lS(JSON.stringify(s)),""].join(".")}const b1={};function Fhe(){const t={prod:[],emulator:[]};for(const e of Object.keys(b1))b1[e]?t.emulator.push(e):t.prod.push(e);return t}function Bhe(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let uM=!1;function SH(t,e){if(typeof window>"u"||typeof document>"u"||!Py(window.location.host)||b1[t]===e||b1[t]||uM)return;b1[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=Fhe().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,f){p.setAttribute("width","24"),p.setAttribute("id",f),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{uM=!0,s()},p}function d(p,f){p.setAttribute("id",f),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Bhe(n),f=r("text"),v=document.getElementById(f)||document.createElement("span"),m=r("learnmore"),g=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const _=p.element;o(_),d(g,m);const S=u();l(x,y),_.append(x,v,g,S),document.body.appendChild(_)}a?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uhe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fa())}function Vhe(){var e;const t=(e=vA())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zhe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qhe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Whe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hhe(){const t=Fa();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ghe(){return!Vhe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Khe(){try{return typeof indexedDB=="object"}catch{return!1}}function Yhe(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xhe="FirebaseError";class ed extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Xhe,Object.setPrototypeOf(this,ed.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cx.prototype.create)}}class Cx{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Qhe(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ed(i,o,n)}}function Qhe(t,e){return t.replace(Jhe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Jhe=/\{\$([^}]+)}/g;function Zhe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(dM(a)&&dM(s)){if(!Kp(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function dM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Q0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function J0(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function efe(t,e){const r=new tfe(t,e);return r.subscribe.bind(r)}class tfe{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");rfe(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=oj),i.error===void 0&&(i.error=oj),i.complete===void 0&&(i.complete=oj);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rfe(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function oj(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t){return t&&t._delegate?t._delegate:t}class Yp{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nfe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Mhe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(afe(e))try{this.getOrInitializeService({instanceIdentifier:Qf})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Qf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qf){return this.instances.has(e)}getOptions(e=Qf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ife(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Qf){return this.component?this.component.multipleInstances?e:Qf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ife(t){return t===Qf?void 0:t}function afe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new nfe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ar||(Ar={}));const ofe={debug:Ar.DEBUG,verbose:Ar.VERBOSE,info:Ar.INFO,warn:Ar.WARN,error:Ar.ERROR,silent:Ar.SILENT},lfe=Ar.INFO,cfe={[Ar.DEBUG]:"log",[Ar.VERBOSE]:"log",[Ar.INFO]:"info",[Ar.WARN]:"warn",[Ar.ERROR]:"error"},ufe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=cfe[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wO{constructor(e){this.name=e,this._logLevel=lfe,this._logHandler=ufe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ar))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ofe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ar.DEBUG,...e),this._logHandler(this,Ar.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ar.VERBOSE,...e),this._logHandler(this,Ar.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ar.INFO,...e),this._logHandler(this,Ar.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ar.WARN,...e),this._logHandler(this,Ar.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ar.ERROR,...e),this._logHandler(this,Ar.ERROR,...e)}}const dfe=(t,e)=>e.some(r=>t instanceof r);let hM,fM;function hfe(){return hM||(hM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ffe(){return fM||(fM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AH=new WeakMap,pC=new WeakMap,NH=new WeakMap,lj=new WeakMap,_O=new WeakMap;function pfe(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Ih(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&AH.set(r,t)}).catch(()=>{}),_O.set(e,t),e}function mfe(t){if(pC.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});pC.set(t,e)}let mC={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return pC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NH.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ih(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gfe(t){mC=t(mC)}function vfe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(cj(this),e,...r);return NH.set(n,e.sort?e.sort():[e]),Ih(n)}:ffe().includes(t)?function(...e){return t.apply(cj(this),e),Ih(AH.get(this))}:function(...e){return Ih(t.apply(cj(this),e))}}function yfe(t){return typeof t=="function"?vfe(t):(t instanceof IDBTransaction&&mfe(t),dfe(t,hfe())?new Proxy(t,mC):t)}function Ih(t){if(t instanceof IDBRequest)return pfe(t);if(lj.has(t))return lj.get(t);const e=yfe(t);return e!==t&&(lj.set(t,e),_O.set(e,t)),e}const cj=t=>_O.get(t);function bfe(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Ih(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Ih(s.result),l.oldVersion,l.newVersion,Ih(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const xfe=["get","getKey","getAll","getAllKeys","count"],wfe=["put","add","delete","clear"],uj=new Map;function pM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uj.get(e))return uj.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=wfe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||xfe.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return uj.set(e,a),a}gfe(t=>({...t,get:(e,r,n)=>pM(e,r)||t.get(e,r,n),has:(e,r)=>!!pM(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _fe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Sfe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Sfe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gC="@firebase/app",mM="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new wO("@firebase/app"),Afe="@firebase/app-compat",Nfe="@firebase/analytics-compat",Efe="@firebase/analytics",jfe="@firebase/app-check-compat",Pfe="@firebase/app-check",Tfe="@firebase/auth",Cfe="@firebase/auth-compat",kfe="@firebase/database",Ife="@firebase/data-connect",Ofe="@firebase/database-compat",Rfe="@firebase/functions",Dfe="@firebase/functions-compat",Lfe="@firebase/installations",Mfe="@firebase/installations-compat",$fe="@firebase/messaging",Ffe="@firebase/messaging-compat",Bfe="@firebase/performance",Ufe="@firebase/performance-compat",Vfe="@firebase/remote-config",zfe="@firebase/remote-config-compat",qfe="@firebase/storage",Wfe="@firebase/storage-compat",Hfe="@firebase/firestore",Gfe="@firebase/ai",Kfe="@firebase/firestore-compat",Yfe="firebase",Xfe="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="[DEFAULT]",Qfe={[gC]:"fire-core",[Afe]:"fire-core-compat",[Efe]:"fire-analytics",[Nfe]:"fire-analytics-compat",[Pfe]:"fire-app-check",[jfe]:"fire-app-check-compat",[Tfe]:"fire-auth",[Cfe]:"fire-auth-compat",[kfe]:"fire-rtdb",[Ife]:"fire-data-connect",[Ofe]:"fire-rtdb-compat",[Rfe]:"fire-fn",[Dfe]:"fire-fn-compat",[Lfe]:"fire-iid",[Mfe]:"fire-iid-compat",[$fe]:"fire-fcm",[Ffe]:"fire-fcm-compat",[Bfe]:"fire-perf",[Ufe]:"fire-perf-compat",[Vfe]:"fire-rc",[zfe]:"fire-rc-compat",[qfe]:"fire-gcs",[Wfe]:"fire-gcs-compat",[Hfe]:"fire-fst",[Kfe]:"fire-fst-compat",[Gfe]:"fire-vertex","fire-js":"fire-js",[Yfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new Map,Jfe=new Map,yC=new Map;function gM(t,e){try{t.container.addComponent(e)}catch(r){qu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Tv(t){const e=t.name;if(yC.has(e))return qu.debug(`There were multiple attempts to register component ${e}.`),!1;yC.set(e,t);for(const r of cS.values())gM(r,t);for(const r of Jfe.values())gM(r,t);return!0}function SO(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function $o(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zfe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oh=new Cx("app","Firebase",Zfe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class epe{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=Xfe;function EH(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:vC,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Oh.create("bad-app-name",{appName:String(i)});if(r||(r=xH()),!r)throw Oh.create("no-options");const a=cS.get(i);if(a){if(Kp(r,a.options)&&Kp(n,a.config))return a;throw Oh.create("duplicate-app",{appName:i})}const s=new sfe(i);for(const l of yC.values())s.addComponent(l);const o=new epe(r,n,s);return cS.set(i,o),o}function jH(t=vC){const e=cS.get(t);if(!e&&t===vC&&xH())return EH();if(!e)throw Oh.create("no-app",{appName:t});return e}function Rh(t,e,r){let n=Qfe[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qu.warn(s.join(" "));return}Tv(new Yp(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tpe="firebase-heartbeat-database",rpe=1,ub="firebase-heartbeat-store";let dj=null;function PH(){return dj||(dj=bfe(tpe,rpe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ub)}catch(r){console.warn(r)}}}}).catch(t=>{throw Oh.create("idb-open",{originalErrorMessage:t.message})})),dj}async function npe(t){try{const r=(await PH()).transaction(ub),n=await r.objectStore(ub).get(TH(t));return await r.done,n}catch(e){if(e instanceof ed)qu.warn(e.message);else{const r=Oh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qu.warn(r.message)}}}async function vM(t,e){try{const n=(await PH()).transaction(ub,"readwrite");await n.objectStore(ub).put(e,TH(t)),await n.done}catch(r){if(r instanceof ed)qu.warn(r.message);else{const n=Oh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});qu.warn(n.message)}}}function TH(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ipe=1024,ape=30;class spe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new lpe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ape){const s=cpe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){qu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=yM(),{heartbeatsToSend:n,unsentEntries:i}=ope(this._heartbeatsCache.heartbeats),a=lS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return qu.warn(r),""}}}function yM(){return new Date().toISOString().substring(0,10)}function ope(t,e=ipe){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),bM(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),bM(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class lpe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Khe()?Yhe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await npe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return vM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return vM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function bM(t){return lS(JSON.stringify({version:2,heartbeats:t})).length}function cpe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function upe(t){Tv(new Yp("platform-logger",e=>new _fe(e),"PRIVATE")),Tv(new Yp("heartbeat",e=>new spe(e),"PRIVATE")),Rh(gC,mM,t),Rh(gC,mM,"esm2020"),Rh("fire-js","")}upe("");function CH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dpe=CH,kH=new Cx("auth","Firebase",CH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new wO("@firebase/auth");function hpe(t,...e){uS.logLevel<=Ar.WARN&&uS.warn(`Auth (${Ty}): ${t}`,...e)}function i_(t,...e){uS.logLevel<=Ar.ERROR&&uS.error(`Auth (${Ty}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t,...e){throw AO(t,...e)}function wc(t,...e){return AO(t,...e)}function IH(t,e,r){const n={...dpe(),[e]:r};return new Cx("auth","Firebase",n).create(e,{appName:t.name})}function Tu(t){return IH(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AO(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return kH.create(t,...e)}function qt(t,e,...r){if(!t)throw AO(e,...r)}function Su(t){const e="INTERNAL ASSERTION FAILED: "+t;throw i_(e),new Error(e)}function Wu(t,e){t||Su(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function fpe(){return xM()==="http:"||xM()==="https:"}function xM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ppe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fpe()||qhe()||"connection"in navigator)?navigator.onLine:!0}function mpe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,r){this.shortDelay=e,this.longDelay=r,Wu(r>e,"Short delay should be less than long delay!"),this.isMobile=Uhe()||Whe()}get(){return ppe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t,e){Wu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Su("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Su("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Su("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vpe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ype=new Ix(3e4,6e4);function mf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function td(t,e,r,n,i={}){return RH(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=kx({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return zhe()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Py(t.emulatorConfig.host)&&(u.credentials="include"),OH.fetch()(await DH(t,t.config.apiHost,r,o),u)})}async function RH(t,e,r){t._canInitEmulator=!1;const n={...gpe,...e};try{const i=new xpe(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw r2(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw r2(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw r2(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw r2(t,"user-disabled",s);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw IH(t,d,u);Cl(t,d)}}catch(i){if(i instanceof ed)throw i;Cl(t,"network-request-failed",{message:String(i)})}}async function Ox(t,e,r,n,i={}){const a=await td(t,e,r,n,i);return"mfaPendingCredential"in a&&Cl(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function DH(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?NO(t.config,i):`${t.config.apiScheme}://${i}`;return vpe.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function bpe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xpe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(wc(this.auth,"network-request-failed")),ype.get())})}}function r2(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=wc(t,e,n);return i.customData._tokenResponse=r,i}function wM(t){return t!==void 0&&t.enterprise!==void 0}class wpe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return bpe(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _pe(t,e){return td(t,"GET","/v2/recaptchaConfig",mf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Spe(t,e){return td(t,"POST","/v1/accounts:delete",e)}async function dS(t,e){return td(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ape(t,e=!1){const r=Ai(t),n=await r.getIdToken(e),i=EO(n);qt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:x1(hj(i.auth_time)),issuedAtTime:x1(hj(i.iat)),expirationTime:x1(hj(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hj(t){return Number(t)*1e3}function EO(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return i_("JWT malformed, contained fewer than 3 sections"),null;try{const i=yH(r);return i?JSON.parse(i):(i_("Failed to decode base64 JWT payload"),null)}catch(i){return i_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _M(t){const e=EO(t);return qt(e,"internal-error"),qt(typeof e.exp<"u","internal-error"),qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cv(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ed&&Npe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Npe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=x1(this.lastLoginAt),this.creationTime=x1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(t){var h;const e=t.auth,r=await t.getIdToken(),n=await Cv(t,dS(e,{idToken:r}));qt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?LH(i.providerUserInfo):[],s=Ppe(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xC(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function jpe(t){const e=Ai(t);await hS(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ppe(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function LH(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tpe(t,e){const r=await RH(t,{},async()=>{const n=kx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await DH(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&Py(t.emulatorConfig.host)&&(l.credentials="include"),OH.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Cpe(t,e){return td(t,"POST","/v2/accounts:revokeToken",mf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qt(e.idToken,"internal-error"),qt(typeof e.idToken<"u","internal-error"),qt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_M(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){qt(e.length!==0,"internal-error");const r=_M(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Tpe(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Ug;return n&&(qt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(qt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(qt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ug,this.toJSON())}_performRefresh(){return Su("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e){qt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bl{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Epe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Cv(this,this.stsTokenManager.getToken(this.auth,e));return qt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Ape(this,e)}reload(){return jpe(this)}_assign(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new bl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await hS(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($o(this.auth.app))return Promise.reject(Tu(this.auth));const e=await this.getIdToken();return await Cv(this,Spe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:f,providerData:v,stsTokenManager:m}=r;qt(h&&m,e,"internal-error");const g=Ug.fromJSON(this.name,m);qt(typeof h=="string",e,"internal-error"),Dd(n,e.name),Dd(i,e.name),qt(typeof p=="boolean",e,"internal-error"),qt(typeof f=="boolean",e,"internal-error"),Dd(a,e.name),Dd(s,e.name),Dd(o,e.name),Dd(l,e.name),Dd(u,e.name),Dd(d,e.name);const y=new bl({uid:h,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:f,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:g,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(y.providerData=v.map(x=>({...x}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ug;i.updateFromServerResponse(r);const a=new bl({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await hS(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];qt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?LH(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Ug;o.updateFromIdToken(n);const l=new bl({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new xC(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new Map;function Au(t){Wu(t instanceof Function,"Expected a class definition");let e=SM.get(t);return e?(Wu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}MH.type="NONE";const AM=MH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e,r){return`firebase:${t}:${e}:${r}`}class Vg{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=a_(this.userKey,i.apiKey,a),this.fullPersistenceKey=a_("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await dS(this.auth,{idToken:e}).catch(()=>{});return r?bl._fromGetAccountInfoResponse(this.auth,r,e):null}return bl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Vg(Au(AM),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Au(AM);const s=a_(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const d=await u._get(s);if(d){let h;if(typeof d=="string"){const p=await dS(e,{idToken:d}).catch(()=>{});if(!p)break;h=await bl._fromGetAccountInfoResponse(e,p,d)}else h=bl._fromJSON(e,d);u!==a&&(o=h),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Vg(a,e,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Vg(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($H(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zH(e))return"Blackberry";if(qH(e))return"Webos";if(FH(e))return"Safari";if((e.includes("chrome/")||BH(e))&&!e.includes("edge/"))return"Chrome";if(VH(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function $H(t=Fa()){return/firefox\//i.test(t)}function FH(t=Fa()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BH(t=Fa()){return/crios\//i.test(t)}function UH(t=Fa()){return/iemobile/i.test(t)}function VH(t=Fa()){return/android/i.test(t)}function zH(t=Fa()){return/blackberry/i.test(t)}function qH(t=Fa()){return/webos/i.test(t)}function jO(t=Fa()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kpe(t=Fa()){var e;return jO(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Ipe(){return Hhe()&&document.documentMode===10}function WH(t=Fa()){return jO(t)||VH(t)||qH(t)||zH(t)||/windows phone/i.test(t)||UH(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(t,e=[]){let r;switch(t){case"Browser":r=NM(Fa());break;case"Worker":r=`${NM(Fa())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ty}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ope{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rpe(t,e={}){return td(t,"GET","/v2/passwordPolicy",mf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dpe=6;class Lpe{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Dpe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mpe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EM(this),this.idTokenSubscription=new EM(this),this.beforeStateQueue=new Ope(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Au(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Vg.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await dS(this,{idToken:e}),n=await bl._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if($o(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await hS(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mpe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($o(this.app))return Promise.reject(Tu(this));const r=e?Ai(e):null;return r&&qt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $o(this.app)?Promise.reject(Tu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $o(this.app)?Promise.reject(Tu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Au(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rpe(this),r=new Lpe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cx("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Cpe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Au(e)||this._popupRedirectResolver;qt(r,this,"argument-error"),this.redirectPersistenceManager=await Vg.create(this,[Au(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if($o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&hpe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vm(t){return Ai(t)}class EM{constructor(e){this.auth=e,this.observer=null,this.addObserver=efe(r=>this.observer=r)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $pe(t){yA=t}function GH(t){return yA.loadJS(t)}function Fpe(){return yA.recaptchaEnterpriseScript}function Bpe(){return yA.gapiScript}function Upe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Vpe{constructor(){this.enterprise=new zpe}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class zpe{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const qpe="recaptcha-enterprise",KH="NO_RECAPTCHA";class Wpe{constructor(e){this.type=qpe,this.auth=vm(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{_pe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new wpe(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;wM(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(KH)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vpe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&wM(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Fpe();l.length!==0&&(l+=o),GH(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function jM(t,e,r,n=!1,i=!1){const a=new Wpe(t);let s;if(i)s=KH;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function wC(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await jM(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await jM(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hpe(t,e){const r=SO(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Kp(a,e??{}))return i;Cl(i,"already-initialized")}return r.initialize({options:e})}function Gpe(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Au);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Kpe(t,e,r){const n=vm(t);qt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=YH(e),{host:s,port:o}=Ype(e),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){qt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),qt(Kp(u,n.config.emulator)&&Kp(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Py(s)?(_H(`${a}//${s}${l}`),SH("Auth",!0)):Xpe()}function YH(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ype(t){const e=YH(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:PM(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:PM(s)}}}function PM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xpe(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Su("not implemented")}_getIdTokenResponse(e){return Su("not implemented")}_linkToIdToken(e,r){return Su("not implemented")}_getReauthenticationResolver(e){return Su("not implemented")}}async function Qpe(t,e){return td(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jpe(t,e){return Ox(t,"POST","/v1/accounts:signInWithPassword",mf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zpe(t,e){return Ox(t,"POST","/v1/accounts:signInWithEmailLink",mf(t,e))}async function eme(t,e){return Ox(t,"POST","/v1/accounts:signInWithEmailLink",mf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends PO{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new db(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new db(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wC(e,r,"signInWithPassword",Jpe);case"emailLink":return Zpe(e,{email:this._email,oobCode:this._password});default:Cl(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wC(e,n,"signUpPassword",Qpe);case"emailLink":return eme(e,{idToken:r,email:this._email,oobCode:this._password});default:Cl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zg(t,e){return Ox(t,"POST","/v1/accounts:signInWithIdp",mf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tme="http://localhost";class Xp extends PO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Xp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Cl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new Xp(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return zg(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,zg(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,zg(e,r)}buildRequest(){const e={requestUri:tme,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=kx(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rme(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nme(t){const e=Q0(J0(t)).link,r=e?Q0(J0(e)).deep_link_id:null,n=Q0(J0(t)).deep_link_id;return(n?Q0(J0(n)).link:null)||n||r||e||t}class TO{constructor(e){const r=Q0(J0(e)),n=r.apiKey??null,i=r.oobCode??null,a=rme(r.mode??null);qt(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=nme(e);try{return new TO(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.providerId=Cy.PROVIDER_ID}static credential(e,r){return db._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=TO.parseLink(r);return qt(n,"argument-error"),db._fromEmailAndCode(e,n.code,n.tenantId)}}Cy.PROVIDER_ID="password";Cy.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends XH{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Rx{constructor(){super("facebook.com")}static credential(e){return Xp._fromParams({providerId:Yd.PROVIDER_ID,signInMethod:Yd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yd.credentialFromTaggedObject(e)}static credentialFromError(e){return Yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yd.credential(e.oauthAccessToken)}catch{return null}}}Yd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Rx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Xp._fromParams({providerId:Xd.PROVIDER_ID,signInMethod:Xd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Xd.credentialFromTaggedObject(e)}static credentialFromError(e){return Xd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Xd.credential(r,n)}catch{return null}}}Xd.GOOGLE_SIGN_IN_METHOD="google.com";Xd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Rx{constructor(){super("github.com")}static credential(e){return Xp._fromParams({providerId:Qd.PROVIDER_ID,signInMethod:Qd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qd.credentialFromTaggedObject(e)}static credentialFromError(e){return Qd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qd.credential(e.oauthAccessToken)}catch{return null}}}Qd.GITHUB_SIGN_IN_METHOD="github.com";Qd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends Rx{constructor(){super("twitter.com")}static credential(e,r){return Xp._fromParams({providerId:Jd.PROVIDER_ID,signInMethod:Jd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Jd.credentialFromTaggedObject(e)}static credentialFromError(e){return Jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Jd.credential(r,n)}catch{return null}}}Jd.TWITTER_SIGN_IN_METHOD="twitter.com";Jd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ime(t,e){return Ox(t,"POST","/v1/accounts:signUp",mf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await bl._fromIdTokenResponse(e,n,i),s=TM(n);return new Qp({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=TM(n);return new Qp({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function TM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends ed{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,fS.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new fS(e,r,n,i)}}function QH(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fS._fromErrorAndOperation(t,a,e,n):a})}async function ame(t,e,r=!1){const n=await Cv(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Qp._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sme(t,e,r=!1){const{auth:n}=t;if($o(n.app))return Promise.reject(Tu(n));const i="reauthenticate";try{const a=await Cv(t,QH(n,i,e,t),r);qt(a.idToken,n,"internal-error");const s=EO(a.idToken);qt(s,n,"internal-error");const{sub:o}=s;return qt(t.uid===o,n,"user-mismatch"),Qp._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Cl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JH(t,e,r=!1){if($o(t.app))return Promise.reject(Tu(t));const n="signIn",i=await QH(t,n,e),a=await Qp._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function ome(t,e){return JH(vm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZH(t){const e=vm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lme(t,e,r){if($o(t.app))return Promise.reject(Tu(t));const n=vm(t),s=await wC(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ime).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ZH(t),l}),o=await Qp._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function cme(t,e,r){return $o(t.app)?Promise.reject(Tu(t)):ome(Ai(t),Cy.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&ZH(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ume(t,e){return td(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dme(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Ai(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},s=await Cv(n,ume(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function hme(t,e,r,n){return Ai(t).onIdTokenChanged(e,r,n)}function fme(t,e,r){return Ai(t).beforeAuthStateChanged(e,r)}function pme(t,e,r,n){return Ai(t).onAuthStateChanged(e,r,n)}function mme(t){return Ai(t).signOut()}async function eG(t){return Ai(t).delete()}const pS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(pS,"1"),this.storage.removeItem(pS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gme=1e3,vme=10;class rG extends tG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WH(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);Ipe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vme):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},gme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}rG.type="LOCAL";const yme=rG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG extends tG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}nG.type="SESSION";const iG=nG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bme(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new bA(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),l=await bme(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xme{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=CO("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(){return window}function wme(t){_c().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(){return typeof _c().WorkerGlobalScope<"u"&&typeof _c().importScripts=="function"}async function _me(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sme(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Ame(){return aG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG="firebaseLocalStorageDb",Nme=1,mS="firebaseLocalStorage",oG="fbase_key";class Dx{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function xA(t,e){return t.transaction([mS],e?"readwrite":"readonly").objectStore(mS)}function Eme(){const t=indexedDB.deleteDatabase(sG);return new Dx(t).toPromise()}function _C(){const t=indexedDB.open(sG,Nme);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(mS,{keyPath:oG})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(mS)?e(n):(n.close(),await Eme(),e(await _C()))})})}async function CM(t,e,r){const n=xA(t,!0).put({[oG]:e,value:r});return new Dx(n).toPromise()}async function jme(t,e){const r=xA(t,!1).get(e),n=await new Dx(r).toPromise();return n===void 0?null:n.value}function kM(t,e){const r=xA(t,!0).delete(e);return new Dx(r).toPromise()}const Pme=800,Tme=3;class lG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _C(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Tme)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bA._getInstance(Ame()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await _me(),!this.activeServiceWorker)return;this.sender=new xme(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sme()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _C();return await CM(e,pS,"1"),await kM(e,pS),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>CM(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>jme(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>kM(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=xA(i,!1).getAll();return new Dx(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lG.type="LOCAL";const Cme=lG;new Ix(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kme(t,e){return e?Au(e):(qt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO extends PO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zg(e,this._buildIdpRequest())}_linkToIdToken(e,r){return zg(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return zg(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Ime(t){return JH(t.auth,new kO(t),t.bypassAuthState)}function Ome(t){const{auth:e,user:r}=t;return qt(r,e,"internal-error"),sme(r,new kO(t),t.bypassAuthState)}async function Rme(t){const{auth:e,user:r}=t;return qt(r,e,"internal-error"),ame(r,new kO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ime;case"linkViaPopup":case"linkViaRedirect":return Rme;case"reauthViaPopup":case"reauthViaRedirect":return Ome;default:Cl(this.auth,"internal-error")}}resolve(e){Wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dme=new Ix(2e3,1e4);class Ag extends cG{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ag.currentPopupAction&&Ag.currentPopupAction.cancel(),Ag.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qt(e,this.auth,"internal-error"),e}async onExecution(){Wu(this.filter.length===1,"Popup operations only handle one event");const e=CO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(wc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ag.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Dme.get())};e()}}Ag.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lme="pendingRedirect",s_=new Map;class Mme extends cG{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=s_.get(this.auth._key());if(!e){try{const n=await $me(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}s_.set(this.auth._key(),e)}return this.bypassAuthState||s_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $me(t,e){const r=Ume(e),n=Bme(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Fme(t,e){s_.set(t._key(),e)}function Bme(t){return Au(t._redirectPersistence)}function Ume(t){return a_(Lme,t.config.apiKey,t.name)}async function Vme(t,e,r=!1){if($o(t.app))return Promise.reject(Tu(t));const n=vm(t),i=kme(n,e),s=await new Mme(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zme=10*60*1e3;class qme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wme(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!uG(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(wc(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zme&&this.cachedEventUids.clear(),this.cachedEventUids.has(IM(e))}saveEventToCache(e){this.cachedEventUids.add(IM(e)),this.lastProcessedEventTime=Date.now()}}function IM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uG({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Wme(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uG(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hme(t,e={}){return td(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kme=/^https?/;async function Yme(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Hme(t);for(const r of e)try{if(Xme(r))return}catch{}Cl(t,"unauthorized-domain")}function Xme(t){const e=bC(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!Kme.test(r))return!1;if(Gme.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qme=new Ix(3e4,6e4);function OM(){const t=_c().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Jme(t){return new Promise((e,r)=>{var i,a,s;function n(){OM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OM(),r(wc(t,"network-request-failed"))},timeout:Qme.get()})}if((a=(i=_c().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=_c().gapi)!=null&&s.load)n();else{const o=Upe("iframefcb");return _c()[o]=()=>{gapi.load?n():r(wc(t,"network-request-failed"))},GH(`${Bpe()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw o_=null,e})}let o_=null;function Zme(t){return o_=o_||Jme(t),o_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ege=new Ix(5e3,15e3),tge="__/auth/iframe",rge="emulator/auth/iframe",nge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ige=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function age(t){const e=t.config;qt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?NO(e,rge):`https://${t.config.authDomain}/${tge}`,n={apiKey:e.apiKey,appName:t.name,v:Ty},i=ige.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${kx(n).slice(1)}`}async function sge(t){const e=await Zme(t),r=_c().gapi;return qt(r,t,"internal-error"),e.open({where:document.body,url:age(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nge,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=wc(t,"network-request-failed"),o=_c().setTimeout(()=>{a(s)},ege.get());function l(){_c().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lge=500,cge=600,uge="_blank",dge="http://localhost";class RM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hge(t,e,r,n=lge,i=cge){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...oge,width:n.toString(),height:i.toString(),top:a,left:s},u=Fa().toLowerCase();r&&(o=BH(u)?uge:r),$H(u)&&(e=e||dge,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[f,v])=>`${p}${f}=${v},`,"");if(kpe(u)&&o!=="_self")return fge(e||"",o),new RM(null);const h=window.open(e||"",o,d);qt(h,t,"popup-blocked");try{h.focus()}catch{}return new RM(h)}function fge(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pge="__/auth/handler",mge="emulator/auth/handler",gge=encodeURIComponent("fac");async function DM(t,e,r,n,i,a){qt(t.config.authDomain,t,"auth-domain-config-required"),qt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ty,eventId:i};if(e instanceof XH){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Zhe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof Rx){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${gge}=${encodeURIComponent(l)}`:"";return`${vge(t)}?${kx(o).slice(1)}${u}`}function vge({config:t}){return t.emulator?NO(t,mge):`https://${t.authDomain}/${pge}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="webStorageSupport";class yge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iG,this._completeRedirectFn=Vme,this._overrideRedirectResult=Fme}async _openPopup(e,r,n,i){var s;Wu((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await DM(e,r,n,bC(),i);return hge(e,a,CO())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await DM(e,r,n,bC(),i);return wme(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Wu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await sge(e),n=new qme(e);return r.register("authEvent",i=>(qt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(fj,{type:fj},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[fj];a!==void 0&&r(!!a),Cl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Yme(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return WH()||FH()||jO()}}const bge=yge;var LM="@firebase/auth",MM="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _ge(t){Tv(new Yp("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;qt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HH(t)},u=new Mpe(n,i,a,l);return Gpe(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Tv(new Yp("auth-internal",e=>{const r=vm(e.getProvider("auth").getImmediate());return(n=>new xge(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rh(LM,MM,wge(t)),Rh(LM,MM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sge=5*60,Age=wH("authIdTokenMaxAge")||Sge;let $M=null;const Nge=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Age)return;const i=r==null?void 0:r.token;$M!==i&&($M=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ege(t=jH()){const e=SO(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Hpe(t,{popupRedirectResolver:bge,persistence:[Cme,yme,iG]}),n=wH("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=Nge(a.toString());fme(r,s,()=>s(r.currentUser)),hme(r,o=>s(o))}}const i=bH("auth");return i&&Kpe(r,`http://${i}`),r}function jge(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}$pe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=wc("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",jge().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_ge("Browser");var Pge="firebase",Tge="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rh(Pge,Tge,"app");var FM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dh,dG;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,E){function I(){}I.prototype=E.prototype,j.F=E.prototype,j.prototype=new I,j.prototype.constructor=j,j.D=function(D,k,O){for(var L=Array(arguments.length-2),z=2;z<arguments.length;z++)L[z-2]=arguments[z];return E.prototype[k].apply(D,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,E,I){I||(I=0);const D=Array(16);if(typeof E=="string")for(var k=0;k<16;++k)D[k]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(k=0;k<16;++k)D[k]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=j.g[0],I=j.g[1],k=j.g[2];let O=j.g[3],L;L=E+(O^I&(k^O))+D[0]+3614090360&4294967295,E=I+(L<<7&4294967295|L>>>25),L=O+(k^E&(I^k))+D[1]+3905402710&4294967295,O=E+(L<<12&4294967295|L>>>20),L=k+(I^O&(E^I))+D[2]+606105819&4294967295,k=O+(L<<17&4294967295|L>>>15),L=I+(E^k&(O^E))+D[3]+3250441966&4294967295,I=k+(L<<22&4294967295|L>>>10),L=E+(O^I&(k^O))+D[4]+4118548399&4294967295,E=I+(L<<7&4294967295|L>>>25),L=O+(k^E&(I^k))+D[5]+1200080426&4294967295,O=E+(L<<12&4294967295|L>>>20),L=k+(I^O&(E^I))+D[6]+2821735955&4294967295,k=O+(L<<17&4294967295|L>>>15),L=I+(E^k&(O^E))+D[7]+4249261313&4294967295,I=k+(L<<22&4294967295|L>>>10),L=E+(O^I&(k^O))+D[8]+1770035416&4294967295,E=I+(L<<7&4294967295|L>>>25),L=O+(k^E&(I^k))+D[9]+2336552879&4294967295,O=E+(L<<12&4294967295|L>>>20),L=k+(I^O&(E^I))+D[10]+4294925233&4294967295,k=O+(L<<17&4294967295|L>>>15),L=I+(E^k&(O^E))+D[11]+2304563134&4294967295,I=k+(L<<22&4294967295|L>>>10),L=E+(O^I&(k^O))+D[12]+1804603682&4294967295,E=I+(L<<7&4294967295|L>>>25),L=O+(k^E&(I^k))+D[13]+4254626195&4294967295,O=E+(L<<12&4294967295|L>>>20),L=k+(I^O&(E^I))+D[14]+2792965006&4294967295,k=O+(L<<17&4294967295|L>>>15),L=I+(E^k&(O^E))+D[15]+1236535329&4294967295,I=k+(L<<22&4294967295|L>>>10),L=E+(k^O&(I^k))+D[1]+4129170786&4294967295,E=I+(L<<5&4294967295|L>>>27),L=O+(I^k&(E^I))+D[6]+3225465664&4294967295,O=E+(L<<9&4294967295|L>>>23),L=k+(E^I&(O^E))+D[11]+643717713&4294967295,k=O+(L<<14&4294967295|L>>>18),L=I+(O^E&(k^O))+D[0]+3921069994&4294967295,I=k+(L<<20&4294967295|L>>>12),L=E+(k^O&(I^k))+D[5]+3593408605&4294967295,E=I+(L<<5&4294967295|L>>>27),L=O+(I^k&(E^I))+D[10]+38016083&4294967295,O=E+(L<<9&4294967295|L>>>23),L=k+(E^I&(O^E))+D[15]+3634488961&4294967295,k=O+(L<<14&4294967295|L>>>18),L=I+(O^E&(k^O))+D[4]+3889429448&4294967295,I=k+(L<<20&4294967295|L>>>12),L=E+(k^O&(I^k))+D[9]+568446438&4294967295,E=I+(L<<5&4294967295|L>>>27),L=O+(I^k&(E^I))+D[14]+3275163606&4294967295,O=E+(L<<9&4294967295|L>>>23),L=k+(E^I&(O^E))+D[3]+4107603335&4294967295,k=O+(L<<14&4294967295|L>>>18),L=I+(O^E&(k^O))+D[8]+1163531501&4294967295,I=k+(L<<20&4294967295|L>>>12),L=E+(k^O&(I^k))+D[13]+2850285829&4294967295,E=I+(L<<5&4294967295|L>>>27),L=O+(I^k&(E^I))+D[2]+4243563512&4294967295,O=E+(L<<9&4294967295|L>>>23),L=k+(E^I&(O^E))+D[7]+1735328473&4294967295,k=O+(L<<14&4294967295|L>>>18),L=I+(O^E&(k^O))+D[12]+2368359562&4294967295,I=k+(L<<20&4294967295|L>>>12),L=E+(I^k^O)+D[5]+4294588738&4294967295,E=I+(L<<4&4294967295|L>>>28),L=O+(E^I^k)+D[8]+2272392833&4294967295,O=E+(L<<11&4294967295|L>>>21),L=k+(O^E^I)+D[11]+1839030562&4294967295,k=O+(L<<16&4294967295|L>>>16),L=I+(k^O^E)+D[14]+4259657740&4294967295,I=k+(L<<23&4294967295|L>>>9),L=E+(I^k^O)+D[1]+2763975236&4294967295,E=I+(L<<4&4294967295|L>>>28),L=O+(E^I^k)+D[4]+1272893353&4294967295,O=E+(L<<11&4294967295|L>>>21),L=k+(O^E^I)+D[7]+4139469664&4294967295,k=O+(L<<16&4294967295|L>>>16),L=I+(k^O^E)+D[10]+3200236656&4294967295,I=k+(L<<23&4294967295|L>>>9),L=E+(I^k^O)+D[13]+681279174&4294967295,E=I+(L<<4&4294967295|L>>>28),L=O+(E^I^k)+D[0]+3936430074&4294967295,O=E+(L<<11&4294967295|L>>>21),L=k+(O^E^I)+D[3]+3572445317&4294967295,k=O+(L<<16&4294967295|L>>>16),L=I+(k^O^E)+D[6]+76029189&4294967295,I=k+(L<<23&4294967295|L>>>9),L=E+(I^k^O)+D[9]+3654602809&4294967295,E=I+(L<<4&4294967295|L>>>28),L=O+(E^I^k)+D[12]+3873151461&4294967295,O=E+(L<<11&4294967295|L>>>21),L=k+(O^E^I)+D[15]+530742520&4294967295,k=O+(L<<16&4294967295|L>>>16),L=I+(k^O^E)+D[2]+3299628645&4294967295,I=k+(L<<23&4294967295|L>>>9),L=E+(k^(I|~O))+D[0]+4096336452&4294967295,E=I+(L<<6&4294967295|L>>>26),L=O+(I^(E|~k))+D[7]+1126891415&4294967295,O=E+(L<<10&4294967295|L>>>22),L=k+(E^(O|~I))+D[14]+2878612391&4294967295,k=O+(L<<15&4294967295|L>>>17),L=I+(O^(k|~E))+D[5]+4237533241&4294967295,I=k+(L<<21&4294967295|L>>>11),L=E+(k^(I|~O))+D[12]+1700485571&4294967295,E=I+(L<<6&4294967295|L>>>26),L=O+(I^(E|~k))+D[3]+2399980690&4294967295,O=E+(L<<10&4294967295|L>>>22),L=k+(E^(O|~I))+D[10]+4293915773&4294967295,k=O+(L<<15&4294967295|L>>>17),L=I+(O^(k|~E))+D[1]+2240044497&4294967295,I=k+(L<<21&4294967295|L>>>11),L=E+(k^(I|~O))+D[8]+1873313359&4294967295,E=I+(L<<6&4294967295|L>>>26),L=O+(I^(E|~k))+D[15]+4264355552&4294967295,O=E+(L<<10&4294967295|L>>>22),L=k+(E^(O|~I))+D[6]+2734768916&4294967295,k=O+(L<<15&4294967295|L>>>17),L=I+(O^(k|~E))+D[13]+1309151649&4294967295,I=k+(L<<21&4294967295|L>>>11),L=E+(k^(I|~O))+D[4]+4149444226&4294967295,E=I+(L<<6&4294967295|L>>>26),L=O+(I^(E|~k))+D[11]+3174756917&4294967295,O=E+(L<<10&4294967295|L>>>22),L=k+(E^(O|~I))+D[2]+718787259&4294967295,k=O+(L<<15&4294967295|L>>>17),L=I+(O^(k|~E))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+E&4294967295,j.g[1]=j.g[1]+(k+(L<<21&4294967295|L>>>11))&4294967295,j.g[2]=j.g[2]+k&4294967295,j.g[3]=j.g[3]+O&4294967295}n.prototype.v=function(j,E){E===void 0&&(E=j.length);const I=E-this.blockSize,D=this.C;let k=this.h,O=0;for(;O<E;){if(k==0)for(;O<=I;)i(this,j,O),O+=this.blockSize;if(typeof j=="string"){for(;O<E;)if(D[k++]=j.charCodeAt(O++),k==this.blockSize){i(this,D),k=0;break}}else for(;O<E;)if(D[k++]=j[O++],k==this.blockSize){i(this,D),k=0;break}}this.h=k,this.o+=E},n.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var E=1;E<j.length-8;++E)j[E]=0;E=this.o*8;for(var I=j.length-8;I<j.length;++I)j[I]=E&255,E/=256;for(this.v(j),j=Array(16),E=0,I=0;I<4;++I)for(let D=0;D<32;D+=8)j[E++]=this.g[I]>>>D&255;return j};function a(j,E){var I=o;return Object.prototype.hasOwnProperty.call(I,j)?I[j]:I[j]=E(j)}function s(j,E){this.h=E;const I=[];let D=!0;for(let k=j.length-1;k>=0;k--){const O=j[k]|0;D&&O==E||(I[k]=O,D=!1)}this.g=I}var o={};function l(j){return-128<=j&&j<128?a(j,function(E){return new s([E|0],E<0?-1:0)}):new s([j|0],j<0?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return h;if(j<0)return g(u(-j));const E=[];let I=1;for(let D=0;j>=I;D++)E[D]=j/I|0,I*=4294967296;return new s(E,0)}function d(j,E){if(j.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(j.charAt(0)=="-")return g(d(j.substring(1),E));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(E,8));let D=h;for(let O=0;O<j.length;O+=8){var k=Math.min(8,j.length-O);const L=parseInt(j.substring(O,O+k),E);k<8?(k=u(Math.pow(E,k)),D=D.j(k).add(u(L))):(D=D.j(I),D=D.add(u(L)))}return D}var h=l(0),p=l(1),f=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-g(this).m();let j=0,E=1;for(let I=0;I<this.g.length;I++){const D=this.i(I);j+=(D>=0?D:4294967296+D)*E,E*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(v(this))return"0";if(m(this))return"-"+g(this).toString(j);const E=u(Math.pow(j,6));var I=this;let D="";for(;;){const k=S(I,E).g;I=y(I,k.j(E));let O=((I.g.length>0?I.g[0]:I.h)>>>0).toString(j);if(I=k,v(I))return O+D;for(;O.length<6;)O="0"+O;D=O+D}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function v(j){if(j.h!=0)return!1;for(let E=0;E<j.g.length;E++)if(j.g[E]!=0)return!1;return!0}function m(j){return j.h==-1}t.l=function(j){return j=y(this,j),m(j)?-1:v(j)?0:1};function g(j){const E=j.g.length,I=[];for(let D=0;D<E;D++)I[D]=~j.g[D];return new s(I,~j.h).add(p)}t.abs=function(){return m(this)?g(this):this},t.add=function(j){const E=Math.max(this.g.length,j.g.length),I=[];let D=0;for(let k=0;k<=E;k++){let O=D+(this.i(k)&65535)+(j.i(k)&65535),L=(O>>>16)+(this.i(k)>>>16)+(j.i(k)>>>16);D=L>>>16,O&=65535,L&=65535,I[k]=L<<16|O}return new s(I,I[I.length-1]&-2147483648?-1:0)};function y(j,E){return j.add(g(E))}t.j=function(j){if(v(this)||v(j))return h;if(m(this))return m(j)?g(this).j(g(j)):g(g(this).j(j));if(m(j))return g(this.j(g(j)));if(this.l(f)<0&&j.l(f)<0)return u(this.m()*j.m());const E=this.g.length+j.g.length,I=[];for(var D=0;D<2*E;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(let k=0;k<j.g.length;k++){const O=this.i(D)>>>16,L=this.i(D)&65535,z=j.i(k)>>>16,re=j.i(k)&65535;I[2*D+2*k]+=L*re,x(I,2*D+2*k),I[2*D+2*k+1]+=O*re,x(I,2*D+2*k+1),I[2*D+2*k+1]+=L*z,x(I,2*D+2*k+1),I[2*D+2*k+2]+=O*z,x(I,2*D+2*k+2)}for(j=0;j<E;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=E;j<2*E;j++)I[j]=0;return new s(I,0)};function x(j,E){for(;(j[E]&65535)!=j[E];)j[E+1]+=j[E]>>>16,j[E]&=65535,E++}function _(j,E){this.g=j,this.h=E}function S(j,E){if(v(E))throw Error("division by zero");if(v(j))return new _(h,h);if(m(j))return E=S(g(j),E),new _(g(E.g),g(E.h));if(m(E))return E=S(j,g(E)),new _(g(E.g),E.h);if(j.g.length>30){if(m(j)||m(E))throw Error("slowDivide_ only works with positive integers.");for(var I=p,D=E;D.l(j)<=0;)I=N(I),D=N(D);var k=C(I,1),O=C(D,1);for(D=C(D,2),I=C(I,2);!v(D);){var L=O.add(D);L.l(j)<=0&&(k=k.add(I),O=L),D=C(D,1),I=C(I,1)}return E=y(j,k.j(E)),new _(k,E)}for(k=h;j.l(E)>=0;){for(I=Math.max(1,Math.floor(j.m()/E.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),O=u(I),L=O.j(E);m(L)||L.l(j)>0;)I-=D,O=u(I),L=O.j(E);v(O)&&(O=p),k=k.add(O),j=y(j,L)}return new _(k,j)}t.B=function(j){return S(this,j).h},t.and=function(j){const E=Math.max(this.g.length,j.g.length),I=[];for(let D=0;D<E;D++)I[D]=this.i(D)&j.i(D);return new s(I,this.h&j.h)},t.or=function(j){const E=Math.max(this.g.length,j.g.length),I=[];for(let D=0;D<E;D++)I[D]=this.i(D)|j.i(D);return new s(I,this.h|j.h)},t.xor=function(j){const E=Math.max(this.g.length,j.g.length),I=[];for(let D=0;D<E;D++)I[D]=this.i(D)^j.i(D);return new s(I,this.h^j.h)};function N(j){const E=j.g.length+1,I=[];for(let D=0;D<E;D++)I[D]=j.i(D)<<1|j.i(D-1)>>>31;return new s(I,j.h)}function C(j,E){const I=E>>5;E%=32;const D=j.g.length-I,k=[];for(let O=0;O<D;O++)k[O]=E>0?j.i(O+I)>>>E|j.i(O+I+1)<<32-E:j.i(O+I);return new s(k,j.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,dG=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Dh=s}).apply(typeof FM<"u"?FM:typeof self<"u"?self:typeof window<"u"?window:{});var n2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hG,Z0,fG,l_,SC,pG,mG,gG;(function(){var t,e=Object.defineProperty;function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof n2=="object"&&n2];for(var $=0;$<w.length;++$){var U=w[$];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var n=r(this);function i(w,$){if($)e:{var U=n;w=w.split(".");for(var se=0;se<w.length-1;se++){var Te=w[se];if(!(Te in U))break e;U=U[Te]}w=w[w.length-1],se=U[w],$=$(se),$!=se&&$!=null&&e(U,w,{configurable:!0,writable:!0,value:$})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function($){var U=[],se;for(se in $)Object.prototype.hasOwnProperty.call($,se)&&U.push([se,$[se]]);return U}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(w){var $=typeof w;return $=="object"&&w!=null||$=="function"}function l(w,$,U){return w.call.apply(w.bind,arguments)}function u(w,$,U){return u=l,u.apply(null,arguments)}function d(w,$){var U=Array.prototype.slice.call(arguments,1);return function(){var se=U.slice();return se.push.apply(se,arguments),w.apply(this,se)}}function h(w,$){function U(){}U.prototype=$.prototype,w.Z=$.prototype,w.prototype=new U,w.prototype.constructor=w,w.Ob=function(se,Te,Re){for(var tt=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)tt[Zt-2]=arguments[Zt];return $.prototype[Te].apply(se,tt)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function f(w){const $=w.length;if($>0){const U=Array($);for(let se=0;se<$;se++)U[se]=w[se];return U}return[]}function v(w,$){for(let se=1;se<arguments.length;se++){const Te=arguments[se];var U=typeof Te;if(U=U!="object"?U:Te?Array.isArray(Te)?"array":U:"null",U=="array"||U=="object"&&typeof Te.length=="number"){U=w.length||0;const Re=Te.length||0;w.length=U+Re;for(let tt=0;tt<Re;tt++)w[U+tt]=Te[tt]}else w.push(Te)}}class m{constructor($,U){this.i=$,this.j=U,this.h=0,this.g=null}get(){let $;return this.h>0?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function g(w){s.setTimeout(()=>{throw w},0)}function y(){var w=j;let $=null;return w.g&&($=w.g,w.g=w.g.next,w.g||(w.h=null),$.next=null),$}class x{constructor(){this.h=this.g=null}add($,U){const se=_.get();se.set($,U),this.h?this.h.next=se:this.g=se,this.h=se}}var _=new m(()=>new S,w=>w.reset());class S{constructor(){this.next=this.g=this.h=null}set($,U){this.h=$,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let N,C=!1,j=new x,E=()=>{const w=Promise.resolve(void 0);N=()=>{w.then(I)}};function I(){for(var w;w=y();){try{w.h.call(w.g)}catch(U){g(U)}var $=_;$.j(w),$.h<100&&($.h++,w.next=$.g,$.g=w)}C=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(w,$){this.type=w,this.g=this.target=$,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var w=!1,$=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const U=()=>{};s.addEventListener("test",U,$),s.removeEventListener("test",U,$)}catch{}return w}();function L(w){return/^[\s\xa0]*$/.test(w)}function z(w,$){k.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,$)}h(z,k),z.prototype.init=function(w,$){const U=this.type=w.type,se=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=$,$=w.relatedTarget,$||(U=="mouseover"?$=w.fromElement:U=="mouseout"&&($=w.toElement)),this.relatedTarget=$,se?(this.clientX=se.clientX!==void 0?se.clientX:se.pageX,this.clientY=se.clientY!==void 0?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),Y=0;function K(w,$,U,se,Te){this.listener=w,this.proxy=null,this.src=$,this.type=U,this.capture=!!se,this.ha=Te,this.key=++Y,this.da=this.fa=!1}function q(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Z(w,$,U){for(const se in w)$.call(U,w[se],se,w)}function ve(w,$){for(const U in w)$.call(void 0,w[U],U,w)}function ce(w){const $={};for(const U in w)$[U]=w[U];return $}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(w,$){let U,se;for(let Te=1;Te<arguments.length;Te++){se=arguments[Te];for(U in se)w[U]=se[U];for(let Re=0;Re<F.length;Re++)U=F[Re],Object.prototype.hasOwnProperty.call(se,U)&&(w[U]=se[U])}}function G(w){this.src=w,this.g={},this.h=0}G.prototype.add=function(w,$,U,se,Te){const Re=w.toString();w=this.g[Re],w||(w=this.g[Re]=[],this.h++);const tt=J(w,$,se,Te);return tt>-1?($=w[tt],U||($.fa=!1)):($=new K($,this.src,Re,!!se,Te),$.fa=U,w.push($)),$};function oe(w,$){const U=$.type;if(U in w.g){var se=w.g[U],Te=Array.prototype.indexOf.call(se,$,void 0),Re;(Re=Te>=0)&&Array.prototype.splice.call(se,Te,1),Re&&(q($),w.g[U].length==0&&(delete w.g[U],w.h--))}}function J(w,$,U,se){for(let Te=0;Te<w.length;++Te){const Re=w[Te];if(!Re.da&&Re.listener==$&&Re.capture==!!U&&Re.ha==se)return Te}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),be={};function he(w,$,U,se,Te){if(Array.isArray($)){for(let Re=0;Re<$.length;Re++)he(w,$[Re],U,se,Te);return null}return U=Le(U),w&&w[re]?w.J($,U,o(se)?!!se.capture:!!se,Te):T(w,$,U,!1,se,Te)}function T(w,$,U,se,Te,Re){if(!$)throw Error("Invalid event type");const tt=o(Te)?!!Te.capture:!!Te;let Zt=Ne(w);if(Zt||(w[ie]=Zt=new G(w)),U=Zt.add($,U,se,tt,Re),U.proxy)return U;if(se=X(),U.proxy=se,se.src=w,se.listener=U,w.addEventListener)O||(Te=tt),Te===void 0&&(Te=!1),w.addEventListener($.toString(),se,Te);else if(w.attachEvent)w.attachEvent(ge($.toString()),se);else if(w.addListener&&w.removeListener)w.addListener(se);else throw Error("addEventListener and attachEvent are unavailable.");return U}function X(){function w(U){return $.call(w.src,w.listener,U)}const $=ee;return w}function ne(w,$,U,se,Te){if(Array.isArray($))for(var Re=0;Re<$.length;Re++)ne(w,$[Re],U,se,Te);else se=o(se)?!!se.capture:!!se,U=Le(U),w&&w[re]?(w=w.i,Re=String($).toString(),Re in w.g&&($=w.g[Re],U=J($,U,se,Te),U>-1&&(q($[U]),Array.prototype.splice.call($,U,1),$.length==0&&(delete w.g[Re],w.h--)))):w&&(w=Ne(w))&&($=w.g[$.toString()],w=-1,$&&(w=J($,U,se,Te)),(U=w>-1?$[w]:null)&&de(U))}function de(w){if(typeof w!="number"&&w&&!w.da){var $=w.src;if($&&$[re])oe($.i,w);else{var U=w.type,se=w.proxy;$.removeEventListener?$.removeEventListener(U,se,w.capture):$.detachEvent?$.detachEvent(ge(U),se):$.addListener&&$.removeListener&&$.removeListener(se),(U=Ne($))?(oe(U,w),U.h==0&&(U.src=null,$[ie]=null)):q(w)}}}function ge(w){return w in be?be[w]:be[w]="on"+w}function ee(w,$){if(w.da)w=!0;else{$=new z($,this);const U=w.listener,se=w.ha||w.src;w.fa&&de(w),w=U.call(se,$)}return w}function Ne(w){return w=w[ie],w instanceof G?w:null}var De="__closure_events_fn_"+(Math.random()*1e9>>>0);function Le(w){return typeof w=="function"?w:(w[De]||(w[De]=function($){return w.handleEvent($)}),w[De])}function _e(){D.call(this),this.i=new G(this),this.M=this,this.G=null}h(_e,D),_e.prototype[re]=!0,_e.prototype.removeEventListener=function(w,$,U,se){ne(this,w,$,U,se)};function Pe(w,$){var U,se=w.G;if(se)for(U=[];se;se=se.G)U.push(se);if(w=w.M,se=$.type||$,typeof $=="string")$=new k($,w);else if($ instanceof k)$.target=$.target||w;else{var Te=$;$=new k(se,w),V($,Te)}Te=!0;let Re,tt;if(U)for(tt=U.length-1;tt>=0;tt--)Re=$.g=U[tt],Te=je(Re,se,!0,$)&&Te;if(Re=$.g=w,Te=je(Re,se,!0,$)&&Te,Te=je(Re,se,!1,$)&&Te,U)for(tt=0;tt<U.length;tt++)Re=$.g=U[tt],Te=je(Re,se,!1,$)&&Te}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var w=this.i;for(const $ in w.g){const U=w.g[$];for(let se=0;se<U.length;se++)q(U[se]);delete w.g[$],w.h--}}this.G=null},_e.prototype.J=function(w,$,U,se){return this.i.add(String(w),$,!1,U,se)},_e.prototype.K=function(w,$,U,se){return this.i.add(String(w),$,!0,U,se)};function je(w,$,U,se){if($=w.i.g[String($)],!$)return!0;$=$.concat();let Te=!0;for(let Re=0;Re<$.length;++Re){const tt=$[Re];if(tt&&!tt.da&&tt.capture==U){const Zt=tt.listener,vn=tt.ha||tt.src;tt.fa&&oe(w.i,tt),Te=Zt.call(vn,se)!==!1&&Te}}return Te&&!se.defaultPrevented}function Me(w,$){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=u(w.handleEvent,w);else throw Error("Invalid listener argument");return Number($)>2147483647?-1:s.setTimeout(w,$||0)}function Je(w){w.g=Me(()=>{w.g=null,w.i&&(w.i=!1,Je(w))},w.l);const $=w.h;w.h=null,w.m.apply(null,$)}class Gt extends D{constructor($,U){super(),this.m=$,this.l=U,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(w){D.call(this),this.h=w,this.g={}}h(At,D);var ut=[];function Lt(w){Z(w.g,function($,U){this.g.hasOwnProperty(U)&&de($)},w),w.g={}}At.prototype.N=function(){At.Z.N.call(this),Lt(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=s.JSON.stringify,St=s.JSON.parse,kt=class{stringify(w){return s.JSON.stringify(w,void 0)}parse(w){return s.JSON.parse(w,void 0)}};function ct(){}function Kt(){}var zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dt(){k.call(this,"d")}h(dt,k);function Oe(){k.call(this,"c")}h(Oe,k);var Ot={},gt=null;function Qt(){return gt=gt||new _e}Ot.Ia="serverreachability";function Ae(w){k.call(this,Ot.Ia,w)}h(Ae,k);function nt(w){const $=Qt();Pe($,new Ae($))}Ot.STAT_EVENT="statevent";function tr(w,$){k.call(this,Ot.STAT_EVENT,w),this.stat=$}h(tr,k);function it(w){const $=Qt();Pe($,new tr($,w))}Ot.Ja="timingevent";function Ze(w,$){k.call(this,Ot.Ja,w),this.size=$}h(Ze,k);function mt(w,$){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){w()},$)}function ot(){this.g=!0}ot.prototype.ua=function(){this.g=!1};function ft(w,$,U,se,Te,Re){w.info(function(){if(w.g)if(Re){var tt="",Zt=Re.split("&");for(let Sr=0;Sr<Zt.length;Sr++){var vn=Zt[Sr].split("=");if(vn.length>1){const Nn=vn[0];vn=vn[1];const Yi=Nn.split("_");tt=Yi.length>=2&&Yi[1]=="type"?tt+(Nn+"="+vn+"&"):tt+(Nn+"=redacted&")}}}else tt=null;else tt=Re;return"XMLHTTP REQ ("+se+") [attempt "+Te+"]: "+$+`
`+U+`
`+tt})}function ur(w,$,U,se,Te,Re,tt){w.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+Te+"]: "+$+`
`+U+`
`+Re+" "+tt})}function dr(w,$,U,se){w.info(function(){return"XMLHTTP TEXT ("+$+"): "+Qn(w,U)+(se?" "+se:"")})}function lt(w,$){w.info(function(){return"TIMEOUT: "+$})}ot.prototype.info=function(){};function Qn(w,$){if(!w.g)return $;if(!$)return null;try{const Re=JSON.parse($);if(Re){for(w=0;w<Re.length;w++)if(Array.isArray(Re[w])){var U=Re[w];if(!(U.length<2)){var se=U[1];if(Array.isArray(se)&&!(se.length<1)){var Te=se[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(let tt=1;tt<se.length;tt++)se[tt]=""}}}}return Nt(Re)}catch{return $}}var Rn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$r={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cn;function en(){}h(en,ct),en.prototype.g=function(){return new XMLHttpRequest},cn=new en;function fn(w){return encodeURIComponent(String(w))}function Et(w){var $=1;w=w.split(":");const U=[];for(;$>0&&w.length;)U.push(w.shift()),$--;return w.length&&U.push(w.join(":")),U}function nr(w,$,U,se){this.j=w,this.i=$,this.l=U,this.S=se||1,this.V=new At(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}var wr={},un={};function dn(w,$,U){w.M=1,w.A=ya(Gr($)),w.u=U,w.R=!0,Dn(w,null)}function Dn(w,$){w.F=Date.now(),yo(w),w.B=Gr(w.A);var U=w.B,se=w.S;Array.isArray(se)||(se=[String(se)]),Om(U.i,"t",se),w.C=0,U=w.j.L,w.h=new jr,w.g=vt(w.j,U?$:null,!w.u),w.P>0&&(w.O=new Gt(u(w.Y,w,w.g),w.P)),$=w.V,U=w.g,se=w.ba;var Te="readystatechange";Array.isArray(Te)||(Te&&(ut[0]=Te.toString()),Te=ut);for(let Re=0;Re<Te.length;Re++){const tt=he(U,Te[Re],se||$.handleEvent,!1,$.h||$);if(!tt)break;$.g[tt.key]=tt}$=w.J?ce(w.J):{},w.u?(w.v||(w.v="POST"),$["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,$)):(w.v="GET",w.g.ea(w.B,w.v,null,$)),nt(),ft(w.i,w.v,w.B,w.l,w.S,w.u)}nr.prototype.ba=function(w){w=w.target;const $=this.O;$&&ms(w)==3?$.j():this.Y(w)},nr.prototype.Y=function(w){try{if(w==this.g)e:{const Zt=ms(this.g),vn=this.g.ya(),Sr=this.g.ca();if(!(Zt<3)&&(Zt!=3||this.g&&(this.h.h||this.g.la()||gd(this.g)))){this.K||Zt!=4||vn==7||(vn==8||Sr<=0?nt(3):nt(2)),Ul(this);var $=this.g.ca();this.X=$;var U=pn(this);if(this.o=$==200,ur(this.i,this.v,this.B,this.l,this.S,Zt,$),this.o){if(this.U&&!this.L){t:{if(this.g){var se,Te=this.g;if((se=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(se)){var Re=se;break t}}Re=null}if(w=Re)dr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zc(this,w);else{this.o=!1,this.m=3,it(12),tl(this),bo(this);break e}}if(this.R){w=!0;let Nn;for(;!this.K&&this.C<U.length;)if(Nn=Wn(this,U),Nn==un){Zt==4&&(this.m=4,it(14),w=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==wr){this.m=4,it(15),dr(this.i,this.l,U,"[Invalid Chunk]"),w=!1;break}else dr(this.i,this.l,Nn,null),zc(this,Nn);if(Fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||U.length!=0||this.h.h||(this.m=1,it(16),w=!1),this.o=this.o&&w,!w)dr(this.i,this.l,U,"[Invalid Chunked Response]"),tl(this),bo(this);else if(U.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),yd(tt),tt.P=!0,it(11))}}else dr(this.i,this.l,U,null),zc(this,U);Zt==4&&tl(this),this.o&&!this.K&&(Zt==4?fe(this.j,this):(this.o=!1,yo(this)))}else Yc(this.g),$==400&&U.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),tl(this),bo(this)}}}catch{}finally{}};function pn(w){if(!Fr(w))return w.g.la();const $=gd(w.g);if($==="")return"";let U="";const se=$.length,Te=ms(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return tl(w),bo(w),"";w.h.i=new s.TextDecoder}for(let Re=0;Re<se;Re++)w.h.h=!0,U+=w.h.i.decode($[Re],{stream:!(Te&&Re==se-1)});return $.length=0,w.h.g+=U,w.C=0,w.h.g}function Fr(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function Wn(w,$){var U=w.C,se=$.indexOf(`
`,U);return se==-1?un:(U=Number($.substring(U,se)),isNaN(U)?wr:(se+=1,se+U>$.length?un:($=$.slice(se,se+U),w.C=se+U,$)))}nr.prototype.cancel=function(){this.K=!0,tl(this)};function yo(w){w.T=Date.now()+w.H,Vc(w,w.H)}function Vc(w,$){if(w.D!=null)throw Error("WatchDog timer not null");w.D=mt(u(w.aa,w),$)}function Ul(w){w.D&&(s.clearTimeout(w.D),w.D=null)}nr.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(lt(this.i,this.B),this.M!=2&&(nt(),it(17)),tl(this),this.m=2,bo(this)):Vc(this,this.T-w)};function bo(w){w.j.I==0||w.K||fe(w.j,w)}function tl(w){Ul(w);var $=w.O;$&&typeof $.dispose=="function"&&$.dispose(),w.O=null,Lt(w.V),w.g&&($=w.g,w.g=null,$.abort(),$.dispose())}function zc(w,$){try{var U=w.j;if(U.I!=0&&(U.g==w||cd(U.h,w))){if(!w.L&&cd(U.h,w)&&U.I==3){try{var se=U.Ba.g.parse($)}catch{se=null}if(Array.isArray(se)&&se.length==3){var Te=se;if(Te[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<w.F)W(U),Kl(U);else break e;rl(U),it(18)}}else U.xa=Te[1],0<U.xa-U.K&&Te[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=mt(u(U.Va,U),6e3));ld(U.h)<=1&&U.ta&&(U.ta=void 0)}else Ee(U,11)}else if((w.L||U.g==w)&&W(U),!L($))for(Te=U.Ba.g.parse($),$=0;$<Te.length;$++){let Sr=Te[$];const Nn=Sr[0];if(!(Nn<=U.K))if(U.K=Nn,Sr=Sr[1],U.I==2)if(Sr[0]=="c"){U.M=Sr[1],U.ba=Sr[2];const Yi=Sr[3];Yi!=null&&(U.ka=Yi,U.j.info("VER="+U.ka));const qa=Sr[4];qa!=null&&(U.za=qa,U.j.info("SVER="+U.za));const Ln=Sr[5];Ln!=null&&typeof Ln=="number"&&Ln>0&&(se=1.5*Ln,U.O=se,U.j.info("backChannelRequestTimeoutMs_="+se)),se=U;const xa=w.g;if(xa){const Ao=xa.g?xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ao){var Re=se.h;Re.g||Ao.indexOf("spdy")==-1&&Ao.indexOf("quic")==-1&&Ao.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(qc(Re,Re.h),Re.h=null))}if(se.G){const Qc=xa.g?xa.g.getResponseHeader("X-HTTP-Session-Id"):null;Qc&&(se.wa=Qc,Br(se.J,se.G,Qc))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-w.F,U.j.info("Handshake RTT: "+U.T+"ms")),se=U;var tt=w;if(se.na=Ge(se,se.L?se.ba:null,se.W),tt.L){Cf(se.h,tt);var Zt=tt,vn=se.O;vn&&(Zt.H=vn),Zt.D&&(Ul(Zt),yo(Zt)),se.g=tt}else $f(se);U.i.length>0&&Xc(U)}else Sr[0]!="stop"&&Sr[0]!="close"||Ee(U,7);else U.I==3&&(Sr[0]=="stop"||Sr[0]=="close"?Sr[0]=="stop"?Ee(U,7):Gl(U):Sr[0]!="noop"&&U.l&&U.l.qa(Sr),U.A=0)}}nt(4)}catch{}}var Pm=class{constructor(w,$){this.g=w,this.map=$}};function Tf(w){this.l=w||10,s.PerformanceNavigationTiming?(w=s.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ua(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function ld(w){return w.h?1:w.g?w.g.size:0}function cd(w,$){return w.h?w.h==$:w.g?w.g.has($):!1}function qc(w,$){w.g?w.g.add($):w.h=$}function Cf(w,$){w.h&&w.h==$?w.h=null:w.g&&w.g.has($)&&w.g.delete($)}Tf.prototype.cancel=function(){if(this.i=kf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function kf(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let $=w.i;for(const U of w.g.values())$=$.concat(U.G);return $}return f(w.i)}var If=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ud(w,$){if(w){w=w.split("&");for(let U=0;U<w.length;U++){const se=w[U].indexOf("=");let Te,Re=null;se>=0?(Te=w[U].substring(0,se),Re=w[U].substring(se+1)):Te=w[U],$(Te,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function xo(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let $;w instanceof xo?(this.l=w.l,Vl(this,w.j),this.o=w.o,this.g=w.g,zl(this,w.u),this.h=w.h,$s(this,hd(w.i)),this.m=w.m):w&&($=String(w).match(If))?(this.l=!1,Vl(this,$[1]||"",!0),this.o=Fs($[2]||""),this.g=Fs($[3]||"",!0),zl(this,$[4]),this.h=Fs($[5]||"",!0),$s(this,$[6]||"",!0),this.m=Fs($[7]||"")):(this.l=!1,this.i=new ql(null,this.l))}xo.prototype.toString=function(){const w=[];var $=this.j;$&&w.push(mn($,Tm,!0),":");var U=this.g;return(U||$=="file")&&(w.push("//"),($=this.o)&&w.push(mn($,Tm,!0),"@"),w.push(fn(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&w.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&w.push("/"),w.push(mn(U,U.charAt(0)=="/"?r0:t0,!0))),(U=this.i.toString())&&w.push("?",U),(U=this.m)&&w.push("#",mn(U,Cm)),w.join("")},xo.prototype.resolve=function(w){const $=Gr(this);let U=!!w.j;U?Vl($,w.j):U=!!w.o,U?$.o=w.o:U=!!w.g,U?$.g=w.g:U=w.u!=null;var se=w.h;if(U)zl($,w.u);else if(U=!!w.h){if(se.charAt(0)!="/")if(this.g&&!this.h)se="/"+se;else{var Te=$.h.lastIndexOf("/");Te!=-1&&(se=$.h.slice(0,Te+1)+se)}if(Te=se,Te==".."||Te==".")se="";else if(Te.indexOf("./")!=-1||Te.indexOf("/.")!=-1){se=Te.lastIndexOf("/",0)==0,Te=Te.split("/");const Re=[];for(let tt=0;tt<Te.length;){const Zt=Te[tt++];Zt=="."?se&&tt==Te.length&&Re.push(""):Zt==".."?((Re.length>1||Re.length==1&&Re[0]!="")&&Re.pop(),se&&tt==Te.length&&Re.push("")):(Re.push(Zt),se=!0)}se=Re.join("/")}else se=Te}return U?$.h=se:U=w.i.toString()!=="",U?$s($,hd(w.i)):U=!!w.m,U&&($.m=w.m),$};function Gr(w){return new xo(w)}function Vl(w,$,U){w.j=U?Fs($,!0):$,w.j&&(w.j=w.j.replace(/:$/,""))}function zl(w,$){if($){if($=Number($),isNaN($)||$<0)throw Error("Bad port number "+$);w.u=$}else w.u=null}function $s(w,$,U){$ instanceof ql?(w.i=$,Wl(w.i,w.l)):(U||($=mn($,wo)),w.i=new ql($,w.l))}function Br(w,$,U){w.i.set($,U)}function ya(w){return Br(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function Fs(w,$){return w?$?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function mn(w,$,U){return typeof w=="string"?(w=encodeURI(w).replace($,Of),U&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Of(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Tm=/[#\/\?@]/g,t0=/[#\?:]/g,r0=/[#\?]/g,wo=/[#\?@]/g,Cm=/#/g;function ql(w,$){this.h=this.g=null,this.i=w||null,this.j=!!$}function ba(w){w.g||(w.g=new Map,w.h=0,w.i&&ud(w.i,function($,U){w.add(decodeURIComponent($.replace(/\+/g," ")),U)}))}t=ql.prototype,t.add=function(w,$){ba(this),this.i=null,w=fs(this,w);let U=this.g.get(w);return U||this.g.set(w,U=[]),U.push($),this.h+=1,this};function dd(w,$){ba(w),$=fs(w,$),w.g.has($)&&(w.i=null,w.h-=w.g.get($).length,w.g.delete($))}function km(w,$){return ba(w),$=fs(w,$),w.g.has($)}t.forEach=function(w,$){ba(this),this.g.forEach(function(U,se){U.forEach(function(Te){w.call($,Te,se,this)},this)},this)};function Im(w,$){ba(w);let U=[];if(typeof $=="string")km(w,$)&&(U=U.concat(w.g.get(fs(w,$))));else for(w=Array.from(w.g.values()),$=0;$<w.length;$++)U=U.concat(w[$]);return U}t.set=function(w,$){return ba(this),this.i=null,w=fs(this,w),km(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[$]),this.h+=1,this},t.get=function(w,$){return w?(w=Im(this,w),w.length>0?String(w[0]):$):$};function Om(w,$,U){dd(w,$),U.length>0&&(w.i=null,w.g.set(fs(w,$),f(U)),w.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],$=Array.from(this.g.keys());for(let se=0;se<$.length;se++){var U=$[se];const Te=fn(U);U=Im(this,U);for(let Re=0;Re<U.length;Re++){let tt=Te;U[Re]!==""&&(tt+="="+fn(U[Re])),w.push(tt)}}return this.i=w.join("&")};function hd(w){const $=new ql;return $.i=w.i,w.g&&($.g=new Map(w.g),$.h=w.h),$}function fs(w,$){return $=String($),w.j&&($=$.toLowerCase()),$}function Wl(w,$){$&&!w.j&&(ba(w),w.i=null,w.g.forEach(function(U,se){const Te=se.toLowerCase();se!=Te&&(dd(this,se),Om(this,Te,U))},w)),w.j=$}function n0(w,$){const U=new ot;if(s.Image){const se=new Image;se.onload=d(ps,U,"TestLoadImage: loaded",!0,$,se),se.onerror=d(ps,U,"TestLoadImage: error",!1,$,se),se.onabort=d(ps,U,"TestLoadImage: abort",!1,$,se),se.ontimeout=d(ps,U,"TestLoadImage: timeout",!1,$,se),s.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=w}else $(!1)}function Wc(w,$){const U=new ot,se=new AbortController,Te=setTimeout(()=>{se.abort(),ps(U,"TestPingServer: timeout",!1,$)},1e4);fetch(w,{signal:se.signal}).then(Re=>{clearTimeout(Te),Re.ok?ps(U,"TestPingServer: ok",!0,$):ps(U,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(Te),ps(U,"TestPingServer: error",!1,$)})}function ps(w,$,U,se,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),se(U)}catch{}}function Jt(){this.g=new kt}function Rf(w){this.i=w.Sb||null,this.h=w.ab||!1}h(Rf,ct),Rf.prototype.g=function(){return new fd(this.i,this.h)};function fd(w,$){_e.call(this),this.H=w,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(fd,_e),t=fd.prototype,t.open=function(w,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=$,this.readyState=1,Va(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const $={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&($.body=w),(this.H||s).fetch(new Request(this.D,$)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hc(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rm(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rm(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var $=w.value?w.value:new Uint8Array(0);($=this.B.decode($,{stream:!w.done}))&&(this.response=this.responseText+=$)}w.done?Hc(this):Va(this),this.readyState==3&&Rm(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,Hc(this))},t.Na=function(w){this.g&&(this.response=w,Hc(this))},t.ga=function(){this.g&&Hc(this)};function Hc(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Va(w)}t.setRequestHeader=function(w,$){this.A.append(w,$)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],$=this.h.entries();for(var U=$.next();!U.done;)U=U.value,w.push(U[0]+": "+U[1]),U=$.next();return w.join(`\r
`)};function Va(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(fd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function _o(w){let $="";return Z(w,function(U,se){$+=se,$+=":",$+=U,$+=`\r
`}),$}function Df(w,$,U){e:{for(se in U){var se=!1;break e}se=!0}se||(U=_o(U),typeof w=="string"?U!=null&&fn(U):Br(w,$,U))}function Sn(w){_e.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Sn,_e);var pd=/^https?$/i,Lf=["POST","PUT"];t=Sn.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,$,U,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);$=$?$.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cn.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open($,String(w),!0),this.B=!1}catch(Re){Hl(this,Re);return}if(w=U||"",U=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var Te in se)U.set(Te,se[Te]);else if(typeof se.keys=="function"&&typeof se.get=="function")for(const Re of se.keys())U.set(Re,se.get(Re));else throw Error("Unknown input type for opt_headers: "+String(se));se=Array.from(U.keys()).find(Re=>Re.toLowerCase()=="content-type"),Te=s.FormData&&w instanceof s.FormData,!(Array.prototype.indexOf.call(Lf,$,void 0)>=0)||se||Te||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,tt]of U)this.g.setRequestHeader(Re,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(Re){Hl(this,Re)}};function Hl(w,$){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=$,w.o=5,Gc(w),md(w)}function Gc(w){w.A||(w.A=!0,Pe(w,"complete"),Pe(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,Pe(this,"complete"),Pe(this,"abort"),md(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),md(this,!0)),Sn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Kc(this):this.Xa())},t.Xa=function(){Kc(this)};function Kc(w){if(w.h&&typeof a<"u"){if(w.v&&ms(w)==4)setTimeout(w.Ca.bind(w),0);else if(Pe(w,"readystatechange"),ms(w)==4){w.h=!1;try{const Re=w.ca();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var U;if(!(U=$)){var se;if(se=Re===0){let tt=String(w.D).match(If)[1]||null;!tt&&s.self&&s.self.location&&(tt=s.self.location.protocol.slice(0,-1)),se=!pd.test(tt?tt.toLowerCase():"")}U=se}if(U)Pe(w,"complete"),Pe(w,"success");else{w.o=6;try{var Te=ms(w)>2?w.g.statusText:""}catch{Te=""}w.l=Te+" ["+w.ca()+"]",Gc(w)}}finally{md(w)}}}}function md(w,$){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const U=w.g;w.g=null,$||Pe(w,"ready");try{U.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ms(w){return w.g?w.g.readyState:0}t.ca=function(){try{return ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var $=this.g.responseText;return w&&$.indexOf(w)==0&&($=$.substring(w.length)),St($)}};function gd(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Yc(w){const $={};w=(w.g&&ms(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let se=0;se<w.length;se++){if(L(w[se]))continue;var U=Et(w[se]);const Te=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Re=$[Te]||[];$[Te]=Re,Re.push(U)}ve($,function(se){return se.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(w,$,U){return U&&U.internalChannelParams&&U.internalChannelParams[w]||$}function vd(w){this.za=0,this.i=[],this.j=new ot,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bs("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bs("baseRetryDelayMs",5e3,w),this.Za=Bs("retryDelaySeedMs",1e4,w),this.Ta=Bs("forwardChannelMaxRetries",2,w),this.va=Bs("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new Tf(w&&w.concurrentRequestLimit),this.Ba=new Jt,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vd.prototype,t.ka=8,t.I=1,t.connect=function(w,$,U,se){it(0),this.W=w,this.H=$||{},U&&se!==void 0&&(this.H.OSID=U,this.H.OAID=se),this.F=this.X,this.J=Ge(this,null,this.W),Xc(this)};function Gl(w){if(Yl(w),w.I==3){var $=w.V++,U=Gr(w.J);if(Br(U,"SID",w.M),Br(U,"RID",$),Br(U,"TYPE","terminate"),za(w,U),$=new nr(w,w.j,$),$.M=2,$.A=ya(Gr(U)),U=!1,s.navigator&&s.navigator.sendBeacon)try{U=s.navigator.sendBeacon($.A.toString(),"")}catch{}!U&&s.Image&&(new Image().src=$.A,U=!0),U||($.g=vt($.j,null),$.g.ea($.A)),$.F=Date.now(),yo($)}Fe(w)}function Kl(w){w.g&&(yd(w),w.g.cancel(),w.g=null)}function Yl(w){Kl(w),w.v&&(s.clearTimeout(w.v),w.v=null),W(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&s.clearTimeout(w.m),w.m=null)}function Xc(w){if(!Ua(w.h)&&!w.m){w.m=!0;var $=w.Ea;N||E(),C||(N(),C=!0),j.add($,w),w.D=0}}function Dm(w,$){return ld(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=$.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=mt(u(w.Ea,w,$),ye(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const Te=new nr(this,this.j,w);let Re=this.o;if(this.U&&(Re?(Re=ce(Re),V(Re,this.U)):Re=this.U),this.u!==null||this.R||(Te.J=Re,Re=null),this.S)e:{for(var $=0,U=0;U<this.i.length;U++){t:{var se=this.i[U];if("__data__"in se.map&&(se=se.map.__data__,typeof se=="string")){se=se.length;break t}se=void 0}if(se===void 0)break;if($+=se,$>4096){$=U;break e}if($===4096||U===this.i.length-1){$=U+1;break e}}$=1e3}else $=1e3;$=Mf(this,Te,$),U=Gr(this.J),Br(U,"RID",w),Br(U,"CVER",22),this.G&&Br(U,"X-HTTP-Session-Id",this.G),za(this,U),Re&&(this.R?$="headers="+fn(_o(Re))+"&"+$:this.u&&Df(U,this.u,Re)),qc(this.h,Te),this.Ra&&Br(U,"TYPE","init"),this.S?(Br(U,"$req",$),Br(U,"SID","null"),Te.U=!0,dn(Te,U,null)):dn(Te,U,$),this.I=2}}else this.I==3&&(w?So(this,w):this.i.length==0||Ua(this.h)||So(this))};function So(w,$){var U;$?U=$.l:U=w.V++;const se=Gr(w.J);Br(se,"SID",w.M),Br(se,"RID",U),Br(se,"AID",w.K),za(w,se),w.u&&w.o&&Df(se,w.u,w.o),U=new nr(w,w.j,U,w.D+1),w.u===null&&(U.J=w.o),$&&(w.i=$.G.concat(w.i)),$=Mf(w,U,1e3),U.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),qc(w.h,U),dn(U,se,$)}function za(w,$){w.H&&Z(w.H,function(U,se){Br($,se,U)}),w.l&&Z({},function(U,se){Br($,se,U)})}function Mf(w,$,U){U=Math.min(w.i.length,U);const se=w.l?u(w.l.Ka,w.l,w):null;e:{var Te=w.i;let Zt=-1;for(;;){const vn=["count="+U];Zt==-1?U>0?(Zt=Te[0].g,vn.push("ofs="+Zt)):Zt=0:vn.push("ofs="+Zt);let Sr=!0;for(let Nn=0;Nn<U;Nn++){var Re=Te[Nn].g;const Yi=Te[Nn].map;if(Re-=Zt,Re<0)Zt=Math.max(0,Te[Nn].g-100),Sr=!1;else try{Re="req"+Re+"_"||"";try{var tt=Yi instanceof Map?Yi:Object.entries(Yi);for(const[qa,Ln]of tt){let xa=Ln;o(Ln)&&(xa=Nt(Ln)),vn.push(Re+qa+"="+encodeURIComponent(xa))}}catch(qa){throw vn.push(Re+"type="+encodeURIComponent("_badmap")),qa}}catch{se&&se(Yi)}}if(Sr){tt=vn.join("&");break e}}tt=void 0}return w=w.i.splice(0,U),$.G=w,tt}function $f(w){if(!w.g&&!w.v){w.Y=1;var $=w.Da;N||E(),C||(N(),C=!0),j.add($,w),w.A=0}}function rl(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=mt(u(w.Da,w),ye(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,R(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=mt(u(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),Kl(this),R(this))};function yd(w){w.B!=null&&(s.clearTimeout(w.B),w.B=null)}function R(w){w.g=new nr(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var $=Gr(w.na);Br($,"RID","rpc"),Br($,"SID",w.M),Br($,"AID",w.K),Br($,"CI",w.F?"0":"1"),!w.F&&w.ia&&Br($,"TO",w.ia),Br($,"TYPE","xmlhttp"),za(w,$),w.u&&w.o&&Df($,w.u,w.o),w.O&&(w.g.H=w.O);var U=w.g;w=w.ba,U.M=1,U.A=ya(Gr($)),U.u=null,U.R=!0,Dn(U,w)}t.Va=function(){this.C!=null&&(this.C=null,Kl(this),rl(this),it(19))};function W(w){w.C!=null&&(s.clearTimeout(w.C),w.C=null)}function fe(w,$){var U=null;if(w.g==$){W(w),yd(w),w.g=null;var se=2}else if(cd(w.h,$))U=$.G,Cf(w.h,$),se=1;else return;if(w.I!=0){if($.o)if(se==1){U=$.u?$.u.length:0,$=Date.now()-$.F;var Te=w.D;se=Qt(),Pe(se,new Ze(se,U)),Xc(w)}else $f(w);else if(Te=$.m,Te==3||Te==0&&$.X>0||!(se==1&&Dm(w,$)||se==2&&rl(w)))switch(U&&U.length>0&&($=w.h,$.i=$.i.concat(U)),Te){case 1:Ee(w,5);break;case 4:Ee(w,10);break;case 3:Ee(w,6);break;default:Ee(w,2)}}}function ye(w,$){let U=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(U*=2),U*$}function Ee(w,$){if(w.j.info("Error code "+$),$==2){var U=u(w.bb,w),se=w.Ua;const Te=!se;se=new xo(se||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Vl(se,"https"),ya(se),Te?n0(se.toString(),U):Wc(se.toString(),U)}else it(2);w.I=0,w.l&&w.l.pa($),Fe(w),Yl(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Fe(w){if(w.I=0,w.ja=[],w.l){const $=kf(w.h);($.length!=0||w.i.length!=0)&&(v(w.ja,$),v(w.ja,w.i),w.h.i.length=0,f(w.i),w.i.length=0),w.l.oa()}}function Ge(w,$,U){var se=U instanceof xo?Gr(U):new xo(U);if(se.g!="")$&&(se.g=$+"."+se.g),zl(se,se.u);else{var Te=s.location;se=Te.protocol,$=$?$+"."+Te.hostname:Te.hostname,Te=+Te.port;const Re=new xo(null);se&&Vl(Re,se),$&&(Re.g=$),Te&&zl(Re,Te),U&&(Re.h=U),se=Re}return U=w.G,$=w.wa,U&&$&&Br(se,U,$),Br(se,"VER",w.ka),za(w,se),se}function vt(w,$,U){if($&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return $=w.Aa&&!w.ma?new Sn(new Rf({ab:U})):new Sn(w.ma),$.Fa(w.L),$}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jt(){}t=jt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ut(){}Ut.prototype.g=function(w,$){return new Rt(w,$)};function Rt(w,$){_e.call(this),this.g=new vd($),this.l=w,this.h=$&&$.messageUrlParams||null,w=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(w?w["X-WebChannel-Content-Type"]=$.messageContentType:w={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.sa&&(w?w["X-WebChannel-Client-Profile"]=$.sa:w={"X-WebChannel-Client-Profile":$.sa}),this.g.U=w,(w=$&&$.Qb)&&!L(w)&&(this.g.u=w),this.A=$&&$.supportsCrossDomainXhr||!1,this.v=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!L($)&&(this.g.G=$,w=this.h,w!==null&&$ in w&&(w=this.h,$ in w&&delete w[$])),this.j=new gn(this)}h(Rt,_e),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){Gl(this.g)},Rt.prototype.o=function(w){var $=this.g;if(typeof w=="string"){var U={};U.__data__=w,w=U}else this.v&&(U={},U.__data__=Nt(w),w=U);$.i.push(new Pm($.Ya++,w)),$.I==3&&Xc($)},Rt.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,Rt.Z.N.call(this)};function Ir(w){dt.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var $=w.__sm__;if($){e:{for(const U in $){w=U;break e}w=void 0}(this.i=w)&&(w=this.i,$=$!==null&&w in $?$[w]:void 0),this.data=$}else this.data=w}h(Ir,dt);function An(){Oe.call(this),this.status=1}h(An,Oe);function gn(w){this.g=w}h(gn,jt),gn.prototype.ra=function(){Pe(this.g,"a")},gn.prototype.qa=function(w){Pe(this.g,new Ir(w))},gn.prototype.pa=function(w){Pe(this.g,new An)},gn.prototype.oa=function(){Pe(this.g,"b")},Ut.prototype.createWebChannel=Ut.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,gG=function(){return new Ut},mG=function(){return Qt()},pG=Ot,SC={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rn.NO_ERROR=0,Rn.TIMEOUT=8,Rn.HTTP_ERROR=6,l_=Rn,$r.COMPLETE="complete",fG=$r,Kt.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Z0=Kt,Sn.prototype.listenOnce=Sn.prototype.K,Sn.prototype.getLastError=Sn.prototype.Ha,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.ca,Sn.prototype.getResponseJson=Sn.prototype.La,Sn.prototype.getResponseText=Sn.prototype.la,Sn.prototype.send=Sn.prototype.ea,Sn.prototype.setWithCredentials=Sn.prototype.Fa,hG=Sn}).apply(typeof n2<"u"?n2:typeof self<"u"?self:typeof window<"u"?window:{});const BM="@firebase/firestore",UM="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ia.UNAUTHENTICATED=new Ia(null),Ia.GOOGLE_CREDENTIALS=new Ia("google-credentials-uid"),Ia.FIRST_PARTY=new Ia("first-party-uid"),Ia.MOCK_USER=new Ia("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new wO("@firebase/firestore");function ng(){return Jp.logLevel}function pt(t,...e){if(Jp.logLevel<=Ar.DEBUG){const r=e.map(IO);Jp.debug(`Firestore (${ky}): ${t}`,...r)}}function Hu(t,...e){if(Jp.logLevel<=Ar.ERROR){const r=e.map(IO);Jp.error(`Firestore (${ky}): ${t}`,...r)}}function kv(t,...e){if(Jp.logLevel<=Ar.WARN){const r=e.map(IO);Jp.warn(`Firestore (${ky}): ${t}`,...r)}}function IO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,vG(t,n,r)}function vG(t,e,r){let n=`FIRESTORE (${ky}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Hu(n),new Error(n)}function Jr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||vG(e,i,n)}function or(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ed{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ia.UNAUTHENTICATED))}shutdown(){}}class kge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ige{constructor(e){this.t=e,this.currentUser=Ia.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Jr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Cu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Cu,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cu)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Jr(typeof n.accessToken=="string",31837,{l:n}),new yG(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jr(e===null||typeof e=="string",2055,{h:e}),new Ia(e)}}class Oge{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ia.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rge{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Oge(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ia.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dge{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$o(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Jr(this.o===void 0,3512);const n=a=>{a.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,pt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VM(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Jr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new VM(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Lge(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Nr(t,e){return t<e?-1:t>e?1:0}function AC(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return pj(i)===pj(a)?Nr(i,a):pj(i)?1:-1}return Nr(t.length,e.length)}const Mge=55296,$ge=57343;function pj(t){const e=t.charCodeAt(0);return e>=Mge&&e<=$ge}function Iv(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="__name__";class sc{constructor(e,r,n){r===void 0?r=0:r>e.length&&Wt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Wt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return sc.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof sc?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=sc.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Nr(e.length,r.length)}static compareSegments(e,r){const n=sc.isNumericId(e),i=sc.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?sc.extractNumericId(e).compare(sc.extractNumericId(r)):AC(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dh.fromString(e.substring(4,e.length-2))}}class wn extends sc{construct(e,r,n){return new wn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new rt(Ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new wn(r)}static emptyPath(){return new wn([])}}const Fge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ha extends sc{construct(e,r,n){return new ha(e,r,n)}static isValidIdentifier(e){return Fge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ha.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zM}static keyField(){return new ha([zM])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new rt(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new rt(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new rt(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new rt(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ha(r)}static emptyPath(){return new ha([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.path=e}static fromPath(e){return new $t(wn.fromString(e))}static fromName(e){return new $t(wn.fromString(e).popFirst(5))}static empty(){return new $t(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t,e,r){if(!r)throw new rt(Ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bge(t,e,r,n){if(e===!0&&n===!0)throw new rt(Ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function qM(t){if(!$t.isDocumentKey(t))throw new rt(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WM(t){if($t.isDocumentKey(t))throw new rt(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xG(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Wt(12329,{type:typeof t})}function kl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rt(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=wA(t);throw new rt(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Uge(t,e){if(e<=0)throw new rt(Ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){const r={typeString:t};return e&&(r.value=e),r}function Lx(t,e){if(!xG(t))throw new rt(Ue.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new rt(Ue.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=-62135596800,GM=1e6;class Vn{static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*GM);return new Vn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new rt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new rt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<HM)throw new rt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GM}_compareTo(e){return this.seconds===e.seconds?Nr(this.nanoseconds,e.nanoseconds):Nr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lx(e,Vn._jsonSchema))return new Vn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-HM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vn._jsonSchemaVersion="firestore/timestamp/1.0",Vn._jsonSchema={type:ki("string",Vn._jsonSchemaVersion),seconds:ki("number"),nanoseconds:ki("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{static fromTimestamp(e){return new ir(e)}static min(){return new ir(new Vn(0,0))}static max(){return new ir(new Vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=-1;function Vge(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ir.fromTimestamp(n===1e9?new Vn(r+1,0):new Vn(r,n));return new Kh(i,$t.empty(),e)}function zge(t){return new Kh(t.readTime,t.key,hb)}class Kh{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Kh(ir.min(),$t.empty(),hb)}static max(){return new Kh(ir.max(),$t.empty(),hb)}}function qge(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=$t.comparator(t.documentKey,e.documentKey),r!==0?r:Nr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){if(t.code!==Ue.FAILED_PRECONDITION||t.message!==Wge)throw t;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new He((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof He?r:He.resolve(r)}catch(r){return He.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):He.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):He.reject(r)}static resolve(e){return new He((r,n)=>{r(e)})}static reject(e){return new He((r,n)=>{n(e)})}static waitFor(e){return new He((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(e){let r=He.resolve(!1);for(const n of e)r=r.next(i=>i?He.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new He((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(d=>{s[u]=d,++o,o===a&&n(s)},d=>i(d))}})}static doWhile(e,r){return new He((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function Gge(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Oy(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_A.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=-1;function SA(t){return t==null}function gS(t){return t===0&&1/t==-1/0}function Kge(t){return typeof t=="number"&&Number.isInteger(t)&&!gS(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="";function Yge(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=KM(e)),e=Xge(t.get(r),e);return KM(e)}function Xge(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case wG:r+="";break;default:r+=a}}return r}function KM(t){return t+wG+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gf(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function _G(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,r){this.comparator=e,this.root=r||da.EMPTY}insert(e,r){return new ai(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,da.BLACK,null,null))}remove(e){return new ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,da.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new i2(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new i2(this.root,e,this.comparator,!1)}getReverseIterator(){return new i2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new i2(this.root,e,this.comparator,!0)}}class i2{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class da{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??da.RED,this.left=i??da.EMPTY,this.right=a??da.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new da(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return da.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return da.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,da.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,da.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Wt(27949);return e+(this.isRed()?0:1)}}da.EMPTY=null,da.RED=!0,da.BLACK=!1;da.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt(57766)}get value(){throw Wt(16141)}get color(){throw Wt(16727)}get left(){throw Wt(29726)}get right(){throw Wt(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new da(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.comparator=e,this.data=new ai(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new XM(this.data.getIterator())}getIteratorFrom(e){return new XM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Wi(this.comparator);return r.data=e,r}}class XM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.fields=e,e.sort(ha.comparator)}static empty(){return new io([])}unionWith(e){let r=new Wi(ha.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new io(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Iv(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new SG("Invalid base64 string: "+a):a}}(e);return new va(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new va(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}va.EMPTY_BYTE_STRING=new va("");const Qge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yh(t){if(Jr(!!t,39018),typeof t=="string"){let e=0;const r=Qge.exec(t);if(Jr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:vi(t.seconds),nanos:vi(t.nanos)}}function vi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xh(t){return typeof t=="string"?va.fromBase64String(t):va.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG="server_timestamp",NG="__type__",EG="__previous_value__",jG="__local_write_time__";function AA(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[NG])==null?void 0:n.stringValue)===AG}function NA(t){const e=t.mapValue.fields[EG];return AA(e)?NA(e):e}function fb(t){const e=Yh(t.mapValue.fields[jG].timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jge{constructor(e,r,n,i,a,s,o,l,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const vS="(default)";class pb{constructor(e,r){this.projectId=e,this.database=r||vS}static empty(){return new pb("","")}get isDefaultDatabase(){return this.database===vS}isEqual(e){return e instanceof pb&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG="__type__",TG="__max__",a2={mapValue:{fields:{__type__:{stringValue:TG}}}},CG="__vector__",yS="value";function Qh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?AA(t)?4:eve(t)?9007199254740991:Zge(t)?10:11:Wt(28295,{value:t})}function Oc(t,e){if(t===e)return!0;const r=Qh(t);if(r!==Qh(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fb(t).isEqual(fb(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Yh(i.timestampValue),o=Yh(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Xh(i.bytesValue).isEqual(Xh(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return vi(i.geoPointValue.latitude)===vi(a.geoPointValue.latitude)&&vi(i.geoPointValue.longitude)===vi(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return vi(i.integerValue)===vi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=vi(i.doubleValue),o=vi(a.doubleValue);return s===o?gS(s)===gS(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Iv(t.arrayValue.values||[],e.arrayValue.values||[],Oc);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(YM(s)!==YM(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Oc(s[l],o[l])))return!1;return!0}(t,e);default:return Wt(52216,{left:t})}}function mb(t,e){return(t.values||[]).find(r=>Oc(r,e))!==void 0}function Ov(t,e){if(t===e)return 0;const r=Qh(t),n=Qh(e);if(r!==n)return Nr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Nr(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=vi(a.integerValue||a.doubleValue),l=vi(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return QM(t.timestampValue,e.timestampValue);case 4:return QM(fb(t),fb(e));case 5:return AC(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Xh(a),l=Xh(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Nr(o[u],l[u]);if(d!==0)return d}return Nr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Nr(vi(a.latitude),vi(s.latitude));return o!==0?o:Nr(vi(a.longitude),vi(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JM(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,f,v,m;const o=a.fields||{},l=s.fields||{},u=(p=o[yS])==null?void 0:p.arrayValue,d=(f=l[yS])==null?void 0:f.arrayValue,h=Nr(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((m=d==null?void 0:d.values)==null?void 0:m.length)||0);return h!==0?h:JM(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===a2.mapValue&&s===a2.mapValue)return 0;if(a===a2.mapValue)return 1;if(s===a2.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=AC(l[h],d[h]);if(p!==0)return p;const f=Ov(o[l[h]],u[d[h]]);if(f!==0)return f}return Nr(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Wt(23264,{he:r})}}function QM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nr(t,e);const r=Yh(t),n=Yh(e),i=Nr(r.seconds,n.seconds);return i!==0?i:Nr(r.nanos,n.nanos)}function JM(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Ov(r[i],n[i]);if(a)return a}return Nr(r.length,n.length)}function Rv(t){return NC(t)}function NC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Yh(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Xh(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return $t.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=NC(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${NC(r.fields[s])}`;return i+"}"}(t.mapValue):Wt(61005,{value:t})}function c_(t){switch(Qh(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=NA(t);return e?16+c_(e):16;case 5:return 2*t.stringValue.length;case 6:return Xh(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+c_(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return gf(n.fields,(a,s)=>{i+=a.length+c_(s)}),i}(t.mapValue);default:throw Wt(13486,{value:t})}}function bS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function EC(t){return!!t&&"integerValue"in t}function DO(t){return!!t&&"arrayValue"in t}function ZM(t){return!!t&&"nullValue"in t}function e8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function u_(t){return!!t&&"mapValue"in t}function Zge(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[PG])==null?void 0:n.stringValue)===CG}function w1(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gf(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=w1(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=w1(t.arrayValue.values[r]);return e}return{...t}}function eve(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!u_(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=w1(r)}setAll(e){let r=ha.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=w1(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());u_(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Oc(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];u_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){gf(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Es(w1(this.value))}}function kG(t){const e=[];return gf(t.fields,(r,n)=>{const i=new ha([r]);if(u_(n)){const a=kG(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new io(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ra(e,0,ir.min(),ir.min(),ir.min(),Es.empty(),0)}static newFoundDocument(e,r,n,i){return new Ra(e,1,r,ir.min(),n,i,0)}static newNoDocument(e,r){return new Ra(e,2,r,ir.min(),ir.min(),Es.empty(),0)}static newUnknownDocument(e,r){return new Ra(e,3,r,ir.min(),ir.min(),Es.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ir.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ir.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ra&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ra(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,r){this.position=e,this.inclusive=r}}function t8(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=$t.comparator($t.fromName(s.referenceValue),r.key):n=Ov(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function r8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Oc(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,r="asc"){this.field=e,this.dir=r}}function tve(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{}class Ci extends IG{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new nve(e,r,n):r==="array-contains"?new sve(e,n):r==="in"?new ove(e,n):r==="not-in"?new lve(e,n):r==="array-contains-any"?new cve(e,n):new Ci(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new ive(e,n):new ave(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ov(r,this.value)):r!==null&&Qh(this.value)===Qh(r)&&this.matchesComparison(Ov(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Il extends IG{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Il(e,r)}matches(e){return OG(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OG(t){return t.op==="and"}function RG(t){return rve(t)&&OG(t)}function rve(t){for(const e of t.filters)if(e instanceof Il)return!1;return!0}function jC(t){if(t instanceof Ci)return t.field.canonicalString()+t.op.toString()+Rv(t.value);if(RG(t))return t.filters.map(e=>jC(e)).join(",");{const e=t.filters.map(r=>jC(r)).join(",");return`${t.op}(${e})`}}function DG(t,e){return t instanceof Ci?function(n,i){return i instanceof Ci&&n.op===i.op&&n.field.isEqual(i.field)&&Oc(n.value,i.value)}(t,e):t instanceof Il?function(n,i){return i instanceof Il&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&DG(s,i.filters[o]),!0):!1}(t,e):void Wt(19439)}function LG(t){return t instanceof Ci?function(r){return`${r.field.canonicalString()} ${r.op} ${Rv(r.value)}`}(t):t instanceof Il?function(r){return r.op.toString()+" {"+r.getFilters().map(LG).join(" ,")+"}"}(t):"Filter"}class nve extends Ci{constructor(e,r,n){super(e,r,n),this.key=$t.fromName(n.referenceValue)}matches(e){const r=$t.comparator(e.key,this.key);return this.matchesComparison(r)}}class ive extends Ci{constructor(e,r){super(e,"in",r),this.keys=MG("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ave extends Ci{constructor(e,r){super(e,"not-in",r),this.keys=MG("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function MG(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>$t.fromName(n.referenceValue))}class sve extends Ci{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return DO(r)&&mb(r.arrayValue,this.value)}}class ove extends Ci{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&mb(this.value.arrayValue,r)}}class lve extends Ci{constructor(e,r){super(e,"not-in",r)}matches(e){if(mb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!mb(this.value.arrayValue,r)}}class cve extends Ci{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!DO(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>mb(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uve{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function n8(t,e=null,r=[],n=[],i=null,a=null,s=null){return new uve(t,e,r,n,i,a,s)}function LO(t){const e=or(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>jC(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),SA(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Rv(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Rv(n)).join(",")),e.Te=r}return e.Te}function MO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!tve(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!DG(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r8(t.startAt,e.startAt)&&r8(t.endAt,e.endAt)}function PC(t){return $t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dve(t,e,r,n,i,a,s,o){return new vf(t,e,r,n,i,a,s,o)}function $O(t){return new vf(t)}function i8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FO(t){return t.collectionGroup!==null}function qg(t){const e=or(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Wi(ha.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new gb(a,n))}),r.has(ha.keyField().canonicalString())||e.Ie.push(new gb(ha.keyField(),n))}return e.Ie}function Sc(t){const e=or(t);return e.Ee||(e.Ee=hve(e,qg(t))),e.Ee}function hve(t,e){if(t.limitType==="F")return n8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new gb(i.field,a)});const r=t.endAt?new Dv(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Dv(t.startAt.position,t.startAt.inclusive):null;return n8(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function TC(t,e){const r=t.filters.concat([e]);return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function xS(t,e,r){return new vf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function EA(t,e){return MO(Sc(t),Sc(e))&&t.limitType===e.limitType}function $G(t){return`${LO(Sc(t))}|lt:${t.limitType}`}function ig(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>LG(i)).join(", ")}]`),SA(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Rv(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Rv(i)).join(",")),`Target(${n})`}(Sc(t))}; limitType=${t.limitType})`}function jA(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):$t.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of qg(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=t8(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,qg(n),i)||n.endAt&&!function(s,o,l){const u=t8(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,qg(n),i))}(t,e)}function fve(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FG(t){return(e,r)=>{let n=!1;for(const i of qg(t)){const a=pve(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function pve(t,e,r){const n=t.field.isKeyField()?$t.comparator(e.key,r.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?Ov(l,u):Wt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Wt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gf(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return _G(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mve=new ai($t.comparator);function Gu(){return mve}const BG=new ai($t.comparator);function e1(...t){let e=BG;for(const r of t)e=e.insert(r.key,r);return e}function UG(t){let e=BG;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function hp(){return _1()}function VG(){return _1()}function _1(){return new ym(t=>t.toString(),(t,e)=>t.isEqual(e))}const gve=new ai($t.comparator),vve=new Wi($t.comparator);function Er(...t){let e=vve;for(const r of t)e=e.add(r);return e}const yve=new Wi(Nr);function bve(){return yve}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gS(e)?"-0":e}}function zG(t){return{integerValue:""+t}}function xve(t,e){return Kge(e)?zG(e):BO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this._=void 0}}function wve(t,e,r){return t instanceof vb?function(i,a){const s={fields:{[NG]:{stringValue:AG},[jG]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&AA(a)&&(a=NA(a)),a&&(s.fields[EG]=a),{mapValue:s}}(r,e):t instanceof yb?WG(t,e):t instanceof bb?HG(t,e):function(i,a){const s=qG(i,a),o=a8(s)+a8(i.Ae);return EC(s)&&EC(i.Ae)?zG(o):BO(i.serializer,o)}(t,e)}function _ve(t,e,r){return t instanceof yb?WG(t,e):t instanceof bb?HG(t,e):r}function qG(t,e){return t instanceof wS?function(n){return EC(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class vb extends PA{}class yb extends PA{constructor(e){super(),this.elements=e}}function WG(t,e){const r=GG(e);for(const n of t.elements)r.some(i=>Oc(i,n))||r.push(n);return{arrayValue:{values:r}}}class bb extends PA{constructor(e){super(),this.elements=e}}function HG(t,e){let r=GG(e);for(const n of t.elements)r=r.filter(i=>!Oc(i,n));return{arrayValue:{values:r}}}class wS extends PA{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function a8(t){return vi(t.integerValue||t.doubleValue)}function GG(t){return DO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sve{constructor(e,r){this.field=e,this.transform=r}}function Ave(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof yb&&i instanceof yb||n instanceof bb&&i instanceof bb?Iv(n.elements,i.elements,Oc):n instanceof wS&&i instanceof wS?Oc(n.Ae,i.Ae):n instanceof vb&&i instanceof vb}(t.transform,e.transform)}class Nve{constructor(e,r){this.version=e,this.transformResults=r}}class Ho{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ho}static exists(e){return new Ho(void 0,e)}static updateTime(e){return new Ho(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function d_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class TA{}function KG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new UO(t.key,Ho.none()):new Mx(t.key,t.data,Ho.none());{const r=t.data,n=Es.empty();let i=new Wi(ha.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new yf(t.key,n,new io(i.toArray()),Ho.none())}}function Eve(t,e,r){t instanceof Mx?function(i,a,s){const o=i.value.clone(),l=o8(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof yf?function(i,a,s){if(!d_(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=o8(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(YG(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function S1(t,e,r,n){return t instanceof Mx?function(a,s,o,l){if(!d_(a.precondition,s))return o;const u=a.value.clone(),d=l8(a.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof yf?function(a,s,o,l){if(!d_(a.precondition,s))return o;const u=l8(a.fieldTransforms,l,s),d=s.data;return d.setAll(YG(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,s,o){return d_(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function jve(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=qG(n.transform,i||null);a!=null&&(r===null&&(r=Es.empty()),r.set(n.field,a))}return r||null}function s8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Iv(n,i,(a,s)=>Ave(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mx extends TA{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yf extends TA{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function YG(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function o8(t,e,r){const n=new Map;Jr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,_ve(s,o,r[i]))}return n}function l8(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,wve(a,s,e))}return n}class UO extends TA{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pve extends TA{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tve{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Eve(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=S1(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=S1(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=VG();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=KG(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ir.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Er())}isEqual(e){return this.batchId===e.batchId&&Iv(this.mutations,e.mutations,(r,n)=>s8(r,n))&&Iv(this.baseMutations,e.baseMutations,(r,n)=>s8(r,n))}}class VO{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Jr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return gve}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new VO(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cve=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kve{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni,Dr;function Ive(t){switch(t){case Ue.OK:return Wt(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return Wt(15467,{code:t})}}function XG(t){if(t===void 0)return Hu("GRPC error has no .code"),Ue.UNKNOWN;switch(t){case Ni.OK:return Ue.OK;case Ni.CANCELLED:return Ue.CANCELLED;case Ni.UNKNOWN:return Ue.UNKNOWN;case Ni.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Ni.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Ni.INTERNAL:return Ue.INTERNAL;case Ni.UNAVAILABLE:return Ue.UNAVAILABLE;case Ni.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Ni.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Ni.NOT_FOUND:return Ue.NOT_FOUND;case Ni.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Ni.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Ni.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Ni.ABORTED:return Ue.ABORTED;case Ni.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Ni.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Ni.DATA_LOSS:return Ue.DATA_LOSS;default:return Wt(39323,{code:t})}}(Dr=Ni||(Ni={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ove(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rve=new Dh([4294967295,4294967295],0);function c8(t){const e=Ove().encode(t),r=new dG;return r.update(e),new Uint8Array(r.digest())}function u8(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Dh([r,n],0),new Dh([i,a],0)]}class zO{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new t1(`Invalid padding: ${r}`);if(n<0)throw new t1(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new t1(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new t1(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Dh.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Dh.fromNumber(n)));return i.compare(Rve)===1&&(i=new Dh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=c8(e),[n,i]=u8(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new zO(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const r=c8(e),[n,i]=u8(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class t1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,$x.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new CA(ir.min(),i,new ai(Nr),Gu(),Er())}}class $x{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new $x(n,r,Er(),Er(),Er())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class QG{constructor(e,r){this.targetId=e,this.Ce=r}}class JG{constructor(e,r,n=va.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class d8{constructor(){this.ve=0,this.Fe=h8(),this.Me=va.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Er(),r=Er(),n=Er();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Wt(38017,{changeType:a})}}),new $x(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=h8()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dve{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gu(),this.Je=s2(),this.He=s2(),this.Ye=new ai(Nr)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Wt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(PC(a))if(n===0){const s=new $t(a.path);this.et(r,s,Ra.newNoDocument(s,ir.min()))}else Jr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Xh(n).toUint8Array()}catch(l){if(l instanceof SG)return kv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new zO(s,i,a)}catch(l){return kv(l instanceof t1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&PC(o.target)){const l=new $t(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Ra.newNoDocument(l,e))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=Er();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new CA(e,r,this.Ye,this.je,n);return this.je=Gu(),this.Je=s2(),this.He=s2(),this.Ye=new ai(Nr),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new d8,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Wi(Nr),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Wi(Nr),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||pt("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d8),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function s2(){return new ai($t.comparator)}function h8(){return new ai($t.comparator)}const Lve={asc:"ASCENDING",desc:"DESCENDING"},Mve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$ve={and:"AND",or:"OR"};class Fve{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function CC(t,e){return t.useProto3Json||SA(e)?e:{value:e}}function _S(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bve(t,e){return _S(t,e.toTimestamp())}function Ac(t){return Jr(!!t,49232),ir.fromTimestamp(function(r){const n=Yh(r);return new Vn(n.seconds,n.nanos)}(t))}function qO(t,e){return kC(t,e).canonicalString()}function kC(t,e){const r=function(i){return new wn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function eK(t){const e=wn.fromString(t);return Jr(aK(e),10190,{key:e.toString()}),e}function IC(t,e){return qO(t.databaseId,e.path)}function mj(t,e){const r=eK(e);if(r.get(1)!==t.databaseId.projectId)throw new rt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new rt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new $t(rK(r))}function tK(t,e){return qO(t.databaseId,e)}function Uve(t){const e=eK(t);return e.length===4?wn.emptyPath():rK(e)}function OC(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rK(t){return Jr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function f8(t,e,r){return{name:IC(t,e),fields:r.value.mapValue.fields}}function Vve(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Wt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Jr(d===void 0||typeof d=="string",58123),va.fromBase64String(d||"")):(Jr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),va.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?Ue.UNKNOWN:XG(u.code);return new rt(d,u.message||"")}(s);r=new JG(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=mj(t,n.document.name),a=Ac(n.document.updateTime),s=n.document.createTime?Ac(n.document.createTime):ir.min(),o=new Es({mapValue:{fields:n.document.fields}}),l=Ra.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new h_(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=mj(t,n.document),a=n.readTime?Ac(n.readTime):ir.min(),s=Ra.newNoDocument(i,a),o=n.removedTargetIds||[];r=new h_([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=mj(t,n.document),a=n.removedTargetIds||[];r=new h_([],a,i,null)}else{if(!("filter"in e))return Wt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new kve(i,a),o=n.targetId;r=new QG(o,s)}}return r}function zve(t,e){let r;if(e instanceof Mx)r={update:f8(t,e.key,e.value)};else if(e instanceof UO)r={delete:IC(t,e.key)};else if(e instanceof yf)r={update:f8(t,e.key,e.data),updateMask:Jve(e.fieldMask)};else{if(!(e instanceof Pve))return Wt(16599,{Vt:e.type});r={verify:IC(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof vb)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yb)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof bb)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof wS)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Wt(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Bve(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Wt(27497)}(t,e.precondition)),r}function qve(t,e){return t&&t.length>0?(Jr(e!==void 0,14353),t.map(r=>function(i,a){let s=i.updateTime?Ac(i.updateTime):Ac(a);return s.isEqual(ir.min())&&(s=Ac(a)),new Nve(s,i.transformResults||[])}(r,e))):[]}function Wve(t,e){return{documents:[tK(t,e.path)]}}function Hve(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=tK(t,i);const a=function(u){if(u.length!==0)return iK(Il.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:ag(p.field),direction:Yve(p.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=CC(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function Gve(t){let e=Uve(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Jr(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const p=nK(h);return p instanceof Il&&RG(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(h){return h.map(p=>function(v){return new gb(sg(v.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,SA(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new Dv(f,p)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const p=!h.before,f=h.values||[];return new Dv(f,p)}(r.endAt)),dve(e,i,s,a,o,"F",l,u)}function Kve(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function nK(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=sg(r.unaryFilter.field);return Ci.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=sg(r.unaryFilter.field);return Ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sg(r.unaryFilter.field);return Ci.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=sg(r.unaryFilter.field);return Ci.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Wt(61313);default:return Wt(60726)}}(t):t.fieldFilter!==void 0?function(r){return Ci.create(sg(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Wt(58110);default:return Wt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Il.create(r.compositeFilter.filters.map(n=>nK(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Wt(1026)}}(r.compositeFilter.op))}(t):Wt(30097,{filter:t})}function Yve(t){return Lve[t]}function Xve(t){return Mve[t]}function Qve(t){return $ve[t]}function ag(t){return{fieldPath:t.canonicalString()}}function sg(t){return ha.fromServerFormat(t.fieldPath)}function iK(t){return t instanceof Ci?function(r){if(r.op==="=="){if(e8(r.value))return{unaryFilter:{field:ag(r.field),op:"IS_NAN"}};if(ZM(r.value))return{unaryFilter:{field:ag(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(e8(r.value))return{unaryFilter:{field:ag(r.field),op:"IS_NOT_NAN"}};if(ZM(r.value))return{unaryFilter:{field:ag(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ag(r.field),op:Xve(r.op),value:r.value}}}(t):t instanceof Il?function(r){const n=r.getFilters().map(i=>iK(i));return n.length===1?n[0]:{compositeFilter:{op:Qve(r.op),filters:n}}}(t):Wt(54877,{filter:t})}function Jve(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function aK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,r,n,i,a=ir.min(),s=ir.min(),o=va.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new mh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new mh(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zve{constructor(e){this.yt=e}}function eye(t){const e=Gve({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tye{constructor(){this.Cn=new rye}addToCollectionParentIndex(e,r){return this.Cn.add(r),He.resolve()}getCollectionParents(e,r){return He.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return He.resolve()}deleteFieldIndex(e,r){return He.resolve()}deleteAllFieldIndexes(e){return He.resolve()}createTargetIndexes(e,r){return He.resolve()}getDocumentsMatchingTarget(e,r){return He.resolve(null)}getIndexType(e,r){return He.resolve(0)}getFieldIndexes(e,r){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,r){return He.resolve(Kh.min())}getMinOffsetFromCollectionGroup(e,r){return He.resolve(Kh.min())}updateCollectionGroup(e,r,n){return He.resolve()}updateIndexEntries(e,r){return He.resolve()}}class rye{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Wi(wn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Wi(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sK=41943040;class _s{static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(sK,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Lv(0)}static cr(){return new Lv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="LruGarbageCollector",nye=1048576;function g8([t,e],[r,n]){const i=Nr(t,r);return i===0?Nr(e,n):i}class iye{constructor(e){this.Ir=e,this.buffer=new Wi(g8),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();g8(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class aye{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pt(m8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Oy(r)?pt(m8,"Ignoring IndexedDB error during garbage collection: ",r):await Iy(r)}await this.Vr(3e5)})}}class sye{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return He.resolve(_A.ce);const n=new iye(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(p8)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p8):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,s,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,o=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),ng()<=Ar.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function oye(t,e){return new sye(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lye{constructor(){this.changes=new ym(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ra.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?He.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cye{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uye{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&S1(n.mutation,i,io.empty(),Vn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Er()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Er()){const i=hp();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=e1();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=hp();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Er()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=Gu();const s=_1(),o=function(){return _1()}();return r.forEach((l,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof yf)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),S1(d.mutation,u,d.mutation.getFieldMask(),Vn.now())):s.set(u.key,io.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,d)=>s.set(u,d)),r.forEach((u,d)=>o.set(u,new cye(d,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,r){const n=_1();let i=new ai((s,o)=>s-o),a=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||io.empty();d=o.applyToLocalView(u,d),n.set(l,d);const h=(i.get(o.batchId)||Er()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,h=VG();d.forEach(p=>{if(!a.has(p)){const f=KG(r.get(p),n.get(p));f!==null&&h.set(p,f),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return He.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return $t.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):FO(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):He.resolve(hp());let o=hb,l=a;return s.next(u=>He.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?He.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Er())).next(d=>({batchId:o,changes:UG(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new $t(r)).next(n=>{let i=e1();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=e1();return this.indexManager.getCollectionParents(e,a).next(o=>He.forEach(o,l=>{const u=function(h,p){return new vf(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Ra.newInvalidDocument(d)))});let o=e1();return s.forEach((l,u)=>{const d=a.get(l);d!==void 0&&S1(d.mutation,u,io.empty(),Vn.now()),jA(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dye{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return He.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ac(i.createTime)}}(r)),He.resolve()}getNamedQuery(e,r){return He.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:eye(i.bundledQuery),readTime:Ac(i.readTime)}}(r)),He.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hye{constructor(){this.overlays=new ai($t.comparator),this.qr=new Map}getOverlay(e,r){return He.resolve(this.overlays.get(r))}getOverlays(e,r){const n=hp();return He.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),He.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),He.resolve()}getOverlaysForCollection(e,r,n){const i=hp(),a=r.length+1,s=new $t(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return He.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ai((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=hp(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=hp(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return He.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Cve(r,n));let a=this.qr.get(r);a===void 0&&(a=Er(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fye{constructor(){this.sessionToken=va.EMPTY_BYTE_STRING}getSessionToken(e){return He.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,He.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.Qr=new Wi(Qi.$r),this.Ur=new Wi(Qi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Qi(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Qi(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new $t(new wn([])),n=new Qi(r,e),i=new Qi(r,e+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new $t(new wn([])),n=new Qi(r,e),i=new Qi(r,e+1);let a=Er();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Qi(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Qi{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return $t.comparator(e.key,r.key)||Nr(e.Yr,r.Yr)}static Kr(e,r){return Nr(e.Yr,r.Yr)||$t.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pye{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Wi(Qi.$r)}checkEmpty(e){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Tve(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Qi(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return He.resolve(s)}lookupMutationBatch(e,r){return He.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return He.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?RO:this.tr-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Qi(r,0),i=new Qi(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),He.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Wi(Nr);return r.forEach(i=>{const a=new Qi(i,0),s=new Qi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),He.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;$t.isDocumentKey(a)||(a=a.child(""));const s=new Qi(new $t(a),0);let o=new Wi(Nr);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),He.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Jr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return He.forEach(r.mutations,i=>{const a=new Qi(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Qi(r,0),i=this.Zr.firstAfterOrEqual(n);return He.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,He.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mye{constructor(e){this.ri=e,this.docs=function(){return new ai($t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return He.resolve(n?n.document.mutableCopy():Ra.newInvalidDocument(r))}getEntries(e,r){let n=Gu();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ra.newInvalidDocument(i))}),He.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Gu();const s=r.path,o=new $t(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||qge(zge(d),n)<=0||(i.has(d.key)||jA(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return He.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Wt(9500)}ii(e,r){return He.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new gye(this)}getSize(e){return He.resolve(this.size)}}class gye extends lye{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),He.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vye{constructor(e){this.persistence=e,this.si=new ym(r=>LO(r),MO),this.lastRemoteSnapshotVersion=ir.min(),this.highestTargetId=0,this.oi=0,this._i=new WO,this.targetCount=0,this.ai=Lv.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),He.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Lv(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,He.resolve()}updateTargetData(e,r){return this.Pr(r),He.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),He.waitFor(a).next(()=>i)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return He.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),He.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),He.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),He.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return He.resolve(n)}containsKey(e,r){return He.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,r){this.ui={},this.overlays={},this.ci=new _A(0),this.li=!1,this.li=!0,this.hi=new fye,this.referenceDelegate=e(this),this.Pi=new vye(this),this.indexManager=new tye,this.remoteDocumentCache=function(i){return new mye(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Zve(r),this.Ii=new dye(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new hye,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new pye(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){pt("MemoryPersistence","Starting transaction:",e);const i=new yye(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return He.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class yye extends Hge{constructor(e){super(),this.currentSequenceNumber=e}}class HO{constructor(e){this.persistence=e,this.Ri=new WO,this.Vi=null}static mi(e){return new HO(e)}get fi(){if(this.Vi)return this.Vi;throw Wt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),He.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),He.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),He.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.fi,n=>{const i=$t.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,ir.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return He.or([()=>He.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class SS{constructor(e,r){this.persistence=e,this.pi=new ym(n=>Yge(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=oye(this,r)}static mi(e,r){return new SS(e,r)}Ei(){}di(e){return He.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return He.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?He.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,r).next(o=>{o||(n++,a.removeEntry(s,ir.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),He.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),He.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),He.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),He.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=c_(e.data.value)),r}br(e,r,n){return He.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return He.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Er(),i=Er();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new GO(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bye{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xye{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Ghe()?8:Gge(Fa())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new bye;return this.Ss(e,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,r,s,o.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(ng()<=Ar.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",ig(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),He.resolve()):(ng()<=Ar.DEBUG&&pt("QueryEngine","Query:",ig(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(ng()<=Ar.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",ig(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sc(r))):He.resolve())}ys(e,r){if(i8(r))return He.resolve(null);let n=Sc(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=xS(r,null,"F"),n=Sc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=Er(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,s,l.readTime)?this.ys(e,xS(r,null,"F")):this.vs(e,u,r,l)}))})))}ws(e,r,n,i){return i8(r)||i.isEqual(ir.min())?He.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?He.resolve(null):(ng()<=Ar.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ig(r)),this.vs(e,s,r,Vge(i,hb)).next(o=>o))})}Ds(e,r){let n=new Wi(FG(e));return r.forEach((i,a)=>{jA(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return ng()<=Ar.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",ig(r)),this.ps.getDocumentsMatchingQuery(e,r,Kh.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="LocalStore",wye=3e8;class _ye{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new ai(Nr),this.xs=new ym(a=>LO(a),MO),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uye(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function Sye(t,e,r,n){return new _ye(t,e,r,n)}async function lK(t,e){const r=or(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=Er();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function Aye(t,e){const r=or(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const h=u.batch,p=h.keys();let f=He.resolve();return p.forEach(v=>{f=f.next(()=>d.getEntry(l,v)).next(m=>{const g=u.docVersions.get(v);Jr(g!==null,48541),m.version.compareTo(g)<0&&(h.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),d.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Er();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function cK(t){const e=or(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function Nye(t,e){const r=or(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let f=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(va.EMPTY_BYTE_STRING,ir.min()).withLastLimboFreeSnapshotVersion(ir.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,n)),i=i.insert(h,f),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=wye?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,f,d)&&o.push(r.Pi.updateTargetData(a,f))});let l=Gu(),u=Er();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(Eye(a,s,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!n.isEqual(ir.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(d)}return He.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function Eye(t,e,r){let n=Er(),i=Er();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=Gu();return r.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ir.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):pt(KO,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function jye(t,e){const r=or(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=RO),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Pye(t,e){const r=or(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,He.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new mh(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function RC(t,e,r){const n=or(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Oy(s))throw s;pt(KO,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function v8(t,e,r){const n=or(t);let i=ir.min(),a=Er();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const h=or(l),p=h.xs.get(d);return p!==void 0?He.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(n,s,Sc(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,r?i:ir.min(),r?a:Er())).next(o=>(Tye(n,fve(e),o),{documents:o,Qs:a})))}function Tye(t,e,r){let n=t.Os.get(e)||ir.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class y8{constructor(){this.activeTargetIds=bve()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cye{constructor(){this.Mo=new y8,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new y8,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kye{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="ConnectivityMonitor";class x8{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(b8,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pt(b8,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o2=null;function DC(){return o2===null?o2=function(){return 268435456+Math.round(2147483648*Math.random())}():o2++,"0x"+o2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="RestConnection",Iye={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oye{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===vS?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const s=DC(),o=this.zo(e,r.toUriEncodedString());pt(gj,`Sending RPC '${e}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),d=Py(u);return this.Jo(e,o,l,n,d).then(h=>(pt(gj,`Received RPC '${e}' ${s}: `,h),h),h=>{throw kv(gj,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",n),h})}Ho(e,r,n,i,a,s){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ky}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=Iye[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rye{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="WebChannelConnection";class Dye extends Oye{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const s=DC();return new Promise((o,l)=>{const u=new hG;u.setWithCredentials(!0),u.listenOnce(fG.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case l_.NO_ERROR:const h=u.getResponseJson();pt(Aa,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case l_.TIMEOUT:pt(Aa,`RPC '${e}' ${s} timed out`),l(new rt(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case l_.HTTP_ERROR:const p=u.getStatus();if(pt(Aa,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f==null?void 0:f.error;if(v&&v.status&&v.message){const m=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(x)>=0?x:Ue.UNKNOWN}(v.status);l(new rt(m,v.message))}else l(new rt(Ue.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new rt(Ue.UNAVAILABLE,"Connection failed."));break;default:Wt(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{pt(Aa,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);pt(Aa,`RPC '${e}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=DC(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gG(),o=mG(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=a.join("");pt(Aa,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);this.I_(h);let p=!1,f=!1;const v=new Rye({Yo:g=>{f?pt(Aa,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(p||(pt(Aa,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),pt(Aa,`RPC '${e}' stream ${i} sending:`,g),h.send(g))},Zo:()=>h.close()}),m=(g,y,x)=>{g.listen(y,_=>{try{x(_)}catch(S){setTimeout(()=>{throw S},0)}})};return m(h,Z0.EventType.OPEN,()=>{f||(pt(Aa,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),m(h,Z0.EventType.CLOSE,()=>{f||(f=!0,pt(Aa,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(h))}),m(h,Z0.EventType.ERROR,g=>{f||(f=!0,kv(Aa,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),v.a_(new rt(Ue.UNAVAILABLE,"The operation could not be completed")))}),m(h,Z0.EventType.MESSAGE,g=>{var y;if(!f){const x=g.data[0];Jr(!!x,16349);const _=x,S=(_==null?void 0:_.error)||((y=_[0])==null?void 0:y.error);if(S){pt(Aa,`RPC '${e}' stream ${i} received error:`,S);const N=S.status;let C=function(I){const D=Ni[I];if(D!==void 0)return XG(D)}(N),j=S.message;C===void 0&&(C=Ue.INTERNAL,j="Unknown error status: "+N+" with message "+S.message),f=!0,v.a_(new rt(C,j)),h.close()}else pt(Aa,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}}),m(o,pG.STAT_EVENT,g=>{g.stat===SC.PROXY?pt(Aa,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===SC.NOPROXY&&pt(Aa,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function vj(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){return new Fve(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="PersistentStream";class dK{constructor(e,r,n,i,a,s,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uK(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ue.RESOURCE_EXHAUSTED?(Hu(r.toString()),Hu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new rt(Ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return pt(w8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(pt(w8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lye extends dK{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Vve(this.serializer,e),n=function(a){if(!("targetChange"in a))return ir.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ir.min():s.readTime?Ac(s.readTime):ir.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=OC(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=PC(l)?{documents:Wve(a,l)}:{query:Hve(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=ZG(a,s.resumeToken);const u=CC(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ir.min())>0){o.readTime=_S(a,s.snapshotVersion.toTimestamp());const u=CC(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=Kve(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=OC(this.serializer),r.removeTarget=e,this.q_(r)}}class Mye extends dK{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Jr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Jr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=qve(e.writeResults,e.commitTime),n=Ac(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=OC(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>zve(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ye{}class Fye extends $ye{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new rt(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,kC(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new rt(Ue.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,kC(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new rt(Ue.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Bye{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hu(r),this.aa=!1):pt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="RemoteStore";class Uye{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{bm(this)&&(pt(Zp,"Restarting streams for network reachability change."),await async function(l){const u=or(l);u.Ea.add(4),await Fx(u),u.Ra.set("Unknown"),u.Ea.delete(4),await IA(u)}(this))})}),this.Ra=new Bye(n,i)}}async function IA(t){if(bm(t))for(const e of t.da)await e(!0)}async function Fx(t){for(const e of t.da)await e(!1)}function hK(t,e){const r=or(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),JO(r)?QO(r):Ry(r).O_()&&XO(r,e))}function YO(t,e){const r=or(t),n=Ry(r);r.Ia.delete(e),n.O_()&&fK(r,e),r.Ia.size===0&&(n.O_()?n.L_():bm(r)&&r.Ra.set("Unknown"))}function XO(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ir.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ry(t).Y_(e)}function fK(t,e){t.Va.Ue(e),Ry(t).Z_(e)}function QO(t){t.Va=new Dve({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ry(t).start(),t.Ra.ua()}function JO(t){return bm(t)&&!Ry(t).x_()&&t.Ia.size>0}function bm(t){return or(t).Ea.size===0}function pK(t){t.Va=void 0}async function Vye(t){t.Ra.set("Online")}async function zye(t){t.Ia.forEach((e,r)=>{XO(t,e)})}async function qye(t,e){pK(t),JO(t)?(t.Ra.ha(e),QO(t)):t.Ra.set("Unknown")}async function Wye(t,e,r){if(t.Ra.set("Online"),e instanceof JG&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){pt(Zp,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await AS(t,n)}else if(e instanceof h_?t.Va.Ze(e):e instanceof QG?t.Va.st(e):t.Va.tt(e),!r.isEqual(ir.min()))try{const n=await cK(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const d=a.Ia.get(l);if(!d)return;a.Ia.set(l,d.withResumeToken(va.EMPTY_BYTE_STRING,d.snapshotVersion)),fK(a,l);const h=new mh(d.target,l,u,d.sequenceNumber);XO(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){pt(Zp,"Failed to raise snapshot:",n),await AS(t,n)}}async function AS(t,e,r){if(!Oy(e))throw e;t.Ea.add(1),await Fx(t),t.Ra.set("Offline"),r||(r=()=>cK(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pt(Zp,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await IA(t)})}function mK(t,e){return e().catch(r=>AS(t,r,e))}async function OA(t){const e=or(t),r=Jh(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:RO;for(;Hye(e);)try{const i=await jye(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,Gye(e,i)}catch(i){await AS(e,i)}gK(e)&&vK(e)}function Hye(t){return bm(t)&&t.Ta.length<10}function Gye(t,e){t.Ta.push(e);const r=Jh(t);r.O_()&&r.X_&&r.ea(e.mutations)}function gK(t){return bm(t)&&!Jh(t).x_()&&t.Ta.length>0}function vK(t){Jh(t).start()}async function Kye(t){Jh(t).ra()}async function Yye(t){const e=Jh(t);for(const r of t.Ta)e.ea(r.mutations)}async function Xye(t,e,r){const n=t.Ta.shift(),i=VO.from(n,e,r);await mK(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await OA(t)}async function Qye(t,e){e&&Jh(t).X_&&await async function(n,i){if(function(s){return Ive(s)&&s!==Ue.ABORTED}(i.code)){const a=n.Ta.shift();Jh(n).B_(),await mK(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await OA(n)}}(t,e),gK(t)&&vK(t)}async function _8(t,e){const r=or(t);r.asyncQueue.verifyOperationInProgress(),pt(Zp,"RemoteStore received new credentials");const n=bm(r);r.Ea.add(3),await Fx(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await IA(r)}async function Jye(t,e){const r=or(t);e?(r.Ea.delete(2),await IA(r)):e||(r.Ea.add(2),await Fx(r),r.Ra.set("Unknown"))}function Ry(t){return t.ma||(t.ma=function(r,n,i){const a=or(r);return a.sa(),new Lye(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Vye.bind(null,t),t_:zye.bind(null,t),r_:qye.bind(null,t),H_:Wye.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),JO(t)?QO(t):t.Ra.set("Unknown")):(await t.ma.stop(),pK(t))})),t.ma}function Jh(t){return t.fa||(t.fa=function(r,n,i){const a=or(r);return a.sa(),new Mye(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Kye.bind(null,t),r_:Qye.bind(null,t),ta:Yye.bind(null,t),na:Xye.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await OA(t)):(await t.fa.stop(),t.Ta.length>0&&(pt(Zp,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new ZO(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e3(t,e){if(Hu("AsyncQueue",`${e}: ${t}`),Oy(t))return new rt(Ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{static emptySet(e){return new Wg(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||$t.comparator(r.key,n.key):(r,n)=>$t.comparator(r.key,n.key),this.keyedMap=e1(),this.sortedSet=new ai(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Wg)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Wg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.ga=new ai($t.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Wt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Mv{constructor(e,r,n,i,a,s,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new Mv(e,r,Wg.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&EA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zye{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class e0e{constructor(){this.queries=A8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=or(r),a=i.queries;i.queries=A8(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new rt(Ue.ABORTED,"Firestore shutting down"))}}function A8(){return new ym(t=>$G(t),EA)}async function yK(t,e){const r=or(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new Zye,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=e3(s,`Initialization of query '${ig(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&t3(r)}async function bK(t,e){const r=or(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function t0e(t,e){const r=or(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&t3(r)}function r0e(t,e,r){const n=or(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function t3(t){t.Ca.forEach(e=>{e.next()})}var LC,N8;(N8=LC||(LC={})).Ma="default",N8.Cache="cache";class xK{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Mv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Mv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==LC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e){this.key=e}}class _K{constructor(e){this.key=e}}class n0e{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Er(),this.mutatedKeys=Er(),this.eu=FG(e),this.tu=new Wg(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new S8,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),f=jA(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;p&&f?p.data.isEqual(f.data)?v!==m&&(n.track({type:3,doc:f}),g=!0):this.su(p,f)||(n.track({type:2,doc:f}),g=!0,(l&&this.eu(f,l)>0||u&&this.eu(f,u)<0)&&(o=!0)):!p&&f?(n.track({type:0,doc:f}),g=!0):p&&!f&&(n.track({type:1,doc:p}),g=!0,(l||u)&&(o=!0)),g&&(f?(s=s.add(f),a=m?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,h)=>function(f,v){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt(20277,{Rt:g})}};return m(f)-m(v)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Mv(this.query,e.tu,a,s,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S8,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Er(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new _K(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new wK(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Er();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Mv.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const r3="SyncEngine";class i0e{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class a0e{constructor(e){this.key=e,this.hu=!1}}class s0e{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ym(o=>$G(o),EA),this.Iu=new Map,this.Eu=new Set,this.du=new ai($t.comparator),this.Au=new Map,this.Ru=new WO,this.Vu={},this.mu=new Map,this.fu=Lv.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function o0e(t,e,r=!0){const n=PK(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await SK(n,e,r,!0),i}async function l0e(t,e){const r=PK(t);await SK(r,e,!0,!1)}async function SK(t,e,r,n){const i=await Pye(t.localStore,Sc(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await c0e(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&hK(t.remoteStore,i),o}async function c0e(t,e,r,n,i){t.pu=(h,p,f)=>async function(m,g,y,x){let _=g.view.ru(y);_.Cs&&(_=await v8(m.localStore,g.query,!1).then(({documents:j})=>g.view.ru(j,_)));const S=x&&x.targetChanges.get(g.targetId),N=x&&x.targetMismatches.get(g.targetId)!=null,C=g.view.applyChanges(_,m.isPrimaryClient,S,N);return j8(m,g.targetId,C.au),C.snapshot}(t,h,p,f);const a=await v8(t.localStore,e,!0),s=new n0e(e,a.Qs),o=s.ru(a.documents),l=$x.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);j8(t,r,u.au);const d=new i0e(e,r,s);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function u0e(t,e,r){const n=or(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!EA(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await RC(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&YO(n.remoteStore,i.targetId),MC(n,i.targetId)}).catch(Iy)):(MC(n,i.targetId),await RC(n.localStore,i.targetId,!0))}async function d0e(t,e){const r=or(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),YO(r.remoteStore,n.targetId))}async function h0e(t,e,r){const n=b0e(t);try{const i=await function(s,o){const l=or(s),u=Vn.now(),d=o.reduce((f,v)=>f.add(v.key),Er());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=Gu(),m=Er();return l.Ns.getEntries(f,d).next(g=>{v=g,v.forEach((y,x)=>{x.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,v)).next(g=>{h=g;const y=[];for(const x of o){const _=jve(x,h.get(x.key).overlayedDocument);_!=null&&y.push(new yf(x.key,_,kG(_.value.mapValue),Ho.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,y,o)}).next(g=>{p=g;const y=g.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,y)})}).then(()=>({batchId:p.batchId,changes:UG(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new ai(Nr)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await Bx(n,i.changes),await OA(n.remoteStore)}catch(i){const a=e3(i,"Failed to persist write");r.reject(a)}}async function AK(t,e){const r=or(t);try{const n=await Nye(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Jr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Jr(s.hu,14607):i.removedDocuments.size>0&&(Jr(s.hu,42227),s.hu=!1))}),await Bx(r,n,e)}catch(n){await Iy(n)}}function E8(t,e,r){const n=or(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=or(s);l.onlineState=o;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(o)&&(u=!0)}),u&&t3(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function f0e(t,e,r){const n=or(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new ai($t.comparator);s=s.insert(a,Ra.newNoDocument(a,ir.min()));const o=Er().add(a),l=new CA(ir.min(),new Map,new ai(Nr),s,o);await AK(n,l),n.du=n.du.remove(a),n.Au.delete(e),n3(n)}else await RC(n.localStore,e,!1).then(()=>MC(n,e,r)).catch(Iy)}async function p0e(t,e){const r=or(t),n=e.batch.batchId;try{const i=await Aye(r.localStore,e);EK(r,n,null),NK(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Bx(r,i)}catch(i){await Iy(i)}}async function m0e(t,e,r){const n=or(t);try{const i=await function(s,o){const l=or(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(Jr(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(n.localStore,e);EK(n,e,r),NK(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Bx(n,i)}catch(i){await Iy(i)}}function NK(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function EK(t,e,r){const n=or(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function MC(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||jK(t,n)})}function jK(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(YO(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),n3(t))}function j8(t,e,r){for(const n of r)n instanceof wK?(t.Ru.addReference(n.key,e),g0e(t,n)):n instanceof _K?(pt(r3,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||jK(t,n.key)):Wt(19791,{wu:n})}function g0e(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(pt(r3,"New document in limbo: "+r),t.Eu.add(n),n3(t))}function n3(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new $t(wn.fromString(e)),n=t.fu.next();t.Au.set(n,new a0e(r)),t.du=t.du.insert(r,n),hK(t.remoteStore,new mh(Sc($O(r.path)),n,"TargetPurposeLimboResolution",_A.ce))}}async function Bx(t,e,r){const n=or(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=GO.As(l.targetId,u);a.push(h)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,u){const d=or(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>He.forEach(u,p=>He.forEach(p.Es,f=>d.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>He.forEach(p.ds,f=>d.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!Oy(h))throw h;pt(KO,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const f=d.Ms.get(p),v=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(p,m)}}}(n.localStore,a))}async function v0e(t,e){const r=or(t);if(!r.currentUser.isEqual(e)){pt(r3,"User change. New user:",e.toKey());const n=await lK(r.localStore,e);r.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new rt(Ue.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Bx(r,n.Ls)}}function y0e(t,e){const r=or(t),n=r.Au.get(e);if(n&&n.hu)return Er().add(n.key);{let i=Er();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function PK(t){const e=or(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y0e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f0e.bind(null,e),e.Pu.H_=t0e.bind(null,e.eventManager),e.Pu.yu=r0e.bind(null,e.eventManager),e}function b0e(t){const e=or(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p0e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m0e.bind(null,e),e}class NS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kA(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Sye(this.persistence,new xye,e.initialUser,this.serializer)}Cu(e){return new oK(HO.mi,this.serializer)}Du(e){return new Cye}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}NS.provider={build:()=>new NS};class x0e extends NS{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Jr(this.persistence.referenceDelegate instanceof SS,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new aye(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new oK(n=>SS.mi(n,r),this.serializer)}}class $C{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>E8(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=v0e.bind(null,this.syncEngine),await Jye(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e0e}()}createDatastore(e){const r=kA(e.databaseInfo.databaseId),n=function(a){return new Dye(a)}(e.databaseInfo);return function(a,s,o,l){return new Fye(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new Uye(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>E8(this.syncEngine,r,0),function(){return x8.v()?new x8:new kye}())}createSyncEngine(e,r){return function(i,a,s,o,l,u,d){const h=new s0e(i,a,s,o,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=or(i);pt(Zp,"RemoteStore shutting down."),a.Ea.add(5),await Fx(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}$C.provider={build:()=>new $C};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="FirestoreClient";class w0e{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ia.UNAUTHENTICATED,this.clientId=OO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{pt(Zh,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(pt(Zh,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=e3(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function yj(t,e){t.asyncQueue.verifyOperationInProgress(),pt(Zh,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await lK(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P8(t,e){t.asyncQueue.verifyOperationInProgress();const r=await _0e(t);pt(Zh,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>_8(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>_8(e.remoteStore,i)),t._onlineComponents=e}async function _0e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pt(Zh,"Using user provided OfflineComponentProvider");try{await yj(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ue.FAILED_PRECONDITION||i.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;kv("Error using user provided cache. Falling back to memory cache: "+r),await yj(t,new NS)}}else pt(Zh,"Using default OfflineComponentProvider"),await yj(t,new x0e(void 0));return t._offlineComponents}async function CK(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pt(Zh,"Using user provided OnlineComponentProvider"),await P8(t,t._uninitializedComponentsProvider._online)):(pt(Zh,"Using default OnlineComponentProvider"),await P8(t,new $C))),t._onlineComponents}function S0e(t){return CK(t).then(e=>e.syncEngine)}async function kK(t){const e=await CK(t),r=e.eventManager;return r.onListen=o0e.bind(null,e.syncEngine),r.onUnlisten=u0e.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=l0e.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=d0e.bind(null,e.syncEngine),r}function A0e(t,e,r={}){const n=new Cu;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new TK({next:p=>{d.Nu(),s.enqueueAndForget(()=>bK(a,h));const f=p.docs.has(o);!f&&p.fromCache?u.reject(new rt(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?u.reject(new rt(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new xK($O(o.path),d,{includeMetadataChanges:!0,qa:!0});return yK(a,h)}(await kK(t),t.asyncQueue,e,r,n)),n.promise}function N0e(t,e,r={}){const n=new Cu;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new TK({next:p=>{d.Nu(),s.enqueueAndForget(()=>bK(a,h)),p.fromCache&&l.source==="server"?u.reject(new rt(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new xK(o,d,{includeMetadataChanges:!0,qa:!0});return yK(a,h)}(await kK(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IK(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK="firestore.googleapis.com",C8=!0;class k8{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OK,this.ssl=C8}else this.host=e.host,this.ssl=e.ssl??C8;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sK;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nye)throw new rt(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bge("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IK(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new rt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new rt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new rt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class RA{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k8({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k8(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Cge;switch(n.type){case"firstParty":return new Rge(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new rt(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=T8.get(r);n&&(pt("ComponentProvider","Removing Datastore"),T8.delete(r),n.terminate())}(this),Promise.resolve()}}function E0e(t,e,r,n={}){var u;t=kl(t,RA);const i=Py(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(_H(`https://${o}`),SH("Firestore",!0)),a.host!==OK&&a.host!==o&&kv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!Kp(l,s)&&(t._setSettings(l),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=Ia.MOCK_USER;else{d=$he(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new rt(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ia(p)}t._authCredentials=new kge(new yG(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $c(this.firestore,e,this._query)}}class _i{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _i(this.firestore,e,this._key)}toJSON(){return{type:_i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Lx(r,_i._jsonSchema))return new _i(e,n||null,new $t(wn.fromString(r.referencePath)))}}_i._jsonSchemaVersion="firestore/documentReference/1.0",_i._jsonSchema={type:ki("string",_i._jsonSchemaVersion),referencePath:ki("string")};class Lh extends $c{constructor(e,r,n){super(e,r,$O(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _i(this.firestore,null,new $t(e))}withConverter(e){return new Lh(this.firestore,e,this._path)}}function ti(t,e,...r){if(t=Ai(t),bG("collection","path",e),t instanceof RA){const n=wn.fromString(e,...r);return WM(n),new Lh(t,null,n)}{if(!(t instanceof _i||t instanceof Lh))throw new rt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wn.fromString(e,...r));return WM(n),new Lh(t.firestore,null,n)}}function Pi(t,e,...r){if(t=Ai(t),arguments.length===1&&(e=OO.newId()),bG("doc","path",e),t instanceof RA){const n=wn.fromString(e,...r);return qM(n),new _i(t,null,new $t(n))}{if(!(t instanceof _i||t instanceof Lh))throw new rt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wn.fromString(e,...r));return qM(n),new _i(t.firestore,t instanceof Lh?t.converter:null,new $t(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8="AsyncQueue";class O8{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uK(this,"async_queue_retry"),this._c=()=>{const n=vj();n&&pt(I8,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=vj();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=vj();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Cu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oy(e))throw e;pt(I8,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Hu("INTERNAL UNHANDLED ERROR: ",R8(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=ZO.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Wt(47125,{Pc:R8(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function R8(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xm extends RA{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new O8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O8(e),this._firestoreClient=void 0,await e}}}function j0e(t,e){const r=typeof t=="object"?t:jH(),n=typeof t=="string"?t:vS,i=SO(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Lhe("firestore");a&&E0e(i,...a)}return i}function i3(t){if(t._terminated)throw new rt(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P0e(t),t._firestoreClient}function P0e(t){var n,i,a;const e=t._freezeSettings(),r=function(o,l,u,d){return new Jge(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,IK(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new w0e(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(va.fromBase64String(e))}catch(r){throw new rt(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Fo(va.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lx(e,Fo._jsonSchema))return Fo.fromBase64String(e.bytes)}}Fo._jsonSchemaVersion="firestore/bytes/1.0",Fo._jsonSchema={type:ki("string",Fo._jsonSchemaVersion),bytes:ki("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new rt(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ha(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new rt(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new rt(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nr(this._lat,e._lat)||Nr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nc._jsonSchemaVersion}}static fromJSON(e){if(Lx(e,Nc._jsonSchema))return new Nc(e.latitude,e.longitude)}}Nc._jsonSchemaVersion="firestore/geoPoint/1.0",Nc._jsonSchema={type:ki("string",Nc._jsonSchemaVersion),latitude:ki("number"),longitude:ki("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ec._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lx(e,Ec._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Ec(e.vectorValues);throw new rt(Ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ec._jsonSchemaVersion="firestore/vectorValue/1.0",Ec._jsonSchema={type:ki("string",Ec._jsonSchemaVersion),vectorValues:ki("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0e=/^__.*__$/;class C0e{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new yf(e,this.data,this.fieldMask,r,this.fieldTransforms):new Mx(e,this.data,r,this.fieldTransforms)}}class RK{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new yf(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function DK(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt(40011,{Ac:t})}}class a3{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new a3({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ES(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DK(this.Ac)&&T0e.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class k0e{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||kA(e)}Cc(e,r,n,i=!1){return new a3({Ac:e,methodName:r,Dc:n,path:ha.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ux(t){const e=t._freezeSettings(),r=kA(t._databaseId);return new k0e(t._databaseId,!!e.ignoreUndefinedProperties,r)}function LK(t,e,r,n,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);o3("Data must be an object, but it was:",s,n);const o=$K(n,s);let l,u;if(a.merge)l=new io(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const p=FC(e,h,r);if(!s.contains(p))throw new rt(Ue.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);BK(d,p)||d.push(p)}l=new io(d),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new C0e(new Es(o),l,u)}class MA extends LA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof MA}}class s3 extends LA{_toFieldTransform(e){return new Sve(e.path,new vb)}isEqual(e){return e instanceof s3}}function I0e(t,e,r,n){const i=t.Cc(1,e,r);o3("Data must be an object, but it was:",i,n);const a=[],s=Es.empty();gf(n,(l,u)=>{const d=l3(e,l,r);u=Ai(u);const h=i.yc(d);if(u instanceof MA)a.push(d);else{const p=Vx(u,h);p!=null&&(a.push(d),s.set(d,p))}});const o=new io(a);return new RK(s,o,i.fieldTransforms)}function O0e(t,e,r,n,i,a){const s=t.Cc(1,e,r),o=[FC(e,n,r)],l=[i];if(a.length%2!=0)throw new rt(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(FC(e,a[p])),l.push(a[p+1]);const u=[],d=Es.empty();for(let p=o.length-1;p>=0;--p)if(!BK(u,o[p])){const f=o[p];let v=l[p];v=Ai(v);const m=s.yc(f);if(v instanceof MA)u.push(f);else{const g=Vx(v,m);g!=null&&(u.push(f),d.set(f,g))}}const h=new io(u);return new RK(d,h,s.fieldTransforms)}function MK(t,e,r,n=!1){return Vx(r,t.Cc(n?4:3,e))}function Vx(t,e){if(FK(t=Ai(t)))return o3("Unsupported field value:",e,t),$K(t,e);if(t instanceof LA)return function(n,i){if(!DK(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=Vx(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Ai(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xve(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Vn.fromDate(n);return{timestampValue:_S(i.serializer,a)}}if(n instanceof Vn){const a=new Vn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_S(i.serializer,a)}}if(n instanceof Nc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fo)return{bytesValue:ZG(i.serializer,n._byteString)};if(n instanceof _i){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qO(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ec)return function(s,o){return{mapValue:{fields:{[PG]:{stringValue:CG},[yS]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return BO(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${wA(n)}`)}(t,e)}function $K(t,e){const r={};return _G(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gf(t,(n,i)=>{const a=Vx(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function FK(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof Nc||t instanceof Fo||t instanceof _i||t instanceof LA||t instanceof Ec)}function o3(t,e,r){if(!FK(r)||!xG(r)){const n=wA(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function FC(t,e,r){if((e=Ai(e))instanceof DA)return e._internalPath;if(typeof e=="string")return l3(t,e);throw ES("Field path arguments must be of type string or ",t,!1,void 0,r)}const R0e=new RegExp("[~\\*/\\[\\]]");function l3(t,e,r){if(e.search(R0e)>=0)throw ES(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new DA(...e.split("."))._internalPath}catch{throw ES(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function ES(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new rt(Ue.INVALID_ARGUMENT,o+t+l)}function BK(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D0e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field($A("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class D0e extends c3{data(){return super.data()}}function $A(t,e){return typeof e=="string"?l3(t,e):e instanceof DA?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new rt(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u3{}class zx extends u3{}function bf(t,e,...r){let n=[];e instanceof u3&&n.push(e),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof d3).length,o=a.filter(l=>l instanceof FA).length;if(s>1||s>0&&o>0)throw new rt(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class FA extends zx{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new FA(e,r,n)}_apply(e){const r=this._parse(e);return VK(e._query,r),new $c(e.firestore,e.converter,TC(e._query,r))}_parse(e){const r=Ux(e.firestore);return function(a,s,o,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new rt(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){L8(h,d);const v=[];for(const m of h)v.push(D8(l,a,m));p={arrayValue:{values:v}}}else p=D8(l,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||L8(h,d),p=MK(o,s,h,d==="in"||d==="not-in");return Ci.create(u,d,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function jc(t,e,r){const n=e,i=$A("where",t);return FA._create(i,n,r)}class d3 extends u3{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new d3(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Il.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)VK(s,l),s=TC(s,l)}(e._query,r),new $c(e.firestore,e.converter,TC(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class h3 extends zx{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new h3(e,r)}_apply(e){const r=function(i,a,s){if(i.startAt!==null)throw new rt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new rt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gb(a,s)}(e._query,this._field,this._direction);return new $c(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new vf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function ef(t,e="asc"){const r=e,n=$A("orderBy",t);return h3._create(n,r)}class f3 extends zx{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new f3(e,r,n)}_apply(e){return new $c(e.firestore,e.converter,xS(e._query,this._limit,this._limitType))}}function xb(t){return Uge("limit",t),f3._create("limit",t,"F")}class p3 extends zx{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new p3(e,r,n)}_apply(e){const r=UK(e,this.type,this._docOrFields,this._inclusive);return new $c(e.firestore,e.converter,function(i,a){return new vf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,r))}}function M0e(...t){return p3._create("startAt",t,!0)}class m3 extends zx{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new m3(e,r,n)}_apply(e){const r=UK(e,this.type,this._docOrFields,this._inclusive);return new $c(e.firestore,e.converter,function(i,a){return new vf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)}(e._query,r))}}function $0e(...t){return m3._create("endAt",t,!0)}function UK(t,e,r,n){if(r[0]=Ai(r[0]),r[0]instanceof c3)return function(a,s,o,l,u){if(!l)throw new rt(Ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const h of qg(a))if(h.field.isKeyField())d.push(bS(s,l.key));else{const p=l.data.field(h.field);if(AA(p))throw new rt(Ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const f=h.field.canonicalString();throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}d.push(p)}return new Dv(d,u)}(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=Ux(t.firestore);return function(s,o,l,u,d,h){const p=s.explicitOrderBy;if(d.length>p.length)throw new rt(Ue.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let v=0;v<d.length;v++){const m=d[v];if(p[v].field.isKeyField()){if(typeof m!="string")throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof m}`);if(!FO(s)&&m.indexOf("/")!==-1)throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${m}' contains a slash.`);const g=s.path.child(wn.fromString(m));if(!$t.isDocumentKey(g))throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);const y=new $t(g);f.push(bS(o,y))}else{const g=MK(l,u,m);f.push(g)}}return new Dv(f,h)}(t._query,t.firestore._databaseId,i,e,r,n)}}function D8(t,e,r){if(typeof(r=Ai(r))=="string"){if(r==="")throw new rt(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FO(e)&&r.indexOf("/")!==-1)throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wn.fromString(r));if(!$t.isDocumentKey(n))throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return bS(t,new $t(n))}if(r instanceof _i)return bS(t,r._key);throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wA(r)}.`)}function L8(t,e){if(!Array.isArray(t)||t.length===0)throw new rt(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VK(t,e){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new rt(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class F0e{convertValue(e,r="none"){switch(Qh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Xh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Wt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return gf(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[yS].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>vi(s.doubleValue));return new Ec(r)}convertGeoPoint(e){return new Nc(vi(e.latitude),vi(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=NA(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(fb(e));default:return null}}convertTimestamp(e){const r=Yh(e);return new Vn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wn.fromString(e);Jr(aK(n),9688,{name:e});const i=new pb(n.get(1),n.get(3)),a=new $t(n.popFirst(5));return i.isEqual(r)||Hu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class r1{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ip extends c3{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new f_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field($A("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ip._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ip._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ip._jsonSchema={type:ki("string",Ip._jsonSchemaVersion),bundleSource:ki("string","DocumentSnapshot"),bundleName:ki("string"),bundle:ki("string")};class f_ extends Ip{data(e={}){return super.data(e)}}class Hg{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new r1(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new f_(this._firestore,this._userDataWriter,n.key,n,new r1(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new rt(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new f_(i._firestore,i._userDataWriter,o.doc.key,o.doc,new r1(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new f_(i._firestore,i._userDataWriter,o.doc.key,o.doc,new r1(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:B0e(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=OO.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function B0e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){t=kl(t,_i);const e=kl(t.firestore,xm);return A0e(i3(e),t._key).then(r=>U0e(e,t,r))}Hg._jsonSchemaVersion="firestore/querySnapshot/1.0",Hg._jsonSchema={type:ki("string",Hg._jsonSchemaVersion),bundleSource:ki("string","QuerySnapshot"),bundleName:ki("string"),bundle:ki("string")};class qK extends F0e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,r)}}function fa(t){t=kl(t,$c);const e=kl(t.firestore,xm),r=i3(e),n=new qK(e);return L0e(t._query),N0e(r,t._query).then(i=>new Hg(e,n,t,i))}function $v(t,e,r){t=kl(t,_i);const n=kl(t.firestore,xm),i=zK(t.converter,e,r);return BA(n,[LK(Ux(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ho.none())])}function BC(t,e,r,...n){t=kl(t,_i);const i=kl(t.firestore,xm),a=Ux(i);let s;return s=typeof(e=Ai(e))=="string"||e instanceof DA?O0e(a,"updateDoc",t._key,e,r,n):I0e(a,"updateDoc",t._key,e),BA(i,[s.toMutation(t._key,Ho.exists(!0))])}function Jf(t){return BA(kl(t.firestore,xm),[new UO(t._key,Ho.none())])}function qx(t,e){const r=kl(t.firestore,xm),n=Pi(t),i=zK(t.converter,e);return BA(r,[LK(Ux(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Ho.exists(!1))]).then(()=>n)}function BA(t,e){return function(n,i){const a=new Cu;return n.asyncQueue.enqueueAndForget(async()=>h0e(await S0e(n),i,a)),a.promise}(i3(t),e)}function U0e(t,e,r){const n=r.docs.get(e._key),i=new qK(t);return new Ip(t,i,e._key,n,new r1(r.hasPendingWrites,r.fromCache),e.converter)}function Za(){return new s3("serverTimestamp")}(function(e,r=!0){(function(i){ky=i})(Ty),Tv(new Yp("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new xm(new Ige(n.getProvider("auth-internal")),new Dge(s,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new rt(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pb(u.options.projectId,d)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Rh(BM,UM,e),Rh(BM,UM,"esm2020")})();const V0e={apiKey:"AIzaSyAStGKJqRedz12n8JUSfW1eKlPXKsFRHFA",authDomain:"optify-definitivo.firebaseapp.com",projectId:"optify-definitivo",storageBucket:"optify-definitivo.firebasestorage.app",messagingSenderId:"1083748361977",appId:"1:1083748361977:web:faf62042d761fddad26428"},WK=EH(V0e),gr=j0e(WK),Ng=Ege(WK),z0e=Object.freeze(Object.defineProperty({__proto__:null,auth:Ng,db:gr},Symbol.toStringTag,{value:"Module"})),q0e=["diegkamor@gmail.com"],jS=t=>t?q0e.includes(t.toLowerCase()):!1,W0e=async(t,e)=>{try{if(jS(e))return!0;const n=Pi(gr,"admins",t),i=await wb(n);if(i.exists()){const a=i.data();return(a==null?void 0:a.isAdmin)===!0}return!1}catch(r){return console.error("Erro ao verificar status de admin:",r),!1}},M8={free:{funcionarios:1,permissoes:{},isSubscriber:!1,isActive:!1},standard:{funcionarios:5,permissoes:{},isSubscriber:!0,isActive:!0},medium:{funcionarios:10,permissoes:{},isSubscriber:!0,isActive:!0},ultimate:{funcionarios:50,permissoes:{},isSubscriber:!0,isActive:!0}};class Gg{static cleanData(e){return Object.fromEntries(Object.entries(e).filter(([r,n])=>n!==void 0))}static async createOrUpdateUserProfile(e,r){try{const n=Pi(gr,"users",e),i=await wb(n),a=M8[r.plano||"free"];if(i.exists()){const s=this.cleanData({email:r.email,name:r.name||r.displayName,displayName:r.displayName,photoURL:r.photoURL,plano:r.plano||"free",funcionariosPermitidos:a.funcionarios,permissoes:a.permissoes,isSubscriber:a.isSubscriber,isActive:a.isActive,updatedAt:Za()});await BC(n,s)}else{const s=this.cleanData({id:e,email:r.email,name:r.name||r.displayName,displayName:r.displayName,photoURL:r.photoURL,plano:r.plano||"free",funcionariosPermitidos:a.funcionarios,permissoes:a.permissoes,isSubscriber:a.isSubscriber,isActive:a.isActive,isAdmin:!1,subscriptionStartDate:null,subscriptionEndDate:null,subscriptionMonths:null,createdAt:Za(),updatedAt:Za()});await $v(n,s)}console.log(`✅ Perfil do usuário ${r.email} criado/atualizado no Firestore`)}catch(n){throw console.error("❌ Erro ao criar/atualizar perfil do usuário:",n),n}}static async getUserProfile(e){try{const r=Pi(gr,"users",e),n=await wb(r);if(n.exists()){const i=n.data();return{id:e,email:i.email,name:i.name,displayName:i.displayName,photoURL:i.photoURL,plano:i.plano||"free",funcionariosPermitidos:i.funcionariosPermitidos||1,permissoes:i.permissoes||{},isSubscriber:i.isSubscriber||!1,isActive:i.isActive||!1,isAdmin:i.isAdmin||!1,subscriptionStartDate:i.subscriptionStartDate,subscriptionEndDate:i.subscriptionEndDate,subscriptionMonths:i.subscriptionMonths,createdAt:i.createdAt,updatedAt:i.updatedAt}}return null}catch(r){throw console.error("❌ Erro ao buscar perfil do usuário:",r),r}}static async updateUserPlan(e,r,n){try{const i=Pi(gr,"users",e),a=M8[r],s={plano:r,funcionariosPermitidos:a.funcionarios,permissoes:a.permissoes,isSubscriber:a.isSubscriber,isActive:a.isActive,updatedAt:Za()};if(r!=="free"){if(s.isSubscriber=!0,s.isActive=!0,n&&n>0){const l=new Date,u=new Date;u.setMonth(u.getMonth()+n),s.subscriptionStartDate=l,s.subscriptionEndDate=u,s.subscriptionMonths=n}}else s.isSubscriber=!1,s.isActive=!1,s.subscriptionStartDate=null,s.subscriptionEndDate=null,s.subscriptionMonths=null;const o=this.cleanData(s);await BC(i,o),console.log(`✅ Plano do usuário atualizado para ${r} no Firestore`)}catch(i){throw console.error("❌ Erro ao atualizar plano do usuário:",i),i}}}const HK=P.createContext(void 0),Hr=()=>{const t=P.useContext(HK);if(t===void 0)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return t},H0e=({children:t})=>{const[e,r]=P.useState(null),[n,i]=P.useState(!0),[a,s]=P.useState(!1);P.useEffect(()=>pme(Ng,async p=>{var f;if(r(p),p)try{await Gg.getUserProfile(p.uid)||(await Gg.createOrUpdateUserProfile(p.uid,{email:p.email||"",name:p.displayName||((f=p.email)==null?void 0:f.split("@")[0])||"Usuário",displayName:p.displayName,plano:"free"}),console.log(`✅ Perfil criado para usuário existente: ${p.email}`));const m=await W0e(p.uid,p.email);p.email==="diegkamor@gmail.com"?s(!0):s(m)}catch(v){console.error("Erro ao verificar/criar perfil do usuário:",v),p.email==="diegkamor@gmail.com"?s(!0):s(!1)}else s(!1);i(!1)}),[]);const d={user:e,loading:n,isAdmin:a,signIn:async(h,p)=>{try{await cme(Ng,h,p)}catch(f){throw console.error("Erro ao fazer login:",f),f}},signUp:async(h,p,f)=>{try{const{user:v}=await lme(Ng,h,p);f&&await dme(v,{displayName:f}),await Gg.createOrUpdateUserProfile(v.uid,{email:v.email||h,name:f,displayName:f,plano:"free"}),console.log(`✅ Usuário ${h} criado com sucesso no Firestore`)}catch(v){throw console.error("Erro ao criar conta:",v),v}},logout:async()=>{try{await mme(Ng)}catch(h){throw console.error("Erro ao fazer logout:",h),h}}};return c.jsx(HK.Provider,{value:d,children:t})},Na=({children:t,requireAdmin:e=!1})=>{const{user:r,loading:n,isAdmin:i}=Hr();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):r?c.jsx(c.Fragment,{children:t}):c.jsx(pH,{to:"/login",replace:!0})},g3={free:{maxEmployees:1,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!1,payments:!1,reports:!1,reportsAdvanced:!1,balances:!1,history:!1,chineseCpa:!1,advancedPanel:!1,dutchuingBot:!1,advancedIntegrations:!1,customApi:!1,prioritySupport:!1,dedicatedSupport:!1}},standard:{maxEmployees:5,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!1,payments:!1,reports:!0,reportsAdvanced:!1,balances:!1,history:!1,chineseCpa:!1,advancedPanel:!1,dutchuingBot:!1,advancedIntegrations:!1,customApi:!1,prioritySupport:!1,dedicatedSupport:!1}},medium:{maxEmployees:10,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!0,payments:!0,reports:!0,reportsAdvanced:!0,balances:!0,history:!0,chineseCpa:!1,advancedPanel:!1,dutchuingBot:!1,advancedIntegrations:!1,customApi:!1,prioritySupport:!1,dedicatedSupport:!1}},ultimate:{maxEmployees:50,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!0,payments:!0,reports:!0,reportsAdvanced:!0,balances:!0,history:!0,chineseCpa:!0,advancedPanel:!0,dutchuingBot:!0,advancedIntegrations:!0,customApi:!0,prioritySupport:!0,dedicatedSupport:!0}}},G0e=[{id:"free",name:"Free",description:"Plano gratuito para testar o sistema",monthlyPrice:0,annualPrice:0,annualDiscount:0,maxEmployees:1},{id:"standard",name:"Standard",description:"Ideal para pequenos negócios",monthlyPrice:1,annualPrice:10.2,annualDiscount:15,maxEmployees:5},{id:"medium",name:"Medium",description:"Plano mais popular para médias empresas",monthlyPrice:49.9,annualPrice:509.16,annualDiscount:15,maxEmployees:10,isPopular:!0},{id:"ultimate",name:"Ultimate",description:"Acesso total com recursos avançados",monthlyPrice:99.9,annualPrice:1018.32,annualDiscount:15,maxEmployees:50}],Fi=(t,e)=>{const r=g3[t];return r?r.features[e]:!1},K0e=(t,e)=>{const r=g3[t];return r?e<r.maxEmployees:!1},Y0e=t=>{const e=g3[t];return(e==null?void 0:e.maxEmployees)||0},$8=t=>G0e.find(e=>e.id===t)||null,GK=(t,e)=>{const n={pagamentos:"payments",relatorios:"reports",saldos:"balances",historico:"history",admin:"advancedPanel"}[e.toLowerCase()];return n?Fi(t,n):!0},X0e=t=>Fi(t,"calendarPrevious"),T0=new Map,xf=()=>{const{user:t}=Hr(),e=()=>t!=null&&t.uid&&T0.get(t.uid)||"free",[r,n]=P.useState(e),[i,a]=P.useState(null),[s,o]=P.useState(!0),[l,u]=P.useState(0),[d,h]=P.useState(0);P.useEffect(()=>{(async()=>{if(!t){o(!1);return}try{T0.has(t.uid)||o(!0);const N=await Gg.getUserProfile(t.uid),C=(N==null?void 0:N.plano)||"free";T0.set(t.uid,C),n(C),o(!1)}catch(S){console.error("Erro ao buscar plano do usuário:",S),T0.has(t.uid)||n("free"),o(!1)}})()},[t,d]),P.useEffect(()=>{const _=S=>{const{userId:N,newPlan:C}=S.detail;t&&N===t.uid&&(T0.set(N,C),n(C),h(j=>j+1))};return window.addEventListener("planChanged",_),()=>{window.removeEventListener("planChanged",_)}},[t]),P.useEffect(()=>{const _=$8(r);if(_){const S={maxEmployees:_.maxEmployees,features:{dashboard:Fi(r,"dashboard"),dailySummary:Fi(r,"dailySummary"),calendar:Fi(r,"calendar"),calendarPrevious:Fi(r,"calendarPrevious"),payments:Fi(r,"payments"),reports:Fi(r,"reports"),reportsAdvanced:Fi(r,"reportsAdvanced"),balances:Fi(r,"balances"),history:Fi(r,"history"),chineseCpa:Fi(r,"chineseCpa"),advancedPanel:Fi(r,"advancedPanel"),dutchuingBot:Fi(r,"dutchuingBot"),advancedIntegrations:Fi(r,"advancedIntegrations"),customApi:Fi(r,"customApi"),prioritySupport:Fi(r,"prioritySupport"),dedicatedSupport:Fi(r,"dedicatedSupport")}};a(S)}},[r]);const p=_=>_==="advancedPanel"&&jS(t==null?void 0:t.email)?!0:Fi(r,_),f=()=>K0e(r,l),v=()=>Y0e(r),m=_=>_.toLowerCase()==="admin"&&jS(t==null?void 0:t.email)?!0:GK(r,_),g=()=>X0e(r),y=$8(r);return{currentPlan:r,limitations:i,loading:s,employeeCount:l,setEmployeeCount:u,planInfo:y,canAccess:p,canAddMoreEmployees:f,getEmployeeLimitForPlan:v,canAccessPageRoute:m,canEditPreviousCalendarDays:g,refreshPlan:()=>{h(_=>_+1)}}},Ye=P.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:_t("rounded-2xl border border-border/50 bg-card text-card-foreground shadow-soft backdrop-blur-sm",t),...e}));Ye.displayName="Card";const Q0e=P.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:_t("flex flex-col space-y-1.5 p-6",t),...e}));Q0e.displayName="CardHeader";const J0e=P.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:_t("text-2xl font-semibold leading-none tracking-tight",t),...e}));J0e.displayName="CardTitle";const Z0e=P.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:_t("text-sm text-muted-foreground",t),...e}));Z0e.displayName="CardDescription";const e1e=P.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:_t("p-6 pt-0",t),...e}));e1e.displayName="CardContent";const t1e=P.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:_t("flex items-center p-6 pt-0",t),...e}));t1e.displayName="CardFooter";const _b=jx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"gradient-primary text-primary-foreground hover:shadow-glow hover:scale-105",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:scale-105",outline:"border-2 border-primary/50 bg-transparent text-primary hover:bg-primary/10 hover:border-primary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:scale-105",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline",success:"gradient-success text-success-foreground hover:shadow-glow hover:scale-105",glass:"glass text-foreground hover:bg-primary/10"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-lg px-4",lg:"h-13 rounded-xl px-10 text-base",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),qe=P.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const s=n?zse:"button";return c.jsx(s,{className:_t(_b({variant:e,size:r,className:t})),ref:a,...i})});qe.displayName="Button";const r1e=jx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function sr({className:t,variant:e,...r}){return c.jsx("div",{className:_t(r1e({variant:e}),t),...r})}const C0=({children:t,requiredFeature:e,pageName:r})=>{const{user:n}=Hr(),i=Gi(),{currentPlan:a}=xf();if(!n)return c.jsx(pH,{to:"/login",replace:!0});let s=GK(a,e);return e==="advancedPanel"&&jS(n==null?void 0:n.email)&&(s=!0),e==="advancedPanel"&&(s=!0),s?c.jsx(c.Fragment,{children:t}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-background/95 p-4",children:c.jsx(Ye,{className:"w-full max-w-2xl p-8 text-center shadow-2xl",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"p-4 rounded-full bg-gradient-primary/10",children:c.jsx(lA,{className:"h-12 w-12 text-primary"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Funcionalidade Bloqueada"}),c.jsxs("p",{className:"text-muted-foreground text-lg",children:[r," está disponível apenas em planos superiores"]})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Plano atual:"}),c.jsx(sr,{variant:"outline",className:"capitalize",children:a})]}),c.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Com planos superiores você terá:"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Relatórios avançados"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Histórico completo"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Controle de saldos"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Mais funcionários"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[c.jsxs(qe,{onClick:()=>i("/planos"),className:"flex items-center gap-2 bg-gradient-primary",children:[c.jsx(Ev,{className:"h-4 w-4"}),"Ver Planos Disponíveis"]}),c.jsxs(qe,{variant:"outline",onClick:()=>i("/dashboard"),className:"flex items-center gap-2",children:[c.jsx(Z2,{className:"h-4 w-4"}),"Voltar ao Dashboard"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Faça upgrade agora e desbloqueie todas as funcionalidades avançadas"})]})})})},n1e={async listActivePlans(){const t=ti(gr,"plans"),e=bf(t,jc("active","==",!0),ef("order","asc"));return(await fa(e)).docs.map(n=>({id:n.id,...n.data()}))}};function i1e(){return Ny({queryKey:["plans","active"],queryFn:()=>n1e.listActivePlans(),staleTime:1e3*60*5})}var UA="Collapsible",[a1e,KK]=go(UA),[s1e,v3]=a1e(UA),YK=P.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:s,...o}=t,[l,u]=jl({prop:n,defaultProp:i??!1,onChange:s,caller:UA});return c.jsx(s1e,{scope:r,disabled:a,contentId:Al(),open:l,onOpenToggle:P.useCallback(()=>u(d=>!d),[u]),children:c.jsx(Ht.div,{"data-state":b3(l),"data-disabled":a?"":void 0,...o,ref:e})})});YK.displayName=UA;var XK="CollapsibleTrigger",QK=P.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=v3(XK,r);return c.jsx(Ht.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":b3(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:It(t.onClick,i.onOpenToggle)})});QK.displayName=XK;var y3="CollapsibleContent",JK=P.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=v3(y3,t.__scopeCollapsible);return c.jsx(Lc,{present:r||i.open,children:({present:a})=>c.jsx(o1e,{...n,ref:e,present:a})})});JK.displayName=y3;var o1e=P.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,s=v3(y3,r),[o,l]=P.useState(n),u=P.useRef(null),d=Mr(e,u),h=P.useRef(0),p=h.current,f=P.useRef(0),v=f.current,m=s.open||o,g=P.useRef(m),y=P.useRef(void 0);return P.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),na(()=>{const x=u.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const _=x.getBoundingClientRect();h.current=_.height,f.current=_.width,g.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),l(n)}},[s.open,n]),c.jsx(Ht.div,{"data-state":b3(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:m&&i})});function b3(t){return t?"open":"closed"}var l1e=YK,c1e=QK,u1e=JK,d1e=P.createContext(void 0);function VA(t){const e=P.useContext(d1e);return t||e||"ltr"}var Ll="Accordion",h1e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[x3,f1e,p1e]=nA(Ll),[zA,nZe]=go(Ll,[p1e,KK]),w3=KK(),ZK=ue.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return c.jsx(x3.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?c.jsx(y1e,{...a,ref:e}):c.jsx(v1e,{...i,ref:e})})});ZK.displayName=Ll;var[eY,m1e]=zA(Ll),[tY,g1e]=zA(Ll,{collapsible:!1}),v1e=ue.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...s}=t,[o,l]=jl({prop:r,defaultProp:n??"",onChange:i,caller:Ll});return c.jsx(eY,{scope:t.__scopeAccordion,value:ue.useMemo(()=>o?[o]:[],[o]),onItemOpen:l,onItemClose:ue.useCallback(()=>a&&l(""),[a,l]),children:c.jsx(tY,{scope:t.__scopeAccordion,collapsible:a,children:c.jsx(rY,{...s,ref:e})})})}),y1e=ue.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[s,o]=jl({prop:r,defaultProp:n??[],onChange:i,caller:Ll}),l=ue.useCallback(d=>o((h=[])=>[...h,d]),[o]),u=ue.useCallback(d=>o((h=[])=>h.filter(p=>p!==d)),[o]);return c.jsx(eY,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:u,children:c.jsx(tY,{scope:t.__scopeAccordion,collapsible:!0,children:c.jsx(rY,{...a,ref:e})})})}),[b1e,qA]=zA(Ll),rY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...s}=t,o=ue.useRef(null),l=Mr(o,e),u=f1e(r),h=VA(i)==="ltr",p=It(t.onKeyDown,f=>{var E;if(!h1e.includes(f.key))return;const v=f.target,m=u().filter(I=>{var D;return!((D=I.ref.current)!=null&&D.disabled)}),g=m.findIndex(I=>I.ref.current===v),y=m.length;if(g===-1)return;f.preventDefault();let x=g;const _=0,S=y-1,N=()=>{x=g+1,x>S&&(x=_)},C=()=>{x=g-1,x<_&&(x=S)};switch(f.key){case"Home":x=_;break;case"End":x=S;break;case"ArrowRight":a==="horizontal"&&(h?N():C());break;case"ArrowDown":a==="vertical"&&N();break;case"ArrowLeft":a==="horizontal"&&(h?C():N());break;case"ArrowUp":a==="vertical"&&C();break}const j=x%y;(E=m[j].ref.current)==null||E.focus()});return c.jsx(b1e,{scope:r,disabled:n,direction:i,orientation:a,children:c.jsx(x3.Slot,{scope:r,children:c.jsx(Ht.div,{...s,"data-orientation":a,ref:l,onKeyDown:n?void 0:p})})})}),PS="AccordionItem",[x1e,_3]=zA(PS),nY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=qA(PS,r),s=m1e(PS,r),o=w3(r),l=Al(),u=n&&s.value.includes(n)||!1,d=a.disabled||t.disabled;return c.jsx(x1e,{scope:r,open:u,disabled:d,triggerId:l,children:c.jsx(l1e,{"data-orientation":a.orientation,"data-state":cY(u),...o,...i,ref:e,disabled:d,open:u,onOpenChange:h=>{h?s.onItemOpen(n):s.onItemClose(n)}})})});nY.displayName=PS;var iY="AccordionHeader",aY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=qA(Ll,r),a=_3(iY,r);return c.jsx(Ht.h3,{"data-orientation":i.orientation,"data-state":cY(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});aY.displayName=iY;var UC="AccordionTrigger",sY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=qA(Ll,r),a=_3(UC,r),s=g1e(UC,r),o=w3(r);return c.jsx(x3.ItemSlot,{scope:r,children:c.jsx(c1e,{"aria-disabled":a.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...o,...n,ref:e})})});sY.displayName=UC;var oY="AccordionContent",lY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=qA(Ll,r),a=_3(oY,r),s=w3(r);return c.jsx(u1e,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});lY.displayName=oY;function cY(t){return t?"open":"closed"}var w1e=ZK,_1e=nY,S1e=aY,uY=sY,dY=lY;const A1e=w1e,uu=P.forwardRef(({className:t,...e},r)=>c.jsx(_1e,{ref:r,className:_t("border-b",t),...e}));uu.displayName="AccordionItem";const du=P.forwardRef(({className:t,children:e,...r},n)=>c.jsx(S1e,{className:"flex",children:c.jsxs(uY,{ref:n,className:_t("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,c.jsx(QI,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));du.displayName=uY.displayName;const hu=P.forwardRef(({className:t,children:e,...r},n)=>c.jsx(dY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:c.jsx("div",{className:_t("pb-4 pt-0",t),children:e})}));hu.displayName=dY.displayName;const N1e=()=>{const t=Gi(),{user:e}=Hr();P.useEffect(()=>{e&&t("/dashboard")},[e,t]),P.useEffect(()=>{const d={threshold:.2,rootMargin:"0px 0px -100px 0px"},h=new IntersectionObserver(f=>{f.forEach(v=>{v.isIntersecting&&v.target.classList.add("is-visible")})},d);return document.querySelectorAll(".animate-fade-in-scroll").forEach(f=>h.observe(f)),()=>h.disconnect()},[]);const r=[{icon:ri,title:"Gestão de Operações Completa",description:"Controle total sobre receitas, despesas e lucros em tempo real"},{icon:rs,title:"Gestão de Funcionários",description:"Cadastre, acompanhe e gerencie sua equipe de forma eficiente"},{icon:qp,title:"Seguro e Confiável",description:"Seus dados protegidos com a melhor tecnologia de segurança"},{icon:Z_,title:"Relatórios Inteligentes",description:"Insights poderosos para tomar decisões estratégicas"}],n=["Sem custos ocultos","Suporte 24/7","Interface intuitiva","Relatórios em tempo real","Integração completa","Dados seguros"],i=[{label:"Gestão de Funcionários",icon:rs},{label:"Transações em Tempo Real",icon:Yoe},{label:"Relatórios e Exportações",icon:e_},{label:"Calendário de Pagamentos",icon:Nv},{label:"Fechamento Diário Automático",icon:$oe},{label:"Segurança e Privacidade",icon:lA},{label:"Plataformas Personalizadas",icon:ej},{label:"Painéis Analíticos",icon:ri}],{data:a,isLoading:s}=i1e(),o=[{name:"Free",price:0,period:"Grátis",badge:"Comece grátis",icon:ej,highlight:!1,features:["Até 1 funcionário","Dashboard básico","Resumo do dia","Visualização de transações","Funcionalidades básicas"]},{name:"Standard",price:1,period:"/mês",badge:void 0,icon:qp,highlight:!1,features:["Até 5 funcionários","Dashboard básico","Resumo do dia","Relatórios básicos","Suporte por email"]},{name:"Medium",price:49.9,period:"/mês",badge:"Mais popular",icon:Z_,highlight:!0,features:["Até 10 funcionários","Pagamentos","Saldos de contas","Histórico completo","Relatórios avançados","Calendário anterior"]},{name:"Ultimate",price:99.9,period:"/mês",badge:"Para equipes",icon:Ev,highlight:!1,features:["Funcionários ilimitados","Todas as funcionalidades","Prioridade no suporte","Recursos exclusivos","Integrações avançadas","API personalizada","Painel avançado","Suporte dedicado"]}],l=(a&&a.length>0?a:o).map(d=>({...d,period:d.period||"/mês",icon:d.icon||(d.highlight||d.popular||/pro|medium/i.test(d.name)?Ev:/enterprise|ultimate|business/i.test(d.name)?Doe:ej),highlight:!!(d.highlight||d.popular),badge:d.badge||(d.popular?"Mais popular":void 0)})),u=d=>{const h=document.getElementById(d);h&&h.scrollIntoView({behavior:"smooth",block:"start"})};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsx("header",{className:"sticky top-0 z-20 border-b border-border/50 backdrop-blur-sm/60 bg-background/60",children:c.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("svg",{className:"w-10 h-10 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]}),c.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Optify"})]}),c.jsxs("nav",{className:"hidden md:flex items-center justify-center gap-6 text-sm ml-24",children:[c.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>u("features"),children:"Funcionalidades"}),c.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>u("plans"),children:"Planos"}),c.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>u("faq"),children:"FAQ"}),c.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>u("contact"),children:"Contato"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx(qe,{variant:"ghost",onClick:()=>t("/login"),children:"Entrar"}),c.jsx(qe,{onClick:()=>t("/signup"),children:"Começar Agora"})]})]})}),c.jsx("section",{id:"hero",className:"relative z-10 container mx-auto px-4 py-20 md:py-32",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsxs("svg",{className:"w-16 h-16 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]}),c.jsx("h2",{className:"text-5xl md:text-7xl font-bold leading-tight",children:c.jsx("span",{className:"gradient-primary bg-clip-text text-transparent",children:"Optify"})})]}),c.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto",children:"Transforme a gestão das suas operações. Gerencie funcionários, pagamentos e relatórios em um só lugar."}),c.jsx("div",{className:"glass rounded-xl p-4 max-w-lg mx-auto border border-primary/20",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),c.jsxs("span",{className:"text-muted-foreground",children:[c.jsx("span",{className:"text-primary font-semibold",children:"7 dias grátis"})," com o plano Ultimate"]}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(qe,{size:"lg",className:"text-xl px-12 py-6",onClick:()=>t("/signup"),children:"Começar Teste Gratuito"}),c.jsx(qe,{size:"lg",variant:"outline",className:"text-xl px-12 py-6",onClick:()=>u("plans"),children:"Ver Planos"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-w-2xl mx-auto pt-8",children:n.map((d,h)=>c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(jh,{className:"h-4 w-4 text-success flex-shrink-0"}),c.jsx("span",{children:d})]},h))})]})}),c.jsx("section",{id:"features",className:"relative z-10 container mx-auto px-4 py-20",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((d,h)=>c.jsxs("div",{className:"glass p-6 rounded-xl hover:shadow-glow transition-all animate-fade-in",style:{animationDelay:`${h*.1}s`},children:[c.jsx("div",{className:"p-3 bg-primary/10 rounded-lg w-fit mb-4",children:c.jsx(d.icon,{className:"h-6 w-6 text-primary"})}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.title}),c.jsx("p",{className:"text-muted-foreground",children:d.description})]},h))})}),c.jsx("section",{className:"relative z-10 container mx-auto px-4 py-8",children:c.jsx("div",{className:"overflow-hidden rounded-xl border border-border/50",children:c.jsx("div",{className:"marquee flex gap-6 py-6",children:[...Array(2)].flatMap(()=>i).map((d,h)=>c.jsxs("div",{className:"glass px-4 py-3 rounded-lg flex items-center gap-2 card-hover whitespace-nowrap",children:[c.jsx(d.icon,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:d.label})]},h))})})}),c.jsx("section",{className:"relative z-10 container mx-auto px-4 py-16",children:c.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in-scroll",children:c.jsxs("div",{className:"glass rounded-2xl p-8 md:p-12 text-center border border-primary/20",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),c.jsxs("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:[c.jsx("span",{className:"text-primary",children:"7 dias grátis"})," com o plano Ultimate"]}),c.jsx("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Experimente todas as funcionalidades premium sem compromisso. Acesse recursos ilimitados, suporte prioritário e muito mais."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),c.jsx("span",{children:"Funcionários ilimitados"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),c.jsx("span",{children:"Suporte prioritário 24h"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),c.jsx("span",{children:"Recursos exclusivos"})]})]}),c.jsxs(qe,{size:"lg",className:"text-xl px-12 py-6",onClick:()=>t("/signup"),children:["Começar Teste Gratuito",c.jsx(Z2,{className:"ml-2 h-5 w-5"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Sem cartão de crédito • Cancele quando quiser"})]})})}),c.jsxs("section",{id:"plans",className:"relative z-10 container mx-auto px-4 py-20",children:[c.jsxs("div",{className:"text-center mb-12 animate-fade-in-scroll",children:[c.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Planos para cada estágio"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Escolha o plano ideal e comece agora mesmo"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto animate-fade-in-scroll",children:l.map((d,h)=>c.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-border hover:shadow-glow transition-all",children:c.jsxs("div",{className:`glass p-6 ${d.badge?"pt-12":""} h-full flex flex-col`,children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:`w-12 h-12 rounded-full mx-auto mb-3 flex items-center justify-center ${d.name==="Free"?"bg-gray-500/20":d.name==="Standard"?"bg-blue-500/20":d.name==="Medium"?"bg-green-500/20":"bg-purple-500/20"}`,children:c.jsx(d.icon,{className:`h-6 w-6 ${d.name==="Free"?"text-gray-400":d.name==="Standard"?"text-blue-400":d.name==="Medium"?"text-green-400":"text-purple-400"}`})}),c.jsx("h4",{className:"text-xl font-bold mb-1",children:d.name}),d.name==="Free"&&c.jsx("div",{className:"text-2xl font-bold text-green-400",children:"Grátis"})]}),d.name!=="Free"&&c.jsxs("div",{className:"text-center mb-6",children:[c.jsxs("div",{className:"text-3xl font-extrabold",children:["R$ ",d.price.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),c.jsx("div",{className:"text-muted-foreground",children:d.period})]}),c.jsx("ul",{className:"space-y-3 mb-8 flex-grow",children:(d.features||[]).map((p,f)=>c.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[c.jsx(jh,{className:"h-4 w-4 text-success flex-shrink-0"}),c.jsx("span",{className:"text-muted-foreground",children:p})]},f))})]})},h))}),c.jsx("div",{className:"text-center mt-16 mb-8",children:c.jsxs(qe,{size:"lg",className:"text-xl px-12 py-6 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:()=>t("/signup"),children:["Começar 7 dias grátis",c.jsx(Z2,{className:"ml-2 h-5 w-5"})]})})]}),c.jsx("section",{id:"metrics",className:"relative z-10 container mx-auto px-4 py-12",children:c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-6xl mx-auto animate-fade-in-scroll",children:[{label:"Usuários ativos",value:"250+"},{label:"Transações/mês",value:"120K+"},{label:"Tempo economizado",value:"80h+"},{label:"Satisfação",value:"98%+"}].map((d,h)=>c.jsxs("div",{className:"glass rounded-xl p-6 text-center card-hover",children:[c.jsx("div",{className:"text-3xl font-extrabold mb-1",children:d.value}),c.jsx("div",{className:"text-sm text-muted-foreground",children:d.label})]},h))})}),c.jsxs("section",{id:"faq",className:"relative z-10 container mx-auto px-4 py-20",children:[c.jsxs("div",{className:"text-center mb-10 animate-fade-in-scroll",children:[c.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Perguntas frequentes"}),c.jsx("p",{className:"text-muted-foreground",children:"Tudo o que você precisa saber para começar"})]}),c.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in-scroll",children:c.jsxs(A1e,{type:"single",collapsible:!0,className:"space-y-3",children:[c.jsxs(uu,{value:"item-1",className:"glass rounded-xl px-4",children:[c.jsx(du,{children:"Posso começar grátis e mudar depois?"}),c.jsx(hu,{children:"Sim. Você pode começar no plano gratuito e migrar para outro quando quiser. Não há taxas de cancelamento ou multas."})]}),c.jsxs(uu,{value:"item-2",className:"glass rounded-xl px-4",children:[c.jsx(du,{children:"Como funciona o fechamento diário?"}),c.jsx(hu,{children:"Todos os dias às 00:00 salvamos automaticamente um resumo das transações no seu histórico. Você também pode fazer fechamentos manuais quando necessário."})]}),c.jsxs(uu,{value:"item-3",className:"glass rounded-xl px-4",children:[c.jsx(du,{children:"Quais são os planos disponíveis?"}),c.jsx(hu,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Free:"})," Até 1 funcionário, dashboard básico, resumo do dia e visualização de transações."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Standard:"})," Até 5 funcionários, relatórios básicos e suporte por email."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Medium:"})," Até 10 funcionários, pagamentos, saldos, histórico completo e relatórios avançados."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Ultimate:"})," Funcionários ilimitados, todas as funcionalidades, suporte prioritário e recursos exclusivos."]})]})})]}),c.jsxs(uu,{value:"item-4",className:"glass rounded-xl px-4",children:[c.jsx(du,{children:"Como faço para cancelar minha assinatura?"}),c.jsx(hu,{children:"Você pode cancelar sua assinatura a qualquer momento através do seu painel de controle. Não há taxas de cancelamento e você continuará tendo acesso até o final do período pago."})]}),c.jsxs(uu,{value:"item-5",className:"glass rounded-xl px-4",children:[c.jsx(du,{children:"Posso importar dados de outros sistemas?"}),c.jsx(hu,{children:"Sim! Oferecemos importação em CSV/Excel para funcionários e transações. Nossa equipe também pode ajudar com migrações de dados mais complexas nos planos pagos."})]}),c.jsxs(uu,{value:"item-6",className:"glass rounded-xl px-4",children:[c.jsx(du,{children:"Há limite de transações por mês?"}),c.jsx(hu,{children:"O plano Free tem limite de 50 transações por mês. Os planos pagos têm limites mais altos ou ilimitados, dependendo do plano escolhido."})]}),c.jsxs(uu,{value:"item-7",className:"glass rounded-xl px-4",children:[c.jsx(du,{children:"Como funciona o suporte técnico?"}),c.jsx(hu,{children:"Oferecemos suporte via WhatsApp para todos os planos. Planos pagos têm suporte prioritário e resposta mais rápida. O plano Ultimate inclui suporte dedicado."})]}),c.jsxs(uu,{value:"item-8",className:"glass rounded-xl px-4",children:[c.jsx(du,{children:"Meus dados estão seguros?"}),c.jsx(hu,{children:"Sim. Utilizamos criptografia de ponta a ponta e seguimos as melhores práticas de segurança da indústria para proteger seus dados e informações financeiras."})]})]})})]}),c.jsxs("section",{id:"contact",className:"relative z-10 container mx-auto px-4 py-20",children:[c.jsxs("div",{className:"text-center mb-10 animate-fade-in-scroll",children:[c.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Fale com a gente"}),c.jsx("p",{className:"text-muted-foreground",children:"Entre em contato pelos nossos canais oficiais"})]}),c.jsxs("div",{className:"max-w-3xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-6 animate-fade-in-scroll",children:[c.jsxs("a",{href:"https://wa.me/556295536121",target:"_blank",rel:"noreferrer",className:"glass rounded-xl p-6 flex items-center gap-3 hover:shadow-glow transition-all",children:[c.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:"WhatsApp"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Atendimento rápido"})]})]}),c.jsxs("a",{href:"https://instagram.com/optify",target:"_blank",rel:"noreferrer",className:"glass rounded-xl p-6 flex items-center gap-3 hover:shadow-glow transition-all",children:[c.jsx(Uoe,{className:"h-6 w-6 text-white"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:"Instagram"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Acompanhe as novidades"})]})]})]})]}),c.jsx("section",{className:"relative z-10 container mx-auto px-4 py-20",children:c.jsxs("div",{className:"glass rounded-2xl p-8 md:p-12 text-center border border-primary/20 max-w-4xl mx-auto space-y-6 animate-fade-in-scroll",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("svg",{className:"w-16 h-16 text-primary animate-pulse",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsxs("h3",{className:"text-4xl md:text-5xl font-bold leading-tight",children:[c.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"Pronto para transformar"}),c.jsx("br",{}),c.jsx("span",{className:"text-foreground",children:"a gestão das suas operações?"})]}),c.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Junte-se a centenas de usuários que já usam o Optify para revolucionar sua gestão"}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-primary",children:"250+"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Usuários ativos"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-primary",children:"98%"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Satisfação"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-primary",children:"24h"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Suporte"})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[c.jsxs(qe,{size:"lg",className:"text-lg px-10 py-6 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:()=>t("/signup"),children:["Começar Teste Gratuito",c.jsx(Z2,{className:"ml-2 h-5 w-5"})]}),c.jsx(qe,{size:"lg",variant:"outline",className:"text-lg px-10 py-6 border-primary/50 hover:border-primary hover:bg-primary/10 transition-all duration-300",onClick:()=>t("/login"),children:"Já tenho conta"})]}),c.jsx("p",{className:"text-sm text-muted-foreground pt-4",children:"Sem compromisso • Comece grátis • Cancele quando quiser"})]})}),c.jsx("footer",{className:"relative z-10 border-t border-border/50 backdrop-blur-sm mt-20",children:c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2025 Optify. Todos os direitos reservados."}),c.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[c.jsx("a",{href:"/termos",className:"hover:text-primary transition-colors",children:"Termos"}),c.jsx("a",{href:"/privacidade",className:"hover:text-primary transition-colors",children:"Privacidade"}),c.jsx("a",{href:"/suporte",className:"hover:text-primary transition-colors",children:"Suporte"})]})]})})})]})},Bt=P.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:_t("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Bt.displayName="Input";var E1e="Label",hY=P.forwardRef((t,e)=>c.jsx(Ht.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));hY.displayName=E1e;var fY=hY;const j1e=jx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),st=P.forwardRef(({className:t,...e},r)=>c.jsx(fY,{ref:r,className:_t(j1e(),t),...e}));st.displayName=fY.displayName;const P1e=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(""),[i,a]=P.useState(!1),s=Gi(),{signIn:o,user:l}=Hr();if(l)return s("/dashboard"),null;const u=async d=>{d.preventDefault(),a(!0);try{await o(t,r),We.success("Login realizado com sucesso!"),s("/dashboard")}catch{We.error("Erro ao fazer login. Tente novamente.")}finally{a(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Entre na sua conta e gerencie suas operações"}),c.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"Email"}),c.jsx(Bt,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:d=>e(d.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"password",className:"text-sm font-medium text-foreground",children:"Senha"}),c.jsx(Bt,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:d=>n(d.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsx(qe,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx(kp,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"})]}),c.jsxs("div",{className:"mt-6 text-center text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Não tem uma conta? "}),c.jsx("button",{onClick:()=>s("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Cadastre-se"})]}),c.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg text-xs text-muted-foreground",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Teste com:"}),c.jsx("p",{children:"Email: admin@optify.com"}),c.jsx("p",{children:"Senha: qualquer senha"})]})]})]})},T1e=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(""),[i,a]=P.useState(""),[s,o]=P.useState(!1),l=Gi(),{signUp:u,user:d}=Hr();if(d)return l("/dashboard"),null;const h=async p=>{if(p.preventDefault(),r!==i){We.error("As senhas não coincidem");return}o(!0);try{await u(t,r,""),We.success("Cadastro realizado com sucesso!"),l("/basic-info")}catch(f){const v=(f==null?void 0:f.code)||"";v==="auth/email-already-in-use"?(We.error("Este e-mail já está em uso. Faça login ou use outro e-mail."),setTimeout(()=>l("/login"),300)):v==="auth/invalid-email"?We.error("E-mail inválido. Verifique e tente novamente."):v==="auth/weak-password"?We.error("Senha fraca. Use pelo menos 6 caracteres."):We.error("Erro ao criar conta. Tente novamente.")}finally{o(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("button",{onClick:()=>l("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),c.jsx("button",{onClick:()=>l("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Crie sua conta e gerencie suas operações"}),c.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"Email"}),c.jsx(Bt,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:p=>e(p.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"password",className:"text-sm font-medium text-foreground",children:"Senha"}),c.jsx(Bt,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:p=>n(p.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,minLength:6})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"confirmPassword",className:"text-sm font-medium text-foreground",children:"Confirmar senha"}),c.jsx(Bt,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:i,onChange:p=>a(p.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,minLength:6})]}),c.jsx(qe,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(kp,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar conta"})]}),c.jsxs("div",{className:"mt-6 text-center text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Já tem uma conta? "}),c.jsx("button",{onClick:()=>l("/login"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Faça login"})]})]})]})};class kr{static async saveToUserSubcollection(e,r,n,i){try{const a=Pi(gr,this.usersCollection,e,r,n),s={...i,createdAt:Za(),updatedAt:Za()};await $v(a,s)}catch(a){throw console.error(`Erro ao salvar em ${r}:`,a),new Error(`Falha ao salvar dados em ${r}`)}}static async getFromUserSubcollection(e,r,n){var i,a;try{const s=Pi(gr,this.usersCollection,e,r,n),o=await wb(s);if(o.exists()){const l=o.data();return{...l,createdAt:((i=l.createdAt)==null?void 0:i.toDate())||new Date,updatedAt:((a=l.updatedAt)==null?void 0:a.toDate())||new Date}}return null}catch(s){throw console.error(`Erro ao buscar de ${r}:`,s),new Error(`Falha ao buscar dados de ${r}`)}}static async updateUserSubcollection(e,r,n,i){try{const a=Pi(gr,this.usersCollection,e,r,n),s=Object.fromEntries(Object.entries(i).filter(([l,u])=>u!==void 0));(await wb(a)).exists()?await BC(a,{...s,updatedAt:Za()}):await $v(a,{...s,createdAt:Za(),updatedAt:Za()})}catch(a){throw console.error(`Erro ao atualizar ${r}:`,a),new Error(`Falha ao atualizar dados de ${r}`)}}static async getAllFromUserSubcollection(e,r,n=[]){try{const i=ti(gr,this.usersCollection,e,r),a=bf(i,...n);return(await fa(a)).docs.map(o=>{var l,u;return{id:o.id,...o.data(),createdAt:((l=o.data().createdAt)==null?void 0:l.toDate())||new Date,updatedAt:((u=o.data().updatedAt)==null?void 0:u.toDate())||new Date}})}catch(i){throw console.error(`Erro ao buscar todos de ${r}:`,i),new Error(`Falha ao buscar dados de ${r}`)}}static async addToUserSubcollection(e,r,n){try{console.log(`UserSubcollectionsService.addToUserSubcollection - salvando em ${r}:`,{userId:e,data:n});const i=ti(gr,this.usersCollection,e,r),a={...n,createdAt:Za(),updatedAt:Za()};console.log("Dados com timestamps:",a);const s=await qx(i,a);return console.log(`Documento criado com ID: ${s.id}`),s.id}catch(i){throw console.error(`Erro ao adicionar em ${r}:`,i),new Error(`Falha ao adicionar dados em ${r}`)}}static async deleteFromUserSubcollection(e,r,n){try{const i=Pi(gr,this.usersCollection,e,r,n);await Jf(i)}catch(i){throw console.error(`Erro ao deletar de ${r}:`,i),new Error(`Falha ao deletar dados de ${r}`)}}}Rr(kr,"usersCollection","users");const Vr={PROFILE:"profile",CONFIG:"config",EMPLOYEES:"employees",PLATFORMS:"platforms",TRANSACTIONS:"transactions",DAILY_SUMMARIES:"dailySummaries",ACCOUNTS:"accounts",PAYMENTS:"payments",GOALS:"goals",REPORTS:"reports"};async function C1e(t){const e=Object.values(Vr);for(const r of e)try{r===Vr.PROFILE?await kr.deleteFromUserSubcollection(t,r,"basic"):r===Vr.CONFIG&&await kr.deleteFromUserSubcollection(t,r,"initial");const n=await kr.getAllFromUserSubcollection(t,r);await Promise.all(n.map(i=>i!=null&&i.id?kr.deleteFromUserSubcollection(t,r,i.id):Promise.resolve()))}catch(n){console.warn(`Falha parcial ao deletar subcoleção ${r} do usuário ${t}:`,n)}}class pY{static async saveBasicInfo(e,r){return kr.saveToUserSubcollection(e,Vr.PROFILE,this.docId,r)}static async getUserBasicInfo(e){return kr.getFromUserSubcollection(e,Vr.PROFILE,this.docId)}static async updateBasicInfo(e,r){return kr.updateUserSubcollection(e,Vr.PROFILE,this.docId,r)}}Rr(pY,"docId","basic");const k1e=()=>{const[t,e]=P.useState(""),[r,n]=P.useState(""),[i,a]=P.useState(!1),s=Gi(),{user:o}=Hr(),l=async u=>{if(u.preventDefault(),!t.trim()||!r.trim()){We.error("Por favor, preencha todos os campos");return}a(!0);try{if(!(o!=null&&o.uid)){We.error("Usuário não autenticado");return}await pY.saveBasicInfo(o.uid,{name:t,phone:r}),We.success("Informações básicas salvas!"),s("/initial-setup")}catch{We.error("Erro ao salvar informações. Tente novamente.")}finally{a(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute w-96 h-96 bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-float-slow"}),c.jsx("div",{className:"absolute w-96 h-96 bg-secondary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-float-reverse"}),c.jsx("div",{className:"absolute w-64 h-64 bg-primary/10 rounded-full blur-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-float-center"})]}),c.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),c.jsx("div",{className:"absolute top-40 right-32 w-1 h-1 bg-secondary rounded-full animate-bounce delay-700"}),c.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-1000"}),c.jsx("div",{className:"absolute bottom-20 right-20 w-2 h-2 bg-secondary rounded-full animate-bounce delay-500"}),c.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Complete suas informações básicas"}),c.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),c.jsxs("form",{onSubmit:l,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(st,{htmlFor:"name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[c.jsx(iW,{className:"w-4 h-4"}),"Nome completo"]}),c.jsx(Bt,{id:"name",type:"text",placeholder:"Digite seu nome completo",value:t,onChange:u=>e(u.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"phone",className:"text-sm font-medium text-foreground",children:"Telefone"}),c.jsx(Bt,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:r,onChange:u=>n(u.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsx(qe,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:i,children:i?"Salvando...":"Continuar"})]}),c.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:c.jsx("p",{children:"Passo 1 de 2 - Informações básicas"})})]})]})};class TS{static async saveInitialSetup(e,r){return kr.saveToUserSubcollection(e,Vr.CONFIG,this.docId,r)}static async getUserConfig(e){return kr.getFromUserSubcollection(e,Vr.CONFIG,this.docId)}static async updateUserPlan(e,r){return kr.updateUserSubcollection(e,Vr.CONFIG,this.docId,{currentPlan:r})}static async updateMonthlyGoal(e,r){return kr.updateUserSubcollection(e,Vr.CONFIG,this.docId,{monthlyGoal:r})}static async updateSelectedPlatforms(e,r){return kr.updateUserSubcollection(e,Vr.CONFIG,this.docId,{selectedPlatforms:r})}}Rr(TS,"docId","initial");class Sb{static async createEmployee(e,r){return console.log("UserEmployeeService.createEmployee - dados recebidos:",{userId:e,employeeData:r}),kr.addToUserSubcollection(e,Vr.EMPLOYEES,r)}static async getEmployees(e){console.log("UserEmployeeService.getEmployees - buscando funcionários para userId:",e);const r=await kr.getAllFromUserSubcollection(e,Vr.EMPLOYEES,[ef("createdAt","desc")]);return console.log("Funcionários encontrados:",r),r}static async getActiveEmployees(e){return kr.getAllFromUserSubcollection(e,Vr.EMPLOYEES,[jc("status","==","active"),ef("createdAt","desc")])}static async updateEmployee(e,r,n){return kr.updateUserSubcollection(e,Vr.EMPLOYEES,r,n)}static async deleteEmployee(e,r){return kr.deleteFromUserSubcollection(e,Vr.EMPLOYEES,r)}}class ku{static async createPlatform(e,r){return kr.addToUserSubcollection(e,Vr.PLATFORMS,r)}static async getPlatforms(e){return kr.getAllFromUserSubcollection(e,Vr.PLATFORMS,[ef("name","asc")])}static async getActivePlatforms(e){return kr.getAllFromUserSubcollection(e,Vr.PLATFORMS,[jc("isActive","==",!0),ef("name","asc")])}static async updatePlatform(e,r,n){return kr.updateUserSubcollection(e,Vr.PLATFORMS,r,n)}static async deletePlatform(e,r){return kr.deleteFromUserSubcollection(e,Vr.PLATFORMS,r)}}class Fv{static async createTransaction(e,r){return kr.addToUserSubcollection(e,Vr.TRANSACTIONS,r)}static async getTransactions(e,r=100){return kr.getAllFromUserSubcollection(e,Vr.TRANSACTIONS,[xb(r)])}static async getTransactionsByDateRange(e,r,n){console.log("UserTransactionService.getTransactionsByDateRange - userId:",e),console.log("UserTransactionService.getTransactionsByDateRange - startDate:",r),console.log("UserTransactionService.getTransactionsByDateRange - endDate:",n);const i=await kr.getAllFromUserSubcollection(e,Vr.TRANSACTIONS,[jc("date",">=",r),jc("date","<=",n)]);return console.log("UserTransactionService.getTransactionsByDateRange - transactions found:",i),i}static async getTransactionsByEmployee(e,r){return kr.getAllFromUserSubcollection(e,Vr.TRANSACTIONS,[jc("employeeId","==",r)])}static async updateTransaction(e,r,n){return kr.updateUserSubcollection(e,Vr.TRANSACTIONS,r,n)}static async deleteTransaction(e,r){return kr.deleteFromUserSubcollection(e,Vr.TRANSACTIONS,r)}}class Mo{static async createDailySummary(e,r){return kr.addToUserSubcollection(e,Vr.DAILY_SUMMARIES,r)}static async getAllDailySummaries(e){console.log("UserDailySummaryService.getAllDailySummaries - userId:",e);const r=await kr.getAllFromUserSubcollection(e,Vr.DAILY_SUMMARIES,[]);return console.log("UserDailySummaryService.getAllDailySummaries - summaries found:",r),r}static async updateDailySummary(e,r,n){return kr.updateUserSubcollection(e,Vr.DAILY_SUMMARIES,r,n)}static async deleteDailySummary(e,r){return kr.deleteFromUserSubcollection(e,Vr.DAILY_SUMMARIES,r)}static async getDailySummaries(e,r=30){return kr.getAllFromUserSubcollection(e,Vr.DAILY_SUMMARIES,[ef("date","desc"),xb(r)])}static async getDailySummaryByDate(e,r){const n=await kr.getAllFromUserSubcollection(e,Vr.DAILY_SUMMARIES,[jc("date","==",r),xb(1)]);return n.length>0?n[0]:null}}const I1e=()=>{const[t,e]=P.useState(""),[r,n]=P.useState([]),[i,a]=P.useState(!1),s=Gi(),{user:o}=Hr(),l=[{name:"Pixbet",color:"rgb(173, 216, 230)"},{name:"Betano",color:"rgb(255, 102, 0)"},{name:"Mcgames",color:"rgb(220, 20, 60)"},{name:"Kto",color:"rgb(200, 0, 0)"},{name:"Realsbet",color:"rgb(0, 255, 200)"},{name:"Vaidebet",color:"rgb(255, 215, 0)"},{name:"Sportingbet",color:"rgb(70, 130, 180)"},{name:"Superbet",color:"rgb(255, 51, 102)"},{name:"Betao",color:"rgb(255, 165, 80)"},{name:"Bet365",color:"rgb(0, 128, 64)"},{name:"Esportivabet",color:"rgb(255, 140, 0)"},{name:"Hiperbet",color:"rgb(220, 0, 0)"},{name:"Luvabet",color:"rgb(173, 255, 47)"},{name:"Cassinopix",color:"rgb(135, 206, 235)"},{name:"Multibet",color:"rgb(72, 61, 139)"}],u=h=>{n(p=>p.includes(h)?p.filter(f=>f!==h):[...p,h])},d=async h=>{if(h.preventDefault(),!t||r.length===0){We.error("Por favor, defina sua meta mensal e selecione pelo menos uma plataforma");return}a(!0);try{if(!(o!=null&&o.uid)){We.error("Usuário não autenticado");return}await TS.saveInitialSetup(o.uid,{monthlyGoal:Number(t),selectedPlatforms:r,setupCompleted:!0});const p=await ku.getPlatforms(o.uid),f={};(p||[]).forEach(m=>{f[(m.name||"").toLowerCase()]=m});const v=r.map(async m=>{const g=l.find(S=>S.name===m),y=(g==null?void 0:g.color)||"#FF5C00",x=m.toLowerCase(),_=f[x];return _!=null&&_.id?ku.updatePlatform(o.uid,_.id,{isActive:!0,color:y}):ku.createPlatform(o.uid,{name:m,color:y,isActive:!0})});await Promise.all(v),We.success("Configuração inicial concluída!"),s("/dashboard")}catch{We.error("Erro ao salvar configurações. Tente novamente.")}finally{a(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute w-96 h-96 bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-float-slow"}),c.jsx("div",{className:"absolute w-96 h-96 bg-secondary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-float-reverse"}),c.jsx("div",{className:"absolute w-64 h-64 bg-primary/10 rounded-full blur-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-float-center"})]}),c.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),c.jsx("div",{className:"absolute top-40 right-32 w-1 h-1 bg-secondary rounded-full animate-bounce delay-700"}),c.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-1000"}),c.jsx("div",{className:"absolute bottom-20 right-20 w-2 h-2 bg-secondary rounded-full animate-bounce delay-500"}),c.jsxs("div",{className:"w-full max-w-2xl p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Configure suas preferências"}),c.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-8",children:[c.jsxs(Ye,{className:"p-6 border border-primary/20 bg-card/80 backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(ZI,{className:"w-6 h-6 text-primary"}),c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Meta Mensal"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"monthlyGoal",className:"text-sm font-medium text-foreground",children:"Defina sua meta de lucro mensal (R$)"}),c.jsx(Bt,{id:"monthlyGoal",type:"number",placeholder:"Ex: 5000",value:t,onChange:h=>e(h.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,min:"1"})]})]}),c.jsxs(Ye,{className:"p-6 border border-primary/20 bg-card/80 backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-6 h-6 rounded bg-primary flex items-center justify-center",children:c.jsx(mr,{className:"w-4 h-4 text-primary-foreground"})}),c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Plataformas Principais"})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Selecione as plataformas que você mais utiliza. Elas aparecerão na aba Saldos."}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.map(h=>c.jsx("button",{type:"button",onClick:()=>u(h.name),className:`p-3 rounded-lg border-2 transition-all duration-200 text-sm font-medium ${r.includes(h.name)?"border-primary bg-primary/10 text-primary":"border-border/50 bg-background/50 text-foreground hover:border-primary/50"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color}}),h.name]})},h.name))}),c.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[r.length," plataforma(s) selecionada(s)"]})]}),c.jsx(qe,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:i,children:i?"Configurando...":"Finalizar Configuração"}),c.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:c.jsx("p",{children:"Passo 2 de 2 - Configurações avançadas"})})]})]})]})},O1e=(t=1024)=>{const[e,r]=P.useState(!1);return P.useEffect(()=>{const n=()=>{r(window.innerWidth<t)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t]),e};var bj="focusScope.autoFocusOnMount",xj="focusScope.autoFocusOnUnmount",F8={bubbles:!1,cancelable:!0},R1e="FocusScope",WA=P.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=P.useState(null),u=Xo(i),d=Xo(a),h=P.useRef(null),p=Mr(e,m=>l(m)),f=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(n){let m=function(_){if(f.paused||!o)return;const S=_.target;o.contains(S)?h.current=S:Ud(h.current,{select:!0})},g=function(_){if(f.paused||!o)return;const S=_.relatedTarget;S!==null&&(o.contains(S)||Ud(h.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&Ud(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),x.disconnect()}}},[n,o,f.paused]),P.useEffect(()=>{if(o){U8.add(f);const m=document.activeElement;if(!o.contains(m)){const y=new CustomEvent(bj,F8);o.addEventListener(bj,u),o.dispatchEvent(y),y.defaultPrevented||(D1e(B1e(mY(o)),{select:!0}),document.activeElement===m&&Ud(o))}return()=>{o.removeEventListener(bj,u),setTimeout(()=>{const y=new CustomEvent(xj,F8);o.addEventListener(xj,d),o.dispatchEvent(y),y.defaultPrevented||Ud(m??document.body,{select:!0}),o.removeEventListener(xj,d),U8.remove(f)},0)}}},[o,u,d,f]);const v=P.useCallback(m=>{if(!r&&!n||f.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const x=m.currentTarget,[_,S]=L1e(x);_&&S?!m.shiftKey&&y===S?(m.preventDefault(),r&&Ud(_,{select:!0})):m.shiftKey&&y===_&&(m.preventDefault(),r&&Ud(S,{select:!0})):y===x&&m.preventDefault()}},[r,n,f.paused]);return c.jsx(Ht.div,{tabIndex:-1,...s,ref:p,onKeyDown:v})});WA.displayName=R1e;function D1e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ud(n,{select:e}),document.activeElement!==r)return}function L1e(t){const e=mY(t),r=B8(e,t),n=B8(e.reverse(),t);return[r,n]}function mY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function B8(t,e){for(const r of t)if(!M1e(r,{upTo:e}))return r}function M1e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $1e(t){return t instanceof HTMLInputElement&&"select"in t}function Ud(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&$1e(t)&&e&&t.select()}}var U8=F1e();function F1e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=V8(t,e),t.unshift(e)},remove(e){var r;t=V8(t,e),(r=t[0])==null||r.resume()}}}function V8(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function B1e(t){return t.filter(e=>e.tagName!=="A")}var wj=0;function S3(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??z8()),document.body.insertAdjacentElement("beforeend",t[1]??z8()),wj++,()=>{wj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wj--}},[])}function z8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hc=function(){return hc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hc.apply(this,arguments)};function gY(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function U1e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var p_="right-scroll-bar-position",m_="width-before-scroll-bar",V1e="with-scroll-bars-hidden",z1e="--removed-body-scroll-bar-size";function _j(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function q1e(t,e){var r=P.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var W1e=typeof window<"u"?P.useLayoutEffect:P.useEffect,q8=new WeakMap;function H1e(t,e){var r=q1e(null,function(n){return t.forEach(function(i){return _j(i,n)})});return W1e(function(){var n=q8.get(r);if(n){var i=new Set(n),a=new Set(t),s=r.current;i.forEach(function(o){a.has(o)||_j(o,null)}),a.forEach(function(o){i.has(o)||_j(o,s)})}q8.set(r,t)},[t]),r}function G1e(t){return t}function K1e(t,e){e===void 0&&(e=G1e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var l=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return i}function Y1e(t){t===void 0&&(t={});var e=K1e(null);return e.options=hc({async:!0,ssr:!1},t),e}var vY=function(t){var e=t.sideCar,r=gY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return P.createElement(n,hc({},r))};vY.isSideCarExport=!0;function X1e(t,e){return t.useMedium(e),vY}var yY=Y1e(),Sj=function(){},HA=P.forwardRef(function(t,e){var r=P.useRef(null),n=P.useState({onScrollCapture:Sj,onWheelCapture:Sj,onTouchMoveCapture:Sj}),i=n[0],a=n[1],s=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,f=t.noRelative,v=t.noIsolation,m=t.inert,g=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,_=t.gapMode,S=gY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,C=H1e([r,e]),j=hc(hc({},S),i);return P.createElement(P.Fragment,null,d&&P.createElement(N,{sideCar:yY,removeScrollBar:u,shards:h,noRelative:f,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:_}),s?P.cloneElement(P.Children.only(o),hc(hc({},j),{ref:C})):P.createElement(x,hc({},j,{className:l,ref:C}),o))});HA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};HA.classNames={fullWidth:m_,zeroRight:p_};var Q1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J1e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Q1e();return e&&t.setAttribute("nonce",e),t}function Z1e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ebe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var tbe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=J1e())&&(Z1e(e,r),ebe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rbe=function(){var t=tbe();return function(e,r){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},bY=function(){var t=rbe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},nbe={left:0,top:0,right:0,gap:0},Aj=function(t){return parseInt(t||"",10)||0},ibe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Aj(r),Aj(n),Aj(i)]},abe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nbe;var e=ibe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},sbe=bY(),Kg="data-scroll-locked",obe=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(V1e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Kg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(p_,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(m_,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(p_," .").concat(p_,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(m_," .").concat(m_,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Kg,`] {
    `).concat(z1e,": ").concat(o,`px;
  }
`)},W8=function(){var t=parseInt(document.body.getAttribute(Kg)||"0",10);return isFinite(t)?t:0},lbe=function(){P.useEffect(function(){return document.body.setAttribute(Kg,(W8()+1).toString()),function(){var t=W8()-1;t<=0?document.body.removeAttribute(Kg):document.body.setAttribute(Kg,t.toString())}},[])},cbe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;lbe();var a=P.useMemo(function(){return abe(i)},[i]);return P.createElement(sbe,{styles:obe(a,!e,i,r?"":"!important")})},VC=!1;if(typeof window<"u")try{var l2=Object.defineProperty({},"passive",{get:function(){return VC=!0,!0}});window.addEventListener("test",l2,l2),window.removeEventListener("test",l2,l2)}catch{VC=!1}var Um=VC?{passive:!1}:!1,ube=function(t){return t.tagName==="TEXTAREA"},xY=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!ube(t)&&r[e]==="visible")},dbe=function(t){return xY(t,"overflowY")},hbe=function(t){return xY(t,"overflowX")},H8=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=wY(t,n);if(i){var a=_Y(t,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},fbe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},pbe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},wY=function(t,e){return t==="v"?dbe(e):hbe(e)},_Y=function(t,e){return t==="v"?fbe(e):pbe(e)},mbe=function(t,e){return t==="h"&&e==="rtl"?-1:1},gbe=function(t,e,r,n,i){var a=mbe(t,window.getComputedStyle(e).direction),s=a*n,o=r.target,l=e.contains(o),u=!1,d=s>0,h=0,p=0;do{if(!o)break;var f=_Y(t,o),v=f[0],m=f[1],g=f[2],y=m-g-a*v;(v||y)&&wY(t,o)&&(h+=y,p+=v);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(u=!0),u},c2=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},G8=function(t){return[t.deltaX,t.deltaY]},K8=function(t){return t&&"current"in t?t.current:t},vbe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ybe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},bbe=0,Vm=[];function xbe(t){var e=P.useRef([]),r=P.useRef([0,0]),n=P.useRef(),i=P.useState(bbe++)[0],a=P.useState(bY)[0],s=P.useRef(t);P.useEffect(function(){s.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=U1e([t.lockRef.current],(t.shards||[]).map(K8),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=P.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var y=c2(m),x=r.current,_="deltaX"in m?m.deltaX:x[0]-y[0],S="deltaY"in m?m.deltaY:x[1]-y[1],N,C=m.target,j=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in m&&j==="h"&&C.type==="range")return!1;var E=H8(j,C);if(!E)return!0;if(E?N=j:(N=j==="v"?"h":"v",E=H8(j,C)),!E)return!1;if(!n.current&&"changedTouches"in m&&(_||S)&&(n.current=N),!N)return!0;var I=n.current||N;return gbe(I,g,m,I==="h"?_:S,!0)},[]),l=P.useCallback(function(m){var g=m;if(!(!Vm.length||Vm[Vm.length-1]!==a)){var y="deltaY"in g?G8(g):c2(g),x=e.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&vbe(N.delta,y)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var _=(s.current.shards||[]).map(K8).filter(Boolean).filter(function(N){return N.contains(g.target)}),S=_.length>0?o(g,_[0]):!s.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),u=P.useCallback(function(m,g,y,x){var _={name:m,delta:g,target:y,should:x,shadowParent:wbe(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),d=P.useCallback(function(m){r.current=c2(m),n.current=void 0},[]),h=P.useCallback(function(m){u(m.type,G8(m),m.target,o(m,t.lockRef.current))},[]),p=P.useCallback(function(m){u(m.type,c2(m),m.target,o(m,t.lockRef.current))},[]);P.useEffect(function(){return Vm.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Um),document.addEventListener("touchmove",l,Um),document.addEventListener("touchstart",d,Um),function(){Vm=Vm.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,Um),document.removeEventListener("touchmove",l,Um),document.removeEventListener("touchstart",d,Um)}},[]);var f=t.removeScrollBar,v=t.inert;return P.createElement(P.Fragment,null,v?P.createElement(a,{styles:ybe(i)}):null,f?P.createElement(cbe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function wbe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const _be=X1e(yY,xbe);var GA=P.forwardRef(function(t,e){return P.createElement(HA,hc({},t,{ref:e,sideCar:_be}))});GA.classNames=HA.classNames;var Sbe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},zm=new WeakMap,u2=new WeakMap,d2={},Nj=0,SY=function(t){return t&&(t.host||SY(t.parentNode))},Abe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=SY(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Nbe=function(t,e,r,n){var i=Abe(e,Array.isArray(t)?t:[t]);d2[r]||(d2[r]=new WeakMap);var a=d2[r],s=[],o=new Set,l=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(o.has(p))d(p);else try{var f=p.getAttribute(n),v=f!==null&&f!=="false",m=(zm.get(p)||0)+1,g=(a.get(p)||0)+1;zm.set(p,m),a.set(p,g),s.push(p),m===1&&v&&u2.set(p,!0),g===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(e),o.clear(),Nj++,function(){s.forEach(function(h){var p=zm.get(h)-1,f=a.get(h)-1;zm.set(h,p),a.set(h,f),p||(u2.has(h)||h.removeAttribute(n),u2.delete(h)),f||h.removeAttribute(r)}),Nj--,Nj||(zm=new WeakMap,zm=new WeakMap,u2=new WeakMap,d2={})}},A3=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Sbe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Nbe(n,i,r,"aria-hidden")):function(){return null}},KA="Dialog",[AY,NY]=go(KA),[Ebe,Ml]=AY(KA),EY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=P.useRef(null),l=P.useRef(null),[u,d]=jl({prop:n,defaultProp:i??!1,onChange:a,caller:KA});return c.jsx(Ebe,{scope:e,triggerRef:o,contentRef:l,contentId:Al(),titleId:Al(),descriptionId:Al(),open:u,onOpenChange:d,onOpenToggle:P.useCallback(()=>d(h=>!h),[d]),modal:s,children:r})};EY.displayName=KA;var jY="DialogTrigger",PY=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(jY,r),a=Mr(e,i.triggerRef);return c.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":j3(i.open),...n,ref:a,onClick:It(t.onClick,i.onOpenToggle)})});PY.displayName=jY;var N3="DialogPortal",[jbe,TY]=AY(N3,{forceMount:void 0}),CY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Ml(N3,e);return c.jsx(jbe,{scope:e,forceMount:r,children:P.Children.map(n,s=>c.jsx(Lc,{present:r||a.open,children:c.jsx(Nx,{asChild:!0,container:i,children:s})}))})};CY.displayName=N3;var CS="DialogOverlay",kY=P.forwardRef((t,e)=>{const r=TY(CS,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Ml(CS,t.__scopeDialog);return a.modal?c.jsx(Lc,{present:n||a.open,children:c.jsx(Tbe,{...i,ref:e})}):null});kY.displayName=CS;var Pbe=zp("DialogOverlay.RemoveScroll"),Tbe=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(CS,r);return c.jsx(GA,{as:Pbe,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Ht.div,{"data-state":j3(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),em="DialogContent",IY=P.forwardRef((t,e)=>{const r=TY(em,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Ml(em,t.__scopeDialog);return c.jsx(Lc,{present:n||a.open,children:a.modal?c.jsx(Cbe,{...i,ref:e}):c.jsx(kbe,{...i,ref:e})})});IY.displayName=em;var Cbe=P.forwardRef((t,e)=>{const r=Ml(em,t.__scopeDialog),n=P.useRef(null),i=Mr(e,r.contentRef,n);return P.useEffect(()=>{const a=n.current;if(a)return A3(a)},[]),c.jsx(OY,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:It(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:It(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:It(t.onFocusOutside,a=>a.preventDefault())})}),kbe=P.forwardRef((t,e)=>{const r=Ml(em,t.__scopeDialog),n=P.useRef(!1),i=P.useRef(!1);return c.jsx(OY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),OY=P.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Ml(em,r),l=P.useRef(null),u=Mr(e,l);return S3(),c.jsxs(c.Fragment,{children:[c.jsx(WA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(by,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":j3(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Obe,{titleId:o.titleId}),c.jsx(Dbe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),E3="DialogTitle",RY=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(E3,r);return c.jsx(Ht.h2,{id:i.titleId,...n,ref:e})});RY.displayName=E3;var DY="DialogDescription",LY=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(DY,r);return c.jsx(Ht.p,{id:i.descriptionId,...n,ref:e})});LY.displayName=DY;var MY="DialogClose",$Y=P.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(MY,r);return c.jsx(Ht.button,{type:"button",...n,ref:e,onClick:It(t.onClick,()=>i.onOpenChange(!1))})});$Y.displayName=MY;function j3(t){return t?"open":"closed"}var FY="DialogTitleWarning",[Ibe,BY]=Use(FY,{contentName:em,titleName:E3,docsSlug:"dialog"}),Obe=({titleId:t})=>{const e=BY(FY),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Rbe="DialogDescriptionWarning",Dbe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BY(Rbe).contentName}}.`;return P.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},UY=EY,VY=PY,zY=CY,P3=kY,T3=IY,C3=RY,k3=LY,I3=$Y,qY="AlertDialog",[Lbe,iZe]=go(qY,[NY]),rd=NY(),WY=t=>{const{__scopeAlertDialog:e,...r}=t,n=rd(e);return c.jsx(UY,{...n,...r,modal:!0})};WY.displayName=qY;var Mbe="AlertDialogTrigger",HY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rd(r);return c.jsx(VY,{...i,...n,ref:e})});HY.displayName=Mbe;var $be="AlertDialogPortal",GY=t=>{const{__scopeAlertDialog:e,...r}=t,n=rd(e);return c.jsx(zY,{...n,...r})};GY.displayName=$be;var Fbe="AlertDialogOverlay",KY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rd(r);return c.jsx(P3,{...i,...n,ref:e})});KY.displayName=Fbe;var Yg="AlertDialogContent",[Bbe,Ube]=Lbe(Yg),Vbe=Aq("AlertDialogContent"),YY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=rd(r),s=P.useRef(null),o=Mr(e,s),l=P.useRef(null);return c.jsx(Ibe,{contentName:Yg,titleName:XY,docsSlug:"alert-dialog",children:c.jsx(Bbe,{scope:r,cancelRef:l,children:c.jsxs(T3,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:It(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(Vbe,{children:n}),c.jsx(qbe,{contentRef:s})]})})})});YY.displayName=Yg;var XY="AlertDialogTitle",QY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rd(r);return c.jsx(C3,{...i,...n,ref:e})});QY.displayName=XY;var JY="AlertDialogDescription",ZY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rd(r);return c.jsx(k3,{...i,...n,ref:e})});ZY.displayName=JY;var zbe="AlertDialogAction",eX=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rd(r);return c.jsx(I3,{...i,...n,ref:e})});eX.displayName=zbe;var tX="AlertDialogCancel",rX=P.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Ube(tX,r),a=rd(r),s=Mr(e,i);return c.jsx(I3,{...a,...n,ref:s})});rX.displayName=tX;var qbe=({contentRef:t})=>{const e=`\`${Yg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yg}\` by passing a \`${JY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return P.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Wbe=WY,Hbe=HY,Gbe=GY,nX=KY,iX=YY,aX=eX,sX=rX,oX=QY,lX=ZY;const tm=Wbe,Dy=Hbe,Kbe=Gbe,cX=P.forwardRef(({className:t,...e},r)=>c.jsx(nX,{className:_t("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));cX.displayName=nX.displayName;const tf=P.forwardRef(({className:t,...e},r)=>c.jsxs(Kbe,{children:[c.jsx(cX,{}),c.jsx(iX,{ref:r,className:_t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));tf.displayName=iX.displayName;const rf=({className:t,...e})=>c.jsx("div",{className:_t("flex flex-col space-y-2 text-center sm:text-left",t),...e});rf.displayName="AlertDialogHeader";const nf=({className:t,...e})=>c.jsx("div",{className:_t("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});nf.displayName="AlertDialogFooter";const af=P.forwardRef(({className:t,...e},r)=>c.jsx(oX,{ref:r,className:_t("text-lg font-semibold",t),...e}));af.displayName=oX.displayName;const sf=P.forwardRef(({className:t,...e},r)=>c.jsx(lX,{ref:r,className:_t("text-sm text-muted-foreground",t),...e}));sf.displayName=lX.displayName;const of=P.forwardRef(({className:t,...e},r)=>c.jsx(aX,{ref:r,className:_t(_b(),t),...e}));of.displayName=aX.displayName;const lf=P.forwardRef(({className:t,...e},r)=>c.jsx(sX,{ref:r,className:_t(_b({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));lf.displayName=sX.displayName;const Ba=({children:t})=>{const e=Gi(),r=pf(),{user:n,isAdmin:i,logout:a}=Hr(),{canAccess:s,currentPlan:o}=xf(),[l,u]=P.useState(!1),d=O1e();P.useEffect(()=>{d||u(!1)},[d]),P.useEffect(()=>(d&&l?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[d,l]);const h=y=>{e(y),d&&u(!1)},p=()=>{u(!1)},f=[{icon:Voe,label:"Dashboard",path:"/dashboard",requiredFeature:"dashboard"},{icon:rs,label:"Funcionários",path:"/gestao-funcionarios",requiredFeature:"dashboard"},{icon:Ph,label:"Pagamentos",path:"/pagamentos",requiredFeature:"payments"},{icon:oA,label:"Resumo do Dia",path:"/resumo-dia",requiredFeature:"dailySummary"},{icon:Loe,label:"Saldos",path:"/saldos",requiredFeature:"balances"},{icon:ri,label:"Relatórios",path:"/relatorios",requiredFeature:"reports"},{icon:Nv,label:"Histórico",path:"/historico",requiredFeature:"history"},{icon:Ev,label:"Planos",path:"/planos",requiredFeature:"dashboard"},...i||(n==null?void 0:n.email)==="diegkamor@gmail.com"?[{icon:Boe,label:"Afiliados",path:"/afiliados",requiredFeature:"dashboard"}]:[]].filter(y=>s(y.requiredFeature)),v=[{icon:eW,label:"Perfil",path:"/perfil"},{icon:rW,label:"Configurações",path:"/settings"},...i||(n==null?void 0:n.email)==="diegkamor@gmail.com"?[{icon:qp,label:"Admin",path:"/admin",requiredFeature:"advancedPanel"}]:[]],m=y=>r.pathname===y,g=()=>{a(),e("/"),We.success("Logout realizado com sucesso!")};return c.jsxs("div",{className:"min-h-screen flex w-full bg-background overflow-hidden",children:[d&&c.jsx("div",{className:"fixed top-0 left-0 right-0 bg-sidebar border-b border-sidebar-border/50 z-50 lg:hidden shadow-lg",children:c.jsxs("div",{className:"flex items-center justify-between p-4",children:[c.jsx("button",{onClick:()=>u(!0),className:"p-2 rounded-lg hover:bg-sidebar-accent transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Abrir menu",children:c.jsx(Woe,{className:"h-6 w-6 text-foreground"})}),c.jsxs("button",{onClick:()=>h("/dashboard"),className:"flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary/50 rounded-lg p-1","aria-label":"Ir para Dashboard",children:[c.jsxs("svg",{className:"w-8 h-8 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]}),c.jsx("h1",{className:"text-xl font-black text-foreground",children:"Optify"})]}),c.jsx("div",{className:"w-10"})," "]})}),d&&l&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity duration-300",onClick:p,"aria-hidden":"true"}),c.jsxs("aside",{className:`
        w-64 sm:w-72 lg:w-80 bg-sidebar border-r border-sidebar-border flex flex-col shadow-xl 
        fixed left-0 top-0 h-screen z-50 overflow-y-auto
        transition-transform duration-300 ease-in-out
        ${d?l?"translate-x-0":"-translate-x-full":"translate-x-0"}
      `,children:[c.jsxs("div",{className:"p-8 border-b border-sidebar-border/50",children:[d&&c.jsx("div",{className:"flex justify-end mb-4",children:c.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-lg hover:bg-sidebar-accent transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Fechar menu",children:c.jsx($g,{className:"h-5 w-5 text-foreground"})})}),c.jsxs("button",{onClick:()=>h("/dashboard"),className:"flex items-center gap-3 mb-4",children:[c.jsxs("svg",{className:"w-10 h-10 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]}),c.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Optify"})]}),c.jsxs("div",{className:"px-4 py-2 rounded-xl bg-primary/10 border border-primary/20",children:[c.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Plano Atual"}),c.jsx("p",{className:"text-sm font-bold text-primary capitalize",children:o})]})]}),c.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:f.map(y=>c.jsxs("button",{onClick:()=>h(y.path),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all group ${m(y.path)?"bg-gradient-primary text-primary-foreground shadow-glow scale-105":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground hover:scale-105"}`,children:[c.jsx(y.icon,{className:`h-5 w-5 ${m(y.path)?"":"group-hover:scale-110 transition-transform"}`}),c.jsx("span",{className:"text-sm font-semibold",children:y.label})]},y.path))}),c.jsxs("div",{className:"p-3 border-t border-sidebar-border/50 space-y-1",children:[v.map(y=>c.jsxs("button",{onClick:()=>h(y.path),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-xl transition-all ${m(y.path)?"bg-gradient-primary text-primary-foreground shadow-glow":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground"}`,children:[c.jsx(y.icon,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-semibold",children:y.label})]},y.path)),c.jsxs(tm,{children:[c.jsx(Dy,{asChild:!0,children:c.jsxs(qe,{variant:"ghost",className:"w-full justify-start gap-3 px-4 py-2.5 text-destructive hover:text-destructive hover:bg-destructive/10 rounded-xl",children:[c.jsx(zoe,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-semibold",children:"Sair"})]})}),c.jsxs(tf,{className:"bg-card border-border",children:[c.jsxs(rf,{children:[c.jsx(af,{className:"text-foreground",children:"Confirmar Logout"}),c.jsx(sf,{className:"text-muted-foreground",children:"Tem certeza que deseja sair da sua conta? Você precisará fazer login novamente para acessar o sistema."})]}),c.jsxs(nf,{children:[c.jsx(lf,{className:"bg-muted hover:bg-muted/80 text-foreground border-border",children:"Cancelar"}),c.jsx(of,{onClick:g,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Sair da Conta"})]})]})]})]})]}),c.jsx("main",{className:`
        flex-1 overflow-y-auto bg-gradient-to-br from-background to-background/95 
        ${d?"ml-0 pt-16":"ml-64 sm:ml-72 lg:ml-80"}
      `,children:c.jsx("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:t})})]})},n1=({title:t,value:e,icon:r,trend:n,className:i,valueColor:a="default",onClick:s,clickable:o=!1})=>c.jsxs(Ye,{className:_t("stat-card p-4 lg:p-6 card-hover relative overflow-hidden group hover:shadow-glow transition-all duration-300",o&&"cursor-pointer hover:scale-105 transition-transform",i),onClick:s,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-primary opacity-0 group-hover:opacity-5 transition-opacity"}),c.jsxs("div",{className:"stat-card-content relative z-10",children:[c.jsxs("div",{className:"stat-card-text",children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:t}),c.jsx("p",{className:_t("text-3xl lg:text-4xl font-bold leading-tight",a==="positive"&&"text-success",a==="negative"&&"text-destructive",a==="default"&&"text-foreground"),children:e}),n&&c.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-semibold px-3 py-1 rounded-full ${n.isPositive?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[n.isPositive?"+":"",n.value,"% vs. anterior"]})]}),c.jsx("div",{className:"stat-card-icon p-3 lg:p-4 bg-gradient-primary rounded-2xl shadow-glow",children:c.jsx(r,{className:"h-6 w-6 lg:h-7 lg:w-7 text-primary-foreground"})})]})]}),Rs=UY,Xg=VY,Ybe=zY,uX=P.forwardRef(({className:t,...e},r)=>c.jsx(P3,{ref:r,className:_t("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));uX.displayName=P3.displayName;const ls=P.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(Ybe,{children:[c.jsx(uX,{}),c.jsxs(T3,{ref:n,className:_t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(I3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx($g,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ls.displayName=T3.displayName;const cs=({className:t,...e})=>c.jsx("div",{className:_t("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cs.displayName="DialogHeader";const us=P.forwardRef(({className:t,...e},r)=>c.jsx(C3,{ref:r,className:_t("text-lg font-semibold leading-none tracking-tight",t),...e}));us.displayName=C3.displayName;const Xbe=P.forwardRef(({className:t,...e},r)=>c.jsx(k3,{ref:r,className:_t("text-sm text-muted-foreground",t),...e}));Xbe.displayName=k3.displayName;const nd=t=>Ny({queryKey:["firebase-employees",t],queryFn:()=>Sb.getEmployees(t),enabled:!!t}),dX=()=>{const t=Hi();return vo({mutationFn:e=>{if(console.log("useCreateEmployee - dados recebidos:",e),e.userId){const{userId:r,...n}=e;return Sb.createEmployee(r,n)}return Sb.createEmployee(e.userId,e.data)},onSuccess:()=>{console.log("useCreateEmployee - funcionário criado com sucesso, invalidando queries"),t.invalidateQueries({queryKey:["firebase-employees"]})},onError:e=>{console.error("useCreateEmployee - erro ao criar funcionário:",e)}})},hX=()=>{const t=Hi();return vo({mutationFn:({userId:e,id:r,data:n})=>Sb.updateEmployee(e,r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-employees"]})}})},Qbe=()=>{const t=Hi();return vo({mutationFn:({userId:e,id:r})=>Sb.deleteEmployee(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-employees"]})}})},Ly=t=>Ny({queryKey:["firebase-platforms",t],queryFn:()=>ku.getPlatforms(t),enabled:!!t}),Jbe=()=>{const t=Hi();return vo({mutationFn:({userId:e,name:r,color:n})=>ku.createPlatform(e,{name:r,color:n,isActive:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},Zbe=()=>{const t=Hi();return vo({mutationFn:({userId:e,id:r,data:n})=>ku.updatePlatform(e,r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},exe=()=>{const t=Hi();return vo({mutationFn:({userId:e,id:r})=>ku.deletePlatform(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},co=(t,e,r)=>Ny({queryKey:["firebase-transactions",t,e,r],queryFn:()=>(console.log("useTransactions - userId:",t),console.log("useTransactions - startDate:",e),console.log("useTransactions - endDate:",r),e&&r?(console.log("useTransactions - Calling getTransactionsByDateRange"),Fv.getTransactionsByDateRange(t,e,r)):(console.log("useTransactions - Calling getTransactions"),Fv.getTransactions(t))),enabled:!!t}),O3=()=>{const t=Hi();return vo({mutationFn:e=>{const{userId:r,...n}=e||{};return Fv.createTransaction(r,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-transactions"]})}})},R3=()=>{const t=Hi(),{user:e}=Hr();return vo({mutationFn:r=>Fv.deleteTransaction((e==null?void 0:e.uid)||"",r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-transactions"]}),t.invalidateQueries({queryKey:["firebase-employees"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-platforms"]}),t.refetchQueries()}})},txe=()=>{const t=Hi(),{user:e}=Hr();return vo({mutationFn:({id:r,data:n})=>Fv.updateTransaction((e==null?void 0:e.uid)||"",r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-transactions"]}),t.invalidateQueries({queryKey:["firebase-employees"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-platforms"]}),t.refetchQueries()}})},rxe=()=>{const t=Hi();return vo({mutationFn:async e=>{if((await ku.getPlatforms(e)).length>0)return;const i=[{name:"Pixbet",color:"#ADD8E6"},{name:"Betano",color:"#FF6600"},{name:"Mcgames",color:"#DC143C"},{name:"Kto",color:"#C80000"},{name:"Realsbet",color:"#00FFC8"},{name:"Vaidebet",color:"#FFD700"},{name:"Sportingbet",color:"#4682B4"},{name:"Superbet",color:"#FF3366"},{name:"Betao",color:"#FFA550"},{name:"Bet365",color:"#008040"},{name:"Esportivabet",color:"#FF8C00"},{name:"Hiperbet",color:"#DC0000"},{name:"Luvabet",color:"#ADFF2F"},{name:"Cassinopix",color:"#87CEEB"},{name:"Multibet",color:"#483D8B"}].map(a=>ku.createPlatform(e,{name:a.name,color:a.color,isActive:!0}));await Promise.all(i)},onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},Wx=t=>Ny({queryKey:["firebase-all-daily-summaries",t],queryFn:async()=>{console.log("useAllDailySummaries - userId:",t);const e=await Mo.getAllDailySummaries(t);return console.log("useAllDailySummaries - summaries found:",e),e},enabled:!!t}),nxe=()=>{const t=Hi(),{user:e}=Hr();return vo({mutationFn:({summaryId:r,summaryData:n})=>Mo.updateDailySummary((e==null?void 0:e.uid)||"",r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]})}})},ixe=()=>{const t=Hi(),{user:e}=Hr();return vo({mutationFn:r=>Mo.deleteDailySummary((e==null?void 0:e.uid)||"",r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]})}})},axe=()=>{const t=Hi(),{user:e}=Hr(),[r,n]=P.useState(""),[i,a]=P.useState(!1),{data:s}=Ny({queryKey:["user-config",e==null?void 0:e.uid],queryFn:async()=>e!=null&&e.uid?TS.getUserConfig(e.uid):null,enabled:!!(e!=null&&e.uid)}),[o,l]=P.useState((s==null?void 0:s.monthlyGoal)||1e4);ue.useEffect(()=>{s!=null&&s.monthlyGoal&&l(s.monthlyGoal)},[s]);const u=new Date,d=new Date(u.getFullYear(),u.getMonth(),1),h=new Date(u.getFullYear(),u.getMonth()+1,0),p=d.toISOString().split("T")[0],f=h.toISOString().split("T")[0],{data:v=[]}=co((e==null?void 0:e.uid)||"",p,f),{data:m=[]}=Wx((e==null?void 0:e.uid)||""),g=u.getFullYear(),y=u.getMonth(),x=m.filter(D=>{const k=new Date(D.date);return k.getFullYear()===g&&k.getMonth()===y}),_=x.reduce((D,k)=>D+(k.profit||k.margin||0),0),S=new Set(x.map(D=>D.date)),N=v.filter(D=>!S.has(D.date)),C=N.reduce((D,k)=>{const O=k.type==="withdraw"?k.amount:-k.amount;return D+O},0),j=_+C,E=async()=>{const D=Number(r);if(D<=0){We.error("A meta deve ser maior que zero");return}try{e!=null&&e.uid&&await TS.updateMonthlyGoal(e.uid,D),l(D),We.success("Meta atualizada!"),a(!1),n(""),t.invalidateQueries({queryKey:["user-config",e==null?void 0:e.uid]})}catch(k){console.error("Erro ao atualizar meta:",k),We.error("Erro ao atualizar meta. Tente novamente.")}},I=o>0?Math.min(j/o*100,100):0;return console.log("MonthlyGoalCard Debug:",{monthlyProfit:j,monthlyGoal:o,progress:I,monthlyTransactions:v.length,monthlySummaries:x.length,monthlyRevenueFromSummaries:_,openTransactions:N.length,monthlyRevenueFromTransactions:C,startDate:p,endDate:f}),console.log("MonthlyGoalCard - Fechamentos Diários:"),x.forEach((D,k)=>{console.log(`  ${k+1}. Data: ${D.date}, Profit: ${D.profit||D.margin||0}`)}),console.log("MonthlyGoalCard - Transações Abertas:"),N.forEach((D,k)=>{const O=D.type==="withdraw"?D.amount:-D.amount;console.log(`  ${k+1}. Data: ${D.date}, Tipo: ${D.type}, Valor: ${D.amount}, Profit: ${O}`)}),c.jsxs(Ye,{className:"p-4 lg:p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Meta Mensal"}),c.jsxs("p",{className:"text-2xl lg:text-3xl font-bold leading-tight",children:["R$ ",o.toLocaleString("pt-BR")]})]}),c.jsxs(Rs,{open:i,onOpenChange:a,children:[c.jsx(Xg,{asChild:!0,children:c.jsx("button",{className:"p-3 lg:p-4 bg-gradient-primary rounded-xl shadow-glow hover:shadow-glow-lg transition-all duration-300 cursor-pointer flex-shrink-0 ml-4",children:c.jsx(ZI,{className:"h-5 w-5 lg:h-6 lg:w-6 text-primary-foreground"})})}),c.jsxs(ls,{children:[c.jsx(cs,{children:c.jsx(us,{children:"Alterar Meta Mensal"})}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nova Meta (R$)"}),c.jsx(Bt,{type:"number",step:"0.01",placeholder:"0,00",value:r,onChange:D=>n(D.target.value)})]}),c.jsx(qe,{className:"w-full",onClick:E,children:"Salvar Meta"})]})]})]})]}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),c.jsxs("span",{className:"font-semibold text-primary",children:[I.toFixed(1),"%"]})]}),c.jsxs("div",{className:"relative w-full h-4 bg-muted rounded-full overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 h-full gradient-primary transition-all duration-1000 ease-out rounded-full",style:{width:`${Math.min(I,100)}%`,minWidth:I>0?"2px":"0px"}}),I>100&&c.jsx("div",{className:"absolute top-0 left-0 h-full gradient-success transition-all duration-1000 ease-out rounded-full w-full"})]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",j.toLocaleString("pt-BR")," de R$ ",o.toLocaleString("pt-BR")]})]})]})},D3="America/Sao_Paulo",sxe=()=>{if(typeof Intl<"u"&&Intl.DateTimeFormat){const t=Intl.DateTimeFormat;Intl.DateTimeFormat=function(e,r){return t(e,{...r,timeZone:(r==null?void 0:r.timeZone)||D3})}}},oc=()=>{const t=new Date;return new Date(t.toLocaleString("en-US",{timeZone:D3}))},L3=()=>{const t=new Date,e=new Date(t.toLocaleString("en-US",{timeZone:D3})),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${i}`};function Y8(t,[e,r]){return Math.min(r,Math.max(e,t))}function fX(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var oxe=[" ","Enter","ArrowUp","ArrowDown"],lxe=[" ","Enter"],rm="Select",[YA,XA,cxe]=nA(rm),[My,aZe]=go(rm,[cxe,Sy]),QA=Sy(),[uxe,wf]=My(rm),[dxe,hxe]=My(rm),pX=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:v}=t,m=QA(e),[g,y]=P.useState(null),[x,_]=P.useState(null),[S,N]=P.useState(!1),C=VA(u),[j,E]=jl({prop:n,defaultProp:i??!1,onChange:a,caller:rm}),[I,D]=jl({prop:s,defaultProp:o,onChange:l,caller:rm}),k=P.useRef(null),O=g?v||!!g.closest("form"):!0,[L,z]=P.useState(new Set),re=Array.from(L).map(Y=>Y.props.value).join(";");return c.jsx(MW,{...m,children:c.jsxs(uxe,{required:f,scope:e,trigger:g,onTriggerChange:y,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:Al(),value:I,onValueChange:D,open:j,onOpenChange:E,dir:C,triggerPointerDownPosRef:k,disabled:p,children:[c.jsx(YA.Provider,{scope:e,children:c.jsx(dxe,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback(Y=>{z(K=>new Set(K).add(Y))},[]),onNativeOptionRemove:P.useCallback(Y=>{z(K=>{const q=new Set(K);return q.delete(Y),q})},[]),children:r})}),O?c.jsxs($X,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:Y=>D(Y.target.value),disabled:p,form:v,children:[I===void 0?c.jsx("option",{value:""}):null,Array.from(L)]},re):null]})})};pX.displayName=rm;var mX="SelectTrigger",gX=P.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=QA(r),s=wf(mX,r),o=s.disabled||n,l=Mr(e,s.onTriggerChange),u=XA(r),d=P.useRef("touch"),[h,p,f]=BX(m=>{const g=u().filter(_=>!_.disabled),y=g.find(_=>_.value===s.value),x=UX(g,m,y);x!==void 0&&s.onValueChange(x.value)}),v=m=>{o||(s.onOpenChange(!0),f()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return c.jsx(fA,{asChild:!0,...a,children:c.jsx(Ht.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":FX(s.value)?"":void 0,...i,ref:l,onClick:It(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:It(i.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:It(i.onKeyDown,m=>{const g=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&oxe.includes(m.key)&&(v(),m.preventDefault())})})})});gX.displayName=mX;var vX="SelectValue",yX=P.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=t,l=wf(vX,r),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,h=Mr(e,l.onValueNodeChange);return na(()=>{u(d)},[u,d]),c.jsx(Ht.span,{...o,ref:h,style:{pointerEvents:"none"},children:FX(l.value)?c.jsx(c.Fragment,{children:s}):a})});yX.displayName=vX;var fxe="SelectIcon",bX=P.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return c.jsx(Ht.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});bX.displayName=fxe;var pxe="SelectPortal",xX=t=>c.jsx(Nx,{asChild:!0,...t});xX.displayName=pxe;var nm="SelectContent",wX=P.forwardRef((t,e)=>{const r=wf(nm,t.__scopeSelect),[n,i]=P.useState();if(na(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?gm.createPortal(c.jsx(_X,{scope:t.__scopeSelect,children:c.jsx(YA.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),a):null}return c.jsx(SX,{...t,ref:e})});wX.displayName=nm;var ul=10,[_X,_f]=My(nm),mxe="SelectContentImpl",gxe=zp("SelectContent.RemoveScroll"),SX=P.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:g,...y}=t,x=wf(nm,r),[_,S]=P.useState(null),[N,C]=P.useState(null),j=Mr(e,ie=>S(ie)),[E,I]=P.useState(null),[D,k]=P.useState(null),O=XA(r),[L,z]=P.useState(!1),re=P.useRef(!1);P.useEffect(()=>{if(_)return A3(_)},[_]),S3();const Y=P.useCallback(ie=>{const[be,...he]=O().map(ne=>ne.ref.current),[T]=he.slice(-1),X=document.activeElement;for(const ne of ie)if(ne===X||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===be&&N&&(N.scrollTop=0),ne===T&&N&&(N.scrollTop=N.scrollHeight),ne==null||ne.focus(),document.activeElement!==X))return},[O,N]),K=P.useCallback(()=>Y([E,_]),[Y,E,_]);P.useEffect(()=>{L&&K()},[L,K]);const{onOpenChange:q,triggerPointerDownPosRef:Z}=x;P.useEffect(()=>{if(_){let ie={x:0,y:0};const be=T=>{var X,ne;ie={x:Math.abs(Math.round(T.pageX)-(((X=Z.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(T.pageY)-(((ne=Z.current)==null?void 0:ne.y)??0))}},he=T=>{ie.x<=10&&ie.y<=10?T.preventDefault():_.contains(T.target)||q(!1),document.removeEventListener("pointermove",be),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",he,{capture:!0})}}},[_,q,Z]),P.useEffect(()=>{const ie=()=>q(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[q]);const[ve,ce]=BX(ie=>{const be=O().filter(X=>!X.disabled),he=be.find(X=>X.ref.current===document.activeElement),T=UX(be,ie,he);T&&setTimeout(()=>T.ref.current.focus())}),F=P.useCallback((ie,be,he)=>{const T=!re.current&&!he;(x.value!==void 0&&x.value===be||T)&&(I(ie),T&&(re.current=!0))},[x.value]),V=P.useCallback(()=>_==null?void 0:_.focus(),[_]),G=P.useCallback((ie,be,he)=>{const T=!re.current&&!he;(x.value!==void 0&&x.value===be||T)&&k(ie)},[x.value]),oe=n==="popper"?zC:AX,J=oe===zC?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return c.jsx(_X,{scope:r,content:_,viewport:N,onViewportChange:C,itemRefCallback:F,selectedItem:E,onItemLeave:V,itemTextRefCallback:G,focusSelectedItem:K,selectedItemText:D,position:n,isPositioned:L,searchRef:ve,children:c.jsx(GA,{as:gxe,allowPinchZoom:!0,children:c.jsx(WA,{asChild:!0,trapped:x.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:It(i,ie=>{var be;(be=x.trigger)==null||be.focus({preventScroll:!0}),ie.preventDefault()}),children:c.jsx(by,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:c.jsx(oe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ie=>ie.preventDefault(),...y,...J,onPlaced:()=>z(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:It(y.onKeyDown,ie=>{const be=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!be&&ie.key.length===1&&ce(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let T=O().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const X=ie.target,ne=T.indexOf(X);T=T.slice(ne+1)}setTimeout(()=>Y(T)),ie.preventDefault()}})})})})})})});SX.displayName=mxe;var vxe="SelectItemAlignedPosition",AX=P.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=wf(nm,r),s=_f(nm,r),[o,l]=P.useState(null),[u,d]=P.useState(null),h=Mr(e,j=>d(j)),p=XA(r),f=P.useRef(!1),v=P.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=s,_=P.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&m&&g&&y){const j=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(a.dir!=="rtl"){const X=D.left-E.left,ne=I.left-X,de=j.left-ne,ge=j.width+de,ee=Math.max(ge,E.width),Ne=window.innerWidth-ul,De=Y8(ne,[ul,Math.max(ul,Ne-ee)]);o.style.minWidth=ge+"px",o.style.left=De+"px"}else{const X=E.right-D.right,ne=window.innerWidth-I.right-X,de=window.innerWidth-j.right-ne,ge=j.width+de,ee=Math.max(ge,E.width),Ne=window.innerWidth-ul,De=Y8(ne,[ul,Math.max(ul,Ne-ee)]);o.style.minWidth=ge+"px",o.style.right=De+"px"}const k=p(),O=window.innerHeight-ul*2,L=m.scrollHeight,z=window.getComputedStyle(u),re=parseInt(z.borderTopWidth,10),Y=parseInt(z.paddingTop,10),K=parseInt(z.borderBottomWidth,10),q=parseInt(z.paddingBottom,10),Z=re+Y+L+q+K,ve=Math.min(g.offsetHeight*5,Z),ce=window.getComputedStyle(m),F=parseInt(ce.paddingTop,10),V=parseInt(ce.paddingBottom,10),G=j.top+j.height/2-ul,oe=O-G,J=g.offsetHeight/2,ie=g.offsetTop+J,be=re+Y+ie,he=Z-be;if(be<=G){const X=k.length>0&&g===k[k.length-1].ref.current;o.style.bottom="0px";const ne=u.clientHeight-m.offsetTop-m.offsetHeight,de=Math.max(oe,J+(X?V:0)+ne+K),ge=be+de;o.style.height=ge+"px"}else{const X=k.length>0&&g===k[0].ref.current;o.style.top="0px";const de=Math.max(G,re+m.offsetTop+(X?F:0)+J)+he;o.style.height=de+"px",m.scrollTop=be-G+m.offsetTop}o.style.margin=`${ul}px 0`,o.style.minHeight=ve+"px",o.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,a.trigger,a.valueNode,o,u,m,g,y,a.dir,n]);na(()=>_(),[_]);const[S,N]=P.useState();na(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const C=P.useCallback(j=>{j&&v.current===!0&&(_(),x==null||x(),v.current=!1)},[_,x]);return c.jsx(bxe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:f,onScrollButtonChange:C,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(Ht.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});AX.displayName=vxe;var yxe="SelectPopperPosition",zC=P.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ul,...a}=t,s=QA(r);return c.jsx(uO,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zC.displayName=yxe;var[bxe,M3]=My(nm,{}),qC="SelectViewport",NX=P.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=_f(qC,r),s=M3(qC,r),o=Mr(e,a.onViewportChange),l=P.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(YA.Slot,{scope:r,children:c.jsx(Ht.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:It(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&h){const f=Math.abs(l.current-d.scrollTop);if(f>0){const v=window.innerHeight-ul*2,m=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(m,g);if(y<v){const x=y+f,_=Math.min(v,x),S=x-_;h.style.height=_+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});NX.displayName=qC;var EX="SelectGroup",[xxe,wxe]=My(EX),_xe=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Al();return c.jsx(xxe,{scope:r,id:i,children:c.jsx(Ht.div,{role:"group","aria-labelledby":i,...n,ref:e})})});_xe.displayName=EX;var jX="SelectLabel",PX=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=wxe(jX,r);return c.jsx(Ht.div,{id:i.id,...n,ref:e})});PX.displayName=jX;var kS="SelectItem",[Sxe,TX]=My(kS),CX=P.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=wf(kS,r),l=_f(kS,r),u=o.value===n,[d,h]=P.useState(a??""),[p,f]=P.useState(!1),v=Mr(e,x=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,x,n,i)}),m=Al(),g=P.useRef("touch"),y=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Sxe,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:P.useCallback(x=>{h(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:c.jsx(YA.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:c.jsx(Ht.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:It(s.onFocus,()=>f(!0)),onBlur:It(s.onBlur,()=>f(!1)),onClick:It(s.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:It(s.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:It(s.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:It(s.onPointerMove,x=>{var _;g.current=x.pointerType,i?(_=l.onItemLeave)==null||_.call(l):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:It(s.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:It(s.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(lxe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});CX.displayName=kS;var i1="SelectItemText",kX=P.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=wf(i1,r),o=_f(i1,r),l=TX(i1,r),u=hxe(i1,r),[d,h]=P.useState(null),p=Mr(e,y=>h(y),l.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,l.value,l.disabled)}),f=d==null?void 0:d.textContent,v=P.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return na(()=>(m(v),()=>g(v)),[m,g,v]),c.jsxs(c.Fragment,{children:[c.jsx(Ht.span,{id:l.textId,...a,ref:p}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?gm.createPortal(a.children,s.valueNode):null]})});kX.displayName=i1;var IX="SelectItemIndicator",OX=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return TX(IX,r).isSelected?c.jsx(Ht.span,{"aria-hidden":!0,...n,ref:e}):null});OX.displayName=IX;var WC="SelectScrollUpButton",RX=P.forwardRef((t,e)=>{const r=_f(WC,t.__scopeSelect),n=M3(WC,t.__scopeSelect),[i,a]=P.useState(!1),s=Mr(e,n.onScrollButtonChange);return na(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollTop>0;a(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?c.jsx(LX,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});RX.displayName=WC;var HC="SelectScrollDownButton",DX=P.forwardRef((t,e)=>{const r=_f(HC,t.__scopeSelect),n=M3(HC,t.__scopeSelect),[i,a]=P.useState(!1),s=Mr(e,n.onScrollButtonChange);return na(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?c.jsx(LX,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});DX.displayName=HC;var LX=P.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=_f("SelectScrollButton",r),s=P.useRef(null),o=XA(r),l=P.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return P.useEffect(()=>()=>l(),[l]),na(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(Ht.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:It(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:It(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:It(i.onPointerLeave,()=>{l()})})}),Axe="SelectSeparator",MX=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(Ht.div,{"aria-hidden":!0,...n,ref:e})});MX.displayName=Axe;var GC="SelectArrow",Nxe=P.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=QA(r),a=wf(GC,r),s=_f(GC,r);return a.open&&s.position==="popper"?c.jsx(dO,{...i,...n,ref:e}):null});Nxe.displayName=GC;var Exe="SelectBubbleInput",$X=P.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=P.useRef(null),a=Mr(n,i),s=fX(e);return P.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&d){const h=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[s,e]),c.jsx(Ht.select,{...r,style:{...Tq,...r.style},ref:a,defaultValue:e})});$X.displayName=Exe;function FX(t){return t===""||t===void 0}function BX(t){const e=Xo(t),r=P.useRef(""),n=P.useRef(0),i=P.useCallback(s=>{const o=r.current+s;e(o),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=P.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function UX(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=jxe(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function jxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Pxe=pX,VX=gX,Txe=yX,Cxe=bX,kxe=xX,zX=wX,Ixe=NX,qX=PX,WX=CX,Oxe=kX,Rxe=OX,HX=RX,GX=DX,KX=MX;const Zn=Pxe,ei=Txe,Kn=P.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(VX,{ref:n,className:_t("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(Cxe,{asChild:!0,children:c.jsx(QI,{className:"h-4 w-4 opacity-50"})})]}));Kn.displayName=VX.displayName;const YX=P.forwardRef(({className:t,...e},r)=>c.jsx(HX,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Moe,{className:"h-4 w-4"})}));YX.displayName=HX.displayName;const XX=P.forwardRef(({className:t,...e},r)=>c.jsx(GX,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(QI,{className:"h-4 w-4"})}));XX.displayName=GX.displayName;const Yn=P.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>c.jsx(kxe,{children:c.jsxs(zX,{ref:i,className:_t("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(YX,{}),c.jsx(Ixe,{className:_t("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(XX,{})]})}));Yn.displayName=zX.displayName;const Dxe=P.forwardRef(({className:t,...e},r)=>c.jsx(qX,{ref:r,className:_t("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Dxe.displayName=qX.displayName;const Lr=P.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(WX,{ref:n,className:_t("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Rxe,{children:c.jsx(mr,{className:"h-4 w-4"})})}),c.jsx(Oxe,{children:e})]}));Lr.displayName=WX.displayName;const Lxe=P.forwardRef(({className:t,...e},r)=>c.jsx(KX,{ref:r,className:_t("-mx-1 my-1 h-px bg-muted",t),...e}));Lxe.displayName=KX.displayName;function qr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function fo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ja(t,e){const r=qr(t);return isNaN(e)?fo(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Ol(t,e){const r=qr(t);if(isNaN(e))return fo(t,NaN);if(!e)return r;const n=r.getDate(),i=fo(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const $3=6048e5,Mxe=864e5;let $xe={};function Hx(){return $xe}function Rc(t,e){var o,l,u,d;const r=Hx(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=qr(t),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function im(t){return Rc(t,{weekStartsOn:1})}function QX(t){const e=qr(t),r=e.getFullYear(),n=fo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=im(n),a=fo(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=im(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function Bv(t){const e=qr(t);return e.setHours(0,0,0,0),e}function IS(t){const e=qr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function mc(t,e){const r=Bv(t),n=Bv(e),i=+r-IS(r),a=+n-IS(n);return Math.round((i-a)/Mxe)}function Fxe(t){const e=QX(t),r=fo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),im(r)}function KC(t,e){const r=e*7;return Ja(t,r)}function Bxe(t,e){return Ol(t,e*12)}function Uxe(t){let e;return t.forEach(function(r){const n=qr(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Vxe(t){let e;return t.forEach(r=>{const n=qr(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Ps(t,e){const r=Bv(t),n=Bv(e);return+r==+n}function F3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function zxe(t){if(!F3(t)&&typeof t!="number")return!1;const e=qr(t);return!isNaN(Number(e))}function Ab(t,e){const r=qr(t),n=qr(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function qxe(t,e,r){const n=Rc(t,r),i=Rc(e,r),a=+n-IS(n),s=+i-IS(i);return Math.round((a-s)/$3)}function B3(t){const e=qr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Ds(t){const e=qr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function JX(t){const e=qr(t),r=fo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function U3(t,e){var o,l,u,d;const r=Hx(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=qr(t),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function ZX(t){return U3(t,{weekStartsOn:1})}const Wxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hxe=(t,e,r)=>{let n;const i=Wxe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Iu(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Gxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xxe={date:Iu({formats:Gxe,defaultWidth:"full"}),time:Iu({formats:Kxe,defaultWidth:"full"}),dateTime:Iu({formats:Yxe,defaultWidth:"full"})},Qxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jxe=(t,e,r,n)=>Qxe[t];function es(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Zxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ewe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},twe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},awe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},swe={ordinalNumber:awe,era:es({values:Zxe,defaultWidth:"wide"}),quarter:es({values:ewe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:es({values:twe,defaultWidth:"wide"}),day:es({values:rwe,defaultWidth:"wide"}),dayPeriod:es({values:nwe,defaultWidth:"wide",formattingValues:iwe,defaultFormattingWidth:"wide"})};function ts(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?lwe(o,h=>h.test(s)):owe(o,h=>h.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function owe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function lwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function V3(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const cwe=/^(\d+)(th|st|nd|rd)?/i,uwe=/\d+/i,dwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hwe={any:[/^b/i,/^(a|c)/i]},fwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pwe={any:[/1/i,/2/i,/3/i,/4/i]},mwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ywe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wwe={ordinalNumber:V3({matchPattern:cwe,parsePattern:uwe,valueCallback:t=>parseInt(t,10)}),era:ts({matchPatterns:dwe,defaultMatchWidth:"wide",parsePatterns:hwe,defaultParseWidth:"any"}),quarter:ts({matchPatterns:fwe,defaultMatchWidth:"wide",parsePatterns:pwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ts({matchPatterns:mwe,defaultMatchWidth:"wide",parsePatterns:gwe,defaultParseWidth:"any"}),day:ts({matchPatterns:vwe,defaultMatchWidth:"wide",parsePatterns:ywe,defaultParseWidth:"any"}),dayPeriod:ts({matchPatterns:bwe,defaultMatchWidth:"any",parsePatterns:xwe,defaultParseWidth:"any"})},eQ={code:"en-US",formatDistance:Hxe,formatLong:Xxe,formatRelative:Jxe,localize:swe,match:wwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _we(t){const e=qr(t);return mc(e,JX(e))+1}function tQ(t){const e=qr(t),r=+im(e)-+Fxe(e);return Math.round(r/$3)+1}function rQ(t,e){var d,h,p,f;const r=qr(t),n=r.getFullYear(),i=Hx(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(p=i.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,s=fo(t,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=Rc(s,e),l=fo(t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=Rc(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Swe(t,e){var o,l,u,d;const r=Hx(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=rQ(t,e),a=fo(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Rc(a,e)}function nQ(t,e){const r=qr(t),n=+Rc(r,e)-+Swe(r,e);return Math.round(n/$3)+1}function nn(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ld={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return nn(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):nn(r+1,2)},d(t,e){return nn(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return nn(t.getHours()%12||12,e.length)},H(t,e){return nn(t.getHours(),e.length)},m(t,e){return nn(t.getMinutes(),e.length)},s(t,e){return nn(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return nn(i,e.length)}},qm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},X8={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ld.y(t,e)},Y:function(t,e,r,n){const i=rQ(t,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return nn(s,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):nn(a,e.length)},R:function(t,e){const r=QX(t);return nn(r,e.length)},u:function(t,e){const r=t.getFullYear();return nn(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return nn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return nn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ld.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return nn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=nQ(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):nn(i,e.length)},I:function(t,e,r){const n=tQ(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):nn(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ld.d(t,e)},D:function(t,e,r){const n=_we(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):nn(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return nn(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return nn(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return nn(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=qm.noon:n===0?i=qm.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=qm.evening:n>=12?i=qm.afternoon:n>=4?i=qm.morning:i=qm.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ld.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ld.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):nn(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):nn(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ld.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ld.s(t,e)},S:function(t,e){return Ld.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return J8(n);case"XXXX":case"XX":return Zf(n);case"XXXXX":case"XXX":default:return Zf(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return J8(n);case"xxxx":case"xx":return Zf(n);case"xxxxx":case"xxx":default:return Zf(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Q8(n,":");case"OOOO":default:return"GMT"+Zf(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Q8(n,":");case"zzzz":default:return"GMT"+Zf(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return nn(n,e.length)},T:function(t,e,r){const n=t.getTime();return nn(n,e.length)}};function Q8(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+nn(a,2)}function J8(t,e){return t%60===0?(t>0?"-":"+")+nn(Math.abs(t)/60,2):Zf(t,e)}function Zf(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=nn(Math.trunc(n/60),2),a=nn(n%60,2);return r+i+e+a}const Z8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},iQ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Awe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Z8(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Z8(n,e)).replace("{{time}}",iQ(i,e))},Nwe={p:iQ,P:Awe},Ewe=/^D+$/,jwe=/^Y+$/,Pwe=["D","DD","YY","YYYY"];function Twe(t){return Ewe.test(t)}function Cwe(t){return jwe.test(t)}function kwe(t,e,r){const n=Iwe(t,e,r);if(console.warn(n),Pwe.includes(t))throw new RangeError(n)}function Iwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Owe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dwe=/^'([^]*?)'?$/,Lwe=/''/g,Mwe=/[a-zA-Z]/;function ma(t,e,r){var d,h,p,f,v,m,g,y;const n=Hx(),i=(r==null?void 0:r.locale)??n.locale??eQ,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,o=qr(t);if(!zxe(o))throw new RangeError("Invalid time value");let l=e.match(Rwe).map(x=>{const _=x[0];if(_==="p"||_==="P"){const S=Nwe[_];return S(x,i.formatLong)}return x}).join("").match(Owe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const _=x[0];if(_==="'")return{isToken:!1,value:$we(x)};if(X8[_])return{isToken:!0,value:x};if(_.match(Mwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const _=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Cwe(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Twe(_))&&kwe(_,e,String(t));const S=X8[_[0]];return S(o,_,i.localize,u)}).join("")}function $we(t){const e=t.match(Dwe);return e?e[1].replace(Lwe,"'"):t}function Fwe(t){const e=qr(t),r=e.getFullYear(),n=e.getMonth(),i=fo(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Bwe(t){return Math.trunc(+qr(t)/1e3)}function Uwe(t){const e=qr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Vwe(t,e){return qxe(Uwe(t),Ds(t),e)+1}function YC(t,e){const r=qr(t),n=qr(e);return r.getTime()>n.getTime()}function aQ(t,e){const r=qr(t),n=qr(e);return+r<+n}function z3(t,e){const r=qr(t),n=qr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function zwe(t,e){const r=qr(t),n=qr(e);return r.getFullYear()===n.getFullYear()}function Ej(t,e){return Ja(t,-e)}function jj(t,e){const r=qr(t),n=r.getFullYear(),i=r.getDate(),a=fo(t,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const s=Fwe(a);return r.setMonth(e,Math.min(i,s)),r}function e$(t,e){const r=qr(t);return isNaN(+r)?fo(t,NaN):(r.setFullYear(e),r)}const qwe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Wwe=(t,e,r)=>{let n;const i=qwe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"daqui a "+n:"há "+n:n},Hwe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},Gwe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Kwe={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ywe={date:Iu({formats:Hwe,defaultWidth:"full"}),time:Iu({formats:Gwe,defaultWidth:"full"}),dateTime:Iu({formats:Kwe,defaultWidth:"full"})},Xwe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Qwe=(t,e,r,n)=>{const i=Xwe[t];return typeof i=="function"?i(e):i},Jwe={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},Zwe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},e2e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},t2e={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sáb"],abbreviated:["dom","seg","ter","qua","qui","sex","sáb"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},r2e={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"}},n2e={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},i2e=(t,e)=>Number(t)+"º",a2e={ordinalNumber:i2e,era:es({values:Jwe,defaultWidth:"wide"}),quarter:es({values:Zwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:es({values:e2e,defaultWidth:"wide"}),day:es({values:t2e,defaultWidth:"wide"}),dayPeriod:es({values:r2e,defaultWidth:"wide",formattingValues:n2e,defaultFormattingWidth:"wide"})},s2e=/^(\d+)(º|ª)?/i,o2e=/\d+/i,l2e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},c2e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},u2e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º|ª)? trimestre/i},d2e={any:[/1/i,/2/i,/3/i,/4/i]},h2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},f2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},p2e={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,wide:/^(domingo|segunda-?\s?feira|terça-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[áa]bado)/i},m2e={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[áa]/i]},g2e={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i},v2e={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[ãa]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},y2e={ordinalNumber:V3({matchPattern:s2e,parsePattern:o2e,valueCallback:t=>parseInt(t,10)}),era:ts({matchPatterns:l2e,defaultMatchWidth:"wide",parsePatterns:c2e,defaultParseWidth:"any"}),quarter:ts({matchPatterns:u2e,defaultMatchWidth:"wide",parsePatterns:d2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ts({matchPatterns:h2e,defaultMatchWidth:"wide",parsePatterns:f2e,defaultParseWidth:"any"}),day:ts({matchPatterns:p2e,defaultMatchWidth:"wide",parsePatterns:m2e,defaultParseWidth:"any"}),dayPeriod:ts({matchPatterns:g2e,defaultMatchWidth:"any",parsePatterns:v2e,defaultParseWidth:"any"})},Pj={code:"pt",formatDistance:Wwe,formatLong:Ywe,formatRelative:Qwe,localize:a2e,match:y2e,options:{weekStartsOn:1,firstWeekContainsDate:4}},b2e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},x2e=(t,e,r)=>{let n;const i=b2e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},w2e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},_2e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},S2e={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A2e={date:Iu({formats:w2e,defaultWidth:"full"}),time:Iu({formats:_2e,defaultWidth:"full"}),dateTime:Iu({formats:S2e,defaultWidth:"full"})},N2e={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},E2e=(t,e,r,n)=>{const i=N2e[t];return typeof i=="function"?i(e):i},j2e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},P2e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},T2e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},C2e={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},k2e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},I2e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},O2e=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"ª":r+"º"},R2e={ordinalNumber:O2e,era:es({values:j2e,defaultWidth:"wide"}),quarter:es({values:P2e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:es({values:T2e,defaultWidth:"wide"}),day:es({values:C2e,defaultWidth:"wide"}),dayPeriod:es({values:k2e,defaultWidth:"wide",formattingValues:I2e,defaultFormattingWidth:"wide"})},D2e=/^(\d+)[ºªo]?/i,L2e=/\d+/i,M2e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},$2e={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},F2e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},B2e={any:[/1/i,/2/i,/3/i,/4/i]},U2e={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},V2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},z2e={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},q2e={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},W2e={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},H2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},G2e={ordinalNumber:V3({matchPattern:D2e,parsePattern:L2e,valueCallback:t=>parseInt(t,10)}),era:ts({matchPatterns:M2e,defaultMatchWidth:"wide",parsePatterns:$2e,defaultParseWidth:"any"}),quarter:ts({matchPatterns:F2e,defaultMatchWidth:"wide",parsePatterns:B2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ts({matchPatterns:U2e,defaultMatchWidth:"wide",parsePatterns:V2e,defaultParseWidth:"any"}),day:ts({matchPatterns:z2e,defaultMatchWidth:"wide",parsePatterns:q2e,defaultParseWidth:"any"}),dayPeriod:ts({matchPatterns:W2e,defaultMatchWidth:"any",parsePatterns:H2e,defaultParseWidth:"any"})},sQ={code:"pt-BR",formatDistance:x2e,formatLong:A2e,formatRelative:E2e,localize:R2e,match:G2e,options:{weekStartsOn:0,firstWeekContainsDate:1}},K2e=({date:t})=>{const{user:e}=Hr(),[r,n]=P.useState(""),[i,a]=P.useState(""),[s,o]=P.useState(""),[l,u]=P.useState(""),d=ma(t,"yyyy-MM-dd"),{data:h=[]}=Ly((e==null?void 0:e.uid)||""),{data:p=[]}=co((e==null?void 0:e.uid)||""),f=p.filter(S=>S.date===d),v=O3(),m=R3(),g=async(S,N,C)=>{if(!(e!=null&&e.uid)||!N||!C){We.error("Preencha todos os campos");return}try{const j={userId:e.uid,employeeId:"",platformId:C,type:S,amount:Number(N),date:d};console.log("Creating transaction for date:",d,j),console.log("Transaction data being sent:",JSON.stringify(j,null,2));const E=await v.mutateAsync(j);console.log("Transaction created successfully with ID:",E),We.success(`${S==="deposit"?"Depósito":"Saque"} registrado com sucesso!`),S==="deposit"?(n(""),o("")):(a(""),u(""))}catch(j){console.error("Erro ao criar transação:",j),console.error("Error details:",j),We.error("Erro ao registrar transação: "+j.message)}},y=async S=>{try{await m.mutateAsync(S),We.success("Transação excluída com sucesso!")}catch(N){console.error("Erro ao excluir transação:",N),We.error("Erro ao excluir transação")}},x=S=>{const N=h.find(C=>C.id===S);return(N==null?void 0:N.name)||"N/A"},_=S=>{const N=h.find(C=>C.id===S);return(N==null?void 0:N.color)||"#666"};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Transações - ",ma(t,"dd 'de' MMMM 'de' yyyy",{locale:sQ})]}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie as movimentações deste dia"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ri,{className:"h-5 w-5 text-success"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Registrar Depósito"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"deposit-amount",children:"Valor (R$)"}),c.jsx(Bt,{id:"deposit-amount",type:"number",step:"0.01",placeholder:"0,00",value:r,onChange:S=>n(S.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"deposit-platform",children:"Plataforma"}),c.jsxs(Zn,{value:s,onValueChange:o,children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione..."})}),c.jsx(Yn,{children:h.map(S=>c.jsx(Lr,{value:S.id,children:S.name},S.id))})]})]}),c.jsxs(qe,{onClick:()=>g("deposit",r,s),className:"w-full gap-2",disabled:!r||!s||v.isPending,children:[c.jsx(ri,{className:"h-4 w-4"}),"Registrar Depósito"]})]}),c.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Wh,{className:"h-5 w-5 text-destructive"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Registrar Saque"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"withdraw-amount",children:"Valor (R$)"}),c.jsx(Bt,{id:"withdraw-amount",type:"number",step:"0.01",placeholder:"0,00",value:i,onChange:S=>a(S.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"withdraw-platform",children:"Plataforma"}),c.jsxs(Zn,{value:l,onValueChange:u,children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione..."})}),c.jsx(Yn,{children:h.map(S=>c.jsx(Lr,{value:S.id,children:S.name},S.id))})]})]}),c.jsxs(qe,{onClick:()=>g("withdraw",i,l),className:"w-full gap-2",disabled:!i||!l||v.isPending,children:[c.jsx(Wh,{className:"h-4 w-4"}),"Registrar Saque"]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Transações do Dia"}),f.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação registrada para este dia"}):c.jsx("div",{className:"space-y-2",children:f.map(S=>{var N,C;return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(sr,{variant:S.type==="deposit"?"default":"destructive",style:{backgroundColor:_(S.platformId)},children:S.type==="deposit"?"Receita":"Despesa"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:x(S.platformId)}),c.jsx("div",{className:"text-sm text-muted-foreground",children:ma(new Date(((C=(N=S.createdAt)==null?void 0:N.toDate)==null?void 0:C.call(N))||S.date),"HH:mm")})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:`font-bold ${S.type==="deposit"?"text-success":"text-destructive"}`,children:[S.type==="deposit"?"+":"-","R$ ",Number(S.amount).toLocaleString("pt-BR")]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>y(S.id),className:"text-destructive hover:text-destructive",children:c.jsx(qh,{className:"h-4 w-4"})})]})]},S.id)})})]}),f.length>0&&c.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Resumo do Dia"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Depósitos"}),c.jsxs("div",{className:"font-bold text-success",children:["R$ ",f.filter(S=>S.type==="deposit").reduce((S,N)=>S+Number(N.amount),0).toLocaleString("pt-BR")]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Saques"}),c.jsxs("div",{className:"font-bold text-destructive",children:["R$ ",f.filter(S=>S.type==="withdraw").reduce((S,N)=>S+Number(N.amount),0).toLocaleString("pt-BR")]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Lucro"}),c.jsxs("div",{className:`font-bold ${f.reduce((S,N)=>S+(N.type==="withdraw"?N.amount:-N.amount),0)>=0?"text-success":"text-destructive"}`,children:["R$ ",f.reduce((S,N)=>S+(N.type==="withdraw"?N.amount:-N.amount),0).toLocaleString("pt-BR")]})]})]})]})]})},Y2e=()=>{const[t,e]=P.useState(oc()),[r,n]=P.useState(null),{user:i}=Hr(),{canEditPreviousCalendarDays:a}=xf(),{data:s=[]}=Wx((i==null?void 0:i.uid)||""),{data:o=[]}=co((i==null?void 0:i.uid)||"");console.log("MonthlyCalendar - Historical Summaries:",s),console.log("MonthlyCalendar - Historical Summaries length:",(s==null?void 0:s.length)||0),console.log("MonthlyCalendar - All Transactions:",o),console.log("MonthlyCalendar - All Transactions length:",(o==null?void 0:o.length)||0),console.log("MonthlyCalendar - Current Date:",t),console.log("MonthlyCalendar - User ID:",i==null?void 0:i.uid);const l=P.useMemo(()=>{const y=new Map;return console.log("Calculating daily profits..."),s.forEach(x=>{let _;typeof x.date=="string"?_=x.date:x.date&&x.date.toDate?_=ma(x.date.toDate(),"yyyy-MM-dd"):_=ma(new Date(x.date),"yyyy-MM-dd"),console.log(`Adding historical profit for ${_}: ${x.profit||x.margin}`),y.set(_,x.profit||x.margin||0)}),o.forEach(x=>{const _=x.date;console.log(`Processing transaction for date ${_}:`,x);const S=x.type==="withdraw"?x.amount:-x.amount;if(y.has(_)){const N=y.get(_)||0,C=N+S;console.log(`Adding to existing profit for ${_}: ${N} + ${S} = ${C}`),y.set(_,C)}else console.log(`Creating new profit for ${_}: ${S}`),y.set(_,S)}),console.log("Final daily profits Map:",Array.from(y.entries())),y},[s,o]),u=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],d=y=>{const x=y.getFullYear(),_=y.getMonth(),S=new Date(x,_,1),C=new Date(x,_+1,0).getDate(),j=S.getDay();return{daysInMonth:C,startingDayOfWeek:j}},{daysInMonth:h,startingDayOfWeek:p}=d(t),f=()=>{e(new Date(t.getFullYear(),t.getMonth()-1))},v=()=>{e(new Date(t.getFullYear(),t.getMonth()+1))},m=y=>{const x=new Date(t.getFullYear(),t.getMonth(),y),_=ma(x,"yyyy-MM-dd");console.log(`Looking for profit for day ${y}, date string: ${_}`);const S=l.get(_);return console.log(`Profit found for day ${y}:`,S),S},g=y=>{const x=new Date(t.getFullYear(),t.getMonth(),y),_=new Date;if(_.setHours(0,0,0,0),!a()&&x.getTime()!==_.getTime()){const S=x<_?"Edição de dias passados disponível apenas no plano Medium ou superior. Faça upgrade para acessar esta funcionalidade.":"Edição de dias futuros disponível apenas no plano Medium ou superior. Faça upgrade para acessar esta funcionalidade.";We.error(S);return}n(x)};return c.jsxs(c.Fragment,{children:[c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold",children:[u[t.getMonth()]," ",t.getFullYear()]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(qe,{variant:"outline",onClick:()=>{console.log("=== DEBUG INFO ==="),console.log("User ID:",i==null?void 0:i.uid),console.log("Historical Summaries:",s),console.log("All Transactions:",o),console.log("Daily Profits Map:",Array.from(l.entries())),console.log("==================")},children:"Debug"}),c.jsx(qe,{variant:"outline",size:"icon",onClick:f,children:c.jsx(Qq,{className:"h-4 w-4"})}),c.jsx(qe,{variant:"outline",size:"icon",onClick:v,children:c.jsx(JI,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(y=>c.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground p-2",children:y},y)),Array.from({length:p}).map((y,x)=>c.jsx("div",{},`empty-${x}`)),Array.from({length:h}).map((y,x)=>{const _=x+1,S=m(_),N=new Date(t.getFullYear(),t.getMonth(),_),C=new Date;C.setHours(0,0,0,0);const j=N.getTime()===C.getTime(),E=N<C,I=N>C,D=!a()&&(E||I);return c.jsxs("button",{onClick:()=>g(_),className:`
                  min-h-[80px] p-3 rounded-lg border transition-all hover:shadow-md relative group
                  ${j?"border-primary border-2":"border-border"}
                  ${E&&S!==void 0?"bg-muted/50":"bg-card"}
                  hover:bg-accent
                `,children:[c.jsx("div",{className:"absolute top-2 right-2 text-lg font-bold text-primary group-hover:text-black transition-colors duration-200",children:_}),D&&c.jsx("div",{className:"absolute top-2 left-2",children:c.jsx(lA,{className:"h-3 w-3 text-muted-foreground"})}),S!==void 0&&c.jsxs("div",{className:"flex flex-col items-center justify-center h-full pt-4",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"BRL"}),c.jsxs("div",{className:`text-sm font-bold ${S>=0?"text-success":"text-destructive"}`,children:[S>=0?"+":"","R$ ",S.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},_)})]})]}),c.jsx(Rs,{open:!!r,onOpenChange:y=>!y&&n(null),children:c.jsxs(ls,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(cs,{children:c.jsxs(us,{children:["Transações - ",r==null?void 0:r.toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})]})}),r&&c.jsx(K2e,{date:r})]})})]})};class Xs{static startDailyClosureService(e){this.stopDailyClosureService();const r=this.getNextMidnightInSaoPaulo(),n=r.getTime()-new Date().getTime();console.log("🕛 Serviço de fechamento diário iniciado"),console.log(`📅 Próximo fechamento em: ${r.toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})}`),this.closureInterval=setTimeout(()=>{this.processDailyClosure(e),this.closureInterval=setInterval(()=>{this.processDailyClosure(e)},24*60*60*1e3)},n)}static stopDailyClosureService(){this.closureInterval&&(clearTimeout(this.closureInterval),clearInterval(this.closureInterval),this.closureInterval=null,console.log("🛑 Serviço de fechamento diário parado"))}static async processManualClosure(e,r){const n=r||this.getCurrentDateInSaoPaulo();await this.processDailyClosure(e,n)}static async processDailyClosure(e,r){if(this.isProcessing){console.log("⚠️ Fechamento diário já está sendo processado");return}this.isProcessing=!0;const n=r||this.getCurrentDateInSaoPaulo();try{console.log(`🔄 Iniciando fechamento diário para ${n}`);const i=await Fv.getTransactionsByDateRange(e,n,n);if(i.length===0){console.log("📝 Nenhuma transação encontrada para o dia"),this.isProcessing=!1;return}const a=await this.calculateDailySummary(e,n,i),s=await this.getExistingSummary(e,n);s?(console.log("📝 Atualizando resumo existente"),await Mo.updateDailySummary(e,s.id,a)):(console.log("📝 Criando novo resumo diário"),await Mo.createDailySummary(e,a)),console.log(`✅ Fechamento diário concluído para ${n}`),console.log(`📊 Resumo: ${a.totalDeposits} depósitos, ${a.totalWithdraws} saques, ${a.totalProfit} lucro`)}catch(i){console.error("❌ Erro no fechamento diário:",i)}finally{this.isProcessing=!1}}static async calculateDailySummary(e,r,n){const i=n.filter(u=>u.type==="deposit").reduce((u,d)=>u+(d.amount||0),0),a=n.filter(u=>u.type==="withdraw").reduce((u,d)=>u+(d.amount||0),0),s=a-i,o=n.reduce((u,d)=>{const h=d.employeeId;return u[h]||(u[h]={employeeId:h,employeeName:"Funcionário não encontrado",deposits:0,withdraws:0,profit:0,transactionCount:0}),d.type==="deposit"?u[h].deposits+=d.amount||0:u[h].withdraws+=d.amount||0,u[h].transactionCount++,u},{});Object.values(o).forEach(u=>{u.profit=u.withdraws-u.deposits});const l=Object.values(o);return{date:r,totalDeposits:i,totalWithdraws:a,totalProfit:s,transactionCount:n.length,employeeSummaries:l}}static async getExistingSummary(e,r){try{return(await Mo.getDailySummaries(e)).find(i=>i.date===r)||null}catch(n){return console.error("Erro ao buscar resumo existente:",n),null}}static getNextMidnightInSaoPaulo(){const e=new Date,r=new Date(e.toLocaleString("en-US",{timeZone:"America/Sao_Paulo"})),n=new Date(r);return n.setDate(n.getDate()+1),n.setHours(0,0,0,0),new Date(n.toLocaleString("en-US",{timeZone:"UTC"}))}static getCurrentDateInSaoPaulo(){return new Date().toLocaleDateString("en-CA",{timeZone:"America/Sao_Paulo"})}static isServiceActive(){return this.closureInterval!==null}static getNextClosureInfo(){return{nextClosure:this.getNextMidnightInSaoPaulo(),isActive:this.isServiceActive()}}}Rr(Xs,"closureInterval",null),Rr(Xs,"isProcessing",!1);const X2e=()=>{const{user:t}=Hr(),[e,r]=P.useState(!1),[n,i]=P.useState(null);return P.useEffect(()=>{if(t!=null&&t.uid){console.log("🚀 Iniciando serviço de fechamento diário para usuário:",t.uid),Xs.startDailyClosureService(t.uid),r(Xs.isServiceActive());const{nextClosure:l}=Xs.getNextClosureInfo();i(l);const u=setInterval(()=>{r(Xs.isServiceActive());const{nextClosure:d}=Xs.getNextClosureInfo();i(d)},6e4);return()=>{clearInterval(u),Xs.stopDailyClosureService(),console.log("🛑 Serviço de fechamento diário parado")}}},[t==null?void 0:t.uid]),{isServiceActive:e,nextClosure:n,processManualClosure:async l=>{if(!(t!=null&&t.uid)){We.error("Usuário não autenticado");return}try{We.loading("Processando fechamento diário...",{id:"daily-closure"}),await Xs.processManualClosure(t.uid,l),We.success("Fechamento diário processado com sucesso!",{id:"daily-closure"})}catch(u){console.error("Erro no fechamento manual:",u),We.error("Erro ao processar fechamento diário",{id:"daily-closure"})}},stopService:()=>{Xs.stopDailyClosureService(),r(!1),i(null),We.info("Serviço de fechamento diário parado")},restartService:()=>{if(t!=null&&t.uid){Xs.startDailyClosureService(t.uid),r(Xs.isServiceActive());const{nextClosure:l}=Xs.getNextClosureInfo();i(l),We.success("Serviço de fechamento diário reiniciado")}}}},Q2e=()=>{var Z,ve;const{user:t}=Hr(),e=Gi();X2e();const{data:r=[],isLoading:n,error:i}=nd((t==null?void 0:t.uid)||""),a=L3(),s=new Date(oc().getTime()-7*24*60*60*1e3).toISOString().split("T")[0],o=new Date(oc().getFullYear(),oc().getMonth(),1).toISOString().split("T")[0],l=new Date(oc().getFullYear(),oc().getMonth()+1,0).toISOString().split("T")[0],{data:u=[],isLoading:d,error:h}=co((t==null?void 0:t.uid)||"",a,a),{data:p=[],isLoading:f}=co((t==null?void 0:t.uid)||"",s,a),{data:v=[],isLoading:m}=co((t==null?void 0:t.uid)||"",o,l),{data:g=[]}=Wx((t==null?void 0:t.uid)||"");console.log("Dashboard Debug:",{user:t==null?void 0:t.uid,employees:r.length,todayTransactions:u.length,today:a,employeesLoading:n,transactionsLoading:d,employeesError:i,transactionsError:h});const y=((Z=u==null?void 0:u.filter(ce=>ce.type==="deposit"))==null?void 0:Z.reduce((ce,F)=>ce+(F.amount||0),0))||0,_=(((ve=u==null?void 0:u.filter(ce=>ce.type==="withdraw"))==null?void 0:ve.reduce((ce,F)=>ce+(F.amount||0),0))||0)-y,S=(r==null?void 0:r.filter(ce=>ce.status==="active"))||[];u!=null&&u.length;const N=oc().getFullYear(),C=oc().getMonth(),j=g.filter(ce=>{const F=new Date(ce.date);return F.getFullYear()===N&&F.getMonth()===C}),E=j.reduce((ce,F)=>ce+(F.profit||F.margin||0),0),I=new Set(j.map(ce=>ce.date)),D=v.filter(ce=>!I.has(ce.date)),k=D.reduce((ce,F)=>{const V=F.type==="withdraw"?F.amount:-F.amount;return ce+V},0);console.log("Dashboard - Transações Abertas (não fechadas):",{totalMonthlyTransactions:v.length,closedDates:Array.from(I),openTransactions:D.length,monthlyRevenueFromTransactions:k});const O=E+k;console.log("Dashboard - Cálculo Receita Mensal:",{currentYear:N,currentMonth:C,monthlySummaries:j.length,monthlyRevenueFromSummaries:E,monthlyTransactions:v.length,monthlyRevenueFromTransactions:k,monthlyRevenue:O}),console.log("Dashboard - Fechamentos Diários Detalhados:"),j.forEach((ce,F)=>{console.log(`  ${F+1}. Data: ${ce.date}, Profit: ${ce.profit||ce.margin||0}`)}),console.log("Dashboard - Transações Abertas Detalhadas:"),D.forEach((ce,F)=>{const V=ce.type==="withdraw"?ce.amount:-ce.amount;console.log(`  ${F+1}. Data: ${ce.date}, Tipo: ${ce.type}, Valor: ${ce.amount}, Profit: ${V}`)}),S.length*1e4;const L=[{title:"Receita Hoje",value:`R$ ${_.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:Ph,valueColor:_>=0?"positive":"negative",clickable:!0,onClick:()=>e("/resumo-dia")},{title:"Receita do Mês",value:`R$ ${O.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:O>=0?ri:Wh,valueColor:O>=0?"positive":"negative",clickable:!0,onClick:()=>e("/relatorios")},{title:"Funcionários Ativos",value:S.length.toString(),icon:rs,valueColor:"default",clickable:!0,onClick:()=>e("/gestao-funcionarios")},{title:"Transações do Mês",value:v.length.toString(),icon:oA,valueColor:"default",clickable:!0,onClick:()=>{e("/relatorios"),setTimeout(()=>{const ce=document.getElementById("weekly-chart-section");ce&&ce.scrollIntoView({behavior:"smooth",block:"start"})},500)}}];(()=>{const ce=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],F=[];for(let V=6;V>=0;V--){const G=new Date;G.setDate(G.getDate()-V);const oe=G.toISOString().split("T")[0],J=p.filter(T=>{var ne,de;return new Date(((de=(ne=T.createdAt)==null?void 0:ne.toDate)==null?void 0:de.call(ne))||T.createdAt).toISOString().split("T")[0]===oe}),ie=J.filter(T=>T.type==="withdraw").reduce((T,X)=>T+(Number(X.amount)||0),0),be=J.filter(T=>T.type==="deposit").reduce((T,X)=>T+(Number(X.amount)||0),0),he=F.length>0?F[F.length-1].lucroAcumulado+ie-be:ie-be;F.push({name:ce[G.getDay()],receita:ie,despesa:be,lucro:ie-be,lucroAcumulado:he,date:oe,isToday:V===0})}return F})();const re=()=>{const ce=[];return p.sort((F,V)=>{var G,oe,J,ie;return new Date(((oe=(G=V.createdAt)==null?void 0:G.toDate)==null?void 0:oe.call(G))||V.createdAt).getTime()-new Date(((ie=(J=F.createdAt)==null?void 0:J.toDate)==null?void 0:ie.call(J))||F.createdAt).getTime()}).slice(0,5).forEach(F=>{var oe,J;const V=r.find(ie=>ie.id===F.employeeId),G=Y(new Date(((J=(oe=F.createdAt)==null?void 0:oe.toDate)==null?void 0:J.call(oe))||F.createdAt));F.type==="withdraw"?ce.push({id:`transaction-${F.id}`,action:"Pagamento recebido",employee:(V==null?void 0:V.name)||"Funcionário não encontrado",value:`R$ ${Number(F.amount||0).toLocaleString("pt-BR")}`,time:G,type:"payment",icon:Ph}):F.type==="deposit"&&ce.push({id:`transaction-${F.id}`,action:"Pagamento pendente",employee:(V==null?void 0:V.name)||"Funcionário não encontrado",value:`R$ ${Number(F.amount||0).toLocaleString("pt-BR")}`,time:G,type:"pending",icon:sA})}),r.sort((F,V)=>{var G,oe,J,ie;return new Date(((oe=(G=V.createdAt)==null?void 0:G.toDate)==null?void 0:oe.call(G))||V.createdAt).getTime()-new Date(((ie=(J=F.createdAt)==null?void 0:J.toDate)==null?void 0:ie.call(J))||F.createdAt).getTime()}).slice(0,2).forEach(F=>{var G,oe;const V=Y(new Date(((oe=(G=F.createdAt)==null?void 0:G.toDate)==null?void 0:oe.call(G))||F.createdAt));ce.push({id:`employee-${F.id}`,action:"Novo funcionário",employee:F.name,value:"",time:V,type:"employee",icon:nW})}),ce.sort((F,V)=>{const G=K(F.time),oe=K(V.time);return G-oe}).slice(0,5)},Y=ce=>{const V=Math.floor((new Date-ce)/(1e3*60));if(V<1)return"Agora mesmo";if(V<60)return`${V} min atrás`;const G=Math.floor(V/60);if(G<24)return`${G} hora${G>1?"s":""} atrás`;const oe=Math.floor(G/24);return`${oe} dia${oe>1?"s":""} atrás`},K=ce=>ce==="Agora mesmo"?0:ce.includes("min")?parseInt(ce):ce.includes("hora")?parseInt(ce)*60:ce.includes("dia")?parseInt(ce)*24*60:999999,q=re();return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Visão geral do seu negócio"})]}),c.jsx("div",{className:"dashboard-grid",children:L.map(ce=>c.jsx(n1,{title:ce.title,value:ce.value,icon:ce.icon,valueColor:ce.valueColor,clickable:ce.clickable,onClick:ce.onClick},ce.title))}),c.jsx(axe,{}),c.jsx(Y2e,{}),c.jsxs(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Atividades Recentes"}),c.jsx("div",{className:"space-y-4",children:q.length>0?q.map(ce=>{const F=ce.icon;return c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:`p-2 rounded-full ${ce.type==="payment"?"bg-success/10":ce.type==="pending"?"bg-warning/10":"bg-primary/10"}`,children:c.jsx(F,{className:`h-4 w-4 ${ce.type==="payment"?"text-success":ce.type==="pending"?"text-warning":"text-primary"}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:ce.action}),c.jsx("p",{className:"text-sm text-muted-foreground",children:ce.employee})]})]}),c.jsxs("div",{className:"text-right",children:[ce.value&&c.jsx("p",{className:`font-semibold ${ce.type==="payment"?"text-success":ce.type==="pending"?"text-warning":"text-foreground"}`,children:ce.value}),c.jsx("p",{className:"text-xs text-muted-foreground",children:ce.time})]})]},ce.id)}):c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(rs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Nenhuma atividade recente"}),c.jsx("p",{className:"text-sm",children:"As atividades aparecerão aqui conforme você usa o sistema"})]})})]})]})})},J2e="modulepreload",Z2e=function(t){return"/"+t},t$={},Ou=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Z2e(l),l in t$)return;t$[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":J2e,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},e_e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ou(async()=>{const{default:n}=await Promise.resolve().then(()=>$y);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class q3 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class r$ extends q3{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class n$ extends q3{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class i$ extends q3{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var XC;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(XC||(XC={}));var t_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class r_e{constructor(e,{headers:r={},customFetch:n,region:i=XC.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=e_e(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return t_e(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s,signal:o}=r;let l={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(l["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(l["Content-Type"]="application/json",h=JSON.stringify(s)));const p=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h,signal:o}).catch(g=>{throw g.name==="AbortError"?g:new r$(g)}),f=p.headers.get("x-relay-error");if(f&&f==="true")throw new n$(p);if(!p.ok)throw new i$(p);let v=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return v==="application/json"?m=yield p.json():v==="application/octet-stream"?m=yield p.blob():v==="text/event-stream"?m=p:v==="multipart/form-data"?m=yield p.formData():m=yield p.text(),{data:m,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new r$(i)}:{data:null,error:i,response:i instanceof i$||i instanceof n$?i.context:void 0}}})}}var Ns={},W3={},JA={},Gx={},ZA={},eN={},n_e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Uv=n_e();const i_e=Uv.fetch,oQ=Uv.fetch.bind(Uv),lQ=Uv.Headers,a_e=Uv.Request,s_e=Uv.Response,$y=Object.freeze(Object.defineProperty({__proto__:null,Headers:lQ,Request:a_e,Response:s_e,default:oQ,fetch:i_e},Symbol.toStringTag,{value:"Module"})),o_e=cie($y);var tN={};Object.defineProperty(tN,"__esModule",{value:!0});let l_e=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};tN.default=l_e;var cQ=Ma&&Ma.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eN,"__esModule",{value:!0});const c_e=cQ(o_e),u_e=cQ(tN);let d_e=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=c_e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l,u;let d=null,h=null,p=null,f=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?h=x:h=JSON.parse(x))}const g=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,f=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const g=await a.text();try{d=JSON.parse(g),Array.isArray(d)&&a.status===404&&(h=[],d=null,f=200,v="OK")}catch{a.status===404&&g===""?(f=204,v="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,f=200,v="OK"),d&&this.shouldThrowOnError)throw new u_e.default(d)}return{error:d,data:h,count:p,status:f,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};eN.default=d_e;var h_e=Ma&&Ma.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ZA,"__esModule",{value:!0});const f_e=h_e(eN);let p_e=class extends f_e.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ZA.default=p_e;var m_e=Ma&&Ma.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gx,"__esModule",{value:!0});const g_e=m_e(ZA);let v_e=class extends g_e.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Gx.default=v_e;var y_e=Ma&&Ma.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(JA,"__esModule",{value:!0});const k0=y_e(Gx);let b_e=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new k0.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new k0.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new k0.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new k0.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new k0.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};JA.default=b_e;var uQ=Ma&&Ma.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W3,"__esModule",{value:!0});const x_e=uQ(JA),w_e=uQ(Gx);let __e=class dQ{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new x_e.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new dQ(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{l.searchParams.append(h,p)})):(o="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new w_e.default({method:o,url:l,headers:d,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};W3.default=__e;var Fy=Ma&&Ma.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.PostgrestError=Ns.PostgrestBuilder=Ns.PostgrestTransformBuilder=Ns.PostgrestFilterBuilder=Ns.PostgrestQueryBuilder=Ns.PostgrestClient=void 0;const hQ=Fy(W3);Ns.PostgrestClient=hQ.default;const fQ=Fy(JA);Ns.PostgrestQueryBuilder=fQ.default;const pQ=Fy(Gx);Ns.PostgrestFilterBuilder=pQ.default;const mQ=Fy(ZA);Ns.PostgrestTransformBuilder=mQ.default;const gQ=Fy(eN);Ns.PostgrestBuilder=gQ.default;const vQ=Fy(tN);Ns.PostgrestError=vQ.default;var S_e=Ns.default={PostgrestClient:hQ.default,PostgrestQueryBuilder:fQ.default,PostgrestFilterBuilder:pQ.default,PostgrestTransformBuilder:mQ.default,PostgrestBuilder:gQ.default,PostgrestError:vQ.default};const{PostgrestClient:A_e,PostgrestQueryBuilder:dZe,PostgrestFilterBuilder:hZe,PostgrestTransformBuilder:fZe,PostgrestBuilder:pZe,PostgrestError:mZe}=S_e;class N_e{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const E_e="2.15.5",j_e=`realtime-js/${E_e}`,P_e="1.0.0",QC=1e4,T_e=1e3,C_e=100;var A1;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(A1||(A1={}));var Bi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bi||(Bi={}));var ml;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ml||(ml={}));var JC;(function(t){t.websocket="websocket"})(JC||(JC={}));var sp;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(sp||(sp={}));class k_e{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class yQ{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pn||(Pn={}));const a$=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,s)=>(a[s]=I_e(s,t,e,i),a),{})},I_e=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?bQ(a,s):ZC(s)},bQ=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return L_e(e,r)}switch(t){case Pn.bool:return O_e(e);case Pn.float4:case Pn.float8:case Pn.int2:case Pn.int4:case Pn.int8:case Pn.numeric:case Pn.oid:return R_e(e);case Pn.json:case Pn.jsonb:return D_e(e);case Pn.timestamp:return M_e(e);case Pn.abstime:case Pn.date:case Pn.daterange:case Pn.int4range:case Pn.int8range:case Pn.money:case Pn.reltime:case Pn.text:case Pn.time:case Pn.timestamptz:case Pn.timetz:case Pn.tsrange:case Pn.tstzrange:return ZC(e);default:return ZC(e)}},ZC=t=>t,O_e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},R_e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},D_e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},L_e=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>bQ(e,o))}return t},M_e=t=>typeof t=="string"?t.replace(" ","T"):t,xQ=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Tj{constructor(e,r,n={},i=QC){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var s$;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(s$||(s$={}));class N1{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=N1.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=N1.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=N1.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const h=a[u];if(h){const p=d.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),v=d.filter(g=>f.indexOf(g.presence_ref)<0),m=h.filter(g=>p.indexOf(g.presence_ref)<0);v.length>0&&(o[u]=v),m.length>0&&(l[u]=m)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);e[o].unshift(...p)}n(o,d,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var o$;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(o$||(o$={}));var E1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(E1||(E1={}));var pu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pu||(pu={}));class H3{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Bi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tj(this,ml.join,this.params,this.timeout),this.rejoinTimer=new yQ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Bi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Bi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ml.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new N1(this),this.broadcastEndpointURL=xQ(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Bi.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[E1.PRESENCE]&&this.bindings[E1.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(pu.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(pu.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){e==null||e(pu.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<g;x++){const _=m[x],{filter:{event:S,schema:N,table:C,filter:j}}=_,E=f&&f[x];if(E&&E.event===S&&E.schema===N&&E.table===C&&E.filter===j)y.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=Bi.errored,e==null||e(pu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(pu.SUBSCRIBED);return}}).receive("error",f=>{this.state=Bi.errored,e==null||e(pu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Bi.joined&&e===E1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ml.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Tj(this,ml.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bi.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Tj(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>C_e){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=ml;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,m,g;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=f.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(f=>f.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(f=>{var v,m,g,y,x,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const S=f.id,N=(v=f.filter)===null||v===void 0?void 0:v.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const S=(x=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:m,table:g,commit_timestamp:y,type:x,errors:_}=v;p=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(v))}f.callback(p,n)})}_isClosed(){return this.state===Bi.closed}_isJoined(){return this.state===Bi.joined}_isJoining(){return this.state===Bi.joining}_isLeaving(){return this.state===Bi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&H3.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ml.close,{},e)}_onError(e){this._on(ml.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=a$(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=a$(e.columns,e.old_record)),r}}const Cj=()=>{},h2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$_e=[1e3,2e3,5e3,1e4],F_e=1e4,B_e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U_e{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=QC,this.transport=null,this.heartbeatIntervalMs=h2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cj,this.ref=0,this.reconnectTimer=null,this.logger=Cj,this.conn=null,this.sendBuffer=[],this.serializer=new k_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Ou(async()=>{const{default:o}=await Promise.resolve().then(()=>$y);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${JC.websocket}`,this.httpEndpoint=xQ(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=N_e.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:P_e}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case A1.connecting:return sp.Connecting;case A1.open:return sp.Open;case A1.closing:return sp.Closing;default:return sp.Closed}}isConnected(){return this.connectionState()===sp.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new H3(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(T_e,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},h2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ml.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([B_e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:j_e};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ml.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new yQ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},h2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,o,l,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:QC,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:h2.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Cj,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>$_e[h-1]||F_e,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class G3 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ji(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class V_e extends G3{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ek extends G3{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var z_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const wQ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ou(async()=>{const{default:n}=await Promise.resolve().then(()=>$y);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},q_e=()=>z_e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ou(()=>Promise.resolve().then(()=>$y),void 0)).Response:Response}),tk=t=>{if(Array.isArray(t))return t.map(r=>tk(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=tk(n)}),e},W_e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var wm=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const kj=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H_e=(t,e,r)=>wm(void 0,void 0,void 0,function*(){const n=yield q_e();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new V_e(kj(i),a,s))}).catch(i=>{e(new ek(kj(i),i))}):e(new ek(kj(t),t))}),G_e=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(W_e(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Kx(t,e,r,n,i,a){return wm(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,G_e(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>H_e(l,o,n))})})}function OS(t,e,r,n){return wm(this,void 0,void 0,function*(){return Kx(t,"GET",e,r,n)})}function ic(t,e,r,n,i){return wm(this,void 0,void 0,function*(){return Kx(t,"POST",e,n,i,r)})}function rk(t,e,r,n,i){return wm(this,void 0,void 0,function*(){return Kx(t,"PUT",e,n,i,r)})}function K_e(t,e,r,n){return wm(this,void 0,void 0,function*(){return Kx(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function _Q(t,e,r,n,i){return wm(this,void 0,void 0,function*(){return Kx(t,"DELETE",e,n,i,r)})}var Y_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class X_e{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Y_e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ji(e))return{data:null,error:e};throw e}})}}var Q_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class J_e{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new X_e(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return Q_e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ji(e))return{data:null,error:e};throw e}})}}var ys=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Z_e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},l$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eSe{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=wQ(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return ys(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},l$),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?rk:ic)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ji(a))return{data:null,error:a};throw a}})}upload(e,r,n){return ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return ys(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:l$.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield rk(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ji(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return ys(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ic(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new G3("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ji(n))return{data:null,error:n};throw n}})}update(e,r,n){return ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ys(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ji(i))return{data:null,error:i};throw i}})}copy(e,r,n){return ys(this,void 0,void 0,function*(){try{return{data:{path:(yield ic(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ji(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return ys(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ic(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ji(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return ys(this,void 0,void 0,function*(){try{const i=yield ic(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ji(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(e),l=()=>OS(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new J_e(l,this.shouldThrowOnError)}info(e){return ys(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield OS(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tk(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ji(n))return{data:null,error:n};throw n}})}exists(e){return ys(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield K_e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ji(n)&&n instanceof ek){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return ys(this,void 0,void 0,function*(){try{return{data:yield _Q(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ji(r))return{data:null,error:r};throw r}})}list(e,r,n){return ys(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Z_e),r),{prefix:e||""});return{data:yield ic(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ji(i))return{data:null,error:i};throw i}})}listV2(e,r){return ys(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ic(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ji(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const tSe="2.12.2",rSe={"X-Client-Info":`storage-js/${tSe}`};var Wm=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class nSe{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},rSe),r),this.fetch=wQ(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Wm(this,void 0,void 0,function*(){try{return{data:yield OS(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ji(e))return{data:null,error:e};throw e}})}getBucket(e){return Wm(this,void 0,void 0,function*(){try{return{data:yield OS(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ji(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Wm(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ji(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Wm(this,void 0,void 0,function*(){try{return{data:yield rk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ji(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Wm(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ji(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Wm(this,void 0,void 0,function*(){try{return{data:yield _Q(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ji(r))return{data:null,error:r};throw r}})}}class iSe extends nSe{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new eSe(this.url,this.headers,e,this.fetch)}}const aSe="2.58.0";let a1="";typeof Deno<"u"?a1="deno":typeof document<"u"?a1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?a1="react-native":a1="node";const sSe={"X-Client-Info":`supabase-js-${a1}/${aSe}`},oSe={headers:sSe},lSe={schema:"public"},cSe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uSe={};var dSe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const hSe=t=>{let e;return t?e=t:typeof fetch>"u"?e=oQ:e=fetch,(...r)=>e(...r)},fSe=()=>typeof Headers>"u"?lQ:Headers,pSe=(t,e,r)=>{const n=hSe(r),i=fSe();return(a,s)=>dSe(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var mSe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function gSe(t){return t.endsWith("/")?t:t+"/"}function vSe(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>mSe(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function ySe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gSe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const SQ="2.72.0",og=30*1e3,nk=3,Ij=nk*og,bSe="http://localhost:9999",xSe="supabase.auth.token",wSe={"X-Client-Info":`gotrue-js/${SQ}`},ik="X-Supabase-Api-Version",AQ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_Se=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SSe=10*60*1e3;class K3 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function cr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ASe extends K3{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function NSe(t){return cr(t)&&t.name==="AuthApiError"}class NQ extends K3{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Sf extends K3{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Vd extends Sf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ESe(t){return cr(t)&&t.name==="AuthSessionMissingError"}class I0 extends Sf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class f2 extends Sf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class p2 extends Sf{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jSe(t){return cr(t)&&t.name==="AuthImplicitGrantRedirectError"}class c$ extends Sf{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ak extends Sf{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Oj(t){return cr(t)&&t.name==="AuthRetryableFetchError"}class u$ extends Sf{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sk extends Sf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const RS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),d$=` 	
\r=`.split(""),PSe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<d$.length;e+=1)t[d$[e].charCodeAt(0)]=-2;for(let e=0;e<RS.length;e+=1)t[RS[e].charCodeAt(0)]=e;return t})();function h$(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(RS[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(RS[n]),e.queuedBits-=6}}function EQ(t,e,r){const n=PSe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function f$(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{kSe(s,n,r)};for(let s=0;s<t.length;s+=1)EQ(t.charCodeAt(s),i,a);return e.join("")}function TSe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function CSe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}TSe(n,e)}}function kSe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ISe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)EQ(t.charCodeAt(i),r,n);return new Uint8Array(e)}function OSe(t){const e=[];return CSe(t,r=>e.push(r)),new Uint8Array(e)}function RSe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>h$(i,r,n)),h$(null,r,n),e.join("")}function DSe(t){return Math.round(Date.now()/1e3)+t}function LSe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Io=()=>typeof window<"u"&&typeof document<"u",qf={tested:!1,writable:!1},jQ=()=>{if(!Io())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qf.tested)return qf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qf.tested=!0,qf.writable=!0}catch{qf.tested=!0,qf.writable=!1}return qf.writable};function MSe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const PQ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ou(async()=>{const{default:n}=await Promise.resolve().then(()=>$y);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},$Se=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",lg=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Wf=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Md=async(t,e)=>{await t.removeItem(e)};class rN{constructor(){this.promise=new rN.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}rN.promiseConstructor=Promise;function Rj(t){const e=t.split(".");if(e.length!==3)throw new sk("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!_Se.test(e[n]))throw new sk("JWT not in base64url format");return{header:JSON.parse(f$(e[0])),payload:JSON.parse(f$(e[1])),signature:ISe(e[2]),raw:{header:e[0],payload:e[1]}}}async function FSe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function BSe(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function USe(t){return("0"+t.toString(16)).substr(-2)}function VSe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,USe).join("")}async function zSe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function qSe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await zSe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hm(t,e,r=!1){const n=VSe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await lg(t,`${e}-code-verifier`,i);const a=await qSe(n);return[a,n===a?"plain":"s256"]}const WSe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HSe(t){const e=t.headers.get(ik);if(!e||!e.match(WSe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function GSe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function KSe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YSe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gm(t){if(!YSe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dj(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function p$(t){return JSON.parse(JSON.stringify(t))}var XSe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const ep=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QSe=[502,503,504];async function m$(t){var e;if(!$Se(t))throw new ak(ep(t),0);if(QSe.includes(t.status))throw new ak(ep(t),t.status);let r;try{r=await t.json()}catch(a){throw new NQ(ep(a),a)}let n;const i=HSe(t);if(i&&i.getTime()>=AQ["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new u$(ep(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Vd}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new u$(ep(r),t.status,r.weak_password.reasons);throw new ASe(ep(r),t.status||500,n)}const JSe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function br(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[ik]||(a[ik]=AQ["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await ZSe(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function ZSe(t,e,r,n,i,a){const s=JSe(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new ak(ep(l),0)}if(o.ok||await m$(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await m$(l)}}function tc(t){var e;let r=null;n5e(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=DSe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function g$(t){const e=tc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zd(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function e5e(t){return{data:t,error:null}}function t5e(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=XSe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function r5e(t){return t}function n5e(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lj=["global","local","others"];var i5e=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class a5e{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=PQ(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Lj[0]){if(Lj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lj.join(", ")}`);try{return await br(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await br(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zd})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=i5e(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await br(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:t5e,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(cr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await br(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zd})}catch(r){if(cr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await br(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:r5e});if(d.error)throw d.error;const h=await d.json(),p=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(cr(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Gm(e);try{return await br(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zd})}catch(r){if(cr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Gm(e);try{return await br(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Zd})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Gm(e);try{return await br(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zd})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Gm(e.userId);try{const{data:r,error:n}=await br(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(cr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Gm(e.userId),Gm(e.id);try{return{data:await br(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}}}function v$(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function s5e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Km={debug:!!(globalThis&&jQ()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TQ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class o5e extends TQ{}async function l5e(t,e,r){Km.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Km.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Km.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Km.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Km.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new o5e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Km.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function CQ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function c5e(t){return parseInt(t,16)}function u5e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function d5e(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=CQ(t.address),v=d?`${d}://${n}`:n,m=t.statement?`${t.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${f}

${m}`;let y=`URI: ${h}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}y+=x}return`${g}
${y}`}s5e();const h5e={url:bSe,storageKey:xSe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wSe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function y$(t,e,r){return await r()}const Ym={};class Nb{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nb.nextInstanceID,Nb.nextInstanceID+=1,this.instanceID>0&&Io()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},h5e),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new a5e({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=PQ(i.fetch),this.lock=i.lock||y$,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Io()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=l5e:this.lock=y$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:jQ()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=v$(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=v$(this.memoryStorage)),Io()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Ym[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ym[this.storageKey]=Object.assign(Object.assign({},Ym[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ym[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ym[this.storageKey]=Object.assign(Object.assign({},Ym[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${SQ}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=MSe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Io()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),jSe(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return cr(r)?{error:r}:{error:new NQ("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:tc}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(cr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:h,options:p}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Hm(this.storage,this.storageKey)),a=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:tc})}else if("phone"in e){const{phone:d,password:h,options:p}=e;a=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:tc})}else throw new f2("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(cr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:g$})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:g$})}else throw new f2("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new I0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(cr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,o,l,u,d,h,p;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:m,wallet:g,statement:y,options:x}=e;let _;if(Io())if(typeof g=="object")_=g;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")_=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),N=await _.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=CQ(N[0]);let j=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const I=await _.request({method:"eth_chainId"});j=c5e(I)}const E={domain:S.host,address:C,statement:y,uri:S.href,version:"1",chainId:j,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=d5e(E),v=await _.request({method:"personal_sign",params:[u5e(f),C]})}try{const{data:m,error:g}=await br(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:tc});if(g)throw g;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new I0}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:g})}catch(m){if(cr(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var r,n,i,a,s,o,l,u,d,h,p,f;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:g,wallet:y,statement:x,options:_}=e;let S;if(Io())if(typeof y=="object")S=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const N=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),m=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:g,error:y}=await br(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:RSe(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:tc});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new I0}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(cr(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const r=await Wf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await br(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:tc});if(await Md(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new I0}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(cr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await br(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tc}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new I0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(cr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hm(this.storage,this.storageKey));const{error:h}=await br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new f2("You must provide either an email or phone number.")}catch(o){if(cr(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await br(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:tc});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(cr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Hm(this.storage,this.storageKey)),await br(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:e5e})}catch(a){if(cr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Vd;const{error:i}=await br(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(cr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await br(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await br(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new f2("You must provide either an email or phone number and a type")}catch(r){if(cr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Wf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ij:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Wf(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Dj()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zd}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vd}:await br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Zd})})}catch(r){if(cr(r))return ESe(r)&&(await this._removeSession(),await Md(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Vd;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Hm(this.storage,this.storageKey));const{data:u,error:d}=await br(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Zd});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vd;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Rj(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(cr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Vd;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(cr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Io())throw new p2("No browser detected.");if(e.error||e.error_description||e.error_code)throw new p2(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new c$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new p2("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new c$("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!s||!u)throw new p2("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let p=d+h;l&&(p=parseInt(l));const f=p-d;f*1e3<=og&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:p,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(cr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Wf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(NSe(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Md(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=LSe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Hm(this.storage,this.storageKey,!0));try{return await br(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(cr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:h,error:p}=a;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await br(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Io()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(cr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await br(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(cr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await BSe(async i=>(i>0&&await FSe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await br(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tc})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Oj(a)&&Date.now()+s-n<og})}catch(n){if(this._debug(r,"error",n),cr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Io()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Wf(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Wf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await lg(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Dj()}else if(i&&!i.user&&!i.user){const s=await Wf(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Md(this.storage,this.storageKey+"-user"),await lg(this.storage,this.storageKey,i)):i.user=Dj()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ij;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ij}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Oj(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Vd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rN;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Vd;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),cr(a)){const s={session:null,error:a};return Oj(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await lg(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=p$(i);await lg(this.storage,this.storageKey,a)}else{const i=p$(r);await lg(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Md(this.storage,this.storageKey),await Md(this.storage,this.storageKey+"-code-verifier"),await Md(this.storage,this.storageKey+"-user"),this.userStorage&&await Md(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Io()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),og);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/og);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${og}ms, refresh threshold is ${nk} ticks`),i<=nk&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof TQ)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Io()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Hm(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await br(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(cr(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await br(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(cr(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await br(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(cr(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await br(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(cr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Rj(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+SSe>i)return n;const{data:a,error:s}=await br(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};n=f.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Rj(n);r!=null&&r.allowExpired||GSe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:i,signature:s},error:null}}const d=KSe(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,s,OSe(`${o}.${l}`)))throw new sk("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}}}Nb.nextInstanceID=0;const f5e=Nb;class p5e extends f5e{constructor(e){super(e)}}var m5e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class g5e{constructor(e,r,n){var i,a,s;this.supabaseUrl=e,this.supabaseKey=r;const o=ySe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:lSe,realtime:uSe,auth:Object.assign(Object.assign({},cSe),{storageKey:l}),global:oSe},d=vSe(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=pSe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new A_e(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new iSe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new r_e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return m5e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p5e({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new U_e(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const v5e=(t,e,r)=>new g5e(t,e,r);function y5e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}y5e()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const b5e="https://jfesttwhhxkdhdukragt.supabase.co",x5e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmZXN0dHdoaHhrZGhkdWtyYWd0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2OTUwNTIsImV4cCI6MjA3NTI3MTA1Mn0.gMf-lnIAOFF1EOK_tCLlF7_kFsNpakdQGuxuOBPIkgU",j1=v5e(b5e,x5e,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),kQ=async()=>{try{const{data:{user:t}}=await j1.auth.getUser();if(!t){console.error("Usuário não autenticado");return}console.log("Gerando funcionários para o usuário:",t.id);const e=[{name:"João Silva",cpf:"123.456.789-00",email:"joao.silva@exemplo.com",phone:"(11) 99999-1111",birth_date:"1990-05-15",pay_day:5,salary:3500,status:"active"},{name:"Maria Santos",cpf:"987.654.321-00",email:"maria.santos@exemplo.com",phone:"(11) 99999-2222",birth_date:"1988-12-03",pay_day:10,salary:4200,status:"active"},{name:"Pedro Costa",cpf:"456.789.123-00",email:"pedro.costa@exemplo.com",phone:"(11) 99999-3333",birth_date:"1992-08-20",pay_day:15,salary:2800,status:"active"},{name:"Ana Oliveira",cpf:"789.123.456-00",email:"ana.oliveira@exemplo.com",phone:"(11) 99999-4444",birth_date:"1995-03-12",pay_day:20,salary:3100,status:"active"},{name:"Carlos Ferreira",cpf:"321.654.987-00",email:"carlos.ferreira@exemplo.com",phone:"(11) 99999-5555",birth_date:"1987-11-25",pay_day:25,salary:3800,status:"active"}],{data:r,error:n}=await j1.from("employees").insert(e.map(i=>({...i,user_id:t.id}))).select();if(n){console.error("Erro ao inserir funcionários:",n);return}return console.log("✅ Funcionários criados com sucesso:",r),await w5e(t.id,r),r}catch(t){console.error("Erro ao gerar dados de teste:",t)}},w5e=async(t,e)=>{try{const{data:r}=await j1.from("platforms").select("*").eq("user_id",t);if(!r||r.length===0){const s=[{name:"Bet365",color:"#00AB4E"},{name:"Betano",color:"#1E90FF"},{name:"BetVip",color:"#FF5C00"},{name:"Sportingbet",color:"#8B5CF6"}],{data:o}=await j1.from("platforms").insert(s.map(l=>({...l,user_id:t}))).select();o&&r.push(...o)}const n=[],i=new Date;for(let s=0;s<30;s++){const o=new Date(i);o.setDate(o.getDate()-s);const l=Math.floor(Math.random()*4)+2;for(let u=0;u<l;u++){const d=e[Math.floor(Math.random()*e.length)],h=r[Math.floor(Math.random()*r.length)],p=Math.random()>.4?"deposit":"withdraw",f=Math.floor(Math.random()*5e3)+100;n.push({user_id:t,employee_id:d.id,platform_id:h.id,type:p,amount:f,description:`${p==="deposit"?"Depósito":"Saque"} - ${h.name}`,transaction_date:o.toISOString().split("T")[0]})}}const{error:a}=await j1.from("transactions").insert(n);if(a){console.error("Erro ao inserir transações:",a);return}console.log(`✅ ${n.length} transações criadas com sucesso`)}catch(r){console.error("Erro ao gerar transações de teste:",r)}};window.generateTestData=kQ;const b$=()=>{const{user:t}=Hr(),e=dX();nd((t==null?void 0:t.uid)||"");const{canAddMoreEmployees:r}=xf(),[n,i]=P.useState(!1),[a,s]=P.useState({name:"",cpf:"",email:"",phone:"",birthDate:"",salary:0}),[o,l]=P.useState({}),u=()=>{const v={};return a.name.trim()||(v.name="Nome é obrigatório"),a.cpf.trim()&&!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(a.cpf)&&(v.cpf="CPF deve estar no formato 000.000.000-00"),a.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(v.email="E-mail inválido"),a.phone.trim()&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(a.phone)&&(v.phone="Telefone deve estar no formato (00) 00000-0000"),l(v),Object.keys(v).length===0},d=v=>v.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),h=v=>{const m=v.replace(/\D/g,"");return m.length<=10?m.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):m.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},p=(v,m)=>{let g=m;v==="cpf"?g=d(m):v==="phone"&&(g=h(m)),s(y=>({...y,[v]:g})),o[v]&&l(y=>({...y,[v]:void 0}))},f=async v=>{if(v.preventDefault(),!(t!=null&&t.uid)){We.error("Usuário não autenticado");return}if(!r()){We.error("Você atingiu o limite de funcionários do seu plano. Faça upgrade para adicionar mais funcionários.");return}if(!u()){We.error("Por favor, corrija os erros no formulário");return}try{const m={userId:t.uid,name:a.name.trim(),cpf:a.cpf.trim()||"",email:a.email.trim()||"",phone:a.phone.trim()||"",birthDate:a.birthDate||"",salary:a.salary||0,status:"active"};console.log("Criando funcionário com dados:",m),await e.mutateAsync(m),We.success("Funcionário cadastrado com sucesso!"),i(!1),s({name:"",cpf:"",email:"",phone:"",birthDate:"",salary:0})}catch(m){console.error("Erro ao cadastrar funcionário:",m),We.error("Erro ao cadastrar funcionário. Tente novamente.")}};return c.jsxs(Rs,{open:n,onOpenChange:i,children:[c.jsx(Xg,{asChild:!0,children:c.jsxs(qe,{className:"gap-2",children:[c.jsx(J_,{className:"h-4 w-4"}),"Cadastrar Funcionário"]})}),c.jsxs(ls,{className:"sm:max-w-[500px]",children:[c.jsxs(cs,{children:[c.jsx(us,{children:"Cadastrar Novo Funcionário"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Preencha as informações do funcionário. Apenas o nome é obrigatório."})]}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"name",children:"Nome Completo *"}),c.jsx(Bt,{id:"name",value:a.name,onChange:v=>p("name",v.target.value),placeholder:"Digite o nome completo",className:o.name?"border-destructive":""}),o.name&&c.jsx("p",{className:"text-sm text-destructive",children:o.name})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"cpf",children:"CPF"}),c.jsx(Bt,{id:"cpf",value:a.cpf,onChange:v=>p("cpf",v.target.value),placeholder:"000.000.000-00 (opcional)",maxLength:14,className:o.cpf?"border-destructive":""}),o.cpf&&c.jsx("p",{className:"text-sm text-destructive",children:o.cpf})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"email",children:"E-mail"}),c.jsx(Bt,{id:"email",type:"email",value:a.email,onChange:v=>p("email",v.target.value),placeholder:"exemplo@email.com (opcional)",className:o.email?"border-destructive":""}),o.email&&c.jsx("p",{className:"text-sm text-destructive",children:o.email})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"phone",children:"Telefone"}),c.jsx(Bt,{id:"phone",value:a.phone,onChange:v=>p("phone",v.target.value),placeholder:"(00) 00000-0000 (opcional)",maxLength:15,className:o.phone?"border-destructive":""}),o.phone&&c.jsx("p",{className:"text-sm text-destructive",children:o.phone})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"birthDate",children:"Data de Nascimento"}),c.jsx(Bt,{id:"birthDate",type:"date",value:a.birthDate,onChange:v=>p("birthDate",v.target.value),className:o.birthDate?"border-destructive":""}),o.birthDate&&c.jsx("p",{className:"text-sm text-destructive",children:o.birthDate})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"salary",children:"Salário (R$)"}),c.jsx(Bt,{id:"salary",type:"number",value:a.salary,onChange:v=>p("salary",v.target.value),placeholder:"0",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),c.jsx(qe,{type:"submit",disabled:e.isPending,children:e.isPending?c.jsxs(c.Fragment,{children:[c.jsx(kp,{className:"h-4 w-4 mr-2 animate-spin"}),"Cadastrando..."]}):"Cadastrar"})]})]})]})]})},_5e=jx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),P1=P.forwardRef(({className:t,variant:e,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:_t(_5e({variant:e}),t),...r}));P1.displayName="Alert";const S5e=P.forwardRef(({className:t,...e},r)=>c.jsx("h5",{ref:r,className:_t("mb-1 font-medium leading-none tracking-tight",t),...e}));S5e.displayName="AlertTitle";const T1=P.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:_t("text-sm [&_p]:leading-relaxed",t),...e}));T1.displayName="AlertDescription";const A5e=({currentCount:t,showUpgrade:e=!0})=>{const r=Gi(),{getEmployeeLimitForPlan:n,currentPlan:i,planInfo:a}=xf(),s=n(),o=t>=s,l=s-t;return!o&&l>1?null:c.jsxs(P1,{variant:o?"destructive":"default",className:"mb-4",children:[c.jsx(Koe,{className:"h-4 w-4"}),c.jsxs(T1,{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("div",{children:o?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-semibold",children:"Limite de funcionários atingido!"}),c.jsxs("p",{className:"text-sm",children:["Você atingiu o limite de ",s," funcionário",s>1?"s":""," do plano"," ",c.jsx(sr,{variant:"outline",className:"capitalize ml-1",children:i})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-semibold",children:"Limite de funcionários quase atingido"}),c.jsxs("p",{className:"text-sm",children:["Você pode adicionar apenas mais ",l," funcionário",l>1?"s":""]})]})})}),e&&c.jsxs(qe,{size:"sm",onClick:()=>r("/planos"),className:"flex items-center gap-2",variant:o?"default":"outline",children:[c.jsx(Ev,{className:"h-4 w-4"}),o?"Fazer Upgrade":"Ver Planos"]})]})]})},N5e=()=>{const t=Gi(),e=Hi(),{user:r}=Hr();xf();const[n,i]=P.useState(""),[a,s]=P.useState(!1),[o,l]=P.useState([]),[u,d]=P.useState("idle"),[h,p]=P.useState({success:0,errors:0,details:[]}),f=P.useRef(null),[v,m]=P.useState(!1),g=async()=>{m(!0);try{await kQ(),e.invalidateQueries({queryKey:["employees"]}),e.invalidateQueries({queryKey:["platforms"]}),e.invalidateQueries({queryKey:["transactions"]}),We.success("Dados de teste gerados com sucesso!")}catch(Y){We.error("Erro ao gerar dados de teste"),console.error(Y)}finally{m(!1)}},{data:y=[],isLoading:x}=nd((r==null?void 0:r.uid)||""),_=dX(),S=Y=>{const K=new FileReader;K.onload=q=>{var V;const ve=((V=q.target)==null?void 0:V.result).split(`
`),ce=ve[0].split(",").map(G=>G.trim().toLowerCase()),F=ve.slice(1).map(G=>{const oe=G.split(",").map(ie=>ie.trim()),J={};return ce.forEach((ie,be)=>{const he=oe[be]||"";switch(ie){case"nome":case"name":J.name=he;break;case"cpf":J.cpf=he;break;case"email":case"e-mail":J.email=he;break;case"telefone":case"phone":J.phone=he;break;case"data_nascimento":case"birth_date":case"nascimento":J.birthDate=he;break;case"salario":case"salary":J.salary=parseFloat(he)||0;break;case"dia_pagamento":case"pay_day":case"pagamento":J.payDay=parseInt(he)||1;break;case"status":J.status=he.toLowerCase()==="ativo"||he.toLowerCase()==="active"?"active":"inactive";break}}),J}).filter(G=>G.name);l(F),d("idle")},K.readAsText(Y)},N=Y=>{We.error("Importação de Excel ainda não implementada. Use arquivo CSV.")},C=Y=>{var Z,ve;const K=(Z=Y.target.files)==null?void 0:Z[0];if(!K)return;const q=(ve=K.name.split(".").pop())==null?void 0:ve.toLowerCase();if(q==="csv")S(K);else if(q==="xlsx"||q==="xls")N();else{We.error("Formato de arquivo não suportado. Use CSV ou Excel.");return}},j=async()=>{if(!(r!=null&&r.uid)||o.length===0)return;d("processing");const Y={success:0,errors:0,details:[]};for(const K of o)try{await _.mutateAsync({userId:r.uid,name:K.name,cpf:K.cpf||"",email:K.email||"",phone:K.phone||"",birthDate:K.birthDate||"",salary:K.salary||0,payDay:K.payDay||1,status:K.status||"active"}),Y.success++,Y.details.push(`✅ ${K.name} - Criado com sucesso`)}catch(q){Y.errors++,Y.details.push(`❌ ${K.name} - Erro: ${q}`)}p(Y),d(Y.errors===0?"success":"error"),Y.success>0&&We.success(`${Y.success} funcionário(s) importado(s) com sucesso!`),Y.errors>0&&We.error(`${Y.errors} funcionário(s) falharam na importação.`)},E=()=>{l([]),d("idle"),p({success:0,errors:0,details:[]}),f.current&&(f.current.value="")},I=new Date().toISOString().split("T")[0],{data:D=[]}=co((r==null?void 0:r.uid)||"",I,I),k=y.filter(Y=>(Y.name||"").toLowerCase().includes(n.toLowerCase())||(Y.cpf||"").includes(n)||Y.email&&Y.email.toLowerCase().includes(n.toLowerCase())),O=D.filter(Y=>Y.type==="deposit").reduce((Y,K)=>Y+(K.amount||0),0),L=D.filter(Y=>Y.type==="withdraw").reduce((Y,K)=>Y+(K.amount||0),0),z=L-O,re=Y=>{const K=D.filter(ve=>ve.employeeId===Y.id),q=K.filter(ve=>ve.type==="deposit").reduce((ve,ce)=>ve+Number(ce.amount),0);return K.filter(ve=>ve.type==="withdraw").reduce((ve,ce)=>ve+Number(ce.amount),0)-q};return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Gestão de Funcionários"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua equipe e transações"})]}),c.jsxs("div",{className:"flex gap-2",children:[y.length===0&&c.jsxs(qe,{variant:"outline",className:"gap-2",onClick:g,disabled:v,children:[c.jsx(Goe,{className:"h-4 w-4"}),v?"Gerando...":"Dados de Teste"]}),c.jsx(b$,{})]})]}),c.jsx(A5e,{currentCount:y.length}),c.jsx(Ye,{className:"p-4 shadow-card",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(cA,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Bt,{placeholder:"Buscar por nome, CPF ou email...",value:n,onChange:Y=>i(Y.target.value),className:"pl-10"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(Rs,{open:a,onOpenChange:s,children:[c.jsx(Xg,{asChild:!0,children:c.jsxs(qe,{variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[c.jsx(tj,{className:"h-4 w-4"}),"Importar CSV/Excel"]})}),c.jsxs(ls,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[c.jsx(cs,{children:c.jsxs(us,{className:"flex items-center gap-2",children:[c.jsx(oA,{className:"h-5 w-5"}),"Importar Funcionários"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[c.jsx("input",{ref:f,type:"file",accept:".csv,.xlsx,.xls",onChange:C,className:"hidden"}),c.jsx(tj,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Selecione um arquivo CSV ou Excel"}),c.jsxs(qe,{variant:"outline",onClick:()=>{var Y;return(Y=f.current)==null?void 0:Y.click()},className:"gap-2",children:[c.jsx(tj,{className:"h-4 w-4"}),"Escolher Arquivo"]})]}),c.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Formato esperado do CSV:"}),c.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Colunas suportadas:"})," nome, cpf, email, telefone, data_nascimento, salario, dia_pagamento, status"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Obrigatório:"})," nome"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Opcional:"})," todos os outros campos"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"}),' "ativo" ou "inativo" (padrão: ativo)']})]})]}),o.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h4",{className:"font-semibold",children:["Preview (",o.length," funcionário(s) encontrado(s))"]}),c.jsx(qe,{variant:"outline",size:"sm",onClick:E,children:"Limpar"})]}),c.jsxs("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:[c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-muted/50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 text-left",children:"Nome"}),c.jsx("th",{className:"p-2 text-left",children:"CPF"}),c.jsx("th",{className:"p-2 text-left",children:"Email"}),c.jsx("th",{className:"p-2 text-left",children:"Status"})]})}),c.jsx("tbody",{children:o.slice(0,10).map((Y,K)=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"p-2",children:Y.name}),c.jsx("td",{className:"p-2",children:Y.cpf||"-"}),c.jsx("td",{className:"p-2",children:Y.email||"-"}),c.jsx("td",{className:"p-2",children:c.jsx(sr,{variant:Y.status==="active"?"default":"secondary",children:Y.status==="active"?"Ativo":"Inativo"})})]},K))})]}),o.length>10&&c.jsxs("div",{className:"p-2 text-center text-sm text-muted-foreground",children:["... e mais ",o.length-10," funcionário(s)"]})]}),c.jsx(qe,{onClick:j,disabled:u==="processing",className:"w-full gap-2",children:u==="processing"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Importando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(jh,{className:"h-4 w-4"}),"Importar ",o.length," Funcionário(s)"]})})]}),u!=="idle"&&h.details.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u==="success"?c.jsx(jh,{className:"h-5 w-5 text-green-500"}):u==="error"?c.jsx(tW,{className:"h-5 w-5 text-red-500"}):c.jsx(VT,{className:"h-5 w-5 text-yellow-500"}),c.jsx("h4",{className:"font-semibold",children:"Resultado da Importação"})]}),c.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex gap-4 mb-3",children:[c.jsxs("div",{className:"text-green-600",children:[c.jsx("strong",{children:h.success})," sucesso(s)"]}),c.jsxs("div",{className:"text-red-600",children:[c.jsx("strong",{children:h.errors})," erro(s)"]})]}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:h.details.map((Y,K)=>c.jsx("div",{className:"text-sm",children:Y},K))})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(qe,{variant:"outline",onClick:E,className:"flex-1",children:"Nova Importação"}),c.jsx(qe,{onClick:()=>s(!1),className:"flex-1",children:"Fechar"})]})]})]})]})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx(Ye,{className:"p-6 shadow-card card-hover hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Funcionários"}),c.jsx("p",{className:"text-3xl font-bold",children:y.length})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(rs,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Ye,{className:"p-6 shadow-card card-hover cursor-pointer hover:shadow-glow transition-all duration-300",onClick:()=>t("/relatorios"),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-white mb-2",children:"Total de Depósitos do Dia"}),c.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["R$ ",O.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(Zq,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Ye,{className:"p-6 shadow-card card-hover cursor-pointer hover:shadow-glow transition-all duration-300",onClick:()=>t("/relatorios"),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques do Dia"}),c.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["R$ ",L.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(Jq,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Ye,{className:"p-6 shadow-card card-hover cursor-pointer hover:shadow-glow transition-all duration-300",onClick:()=>t("/relatorios"),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Lucro do Dia"}),c.jsxs("p",{className:`text-3xl font-bold ${z>=0?"text-success":"text-destructive"}`,children:[z>=0?"+":"","R$ ",z.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:z>=0?c.jsx(ri,{className:"h-6 w-6 text-primary-foreground"}):c.jsx(Wh,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),x?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):k.length===0?c.jsxs(Ye,{className:"p-12 text-center shadow-card",children:[c.jsx(rs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-lg font-semibold mb-2",children:"Nenhum funcionário encontrado"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:n?"Tente buscar com outros termos":"Comece cadastrando seu primeiro funcionário"}),!n&&c.jsx(b$,{})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(Y=>{const K=re(Y),q=K>=0;return c.jsx(Ye,{className:`p-6 shadow-card card-hover cursor-pointer group transition-all duration-300 ${Y.status==="inactive"?"opacity-60 grayscale-[0.3] border-dashed border-2 border-muted-foreground/30":""}`,onClick:()=>t(`/gestao-funcionarios/${Y.id}`),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:`text-xl font-bold mb-1 group-hover:text-primary transition-colors ${Y.status==="inactive"?"text-muted-foreground line-through":""}`,children:Y.name}),c.jsx("p",{className:`text-sm ${Y.status==="inactive"?"text-muted-foreground/70":"text-muted-foreground"}`,children:Y.cpf})]}),c.jsx(sr,{variant:Y.status==="active"?"default":"secondary",className:Y.status==="inactive"?"bg-red-500 hover:bg-red-600 text-white":"",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${Y.status==="active","bg-white"}`}),Y.status==="active"?"Ativo":"Inativo"]})})]}),c.jsx("div",{className:"pt-4",children:c.jsx("div",{className:`p-4 rounded-xl border-2 ${Y.status==="inactive"?"bg-muted/20 border-muted/30":q?"bg-success/10 border-success/20":"bg-destructive/10 border-destructive/20"}`,children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Lucro do Dia"}),c.jsx("div",{className:"flex items-center gap-2",children:Y.status==="inactive"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-5 w-5 rounded-full bg-muted-foreground/50 flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),c.jsx("span",{className:"text-2xl font-bold text-muted-foreground",children:"R$ 0"})]}):q?c.jsxs(c.Fragment,{children:[c.jsx(ri,{className:"h-5 w-5 text-success"}),c.jsxs("span",{className:"text-2xl font-bold text-success",children:["+R$ ",Math.abs(K).toLocaleString("pt-BR")]})]}):c.jsxs(c.Fragment,{children:[c.jsx(Wh,{className:"h-5 w-5 text-destructive"}),c.jsxs("span",{className:"text-2xl font-bold text-destructive",children:["-R$ ",Math.abs(K).toLocaleString("pt-BR")]})]})})]})})})}),c.jsx("div",{className:"flex items-center justify-end pt-2",children:c.jsxs(qe,{variant:"ghost",size:"sm",className:`gap-2 transition-all ${Y.status==="inactive"?"text-muted-foreground/70 hover:text-muted-foreground":"group-hover:gap-3"}`,children:["Ver Detalhes",c.jsx(JI,{className:"h-4 w-4"})]})})]})},Y.id)})})]})})},E5e=()=>{const{user:t}=Hr(),{data:e=[]}=nd((t==null?void 0:t.uid)||""),r=hX(),[n,i]=P.useState({}),[a,s]=P.useState({}),[o,l]=P.useState({}),[u,d]=P.useState({}),h=P.useRef({}),[p,f]=P.useState("name"),[v,m]=P.useState("asc");P.useEffect(()=>{const O={};e.forEach(L=>{O[L.id]=L.salary||0}),i(O)},[e]),P.useEffect(()=>()=>{Object.values(h.current).forEach(O=>{O&&clearTimeout(O)})},[]);const x=[...e].sort((O,L)=>{let z,re;switch(p){case"name":z=O.name.toLowerCase(),re=L.name.toLowerCase();break;case"salary":z=n[O.id]||O.salary||0,re=n[L.id]||L.salary||0;break;case"payDay":z=O.payDay||1,re=L.payDay||1;break;default:return 0}return z<re?v==="asc"?-1:1:z>re?v==="asc"?1:-1:0}).map(O=>({id:O.id,employeeId:O.id,employeeName:O.name,amount:n[O.id]||O.salary||0,status:Math.random()>.5?"paid":"pending",dueDate:new Date().toISOString(),paidDate:Math.random()>.5?new Date().toISOString():void 0})),_=async(O,L)=>{if(t!=null&&t.uid){l(z=>({...z,[O]:!0}));try{await r.mutateAsync({userId:t.uid,id:O,data:{salary:L,updatedAt:new Date}}),We.success("Salário atualizado com sucesso!")}catch(z){console.error("Erro ao atualizar salário:",z),We.error("Erro ao atualizar salário. Tente novamente.")}finally{l(z=>({...z,[O]:!1}))}}},S=(O,L)=>{const z=parseFloat(L)||0;i(re=>({...re,[O]:z})),h.current[O]&&clearTimeout(h.current[O]),h.current[O]=setTimeout(()=>{_(O,z)},2e3)},N=O=>{d(L=>({...L,[O]:!0}))},C=O=>{d(L=>({...L,[O]:!1}))},j=O=>{p===O?m(v==="asc"?"desc":"asc"):(f(O),m("asc"))},E=O=>{s(L=>({...L,[O]:L[O]==="paid"?"pending":"paid"})),We.success("Status atualizado!")},I=O=>a[O.id]||O.status,D=x.filter(O=>I(O)==="pending").reduce((O,L)=>O+L.amount,0),k=x.filter(O=>I(O)==="paid").reduce((O,L)=>O+L.amount,0);return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Pagamentos"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie os pagamentos dos funcionários"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total a Pagar"}),c.jsxs("p",{className:"text-3xl font-bold text-warning",children:["R$ ",D.toLocaleString("pt-BR")]})]}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total Pago"}),c.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",k.toLocaleString("pt-BR")]})]}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total Geral"}),c.jsxs("p",{className:"text-3xl font-bold",children:["R$ ",(D+k).toLocaleString("pt-BR")]})]})]}),c.jsx(Ye,{className:"p-4 shadow-card",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Ordenar por:"}),c.jsxs(Zn,{value:p,onValueChange:O=>f(O),children:[c.jsx(Kn,{className:"w-40",children:c.jsx(ei,{})}),c.jsxs(Yn,{children:[c.jsx(Lr,{value:"name",children:"Nome"}),c.jsx(Lr,{value:"salary",children:"Salário"}),c.jsx(Lr,{value:"payDay",children:"Dia do Pagamento"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Ordem:"}),c.jsxs(Zn,{value:v,onValueChange:O=>m(O),children:[c.jsx(Kn,{className:"w-32",children:c.jsx(ei,{})}),c.jsxs(Yn,{children:[c.jsx(Lr,{value:"asc",children:"Crescente"}),c.jsx(Lr,{value:"desc",children:"Decrescente"})]})]})]})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[x.length," funcionário(s) encontrado(s)"]})]})}),c.jsx(Ye,{className:"shadow-card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-muted/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:c.jsxs("button",{onClick:()=>j("name"),className:"flex items-center gap-2 hover:text-primary transition-colors cursor-pointer",children:["Funcionário",p==="name"&&c.jsx("span",{className:"text-primary text-xs",children:v==="asc"?"↑":"↓"})]})}),c.jsx("th",{className:"text-left p-4 font-semibold",children:c.jsxs("button",{onClick:()=>j("salary"),className:"flex items-center gap-2 hover:text-primary transition-colors cursor-pointer",children:["Valor",p==="salary"&&c.jsx("span",{className:"text-primary text-xs",children:v==="asc"?"↑":"↓"})]})}),c.jsx("th",{className:"text-left p-4 font-semibold",children:c.jsxs("button",{onClick:()=>j("payDay"),className:"flex items-center gap-2 hover:text-primary transition-colors cursor-pointer",children:["Vencimento",p==="payDay"&&c.jsx("span",{className:"text-primary text-xs",children:v==="asc"?"↑":"↓"})]})}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Ações"})]})}),c.jsx("tbody",{children:x.map(O=>c.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[c.jsx("td",{className:"p-4 font-medium",children:O.employeeName}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(Bt,{type:"number",value:u[O.employeeId]&&(n[O.employeeId]||0)===0?"":n[O.employeeId]||0,className:"w-32 pr-8",placeholder:"0,00",onChange:L=>S(O.employeeId,L.target.value),onFocus:()=>N(O.employeeId),onBlur:()=>C(O.employeeId)}),o[O.employeeId]&&c.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})})]})}),c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(O.dueDate).toLocaleDateString("pt-BR")}),c.jsx("td",{className:"p-4",children:c.jsx(sr,{variant:I(O)==="paid"?"default":"secondary",children:I(O)==="paid"?"Pago":"Pendente"})}),c.jsx("td",{className:"p-4",children:c.jsx(qe,{size:"sm",variant:I(O)==="paid"?"outline":"default",onClick:()=>E(O.id),children:I(O)==="paid"?"Marcar como Pendente":"Marcar como Pago"})})]},O.id))})]})})}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx(qe,{variant:"outline",children:"Exportar"}),c.jsx(qe,{variant:"success",children:"Processar Pagamentos"})]})]})})};var Yt=function(){return Yt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yt.apply(this,arguments)};function j5e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function IQ(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Yx(t){return t.mode==="multiple"}function Xx(t){return t.mode==="range"}function nN(t){return t.mode==="single"}var P5e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function T5e(t,e){return ma(t,"LLLL y",e)}function C5e(t,e){return ma(t,"d",e)}function k5e(t,e){return ma(t,"LLLL",e)}function I5e(t){return"".concat(t)}function O5e(t,e){return ma(t,"cccccc",e)}function R5e(t,e){return ma(t,"yyyy",e)}var D5e=Object.freeze({__proto__:null,formatCaption:T5e,formatDay:C5e,formatMonthCaption:k5e,formatWeekNumber:I5e,formatWeekdayName:O5e,formatYearCaption:R5e}),L5e=function(t,e,r){return ma(t,"do MMMM (EEEE)",r)},M5e=function(){return"Month: "},$5e=function(){return"Go to next month"},F5e=function(){return"Go to previous month"},B5e=function(t,e){return ma(t,"cccc",e)},U5e=function(t){return"Week n. ".concat(t)},V5e=function(){return"Year: "},z5e=Object.freeze({__proto__:null,labelDay:L5e,labelMonthDropdown:M5e,labelNext:$5e,labelPrevious:F5e,labelWeekNumber:U5e,labelWeekday:B5e,labelYearDropdown:V5e});function q5e(){var t="buttons",e=P5e,r=eQ,n={},i={},a=1,s={},o=new Date;return{captionLayout:t,classNames:e,formatters:D5e,labels:z5e,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:s,today:o,mode:"default"}}function W5e(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,a=t.fromDate,s=t.toDate;return n?a=Ds(n):e&&(a=new Date(e,0,1)),i?s=B3(i):r&&(s=new Date(r,11,31)),{fromDate:a?Bv(a):void 0,toDate:s?Bv(s):void 0}}var OQ=P.createContext(void 0);function H5e(t){var e,r=t.initialProps,n=q5e(),i=W5e(r),a=i.fromDate,s=i.toDate,o=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;o!=="buttons"&&(!a||!s)&&(o="buttons");var l;(nN(r)||Yx(r)||Xx(r))&&(l=r.onSelect);var u=Yt(Yt(Yt({},n),r),{captionLayout:o,classNames:Yt(Yt({},n.classNames),r.classNames),components:Yt({},r.components),formatters:Yt(Yt({},n.formatters),r.formatters),fromDate:a,labels:Yt(Yt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Yt(Yt({},n.modifiers),r.modifiers),modifiersClassNames:Yt(Yt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:Yt(Yt({},n.styles),r.styles),toDate:s});return c.jsx(OQ.Provider,{value:u,children:t.children})}function On(){var t=P.useContext(OQ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function RQ(t){var e=On(),r=e.locale,n=e.classNames,i=e.styles,a=e.formatters.formatCaption;return c.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function G5e(t){return c.jsx("svg",Yt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function DQ(t){var e,r,n=t.onChange,i=t.value,a=t.children,s=t.caption,o=t.className,l=t.style,u=On(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:G5e;return c.jsxs("div",{className:o,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:a}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,c.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function K5e(t){var e,r=On(),n=r.fromDate,i=r.toDate,a=r.styles,s=r.locale,o=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});var h=[];if(zwe(n,i))for(var p=Ds(n),f=n.getMonth();f<=i.getMonth();f++)h.push(jj(p,f));else for(var p=Ds(new Date),f=0;f<=11;f++)h.push(jj(p,f));var v=function(g){var y=Number(g.target.value),x=jj(Ds(t.displayMonth),y);t.onChange(x)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:DQ;return c.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:a.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:s}),children:h.map(function(g){return c.jsx("option",{value:g.getMonth(),children:o(g,{locale:s})},g.getMonth())})})}function Y5e(t){var e,r=t.displayMonth,n=On(),i=n.fromDate,a=n.toDate,s=n.locale,o=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,p=[];if(!i)return c.jsx(c.Fragment,{});if(!a)return c.jsx(c.Fragment,{});for(var f=i.getFullYear(),v=a.getFullYear(),m=f;m<=v;m++)p.push(e$(JX(new Date),m));var g=function(x){var _=e$(Ds(r),Number(x.target.value));t.onChange(_)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:DQ;return c.jsx(y,{name:"years","aria-label":h(),className:l.dropdown_year,style:o.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:s}),children:p.map(function(x){return c.jsx("option",{value:x.getFullYear(),children:d(x,{locale:s})},x.getFullYear())})})}function X5e(t,e){var r=P.useState(t),n=r[0],i=r[1],a=e===void 0?n:e;return[a,i]}function Q5e(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,a=t.toDate,s=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(a&&Ab(a,i)<0){var u=-1*(l-1);i=Ol(a,u)}return s&&Ab(i,s)<0&&(i=s),Ds(i)}function J5e(){var t=On(),e=Q5e(t),r=X5e(e,t.month),n=r[0],i=r[1],a=function(s){var o;if(!t.disableNavigation){var l=Ds(s);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[n,a]}function Z5e(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=Ds(t),a=Ds(Ol(i,n)),s=Ab(a,i),o=[],l=0;l<s;l++){var u=Ol(i,l);o.push(u)}return r&&(o=o.reverse()),o}function eAe(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=n?a:1,o=Ds(t);if(!r)return Ol(o,s);var l=Ab(r,t);if(!(l<a))return Ol(o,s)}}function tAe(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=n?a:1,o=Ds(t);if(!r)return Ol(o,-s);var l=Ab(o,r);if(!(l<=0))return Ol(o,-s)}}var LQ=P.createContext(void 0);function rAe(t){var e=On(),r=J5e(),n=r[0],i=r[1],a=Z5e(n,e),s=eAe(n,e),o=tAe(n,e),l=function(h){return a.some(function(p){return z3(h,p)})},u=function(h,p){l(h)||(p&&aQ(h,p)?i(Ol(h,1+e.numberOfMonths*-1)):i(h))},d={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:l};return c.jsx(LQ.Provider,{value:d,children:t.children})}function Qx(){var t=P.useContext(LQ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function x$(t){var e,r=On(),n=r.classNames,i=r.styles,a=r.components,s=Qx().goToMonth,o=function(d){s(Ol(d,t.displayIndex?-t.displayIndex:0))},l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:RQ,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[c.jsx("div",{className:n.vhidden,children:u}),c.jsx(K5e,{onChange:o,displayMonth:t.displayMonth}),c.jsx(Y5e,{onChange:o,displayMonth:t.displayMonth})]})}function nAe(t){return c.jsx("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function iAe(t){return c.jsx("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var DS=P.forwardRef(function(t,e){var r=On(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var s=a.join(" "),o=Yt(Yt({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),c.jsx("button",Yt({},t,{ref:e,type:"button",className:s,style:o}))});function aAe(t){var e,r,n=On(),i=n.dir,a=n.locale,s=n.classNames,o=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,h=n.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var p=u(t.previousMonth,{locale:a}),f=[s.nav_button,s.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:a}),m=[s.nav_button,s.nav_button_next].join(" "),g=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:iAe,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:nAe;return c.jsxs("div",{className:s.nav,style:o.nav,children:[!t.hidePrevious&&c.jsx(DS,{name:"previous-month","aria-label":p,className:f,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?c.jsx(g,{className:s.nav_icon,style:o.nav_icon}):c.jsx(y,{className:s.nav_icon,style:o.nav_icon})}),!t.hideNext&&c.jsx(DS,{name:"next-month","aria-label":v,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?c.jsx(y,{className:s.nav_icon,style:o.nav_icon}):c.jsx(g,{className:s.nav_icon,style:o.nav_icon})})]})}function w$(t){var e=On().numberOfMonths,r=Qx(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,s=r.displayMonths,o=s.findIndex(function(v){return z3(t.displayMonth,v)}),l=o===0,u=o===s.length-1,d=e>1&&(l||!u),h=e>1&&(u||!l),p=function(){n&&a(n)},f=function(){i&&a(i)};return c.jsx(aAe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:i,previousMonth:n,onPreviousClick:p,onNextClick:f})}function sAe(t){var e,r=On(),n=r.classNames,i=r.disableNavigation,a=r.styles,s=r.captionLayout,o=r.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:RQ,u;return i?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=c.jsx(x$,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(x$,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(w$,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(w$,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:n.caption,style:a.caption,children:u})}function oAe(t){var e=On(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?c.jsx("tfoot",{className:i,style:n.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:r})})}):c.jsx(c.Fragment,{})}function lAe(t,e,r){for(var n=r?im(new Date):Rc(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var s=Ja(n,a);i.push(s)}return i}function cAe(){var t=On(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,s=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=lAe(i,a,s);return c.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&c.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,h){return c.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":l(d,{locale:i}),children:o(d,{locale:i})},h)})]})}function uAe(){var t,e=On(),r=e.classNames,n=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:cAe;return c.jsx("thead",{style:n.head,className:r.head,children:c.jsx(a,{})})}function dAe(t){var e=On(),r=e.locale,n=e.formatters.formatDay;return c.jsx(c.Fragment,{children:n(t.date,{locale:r})})}var Y3=P.createContext(void 0);function hAe(t){if(!Yx(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(Y3.Provider,{value:e,children:t.children})}return c.jsx(fAe,{initialProps:t.initialProps,children:t.children})}function fAe(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,a=e.max,s=function(u,d,h){var p,f;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,h);var v=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var m=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!m){var g=n?IQ([],n):[];if(d.selected){var y=g.findIndex(function(x){return Ps(u,x)});g.splice(y,1)}else g.push(u);(f=e.onSelect)===null||f===void 0||f.call(e,g,u,d,h)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=a&&n.length>a-1,h=n.some(function(p){return Ps(p,u)});return!!(d&&!h)});var l={selected:n,onDayClick:s,modifiers:o};return c.jsx(Y3.Provider,{value:l,children:r})}function X3(){var t=P.useContext(Y3);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function pAe(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?Ps(i,t)&&Ps(n,t)?void 0:Ps(i,t)?{from:i,to:void 0}:Ps(n,t)?void 0:YC(n,t)?{from:t,to:i}:{from:n,to:t}:i?YC(t,i)?{from:i,to:t}:{from:t,to:i}:n?aQ(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var Q3=P.createContext(void 0);function mAe(t){if(!Xx(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(Q3.Provider,{value:e,children:t.children})}return c.jsx(gAe,{initialProps:t.initialProps,children:t.children})}function gAe(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},a=i.from,s=i.to,o=e.min,l=e.max,u=function(f,v,m){var g,y;(g=e.onDayClick)===null||g===void 0||g.call(e,f,v,m);var x=pAe(f,n);(y=e.onSelect)===null||y===void 0||y.call(e,x,f,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],s?(d.range_end=[s],Ps(a,s)||(d.range_middle=[{after:a,before:s}])):d.range_end=[a]):s&&(d.range_start=[s],d.range_end=[s]),o&&(a&&!s&&d.disabled.push({after:Ej(a,o-1),before:Ja(a,o-1)}),a&&s&&d.disabled.push({after:a,before:Ja(a,o-1)}),!a&&s&&d.disabled.push({after:Ej(s,o-1),before:Ja(s,o-1)})),l){if(a&&!s&&(d.disabled.push({before:Ja(a,-l+1)}),d.disabled.push({after:Ja(a,l-1)})),a&&s){var h=mc(s,a)+1,p=l-h;d.disabled.push({before:Ej(a,p)}),d.disabled.push({after:Ja(s,p)})}!a&&s&&(d.disabled.push({before:Ja(s,-l+1)}),d.disabled.push({after:Ja(s,l-1)}))}return c.jsx(Q3.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function J3(){var t=P.useContext(Q3);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function g_(t){return Array.isArray(t)?IQ([],t):t!==void 0?[t]:[]}function vAe(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=g_(i)}),e}var Rl;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Rl||(Rl={}));var yAe=Rl.Selected,au=Rl.Disabled,bAe=Rl.Hidden,xAe=Rl.Today,Mj=Rl.RangeEnd,$j=Rl.RangeMiddle,Fj=Rl.RangeStart,wAe=Rl.Outside;function _Ae(t,e,r){var n,i=(n={},n[yAe]=g_(t.selected),n[au]=g_(t.disabled),n[bAe]=g_(t.hidden),n[xAe]=[t.today],n[Mj]=[],n[$j]=[],n[Fj]=[],n[wAe]=[],n);return t.fromDate&&i[au].push({before:t.fromDate}),t.toDate&&i[au].push({after:t.toDate}),Yx(t)?i[au]=i[au].concat(e.modifiers[au]):Xx(t)&&(i[au]=i[au].concat(r.modifiers[au]),i[Fj]=r.modifiers[Fj],i[$j]=r.modifiers[$j],i[Mj]=r.modifiers[Mj]),i}var MQ=P.createContext(void 0);function SAe(t){var e=On(),r=X3(),n=J3(),i=_Ae(e,r,n),a=vAe(e.modifiers),s=Yt(Yt({},i),a);return c.jsx(MQ.Provider,{value:s,children:t.children})}function $Q(){var t=P.useContext(MQ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function AAe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function NAe(t){return!!(t&&typeof t=="object"&&"from"in t)}function EAe(t){return!!(t&&typeof t=="object"&&"after"in t)}function jAe(t){return!!(t&&typeof t=="object"&&"before"in t)}function PAe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function TAe(t,e){var r,n=e.from,i=e.to;if(n&&i){var a=mc(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var s=mc(t,n)>=0&&mc(i,t)>=0;return s}return i?Ps(i,t):n?Ps(n,t):!1}function CAe(t){return F3(t)}function kAe(t){return Array.isArray(t)&&t.every(F3)}function IAe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(CAe(r))return Ps(t,r);if(kAe(r))return r.includes(t);if(NAe(r))return TAe(t,r);if(PAe(r))return r.dayOfWeek.includes(t.getDay());if(AAe(r)){var n=mc(r.before,t),i=mc(r.after,t),a=n>0,s=i<0,o=YC(r.before,r.after);return o?s&&a:a||s}return EAe(r)?mc(t,r.after)>0:jAe(r)?mc(r.before,t)>0:typeof r=="function"?r(t):!1})}function Z3(t,e,r){var n=Object.keys(e).reduce(function(a,s){var o=e[s];return IAe(t,o)&&a.push(s),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!z3(t,r)&&(i.outside=!0),i}function OAe(t,e){for(var r=Ds(t[0]),n=B3(t[t.length-1]),i,a,s=r;s<=n;){var o=Z3(s,e),l=!o.disabled&&!o.hidden;if(!l){s=Ja(s,1);continue}if(o.selected)return s;o.today&&!a&&(a=s),i||(i=s),s=Ja(s,1)}return a||i}var RAe=365;function FQ(t,e){var r=e.moveBy,n=e.direction,i=e.context,a=e.modifiers,s=e.retry,o=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,u=i.fromDate,d=i.toDate,h=i.locale,p={day:Ja,week:KC,month:Ol,year:Bxe,startOfWeek:function(g){return i.ISOWeek?im(g):Rc(g,{locale:h,weekStartsOn:l})},endOfWeek:function(g){return i.ISOWeek?ZX(g):U3(g,{locale:h,weekStartsOn:l})}},f=p[r](t,n==="after"?1:-1);n==="before"&&u?f=Uxe([u,f]):n==="after"&&d&&(f=Vxe([d,f]));var v=!0;if(a){var m=Z3(f,a);v=!m.disabled&&!m.hidden}return v?f:o.count>RAe?o.lastFocused:FQ(f,{moveBy:r,direction:n,context:i,modifiers:a,retry:Yt(Yt({},o),{count:o.count+1})})}var BQ=P.createContext(void 0);function DAe(t){var e=Qx(),r=$Q(),n=P.useState(),i=n[0],a=n[1],s=P.useState(),o=s[0],l=s[1],u=OAe(e.displayMonths,r),d=i??(o&&e.isDateDisplayed(o))?o:u,h=function(){l(i),a(void 0)},p=function(g){a(g)},f=On(),v=function(g,y){if(i){var x=FQ(i,{moveBy:g,direction:y,context:f,modifiers:r});Ps(i,x)||(e.goToDate(x,i),p(x))}},m={focusedDay:i,focusTarget:d,blur:h,focus:p,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return c.jsx(BQ.Provider,{value:m,children:t.children})}function eR(){var t=P.useContext(BQ);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function LAe(t,e){var r=$Q(),n=Z3(t,r,e);return n}var tR=P.createContext(void 0);function MAe(t){if(!nN(t.initialProps)){var e={selected:void 0};return c.jsx(tR.Provider,{value:e,children:t.children})}return c.jsx($Ae,{initialProps:t.initialProps,children:t.children})}function $Ae(t){var e=t.initialProps,r=t.children,n=function(a,s,o){var l,u,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,a,s,o),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,s,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,s,o)},i={selected:e.selected,onDayClick:n};return c.jsx(tR.Provider,{value:i,children:r})}function UQ(){var t=P.useContext(tR);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function FAe(t,e){var r=On(),n=UQ(),i=X3(),a=J3(),s=eR(),o=s.focusDayAfter,l=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,h=s.blur,p=s.focus,f=s.focusMonthBefore,v=s.focusMonthAfter,m=s.focusYearBefore,g=s.focusYearAfter,y=s.focusStartOfWeek,x=s.focusEndOfWeek,_=function(K){var q,Z,ve,ce;nN(r)?(q=n.onDayClick)===null||q===void 0||q.call(n,t,e,K):Yx(r)?(Z=i.onDayClick)===null||Z===void 0||Z.call(i,t,e,K):Xx(r)?(ve=a.onDayClick)===null||ve===void 0||ve.call(a,t,e,K):(ce=r.onDayClick)===null||ce===void 0||ce.call(r,t,e,K)},S=function(K){var q;p(t),(q=r.onDayFocus)===null||q===void 0||q.call(r,t,e,K)},N=function(K){var q;h(),(q=r.onDayBlur)===null||q===void 0||q.call(r,t,e,K)},C=function(K){var q;(q=r.onDayMouseEnter)===null||q===void 0||q.call(r,t,e,K)},j=function(K){var q;(q=r.onDayMouseLeave)===null||q===void 0||q.call(r,t,e,K)},E=function(K){var q;(q=r.onDayPointerEnter)===null||q===void 0||q.call(r,t,e,K)},I=function(K){var q;(q=r.onDayPointerLeave)===null||q===void 0||q.call(r,t,e,K)},D=function(K){var q;(q=r.onDayTouchCancel)===null||q===void 0||q.call(r,t,e,K)},k=function(K){var q;(q=r.onDayTouchEnd)===null||q===void 0||q.call(r,t,e,K)},O=function(K){var q;(q=r.onDayTouchMove)===null||q===void 0||q.call(r,t,e,K)},L=function(K){var q;(q=r.onDayTouchStart)===null||q===void 0||q.call(r,t,e,K)},z=function(K){var q;(q=r.onDayKeyUp)===null||q===void 0||q.call(r,t,e,K)},re=function(K){var q;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?o():l();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?l():o();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),u();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),d();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?m():f();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?g():v();break;case"Home":K.preventDefault(),K.stopPropagation(),y();break;case"End":K.preventDefault(),K.stopPropagation(),x();break}(q=r.onDayKeyDown)===null||q===void 0||q.call(r,t,e,K)},Y={onClick:_,onFocus:S,onBlur:N,onKeyDown:re,onKeyUp:z,onMouseEnter:C,onMouseLeave:j,onPointerEnter:E,onPointerLeave:I,onTouchCancel:D,onTouchEnd:k,onTouchMove:O,onTouchStart:L};return Y}function BAe(){var t=On(),e=UQ(),r=X3(),n=J3(),i=nN(t)?e.selected:Yx(t)?r.selected:Xx(t)?n.selected:void 0;return i}function UAe(t){return Object.values(Rl).includes(t)}function VAe(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(UAe(n)){var a=t.classNames["day_".concat(n)];a&&r.push(a)}}),r}function zAe(t,e){var r=Yt({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=Yt(Yt({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function qAe(t,e,r){var n,i,a,s=On(),o=eR(),l=LAe(t,e),u=FAe(t,l),d=BAe(),h=!!(s.onDayClick||s.mode!=="default");P.useEffect(function(){var C;l.outside||o.focusedDay&&h&&Ps(o.focusedDay,t)&&((C=r.current)===null||C===void 0||C.focus())},[o.focusedDay,t,r,h,l.outside]);var p=VAe(s,l).join(" "),f=zAe(s,l),v=!!(l.outside&&!s.showOutsideDays||l.hidden),m=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:dAe,g=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),y={style:f,className:p,children:g,role:"gridcell"},x=o.focusTarget&&Ps(o.focusTarget,t)&&!l.outside,_=o.focusedDay&&Ps(o.focusedDay,t),S=Yt(Yt(Yt({},y),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=_||x?0:-1,n)),u),N={isButton:h,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:S,divProps:y};return N}function WAe(t){var e=P.useRef(null),r=qAe(t.date,t.displayMonth,e);return r.isHidden?c.jsx("div",{role:"gridcell"}):r.isButton?c.jsx(DS,Yt({name:"day",ref:e},r.buttonProps)):c.jsx("div",Yt({},r.divProps))}function HAe(t){var e=t.number,r=t.dates,n=On(),i=n.onWeekNumberClick,a=n.styles,s=n.classNames,o=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:o});if(!i)return c.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:d});var h=l(Number(e),{locale:o}),p=function(f){i(e,r,f)};return c.jsx(DS,{name:"week-number","aria-label":h,className:s.weeknumber,style:a.weeknumber,onClick:p,children:d})}function GAe(t){var e,r,n=On(),i=n.styles,a=n.classNames,s=n.showWeekNumber,o=n.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:WAe,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:HAe,d;return s&&(d=c.jsx("td",{className:a.cell,style:i.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:a.row,style:i.row,children:[d,t.dates.map(function(h){return c.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:h})},Bwe(h))})]})}function _$(t,e,r){for(var n=r!=null&&r.ISOWeek?ZX(e):U3(e,r),i=r!=null&&r.ISOWeek?im(t):Rc(t,r),a=mc(n,i),s=[],o=0;o<=a;o++)s.push(Ja(i,o));var l=s.reduce(function(u,d){var h=r!=null&&r.ISOWeek?tQ(d):nQ(d,r),p=u.find(function(f){return f.weekNumber===h});return p?(p.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return l}function KAe(t,e){var r=_$(Ds(t),B3(t),e);if(e!=null&&e.useFixedWeeks){var n=Vwe(t,e);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],s=KC(a,6-n),o=_$(KC(a,1),s,e);r.push.apply(r,o)}}return r}function YAe(t){var e,r,n,i=On(),a=i.locale,s=i.classNames,o=i.styles,l=i.hideHead,u=i.fixedWeeks,d=i.components,h=i.weekStartsOn,p=i.firstWeekContainsDate,f=i.ISOWeek,v=KAe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:f,locale:a,weekStartsOn:h,firstWeekContainsDate:p}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:uAe,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:GAe,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:oAe;return c.jsxs("table",{id:t.id,className:s.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:s.tbody,style:o.tbody,children:v.map(function(x){return c.jsx(g,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),c.jsx(y,{displayMonth:t.displayMonth})]})}function XAe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var QAe=XAe()?P.useLayoutEffect:P.useEffect,Bj=!1,JAe=0;function S$(){return"react-day-picker-".concat(++JAe)}function ZAe(t){var e,r=t??(Bj?S$():null),n=P.useState(r),i=n[0],a=n[1];return QAe(function(){i===null&&a(S$())},[]),P.useEffect(function(){Bj===!1&&(Bj=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function eNe(t){var e,r,n=On(),i=n.dir,a=n.classNames,s=n.styles,o=n.components,l=Qx().displayMonths,u=ZAe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,h=[a.month],p=s.month,f=t.displayIndex===0,v=t.displayIndex===l.length-1,m=!f&&!v;i==="rtl"&&(e=[f,v],v=e[0],f=e[1]),f&&(h.push(a.caption_start),p=Yt(Yt({},p),s.caption_start)),v&&(h.push(a.caption_end),p=Yt(Yt({},p),s.caption_end)),m&&(h.push(a.caption_between),p=Yt(Yt({},p),s.caption_between));var g=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:sAe;return c.jsxs("div",{className:h.join(" "),style:p,children:[c.jsx(g,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(YAe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function tNe(t){var e=On(),r=e.classNames,n=e.styles;return c.jsx("div",{className:r.months,style:n.months,children:t.children})}function rNe(t){var e,r,n=t.initialProps,i=On(),a=eR(),s=Qx(),o=P.useState(!1),l=o[0],u=o[1];P.useEffect(function(){i.initialFocus&&a.focusTarget&&(l||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,l,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var h=Yt(Yt({},i.styles.root),i.style),p=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var g;return Yt(Yt({},v),(g={},g[m]=n[m],g))},{}),f=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:tNe;return c.jsx("div",Yt({className:d.join(" "),style:h,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:c.jsx(f,{children:s.displayMonths.map(function(v,m){return c.jsx(eNe,{displayIndex:m,displayMonth:v},m)})})}))}function nNe(t){var e=t.children,r=j5e(t,["children"]);return c.jsx(H5e,{initialProps:r,children:c.jsx(rAe,{children:c.jsx(MAe,{initialProps:r,children:c.jsx(hAe,{initialProps:r,children:c.jsx(mAe,{initialProps:r,children:c.jsx(SAe,{children:c.jsx(DAe,{children:e})})})})})})})}function iNe(t){return c.jsx(nNe,Yt({},t,{children:c.jsx(rNe,{initialProps:t})}))}function VQ({className:t,classNames:e,showOutsideDays:r=!0,...n}){return c.jsx(iNe,{showOutsideDays:r,className:_t("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:_t(_b({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:_t(_b({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>c.jsx(Qq,{className:"h-4 w-4"}),IconRight:({...i})=>c.jsx(JI,{className:"h-4 w-4"})},...n})}VQ.displayName="Calendar";var iN="Popover",[zQ,gZe]=go(iN,[Sy]),Jx=Sy(),[aNe,Af]=zQ(iN),qQ=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=t,o=Jx(e),l=P.useRef(null),[u,d]=P.useState(!1),[h,p]=jl({prop:n,defaultProp:i??!1,onChange:a,caller:iN});return c.jsx(MW,{...o,children:c.jsx(aNe,{scope:e,contentId:Al(),triggerRef:l,open:h,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:u,onCustomAnchorAdd:P.useCallback(()=>d(!0),[]),onCustomAnchorRemove:P.useCallback(()=>d(!1),[]),modal:s,children:r})})};qQ.displayName=iN;var WQ="PopoverAnchor",sNe=P.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Af(WQ,r),a=Jx(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=i;return P.useEffect(()=>(s(),()=>o()),[s,o]),c.jsx(fA,{...a,...n,ref:e})});sNe.displayName=WQ;var HQ="PopoverTrigger",GQ=P.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Af(HQ,r),a=Jx(r),s=Mr(e,i.triggerRef),o=c.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":JQ(i.open),...n,ref:s,onClick:It(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:c.jsx(fA,{asChild:!0,...a,children:o})});GQ.displayName=HQ;var rR="PopoverPortal",[oNe,lNe]=zQ(rR,{forceMount:void 0}),KQ=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Af(rR,e);return c.jsx(oNe,{scope:e,forceMount:r,children:c.jsx(Lc,{present:r||a.open,children:c.jsx(Nx,{asChild:!0,container:i,children:n})})})};KQ.displayName=rR;var Vv="PopoverContent",YQ=P.forwardRef((t,e)=>{const r=lNe(Vv,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Af(Vv,t.__scopePopover);return c.jsx(Lc,{present:n||a.open,children:a.modal?c.jsx(uNe,{...i,ref:e}):c.jsx(dNe,{...i,ref:e})})});YQ.displayName=Vv;var cNe=zp("PopoverContent.RemoveScroll"),uNe=P.forwardRef((t,e)=>{const r=Af(Vv,t.__scopePopover),n=P.useRef(null),i=Mr(e,n),a=P.useRef(!1);return P.useEffect(()=>{const s=n.current;if(s)return A3(s)},[]),c.jsx(GA,{as:cNe,allowPinchZoom:!0,children:c.jsx(XQ,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:It(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:It(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:It(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),dNe=P.forwardRef((t,e)=>{const r=Af(Vv,t.__scopePopover),n=P.useRef(!1),i=P.useRef(!1);return c.jsx(XQ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),XQ=P.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...h}=t,p=Af(Vv,r),f=Jx(r);return S3(),c.jsx(WA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(by,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:c.jsx(uO,{"data-state":JQ(p.open),role:"dialog",id:p.contentId,...f,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),QQ="PopoverClose",hNe=P.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Af(QQ,r);return c.jsx(Ht.button,{type:"button",...n,ref:e,onClick:It(t.onClick,()=>i.onOpenChange(!1))})});hNe.displayName=QQ;var fNe="PopoverArrow",pNe=P.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Jx(r);return c.jsx(dO,{...i,...n,ref:e})});pNe.displayName=fNe;function JQ(t){return t?"open":"closed"}var mNe=qQ,gNe=GQ,vNe=KQ,ZQ=YQ;const yNe=mNe,bNe=gNe,eJ=P.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>c.jsx(vNe,{children:c.jsx(ZQ,{ref:i,align:e,sideOffset:r,className:_t("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));eJ.displayName=ZQ.displayName;var xNe=Array.isArray,Ls=xNe,wNe=typeof Ma=="object"&&Ma&&Ma.Object===Object&&Ma,tJ=wNe,_Ne=tJ,SNe=typeof self=="object"&&self&&self.Object===Object&&self,ANe=_Ne||SNe||Function("return this")(),Fc=ANe,NNe=Fc,ENe=NNe.Symbol,Zx=ENe,A$=Zx,rJ=Object.prototype,jNe=rJ.hasOwnProperty,PNe=rJ.toString,O0=A$?A$.toStringTag:void 0;function TNe(t){var e=jNe.call(t,O0),r=t[O0];try{t[O0]=void 0;var n=!0}catch{}var i=PNe.call(t);return n&&(e?t[O0]=r:delete t[O0]),i}var CNe=TNe,kNe=Object.prototype,INe=kNe.toString;function ONe(t){return INe.call(t)}var RNe=ONe,N$=Zx,DNe=CNe,LNe=RNe,MNe="[object Null]",$Ne="[object Undefined]",E$=N$?N$.toStringTag:void 0;function FNe(t){return t==null?t===void 0?$Ne:MNe:E$&&E$ in Object(t)?DNe(t):LNe(t)}var id=FNe;function BNe(t){return t!=null&&typeof t=="object"}var ad=BNe,UNe=id,VNe=ad,zNe="[object Symbol]";function qNe(t){return typeof t=="symbol"||VNe(t)&&UNe(t)==zNe}var By=qNe,WNe=Ls,HNe=By,GNe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KNe=/^\w*$/;function YNe(t,e){if(WNe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||HNe(t)?!0:KNe.test(t)||!GNe.test(t)||e!=null&&t in Object(e)}var nR=YNe;function XNe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Nf=XNe;const Uy=Zr(Nf);var QNe=id,JNe=Nf,ZNe="[object AsyncFunction]",eEe="[object Function]",tEe="[object GeneratorFunction]",rEe="[object Proxy]";function nEe(t){if(!JNe(t))return!1;var e=QNe(t);return e==eEe||e==tEe||e==ZNe||e==rEe}var iR=nEe;const rr=Zr(iR);var iEe=Fc,aEe=iEe["__core-js_shared__"],sEe=aEe,Uj=sEe,j$=function(){var t=/[^.]+$/.exec(Uj&&Uj.keys&&Uj.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oEe(t){return!!j$&&j$ in t}var lEe=oEe,cEe=Function.prototype,uEe=cEe.toString;function dEe(t){if(t!=null){try{return uEe.call(t)}catch{}try{return t+""}catch{}}return""}var nJ=dEe,hEe=iR,fEe=lEe,pEe=Nf,mEe=nJ,gEe=/[\\^$.*+?()[\]{}|]/g,vEe=/^\[object .+?Constructor\]$/,yEe=Function.prototype,bEe=Object.prototype,xEe=yEe.toString,wEe=bEe.hasOwnProperty,_Ee=RegExp("^"+xEe.call(wEe).replace(gEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SEe(t){if(!pEe(t)||fEe(t))return!1;var e=hEe(t)?_Ee:vEe;return e.test(mEe(t))}var AEe=SEe;function NEe(t,e){return t==null?void 0:t[e]}var EEe=NEe,jEe=AEe,PEe=EEe;function TEe(t,e){var r=PEe(t,e);return jEe(r)?r:void 0}var _m=TEe,CEe=_m,kEe=CEe(Object,"create"),aN=kEe,P$=aN;function IEe(){this.__data__=P$?P$(null):{},this.size=0}var OEe=IEe;function REe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var DEe=REe,LEe=aN,MEe="__lodash_hash_undefined__",$Ee=Object.prototype,FEe=$Ee.hasOwnProperty;function BEe(t){var e=this.__data__;if(LEe){var r=e[t];return r===MEe?void 0:r}return FEe.call(e,t)?e[t]:void 0}var UEe=BEe,VEe=aN,zEe=Object.prototype,qEe=zEe.hasOwnProperty;function WEe(t){var e=this.__data__;return VEe?e[t]!==void 0:qEe.call(e,t)}var HEe=WEe,GEe=aN,KEe="__lodash_hash_undefined__";function YEe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=GEe&&e===void 0?KEe:e,this}var XEe=YEe,QEe=OEe,JEe=DEe,ZEe=UEe,eje=HEe,tje=XEe;function Vy(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vy.prototype.clear=QEe;Vy.prototype.delete=JEe;Vy.prototype.get=ZEe;Vy.prototype.has=eje;Vy.prototype.set=tje;var rje=Vy;function nje(){this.__data__=[],this.size=0}var ije=nje;function aje(t,e){return t===e||t!==t&&e!==e}var aR=aje,sje=aR;function oje(t,e){for(var r=t.length;r--;)if(sje(t[r][0],e))return r;return-1}var sN=oje,lje=sN,cje=Array.prototype,uje=cje.splice;function dje(t){var e=this.__data__,r=lje(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():uje.call(e,r,1),--this.size,!0}var hje=dje,fje=sN;function pje(t){var e=this.__data__,r=fje(e,t);return r<0?void 0:e[r][1]}var mje=pje,gje=sN;function vje(t){return gje(this.__data__,t)>-1}var yje=vje,bje=sN;function xje(t,e){var r=this.__data__,n=bje(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var wje=xje,_je=ije,Sje=hje,Aje=mje,Nje=yje,Eje=wje;function zy(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zy.prototype.clear=_je;zy.prototype.delete=Sje;zy.prototype.get=Aje;zy.prototype.has=Nje;zy.prototype.set=Eje;var oN=zy,jje=_m,Pje=Fc,Tje=jje(Pje,"Map"),sR=Tje,T$=rje,Cje=oN,kje=sR;function Ije(){this.size=0,this.__data__={hash:new T$,map:new(kje||Cje),string:new T$}}var Oje=Ije;function Rje(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Dje=Rje,Lje=Dje;function Mje(t,e){var r=t.__data__;return Lje(e)?r[typeof e=="string"?"string":"hash"]:r.map}var lN=Mje,$je=lN;function Fje(t){var e=$je(this,t).delete(t);return this.size-=e?1:0,e}var Bje=Fje,Uje=lN;function Vje(t){return Uje(this,t).get(t)}var zje=Vje,qje=lN;function Wje(t){return qje(this,t).has(t)}var Hje=Wje,Gje=lN;function Kje(t,e){var r=Gje(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Yje=Kje,Xje=Oje,Qje=Bje,Jje=zje,Zje=Hje,ePe=Yje;function qy(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}qy.prototype.clear=Xje;qy.prototype.delete=Qje;qy.prototype.get=Jje;qy.prototype.has=Zje;qy.prototype.set=ePe;var oR=qy,iJ=oR,tPe="Expected a function";function lR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tPe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(lR.Cache||iJ),r}lR.Cache=iJ;var aJ=lR;const rPe=Zr(aJ);var nPe=aJ,iPe=500;function aPe(t){var e=nPe(t,function(n){return r.size===iPe&&r.clear(),n}),r=e.cache;return e}var sPe=aPe,oPe=sPe,lPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cPe=/\\(\\)?/g,uPe=oPe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lPe,function(r,n,i,a){e.push(i?a.replace(cPe,"$1"):n||r)}),e}),dPe=uPe;function hPe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var cR=hPe,C$=Zx,fPe=cR,pPe=Ls,mPe=By,gPe=1/0,k$=C$?C$.prototype:void 0,I$=k$?k$.toString:void 0;function sJ(t){if(typeof t=="string")return t;if(pPe(t))return fPe(t,sJ)+"";if(mPe(t))return I$?I$.call(t):"";var e=t+"";return e=="0"&&1/t==-gPe?"-0":e}var vPe=sJ,yPe=vPe;function bPe(t){return t==null?"":yPe(t)}var oJ=bPe,xPe=Ls,wPe=nR,_Pe=dPe,SPe=oJ;function APe(t,e){return xPe(t)?t:wPe(t,e)?[t]:_Pe(SPe(t))}var lJ=APe,NPe=By,EPe=1/0;function jPe(t){if(typeof t=="string"||NPe(t))return t;var e=t+"";return e=="0"&&1/t==-EPe?"-0":e}var cN=jPe,PPe=lJ,TPe=cN;function CPe(t,e){e=PPe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[TPe(e[r++])];return r&&r==n?t:void 0}var uR=CPe,kPe=uR;function IPe(t,e,r){var n=t==null?void 0:kPe(t,e);return n===void 0?r:n}var cJ=IPe;const uo=Zr(cJ);function OPe(t){return t==null}var RPe=OPe;const xr=Zr(RPe);var DPe=id,LPe=Ls,MPe=ad,$Pe="[object String]";function FPe(t){return typeof t=="string"||!LPe(t)&&MPe(t)&&DPe(t)==$Pe}var BPe=FPe;const am=Zr(BPe);var uJ={exports:{}},ln={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR=Symbol.for("react.element"),hR=Symbol.for("react.portal"),uN=Symbol.for("react.fragment"),dN=Symbol.for("react.strict_mode"),hN=Symbol.for("react.profiler"),fN=Symbol.for("react.provider"),pN=Symbol.for("react.context"),UPe=Symbol.for("react.server_context"),mN=Symbol.for("react.forward_ref"),gN=Symbol.for("react.suspense"),vN=Symbol.for("react.suspense_list"),yN=Symbol.for("react.memo"),bN=Symbol.for("react.lazy"),VPe=Symbol.for("react.offscreen"),dJ;dJ=Symbol.for("react.module.reference");function Zo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case dR:switch(t=t.type,t){case uN:case hN:case dN:case gN:case vN:return t;default:switch(t=t&&t.$$typeof,t){case UPe:case pN:case mN:case bN:case yN:case fN:return t;default:return e}}case hR:return e}}}ln.ContextConsumer=pN;ln.ContextProvider=fN;ln.Element=dR;ln.ForwardRef=mN;ln.Fragment=uN;ln.Lazy=bN;ln.Memo=yN;ln.Portal=hR;ln.Profiler=hN;ln.StrictMode=dN;ln.Suspense=gN;ln.SuspenseList=vN;ln.isAsyncMode=function(){return!1};ln.isConcurrentMode=function(){return!1};ln.isContextConsumer=function(t){return Zo(t)===pN};ln.isContextProvider=function(t){return Zo(t)===fN};ln.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===dR};ln.isForwardRef=function(t){return Zo(t)===mN};ln.isFragment=function(t){return Zo(t)===uN};ln.isLazy=function(t){return Zo(t)===bN};ln.isMemo=function(t){return Zo(t)===yN};ln.isPortal=function(t){return Zo(t)===hR};ln.isProfiler=function(t){return Zo(t)===hN};ln.isStrictMode=function(t){return Zo(t)===dN};ln.isSuspense=function(t){return Zo(t)===gN};ln.isSuspenseList=function(t){return Zo(t)===vN};ln.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===uN||t===hN||t===dN||t===gN||t===vN||t===VPe||typeof t=="object"&&t!==null&&(t.$$typeof===bN||t.$$typeof===yN||t.$$typeof===fN||t.$$typeof===pN||t.$$typeof===mN||t.$$typeof===dJ||t.getModuleId!==void 0)};ln.typeOf=Zo;uJ.exports=ln;var zPe=uJ.exports,qPe=id,WPe=ad,HPe="[object Number]";function GPe(t){return typeof t=="number"||WPe(t)&&qPe(t)==HPe}var hJ=GPe;const KPe=Zr(hJ);var YPe=hJ;function XPe(t){return YPe(t)&&t!=+t}var QPe=XPe;const ew=Zr(QPe);var ns=function(e){return e===0?0:e>0?1:-1},fp=function(e){return am(e)&&e.indexOf("%")===e.length-1},et=function(e){return KPe(e)&&!ew(e)},JPe=function(e){return xr(e)},qi=function(e){return et(e)||am(e)},ZPe=0,tw=function(e){var r=++ZPe;return"".concat(e||"").concat(r)},is=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(e)&&!am(e))return n;var a;if(fp(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return ew(a)&&(a=n),i&&a>r&&(a=r),a},eh=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},eTe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Wd=function(e,r){return et(e)&&et(r)?function(n){return e+n*(r-e)}:function(){return r}};function ok(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):uo(n,e))===r})}var tTe=function(e,r){return et(e)&&et(r)?e-r:am(e)&&am(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Qg(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function lk(t){"@babel/helpers - typeof";return lk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lk(t)}var rTe=["viewBox","children"],nTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],O$=["points","pathLength"],Vj={svg:rTe,polygon:O$,polyline:O$},fR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],LS=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),!Uy(n))return null;var i={};return Object.keys(n).forEach(function(a){fR.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},iTe=function(e,r,n){return function(i){return e(r,n,i),null}},sm=function(e,r,n){if(!Uy(e)||lk(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];fR.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=iTe(s,r,n))}),i},aTe=["children"],sTe=["children"];function R$(t,e){if(t==null)return{};var r=oTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var D$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ru=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},L$=null,zj=null,pR=function t(e){if(e===L$&&Array.isArray(zj))return zj;var r=[];return P.Children.forEach(e,function(n){xr(n)||(zPe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),zj=r,L$=e,r};function Go(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ru(i)}):n=[Ru(e)],pR(t).forEach(function(i){var a=uo(i,"type.displayName")||uo(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function eo(t,e){var r=Go(t,e);return r&&r[0]}var M$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!et(n)||n<=0||!et(i)||i<=0)},lTe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cTe=function(e){return e&&e.type&&am(e.type)&&lTe.indexOf(e.type)>=0},uTe=function(e,r,n,i){var a,s=(a=Vj==null?void 0:Vj[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!rr(e)&&(i&&s.includes(r)||nTe.includes(r))||n&&fR.includes(r)},Xt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!Uy(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;uTe((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},ck=function t(e,r){if(e===r)return!0;var n=P.Children.count(e);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!$$(a,s))return!1}return!0},$$=function(e,r){if(xr(e)&&xr(r))return!0;if(!xr(e)&&!xr(r)){var n=e.props||{},i=n.children,a=R$(n,aTe),s=r.props||{},o=s.children,l=R$(s,sTe);return i&&o?Qg(a,l)&&ck(i,o):!i&&!o?Qg(a,l):!1}return!1},F$=function(e,r){var n=[],i={};return pR(e).forEach(function(a,s){if(cTe(a))n.push(a);else if(a){var o=Ru(a.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var h=u(a,o,s);n.push(h),i[o]=!0}}}),n},dTe=function(e){var r=e&&e.type;return r&&D$[r]?D$[r]:null},hTe=function(e,r){return pR(r).indexOf(e)},fTe=["children","width","height","viewBox","className","style","title","desc"];function uk(){return uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uk.apply(this,arguments)}function pTe(t,e){if(t==null)return{};var r=mTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dk(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=pTe(t,fTe),d=i||{width:r,height:n,x:0,y:0},h=vr("recharts-surface",a);return ue.createElement("svg",uk({},Xt(u,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ue.createElement("title",null,o),ue.createElement("desc",null,l),e)}var gTe=["children","className"];function hk(){return hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hk.apply(this,arguments)}function vTe(t,e){if(t==null)return{};var r=yTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sn=ue.forwardRef(function(t,e){var r=t.children,n=t.className,i=vTe(t,gTe),a=vr("recharts-layer",n);return ue.createElement("g",hk({className:a},Xt(i,!0),{ref:e}),r)}),Nl=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function bTe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var xTe=bTe,wTe=xTe;function _Te(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:wTe(t,e,r)}var STe=_Te,ATe="\\ud800-\\udfff",NTe="\\u0300-\\u036f",ETe="\\ufe20-\\ufe2f",jTe="\\u20d0-\\u20ff",PTe=NTe+ETe+jTe,TTe="\\ufe0e\\ufe0f",CTe="\\u200d",kTe=RegExp("["+CTe+ATe+PTe+TTe+"]");function ITe(t){return kTe.test(t)}var fJ=ITe;function OTe(t){return t.split("")}var RTe=OTe,pJ="\\ud800-\\udfff",DTe="\\u0300-\\u036f",LTe="\\ufe20-\\ufe2f",MTe="\\u20d0-\\u20ff",$Te=DTe+LTe+MTe,FTe="\\ufe0e\\ufe0f",BTe="["+pJ+"]",fk="["+$Te+"]",pk="\\ud83c[\\udffb-\\udfff]",UTe="(?:"+fk+"|"+pk+")",mJ="[^"+pJ+"]",gJ="(?:\\ud83c[\\udde6-\\uddff]){2}",vJ="[\\ud800-\\udbff][\\udc00-\\udfff]",VTe="\\u200d",yJ=UTe+"?",bJ="["+FTe+"]?",zTe="(?:"+VTe+"(?:"+[mJ,gJ,vJ].join("|")+")"+bJ+yJ+")*",qTe=bJ+yJ+zTe,WTe="(?:"+[mJ+fk+"?",fk,gJ,vJ,BTe].join("|")+")",HTe=RegExp(pk+"(?="+pk+")|"+WTe+qTe,"g");function GTe(t){return t.match(HTe)||[]}var KTe=GTe,YTe=RTe,XTe=fJ,QTe=KTe;function JTe(t){return XTe(t)?QTe(t):YTe(t)}var ZTe=JTe,eCe=STe,tCe=fJ,rCe=ZTe,nCe=oJ;function iCe(t){return function(e){e=nCe(e);var r=tCe(e)?rCe(e):void 0,n=r?r[0]:e.charAt(0),i=r?eCe(r,1).join(""):e.slice(1);return n[t]()+i}}var aCe=iCe,sCe=aCe,oCe=sCe("toUpperCase"),lCe=oCe;const xN=Zr(lCe);function Cn(t){return function(){return t}}const xJ=Math.cos,MS=Math.sin,$l=Math.sqrt,$S=Math.PI,wN=2*$S,mk=Math.PI,gk=2*mk,tp=1e-6,cCe=gk-tp;function wJ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function uCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wJ;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class dCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wJ:uCe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,d=s-e,h=o-r,p=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>tp)if(!(Math.abs(h*l-u*d)>tp)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-s,v=i-o,m=l*l+u*u,g=f*f+v*v,y=Math.sqrt(m),x=Math.sqrt(p),_=a*Math.tan((mk-Math.acos((m+p-g)/(2*y*x)))/2),S=_/x,N=_/y;Math.abs(S-1)>tp&&this._append`L${e+S*d},${r+S*h}`,this._append`A${a},${a},0,0,${+(h*f>d*v)},${this._x1=e+N*l},${this._y1=r+N*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,h=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>tp||Math.abs(this._y1-d)>tp)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%gk+gk),p>cCe?this._append`A${n},${n},0,1,${h},${e-o},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:p>tp&&this._append`A${n},${n},0,${+(p>=mk)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function mR(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new dCe(e)}function gR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _J(t){this._context=t}_J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _N(t){return new _J(t)}function SJ(t){return t[0]}function AJ(t){return t[1]}function NJ(t,e){var r=Cn(!0),n=null,i=_N,a=null,s=mR(o);t=typeof t=="function"?t:t===void 0?SJ:Cn(t),e=typeof e=="function"?e:e===void 0?AJ:Cn(e);function o(l){var u,d=(l=gR(l)).length,h,p=!1,f;for(n==null&&(a=i(f=s())),u=0;u<=d;++u)!(u<d&&r(h=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(h,u,l),+e(h,u,l));if(f)return a=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Cn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Cn(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Cn(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function m2(t,e,r){var n=null,i=Cn(!0),a=null,s=_N,o=null,l=mR(u);t=typeof t=="function"?t:t===void 0?SJ:Cn(+t),e=typeof e=="function"?e:Cn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?AJ:Cn(+r);function u(h){var p,f,v,m=(h=gR(h)).length,g,y=!1,x,_=new Array(m),S=new Array(m);for(a==null&&(o=s(x=l())),p=0;p<=m;++p){if(!(p<m&&i(g=h[p],p,h))===y)if(y=!y)f=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=f;--v)o.point(_[v],S[v]);o.lineEnd(),o.areaEnd()}y&&(_[p]=+t(g,p,h),S[p]=+e(g,p,h),o.point(n?+n(g,p,h):_[p],r?+r(g,p,h):S[p]))}if(x)return o=null,x+""||null}function d(){return NJ().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Cn(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Cn(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Cn(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Cn(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Cn(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Cn(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Cn(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class EJ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function hCe(t){return new EJ(t,!0)}function fCe(t){return new EJ(t,!1)}const vR={draw(t,e){const r=$l(e/$S);t.moveTo(r,0),t.arc(0,0,r,0,wN)}},pCe={draw(t,e){const r=$l(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},jJ=$l(1/3),mCe=jJ*2,gCe={draw(t,e){const r=$l(e/mCe),n=r*jJ;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},vCe={draw(t,e){const r=$l(e),n=-r/2;t.rect(n,n,r,r)}},yCe=.8908130915292852,PJ=MS($S/10)/MS(7*$S/10),bCe=MS(wN/10)*PJ,xCe=-xJ(wN/10)*PJ,wCe={draw(t,e){const r=$l(e*yCe),n=bCe*r,i=xCe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=wN*a/5,o=xJ(s),l=MS(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},qj=$l(3),_Ce={draw(t,e){const r=-$l(e/(qj*3));t.moveTo(0,r*2),t.lineTo(-qj*r,-r),t.lineTo(qj*r,-r),t.closePath()}},To=-.5,Co=$l(3)/2,vk=1/$l(12),SCe=(vk/2+1)*3,ACe={draw(t,e){const r=$l(e/SCe),n=r/2,i=r*vk,a=n,s=r*vk+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(To*n-Co*i,Co*n+To*i),t.lineTo(To*a-Co*s,Co*a+To*s),t.lineTo(To*o-Co*l,Co*o+To*l),t.lineTo(To*n+Co*i,To*i-Co*n),t.lineTo(To*a+Co*s,To*s-Co*a),t.lineTo(To*o+Co*l,To*l-Co*o),t.closePath()}};function NCe(t,e){let r=null,n=mR(i);t=typeof t=="function"?t:Cn(t||vR),e=typeof e=="function"?e:Cn(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Cn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Cn(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function FS(){}function BS(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function TJ(t){this._context=t}TJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:BS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:BS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ECe(t){return new TJ(t)}function CJ(t){this._context=t}CJ.prototype={areaStart:FS,areaEnd:FS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:BS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jCe(t){return new CJ(t)}function kJ(t){this._context=t}kJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:BS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PCe(t){return new kJ(t)}function IJ(t){this._context=t}IJ.prototype={areaStart:FS,areaEnd:FS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TCe(t){return new IJ(t)}function B$(t){return t<0?-1:1}function U$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(B$(a)+B$(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function V$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Wj(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function US(t){this._context=t}US.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wj(this,this._t0,V$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wj(this,V$(this,r=U$(this,t,e)),r);break;default:Wj(this,this._t0,r=U$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function OJ(t){this._context=new RJ(t)}(OJ.prototype=Object.create(US.prototype)).point=function(t,e){US.prototype.point.call(this,e,t)};function RJ(t){this._context=t}RJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function CCe(t){return new US(t)}function kCe(t){return new OJ(t)}function DJ(t){this._context=t}DJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=z$(t),i=z$(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function z$(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ICe(t){return new DJ(t)}function SN(t,e){this._context=t,this._t=e}SN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function OCe(t){return new SN(t,.5)}function RCe(t){return new SN(t,0)}function DCe(t){return new SN(t,1)}function zv(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function yk(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function LCe(t,e){return t[e]}function MCe(t){const e=[];return e.key=t,e}function $Ce(){var t=Cn([]),e=yk,r=zv,n=LCe;function i(a){var s=Array.from(t.apply(this,arguments),MCe),o,l=s.length,u=-1,d;for(const h of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(h,s[o].key,u,a)]).data=h;for(o=0,d=gR(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Cn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Cn(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?yk:typeof a=="function"?a:Cn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??zv,i):r},i}function FCe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}zv(t,e)}}function BCe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}zv(t,e)}}function UCe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],h=d[n][1]||0,p=d[n-1][1]||0,f=(h-p)/2,v=0;v<o;++v){var m=t[e[v]],g=m[n][1]||0,y=m[n-1][1]||0;f+=g-y}l+=h,u+=f*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,zv(t,e)}}function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}var VCe=["type","size","sizeType"];function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bk.apply(this,arguments)}function q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(r),!0).forEach(function(n){zCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zCe(t,e,r){return e=qCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qCe(t){var e=WCe(t,"string");return Eb(e)=="symbol"?e:e+""}function WCe(t,e){if(Eb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Eb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HCe(t,e){if(t==null)return{};var r=GCe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var LJ={symbolCircle:vR,symbolCross:pCe,symbolDiamond:gCe,symbolSquare:vCe,symbolStar:wCe,symbolTriangle:_Ce,symbolWye:ACe},KCe=Math.PI/180,YCe=function(e){var r="symbol".concat(xN(e));return LJ[r]||vR},XCe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*KCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QCe=function(e,r){LJ["symbol".concat(xN(e))]=r},yR=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=HCe(e,VCe),u=W$(W$({},l),{},{type:n,size:a,sizeType:o}),d=function(){var g=YCe(n),y=NCe().type(g).size(XCe(a,o,n));return y()},h=u.className,p=u.cx,f=u.cy,v=Xt(u,!0);return p===+p&&f===+f&&a===+a?ue.createElement("path",bk({},v,{className:vr("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(f,")"),d:d()})):null};yR.registerSymbol=QCe;function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function xk(){return xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xk.apply(this,arguments)}function H$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JCe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(r),!0).forEach(function(n){jb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$J(n.key),n)}}function tke(t,e,r){return e&&eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rke(t,e,r){return e=VS(e),nke(t,MJ()?Reflect.construct(e,r||[],VS(t).constructor):e.apply(t,r))}function nke(t,e){if(e&&(qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ike(t)}function ike(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MJ=function(){return!!t})()}function VS(t){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},VS(t)}function ake(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wk(t,e)}function wk(t,e){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wk(t,e)}function jb(t,e,r){return e=$J(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $J(t){var e=ske(t,"string");return qv(e)=="symbol"?e:e+""}function ske(t,e){if(qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ko=32,bR=function(t){function e(){return ZCe(this,e),rke(this,e,arguments)}return ake(e,t),tke(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ko/2,s=ko/6,o=ko/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ue.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ko,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ue.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(ko,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ue.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ko/8,"h").concat(ko,"v").concat(ko*3/4,"h").concat(-ko,"z"),className:"recharts-legend-icon"});if(ue.isValidElement(n.legendIcon)){var u=JCe({},n);return delete u.legendIcon,ue.cloneElement(n.legendIcon,u)}return ue.createElement(yR,{fill:l,cx:a,cy:a,size:ko,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:ko,height:ko},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,v){var m=f.formatter||l,g=vr(jb(jb({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=rr(f.value)?null:f.value;Nl(!rr(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=f.inactive?u:f.color;return ue.createElement("li",xk({className:g,style:h,key:"legend-item-".concat(v)},sm(n.props,f,v)),ue.createElement(dk,{width:s,height:s,viewBox:d,style:p},n.renderIcon(f)),ue.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(y,f,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ue.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(P.PureComponent);jb(bR,"displayName","Legend");jb(bR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oke=oN;function lke(){this.__data__=new oke,this.size=0}var cke=lke;function uke(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var dke=uke;function hke(t){return this.__data__.get(t)}var fke=hke;function pke(t){return this.__data__.has(t)}var mke=pke,gke=oN,vke=sR,yke=oR,bke=200;function xke(t,e){var r=this.__data__;if(r instanceof gke){var n=r.__data__;if(!vke||n.length<bke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new yke(n)}return r.set(t,e),this.size=r.size,this}var wke=xke,_ke=oN,Ske=cke,Ake=dke,Nke=fke,Eke=mke,jke=wke;function Wy(t){var e=this.__data__=new _ke(t);this.size=e.size}Wy.prototype.clear=Ske;Wy.prototype.delete=Ake;Wy.prototype.get=Nke;Wy.prototype.has=Eke;Wy.prototype.set=jke;var FJ=Wy,Pke="__lodash_hash_undefined__";function Tke(t){return this.__data__.set(t,Pke),this}var Cke=Tke;function kke(t){return this.__data__.has(t)}var Ike=kke,Oke=oR,Rke=Cke,Dke=Ike;function zS(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Oke;++e<r;)this.add(t[e])}zS.prototype.add=zS.prototype.push=Rke;zS.prototype.has=Dke;var BJ=zS;function Lke(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var UJ=Lke;function Mke(t,e){return t.has(e)}var VJ=Mke,$ke=BJ,Fke=UJ,Bke=VJ,Uke=1,Vke=2;function zke(t,e,r,n,i,a){var s=r&Uke,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,p=!0,f=r&Vke?new $ke:void 0;for(a.set(t,e),a.set(e,t);++h<o;){var v=t[h],m=e[h];if(n)var g=s?n(m,v,h,e,t,a):n(v,m,h,t,e,a);if(g!==void 0){if(g)continue;p=!1;break}if(f){if(!Fke(e,function(y,x){if(!Bke(f,x)&&(v===y||i(v,y,r,n,a)))return f.push(x)})){p=!1;break}}else if(!(v===m||i(v,m,r,n,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var zJ=zke,qke=Fc,Wke=qke.Uint8Array,Hke=Wke;function Gke(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Kke=Gke;function Yke(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var xR=Yke,G$=Zx,K$=Hke,Xke=aR,Qke=zJ,Jke=Kke,Zke=xR,e4e=1,t4e=2,r4e="[object Boolean]",n4e="[object Date]",i4e="[object Error]",a4e="[object Map]",s4e="[object Number]",o4e="[object RegExp]",l4e="[object Set]",c4e="[object String]",u4e="[object Symbol]",d4e="[object ArrayBuffer]",h4e="[object DataView]",Y$=G$?G$.prototype:void 0,Hj=Y$?Y$.valueOf:void 0;function f4e(t,e,r,n,i,a,s){switch(r){case h4e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case d4e:return!(t.byteLength!=e.byteLength||!a(new K$(t),new K$(e)));case r4e:case n4e:case s4e:return Xke(+t,+e);case i4e:return t.name==e.name&&t.message==e.message;case o4e:case c4e:return t==e+"";case a4e:var o=Jke;case l4e:var l=n&e4e;if(o||(o=Zke),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=t4e,s.set(t,e);var d=Qke(o(t),o(e),n,i,a,s);return s.delete(t),d;case u4e:if(Hj)return Hj.call(t)==Hj.call(e)}return!1}var p4e=f4e;function m4e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var qJ=m4e,g4e=qJ,v4e=Ls;function y4e(t,e,r){var n=e(t);return v4e(t)?n:g4e(n,r(t))}var b4e=y4e;function x4e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var w4e=x4e;function _4e(){return[]}var S4e=_4e,A4e=w4e,N4e=S4e,E4e=Object.prototype,j4e=E4e.propertyIsEnumerable,X$=Object.getOwnPropertySymbols,P4e=X$?function(t){return t==null?[]:(t=Object(t),A4e(X$(t),function(e){return j4e.call(t,e)}))}:N4e,T4e=P4e;function C4e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var k4e=C4e,I4e=id,O4e=ad,R4e="[object Arguments]";function D4e(t){return O4e(t)&&I4e(t)==R4e}var L4e=D4e,Q$=L4e,M4e=ad,WJ=Object.prototype,$4e=WJ.hasOwnProperty,F4e=WJ.propertyIsEnumerable,B4e=Q$(function(){return arguments}())?Q$:function(t){return M4e(t)&&$4e.call(t,"callee")&&!F4e.call(t,"callee")},wR=B4e,qS={exports:{}};function U4e(){return!1}var V4e=U4e;qS.exports;(function(t,e){var r=Fc,n=V4e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(qS,qS.exports);var HJ=qS.exports,z4e=9007199254740991,q4e=/^(?:0|[1-9]\d*)$/;function W4e(t,e){var r=typeof t;return e=e??z4e,!!e&&(r=="number"||r!="symbol"&&q4e.test(t))&&t>-1&&t%1==0&&t<e}var _R=W4e,H4e=9007199254740991;function G4e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=H4e}var SR=G4e,K4e=id,Y4e=SR,X4e=ad,Q4e="[object Arguments]",J4e="[object Array]",Z4e="[object Boolean]",eIe="[object Date]",tIe="[object Error]",rIe="[object Function]",nIe="[object Map]",iIe="[object Number]",aIe="[object Object]",sIe="[object RegExp]",oIe="[object Set]",lIe="[object String]",cIe="[object WeakMap]",uIe="[object ArrayBuffer]",dIe="[object DataView]",hIe="[object Float32Array]",fIe="[object Float64Array]",pIe="[object Int8Array]",mIe="[object Int16Array]",gIe="[object Int32Array]",vIe="[object Uint8Array]",yIe="[object Uint8ClampedArray]",bIe="[object Uint16Array]",xIe="[object Uint32Array]",Bn={};Bn[hIe]=Bn[fIe]=Bn[pIe]=Bn[mIe]=Bn[gIe]=Bn[vIe]=Bn[yIe]=Bn[bIe]=Bn[xIe]=!0;Bn[Q4e]=Bn[J4e]=Bn[uIe]=Bn[Z4e]=Bn[dIe]=Bn[eIe]=Bn[tIe]=Bn[rIe]=Bn[nIe]=Bn[iIe]=Bn[aIe]=Bn[sIe]=Bn[oIe]=Bn[lIe]=Bn[cIe]=!1;function wIe(t){return X4e(t)&&Y4e(t.length)&&!!Bn[K4e(t)]}var _Ie=wIe;function SIe(t){return function(e){return t(e)}}var GJ=SIe,WS={exports:{}};WS.exports;(function(t,e){var r=tJ,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(WS,WS.exports);var AIe=WS.exports,NIe=_Ie,EIe=GJ,J$=AIe,Z$=J$&&J$.isTypedArray,jIe=Z$?EIe(Z$):NIe,KJ=jIe,PIe=k4e,TIe=wR,CIe=Ls,kIe=HJ,IIe=_R,OIe=KJ,RIe=Object.prototype,DIe=RIe.hasOwnProperty;function LIe(t,e){var r=CIe(t),n=!r&&TIe(t),i=!r&&!n&&kIe(t),a=!r&&!n&&!i&&OIe(t),s=r||n||i||a,o=s?PIe(t.length,String):[],l=o.length;for(var u in t)(e||DIe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||IIe(u,l)))&&o.push(u);return o}var MIe=LIe,$Ie=Object.prototype;function FIe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||$Ie;return t===r}var BIe=FIe;function UIe(t,e){return function(r){return t(e(r))}}var YJ=UIe,VIe=YJ,zIe=VIe(Object.keys,Object),qIe=zIe,WIe=BIe,HIe=qIe,GIe=Object.prototype,KIe=GIe.hasOwnProperty;function YIe(t){if(!WIe(t))return HIe(t);var e=[];for(var r in Object(t))KIe.call(t,r)&&r!="constructor"&&e.push(r);return e}var XIe=YIe,QIe=iR,JIe=SR;function ZIe(t){return t!=null&&JIe(t.length)&&!QIe(t)}var rw=ZIe,eOe=MIe,tOe=XIe,rOe=rw;function nOe(t){return rOe(t)?eOe(t):tOe(t)}var AN=nOe,iOe=b4e,aOe=T4e,sOe=AN;function oOe(t){return iOe(t,sOe,aOe)}var lOe=oOe,eF=lOe,cOe=1,uOe=Object.prototype,dOe=uOe.hasOwnProperty;function hOe(t,e,r,n,i,a){var s=r&cOe,o=eF(t),l=o.length,u=eF(e),d=u.length;if(l!=d&&!s)return!1;for(var h=l;h--;){var p=o[h];if(!(s?p in e:dOe.call(e,p)))return!1}var f=a.get(t),v=a.get(e);if(f&&v)return f==e&&v==t;var m=!0;a.set(t,e),a.set(e,t);for(var g=s;++h<l;){p=o[h];var y=t[p],x=e[p];if(n)var _=s?n(x,y,p,e,t,a):n(y,x,p,t,e,a);if(!(_===void 0?y===x||i(y,x,r,n,a):_)){m=!1;break}g||(g=p=="constructor")}if(m&&!g){var S=t.constructor,N=e.constructor;S!=N&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(m=!1)}return a.delete(t),a.delete(e),m}var fOe=hOe,pOe=_m,mOe=Fc,gOe=pOe(mOe,"DataView"),vOe=gOe,yOe=_m,bOe=Fc,xOe=yOe(bOe,"Promise"),wOe=xOe,_Oe=_m,SOe=Fc,AOe=_Oe(SOe,"Set"),XJ=AOe,NOe=_m,EOe=Fc,jOe=NOe(EOe,"WeakMap"),POe=jOe,_k=vOe,Sk=sR,Ak=wOe,Nk=XJ,Ek=POe,QJ=id,Hy=nJ,tF="[object Map]",TOe="[object Object]",rF="[object Promise]",nF="[object Set]",iF="[object WeakMap]",aF="[object DataView]",COe=Hy(_k),kOe=Hy(Sk),IOe=Hy(Ak),OOe=Hy(Nk),ROe=Hy(Ek),rp=QJ;(_k&&rp(new _k(new ArrayBuffer(1)))!=aF||Sk&&rp(new Sk)!=tF||Ak&&rp(Ak.resolve())!=rF||Nk&&rp(new Nk)!=nF||Ek&&rp(new Ek)!=iF)&&(rp=function(t){var e=QJ(t),r=e==TOe?t.constructor:void 0,n=r?Hy(r):"";if(n)switch(n){case COe:return aF;case kOe:return tF;case IOe:return rF;case OOe:return nF;case ROe:return iF}return e});var DOe=rp,Gj=FJ,LOe=zJ,MOe=p4e,$Oe=fOe,sF=DOe,oF=Ls,lF=HJ,FOe=KJ,BOe=1,cF="[object Arguments]",uF="[object Array]",g2="[object Object]",UOe=Object.prototype,dF=UOe.hasOwnProperty;function VOe(t,e,r,n,i,a){var s=oF(t),o=oF(e),l=s?uF:sF(t),u=o?uF:sF(e);l=l==cF?g2:l,u=u==cF?g2:u;var d=l==g2,h=u==g2,p=l==u;if(p&&lF(t)){if(!lF(e))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new Gj),s||FOe(t)?LOe(t,e,r,n,i,a):MOe(t,e,l,r,n,i,a);if(!(r&BOe)){var f=d&&dF.call(t,"__wrapped__"),v=h&&dF.call(e,"__wrapped__");if(f||v){var m=f?t.value():t,g=v?e.value():e;return a||(a=new Gj),i(m,g,r,n,a)}}return p?(a||(a=new Gj),$Oe(t,e,r,n,i,a)):!1}var zOe=VOe,qOe=zOe,hF=ad;function JJ(t,e,r,n,i){return t===e?!0:t==null||e==null||!hF(t)&&!hF(e)?t!==t&&e!==e:qOe(t,e,r,n,JJ,i)}var AR=JJ,WOe=FJ,HOe=AR,GOe=1,KOe=2;function YOe(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var h=new WOe;if(n)var p=n(u,d,l,t,e,h);if(!(p===void 0?HOe(d,u,GOe|KOe,n,h):p))return!1}}return!0}var XOe=YOe,QOe=Nf;function JOe(t){return t===t&&!QOe(t)}var ZJ=JOe,ZOe=ZJ,e3e=AN;function t3e(t){for(var e=e3e(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ZOe(i)]}return e}var r3e=t3e;function n3e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var eZ=n3e,i3e=XOe,a3e=r3e,s3e=eZ;function o3e(t){var e=a3e(t);return e.length==1&&e[0][2]?s3e(e[0][0],e[0][1]):function(r){return r===t||i3e(r,t,e)}}var l3e=o3e;function c3e(t,e){return t!=null&&e in Object(t)}var u3e=c3e,d3e=lJ,h3e=wR,f3e=Ls,p3e=_R,m3e=SR,g3e=cN;function v3e(t,e,r){e=d3e(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=g3e(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&m3e(i)&&p3e(s,i)&&(f3e(t)||h3e(t)))}var y3e=v3e,b3e=u3e,x3e=y3e;function w3e(t,e){return t!=null&&x3e(t,e,b3e)}var _3e=w3e,S3e=AR,A3e=cJ,N3e=_3e,E3e=nR,j3e=ZJ,P3e=eZ,T3e=cN,C3e=1,k3e=2;function I3e(t,e){return E3e(t)&&j3e(e)?P3e(T3e(t),e):function(r){var n=A3e(r,t);return n===void 0&&n===e?N3e(r,t):S3e(e,n,C3e|k3e)}}var O3e=I3e;function R3e(t){return t}var Gy=R3e;function D3e(t){return function(e){return e==null?void 0:e[t]}}var L3e=D3e,M3e=uR;function $3e(t){return function(e){return M3e(e,t)}}var F3e=$3e,B3e=L3e,U3e=F3e,V3e=nR,z3e=cN;function q3e(t){return V3e(t)?B3e(z3e(t)):U3e(t)}var W3e=q3e,H3e=l3e,G3e=O3e,K3e=Gy,Y3e=Ls,X3e=W3e;function Q3e(t){return typeof t=="function"?t:t==null?K3e:typeof t=="object"?Y3e(t)?G3e(t[0],t[1]):H3e(t):X3e(t)}var Bc=Q3e;function J3e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var tZ=J3e;function Z3e(t){return t!==t}var eRe=Z3e;function tRe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var rRe=tRe,nRe=tZ,iRe=eRe,aRe=rRe;function sRe(t,e,r){return e===e?aRe(t,e,r):nRe(t,iRe,r)}var oRe=sRe,lRe=oRe;function cRe(t,e){var r=t==null?0:t.length;return!!r&&lRe(t,e,0)>-1}var uRe=cRe;function dRe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var hRe=dRe;function fRe(){}var pRe=fRe,Kj=XJ,mRe=pRe,gRe=xR,vRe=1/0,yRe=Kj&&1/gRe(new Kj([,-0]))[1]==vRe?function(t){return new Kj(t)}:mRe,bRe=yRe,xRe=BJ,wRe=uRe,_Re=hRe,SRe=VJ,ARe=bRe,NRe=xR,ERe=200;function jRe(t,e,r){var n=-1,i=wRe,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=_Re;else if(a>=ERe){var u=e?null:ARe(t);if(u)return NRe(u);s=!1,i=SRe,l=new xRe}else l=e?[]:o;e:for(;++n<a;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,s&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue e;e&&l.push(h),o.push(d)}else i(l,h,r)||(l!==o&&l.push(h),o.push(d))}return o}var PRe=jRe,TRe=Bc,CRe=PRe;function kRe(t,e){return t&&t.length?CRe(t,TRe(e)):[]}var IRe=kRe;const fF=Zr(IRe);function rZ(t,e,r){return e===!0?fF(t,r):rr(e)?fF(t,e):t}function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}var ORe=["ref"];function pF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function su(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(r),!0).forEach(function(n){NN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iZ(n.key),n)}}function DRe(t,e,r){return e&&mF(t.prototype,e),r&&mF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LRe(t,e,r){return e=HS(e),MRe(t,nZ()?Reflect.construct(e,r||[],HS(t).constructor):e.apply(t,r))}function MRe(t,e){if(e&&(Wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Re(t)}function $Re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nZ=function(){return!!t})()}function HS(t){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},HS(t)}function FRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jk(t,e)}function jk(t,e){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jk(t,e)}function NN(t,e,r){return e=iZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iZ(t){var e=BRe(t,"string");return Wv(e)=="symbol"?e:e+""}function BRe(t,e){if(Wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function URe(t,e){if(t==null)return{};var r=VRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zRe(t){return t.value}function qRe(t,e){if(ue.isValidElement(t))return ue.cloneElement(t,e);if(typeof t=="function")return ue.createElement(t,e);e.ref;var r=URe(e,ORe);return ue.createElement(bR,r)}var gF=1,Jg=function(t){function e(){var r;RRe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=LRe(this,e,[].concat(i)),NN(r,"lastBoundingBox",{width:-1,height:-1}),r}return FRe(e,t),DRe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gF||Math.abs(i.height-this.lastBoundingBox.height)>gF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?su({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,h,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();h={left:((u||0)-f.width)/2}}else h=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return su(su({},h),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=su(su({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ue.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){n.wrapperNode=f}},qRe(a,su(su({},this.props),{},{payload:rZ(d,u,zRe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=su(su({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&et(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(P.PureComponent);NN(Jg,"displayName","Legend");NN(Jg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vF=Zx,WRe=wR,HRe=Ls,yF=vF?vF.isConcatSpreadable:void 0;function GRe(t){return HRe(t)||WRe(t)||!!(yF&&t&&t[yF])}var KRe=GRe,YRe=qJ,XRe=KRe;function aZ(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=XRe),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?aZ(o,e-1,r,n,i):YRe(i,o):n||(i[i.length]=o)}return i}var sZ=aZ;function QRe(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var JRe=QRe,ZRe=JRe,eDe=ZRe(),tDe=eDe,rDe=tDe,nDe=AN;function iDe(t,e){return t&&rDe(t,e,nDe)}var oZ=iDe,aDe=rw;function sDe(t,e){return function(r,n){if(r==null)return r;if(!aDe(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var oDe=sDe,lDe=oZ,cDe=oDe,uDe=cDe(lDe),NR=uDe,dDe=NR,hDe=rw;function fDe(t,e){var r=-1,n=hDe(t)?Array(t.length):[];return dDe(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var lZ=fDe;function pDe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var mDe=pDe,bF=By;function gDe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=bF(t),s=e!==void 0,o=e===null,l=e===e,u=bF(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var vDe=gDe,yDe=vDe;function bDe(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=yDe(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var xDe=bDe,Yj=cR,wDe=uR,_De=Bc,SDe=lZ,ADe=mDe,NDe=GJ,EDe=xDe,jDe=Gy,PDe=Ls;function TDe(t,e,r){e.length?e=Yj(e,function(a){return PDe(a)?function(s){return wDe(s,a.length===1?a[0]:a)}:a}):e=[jDe];var n=-1;e=Yj(e,NDe(_De));var i=SDe(t,function(a,s,o){var l=Yj(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return ADe(i,function(a,s){return EDe(a,s,r)})}var CDe=TDe;function kDe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var IDe=kDe,ODe=IDe,xF=Math.max;function RDe(t,e,r){return e=xF(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=xF(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),ODe(t,this,o)}}var DDe=RDe;function LDe(t){return function(){return t}}var MDe=LDe,$De=_m,FDe=function(){try{var t=$De(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cZ=FDe,BDe=MDe,wF=cZ,UDe=Gy,VDe=wF?function(t,e){return wF(t,"toString",{configurable:!0,enumerable:!1,value:BDe(e),writable:!0})}:UDe,zDe=VDe,qDe=800,WDe=16,HDe=Date.now;function GDe(t){var e=0,r=0;return function(){var n=HDe(),i=WDe-(n-r);if(r=n,i>0){if(++e>=qDe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var KDe=GDe,YDe=zDe,XDe=KDe,QDe=XDe(YDe),JDe=QDe,ZDe=Gy,e6e=DDe,t6e=JDe;function r6e(t,e){return t6e(e6e(t,e,ZDe),t+"")}var n6e=r6e,i6e=aR,a6e=rw,s6e=_R,o6e=Nf;function l6e(t,e,r){if(!o6e(r))return!1;var n=typeof e;return(n=="number"?a6e(r)&&s6e(e,r.length):n=="string"&&e in r)?i6e(r[e],t):!1}var EN=l6e,c6e=sZ,u6e=CDe,d6e=n6e,_F=EN,h6e=d6e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&_F(t,e[0],e[1])?e=[]:r>2&&_F(e[0],e[1],e[2])&&(e=[e[0]]),u6e(t,c6e(e,1),[])}),f6e=h6e;const ER=Zr(f6e);function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function Pk(){return Pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pk.apply(this,arguments)}function p6e(t,e){return y6e(t)||v6e(t,e)||g6e(t,e)||m6e()}function m6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g6e(t,e){if(t){if(typeof t=="string")return SF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SF(t,e)}}function SF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function y6e(t){if(Array.isArray(t))return t}function AF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(r),!0).forEach(function(n){b6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b6e(t,e,r){return e=x6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x6e(t){var e=w6e(t,"string");return Pb(e)=="symbol"?e:e+""}function w6e(t,e){if(Pb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _6e(t){return Array.isArray(t)&&qi(t[0])&&qi(t[1])?t.join(" ~ "):t}var S6e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,h=e.formatter,p=e.itemSorter,f=e.wrapperClassName,v=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,_=function(){if(d&&d.length){var O={padding:0,margin:0},L=(p?ER(d,p):d).map(function(z,re){if(z.type==="none")return null;var Y=Xj({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},o),K=z.formatter||h||_6e,q=z.value,Z=z.name,ve=q,ce=Z;if(K&&ve!=null&&ce!=null){var F=K(q,Z,z,re,d);if(Array.isArray(F)){var V=p6e(F,2);ve=V[0],ce=V[1]}else ve=F}return ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:Y},qi(ce)?ue.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,qi(ce)?ue.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ue.createElement("span",{className:"recharts-tooltip-item-value"},ve),ue.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return ue.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},S=Xj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=Xj({margin:0},u),C=!xr(m),j=C?m:"",E=vr("recharts-default-tooltip",f),I=vr("recharts-tooltip-label",v);C&&g&&d!==void 0&&d!==null&&(j=g(m,d));var D=x?{role:"status","aria-live":"assertive"}:{};return ue.createElement("div",Pk({className:E,style:S},D),ue.createElement("p",{className:I,style:N},ue.isValidElement(j)?j:"".concat(j)),_())};function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function v2(t,e,r){return e=A6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A6e(t){var e=N6e(t,"string");return Tb(e)=="symbol"?e:e+""}function N6e(t,e){if(Tb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R0="recharts-tooltip-wrapper",E6e={visibility:"hidden"};function j6e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return vr(R0,v2(v2(v2(v2({},"".concat(R0,"-right"),et(r)&&e&&et(e.x)&&r>=e.x),"".concat(R0,"-left"),et(r)&&e&&et(e.x)&&r<e.x),"".concat(R0,"-bottom"),et(n)&&e&&et(e.y)&&n>=e.y),"".concat(R0,"-top"),et(n)&&e&&et(e.y)&&n<e.y))}function NF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&et(a[n]))return a[n];var d=r[n]-o-i,h=r[n]+i;if(e[n])return s[n]?d:h;if(s[n]){var p=d,f=l[n];return p<f?Math.max(h,l[n]):Math.max(d,l[n])}var v=h+o,m=l[n]+u;return v>m?Math.max(d,l[n]):Math.max(h,l[n])}function P6e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function T6e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,h;return s.height>0&&s.width>0&&r?(d=NF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=NF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=P6e({translateX:d,translateY:h,useTranslate3d:o})):u=E6e,{cssProperties:u,cssClasses:j6e({translateX:d,translateY:h,coordinate:r})}}function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function EF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(r),!0).forEach(function(n){Ck(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dZ(n.key),n)}}function I6e(t,e,r){return e&&k6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O6e(t,e,r){return e=GS(e),R6e(t,uZ()?Reflect.construct(e,r||[],GS(t).constructor):e.apply(t,r))}function R6e(t,e){if(e&&(Hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D6e(t)}function D6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uZ=function(){return!!t})()}function GS(t){return GS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GS(t)}function L6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tk(t,e)}function Tk(t,e){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tk(t,e)}function Ck(t,e,r){return e=dZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dZ(t){var e=M6e(t,"string");return Hv(e)=="symbol"?e:e+""}function M6e(t,e){if(Hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PF=1,$6e=function(t){function e(){var r;C6e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=O6e(this,e,[].concat(i)),Ck(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ck(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return L6e(e,t),I6e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>PF||Math.abs(n.height-this.state.lastBoundingBox.height)>PF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,f=i.offset,v=i.position,m=i.reverseDirection,g=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,_=T6e({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:f,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),S=_.cssClasses,N=_.cssProperties,C=jF(jF({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},x);return ue.createElement("div",{tabIndex:-1,className:S,style:C,ref:function(E){n.wrapperNode=E}},u)}}])}(P.PureComponent),F6e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Du={isSsr:F6e(),get:function(e){return Du[e]},set:function(e,r){if(typeof e=="string")Du[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Du[i]=e[i]})}}};function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){jR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fZ(n.key),n)}}function V6e(t,e,r){return e&&U6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z6e(t,e,r){return e=KS(e),q6e(t,hZ()?Reflect.construct(e,r||[],KS(t).constructor):e.apply(t,r))}function q6e(t,e){if(e&&(Gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W6e(t)}function W6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hZ=function(){return!!t})()}function KS(t){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},KS(t)}function H6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kk(t,e)}function kk(t,e){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kk(t,e)}function jR(t,e,r){return e=fZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fZ(t){var e=G6e(t,"string");return Gv(e)=="symbol"?e:e+""}function G6e(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K6e(t){return t.dataKey}function Y6e(t,e){return ue.isValidElement(t)?ue.cloneElement(t,e):typeof t=="function"?ue.createElement(t,e):ue.createElement(S6e,e)}var Ss=function(t){function e(){return B6e(this,e),z6e(this,e,arguments)}return H6e(e,t),V6e(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,p=i.isAnimationActive,f=i.offset,v=i.payload,m=i.payloadUniqBy,g=i.position,y=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,N=v??[];h&&N.length&&(N=rZ(v.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),m,K6e));var C=N.length>0;return ue.createElement($6e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:d,hasPayload:C,offset:f,position:g,reverseDirection:y,useTranslate3d:x,viewBox:_,wrapperStyle:S},Y6e(u,CF(CF({},this.props),{},{payload:N})))}}])}(P.PureComponent);jR(Ss,"displayName","Tooltip");jR(Ss,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Du.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var X6e=Fc,Q6e=function(){return X6e.Date.now()},J6e=Q6e,Z6e=/\s/;function eLe(t){for(var e=t.length;e--&&Z6e.test(t.charAt(e)););return e}var tLe=eLe,rLe=tLe,nLe=/^\s+/;function iLe(t){return t&&t.slice(0,rLe(t)+1).replace(nLe,"")}var aLe=iLe,sLe=aLe,kF=Nf,oLe=By,IF=NaN,lLe=/^[-+]0x[0-9a-f]+$/i,cLe=/^0b[01]+$/i,uLe=/^0o[0-7]+$/i,dLe=parseInt;function hLe(t){if(typeof t=="number")return t;if(oLe(t))return IF;if(kF(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=kF(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=sLe(t);var r=cLe.test(t);return r||uLe.test(t)?dLe(t.slice(2),r?2:8):lLe.test(t)?IF:+t}var pZ=hLe,fLe=Nf,Qj=J6e,OF=pZ,pLe="Expected a function",mLe=Math.max,gLe=Math.min;function vLe(t,e,r){var n,i,a,s,o,l,u=0,d=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(pLe);e=OF(e)||0,fLe(r)&&(d=!!r.leading,h="maxWait"in r,a=h?mLe(OF(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function f(C){var j=n,E=i;return n=i=void 0,u=C,s=t.apply(E,j),s}function v(C){return u=C,o=setTimeout(y,e),d?f(C):s}function m(C){var j=C-l,E=C-u,I=e-j;return h?gLe(I,a-E):I}function g(C){var j=C-l,E=C-u;return l===void 0||j>=e||j<0||h&&E>=a}function y(){var C=Qj();if(g(C))return x(C);o=setTimeout(y,m(C))}function x(C){return o=void 0,p&&n?f(C):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function S(){return o===void 0?s:x(Qj())}function N(){var C=Qj(),j=g(C);if(n=arguments,i=this,l=C,j){if(o===void 0)return v(l);if(h)return clearTimeout(o),o=setTimeout(y,e),f(l)}return o===void 0&&(o=setTimeout(y,e)),s}return N.cancel=_,N.flush=S,N}var yLe=vLe,bLe=yLe,xLe=Nf,wLe="Expected a function";function _Le(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(wLe);return xLe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),bLe(t,e,{leading:n,maxWait:e,trailing:i})}var SLe=_Le;const mZ=Zr(SLe);function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){ALe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ALe(t,e,r){return e=NLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NLe(t){var e=ELe(t,"string");return Cb(e)=="symbol"?e:e+""}function ELe(t,e){if(Cb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jLe(t,e){return kLe(t)||CLe(t,e)||TLe(t,e)||PLe()}function PLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TLe(t,e){if(t){if(typeof t=="string")return DF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DF(t,e)}}function DF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function kLe(t){if(Array.isArray(t))return t}var C1=P.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,p=t.maxHeight,f=t.children,v=t.debounce,m=v===void 0?0:v,g=t.id,y=t.className,x=t.onResize,_=t.style,S=_===void 0?{}:_,N=P.useRef(null),C=P.useRef();C.current=x,P.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var j=P.useState({containerWidth:i.width,containerHeight:i.height}),E=jLe(j,2),I=E[0],D=E[1],k=P.useCallback(function(L,z){D(function(re){var Y=Math.round(L),K=Math.round(z);return re.containerWidth===Y&&re.containerHeight===K?re:{containerWidth:Y,containerHeight:K}})},[]);P.useEffect(function(){var L=function(Z){var ve,ce=Z[0].contentRect,F=ce.width,V=ce.height;k(F,V),(ve=C.current)===null||ve===void 0||ve.call(C,F,V)};m>0&&(L=mZ(L,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),re=N.current.getBoundingClientRect(),Y=re.width,K=re.height;return k(Y,K),z.observe(N.current),function(){z.disconnect()}},[k,m]);var O=P.useMemo(function(){var L=I.containerWidth,z=I.containerHeight;if(L<0||z<0)return null;Nl(fp(s)||fp(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Nl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var re=fp(s)?L:s,Y=fp(l)?z:l;r&&r>0&&(re?Y=re/r:Y&&(re=Y*r),p&&Y>p&&(Y=p)),Nl(re>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,re,Y,s,l,d,h,r);var K=!Array.isArray(f)&&Ru(f.type).endsWith("Chart");return ue.Children.map(f,function(q){return ue.isValidElement(q)?P.cloneElement(q,y2({width:re,height:Y},K?{style:y2({height:"100%",width:"100%",maxHeight:Y,maxWidth:re},q.props.style)}:{})):q})},[r,f,l,p,h,d,I,s]);return ue.createElement("div",{id:g?"".concat(g):void 0,className:vr("recharts-responsive-container",y),style:y2(y2({},S),{},{width:s,height:l,minWidth:d,minHeight:h,maxHeight:p}),ref:N},O)}),jN=function(e){return null};jN.displayName="Cell";function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){ILe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ILe(t,e,r){return e=OLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OLe(t){var e=RLe(t,"string");return kb(e)=="symbol"?e:e+""}function RLe(t,e){if(kb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xm={widthCache:{},cacheCount:0},DLe=2e3,LLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MF="recharts_measurement_span";function MLe(t){var e=Ik({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var k1=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Du.isSsr)return{width:0,height:0};var n=MLe(r),i=JSON.stringify({text:e,copyStyle:n});if(Xm.widthCache[i])return Xm.widthCache[i];try{var a=document.getElementById(MF);a||(a=document.createElement("span"),a.setAttribute("id",MF),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Ik(Ik({},LLe),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Xm.widthCache[i]=l,++Xm.cacheCount>DLe&&(Xm.cacheCount=0,Xm.widthCache={}),l}catch{return{width:0,height:0}}},$Le=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function YS(t,e){return VLe(t)||ULe(t,e)||BLe(t,e)||FLe()}function FLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BLe(t,e){if(t){if(typeof t=="string")return $F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $F(t,e)}}function $F(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ULe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function VLe(t){if(Array.isArray(t))return t}function zLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WLe(n.key),n)}}function qLe(t,e,r){return e&&FF(t.prototype,e),r&&FF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WLe(t){var e=HLe(t,"string");return Ib(e)=="symbol"?e:e+""}function HLe(t,e){if(Ib(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ib(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KLe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YLe=Object.keys(gZ),Eg="NaN";function XLe(t,e){return t*gZ[e]}var b2=function(){function t(e,r){zLe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!GLe.test(r)&&(this.num=NaN,this.unit=""),YLe.includes(r)&&(this.num=XLe(e,r),this.unit="px")}return qLe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=KLe.exec(r))!==null&&n!==void 0?n:[],a=YS(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function vZ(t){if(t.includes(Eg))return Eg;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=BF.exec(e))!==null&&r!==void 0?r:[],i=YS(n,4),a=i[1],s=i[2],o=i[3],l=b2.parse(a??""),u=b2.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Eg;e=e.replace(BF,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=UF.exec(e))!==null&&h!==void 0?h:[],f=YS(p,4),v=f[1],m=f[2],g=f[3],y=b2.parse(v??""),x=b2.parse(g??""),_=m==="+"?y.add(x):y.subtract(x);if(_.isNaN())return Eg;e=e.replace(UF,_.toString())}return e}var VF=/\(([^()]*)\)/;function QLe(t){for(var e=t;e.includes("(");){var r=VF.exec(e),n=YS(r,2),i=n[1];e=e.replace(VF,vZ(i))}return e}function JLe(t){var e=t.replace(/\s+/g,"");return e=QLe(e),e=vZ(e),e}function ZLe(t){try{return JLe(t)}catch{return Eg}}function Jj(t){var e=ZLe(t.slice(5,-1));return e===Eg?"":e}var eMe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tMe=["dx","dy","angle","className","breakAll"];function Ok(){return Ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ok.apply(this,arguments)}function zF(t,e){if(t==null)return{};var r=rMe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qF(t,e){return sMe(t)||aMe(t,e)||iMe(t,e)||nMe()}function nMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iMe(t,e){if(t){if(typeof t=="string")return WF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WF(t,e)}}function WF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function sMe(t){if(Array.isArray(t))return t}var yZ=/[ \f\n\r\t\v\u2028\u2029]+/,bZ=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];xr(r)||(n?a=r.toString().split(""):a=r.toString().split(yZ));var s=a.map(function(l){return{word:l,width:k1(l,i).width}}),o=n?0:k1(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},oMe=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=et(s),h=o,p=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re.reduce(function(Y,K){var q=K.word,Z=K.width,ve=Y[Y.length-1];if(ve&&(i==null||a||ve.width+Z+n<Number(i)))ve.words.push(q),ve.width+=Z+n;else{var ce={words:[q],width:Z};Y.push(ce)}return Y},[])},f=p(r),v=function(re){return re.reduce(function(Y,K){return Y.width>K.width?Y:K})};if(!d)return f;for(var m="…",g=function(re){var Y=h.slice(0,re),K=bZ({breakAll:u,style:l,children:Y+m}).wordsWithComputedWidth,q=p(K),Z=q.length>s||v(q).width>Number(i);return[Z,q]},y=0,x=h.length-1,_=0,S;y<=x&&_<=h.length-1;){var N=Math.floor((y+x)/2),C=N-1,j=g(C),E=qF(j,2),I=E[0],D=E[1],k=g(N),O=qF(k,1),L=O[0];if(!I&&!L&&(y=N+1),I&&L&&(x=N-1),!I&&L){S=D;break}_++}return S||f},HF=function(e){var r=xr(e)?[]:e.toString().split(yZ);return[{words:r}]},lMe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Du.isSsr){var l,u,d=bZ({breakAll:s,children:i,style:a});if(d){var h=d.wordsWithComputedWidth,p=d.spaceWidth;l=h,u=p}else return HF(i);return oMe({breakAll:s,children:i,maxLines:o,style:a},l,u,r,n)}return HF(i)},GF="#808080",om=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,p=e.textAnchor,f=p===void 0?"start":p,v=e.verticalAnchor,m=v===void 0?"end":v,g=e.fill,y=g===void 0?GF:g,x=zF(e,eMe),_=P.useMemo(function(){return lMe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:h,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,h,x.style,x.width]),S=x.dx,N=x.dy,C=x.angle,j=x.className,E=x.breakAll,I=zF(x,tMe);if(!qi(n)||!qi(a))return null;var D=n+(et(S)?S:0),k=a+(et(N)?N:0),O;switch(m){case"start":O=Jj("calc(".concat(u,")"));break;case"middle":O=Jj("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=Jj("calc(".concat(_.length-1," * -").concat(o,")"));break}var L=[];if(h){var z=_[0].width,re=x.width;L.push("scale(".concat((et(re)?re/z:1)/z,")"))}return C&&L.push("rotate(".concat(C,", ").concat(D,", ").concat(k,")")),L.length&&(I.transform=L.join(" ")),ue.createElement("text",Ok({},Xt(I,!0),{x:D,y:k,className:vr("recharts-text",j),textAnchor:f,fill:y.includes("url")?GF:y}),_.map(function(Y,K){var q=Y.words.join(E?"":" ");return ue.createElement("tspan",{x:D,dy:K===0?O:o,key:"".concat(q,"-").concat(K)},q)}))};function Mh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PR(t){let e,r,n;t.length!==2?(e=Mh,r=(o,l)=>Mh(t(o),l),n=(o,l)=>t(o)-l):(e=t===Mh||t===cMe?t:uMe,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;r(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;r(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function uMe(){return 0}function xZ(t){return t===null?NaN:+t}function*dMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const hMe=PR(Mh),nw=hMe.right;PR(xZ).center;class KF extends Map{constructor(e,r=mMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(YF(this,e))}has(e){return super.has(YF(this,e))}set(e,r){return super.set(fMe(this,e),r)}delete(e){return super.delete(pMe(this,e))}}function YF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function fMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function pMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function mMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gMe(t=Mh){if(t===Mh)return wZ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function wZ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vMe=Math.sqrt(50),yMe=Math.sqrt(10),bMe=Math.sqrt(2);function XS(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=vMe?10:a>=yMe?5:a>=bMe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?XS(t,e,r*2):[o,l,u]}function Rk(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?XS(e,t,r):XS(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Dk(t,e,r){return e=+e,t=+t,r=+r,XS(t,e,r)[2]}function Lk(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Dk(e,t,r):Dk(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function XF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function QF(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _Z(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?wZ:gMe(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),h=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),f=Math.max(r,Math.floor(e-u*h/l+p)),v=Math.min(n,Math.floor(e+(l-u)*h/l+p));_Z(t,e,f,v,i)}const a=t[e];let s=r,o=n;for(D0(t,r,e),i(t[n],a)>0&&D0(t,r,n);s<o;){for(D0(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?D0(t,r,o):(++o,D0(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function D0(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xMe(t,e,r){if(t=Float64Array.from(dMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return QF(t);if(e>=1)return XF(t);var n,i=(n-1)*e,a=Math.floor(i),s=XF(_Z(t,a).subarray(0,a+1)),o=QF(t.subarray(a+1));return s+(o-s)*(i-a)}}function wMe(t,e,r=xZ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function _Me(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function el(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function sd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Mk=Symbol("implicit");function TR(){var t=new KF,e=[],r=[],n=Mk;function i(a){let s=t.get(a);if(s===void 0){if(n!==Mk)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new KF;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return TR(e,r).unknown(n)},el.apply(i,arguments),i}function Ob(){var t=TR().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function h(){var p=e().length,f=i<n,v=f?i:n,m=f?n:i;a=(m-v)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),v+=(m-v-a*(p-l))*d,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var g=_Me(p).map(function(y){return v+a*y});return r(f?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,h()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),h()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),h()):d},t.copy=function(){return Ob(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},el.apply(h(),arguments)}function SZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return SZ(e())},t}function I1(){return SZ(Ob.apply(null,arguments).paddingInner(1))}function CR(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function AZ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function iw(){}var Rb=.7,QS=1/Rb,Zg="\\s*([+-]?\\d+)\\s*",Db="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SMe=/^#([0-9a-f]{3,8})$/,AMe=new RegExp(`^rgb\\(${Zg},${Zg},${Zg}\\)$`),NMe=new RegExp(`^rgb\\(${Pc},${Pc},${Pc}\\)$`),EMe=new RegExp(`^rgba\\(${Zg},${Zg},${Zg},${Db}\\)$`),jMe=new RegExp(`^rgba\\(${Pc},${Pc},${Pc},${Db}\\)$`),PMe=new RegExp(`^hsl\\(${Db},${Pc},${Pc}\\)$`),TMe=new RegExp(`^hsla\\(${Db},${Pc},${Pc},${Db}\\)$`),JF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};CR(iw,Lb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZF,formatHex:ZF,formatHex8:CMe,formatHsl:kMe,formatRgb:e7,toString:e7});function ZF(){return this.rgb().formatHex()}function CMe(){return this.rgb().formatHex8()}function kMe(){return NZ(this).formatHsl()}function e7(){return this.rgb().formatRgb()}function Lb(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=SMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?t7(e):r===3?new Ts(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?x2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?x2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AMe.exec(t))?new Ts(e[1],e[2],e[3],1):(e=NMe.exec(t))?new Ts(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EMe.exec(t))?x2(e[1],e[2],e[3],e[4]):(e=jMe.exec(t))?x2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PMe.exec(t))?i7(e[1],e[2]/100,e[3]/100,1):(e=TMe.exec(t))?i7(e[1],e[2]/100,e[3]/100,e[4]):JF.hasOwnProperty(t)?t7(JF[t]):t==="transparent"?new Ts(NaN,NaN,NaN,0):null}function t7(t){return new Ts(t>>16&255,t>>8&255,t&255,1)}function x2(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ts(t,e,r,n)}function IMe(t){return t instanceof iw||(t=Lb(t)),t?(t=t.rgb(),new Ts(t.r,t.g,t.b,t.opacity)):new Ts}function $k(t,e,r,n){return arguments.length===1?IMe(t):new Ts(t,e,r,n??1)}function Ts(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}CR(Ts,$k,AZ(iw,{brighter(t){return t=t==null?QS:Math.pow(QS,t),new Ts(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rb:Math.pow(Rb,t),new Ts(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ts(Op(this.r),Op(this.g),Op(this.b),JS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r7,formatHex:r7,formatHex8:OMe,formatRgb:n7,toString:n7}));function r7(){return`#${pp(this.r)}${pp(this.g)}${pp(this.b)}`}function OMe(){return`#${pp(this.r)}${pp(this.g)}${pp(this.b)}${pp((isNaN(this.opacity)?1:this.opacity)*255)}`}function n7(){const t=JS(this.opacity);return`${t===1?"rgb(":"rgba("}${Op(this.r)}, ${Op(this.g)}, ${Op(this.b)}${t===1?")":`, ${t})`}`}function JS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Op(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pp(t){return t=Op(t),(t<16?"0":"")+t.toString(16)}function i7(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new yl(t,e,r,n)}function NZ(t){if(t instanceof yl)return new yl(t.h,t.s,t.l,t.opacity);if(t instanceof iw||(t=Lb(t)),!t)return new yl;if(t instanceof yl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new yl(s,o,l,t.opacity)}function RMe(t,e,r,n){return arguments.length===1?NZ(t):new yl(t,e,r,n??1)}function yl(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}CR(yl,RMe,AZ(iw,{brighter(t){return t=t==null?QS:Math.pow(QS,t),new yl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rb:Math.pow(Rb,t),new yl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ts(Zj(t>=240?t-240:t+120,i,n),Zj(t,i,n),Zj(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new yl(a7(this.h),w2(this.s),w2(this.l),JS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=JS(this.opacity);return`${t===1?"hsl(":"hsla("}${a7(this.h)}, ${w2(this.s)*100}%, ${w2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function a7(t){return t=(t||0)%360,t<0?t+360:t}function w2(t){return Math.max(0,Math.min(1,t||0))}function Zj(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const kR=t=>()=>t;function DMe(t,e){return function(r){return t+r*e}}function LMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function MMe(t){return(t=+t)==1?EZ:function(e,r){return r-e?LMe(e,r,t):kR(isNaN(e)?r:e)}}function EZ(t,e){var r=e-t;return r?DMe(t,r):kR(isNaN(t)?e:t)}const s7=function t(e){var r=MMe(e);function n(i,a){var s=r((i=$k(i)).r,(a=$k(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=EZ(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function $Me(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function FMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Ky(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function UMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ZS(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function VMe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ky(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Fk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eP=new RegExp(Fk.source,"g");function zMe(t){return function(){return t}}function qMe(t){return function(e){return t(e)+""}}function WMe(t,e){var r=Fk.lastIndex=eP.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Fk.exec(t))&&(i=eP.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ZS(n,i)})),r=eP.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?qMe(l[0].x):zMe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function Ky(t,e){var r=typeof e,n;return e==null||r==="boolean"?kR(e):(r==="number"?ZS:r==="string"?(n=Lb(e))?(e=n,s7):WMe:e instanceof Lb?s7:e instanceof Date?UMe:FMe(e)?$Me:Array.isArray(e)?BMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VMe:ZS)(t,e)}function IR(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function HMe(t,e){e===void 0&&(e=t,t=Ky);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function GMe(t){return function(){return t}}function e5(t){return+t}var o7=[0,1];function as(t){return t}function Bk(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:GMe(isNaN(e)?NaN:.5)}function KMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function YMe(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Bk(i,n),a=r(s,a)):(n=Bk(n,i),a=r(a,s)),function(o){return a(n(o))}}function XMe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Bk(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=nw(t,o,1,n)-1;return a[l](i[l](o))}}function aw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function PN(){var t=o7,e=o7,r=Ky,n,i,a,s=as,o,l,u;function d(){var p=Math.min(t.length,e.length);return s!==as&&(s=KMe(t[0],t[p-1])),o=p>2?XMe:YMe,l=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return h.invert=function(p){return s(i((u||(u=o(e,t.map(n),ZS)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,e5),d()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=IR,d()},h.clamp=function(p){return arguments.length?(s=p?!0:as,d()):s!==as},h.interpolate=function(p){return arguments.length?(r=p,d()):r},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,f){return n=p,i=f,d()}}function OR(){return PN()(as,as)}function QMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function t5(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Kv(t){return t=t5(Math.abs(t)),t?t[1]:NaN}function JMe(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function ZMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var e8e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mb(t){if(!(e=e8e.exec(t)))throw new Error("invalid format: "+t);var e;return new RR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mb.prototype=RR.prototype;function RR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t8e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var jZ;function r8e(t,e){var r=t5(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(jZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+t5(t,Math.max(0,e+a-1))[0]}function l7(t,e){var r=t5(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const c7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:QMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>l7(t*100,e),r:l7,s:r8e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function u7(t){return t}var d7=Array.prototype.map,h7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function n8e(t){var e=t.grouping===void 0||t.thousands===void 0?u7:JMe(d7.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?u7:ZMe(d7.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Mb(h);var p=h.fill,f=h.align,v=h.sign,m=h.symbol,g=h.zero,y=h.width,x=h.comma,_=h.precision,S=h.trim,N=h.type;N==="n"?(x=!0,N="g"):c7[N]||(_===void 0&&(_=12),S=!0,N="g"),(g||p==="0"&&f==="=")&&(g=!0,p="0",f="=");var C=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=m==="$"?n:/[%p]/.test(N)?s:"",E=c7[N],I=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(k){var O=C,L=j,z,re,Y;if(N==="c")L=E(k)+L,k="";else{k=+k;var K=k<0||1/k<0;if(k=isNaN(k)?l:E(Math.abs(k),_),S&&(k=t8e(k)),K&&+k==0&&v!=="+"&&(K=!1),O=(K?v==="("?v:o:v==="-"||v==="("?"":v)+O,L=(N==="s"?h7[8+jZ/3]:"")+L+(K&&v==="("?")":""),I){for(z=-1,re=k.length;++z<re;)if(Y=k.charCodeAt(z),48>Y||Y>57){L=(Y===46?i+k.slice(z+1):k.slice(z))+L,k=k.slice(0,z);break}}}x&&!g&&(k=e(k,1/0));var q=O.length+k.length+L.length,Z=q<y?new Array(y-q+1).join(p):"";switch(x&&g&&(k=e(Z+k,Z.length?y-L.length:1/0),Z=""),f){case"<":k=O+k+L+Z;break;case"=":k=O+Z+k+L;break;case"^":k=Z.slice(0,q=Z.length>>1)+O+k+L+Z.slice(q);break;default:k=Z+O+k+L;break}return a(k)}return D.toString=function(){return h+""},D}function d(h,p){var f=u((h=Mb(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Kv(p)/3)))*3,m=Math.pow(10,-v),g=h7[8+v/3];return function(y){return f(m*y)+g}}return{format:u,formatPrefix:d}}var _2,DR,PZ;i8e({thousands:",",grouping:[3],currency:["$",""]});function i8e(t){return _2=n8e(t),DR=_2.format,PZ=_2.formatPrefix,_2}function a8e(t){return Math.max(0,-Kv(Math.abs(t)))}function s8e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kv(e)/3)))*3-Kv(Math.abs(t)))}function o8e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kv(e)-Kv(t))+1}function TZ(t,e,r,n){var i=Lk(t,e,r),a;switch(n=Mb(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=s8e(i,s))&&(n.precision=a),PZ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=o8e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=a8e(i))&&(n.precision=a-(n.type==="%")*2);break}}return DR(n)}function Ef(t){var e=t.domain;return t.ticks=function(r){var n=e();return Rk(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return TZ(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Dk(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function r5(){var t=OR();return t.copy=function(){return aw(t,r5())},el.apply(t,arguments),Ef(t)}function CZ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,e5),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return CZ(t).unknown(e)},t=arguments.length?Array.from(t,e5):[0,1],Ef(r)}function kZ(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function f7(t){return Math.log(t)}function p7(t){return Math.exp(t)}function l8e(t){return-Math.log(-t)}function c8e(t){return-Math.exp(-t)}function u8e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function d8e(t){return t===10?u8e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function h8e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function m7(t){return(e,r)=>-t(-e,r)}function LR(t){const e=t(f7,p7),r=e.domain;let n=10,i,a;function s(){return i=h8e(n),a=d8e(n),r()[0]<0?(i=m7(i),a=m7(a),t(l8e,c8e)):t(f7,p7),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let p=i(u),f=i(d),v,m;const g=o==null?10:+o;let y=[];if(!(n%1)&&f-p<g){if(p=Math.floor(p),f=Math.ceil(f),u>0){for(;p<=f;++p)for(v=1;v<n;++v)if(m=p<0?v/a(-p):v*a(p),!(m<u)){if(m>d)break;y.push(m)}}else for(;p<=f;++p)for(v=n-1;v>=1;--v)if(m=p>0?v/a(-p):v*a(p),!(m<u)){if(m>d)break;y.push(m)}y.length*2<g&&(y=Rk(u,d,g))}else y=Rk(p,f,Math.min(f-p,g)).map(a);return h?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Mb(l)).precision==null&&(l.trim=!0),l=DR(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?l(d):""}},e.nice=()=>r(kZ(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function IZ(){const t=LR(PN()).domain([1,10]);return t.copy=()=>aw(t,IZ()).base(t.base()),el.apply(t,arguments),t}function g7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function v7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function MR(t){var e=1,r=t(g7(e),v7(e));return r.constant=function(n){return arguments.length?t(g7(e=+n),v7(e)):e},Ef(r)}function OZ(){var t=MR(PN());return t.copy=function(){return aw(t,OZ()).constant(t.constant())},el.apply(t,arguments)}function y7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function f8e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function p8e(t){return t<0?-t*t:t*t}function $R(t){var e=t(as,as),r=1;function n(){return r===1?t(as,as):r===.5?t(f8e,p8e):t(y7(r),y7(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ef(e)}function FR(){var t=$R(PN());return t.copy=function(){return aw(t,FR()).exponent(t.exponent())},el.apply(t,arguments),t}function m8e(){return FR.apply(null,arguments).exponent(.5)}function b7(t){return Math.sign(t)*t*t}function g8e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function RZ(){var t=OR(),e=[0,1],r=!1,n;function i(a){var s=g8e(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(b7(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,e5)).map(b7)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RZ(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},el.apply(i,arguments),Ef(i)}function DZ(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=wMe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[nw(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Mh),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return DZ().domain(t).range(e).unknown(n)},el.apply(a,arguments)}function LZ(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[nw(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return LZ().domain([t,e]).range(i).unknown(a)},el.apply(Ef(s),arguments)}function MZ(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[nw(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return MZ().domain(t).range(e).unknown(r)},el.apply(i,arguments)}const tP=new Date,rP=new Date;function Ki(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Ki(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(tP.setTime(+a),rP.setTime(+s),t(tP),t(rP),Math.floor(r(tP,rP))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const n5=Ki(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);n5.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ki(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):n5);n5.range;const Nu=1e3,qo=Nu*60,Eu=qo*60,Ku=Eu*24,BR=Ku*7,x7=Ku*30,nP=Ku*365,mp=Ki(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Nu)},(t,e)=>(e-t)/Nu,t=>t.getUTCSeconds());mp.range;const UR=Ki(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nu)},(t,e)=>{t.setTime(+t+e*qo)},(t,e)=>(e-t)/qo,t=>t.getMinutes());UR.range;const VR=Ki(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qo)},(t,e)=>(e-t)/qo,t=>t.getUTCMinutes());VR.range;const zR=Ki(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nu-t.getMinutes()*qo)},(t,e)=>{t.setTime(+t+e*Eu)},(t,e)=>(e-t)/Eu,t=>t.getHours());zR.range;const qR=Ki(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Eu)},(t,e)=>(e-t)/Eu,t=>t.getUTCHours());qR.range;const sw=Ki(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qo)/Ku,t=>t.getDate()-1);sw.range;const TN=Ki(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ku,t=>t.getUTCDate()-1);TN.range;const $Z=Ki(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ku,t=>Math.floor(t/Ku));$Z.range;function Sm(t){return Ki(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qo)/BR)}const CN=Sm(0),i5=Sm(1),v8e=Sm(2),y8e=Sm(3),Yv=Sm(4),b8e=Sm(5),x8e=Sm(6);CN.range;i5.range;v8e.range;y8e.range;Yv.range;b8e.range;x8e.range;function Am(t){return Ki(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/BR)}const kN=Am(0),a5=Am(1),w8e=Am(2),_8e=Am(3),Xv=Am(4),S8e=Am(5),A8e=Am(6);kN.range;a5.range;w8e.range;_8e.range;Xv.range;S8e.range;A8e.range;const WR=Ki(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());WR.range;const HR=Ki(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());HR.range;const Yu=Ki(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Yu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ki(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Yu.range;const Xu=Ki(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ki(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Xu.range;function FZ(t,e,r,n,i,a){const s=[[mp,1,Nu],[mp,5,5*Nu],[mp,15,15*Nu],[mp,30,30*Nu],[a,1,qo],[a,5,5*qo],[a,15,15*qo],[a,30,30*qo],[i,1,Eu],[i,3,3*Eu],[i,6,6*Eu],[i,12,12*Eu],[n,1,Ku],[n,2,2*Ku],[r,1,BR],[e,1,x7],[e,3,3*x7],[t,1,nP]];function o(u,d,h){const p=d<u;p&&([u,d]=[d,u]);const f=h&&typeof h.range=="function"?h:l(u,d,h),v=f?f.range(u,+d+1):[];return p?v.reverse():v}function l(u,d,h){const p=Math.abs(d-u)/h,f=PR(([,,g])=>g).right(s,p);if(f===s.length)return t.every(Lk(u/nP,d/nP,h));if(f===0)return n5.every(Math.max(Lk(u,d,h),1));const[v,m]=s[p/s[f-1][2]<s[f][2]/p?f-1:f];return v.every(m)}return[o,l]}const[N8e,E8e]=FZ(Xu,HR,kN,$Z,qR,VR),[j8e,P8e]=FZ(Yu,WR,CN,sw,zR,UR);function iP(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function aP(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function L0(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function T8e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=M0(i),d=$0(i),h=M0(a),p=$0(a),f=M0(s),v=$0(s),m=M0(o),g=$0(o),y=M0(l),x=$0(l),_={a:K,A:q,b:Z,B:ve,c:null,d:E7,e:E7,f:J8e,g:l$e,G:u$e,H:Y8e,I:X8e,j:Q8e,L:BZ,m:Z8e,M:e$e,p:ce,q:F,Q:T7,s:C7,S:t$e,u:r$e,U:n$e,V:i$e,w:a$e,W:s$e,x:null,X:null,y:o$e,Y:c$e,Z:d$e,"%":P7},S={a:V,A:G,b:oe,B:J,c:null,d:j7,e:j7,f:m$e,g:N$e,G:j$e,H:h$e,I:f$e,j:p$e,L:VZ,m:g$e,M:v$e,p:ie,q:be,Q:T7,s:C7,S:y$e,u:b$e,U:x$e,V:w$e,w:_$e,W:S$e,x:null,X:null,y:A$e,Y:E$e,Z:P$e,"%":P7},N={a:D,A:k,b:O,B:L,c:z,d:A7,e:A7,f:W8e,g:S7,G:_7,H:N7,I:N7,j:U8e,L:q8e,m:B8e,M:V8e,p:I,q:F8e,Q:G8e,s:K8e,S:z8e,u:R8e,U:D8e,V:L8e,w:O8e,W:M8e,x:re,X:Y,y:S7,Y:_7,Z:$8e,"%":H8e};_.x=C(r,_),_.X=C(n,_),_.c=C(e,_),S.x=C(r,S),S.X=C(n,S),S.c=C(e,S);function C(he,T){return function(X){var ne=[],de=-1,ge=0,ee=he.length,Ne,De,Le;for(X instanceof Date||(X=new Date(+X));++de<ee;)he.charCodeAt(de)===37&&(ne.push(he.slice(ge,de)),(De=w7[Ne=he.charAt(++de)])!=null?Ne=he.charAt(++de):De=Ne==="e"?" ":"0",(Le=T[Ne])&&(Ne=Le(X,De)),ne.push(Ne),ge=de+1);return ne.push(he.slice(ge,de)),ne.join("")}}function j(he,T){return function(X){var ne=L0(1900,void 0,1),de=E(ne,he,X+="",0),ge,ee;if(de!=X.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(T&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(ge=aP(L0(ne.y,0,1)),ee=ge.getUTCDay(),ge=ee>4||ee===0?a5.ceil(ge):a5(ge),ge=TN.offset(ge,(ne.V-1)*7),ne.y=ge.getUTCFullYear(),ne.m=ge.getUTCMonth(),ne.d=ge.getUTCDate()+(ne.w+6)%7):(ge=iP(L0(ne.y,0,1)),ee=ge.getDay(),ge=ee>4||ee===0?i5.ceil(ge):i5(ge),ge=sw.offset(ge,(ne.V-1)*7),ne.y=ge.getFullYear(),ne.m=ge.getMonth(),ne.d=ge.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),ee="Z"in ne?aP(L0(ne.y,0,1)).getUTCDay():iP(L0(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(ee+5)%7:ne.w+ne.U*7-(ee+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,aP(ne)):iP(ne)}}function E(he,T,X,ne){for(var de=0,ge=T.length,ee=X.length,Ne,De;de<ge;){if(ne>=ee)return-1;if(Ne=T.charCodeAt(de++),Ne===37){if(Ne=T.charAt(de++),De=N[Ne in w7?T.charAt(de++):Ne],!De||(ne=De(he,X,ne))<0)return-1}else if(Ne!=X.charCodeAt(ne++))return-1}return ne}function I(he,T,X){var ne=u.exec(T.slice(X));return ne?(he.p=d.get(ne[0].toLowerCase()),X+ne[0].length):-1}function D(he,T,X){var ne=f.exec(T.slice(X));return ne?(he.w=v.get(ne[0].toLowerCase()),X+ne[0].length):-1}function k(he,T,X){var ne=h.exec(T.slice(X));return ne?(he.w=p.get(ne[0].toLowerCase()),X+ne[0].length):-1}function O(he,T,X){var ne=y.exec(T.slice(X));return ne?(he.m=x.get(ne[0].toLowerCase()),X+ne[0].length):-1}function L(he,T,X){var ne=m.exec(T.slice(X));return ne?(he.m=g.get(ne[0].toLowerCase()),X+ne[0].length):-1}function z(he,T,X){return E(he,e,T,X)}function re(he,T,X){return E(he,r,T,X)}function Y(he,T,X){return E(he,n,T,X)}function K(he){return s[he.getDay()]}function q(he){return a[he.getDay()]}function Z(he){return l[he.getMonth()]}function ve(he){return o[he.getMonth()]}function ce(he){return i[+(he.getHours()>=12)]}function F(he){return 1+~~(he.getMonth()/3)}function V(he){return s[he.getUTCDay()]}function G(he){return a[he.getUTCDay()]}function oe(he){return l[he.getUTCMonth()]}function J(he){return o[he.getUTCMonth()]}function ie(he){return i[+(he.getUTCHours()>=12)]}function be(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var T=C(he+="",_);return T.toString=function(){return he},T},parse:function(he){var T=j(he+="",!1);return T.toString=function(){return he},T},utcFormat:function(he){var T=C(he+="",S);return T.toString=function(){return he},T},utcParse:function(he){var T=j(he+="",!0);return T.toString=function(){return he},T}}}var w7={"-":"",_:" ",0:"0"},ia=/^\s*\d+/,C8e=/^%/,k8e=/[\\^$*+?|[\]().{}]/g;function Wr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function I8e(t){return t.replace(k8e,"\\$&")}function M0(t){return new RegExp("^(?:"+t.map(I8e).join("|")+")","i")}function $0(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function O8e(t,e,r){var n=ia.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function R8e(t,e,r){var n=ia.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function D8e(t,e,r){var n=ia.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function L8e(t,e,r){var n=ia.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function M8e(t,e,r){var n=ia.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function _7(t,e,r){var n=ia.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function S7(t,e,r){var n=ia.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $8e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function F8e(t,e,r){var n=ia.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function B8e(t,e,r){var n=ia.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function A7(t,e,r){var n=ia.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function U8e(t,e,r){var n=ia.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function N7(t,e,r){var n=ia.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function V8e(t,e,r){var n=ia.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function z8e(t,e,r){var n=ia.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function q8e(t,e,r){var n=ia.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function W8e(t,e,r){var n=ia.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function H8e(t,e,r){var n=C8e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function G8e(t,e,r){var n=ia.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function K8e(t,e,r){var n=ia.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function E7(t,e){return Wr(t.getDate(),e,2)}function Y8e(t,e){return Wr(t.getHours(),e,2)}function X8e(t,e){return Wr(t.getHours()%12||12,e,2)}function Q8e(t,e){return Wr(1+sw.count(Yu(t),t),e,3)}function BZ(t,e){return Wr(t.getMilliseconds(),e,3)}function J8e(t,e){return BZ(t,e)+"000"}function Z8e(t,e){return Wr(t.getMonth()+1,e,2)}function e$e(t,e){return Wr(t.getMinutes(),e,2)}function t$e(t,e){return Wr(t.getSeconds(),e,2)}function r$e(t){var e=t.getDay();return e===0?7:e}function n$e(t,e){return Wr(CN.count(Yu(t)-1,t),e,2)}function UZ(t){var e=t.getDay();return e>=4||e===0?Yv(t):Yv.ceil(t)}function i$e(t,e){return t=UZ(t),Wr(Yv.count(Yu(t),t)+(Yu(t).getDay()===4),e,2)}function a$e(t){return t.getDay()}function s$e(t,e){return Wr(i5.count(Yu(t)-1,t),e,2)}function o$e(t,e){return Wr(t.getFullYear()%100,e,2)}function l$e(t,e){return t=UZ(t),Wr(t.getFullYear()%100,e,2)}function c$e(t,e){return Wr(t.getFullYear()%1e4,e,4)}function u$e(t,e){var r=t.getDay();return t=r>=4||r===0?Yv(t):Yv.ceil(t),Wr(t.getFullYear()%1e4,e,4)}function d$e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Wr(e/60|0,"0",2)+Wr(e%60,"0",2)}function j7(t,e){return Wr(t.getUTCDate(),e,2)}function h$e(t,e){return Wr(t.getUTCHours(),e,2)}function f$e(t,e){return Wr(t.getUTCHours()%12||12,e,2)}function p$e(t,e){return Wr(1+TN.count(Xu(t),t),e,3)}function VZ(t,e){return Wr(t.getUTCMilliseconds(),e,3)}function m$e(t,e){return VZ(t,e)+"000"}function g$e(t,e){return Wr(t.getUTCMonth()+1,e,2)}function v$e(t,e){return Wr(t.getUTCMinutes(),e,2)}function y$e(t,e){return Wr(t.getUTCSeconds(),e,2)}function b$e(t){var e=t.getUTCDay();return e===0?7:e}function x$e(t,e){return Wr(kN.count(Xu(t)-1,t),e,2)}function zZ(t){var e=t.getUTCDay();return e>=4||e===0?Xv(t):Xv.ceil(t)}function w$e(t,e){return t=zZ(t),Wr(Xv.count(Xu(t),t)+(Xu(t).getUTCDay()===4),e,2)}function _$e(t){return t.getUTCDay()}function S$e(t,e){return Wr(a5.count(Xu(t)-1,t),e,2)}function A$e(t,e){return Wr(t.getUTCFullYear()%100,e,2)}function N$e(t,e){return t=zZ(t),Wr(t.getUTCFullYear()%100,e,2)}function E$e(t,e){return Wr(t.getUTCFullYear()%1e4,e,4)}function j$e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Xv(t):Xv.ceil(t),Wr(t.getUTCFullYear()%1e4,e,4)}function P$e(){return"+0000"}function P7(){return"%"}function T7(t){return+t}function C7(t){return Math.floor(+t/1e3)}var Qm,qZ,WZ;T$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function T$e(t){return Qm=T8e(t),qZ=Qm.format,Qm.parse,WZ=Qm.utcFormat,Qm.utcParse,Qm}function C$e(t){return new Date(t)}function k$e(t){return t instanceof Date?+t:+new Date(+t)}function GR(t,e,r,n,i,a,s,o,l,u){var d=OR(),h=d.invert,p=d.domain,f=u(".%L"),v=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),x=u("%b %d"),_=u("%B"),S=u("%Y");function N(C){return(l(C)<C?f:o(C)<C?v:s(C)<C?m:a(C)<C?g:n(C)<C?i(C)<C?y:x:r(C)<C?_:S)(C)}return d.invert=function(C){return new Date(h(C))},d.domain=function(C){return arguments.length?p(Array.from(C,k$e)):p().map(C$e)},d.ticks=function(C){var j=p();return t(j[0],j[j.length-1],C??10)},d.tickFormat=function(C,j){return j==null?N:u(j)},d.nice=function(C){var j=p();return(!C||typeof C.range!="function")&&(C=e(j[0],j[j.length-1],C??10)),C?p(kZ(j,C)):d},d.copy=function(){return aw(d,GR(t,e,r,n,i,a,s,o,l,u))},d}function I$e(){return el.apply(GR(j8e,P8e,Yu,WR,CN,sw,zR,UR,mp,qZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function O$e(){return el.apply(GR(N8e,E8e,Xu,HR,kN,TN,qR,VR,mp,WZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function IN(){var t=0,e=1,r,n,i,a,s=as,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(p){var f,v;return arguments.length?([f,v]=p,s=h(f,v),u):[s(0),s(1)]}}return u.range=d(Ky),u.rangeRound=d(IR),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function jf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function HZ(){var t=Ef(IN()(as));return t.copy=function(){return jf(t,HZ())},sd.apply(t,arguments)}function GZ(){var t=LR(IN()).domain([1,10]);return t.copy=function(){return jf(t,GZ()).base(t.base())},sd.apply(t,arguments)}function KZ(){var t=MR(IN());return t.copy=function(){return jf(t,KZ()).constant(t.constant())},sd.apply(t,arguments)}function KR(){var t=$R(IN());return t.copy=function(){return jf(t,KR()).exponent(t.exponent())},sd.apply(t,arguments)}function R$e(){return KR.apply(null,arguments).exponent(.5)}function YZ(){var t=[],e=as;function r(n){if(n!=null&&!isNaN(n=+n))return e((nw(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Mh),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>xMe(t,a/n))},r.copy=function(){return YZ(e).domain(t)},sd.apply(r,arguments)}function ON(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,u=as,d,h=!1,p;function f(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-a)*(n*m<n*a?o:l),u(h?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e,r]=m,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,f):[t,e,r]},f.clamp=function(m){return arguments.length?(h=!!m,f):h},f.interpolator=function(m){return arguments.length?(u=m,f):u};function v(m){return function(g){var y,x,_;return arguments.length?([y,x,_]=g,u=HMe(m,[y,x,_]),f):[u(0),u(.5),u(1)]}}return f.range=v(Ky),f.rangeRound=v(IR),f.unknown=function(m){return arguments.length?(p=m,f):p},function(m){return d=m,i=m(t),a=m(e),s=m(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,f}}function XZ(){var t=Ef(ON()(as));return t.copy=function(){return jf(t,XZ())},sd.apply(t,arguments)}function QZ(){var t=LR(ON()).domain([.1,1,10]);return t.copy=function(){return jf(t,QZ()).base(t.base())},sd.apply(t,arguments)}function JZ(){var t=MR(ON());return t.copy=function(){return jf(t,JZ()).constant(t.constant())},sd.apply(t,arguments)}function YR(){var t=$R(ON());return t.copy=function(){return jf(t,YR()).exponent(t.exponent())},sd.apply(t,arguments)}function D$e(){return YR.apply(null,arguments).exponent(.5)}const k7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ob,scaleDiverging:XZ,scaleDivergingLog:QZ,scaleDivergingPow:YR,scaleDivergingSqrt:D$e,scaleDivergingSymlog:JZ,scaleIdentity:CZ,scaleImplicit:Mk,scaleLinear:r5,scaleLog:IZ,scaleOrdinal:TR,scalePoint:I1,scalePow:FR,scaleQuantile:DZ,scaleQuantize:LZ,scaleRadial:RZ,scaleSequential:HZ,scaleSequentialLog:GZ,scaleSequentialPow:KR,scaleSequentialQuantile:YZ,scaleSequentialSqrt:R$e,scaleSequentialSymlog:KZ,scaleSqrt:m8e,scaleSymlog:OZ,scaleThreshold:MZ,scaleTime:I$e,scaleUtc:O$e,tickFormat:TZ},Symbol.toStringTag,{value:"Module"}));var L$e=By;function M$e(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!L$e(s):r(s,o)))var o=s,l=a}return l}var RN=M$e;function $$e(t,e){return t>e}var ZZ=$$e,F$e=RN,B$e=ZZ,U$e=Gy;function V$e(t){return t&&t.length?F$e(t,U$e,B$e):void 0}var z$e=V$e;const DN=Zr(z$e);function q$e(t,e){return t<e}var eee=q$e,W$e=RN,H$e=eee,G$e=Gy;function K$e(t){return t&&t.length?W$e(t,G$e,H$e):void 0}var Y$e=K$e;const LN=Zr(Y$e);var X$e=cR,Q$e=Bc,J$e=lZ,Z$e=Ls;function eFe(t,e){var r=Z$e(t)?X$e:J$e;return r(t,Q$e(e))}var tFe=eFe,rFe=sZ,nFe=tFe;function iFe(t,e){return rFe(nFe(t,e),1)}var aFe=iFe;const sFe=Zr(aFe);var oFe=AR;function lFe(t,e){return oFe(t,e)}var cFe=lFe;const MN=Zr(cFe);var Yy=1e9,uFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QR,Xn=!0,Qo="[DecimalError] ",Rp=Qo+"Invalid argument: ",XR=Qo+"Exponent out of range: ",Xy=Math.floor,np=Math.pow,dFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ro,Ji=1e7,Un=7,tee=9007199254740991,s5=Xy(tee/Un),bt={};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};bt.comparedTo=bt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Un;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};bt.dividedBy=bt.div=function(t){return Lu(this,new this.constructor(t))};bt.dividedToIntegerBy=bt.idiv=function(t){var e=this,r=e.constructor;return _n(Lu(e,new r(t),0,1),r.precision)};bt.equals=bt.eq=function(t){return!this.cmp(t)};bt.exponent=function(){return Ii(this)};bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0};bt.greaterThanOrEqualTo=bt.gte=function(t){return this.cmp(t)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(t){return this.cmp(t)<0};bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1};bt.logarithm=bt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ro))throw Error(Qo+"NaN");if(r.s<1)throw Error(Qo+(r.s?"NaN":"-Infinity"));return r.eq(ro)?new n(0):(Xn=!1,e=Lu($b(r,a),$b(t,a),a),Xn=!0,_n(e,i))};bt.minus=bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iee(e,t):ree(e,(t.s=-t.s,t))};bt.modulo=bt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Qo+"NaN");return r.s?(Xn=!1,e=Lu(r,t,0,1).times(t),Xn=!0,r.minus(e)):_n(new n(r),i)};bt.naturalExponential=bt.exp=function(){return nee(this)};bt.naturalLogarithm=bt.ln=function(){return $b(this)};bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};bt.plus=bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ree(e,t):iee(e,(t.s=-t.s,t))};bt.precision=bt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rp+t);if(e=Ii(i)+1,n=i.d.length-1,r=n*Un+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};bt.squareRoot=bt.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Qo+"NaN")}for(t=Ii(o),Xn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=gc(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Lu(o,a,s+2)).times(.5),gc(a.d).slice(0,s)===(e=gc(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(_n(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Xn=!0,_n(n,r)};bt.times=bt.mul=function(t){var e,r,n,i,a,s,o,l,u,d=this,h=d.constructor,p=d.d,f=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,l=p.length,u=f.length,l<u&&(a=p,p=f,f=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+f[n]*p[i-n-1]+e,a[i--]=o%Ji|0,e=o/Ji|0;a[i]=(a[i]+e)%Ji|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Xn?_n(t,h.precision):t};bt.toDecimalPlaces=bt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Dc(t,0,Yy),e===void 0?e=n.rounding:Dc(e,0,8),_n(r,t+Ii(r)+1,e))};bt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=lm(n,!0):(Dc(t,0,Yy),e===void 0?e=i.rounding:Dc(e,0,8),n=_n(new i(n),t+1,e),r=lm(n,!0,t+1)),r};bt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?lm(i):(Dc(t,0,Yy),e===void 0?e=a.rounding:Dc(e,0,8),n=_n(new a(i),t+Ii(i)+1,e),r=lm(n.abs(),!1,t+Ii(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};bt.toInteger=bt.toint=function(){var t=this,e=t.constructor;return _n(new e(t),Ii(t)+1,e.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(ro);if(o=new l(o),!o.s){if(t.s<1)throw Error(Qo+"Infinity");return o}if(o.eq(ro))return o;if(n=l.precision,t.eq(ro))return _n(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=tee){for(i=new l(ro),e=Math.ceil(n/Un+4),Xn=!1;r%2&&(i=i.times(o),O7(i.d,e)),r=Xy(r/2),r!==0;)o=o.times(o),O7(o.d,e);return Xn=!0,t.s<0?new l(ro).div(i):_n(i,n)}}else if(a<0)throw Error(Qo+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Xn=!1,i=t.times($b(o,n+u)),Xn=!0,i=nee(i),i.s=a,i};bt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ii(i),n=lm(i,r<=a.toExpNeg||r>=a.toExpPos)):(Dc(t,1,Yy),e===void 0?e=a.rounding:Dc(e,0,8),i=_n(new a(i),t,e),r=Ii(i),n=lm(i,t<=r||r<=a.toExpNeg,t)),n};bt.toSignificantDigits=bt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Dc(t,1,Yy),e===void 0?e=n.rounding:Dc(e,0,8)),_n(new n(r),t,e)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ii(t),r=t.constructor;return lm(t,e<=r.toExpNeg||e>=r.toExpPos)};function ree(t,e){var r,n,i,a,s,o,l,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Xn?_n(e,h):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(h/Un),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Ji|0,l[a]%=Ji;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Xn?_n(e,h):e}function Dc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Rp+t)}function gc(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Un-n.length,r&&(a+=Hd(r)),a+=n;s=t[e],n=s+"",r=Un-n.length,r&&(a+=Hd(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Lu=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ji|0,s=a/Ji|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ji+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,h,p,f,v,m,g,y,x,_,S,N,C,j,E,I=n.constructor,D=n.s==i.s?1:-1,k=n.d,O=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(Qo+"Division by zero");for(l=n.e-i.e,j=O.length,N=k.length,f=new I(D),v=f.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--l,a==null?x=a=I.precision:s?x=a+(Ii(n)-Ii(i))+1:x=a,x<0)return new I(0);if(x=x/Un+2|0,u=0,j==1)for(d=0,O=O[0],x++;(u<N||d)&&x--;u++)_=d*Ji+(k[u]||0),v[u]=_/O|0,d=_%O|0;else{for(d=Ji/(O[0]+1)|0,d>1&&(O=t(O,d),k=t(k,d),j=O.length,N=k.length),S=j,m=k.slice(0,j),g=m.length;g<j;)m[g++]=0;E=O.slice(),E.unshift(0),C=O[0],O[1]>=Ji/2&&++C;do d=0,o=e(O,m,j,g),o<0?(y=m[0],j!=g&&(y=y*Ji+(m[1]||0)),d=y/C|0,d>1?(d>=Ji&&(d=Ji-1),h=t(O,d),p=h.length,g=m.length,o=e(h,m,p,g),o==1&&(d--,r(h,j<p?E:O,p))):(d==0&&(o=d=1),h=O.slice()),p=h.length,p<g&&h.unshift(0),r(m,h,g),o==-1&&(g=m.length,o=e(O,m,j,g),o<1&&(d++,r(m,j<g?E:O,g))),g=m.length):o===0&&(d++,m=[0]),v[u++]=d,o&&m[0]?m[g++]=k[S]||0:(m=[k[S]],g=1);while((S++<N||m[0]!==void 0)&&x--)}return v[0]||v.shift(),f.e=l,_n(f,s?a+Ii(f)+1:a)}}();function nee(t,e){var r,n,i,a,s,o,l=0,u=0,d=t.constructor,h=d.precision;if(Ii(t)>16)throw Error(XR+Ii(t));if(!t.s)return new d(ro);for(e==null?(Xn=!1,o=h):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(np(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(ro),d.precision=o;;){if(i=_n(i.times(t),o),r=r.times(++l),s=a.plus(Lu(i,r,o)),gc(s.d).slice(0,o)===gc(a.d).slice(0,o)){for(;u--;)a=_n(a.times(a),o);return d.precision=h,e==null?(Xn=!0,_n(a,h)):a}a=s}}function Ii(t){for(var e=t.e*Un,r=t.d[0];r>=10;r/=10)e++;return e}function sP(t,e,r){if(e>t.LN10.sd())throw Xn=!0,r&&(t.precision=r),Error(Qo+"LN10 precision limit exceeded");return _n(new t(t.LN10),e)}function Hd(t){for(var e="";t--;)e+="0";return e}function $b(t,e){var r,n,i,a,s,o,l,u,d,h=1,p=10,f=t,v=f.d,m=f.constructor,g=m.precision;if(f.s<1)throw Error(Qo+(f.s?"NaN":"-Infinity"));if(f.eq(ro))return new m(0);if(e==null?(Xn=!1,u=g):u=e,f.eq(10))return e==null&&(Xn=!0),sP(m,u);if(u+=p,m.precision=u,r=gc(v),n=r.charAt(0),a=Ii(f),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=gc(f.d),n=r.charAt(0),h++;a=Ii(f),n>1?(f=new m("0."+r),a++):f=new m(n+"."+r.slice(1))}else return l=sP(m,u+2,g).times(a+""),f=$b(new m(n+"."+r.slice(1)),u-p).plus(l),m.precision=g,e==null?(Xn=!0,_n(f,g)):f;for(o=s=f=Lu(f.minus(ro),f.plus(ro),u),d=_n(f.times(f),u),i=3;;){if(s=_n(s.times(d),u),l=o.plus(Lu(s,new m(i),u)),gc(l.d).slice(0,u)===gc(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(sP(m,u+2,g).times(a+""))),o=Lu(o,new m(h),u),m.precision=g,e==null?(Xn=!0,_n(o,g)):o;o=l,i+=2}}function I7(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Xy(r/Un),t.d=[],n=(r+1)%Un,r<0&&(n+=Un),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Un;n<i;)t.d.push(+e.slice(n,n+=Un));e=e.slice(n),n=Un-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Xn&&(t.e>s5||t.e<-s5))throw Error(XR+r)}else t.s=0,t.e=0,t.d=[0];return t}function _n(t,e,r){var n,i,a,s,o,l,u,d,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Un,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Un),a=h.length,d>=a)return t;for(u=a=h[d],s=1;a>=10;a/=10)s++;n%=Un,i=n-Un+s}if(r!==void 0&&(a=np(10,s-i-1),o=u/a%10|0,l=e<0||h[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/np(10,s-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return l?(a=Ii(t),h.length=1,e=e-a-1,h[0]=np(10,(Un-e%Un)%Un),t.e=Xy(-e/Un)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=np(10,Un-n),h[d]=i>0?(u/np(10,s-i)%np(10,i)|0)*a:0),l)for(;;)if(d==0){(h[0]+=a)==Ji&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=Ji)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Xn&&(t.e>s5||t.e<-s5))throw Error(XR+Ii(t));return t}function iee(t,e){var r,n,i,a,s,o,l,u,d,h,p=t.constructor,f=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Xn?_n(e,f):e;if(l=t.d,h=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=h.length):(r=h,n=u,o=l.length),i=Math.max(Math.ceil(f/Un),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}s=0}for(d&&(r=l,l=h,h=r,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=Ji-1;--l[a],l[i]+=Ji}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Xn?_n(e,f):e):new p(0)}function lm(t,e,r){var n,i=Ii(t),a=gc(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Hd(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Hd(-i-1)+a,r&&(n=r-s)>0&&(a+=Hd(n))):i>=s?(a+=Hd(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Hd(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Hd(n))),t.s<0?"-"+a:a}function O7(t,e){if(t.length>e)return t.length=e,!0}function aee(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Rp+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return I7(s,a.toString())}else if(typeof a!="string")throw Error(Rp+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,dFe.test(a))I7(s,a);else throw Error(Rp+a)}if(i.prototype=bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aee,i.config=i.set=hFe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function hFe(t){if(!t||typeof t!="object")throw Error(Qo+"Object expected");var e,r,n,i=["precision",1,Yy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Xy(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Rp+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rp+r+": "+n);return this}var QR=aee(uFe);ro=new QR(1);const hn=QR;function fFe(t){return vFe(t)||gFe(t)||mFe(t)||pFe()}function pFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mFe(t,e){if(t){if(typeof t=="string")return Uk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uk(t,e)}}function gFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vFe(t){if(Array.isArray(t))return Uk(t)}function Uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yFe=function(e){return e},see={"@@functional/placeholder":!0},oee=function(e){return e===see},R7=function(e){return function r(){return arguments.length===0||arguments.length===1&&oee(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},bFe=function t(e,r){return e===1?r:R7(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==see}).length;return s>=e?r.apply(void 0,i):t(e-s,R7(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(h){return oee(h)?l.shift():h});return r.apply(void 0,fFe(d).concat(l))}))})},$N=function(e){return bFe(e.length,e)},Vk=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},xFe=$N(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),wFe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return yFe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},zk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lee=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function _Fe(t){var e;return t===0?e=1:e=Math.floor(new hn(t).abs().log(10).toNumber())+1,e}function SFe(t,e,r){for(var n=new hn(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var AFe=$N(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),NFe=$N(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),EFe=$N(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const FN={rangeStep:SFe,getDigitCount:_Fe,interpolateNumber:AFe,uninterpolateNumber:NFe,uninterpolateTruncation:EFe};function qk(t){return TFe(t)||PFe(t)||cee(t)||jFe()}function jFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function TFe(t){if(Array.isArray(t))return Wk(t)}function Fb(t,e){return IFe(t)||kFe(t,e)||cee(t,e)||CFe()}function CFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cee(t,e){if(t){if(typeof t=="string")return Wk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(t,e)}}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kFe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function IFe(t){if(Array.isArray(t))return t}function uee(t){var e=Fb(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function dee(t,e,r){if(t.lte(0))return new hn(0);var n=FN.getDigitCount(t.toNumber()),i=new hn(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new hn(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new hn(Math.ceil(l))}function OFe(t,e,r){var n=1,i=new hn(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new hn(10).pow(FN.getDigitCount(t)-1),i=new hn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new hn(Math.floor(t)))}else t===0?i=new hn(Math.floor((e-1)/2)):r||(i=new hn(Math.floor(t)));var s=Math.floor((e-1)/2),o=wFe(xFe(function(l){return i.add(new hn(l-s).mul(n)).toNumber()}),Vk);return o(0,e)}function hee(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new hn(0),tickMin:new hn(0),tickMax:new hn(0)};var a=dee(new hn(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new hn(0):(s=new hn(t).add(e).div(2),s=s.sub(new hn(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new hn(e).sub(s).div(a).toNumber()),u=o+l+1;return u>r?hee(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:a,tickMin:s.sub(new hn(o).mul(a)),tickMax:s.add(new hn(l).mul(a))})}function RFe(t){var e=Fb(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=uee([r,n]),l=Fb(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(qk(Vk(0,i-1).map(function(){return 1/0}))):[].concat(qk(Vk(0,i-1).map(function(){return-1/0})),[d]);return r>n?zk(h):h}if(u===d)return OFe(u,i,a);var p=hee(u,d,s,a),f=p.step,v=p.tickMin,m=p.tickMax,g=FN.rangeStep(v,m.add(new hn(.1).mul(f)),f);return r>n?zk(g):g}function DFe(t,e){var r=Fb(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=uee([n,i]),o=Fb(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),h=dee(new hn(u).sub(l).div(d-1),a,0),p=[].concat(qk(FN.rangeStep(new hn(l),new hn(u).sub(new hn(.99).mul(h)),h)),[u]);return n>i?zk(p):p}var LFe=lee(RFe),MFe=lee(DFe),$Fe="Invariant failed";function cm(t,e){throw new Error($Fe)}var FFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function o5(){return o5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o5.apply(this,arguments)}function BFe(t,e){return qFe(t)||zFe(t,e)||VFe(t,e)||UFe()}function UFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VFe(t,e){if(t){if(typeof t=="string")return D7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D7(t,e)}}function D7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function qFe(t){if(Array.isArray(t))return t}function WFe(t,e){if(t==null)return{};var r=HFe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mee(n.key),n)}}function YFe(t,e,r){return e&&KFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XFe(t,e,r){return e=l5(e),QFe(t,fee()?Reflect.construct(e,r||[],l5(t).constructor):e.apply(t,r))}function QFe(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JFe(t)}function JFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fee=function(){return!!t})()}function l5(t){return l5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l5(t)}function ZFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hk(t,e)}function Hk(t,e){return Hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hk(t,e)}function pee(t,e,r){return e=mee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mee(t){var e=e7e(t,"string");return Qv(e)=="symbol"?e:e+""}function e7e(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BN=function(t){function e(){return GFe(this,e),XFe(this,e,arguments)}return ZFe(e,t),YFe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,p=WFe(n,FFe),f=Xt(p,!1);this.props.direction==="x"&&d.type!=="number"&&cm();var v=l.map(function(m){var g=u(m,o),y=g.x,x=g.y,_=g.value,S=g.errorVal;if(!S)return null;var N=[],C,j;if(Array.isArray(S)){var E=BFe(S,2);C=E[0],j=E[1]}else C=j=S;if(a==="vertical"){var I=d.scale,D=x+i,k=D+s,O=D-s,L=I(_-C),z=I(_+j);N.push({x1:z,y1:k,x2:z,y2:O}),N.push({x1:L,y1:D,x2:z,y2:D}),N.push({x1:L,y1:k,x2:L,y2:O})}else if(a==="horizontal"){var re=h.scale,Y=y+i,K=Y-s,q=Y+s,Z=re(_-C),ve=re(_+j);N.push({x1:K,y1:ve,x2:q,y2:ve}),N.push({x1:Y,y1:Z,x2:Y,y2:ve}),N.push({x1:K,y1:Z,x2:q,y2:Z})}return ue.createElement(sn,o5({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},f),N.map(function(ce){return ue.createElement("line",o5({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return ue.createElement(sn,{className:"recharts-errorBars"},v)}}])}(ue.Component);pee(BN,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pee(BN,"displayName","ErrorBar");function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function L7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L7(Object(r),!0).forEach(function(n){t7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t7e(t,e,r){return e=r7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r7e(t){var e=n7e(t,"string");return Bb(e)=="symbol"?e:e+""}function n7e(t,e){if(Bb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gee=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=eo(r,Jg);if(!s)return null;var o=Jg.defaultProps,l=o!==void 0?Hf(Hf({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,h){var p=h.item,f=h.props,v=f.sectors||f.data||[];return d.concat(v.map(function(m){return{type:s.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var h=d.item,p=h.type.defaultProps,f=p!==void 0?Hf(Hf({},p),h.props):{},v=f.dataKey,m=f.name,g=f.legendType,y=f.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:JR(h),value:m||v,payload:f}}),Hf(Hf(Hf({},l),Jg.getWithHeight(s,i)),{},{payload:u,item:s})};function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}function M7(t){return o7e(t)||s7e(t)||a7e(t)||i7e()}function i7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a7e(t,e){if(t){if(typeof t=="string")return Gk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(t,e)}}function s7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o7e(t){if(Array.isArray(t))return Gk(t)}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(r),!0).forEach(function(n){ev(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ev(t,e,r){return e=l7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l7e(t){var e=c7e(t,"string");return Ub(e)=="symbol"?e:e+""}function c7e(t,e){if(Ub(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ub(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function La(t,e,r){return xr(t)||xr(e)?r:qi(e)?uo(t,e,r):rr(e)?e(t):r}function O1(t,e,r,n){var i=sFe(t,function(o){return La(o,e)});if(r==="number"){var a=i.filter(function(o){return et(o)||parseFloat(o)});return a.length?[LN(a),DN(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!xr(o)}):i;return s.map(function(o){return qi(o)||o instanceof Date?o:""})}var u7e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,h=i[u].coordinate,p=u>=o-1?i[0].coordinate:i[u+1].coordinate,f=void 0;if(ns(h-d)!==ns(p-h)){var v=[];if(ns(p-h)===ns(l[1]-l[0])){f=p;var m=h+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{f=d;var g=p+l[1]-l[0];v[0]=Math.min(h,(g+h)/2),v[1]=Math.max(h,(g+h)/2)}var y=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var x=Math.min(d,p),_=Math.max(d,p);if(e>(x+h)/2&&e<=(_+h)/2){s=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},JR=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hi(hi({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},d7e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var d=a[o[l]].stackGroups,h=Object.keys(d),p=0,f=h.length;p<f;p++){var v=d[h[p]],m=v.items,g=v.cateAxisId,y=m.filter(function(j){return Ru(j.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,_=x!==void 0?hi(hi({},x),y[0].props):y[0].props,S=_.barSize,N=_[g];s[N]||(s[N]=[]);var C=xr(S)?r:S;s[N].push({item:y[0],stackList:y.slice(1),barSize:xr(C)?void 0:is(C,n,0)})}}return s},h7e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=is(r,i,0,!0),d,h=[];if(s[0].barSize===+s[0].barSize){var p=!1,f=i/l,v=s.reduce(function(S,N){return S+N.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&f>0&&(p=!0,f*=.9,v=l*f);var m=(i-v)/2>>0,g={offset:m-u,size:0};d=s.reduce(function(S,N){var C={item:N.item,position:{offset:g.offset+g.size+u,size:p?f:N.barSize}},j=[].concat(M7(S),[C]);return g=j[j.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){j.push({item:E,position:g})}),j},h)}else{var y=is(n,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var x=(i-2*y-(l-1)*u)/l;x>1&&(x>>=0);var _=o===+o?Math.min(x,o):x;d=s.reduce(function(S,N,C){var j=[].concat(M7(S),[{item:N.item,position:{offset:y+(x+u)*C+(x-_)/2,size:_}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},h)}return d},f7e=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=gee({children:a,legendWidth:l});if(u){var d=i||{},h=d.width,p=d.height,f=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&f!=="center"&&et(e[f]))return hi(hi({},e),{},ev({},f,e[f]+(h||0)));if((m==="horizontal"||m==="vertical"&&f==="center")&&v!=="middle"&&et(e[v]))return hi(hi({},e),{},ev({},v,e[v]+(p||0)))}return e},p7e=function(e,r,n){return xr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vee=function(e,r,n,i,a){var s=r.props.children,o=Go(s,BN).filter(function(u){return p7e(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=La(d,n);if(xr(h))return u;var p=Array.isArray(h)?[LN(h),DN(h)]:[h,h],f=l.reduce(function(v,m){var g=La(d,m,0),y=p[0]-Math.abs(Array.isArray(g)?g[0]:g),x=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},m7e=function(e,r,n,i,a){var s=r.map(function(o){return vee(e,o,n,a,i)}).filter(function(o){return!xr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},yee=function(e,r,n,i,a){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&vee(e,l,u,i)||O1(e,u,n,a)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,h=u.length;d<h;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},bee=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},xee=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},ju=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ns(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var p=a?a.indexOf(h):h;return{coordinate:i(p)+u,value:h,offset:u}});return d.filter(function(h){return!ew(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+u,value:h,index:p,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,p){return{coordinate:i(h)+u,value:a?a[h]:h,index:p,offset:u}})},oP=new WeakMap,S2=function(e,r){if(typeof r!="function")return e;oP.has(e)||oP.set(e,new WeakMap);var n=oP.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},wee=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Ob(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:r5(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:I1(),realScaleType:"point"}:a==="category"?{scale:Ob(),realScaleType:"band"}:{scale:r5(),realScaleType:"linear"};if(am(i)){var l="scale".concat(xN(i));return{scale:(k7[l]||I1)(),realScaleType:k7[l]?l:"point"}}return rr(i)?{scale:i}:{scale:I1(),realScaleType:"point"}},F7=1e-4,_ee=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-F7,s=Math.max(i[0],i[1])+F7,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},g7e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},v7e=function(e,r){if(!r||r.length!==2||!et(r[0])||!et(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!et(e[0])||e[0]<n)&&(a[0]=n),(!et(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},y7e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=ew(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},b7e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=ew(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},x7e={sign:y7e,expand:FCe,none:zv,silhouette:BCe,wiggle:UCe,positive:b7e},w7e=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=x7e[n],s=$Ce().keys(i).value(function(o,l){return+La(o,l,0)}).order(yk).offset(a);return s(e)},_7e=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(h,p){var f,v=(f=p.type)!==null&&f!==void 0&&f.defaultProps?hi(hi({},p.type.defaultProps),p.props):p.props,m=v.stackId,g=v.hide;if(g)return h;var y=v[n],x=h[y]||{hasStack:!1,stackGroups:{}};if(qi(m)){var _=x.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),x.hasStack=!0,x.stackGroups[m]=_}else x.stackGroups[tw("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return hi(hi({},h),{},ev({},y,x))},l),d={};return Object.keys(u).reduce(function(h,p){var f=u[p];if(f.hasStack){var v={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(m,g){var y=f.stackGroups[g];return hi(hi({},m),{},ev({},g,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:w7e(e,y.items,a)}))},v)}return hi(hi({},h),{},ev({},p,f))},d)},See=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=LFe(u,a,o);return e.domain([LN(d),DN(d)]),{niceTicks:d}}if(a&&i==="number"){var h=e.domain(),p=MFe(h,a,o);return{niceTicks:p}}return null},B7=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=La(s,r.dataKey,r.domain[o]);return xr(l)?null:r.scale(l)-a/2+i},S7e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},A7e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?hi(hi({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(qi(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},N7e=function(e){return e.reduce(function(r,n){return[LN(n.concat([r[0]]).filter(et)),DN(n.concat([r[1]]).filter(et))]},[1/0,-1/0])},Aee=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,d){var h=N7e(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},U7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kk=function(e,r,n){if(rr(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(et(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(U7.test(e[0])){var a=+U7.exec(e[0])[1];i[0]=r[0]-a}else rr(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(et(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(V7.test(e[1])){var s=+V7.exec(e[1])[1];i[1]=r[1]+s}else rr(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},c5=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=ER(r,function(h){return h.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},z7=function(e,r,n){return!e||!e.length||MN(e,uo(n,"type.defaultProps.domain"))?r:e},Nee=function(e,r){var n=e.type.defaultProps?hi(hi({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return hi(hi({},Xt(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:JR(e),value:La(r,i),type:l,payload:r,chartType:u,hide:d})};function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q7(Object(r),!0).forEach(function(n){Eee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eee(t,e,r){return e=E7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E7e(t){var e=j7e(t,"string");return Vb(e)=="symbol"?e:e+""}function j7e(t,e){if(Vb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P7e(t,e){return I7e(t)||k7e(t,e)||C7e(t,e)||T7e()}function T7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7e(t,e){if(t){if(typeof t=="string")return W7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W7(t,e)}}function W7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function I7e(t){if(Array.isArray(t))return t}var u5=Math.PI/180,O7e=function(e){return e*180/Math.PI},In=function(e,r,n,i){return{x:e+Math.cos(-u5*i)*n,y:r+Math.sin(-u5*i)*n}},jee=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},R7e=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.startAngle,u=e.endAngle,d=is(e.cx,s,s/2),h=is(e.cy,o,o/2),p=jee(s,o,n),f=is(e.innerRadius,p,0),v=is(e.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(g,y){var x=r[y],_=x.domain,S=x.reversed,N;if(xr(x.range))i==="angleAxis"?N=[l,u]:i==="radiusAxis"&&(N=[f,v]),S&&(N=[N[1],N[0]]);else{N=x.range;var C=N,j=P7e(C,2);l=j[0],u=j[1]}var E=wee(x,a),I=E.realScaleType,D=E.scale;D.domain(_).range(N),_ee(D);var k=See(D,mu(mu({},x),{},{realScaleType:I})),O=mu(mu(mu({},x),k),{},{range:N,radius:v,realScaleType:I,scale:D,cx:d,cy:h,innerRadius:f,outerRadius:v,startAngle:l,endAngle:u});return mu(mu({},g),{},Eee({},y,O))},{})},D7e=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},L7e=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=D7e({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:O7e(u),angleInRadian:u}},M7e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},$7e=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},H7=function(e,r){var n=e.x,i=e.y,a=L7e({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=M7e(r),h=d.startAngle,p=d.endAngle,f=o,v;if(h<=p){for(;f>p;)f-=360;for(;f<h;)f+=360;v=f>=h&&f<=p}else{for(;f>h;)f-=360;for(;f<p;)f+=360;v=f>=p&&f<=h}return v?mu(mu({},r),{},{radius:s,angle:$7e(f,r)}):null},Pee=function(e){return!P.isValidElement(e)&&!rr(e)&&typeof e!="boolean"?e.className:""};function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}var F7e=["offset"];function B7e(t){return q7e(t)||z7e(t)||V7e(t)||U7e()}function U7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7e(t,e){if(t){if(typeof t=="string")return Yk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(t,e)}}function z7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q7e(t){if(Array.isArray(t))return Yk(t)}function Yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W7e(t,e){if(t==null)return{};var r=H7e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function G7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G7(Object(r),!0).forEach(function(n){G7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G7e(t,e,r){return e=K7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K7e(t){var e=Y7e(t,"string");return zb(e)=="symbol"?e:e+""}function Y7e(t,e){if(zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qb.apply(this,arguments)}var X7e=function(e){var r=e.value,n=e.formatter,i=xr(e.children)?r:e.children;return rr(n)?n(i):i},Q7e=function(e,r){var n=ns(r-e),i=Math.min(Math.abs(r-e),360);return n*i},J7e=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,d=l.cy,h=l.innerRadius,p=l.outerRadius,f=l.startAngle,v=l.endAngle,m=l.clockWise,g=(h+p)/2,y=Q7e(f,v),x=y>=0?1:-1,_,S;i==="insideStart"?(_=f+x*s,S=m):i==="insideEnd"?(_=v-x*s,S=!m):i==="end"&&(_=v+x*s,S=m),S=y<=0?S:!S;var N=In(u,d,g,_),C=In(u,d,g,_+(S?1:-1)*359),j="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),E=xr(e.id)?tw("recharts-radial-line-"):e.id;return ue.createElement("text",qb({},n,{dominantBaseline:"central",className:vr("recharts-radial-bar-label",o)}),ue.createElement("defs",null,ue.createElement("path",{id:E,d:j})),ue.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Z7e=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,p=(d+h)/2;if(i==="outside"){var f=In(s,o,u+n,p),v=f.x,m=f.y;return{x:v,y:m,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+u)/2,y=In(s,o,g,p),x=y.x,_=y.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},e9e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,h=d>=0?1:-1,p=h*i,f=h>0?"end":"start",v=h>0?"start":"end",m=u>=0?1:-1,g=m*i,y=m>0?"end":"start",x=m>0?"start":"end";if(a==="top"){var _={x:o+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:f};return $i($i({},_),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:o+u/2,y:l+d+p,textAnchor:"middle",verticalAnchor:v};return $i($i({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var N={x:o-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return $i($i({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(a==="right"){var C={x:o+u+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return $i($i({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return a==="insideLeft"?$i({x:o+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},j):a==="insideRight"?$i({x:o+u-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},j):a==="insideTop"?$i({x:o+u/2,y:l+p,textAnchor:"middle",verticalAnchor:v},j):a==="insideBottom"?$i({x:o+u/2,y:l+d-p,textAnchor:"middle",verticalAnchor:f},j):a==="insideTopLeft"?$i({x:o+g,y:l+p,textAnchor:x,verticalAnchor:v},j):a==="insideTopRight"?$i({x:o+u-g,y:l+p,textAnchor:y,verticalAnchor:v},j):a==="insideBottomLeft"?$i({x:o+g,y:l+d-p,textAnchor:x,verticalAnchor:f},j):a==="insideBottomRight"?$i({x:o+u-g,y:l+d-p,textAnchor:y,verticalAnchor:f},j):Uy(a)&&(et(a.x)||fp(a.x))&&(et(a.y)||fp(a.y))?$i({x:o+is(a.x,u),y:l+is(a.y,d),textAnchor:"end",verticalAnchor:"end"},j):$i({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},t9e=function(e){return"cx"in e&&et(e.cx)};function ta(t){var e=t.offset,r=e===void 0?5:e,n=W7e(t,F7e),i=$i({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,d=i.className,h=d===void 0?"":d,p=i.textBreakAll;if(!a||xr(o)&&xr(l)&&!P.isValidElement(u)&&!rr(u))return null;if(P.isValidElement(u))return P.cloneElement(u,i);var f;if(rr(u)){if(f=P.createElement(u,i),P.isValidElement(f))return f}else f=X7e(i);var v=t9e(a),m=Xt(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return J7e(i,f,m);var g=v?Z7e(i):e9e(i);return ue.createElement(om,qb({className:vr("recharts-label",h)},m,g,{breakAll:p}),f)}ta.displayName="Label";var Tee=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,p=e.y,f=e.top,v=e.left,m=e.width,g=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(et(m)&&et(g)){if(et(h)&&et(p))return{x:h,y:p,width:m,height:g};if(et(f)&&et(v))return{x:f,y:v,width:m,height:g}}return et(h)&&et(p)?{x:h,y:p,width:0,height:0}:et(r)&&et(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},r9e=function(e,r){return e?e===!0?ue.createElement(ta,{key:"label-implicit",viewBox:r}):qi(e)?ue.createElement(ta,{key:"label-implicit",viewBox:r,value:e}):P.isValidElement(e)?e.type===ta?P.cloneElement(e,{key:"label-implicit",viewBox:r}):ue.createElement(ta,{key:"label-implicit",content:e,viewBox:r}):rr(e)?ue.createElement(ta,{key:"label-implicit",content:e,viewBox:r}):Uy(e)?ue.createElement(ta,qb({viewBox:r},e,{key:"label-implicit"})):null:null},n9e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Tee(e),s=Go(i,ta).map(function(l,u){return P.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=r9e(e.label,r||a);return[o].concat(B7e(s))};ta.parseViewBox=Tee;ta.renderCallByParent=n9e;function i9e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var a9e=i9e;const s9e=Zr(a9e);function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}var o9e=["valueAccessor"],l9e=["data","dataKey","clockWise","id","textBreakAll"];function c9e(t){return f9e(t)||h9e(t)||d9e(t)||u9e()}function u9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d9e(t,e){if(t){if(typeof t=="string")return Xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(t,e)}}function h9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f9e(t){if(Array.isArray(t))return Xk(t)}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d5(){return d5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d5.apply(this,arguments)}function K7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K7(Object(r),!0).forEach(function(n){p9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p9e(t,e,r){return e=m9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m9e(t){var e=g9e(t,"string");return Wb(e)=="symbol"?e:e+""}function g9e(t,e){if(Wb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X7(t,e){if(t==null)return{};var r=v9e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var y9e=function(e){return Array.isArray(e.value)?s9e(e.value):e.value};function $h(t){var e=t.valueAccessor,r=e===void 0?y9e:e,n=X7(t,o9e),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=X7(n,l9e);return!i||!i.length?null:ue.createElement(sn,{className:"recharts-label-list"},i.map(function(d,h){var p=xr(a)?r(d,h):La(d&&d.payload,a),f=xr(o)?{}:{id:"".concat(o,"-").concat(h)};return ue.createElement(ta,d5({},Xt(d,!0),u,f,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:ta.parseViewBox(xr(s)?d:Y7(Y7({},d),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}$h.displayName="LabelList";function b9e(t,e){return t?t===!0?ue.createElement($h,{key:"labelList-implicit",data:e}):ue.isValidElement(t)||rr(t)?ue.createElement($h,{key:"labelList-implicit",data:e,content:t}):Uy(t)?ue.createElement($h,d5({data:e},t,{key:"labelList-implicit"})):null:null}function x9e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Go(n,$h).map(function(s,o){return P.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=b9e(t.label,e);return[a].concat(c9e(i))}$h.renderCallByParent=x9e;function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}function Qk(){return Qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qk.apply(this,arguments)}function Q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(r),!0).forEach(function(n){w9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w9e(t,e,r){return e=_9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _9e(t){var e=S9e(t,"string");return Hb(e)=="symbol"?e:e+""}function S9e(t,e){if(Hb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A9e=function(e,r){var n=ns(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},A2=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,h=Math.asin(l/d)/u5,p=u?a:a+s*h,f=In(r,n,d,p),v=In(r,n,i,p),m=u?a-s*h:a,g=In(r,n,d*Math.cos(h*u5),m);return{center:f,circleTangency:v,lineTangency:g,theta:h}},Cee=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=A9e(s,o),u=s+l,d=In(r,n,a,s),h=In(r,n,a,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var f=In(r,n,i,s),v=In(r,n,i,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},N9e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=ns(d-u),p=A2({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:s,cornerIsExternal:l}),f=p.circleTangency,v=p.lineTangency,m=p.theta,g=A2({cx:r,cy:n,radius:a,angle:d,sign:-h,cornerRadius:s,cornerIsExternal:l}),y=g.circleTangency,x=g.lineTangency,_=g.theta,S=l?Math.abs(u-d):Math.abs(u-d)-m-_;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Cee({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=A2({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=C.circleTangency,E=C.lineTangency,I=C.theta,D=A2({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=D.circleTangency,O=D.lineTangency,L=D.theta,z=l?Math.abs(u-d):Math.abs(u-d)-I-L;if(z<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},E9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kee=function(e){var r=J7(J7({},E9e),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,p=r.className;if(s<a||d===h)return null;var f=vr("recharts-sector",p),v=s-a,m=is(o,v,0,!0),g;return m>0&&Math.abs(d-h)<360?g=N9e({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):g=Cee({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:h}),ue.createElement("path",Qk({},Xt(r,!0),{className:f,d:g,role:"img"}))};function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function Jk(){return Jk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jk.apply(this,arguments)}function Z7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z7(Object(r),!0).forEach(function(n){j9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j9e(t,e,r){return e=P9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P9e(t){var e=T9e(t,"string");return Gb(e)=="symbol"?e:e+""}function T9e(t,e){if(Gb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t9={curveBasisClosed:jCe,curveBasisOpen:PCe,curveBasis:ECe,curveBumpX:hCe,curveBumpY:fCe,curveLinearClosed:TCe,curveLinear:_N,curveMonotoneX:CCe,curveMonotoneY:kCe,curveNatural:ICe,curveStep:OCe,curveStepAfter:DCe,curveStepBefore:RCe},N2=function(e){return e.x===+e.x&&e.y===+e.y},F0=function(e){return e.x},B0=function(e){return e.y},C9e=function(e,r){if(rr(e))return e;var n="curve".concat(xN(e));return(n==="curveMonotone"||n==="curveBump")&&r?t9["".concat(n).concat(r==="vertical"?"Y":"X")]:t9[n]||_N},k9e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=C9e(n,o),h=u?a.filter(function(m){return N2(m)}):a,p;if(Array.isArray(s)){var f=u?s.filter(function(m){return N2(m)}):s,v=h.map(function(m,g){return e9(e9({},m),{},{base:f[g]})});return o==="vertical"?p=m2().y(B0).x1(F0).x0(function(m){return m.base.x}):p=m2().x(F0).y1(B0).y0(function(m){return m.base.y}),p.defined(N2).curve(d),p(v)}return o==="vertical"&&et(s)?p=m2().y(B0).x1(F0).x0(s):et(s)?p=m2().x(F0).y1(B0).y0(s):p=NJ().x(F0).y(B0),p.defined(N2).curve(d),p(h)},Zk=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?k9e(e):i;return P.createElement("path",Jk({},Xt(e,!1),LS(e),{className:vr("recharts-curve",r),d:s,ref:a}))},Iee={exports:{}},I9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",O9e=I9e,R9e=O9e;function Oee(){}function Ree(){}Ree.resetWarningCache=Oee;var D9e=function(){function t(n,i,a,s,o,l){if(l!==R9e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ree,resetWarningCache:Oee};return r.PropTypes=r,r};Iee.exports=D9e();var L9e=Iee.exports;const Xr=Zr(L9e);var M9e=Object.getOwnPropertyNames,$9e=Object.getOwnPropertySymbols,F9e=Object.prototype.hasOwnProperty;function r9(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function E2(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function n9(t){return M9e(t).concat($9e(t))}var B9e=Object.hasOwn||function(t,e){return F9e.call(t,e)};function Nm(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var U9e="__v",V9e="__o",z9e="_owner",i9=Object.getOwnPropertyDescriptor,a9=Object.keys;function q9e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function W9e(t,e){return Nm(t.getTime(),e.getTime())}function H9e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function G9e(t,e){return t===e}function s9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,h=0;(o=u.next())&&!o.done;){if(i[h]){h++;continue}var p=s.value,f=o.value;if(r.equals(p[0],f[0],l,h,t,e,r)&&r.equals(p[1],f[1],p[0],f[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;l++}return!0}var K9e=Nm;function Y9e(t,e,r){var n=a9(t),i=n.length;if(a9(e).length!==i)return!1;for(;i-- >0;)if(!Dee(t,e,r,n[i]))return!1;return!0}function U0(t,e,r){var n=n9(t),i=n.length;if(n9(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!Dee(t,e,r,a)||(s=i9(t,a),o=i9(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function X9e(t,e){return Nm(t.valueOf(),e.valueOf())}function Q9e(t,e){return t.source===e.source&&t.flags===e.flags}function o9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function J9e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Z9e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Dee(t,e,r,n){return(n===z9e||n===V9e||n===U9e)&&(t.$$typeof||e.$$typeof)?!0:B9e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var eBe="[object Arguments]",tBe="[object Boolean]",rBe="[object Date]",nBe="[object Error]",iBe="[object Map]",aBe="[object Number]",sBe="[object Object]",oBe="[object RegExp]",lBe="[object Set]",cBe="[object String]",uBe="[object URL]",dBe=Array.isArray,l9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,c9=Object.assign,hBe=Object.prototype.toString.call.bind(Object.prototype.toString);function fBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var y=typeof v;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(v,m,g):y==="function"?i(v,m,g):!1;var x=v.constructor;if(x!==m.constructor)return!1;if(x===Object)return o(v,m,g);if(dBe(v))return e(v,m,g);if(l9!=null&&l9(v))return h(v,m,g);if(x===Date)return r(v,m,g);if(x===RegExp)return u(v,m,g);if(x===Map)return a(v,m,g);if(x===Set)return d(v,m,g);var _=hBe(v);return _===rBe?r(v,m,g):_===oBe?u(v,m,g):_===iBe?a(v,m,g):_===lBe?d(v,m,g):_===sBe?typeof v.then!="function"&&typeof m.then!="function"&&o(v,m,g):_===uBe?p(v,m,g):_===nBe?n(v,m,g):_===eBe?o(v,m,g):_===tBe||_===aBe||_===cBe?l(v,m,g):!1}}function pBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?U0:q9e,areDatesEqual:W9e,areErrorsEqual:H9e,areFunctionsEqual:G9e,areMapsEqual:n?r9(s9,U0):s9,areNumbersEqual:K9e,areObjectsEqual:n?U0:Y9e,arePrimitiveWrappersEqual:X9e,areRegExpsEqual:Q9e,areSetsEqual:n?r9(o9,U0):o9,areTypedArraysEqual:n?U0:J9e,areUrlsEqual:Z9e};if(r&&(i=c9({},i,r(i))),e){var a=E2(i.areArraysEqual),s=E2(i.areMapsEqual),o=E2(i.areObjectsEqual),l=E2(i.areSetsEqual);i=c9({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function mBe(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function gBe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),h=d.cache,p=h===void 0?e?new WeakMap:void 0:h,f=d.meta;return r(l,u,{cache:p,equals:i,meta:f,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,s)}}var vBe=Pf();Pf({strict:!0});Pf({circular:!0});Pf({circular:!0,strict:!0});Pf({createInternalComparator:function(){return Nm}});Pf({strict:!0,createInternalComparator:function(){return Nm}});Pf({circular:!0,createInternalComparator:function(){return Nm}});Pf({circular:!0,createInternalComparator:function(){return Nm},strict:!0});function Pf(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=pBe(t),l=fBe(o),u=n?n(l):mBe(l);return gBe({circular:r,comparator:l,createState:i,equals:u,strict:s})}function yBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function u9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):yBe(i)};requestAnimationFrame(n)}function e4(t){"@babel/helpers - typeof";return e4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e4(t)}function bBe(t){return SBe(t)||_Be(t)||wBe(t)||xBe()}function xBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wBe(t,e){if(t){if(typeof t=="string")return d9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d9(t,e)}}function d9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Be(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SBe(t){if(Array.isArray(t))return t}function ABe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=bBe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){u9(i.bind(null,u),l);return}i(l),u9(i.bind(null,u));return}e4(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function h9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h9(Object(r),!0).forEach(function(n){Lee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lee(t,e,r){return e=NBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NBe(t){var e=EBe(t,"string");return Kb(e)==="symbol"?e:String(e)}function EBe(t,e){if(Kb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jBe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},PBe=function(e){return e},TBe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},R1=function(e,r){return Object.keys(r).reduce(function(n,i){return f9(f9({},n),{},Lee({},i,e(i,r[i])))},{})},p9=function(e,r,n){return e.map(function(i){return"".concat(TBe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function CBe(t,e){return OBe(t)||IBe(t,e)||Mee(t,e)||kBe()}function kBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function OBe(t){if(Array.isArray(t))return t}function RBe(t){return MBe(t)||LBe(t)||Mee(t)||DBe()}function DBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mee(t,e){if(t){if(typeof t=="string")return t4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t4(t,e)}}function LBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MBe(t){if(Array.isArray(t))return t4(t)}function t4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h5=1e-4,$ee=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Fee=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},m9=function(e,r){return function(n){var i=$ee(e,r);return Fee(i,n)}},$Be=function(e,r){return function(n){var i=$ee(e,r),a=[].concat(RBe(i.map(function(s,o){return s*o}).slice(1)),[0]);return Fee(a,n)}},g9=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=CBe(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var h=m9(i,s),p=m9(a,o),f=$Be(i,s),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var x=y>1?1:y,_=x,S=0;S<8;++S){var N=h(_)-x,C=f(_);if(Math.abs(N-x)<h5||C<h5)return p(_);_=v(_-N/C)}return p(_)};return m.isStepper=!1,m},FBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,h,p){var f=-(d-h)*n,v=p*a,m=p+(f-v)*o/1e3,g=p*o/1e3+d;return Math.abs(g-h)<h5&&Math.abs(m)<h5?[h,0]:[g,m]};return l.isStepper=!0,l.dt=o,l},BBe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return g9(i);case"spring":return FBe();default:if(i.split("(")[0]==="cubic-bezier")return g9(i)}return typeof i=="function"?i:null};function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function v9(t){return zBe(t)||VBe(t)||Bee(t)||UBe()}function UBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zBe(t){if(Array.isArray(t))return n4(t)}function y9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y9(Object(r),!0).forEach(function(n){r4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r4(t,e,r){return e=qBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qBe(t){var e=WBe(t,"string");return Yb(e)==="symbol"?e:String(e)}function WBe(t,e){if(Yb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HBe(t,e){return YBe(t)||KBe(t,e)||Bee(t,e)||GBe()}function GBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bee(t,e){if(t){if(typeof t=="string")return n4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n4(t,e)}}function n4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function YBe(t){if(Array.isArray(t))return t}var f5=function(e,r,n){return e+(r-e)*n},i4=function(e){var r=e.from,n=e.to;return r!==n},XBe=function t(e,r,n){var i=R1(function(a,s){if(i4(s)){var o=e(s.from,s.to,s.velocity),l=HBe(o,2),u=l[0],d=l[1];return la(la({},s),{},{from:u,velocity:d})}return s},r);return n<1?R1(function(a,s){return i4(s)?la(la({},s),{},{velocity:f5(s.velocity,i[a].velocity,n),from:f5(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const QBe=function(t,e,r,n,i){var a=jBe(t,e),s=a.reduce(function(g,y){return la(la({},g),{},r4({},y,[t[y],e[y]]))},{}),o=a.reduce(function(g,y){return la(la({},g),{},r4({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,d,h=function(){return null},p=function(){return R1(function(y,x){return x.from},o)},f=function(){return!Object.values(o).filter(i4).length},v=function(y){u||(u=y);var x=y-u,_=x/r.dt;o=XBe(r,o,_),i(la(la(la({},t),e),p())),u=y,f()||(l=requestAnimationFrame(h))},m=function(y){d||(d=y);var x=(y-d)/n,_=R1(function(N,C){return f5.apply(void 0,v9(C).concat([r(x)]))},s);if(i(la(la(la({},t),e),_)),x<1)l=requestAnimationFrame(h);else{var S=R1(function(N,C){return f5.apply(void 0,v9(C).concat([r(1)]))},s);i(la(la(la({},t),e),S))}};return h=r.isStepper?v:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}var JBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ZBe(t,e){if(t==null)return{};var r=eUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eUe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function lP(t){return iUe(t)||nUe(t)||rUe(t)||tUe()}function tUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rUe(t,e){if(t){if(typeof t=="string")return a4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a4(t,e)}}function nUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iUe(t){if(Array.isArray(t))return a4(t)}function a4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(r),!0).forEach(function(n){s1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s1(t,e,r){return e=Uee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Uee(n.key),n)}}function oUe(t,e,r){return e&&sUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uee(t){var e=lUe(t,"string");return Jv(e)==="symbol"?e:String(e)}function lUe(t,e){if(Jv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s4(t,e)}function s4(t,e){return s4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s4(t,e)}function uUe(t){var e=dUe();return function(){var n=p5(t),i;if(e){var a=p5(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return o4(this,i)}}function o4(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l4(t)}function l4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p5(t){return p5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p5(t)}var Qu=function(t){cUe(r,t);var e=uUe(r);function r(n,i){var a;aUe(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,h=s.steps,p=s.children,f=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(l4(a)),a.changeStyle=a.changeStyle.bind(l4(a)),!o||f<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:d}),o4(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof p=="function")return a.state={style:u},o4(a);a.state={style:l?s1({},l,u):u}}else a.state={style:{}};return a}return oUe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,p=this.state.style;if(o){if(!s){var f={style:l?s1({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(f);return}if(!(vBe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?h:i.to;if(this.state&&p){var g={style:l?s1({},l,m):m};(l&&p[l]!==m||!l&&p!==m)&&this.setState(g)}this.runAnimation(ll(ll({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,f=QBe(s,o,BBe(u),l,this.changeStyle),v=function(){a.stopJSAnimation=f()};this.manager.start([p,d,v,l,h])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,h=u.duration,p=h===void 0?0:h,f=function(m,g,y){if(y===0)return m;var x=g.duration,_=g.easing,S=_===void 0?"ease":_,N=g.style,C=g.properties,j=g.onAnimationEnd,E=y>0?s[y-1]:g,I=C||Object.keys(N);if(typeof S=="function"||S==="spring")return[].concat(lP(m),[a.runJSAnimation.bind(a,{from:E.style,to:N,duration:x,easing:S}),x]);var D=p9(I,x,S),k=ll(ll(ll({},E.style),N),{},{transition:D});return[].concat(lP(m),[k,x,j]).filter(PBe)};return this.manager.start([l].concat(lP(s.reduce(f,[d,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ABe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,f=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var m=o?s1({},o,l):l,g=p9(Object.keys(m),s,u);v.start([d,a,ll(ll({},m),{},{transition:g}),s,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=ZBe(i,JBe),u=P.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var h=function(f){var v=f.props,m=v.style,g=m===void 0?{}:m,y=v.className,x=P.cloneElement(f,ll(ll({},l),{},{style:ll(ll({},g),d),className:y}));return x};return u===1?h(P.Children.only(a)):ue.createElement("div",null,P.Children.map(a,function(p){return h(p)}))}}]),r}(P.PureComponent);Qu.displayName="Animate";Qu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qu.propTypes={from:Xr.oneOfType([Xr.object,Xr.string]),to:Xr.oneOfType([Xr.object,Xr.string]),attributeName:Xr.string,duration:Xr.number,begin:Xr.number,easing:Xr.oneOfType([Xr.string,Xr.func]),steps:Xr.arrayOf(Xr.shape({duration:Xr.number.isRequired,style:Xr.object.isRequired,easing:Xr.oneOfType([Xr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xr.func]),properties:Xr.arrayOf("string"),onAnimationEnd:Xr.func})),children:Xr.oneOfType([Xr.node,Xr.func]),isActive:Xr.bool,canBegin:Xr.bool,onAnimationEnd:Xr.func,shouldReAnimate:Xr.bool,onAnimationStart:Xr.func,onAnimationReStart:Xr.func};function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function m5(){return m5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m5.apply(this,arguments)}function hUe(t,e){return gUe(t)||mUe(t,e)||pUe(t,e)||fUe()}function fUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pUe(t,e){if(t){if(typeof t=="string")return x9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x9(t,e)}}function x9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function gUe(t){if(Array.isArray(t))return t}function w9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w9(Object(r),!0).forEach(function(n){vUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vUe(t,e,r){return e=yUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yUe(t){var e=bUe(t,"string");return Xb(e)=="symbol"?e:e+""}function bUe(t,e){if(Xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S9=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,f=4;p<f;p++)h[p]=a[p]>s?s:a[p];d="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(r)),d+="L ".concat(e+n-l*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*h[1])),d+="L ".concat(e+n,",").concat(r+i-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(r+i)),d+="L ".concat(e+l*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*h[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);d="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-l*v,",").concat(r+i,`
            L `).concat(e+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},xUe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),h=Math.min(s,s+l),p=Math.max(s,s+l);return n>=u&&n<=d&&i>=h&&i<=p}return!1},wUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZR=function(e){var r=_9(_9({},wUe),e),n=P.useRef(),i=P.useState(-1),a=hUe(i,2),s=a[0],o=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,h=r.height,p=r.radius,f=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var _=vr("recharts-rectangle",f);return x?ue.createElement(Qu,{canBegin:s>0,from:{width:d,height:h,x:l,y:u},to:{width:d,height:h,x:l,y:u},duration:m,animationEasing:v,isActive:x},function(S){var N=S.width,C=S.height,j=S.x,E=S.y;return ue.createElement(Qu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},ue.createElement("path",m5({},Xt(r,!0),{className:_,d:S9(j,E,N,C,p),ref:n})))}):ue.createElement("path",m5({},Xt(r,!0),{className:_,d:S9(l,u,d,h,p)}))},_Ue=["points","className","baseLinePoints","connectNulls"];function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jg.apply(this,arguments)}function SUe(t,e){if(t==null)return{};var r=AUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function A9(t){return PUe(t)||jUe(t)||EUe(t)||NUe()}function NUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EUe(t,e){if(t){if(typeof t=="string")return c4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(t,e)}}function jUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PUe(t){if(Array.isArray(t))return c4(t)}function c4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var N9=function(e){return e&&e.x===+e.x&&e.y===+e.y},TUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){N9(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),N9(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},D1=function(e,r){var n=TUe(e);r&&(n=[n.reduce(function(a,s){return[].concat(A9(a),A9(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},CUe=function(e,r,n){var i=D1(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(D1(r.reverse(),n).slice(1))},kUe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=SUe(e,_Ue);if(!r||!r.length)return null;var o=vr("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=CUe(r,i,a);return ue.createElement("g",{className:o},ue.createElement("path",jg({},Xt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?ue.createElement("path",jg({},Xt(s,!0),{fill:"none",d:D1(r,a)})):null,l?ue.createElement("path",jg({},Xt(s,!0),{fill:"none",d:D1(i,a)})):null)}var d=D1(r,a);return ue.createElement("path",jg({},Xt(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function u4(){return u4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u4.apply(this,arguments)}var eD=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=vr("recharts-dot",a);return r===+r&&n===+n&&i===+i?P.createElement("circle",u4({},Xt(e,!1),LS(e),{className:s,cx:r,cy:n,r:i})):null};function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}var IUe=["x","y","top","left","width","height","className"];function d4(){return d4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d4.apply(this,arguments)}function E9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OUe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E9(Object(r),!0).forEach(function(n){RUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RUe(t,e,r){return e=DUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DUe(t){var e=LUe(t,"string");return Qb(e)=="symbol"?e:e+""}function LUe(t,e){if(Qb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MUe(t,e){if(t==null)return{};var r=$Ue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Ue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var FUe=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},BUe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,h=d===void 0?0:d,p=e.height,f=p===void 0?0:p,v=e.className,m=MUe(e,IUe),g=OUe({x:n,y:a,top:o,left:u,width:h,height:f},m);return!et(n)||!et(a)||!et(h)||!et(f)||!et(o)||!et(u)?null:ue.createElement("path",d4({},Xt(g,!0),{className:vr("recharts-cross",v),d:FUe(n,a,h,f,o,u)}))},UUe=RN,VUe=ZZ,zUe=Bc;function qUe(t,e){return t&&t.length?UUe(t,zUe(e),VUe):void 0}var WUe=qUe;const HUe=Zr(WUe);var GUe=RN,KUe=Bc,YUe=eee;function XUe(t,e){return t&&t.length?GUe(t,KUe(e),YUe):void 0}var QUe=XUe;const JUe=Zr(QUe);var ZUe=["cx","cy","angle","ticks","axisLine"],eVe=["ticks","tick","angle","tickFormatter","stroke"];function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L1.apply(this,arguments)}function j9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j9(Object(r),!0).forEach(function(n){UN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P9(t,e){if(t==null)return{};var r=tVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zee(n.key),n)}}function nVe(t,e,r){return e&&T9(t.prototype,e),r&&T9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iVe(t,e,r){return e=g5(e),aVe(t,Vee()?Reflect.construct(e,r||[],g5(t).constructor):e.apply(t,r))}function aVe(t,e){if(e&&(Zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sVe(t)}function sVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vee=function(){return!!t})()}function g5(t){return g5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g5(t)}function oVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h4(t,e)}function h4(t,e){return h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h4(t,e)}function UN(t,e,r){return e=zee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zee(t){var e=lVe(t,"string");return Zv(e)=="symbol"?e:e+""}function lVe(t,e){if(Zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VN=function(t){function e(){return rVe(this,e),iVe(this,e,arguments)}return oVe(e,t),nVe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return In(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=HUe(o,function(d){return d.coordinate||0}),u=JUe(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,u=P9(n,ZUe),d=o.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),h=In(i,a,d[0],s),p=In(i,a,d[1],s),f=Gf(Gf(Gf({},Xt(u,!1)),{},{fill:"none"},Xt(l,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return ue.createElement("line",L1({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,d=P9(i,eVe),h=this.getTickTextAnchor(),p=Xt(d,!1),f=Xt(s,!1),v=a.map(function(m,g){var y=n.getTickValueCoord(m),x=Gf(Gf(Gf(Gf({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:u},f),{},{index:g},y),{},{payload:m});return ue.createElement(sn,L1({className:vr("recharts-polar-radius-axis-tick",Pee(s)),key:"tick-".concat(m.coordinate)},sm(n.props,m,g)),e.renderTickItem(s,x,l?l(m.value,g):m.value))});return ue.createElement(sn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:ue.createElement(sn,{className:vr("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),ta.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ue.isValidElement(n)?s=ue.cloneElement(n,i):rr(n)?s=n(i):s=ue.createElement(om,L1({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(P.PureComponent);UN(VN,"displayName","PolarRadiusAxis");UN(VN,"axisType","radiusAxis");UN(VN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}function C9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C9(Object(r),!0).forEach(function(n){zN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wee(n.key),n)}}function uVe(t,e,r){return e&&k9(t.prototype,e),r&&k9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dVe(t,e,r){return e=v5(e),hVe(t,qee()?Reflect.construct(e,r||[],v5(t).constructor):e.apply(t,r))}function hVe(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fVe(t)}function fVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qee=function(){return!!t})()}function v5(t){return v5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v5(t)}function pVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f4(t,e)}function f4(t,e){return f4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f4(t,e)}function zN(t,e,r){return e=Wee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wee(t){var e=mVe(t,"string");return ey(e)=="symbol"?e:e+""}function mVe(t,e){if(ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gVe=Math.PI/180,I9=1e-5,qN=function(t){function e(){return cVe(this,e),dVe(this,e,arguments)}return pVe(e,t),uVe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,d=u||8,h=In(a,s,o,n.coordinate),p=In(a,s,o+(l==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*gVe),s;return a>I9?s=i==="outer"?"start":"end":a<-I9?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,u=Kf(Kf({},Xt(this.props,!1)),{},{fill:"none"},Xt(o,!1));if(l==="circle")return ue.createElement(eD,op({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,h=d.map(function(p){return In(i,a,s,p.coordinate)});return ue.createElement(kUe,op({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,d=Xt(this.props,!1),h=Xt(s,!1),p=Kf(Kf({},d),{},{fill:"none"},Xt(o,!1)),f=a.map(function(v,m){var g=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),x=Kf(Kf(Kf({textAnchor:y},d),{},{stroke:"none",fill:u},h),{},{index:m,payload:v,x:g.x2,y:g.y2});return ue.createElement(sn,op({className:vr("recharts-polar-angle-axis-tick",Pee(s)),key:"tick-".concat(v.coordinate)},sm(n.props,v,m)),o&&ue.createElement("line",op({className:"recharts-polar-angle-axis-tick-line"},p,g)),s&&e.renderTickItem(s,x,l?l(v.value,m):v.value))});return ue.createElement(sn,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:ue.createElement(sn,{className:vr("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ue.isValidElement(n)?s=ue.cloneElement(n,i):rr(n)?s=n(i):s=ue.createElement(om,op({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(P.PureComponent);zN(qN,"displayName","PolarAngleAxis");zN(qN,"axisType","angleAxis");zN(qN,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vVe=YJ,yVe=vVe(Object.getPrototypeOf,Object),bVe=yVe,xVe=id,wVe=bVe,_Ve=ad,SVe="[object Object]",AVe=Function.prototype,NVe=Object.prototype,Hee=AVe.toString,EVe=NVe.hasOwnProperty,jVe=Hee.call(Object);function PVe(t){if(!_Ve(t)||xVe(t)!=SVe)return!1;var e=wVe(t);if(e===null)return!0;var r=EVe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Hee.call(r)==jVe}var TVe=PVe;const CVe=Zr(TVe);var kVe=id,IVe=ad,OVe="[object Boolean]";function RVe(t){return t===!0||t===!1||IVe(t)&&kVe(t)==OVe}var DVe=RVe;const LVe=Zr(DVe);function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function y5(){return y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y5.apply(this,arguments)}function MVe(t,e){return UVe(t)||BVe(t,e)||FVe(t,e)||$Ve()}function $Ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FVe(t,e){if(t){if(typeof t=="string")return O9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O9(t,e)}}function O9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function UVe(t){if(Array.isArray(t))return t}function R9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R9(Object(r),!0).forEach(function(n){VVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VVe(t,e,r){return e=zVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zVe(t){var e=qVe(t,"string");return Jb(e)=="symbol"?e:e+""}function qVe(t,e){if(Jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L9=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},WVe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HVe=function(e){var r=D9(D9({},WVe),e),n=P.useRef(),i=P.useState(-1),a=MVe(i,2),s=a[0],o=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,p=r.height,f=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||p!==+p||d===0&&h===0||p===0)return null;var x=vr("recharts-trapezoid",f);return y?ue.createElement(Qu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:d,lowerWidth:h,height:p,x:l,y:u},duration:m,animationEasing:v,isActive:y},function(_){var S=_.upperWidth,N=_.lowerWidth,C=_.height,j=_.x,E=_.y;return ue.createElement(Qu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},ue.createElement("path",y5({},Xt(r,!0),{className:x,d:L9(j,E,S,N,C),ref:n})))}):ue.createElement("g",null,ue.createElement("path",y5({},Xt(r,!0),{className:x,d:L9(l,u,d,h,p)})))},GVe=["option","shapeType","propTransformer","activeClassName","isActive"];function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function KVe(t,e){if(t==null)return{};var r=YVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function M9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(r),!0).forEach(function(n){XVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XVe(t,e,r){return e=QVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QVe(t){var e=JVe(t,"string");return Zb(e)=="symbol"?e:e+""}function JVe(t,e){if(Zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZVe(t,e){return b5(b5({},e),t)}function eze(t,e){return t==="symbols"}function $9(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ue.createElement(ZR,r);case"trapezoid":return ue.createElement(HVe,r);case"sector":return ue.createElement(kee,r);case"symbols":if(eze(e))return ue.createElement(yR,r);break;default:return null}}function tze(t){return P.isValidElement(t)?t.props:t}function Gee(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?ZVe:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=KVe(t,GVe),u;if(P.isValidElement(e))u=P.cloneElement(e,b5(b5({},l),tze(e)));else if(rr(e))u=e(l);else if(CVe(e)&&!LVe(e)){var d=i(e,l);u=ue.createElement($9,{shapeType:r,elementProps:d})}else{var h=l;u=ue.createElement($9,{shapeType:r,elementProps:h})}return o?ue.createElement(sn,{className:s},u):u}function WN(t,e){return e!=null&&"trapezoids"in t.props}function HN(t,e){return e!=null&&"sectors"in t.props}function ex(t,e){return e!=null&&"points"in t.props}function rze(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function nze(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ize(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function aze(t,e){var r;return WN(t,e)?r=rze:HN(t,e)?r=nze:ex(t,e)&&(r=ize),r}function sze(t,e){var r;return WN(t,e)?r="trapezoids":HN(t,e)?r="sectors":ex(t,e)&&(r="points"),r}function oze(t,e){if(WN(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(HN(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ex(t,e)?e.payload:{}}function lze(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=sze(r,e),a=oze(r,e),s=n.filter(function(l,u){var d=MN(a,l),h=r.props[i].filter(function(v){var m=aze(r,e);return m(v,e)}),p=r.props[i].indexOf(h[h.length-1]),f=u===p;return d&&f}),o=n.indexOf(s[s.length-1]);return o}var v_;function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pg.apply(this,arguments)}function F9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F9(Object(r),!0).forEach(function(n){Bo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yee(n.key),n)}}function uze(t,e,r){return e&&B9(t.prototype,e),r&&B9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dze(t,e,r){return e=x5(e),hze(t,Kee()?Reflect.construct(e,r||[],x5(t).constructor):e.apply(t,r))}function hze(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fze(t)}function fze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kee=function(){return!!t})()}function x5(t){return x5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x5(t)}function pze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p4(t,e)}function p4(t,e){return p4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p4(t,e)}function Bo(t,e,r){return e=Yee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yee(t){var e=mze(t,"string");return ty(e)=="symbol"?e:e+""}function mze(t,e){if(ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var od=function(t){function e(r){var n;return cze(this,e),n=dze(this,e,[r]),Bo(n,"pieRef",null),Bo(n,"sectorRefs",[]),Bo(n,"id",tw("recharts-pie-")),Bo(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),rr(i)&&i()}),Bo(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),rr(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return pze(e,t),uze(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,u=a.valueKey,d=Xt(this.props,!1),h=Xt(s,!1),p=Xt(o,!1),f=s&&s.offsetRadius||20,v=n.map(function(m,g){var y=(m.startAngle+m.endAngle)/2,x=In(m.cx,m.cy,m.outerRadius+f,y),_=Tn(Tn(Tn(Tn({},d),m),{},{stroke:"none"},h),{},{index:g,textAnchor:e.getTextAnchor(x.x,m.cx)},x),S=Tn(Tn(Tn(Tn({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:g,points:[In(m.cx,m.cy,m.outerRadius,y),x]}),N=l;return xr(l)&&xr(u)?N="value":xr(l)&&(N=u),ue.createElement(sn,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},o&&e.renderLabelLineItem(o,S,"line"),e.renderLabelItem(s,_,La(m,N)))});return ue.createElement(sn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),p=l&&i.hasActiveIndex()?l:null,f=h?s:p,v=Tn(Tn({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return ue.createElement(sn,Pg({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},sm(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ue.createElement(Gee,Pg({option:f,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,p=h.prevSectors,f=h.prevIsAnimationActive;return ue.createElement(Qu,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(_,S){var N=p&&p[S],C=S>0?uo(_,"paddingAngle",0):0;if(N){var j=Wd(N.endAngle-N.startAngle,_.endAngle-_.startAngle),E=Tn(Tn({},_),{},{startAngle:x+C,endAngle:x+j(m)+C});g.push(E),x=E.endAngle}else{var I=_.endAngle,D=_.startAngle,k=Wd(0,I-D),O=k(m),L=Tn(Tn({},_),{},{startAngle:x+C,endAngle:x+O+C});g.push(L),x=L.endAngle}}),ue.createElement(sn,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!MN(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,u=i.cx,d=i.cy,h=i.innerRadius,p=i.outerRadius,f=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!s||!s.length||!et(u)||!et(d)||!et(h)||!et(p))return null;var m=vr("recharts-pie",o);return ue.createElement(sn,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(s),ta.renderCallByParent(this.props,null,!1),(!f||v)&&$h.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(ue.isValidElement(n))return ue.cloneElement(n,i);if(rr(n))return n(i);var s=vr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ue.createElement(Zk,Pg({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(ue.isValidElement(n))return ue.cloneElement(n,i);var s=a;if(rr(n)&&(s=n(i),ue.isValidElement(s)))return s;var o=vr("recharts-pie-label-text",typeof n!="boolean"&&!rr(n)?n.className:"");return ue.createElement(om,Pg({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(P.PureComponent);v_=od;Bo(od,"displayName","Pie");Bo(od,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Du.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Bo(od,"parseDeltaAngle",function(t,e){var r=ns(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Bo(od,"getRealPieData",function(t){var e=t.data,r=t.children,n=Xt(t,!1),i=Go(r,jN);return e&&e.length?e.map(function(a,s){return Tn(Tn(Tn({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Tn(Tn({},n),a.props)}):[]});Bo(od,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=jee(i,a),o=n+is(t.cx,i,i/2),l=r+is(t.cy,a,a/2),u=is(t.innerRadius,s,0),d=is(t.outerRadius,s,s*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:d,maxRadius:h}});Bo(od,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Tn(Tn({},e.type.defaultProps),e.props):e.props,i=v_.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,p=n.tooltipType,f=Math.abs(n.minAngle),v=v_.parseCoordinateOfPie(n,r),m=v_.parseDeltaAngle(s,o),g=Math.abs(m),y=u;xr(u)&&xr(h)?(Nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):xr(u)&&(Nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var x=i.filter(function(E){return La(E,y,0)!==0}).length,_=(g>=360?x:x-1)*l,S=g-x*f-_,N=i.reduce(function(E,I){var D=La(I,y,0);return E+(et(D)?D:0)},0),C;if(N>0){var j;C=i.map(function(E,I){var D=La(E,y,0),k=La(E,d,I),O=(et(D)?D:0)/N,L;I?L=j.endAngle+ns(m)*l*(D!==0?1:0):L=s;var z=L+ns(m)*((D!==0?f:0)+O*S),re=(L+z)/2,Y=(v.innerRadius+v.outerRadius)/2,K=[{name:k,value:D,payload:E,dataKey:y,type:p}],q=In(v.cx,v.cy,Y,re);return j=Tn(Tn(Tn({percent:O,cornerRadius:a,name:k,tooltipPayload:K,midAngle:re,middleRadius:Y,tooltipPosition:q},E),v),{},{value:La(E,y),startAngle:L,endAngle:z,payload:E,paddingAngle:ns(m)*l}),j})}return Tn(Tn({},v),{},{sectors:C,data:i})});var gze=Math.ceil,vze=Math.max;function yze(t,e,r,n){for(var i=-1,a=vze(gze((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var bze=yze,xze=pZ,U9=1/0,wze=17976931348623157e292;function _ze(t){if(!t)return t===0?t:0;if(t=xze(t),t===U9||t===-U9){var e=t<0?-1:1;return e*wze}return t===t?t:0}var Xee=_ze,Sze=bze,Aze=EN,cP=Xee;function Nze(t){return function(e,r,n){return n&&typeof n!="number"&&Aze(e,r,n)&&(r=n=void 0),e=cP(e),r===void 0?(r=e,e=0):r=cP(r),n=n===void 0?e<r?1:-1:cP(n),Sze(e,r,n,t)}}var Eze=Nze,jze=Eze,Pze=jze(),Tze=Pze;const w5=Zr(Tze);function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function V9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(r),!0).forEach(function(n){Qee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qee(t,e,r){return e=Cze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cze(t){var e=kze(t,"string");return tx(e)=="symbol"?e:e+""}function kze(t,e){if(tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ize=["Webkit","Moz","O","ms"],Oze=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Ize.reduce(function(a,s){return z9(z9({},a),{},Qee({},s+n,r))},{});return i[e]=r,i};function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function _5(){return _5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_5.apply(this,arguments)}function q9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(r),!0).forEach(function(n){Qs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zee(n.key),n)}}function Dze(t,e,r){return e&&W9(t.prototype,e),r&&W9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lze(t,e,r){return e=S5(e),Mze(t,Jee()?Reflect.construct(e,r||[],S5(t).constructor):e.apply(t,r))}function Mze(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ze(t)}function $ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jee=function(){return!!t})()}function S5(t){return S5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S5(t)}function Fze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m4(t,e)}function m4(t,e){return m4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m4(t,e)}function Qs(t,e,r){return e=Zee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zee(t){var e=Bze(t,"string");return ry(e)=="symbol"?e:e+""}function Bze(t,e){if(ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uze=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=I1().domain(w5(0,l)).range([a,a+s-o]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},H9=function(e){return e.changedTouches&&!!e.changedTouches.length},ny=function(t){function e(r){var n;return Rze(this,e),n=Lze(this,e,[r]),Qs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Qs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Qs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Qs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qs(n,"handleSlideDragStart",function(i){var a=H9(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Fze(e,t),Dze(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,h=Math.min(i,a),p=Math.max(i,a),f=e.getIndexInRange(s,h),v=e.getIndexInRange(s,p);return{startIndex:f-f%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=La(a[n],o,n);return rr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,h=l.travellerWidth,p=l.startIndex,f=l.endIndex,v=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+d-h-o,u+d-h-s):m<0&&(m=Math.max(m,u-s,u-o));var g=this.getIndex({startX:s+m,endX:o+m});(g.startIndex!==p||g.endIndex!==f)&&v&&v(g),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=H9(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],d=this.props,h=d.x,p=d.width,f=d.travellerWidth,v=d.onChange,m=d.gap,g=d.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,h+p-f-u):x<0&&(x=Math.max(x,h-u)),y[s]=u+x;var _=this.getIndex(y),S=_.startIndex,N=_.endIndex,C=function(){var E=g.length-1;return s==="startX"&&(o>l?S%m===0:N%m===0)||o<l&&N===E||s==="endX"&&(o>l?N%m===0:S%m===0)||o>l&&N===E};this.setState(Qs(Qs({},s,u+x),"brushMoveStartX",n.pageX),function(){v&&C()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],h=o.indexOf(d);if(h!==-1){var p=h+n;if(!(p===-1||p>=o.length)){var f=o[p];i==="startX"&&f>=u||i==="endX"&&f<=l||this.setState(Qs({},i,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return ue.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,h=P.Children.only(u);return h?ue.cloneElement(h,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,h=l.height,p=l.traveller,f=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),x=uP(uP({},Xt(this.props,!1)),{},{x:y,y:u,width:d,height:h}),_=f||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=v[g])===null||s===void 0?void 0:s.name);return ue.createElement(sn,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),o.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:h,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,p=d.endX,f=5,v={pointerEvents:"none",fill:u};return ue.createElement(sn,{className:"recharts-brush-texts"},ue.createElement(om,_5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-f,y:s+o/2},v),this.getTextOfTick(i)),ue.createElement(om,_5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+l+f,y:s+o/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,h=n.alwaysShowText,p=this.state,f=p.startX,v=p.endX,m=p.isTextActive,g=p.isSlideMoving,y=p.isTravellerMoving,x=p.isTravellerFocused;if(!i||!i.length||!et(o)||!et(l)||!et(u)||!et(d)||u<=0||d<=0)return null;var _=vr("recharts-brush",a),S=ue.Children.count(s)===1,N=Oze("userSelect","none");return ue.createElement(sn,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,v),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||x||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(a+o/2)-1;return ue.createElement(ue.Fragment,null,ue.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),ue.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),ue.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ue.isValidElement(n)?a=ue.cloneElement(n,i):rr(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return uP({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?Uze({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(P.PureComponent);Qs(ny,"displayName","Brush");Qs(ny,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vze=NR;function zze(t,e){var r;return Vze(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var qze=zze,Wze=UJ,Hze=Bc,Gze=qze,Kze=Ls,Yze=EN;function Xze(t,e,r){var n=Kze(t)?Wze:Gze;return r&&Yze(t,e,r)&&(e=void 0),n(t,Hze(e))}var Qze=Xze;const Jze=Zr(Qze);var Tc=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},G9=cZ;function Zze(t,e,r){e=="__proto__"&&G9?G9(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var eqe=Zze,tqe=eqe,rqe=oZ,nqe=Bc;function iqe(t,e){var r={};return e=nqe(e),rqe(t,function(n,i,a){tqe(r,i,e(n,i,a))}),r}var aqe=iqe;const sqe=Zr(aqe);function oqe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var lqe=oqe,cqe=NR;function uqe(t,e){var r=!0;return cqe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var dqe=uqe,hqe=lqe,fqe=dqe,pqe=Bc,mqe=Ls,gqe=EN;function vqe(t,e,r){var n=mqe(t)?hqe:fqe;return r&&gqe(t,e,r)&&(e=void 0),n(t,pqe(e))}var yqe=vqe;const ete=Zr(yqe);var bqe=["x","y"];function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function g4(){return g4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g4.apply(this,arguments)}function K9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(r),!0).forEach(function(n){xqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xqe(t,e,r){return e=wqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wqe(t){var e=_qe(t,"string");return rx(e)=="symbol"?e:e+""}function _qe(t,e){if(rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sqe(t,e){if(t==null)return{};var r=Aqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nqe(t,e){var r=t.x,n=t.y,i=Sqe(t,bqe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),p=parseInt(h,10);return V0(V0(V0(V0(V0({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function Y9(t){return ue.createElement(Gee,g4({shapeType:"rectangle",propTransformer:Nqe,activeClassName:"recharts-active-bar"},t))}var Eqe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=et(n)||JPe(n);return a?e(n,i):(a||cm(),r)}},jqe=["value","background"],tte;function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function Pqe(t,e){if(t==null)return{};var r=Tqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function A5(){return A5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A5.apply(this,arguments)}function X9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ei(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X9(Object(r),!0).forEach(function(n){gh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nte(n.key),n)}}function kqe(t,e,r){return e&&Q9(t.prototype,e),r&&Q9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iqe(t,e,r){return e=N5(e),Oqe(t,rte()?Reflect.construct(e,r||[],N5(t).constructor):e.apply(t,r))}function Oqe(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rqe(t)}function Rqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rte=function(){return!!t})()}function N5(t){return N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N5(t)}function Dqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v4(t,e)}function v4(t,e){return v4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v4(t,e)}function gh(t,e,r){return e=nte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nte(t){var e=Lqe(t,"string");return iy(e)=="symbol"?e:e+""}function Lqe(t,e){if(iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uo=function(t){function e(){var r;Cqe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Iqe(this,e,[].concat(i)),gh(r,"state",{isAnimationFinished:!1}),gh(r,"id",tw("recharts-bar-")),gh(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),gh(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Dqe(e,t),kqe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,d=Xt(this.props,!1);return n&&n.map(function(h,p){var f=p===l,v=f?u:s,m=Ei(Ei(Ei({},d),h),{},{isActive:f,option:v,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ue.createElement(sn,A5({className:"recharts-bar-rectangle"},sm(i.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(p)}),ue.createElement(Y9,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,p=this.state.prevData;return ue.createElement(Qu,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var v=f.t,m=a.map(function(g,y){var x=p&&p[y];if(x){var _=Wd(x.x,g.x),S=Wd(x.y,g.y),N=Wd(x.width,g.width),C=Wd(x.height,g.height);return Ei(Ei({},g),{},{x:_(v),y:S(v),width:N(v),height:C(v)})}if(s==="horizontal"){var j=Wd(0,g.height),E=j(v);return Ei(Ei({},g),{},{y:g.y+g.height-E,height:E})}var I=Wd(0,g.width),D=I(v);return Ei(Ei({},g),{},{width:D})});return ue.createElement(sn,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!MN(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Xt(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,p=Pqe(u,jqe);if(!h)return null;var f=Ei(Ei(Ei(Ei(Ei({},p),{},{fill:"#eee"},h),l),sm(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return ue.createElement(Y9,A5({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},f))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,h=Go(d,BN);if(!h)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,f=function(g,y){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:La(g,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ue.createElement(sn,v,h.map(function(m){return ue.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:p,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,h=n.width,p=n.height,f=n.isAnimationActive,v=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=vr("recharts-bar",s),x=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,S=x||_,N=xr(m)?this.id:m;return ue.createElement(sn,{className:y},x||_?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(N)},ue.createElement("rect",{x:x?u:u-h/2,y:_?d:d-p/2,width:x?h:h*2,height:_?p:p*2}))):null,ue.createElement(sn,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,N),(!f||g)&&$h.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(P.PureComponent);tte=Uo;gh(Uo,"displayName","Bar");gh(Uo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Du.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gh(Uo,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,p=t.offset,f=g7e(n,r);if(!f)return null;var v=e.layout,m=r.type.defaultProps,g=m!==void 0?Ei(Ei({},m),r.props):r.props,y=g.dataKey,x=g.children,_=g.minPointSize,S=v==="horizontal"?s:a,N=u?S.scale.domain():null,C=S7e({numericAxis:S}),j=Go(x,jN),E=h.map(function(I,D){var k,O,L,z,re,Y;u?k=v7e(u[d+D],N):(k=La(I,y),Array.isArray(k)||(k=[C,k]));var K=Eqe(_,tte.defaultProps.minPointSize)(k[1],D);if(v==="horizontal"){var q,Z=[s.scale(k[0]),s.scale(k[1])],ve=Z[0],ce=Z[1];O=B7({axis:a,ticks:o,bandSize:i,offset:f.offset,entry:I,index:D}),L=(q=ce??ve)!==null&&q!==void 0?q:void 0,z=f.size;var F=ve-ce;if(re=Number.isNaN(F)?0:F,Y={x:O,y:s.y,width:z,height:s.height},Math.abs(K)>0&&Math.abs(re)<Math.abs(K)){var V=ns(re||K)*(Math.abs(K)-Math.abs(re));L-=V,re+=V}}else{var G=[a.scale(k[0]),a.scale(k[1])],oe=G[0],J=G[1];if(O=oe,L=B7({axis:s,ticks:l,bandSize:i,offset:f.offset,entry:I,index:D}),z=J-oe,re=f.size,Y={x:a.x,y:L,width:a.width,height:re},Math.abs(K)>0&&Math.abs(z)<Math.abs(K)){var ie=ns(z||K)*(Math.abs(K)-Math.abs(z));z+=ie}}return Ei(Ei(Ei({},I),{},{x:O,y:L,width:z,height:re,value:u?k:k[1],payload:I,background:Y},j&&j[D]&&j[D].props),{},{tooltipPayload:[Nee(r,I)],tooltipPosition:{x:O+z/2,y:L+re/2}})});return Ei({data:E,layout:v},p)});function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function Mqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ite(n.key),n)}}function $qe(t,e,r){return e&&J9(t.prototype,e),r&&J9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(r),!0).forEach(function(n){GN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GN(t,e,r){return e=ite(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ite(t){var e=Fqe(t,"string");return nx(e)=="symbol"?e:e+""}function Fqe(t,e){if(nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bqe=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!eo(u,Uo);return d.reduce(function(f,v){var m=r[v],g=m.orientation,y=m.domain,x=m.padding,_=x===void 0?{}:x,S=m.mirror,N=m.reversed,C="".concat(g).concat(S?"Mirror":""),j,E,I,D,k;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=y[1]-y[0],L=1/0,z=m.categoricalDomain.sort(tTe);if(z.forEach(function(G,oe){oe>0&&(L=Math.min((G||0)-(z[oe-1]||0),L))}),Number.isFinite(L)){var re=L/O,Y=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(j=re*Y/2),m.padding==="no-gap"){var K=is(e.barCategoryGap,re*Y),q=re*Y/2;j=q-K-(q-K)/Y*K}}}i==="xAxis"?E=[n.left+(_.left||0)+(j||0),n.left+n.width-(_.right||0)-(j||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(j||0),n.top+n.height-(_.bottom||0)-(j||0)]:E=m.range,N&&(E=[E[1],E[0]]);var Z=wee(m,a,p),ve=Z.scale,ce=Z.realScaleType;ve.domain(y).range(E),_ee(ve);var F=See(ve,gl(gl({},m),{},{realScaleType:ce}));i==="xAxis"?(k=g==="top"&&!S||g==="bottom"&&S,I=n.left,D=h[C]-k*m.height):i==="yAxis"&&(k=g==="left"&&!S||g==="right"&&S,I=h[C]-k*m.width,D=n.top);var V=gl(gl(gl({},m),F),{},{realScaleType:ce,x:I,y:D,scale:ve,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return V.bandSize=c5(V,F),!m.hide&&i==="xAxis"?h[C]+=(k?-1:1)*V.height:m.hide||(h[C]+=(k?-1:1)*V.width),gl(gl({},f),{},GN({},v,V))},{})},ate=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Uqe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return ate({x:r,y:n},{x:i,y:a})},ste=function(){function t(e){Mqe(this,t),this.scale=e}return $qe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();GN(ste,"EPS",1e-4);var tD=function(e){var r=Object.keys(e).reduce(function(n,i){return gl(gl({},n),{},GN({},i,ste.create(e[i])))},{});return gl(gl({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return sqe(i,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return ete(i,function(a,s){return r[s].isInRange(a)})}})};function Vqe(t){return(t%180+180)%180}var zqe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Vqe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},qqe=Bc,Wqe=rw,Hqe=AN;function Gqe(t){return function(e,r,n){var i=Object(e);if(!Wqe(e)){var a=qqe(r);e=Hqe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var Kqe=Gqe,Yqe=Xee;function Xqe(t){var e=Yqe(t),r=e%1;return e===e?r?e-r:e:0}var Qqe=Xqe,Jqe=tZ,Zqe=Bc,eWe=Qqe,tWe=Math.max;function rWe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:eWe(r);return i<0&&(i=tWe(n+i,0)),Jqe(t,Zqe(e),i)}var nWe=rWe,iWe=Kqe,aWe=nWe,sWe=iWe(aWe),oWe=sWe;const lWe=Zr(oWe);var cWe=rPe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),rD=P.createContext(void 0),nD=P.createContext(void 0),ote=P.createContext(void 0),lte=P.createContext({}),cte=P.createContext(void 0),ute=P.createContext(0),dte=P.createContext(0),eB=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=cWe(a);return ue.createElement(rD.Provider,{value:n},ue.createElement(nD.Provider,{value:i},ue.createElement(lte.Provider,{value:a},ue.createElement(ote.Provider,{value:d},ue.createElement(cte.Provider,{value:s},ue.createElement(ute.Provider,{value:u},ue.createElement(dte.Provider,{value:l},o)))))))},uWe=function(){return P.useContext(cte)},hte=function(e){var r=P.useContext(rD);r==null&&cm();var n=r[e];return n==null&&cm(),n},dWe=function(){var e=P.useContext(rD);return eh(e)},hWe=function(){var e=P.useContext(nD),r=lWe(e,function(n){return ete(n.domain,Number.isFinite)});return r||eh(e)},fte=function(e){var r=P.useContext(nD);r==null&&cm();var n=r[e];return n==null&&cm(),n},fWe=function(){var e=P.useContext(ote);return e},pWe=function(){return P.useContext(lte)},iD=function(){return P.useContext(dte)},aD=function(){return P.useContext(ute)};function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function mWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mte(n.key),n)}}function vWe(t,e,r){return e&&gWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yWe(t,e,r){return e=E5(e),bWe(t,pte()?Reflect.construct(e,r||[],E5(t).constructor):e.apply(t,r))}function bWe(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xWe(t)}function xWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pte=function(){return!!t})()}function E5(t){return E5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E5(t)}function wWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y4(t,e)}function y4(t,e){return y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y4(t,e)}function tB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(r),!0).forEach(function(n){sD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sD(t,e,r){return e=mte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mte(t){var e=_We(t,"string");return ay(e)=="symbol"?e:e+""}function _We(t,e){if(ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SWe(t,e){return jWe(t)||EWe(t,e)||NWe(t,e)||AWe()}function AWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NWe(t,e){if(t){if(typeof t=="string")return nB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nB(t,e)}}function nB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function jWe(t){if(Array.isArray(t))return t}function b4(){return b4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b4.apply(this,arguments)}var PWe=function(e,r){var n;return ue.isValidElement(e)?n=ue.cloneElement(e,r):rr(e)?n=e(r):n=ue.createElement("line",b4({},r,{className:"recharts-reference-line-line"})),n},TWe=function(e,r,n,i,a,s,o,l,u){var d=a.x,h=a.y,p=a.width,f=a.height;if(n){var v=u.y,m=e.y.apply(v,{position:s});if(Tc(u,"discard")&&!e.y.isInRange(m))return null;var g=[{x:d+p,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(r){var y=u.x,x=e.x.apply(y,{position:s});if(Tc(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:h+f},{x,y:h}];return o==="top"?_.reverse():_}if(i){var S=u.segment,N=S.map(function(C){return e.apply(C,{position:s})});return Tc(u,"discard")&&Jze(N,function(C){return!e.isInRange(C)})?null:N}return null};function CWe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=uWe(),d=hte(i),h=fte(a),p=fWe();if(!u||!p)return null;Nl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=tD({x:d.scale,y:h.scale}),v=qi(e),m=qi(r),g=n&&n.length===2,y=TWe(f,v,m,g,p,t.position,d.orientation,h.orientation,t);if(!y)return null;var x=SWe(y,2),_=x[0],S=_.x,N=_.y,C=x[1],j=C.x,E=C.y,I=Tc(t,"hidden")?"url(#".concat(u,")"):void 0,D=rB(rB({clipPath:I},Xt(t,!0)),{},{x1:S,y1:N,x2:j,y2:E});return ue.createElement(sn,{className:vr("recharts-reference-line",o)},PWe(s,D),ta.renderCallByParent(t,Uqe({x1:S,y1:N,x2:j,y2:E})))}var oD=function(t){function e(){return mWe(this,e),yWe(this,e,arguments)}return wWe(e,t),vWe(e,[{key:"render",value:function(){return ue.createElement(CWe,this.props)}}])}(ue.Component);sD(oD,"displayName","ReferenceLine");sD(oD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function x4(){return x4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x4.apply(this,arguments)}function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function iB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(r),!0).forEach(function(n){KN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vte(n.key),n)}}function OWe(t,e,r){return e&&IWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RWe(t,e,r){return e=j5(e),DWe(t,gte()?Reflect.construct(e,r||[],j5(t).constructor):e.apply(t,r))}function DWe(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LWe(t)}function LWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gte=function(){return!!t})()}function j5(t){return j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j5(t)}function MWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w4(t,e)}function w4(t,e){return w4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w4(t,e)}function KN(t,e,r){return e=vte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vte(t){var e=$We(t,"string");return sy(e)=="symbol"?e:e+""}function $We(t,e){if(sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FWe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=tD({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Tc(e,"discard")&&!s.isInRange(o)?null:o},YN=function(t){function e(){return kWe(this,e),RWe(this,e,arguments)}return MWe(e,t),OWe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=qi(i),d=qi(a);if(Nl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=FWe(this.props);if(!h)return null;var p=h.x,f=h.y,v=this.props,m=v.shape,g=v.className,y=Tc(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=aB(aB({clipPath:y},Xt(this.props,!0)),{},{cx:p,cy:f});return ue.createElement(sn,{className:vr("recharts-reference-dot",g)},e.renderDot(m,x),ta.renderCallByParent(this.props,{x:p-s,y:f-s,width:2*s,height:2*s}))}}])}(ue.Component);KN(YN,"displayName","ReferenceDot");KN(YN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});KN(YN,"renderDot",function(t,e){var r;return ue.isValidElement(t)?r=ue.cloneElement(t,e):rr(t)?r=t(e):r=ue.createElement(eD,x4({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function _4(){return _4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_4.apply(this,arguments)}function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function sB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(r),!0).forEach(function(n){XN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bte(n.key),n)}}function VWe(t,e,r){return e&&UWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zWe(t,e,r){return e=P5(e),qWe(t,yte()?Reflect.construct(e,r||[],P5(t).constructor):e.apply(t,r))}function qWe(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WWe(t)}function WWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yte=function(){return!!t})()}function P5(t){return P5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P5(t)}function HWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S4(t,e)}function S4(t,e){return S4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S4(t,e)}function XN(t,e,r){return e=bte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bte(t){var e=GWe(t,"string");return oy(e)=="symbol"?e:e+""}function GWe(t,e){if(oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KWe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var p=tD({x:d.scale,y:h.scale}),f={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Tc(a,"discard")&&(!p.isInRange(f)||!p.isInRange(v))?null:ate(f,v)},QN=function(t){function e(){return BWe(this,e),zWe(this,e,arguments)}return HWe(e,t),VWe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Nl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=qi(i),p=qi(a),f=qi(s),v=qi(o),m=this.props.shape;if(!h&&!p&&!f&&!v&&!m)return null;var g=KWe(h,p,f,v,this.props);if(!g&&!m)return null;var y=Tc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ue.createElement(sn,{className:vr("recharts-reference-area",l)},e.renderRect(m,oB(oB({clipPath:y},Xt(this.props,!0)),g)),ta.renderCallByParent(this.props,g))}}])}(ue.Component);XN(QN,"displayName","ReferenceArea");XN(QN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});XN(QN,"renderRect",function(t,e){var r;return ue.isValidElement(t)?r=ue.cloneElement(t,e):rr(t)?r=t(e):r=ue.createElement(ZR,_4({},e,{className:"recharts-reference-area-rect"})),r});function xte(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function YWe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return zqe(n,r)}function XWe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function T5(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function QWe(t,e){return xte(t,e+1)}function JWe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,h=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:xte(n,u)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},x=v.coordinate,_=l===0||T5(t,x,y,d,o);_||(l=0,d=s,u+=1),_&&(d=x+t*(y()/2+i),l+=u)},p;u<=a.length;)if(p=h(),p)return p.v;return[]}function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function lB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(r),!0).forEach(function(n){ZWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZWe(t,e,r){return e=eHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eHe(t){var e=tHe(t,"string");return ix(e)=="symbol"?e:e+""}function tHe(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rHe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(p){var f=a[p],v,m=function(){return v===void 0&&(v=r(f,p)),v};if(p===s-1){var g=t*(f.coordinate+t*m()/2-l);a[p]=f=ka(ka({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate})}else a[p]=f=ka(ka({},f),{},{tickCoord:f.coordinate});var y=T5(t,f.tickCoord,m,o,l);y&&(l=f.tickCoord-t*(m()/2+i),a[p]=ka(ka({},f),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function nHe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var d=n[o-1],h=r(d,o-1),p=t*(d.coordinate+t*h/2-u);s[o-1]=d=ka(ka({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var f=T5(t,d.tickCoord,function(){return h},l,u);f&&(u=d.tickCoord-t*(h/2+i),s[o-1]=ka(ka({},d),{},{isShow:!0}))}for(var v=a?o-1:o,m=function(x){var _=s[x],S,N=function(){return S===void 0&&(S=r(_,x)),S};if(x===0){var C=t*(_.coordinate-t*N()/2-l);s[x]=_=ka(ka({},_),{},{tickCoord:C<0?_.coordinate-C*t:_.coordinate})}else s[x]=_=ka(ka({},_),{},{tickCoord:_.coordinate});var j=T5(t,_.tickCoord,N,l,u);j&&(l=_.tickCoord+t*(N()/2+i),s[x]=ka(ka({},_),{},{isShow:!0}))},g=0;g<v;g++)m(g);return s}function lD(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(et(l)||Du.isSsr)return QWe(i,typeof l=="number"&&et(l)?l:0);var p=[],f=o==="top"||o==="bottom"?"width":"height",v=d&&f==="width"?k1(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(_,S){var N=rr(u)?u(_.value,S):_.value;return f==="width"?YWe(k1(N,{fontSize:e,letterSpacing:r}),v,h):k1(N,{fontSize:e,letterSpacing:r})[f]},g=i.length>=2?ns(i[1].coordinate-i[0].coordinate):1,y=XWe(a,g,f);return l==="equidistantPreserveStart"?JWe(g,y,m,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=nHe(g,y,m,i,s,l==="preserveStartEnd"):p=rHe(g,y,m,i,s),p.filter(function(x){return x.isShow}))}var iHe=["viewBox"],aHe=["viewBox"],sHe=["ticks"];function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function cB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(r),!0).forEach(function(n){cD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dP(t,e){if(t==null)return{};var r=oHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_te(n.key),n)}}function cHe(t,e,r){return e&&uB(t.prototype,e),r&&uB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uHe(t,e,r){return e=C5(e),dHe(t,wte()?Reflect.construct(e,r||[],C5(t).constructor):e.apply(t,r))}function dHe(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hHe(t)}function hHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wte=function(){return!!t})()}function C5(t){return C5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C5(t)}function fHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A4(t,e)}function A4(t,e){return A4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A4(t,e)}function cD(t,e,r){return e=_te(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _te(t){var e=pHe(t,"string");return ly(e)=="symbol"?e:e+""}function pHe(t,e){if(ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qy=function(t){function e(r){var n;return lHe(this,e),n=uHe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return fHe(e,t),cHe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=dP(n,iHe),o=this.props,l=o.viewBox,u=dP(o,aHe);return!Qg(a,l)||!Qg(s,u)||!Qg(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,p=i.tickMargin,f,v,m,g,y,x,_=h?-1:1,S=n.tickSize||d,N=et(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":f=v=n.coordinate,g=s+ +!h*l,m=g-_*S,x=m-_*p,y=N;break;case"left":m=g=n.coordinate,v=a+ +!h*o,f=v-_*S,y=f-_*p,x=N;break;case"right":m=g=n.coordinate,v=a+ +h*o,f=v+_*S,y=f+_*p,x=N;break;default:f=v=n.coordinate,g=s+ +h*l,m=g+_*S,x=m+_*p,y=N;break}return{line:{x1:f,y1:m,x2:v,y2:g},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,h=Mi(Mi(Mi({},Xt(this.props,!1)),Xt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);h=Mi(Mi({},h),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var f=+(l==="left"&&!u||l==="right"&&u);h=Mi(Mi({},h),{},{x1:i+f*s,y1:a,x2:i+f*s,y2:a+o})}return ue.createElement("line",Tg({},h,{className:vr("recharts-cartesian-axis-line",uo(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,h=o.tickFormatter,p=o.unit,f=lD(Mi(Mi({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Xt(this.props,!1),y=Xt(d,!1),x=Mi(Mi({},g),{},{fill:"none"},Xt(l,!1)),_=f.map(function(S,N){var C=s.getTickLineCoord(S),j=C.line,E=C.tick,I=Mi(Mi(Mi(Mi({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:u},y),E),{},{index:N,payload:S,visibleTicksCount:f.length,tickFormatter:h});return ue.createElement(sn,Tg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},sm(s.props,S,N)),l&&ue.createElement("line",Tg({},x,j,{className:vr("recharts-cartesian-axis-tick-line",uo(l,"className"))})),d&&e.renderTickItem(d,I,"".concat(rr(h)?h(S.value,N):S.value).concat(p||"")))});return ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,p=h.ticks,f=dP(h,sHe),v=p;return rr(l)&&(v=p&&p.length>0?l(this.props):l(f)),s<=0||o<=0||!v||!v.length?null:ue.createElement(sn,{className:vr("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),ta.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=vr(i.className,"recharts-cartesian-axis-tick-value");return ue.isValidElement(n)?s=ue.cloneElement(n,Mi(Mi({},i),{},{className:o})):rr(n)?s=n(Mi(Mi({},i),{},{className:o})):s=ue.createElement(om,Tg({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(P.Component);cD(Qy,"displayName","CartesianAxis");cD(Qy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mHe=["x1","y1","x2","y2","key"],gHe=["offset"];function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function dB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(r),!0).forEach(function(n){vHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vHe(t,e,r){return e=yHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yHe(t){var e=bHe(t,"string");return um(e)=="symbol"?e:e+""}function bHe(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gp.apply(this,arguments)}function hB(t,e){if(t==null)return{};var r=xHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wHe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return ue.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Ste(t,e){var r;if(ue.isValidElement(t))r=ue.cloneElement(t,e);else if(rr(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=hB(e,mHe),u=Xt(l,!1);u.offset;var d=hB(u,gHe);r=ue.createElement("line",gp({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function _He(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Da(Da({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return Ste(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function SHe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Da(Da({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return Ste(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function AHe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,f){return p-f});i!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var v=!d[f+1],m=v?i+s-p:d[f+1]-p;if(m<=0)return null;var g=f%e.length;return ue.createElement("rect",{key:"react-".concat(f),y:p,x:n,height:m,width:a,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function NHe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,f){return p-f});a!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var v=!d[f+1],m=v?a+o-p:d[f+1]-p;if(m<=0)return null;var g=f%n.length;return ue.createElement("rect",{key:"react-".concat(f),x:p,y:s,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var EHe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return xee(lD(Da(Da(Da({},Qy.defaultProps),n),{},{ticks:ju(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},jHe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return xee(lD(Da(Da(Da({},Qy.defaultProps),n),{},{ticks:ju(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Jm={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function M1(t){var e,r,n,i,a,s,o=iD(),l=aD(),u=pWe(),d=Da(Da({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Jm.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Jm.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Jm.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Jm.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Jm.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Jm.verticalFill,x:et(t.x)?t.x:u.left,y:et(t.y)?t.y:u.top,width:et(t.width)?t.width:u.width,height:et(t.height)?t.height:u.height}),h=d.x,p=d.y,f=d.width,v=d.height,m=d.syncWithTicks,g=d.horizontalValues,y=d.verticalValues,x=dWe(),_=hWe();if(!et(f)||f<=0||!et(v)||v<=0||!et(h)||h!==+h||!et(p)||p!==+p)return null;var S=d.verticalCoordinatesGenerator||EHe,N=d.horizontalCoordinatesGenerator||jHe,C=d.horizontalPoints,j=d.verticalPoints;if((!C||!C.length)&&rr(N)){var E=g&&g.length,I=N({yAxis:_?Da(Da({},_),{},{ticks:E?g:_.ticks}):void 0,width:o,height:l,offset:u},E?!0:m);Nl(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(um(I),"]")),Array.isArray(I)&&(C=I)}if((!j||!j.length)&&rr(S)){var D=y&&y.length,k=S({xAxis:x?Da(Da({},x),{},{ticks:D?y:x.ticks}):void 0,width:o,height:l,offset:u},D?!0:m);Nl(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(um(k),"]")),Array.isArray(k)&&(j=k)}return ue.createElement("g",{className:"recharts-cartesian-grid"},ue.createElement(wHe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ue.createElement(_He,gp({},d,{offset:u,horizontalPoints:C,xAxis:x,yAxis:_})),ue.createElement(SHe,gp({},d,{offset:u,verticalPoints:j,xAxis:x,yAxis:_})),ue.createElement(AHe,gp({},d,{horizontalPoints:C})),ue.createElement(NHe,gp({},d,{verticalPoints:j})))}M1.displayName="CartesianGrid";function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function PHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function THe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ete(n.key),n)}}function CHe(t,e,r){return e&&THe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kHe(t,e,r){return e=k5(e),IHe(t,Ate()?Reflect.construct(e,r||[],k5(t).constructor):e.apply(t,r))}function IHe(t,e){if(e&&(cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OHe(t)}function OHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ate(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ate=function(){return!!t})()}function k5(t){return k5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k5(t)}function RHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N4(t,e)}function N4(t,e){return N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N4(t,e)}function Nte(t,e,r){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ete(t){var e=DHe(t,"string");return cy(e)=="symbol"?e:e+""}function DHe(t,e){if(cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E4(){return E4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E4.apply(this,arguments)}function LHe(t){var e=t.xAxisId,r=iD(),n=aD(),i=hte(e);return i==null?null:P.createElement(Qy,E4({},i,{className:vr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ju(s,!0)}}))}var Dp=function(t){function e(){return PHe(this,e),kHe(this,e,arguments)}return RHe(e,t),CHe(e,[{key:"render",value:function(){return P.createElement(LHe,this.props)}}])}(P.Component);Nte(Dp,"displayName","XAxis");Nte(Dp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function MHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $He(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tte(n.key),n)}}function FHe(t,e,r){return e&&$He(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BHe(t,e,r){return e=I5(e),UHe(t,jte()?Reflect.construct(e,r||[],I5(t).constructor):e.apply(t,r))}function UHe(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VHe(t)}function VHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jte=function(){return!!t})()}function I5(t){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I5(t)}function zHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j4(t,e)}function j4(t,e){return j4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j4(t,e)}function Pte(t,e,r){return e=Tte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tte(t){var e=qHe(t,"string");return uy(e)=="symbol"?e:e+""}function qHe(t,e){if(uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P4(){return P4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P4.apply(this,arguments)}var WHe=function(e){var r=e.yAxisId,n=iD(),i=aD(),a=fte(r);return a==null?null:P.createElement(Qy,P4({},a,{className:vr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return ju(o,!0)}}))},Lp=function(t){function e(){return MHe(this,e),BHe(this,e,arguments)}return zHe(e,t),FHe(e,[{key:"render",value:function(){return P.createElement(WHe,this.props)}}])}(P.Component);Pte(Lp,"displayName","YAxis");Pte(Lp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fB(t){return YHe(t)||KHe(t)||GHe(t)||HHe()}function HHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GHe(t,e){if(t){if(typeof t=="string")return T4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T4(t,e)}}function KHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YHe(t){if(Array.isArray(t))return T4(t)}function T4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var C4=function(e,r,n,i,a){var s=Go(e,oD),o=Go(e,YN),l=[].concat(fB(s),fB(o)),u=Go(e,QN),d="".concat(i,"Id"),h=i[0],p=r;if(l.length&&(p=l.reduce(function(m,g){if(g.props[d]===n&&Tc(g.props,"extendDomain")&&et(g.props[h])){var y=g.props[h];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},p)),u.length){var f="".concat(h,"1"),v="".concat(h,"2");p=u.reduce(function(m,g){if(g.props[d]===n&&Tc(g.props,"extendDomain")&&et(g.props[f])&&et(g.props[v])){var y=g.props[f],x=g.props[v];return[Math.min(m[0],y,x),Math.max(m[1],y,x)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,g){return et(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},p)),p},Cte={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new i(d,h||l,p),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],f]:l._events[v].push(f):(l._events[v]=f,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,f=h.length,v=new Array(f);p<f;p++)v[p]=h[p].fn;return v},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,p,f,v){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,x,_;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,h),!0;case 4:return g.fn.call(g.context,d,h,p),!0;case 5:return g.fn.call(g.context,d,h,p,f),!0;case 6:return g.fn.call(g.context,d,h,p,f,v),!0}for(_=1,x=new Array(y-1);_<y;_++)x[_-1]=arguments[_];g.fn.apply(g.context,x)}else{var S=g.length,N;for(_=0;_<S;_++)switch(g[_].once&&this.removeListener(u,g[_].fn,void 0,!0),y){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,h);break;case 4:g[_].fn.call(g[_].context,d,h,p);break;default:if(!x)for(N=1,x=new Array(y-1);N<y;N++)x[N-1]=arguments[N];g[_].fn.apply(g[_].context,x)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,p){var f=r?r+u:u;if(!this._events[f])return this;if(!d)return s(this,f),this;var v=this._events[f];if(v.fn)v.fn===d&&(!p||v.once)&&(!h||v.context===h)&&s(this,f);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==d||p&&!v[m].once||h&&v[m].context!==h)&&g.push(v[m]);g.length?this._events[f]=g.length===1?g[0]:g:s(this,f)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(Cte);var XHe=Cte.exports;const QHe=Zr(XHe);var hP=new QHe,fP="recharts.syncMouseEvents";function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function JHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kte(n.key),n)}}function eGe(t,e,r){return e&&ZHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pP(t,e,r){return e=kte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kte(t){var e=tGe(t,"string");return ax(e)=="symbol"?e:e+""}function tGe(t,e){if(ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rGe=function(){function t(){JHe(this,t),pP(this,"activeIndex",0),pP(this,"coordinateList",[]),pP(this,"layout","horizontal")}return eGe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,h=d===void 0?null:d,p=r.mouseHandlerCallback,f=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+l+u,p=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function nGe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&et(n)&&et(i))return!0}return!1}function iGe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Ite(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=In(e,r,n,i),o=In(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function aGe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,p=In(o,l,u,h),f=In(o,l,d,h);n=p.x,i=p.y,a=f.x,s=f.y}else return Ite(e);return[{x:n,y:i},{x:a,y:s}]}function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function pB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(r),!0).forEach(function(n){sGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sGe(t,e,r){return e=oGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oGe(t){var e=lGe(t,"string");return sx(e)=="symbol"?e:e+""}function lGe(t,e){if(sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cGe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var v,m=Zk;if(p==="ScatterChart")v=s,m=BUe;else if(p==="BarChart")v=iGe(h,s,l,d),m=ZR;else if(h==="radial"){var g=Ite(s),y=g.cx,x=g.cy,_=g.radius,S=g.startAngle,N=g.endAngle;v={cx:y,cy:x,startAngle:S,endAngle:N,innerRadius:_,outerRadius:_},m=kee}else v={points:aGe(h,s,l)},m=Zk;var C=j2(j2(j2(j2({stroke:"#ccc",pointerEvents:"none"},l),v),Xt(f,!1)),{},{payload:o,payloadIndex:u,className:vr("recharts-tooltip-cursor",f.className)});return P.isValidElement(f)?P.cloneElement(f,C):P.createElement(m,C)}var uGe=["item"],dGe=["children","className","width","height","style","compact","title","desc"];function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cg.apply(this,arguments)}function mB(t,e){return pGe(t)||fGe(t,e)||Rte(t,e)||hGe()}function hGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function pGe(t){if(Array.isArray(t))return t}function gB(t,e){if(t==null)return{};var r=mGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vGe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dte(n.key),n)}}function yGe(t,e,r){return e&&vGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bGe(t,e,r){return e=O5(e),xGe(t,Ote()?Reflect.construct(e,r||[],O5(t).constructor):e.apply(t,r))}function xGe(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wGe(t)}function wGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ote(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ote=function(){return!!t})()}function O5(t){return O5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O5(t)}function _Ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k4(t,e)}function k4(t,e){return k4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k4(t,e)}function hy(t){return NGe(t)||AGe(t)||Rte(t)||SGe()}function SGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rte(t,e){if(t){if(typeof t=="string")return I4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I4(t,e)}}function AGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NGe(t){if(Array.isArray(t))return I4(t)}function I4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(r),!0).forEach(function(n){Vt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vt(t,e,r){return e=Dte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dte(t){var e=EGe(t,"string");return dy(e)=="symbol"?e:e+""}function EGe(t,e){if(dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jGe={xAxis:["bottom","top"],yAxis:["left","right"]},PGe={width:"100%",height:"100%"},Lte={x:0,y:0};function P2(t){return t}var TGe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},CGe=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Be(Be(Be({},i),In(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return Be(Be(Be({},i),In(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Lte},JN=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(hy(o),hy(u)):o},[]);return s.length>0?s:e&&e.length&&et(i)&&et(a)?e.slice(i,a+1):[]};function Mte(t){return t==="number"?[0,"auto"]:void 0}var O4=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=JN(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var f=h===void 0?o:h;p=ok(f,s.dataKey,i)}else p=h&&h[n]||o[n];return p?[].concat(hy(l),[Nee(u,p)]):l},[])},yB=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=TGe(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=u7e(s,o,u,l);if(d>=0&&u){var h=u[d]&&u[d].value,p=O4(e,r,d,h),f=CGe(n,o,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:p,activeCoordinate:f}}return null},kGe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,p=e.stackOffset,f=bee(d,a);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?Be(Be({},m.type.defaultProps),m.props):m.props,x=y.type,_=y.dataKey,S=y.allowDataOverflow,N=y.allowDuplicatedCategory,C=y.scale,j=y.ticks,E=y.includeHidden,I=y[s];if(v[I])return v;var D=JN(e.data,{graphicalItems:i.filter(function(F){var V,G=s in F.props?F.props[s]:(V=F.type.defaultProps)===null||V===void 0?void 0:V[s];return G===I}),dataStartIndex:l,dataEndIndex:u}),k=D.length,O,L,z;nGe(y.domain,S,x)&&(O=Kk(y.domain,null,S),f&&(x==="number"||C!=="auto")&&(z=O1(D,_,"category")));var re=Mte(x);if(!O||O.length===0){var Y,K=(Y=y.domain)!==null&&Y!==void 0?Y:re;if(_){if(O=O1(D,_,x),x==="category"&&f){var q=eTe(O);N&&q?(L=O,O=w5(0,k)):N||(O=z7(K,O,m).reduce(function(F,V){return F.indexOf(V)>=0?F:[].concat(hy(F),[V])},[]))}else if(x==="category")N?O=O.filter(function(F){return F!==""&&!xr(F)}):O=z7(K,O,m).reduce(function(F,V){return F.indexOf(V)>=0||V===""||xr(V)?F:[].concat(hy(F),[V])},[]);else if(x==="number"){var Z=m7e(D,i.filter(function(F){var V,G,oe=s in F.props?F.props[s]:(V=F.type.defaultProps)===null||V===void 0?void 0:V[s],J="hide"in F.props?F.props.hide:(G=F.type.defaultProps)===null||G===void 0?void 0:G.hide;return oe===I&&(E||!J)}),_,a,d);Z&&(O=Z)}f&&(x==="number"||C!=="auto")&&(z=O1(D,_,"category"))}else f?O=w5(0,k):o&&o[I]&&o[I].hasStack&&x==="number"?O=p==="expand"?[0,1]:Aee(o[I].stackGroups,l,u):O=yee(D,i.filter(function(F){var V=s in F.props?F.props[s]:F.type.defaultProps[s],G="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return V===I&&(E||!G)}),x,d,!0);if(x==="number")O=C4(h,O,I,a,j),K&&(O=Kk(K,O,S));else if(x==="category"&&K){var ve=K,ce=O.every(function(F){return ve.indexOf(F)>=0});ce&&(O=ve)}}return Be(Be({},v),{},Vt({},I,Be(Be({},y),{},{axisType:a,domain:O,categoricalDomain:z,duplicateDomain:L,originalDomain:(g=y.domain)!==null&&g!==void 0?g:re,isCategorical:f,layout:d})))},{})},IGe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,p=JN(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),f=p.length,v=bee(d,a),m=-1;return n.reduce(function(g,y){var x=y.type.defaultProps!==void 0?Be(Be({},y.type.defaultProps),y.props):y.props,_=x[s],S=Mte("number");if(!g[_]){m++;var N;return v?N=w5(0,f):o&&o[_]&&o[_].hasStack?(N=Aee(o[_].stackGroups,l,u),N=C4(h,N,_,a)):(N=Kk(S,yee(p,n.filter(function(C){var j,E,I=s in C.props?C.props[s]:(j=C.type.defaultProps)===null||j===void 0?void 0:j[s],D="hide"in C.props?C.props.hide:(E=C.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===_&&!D}),"number",d),i.defaultProps.allowDataOverflow),N=C4(h,N,_,a)),Be(Be({},g),{},Vt({},_,Be(Be({axisType:a},i.defaultProps),{},{hide:!0,orientation:uo(jGe,"".concat(a,".").concat(m%2),null),domain:N,originalDomain:S,isCategorical:v,layout:d})))}return g},{})},OGe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),p=Go(d,a),f={};return p&&p.length?f=kGe(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(f=IGe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),f},RGe=function(e){var r=eh(e),n=ju(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ER(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:c5(r,n)}},bB=function(e){var r=e.children,n=e.defaultShowTooltip,i=eo(r,ny),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},DGe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ru(r&&r.type);return n&&n.indexOf("Bar")>=0})},xB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},LGe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,h=n.children,p=n.margin||{},f=eo(h,ny),v=eo(h,Jg),m=Object.keys(l).reduce(function(N,C){var j=l[C],E=j.orientation;return!j.mirror&&!j.hide?Be(Be({},N),{},Vt({},E,N[E]+j.width)):N},{left:p.left||0,right:p.right||0}),g=Object.keys(s).reduce(function(N,C){var j=s[C],E=j.orientation;return!j.mirror&&!j.hide?Be(Be({},N),{},Vt({},E,uo(N,"".concat(E))+j.height)):N},{top:p.top||0,bottom:p.bottom||0}),y=Be(Be({},g),m),x=y.bottom;f&&(y.bottom+=f.props.height||ny.defaultProps.height),v&&r&&(y=f7e(y,i,n,r));var _=u-y.left-y.right,S=d-y.top-y.bottom;return Be(Be({brushBottom:x},y),{},{width:Math.max(_,0),height:Math.max(S,0)})},MGe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},$te=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,p=function(y,x){var _=x.graphicalItems,S=x.stackGroups,N=x.offset,C=x.updateId,j=x.dataStartIndex,E=x.dataEndIndex,I=y.barSize,D=y.layout,k=y.barGap,O=y.barCategoryGap,L=y.maxBarSize,z=xB(D),re=z.numericAxisName,Y=z.cateAxisName,K=DGe(_),q=[];return _.forEach(function(Z,ve){var ce=JN(y.data,{graphicalItems:[Z],dataStartIndex:j,dataEndIndex:E}),F=Z.type.defaultProps!==void 0?Be(Be({},Z.type.defaultProps),Z.props):Z.props,V=F.dataKey,G=F.maxBarSize,oe=F["".concat(re,"Id")],J=F["".concat(Y,"Id")],ie={},be=l.reduce(function(je,Me){var Je=x["".concat(Me.axisType,"Map")],Gt=F["".concat(Me.axisType,"Id")];Je&&Je[Gt]||Me.axisType==="zAxis"||cm();var At=Je[Gt];return Be(Be({},je),{},Vt(Vt({},Me.axisType,At),"".concat(Me.axisType,"Ticks"),ju(At)))},ie),he=be[Y],T=be["".concat(Y,"Ticks")],X=S&&S[oe]&&S[oe].hasStack&&A7e(Z,S[oe].stackGroups),ne=Ru(Z.type).indexOf("Bar")>=0,de=c5(he,T),ge=[],ee=K&&d7e({barSize:I,stackGroups:S,totalSize:MGe(be,Y)});if(ne){var Ne,De,Le=xr(G)?L:G,_e=(Ne=(De=c5(he,T,!0))!==null&&De!==void 0?De:Le)!==null&&Ne!==void 0?Ne:0;ge=h7e({barGap:k,barCategoryGap:O,bandSize:_e!==de?_e:de,sizeList:ee[J],maxBarSize:Le}),_e!==de&&(ge=ge.map(function(je){return Be(Be({},je),{},{position:Be(Be({},je.position),{},{offset:je.position.offset-_e/2})})}))}var Pe=Z&&Z.type&&Z.type.getComposedData;Pe&&q.push({props:Be(Be({},Pe(Be(Be({},be),{},{displayedData:ce,props:y,dataKey:V,item:Z,bandSize:de,barPosition:ge,offset:N,stackedData:X,layout:D,dataStartIndex:j,dataEndIndex:E}))),{},Vt(Vt(Vt({key:Z.key||"item-".concat(ve)},re,be[re]),Y,be[Y]),"animationId",C)),childIndex:hTe(Z,y.children),item:Z})}),q},f=function(y,x){var _=y.props,S=y.dataStartIndex,N=y.dataEndIndex,C=y.updateId;if(!M$({props:_}))return null;var j=_.children,E=_.layout,I=_.stackOffset,D=_.data,k=_.reverseStackOrder,O=xB(E),L=O.numericAxisName,z=O.cateAxisName,re=Go(j,n),Y=_7e(D,re,"".concat(L,"Id"),"".concat(z,"Id"),I,k),K=l.reduce(function(F,V){var G="".concat(V.axisType,"Map");return Be(Be({},F),{},Vt({},G,OGe(_,Be(Be({},V),{},{graphicalItems:re,stackGroups:V.axisType===L&&Y,dataStartIndex:S,dataEndIndex:N}))))},{}),q=LGe(Be(Be({},K),{},{props:_,graphicalItems:re}),x==null?void 0:x.legendBBox);Object.keys(K).forEach(function(F){K[F]=d(_,K[F],q,F.replace("Map",""),r)});var Z=K["".concat(z,"Map")],ve=RGe(Z),ce=p(_,Be(Be({},K),{},{dataStartIndex:S,dataEndIndex:N,updateId:C,graphicalItems:re,stackGroups:Y,offset:q}));return Be(Be({formattedGraphicalItems:ce,graphicalItems:re,offset:q,stackGroups:Y},ve),K)},v=function(g){function y(x){var _,S,N;return gGe(this,y),N=bGe(this,y,[x]),Vt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Vt(N,"accessibilityManager",new rGe),Vt(N,"handleLegendBBoxUpdate",function(C){if(C){var j=N.state,E=j.dataStartIndex,I=j.dataEndIndex,D=j.updateId;N.setState(Be({legendBBox:C},f({props:N.props,dataStartIndex:E,dataEndIndex:I,updateId:D},Be(Be({},N.state),{},{legendBBox:C}))))}}),Vt(N,"handleReceiveSyncEvent",function(C,j,E){if(N.props.syncId===C){if(E===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(j)}}),Vt(N,"handleBrushChange",function(C){var j=C.startIndex,E=C.endIndex;if(j!==N.state.dataStartIndex||E!==N.state.dataEndIndex){var I=N.state.updateId;N.setState(function(){return Be({dataStartIndex:j,dataEndIndex:E},f({props:N.props,dataStartIndex:j,dataEndIndex:E,updateId:I},N.state))}),N.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),Vt(N,"handleMouseEnter",function(C){var j=N.getMouseInfo(C);if(j){var E=Be(Be({},j),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var I=N.props.onMouseEnter;rr(I)&&I(E,C)}}),Vt(N,"triggeredAfterMouseMove",function(C){var j=N.getMouseInfo(C),E=j?Be(Be({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(E),N.triggerSyncEvent(E);var I=N.props.onMouseMove;rr(I)&&I(E,C)}),Vt(N,"handleItemMouseEnter",function(C){N.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Vt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Vt(N,"handleMouseMove",function(C){C.persist(),N.throttleTriggeredAfterMouseMove(C)}),Vt(N,"handleMouseLeave",function(C){N.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};N.setState(j),N.triggerSyncEvent(j);var E=N.props.onMouseLeave;rr(E)&&E(j,C)}),Vt(N,"handleOuterEvent",function(C){var j=dTe(C),E=uo(N.props,"".concat(j));if(j&&rr(E)){var I,D;/.*touch.*/i.test(j)?D=N.getMouseInfo(C.changedTouches[0]):D=N.getMouseInfo(C),E((I=D)!==null&&I!==void 0?I:{},C)}}),Vt(N,"handleClick",function(C){var j=N.getMouseInfo(C);if(j){var E=Be(Be({},j),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var I=N.props.onClick;rr(I)&&I(E,C)}}),Vt(N,"handleMouseDown",function(C){var j=N.props.onMouseDown;if(rr(j)){var E=N.getMouseInfo(C);j(E,C)}}),Vt(N,"handleMouseUp",function(C){var j=N.props.onMouseUp;if(rr(j)){var E=N.getMouseInfo(C);j(E,C)}}),Vt(N,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Vt(N,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseDown(C.changedTouches[0])}),Vt(N,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseUp(C.changedTouches[0])}),Vt(N,"handleDoubleClick",function(C){var j=N.props.onDoubleClick;if(rr(j)){var E=N.getMouseInfo(C);j(E,C)}}),Vt(N,"handleContextMenu",function(C){var j=N.props.onContextMenu;if(rr(j)){var E=N.getMouseInfo(C);j(E,C)}}),Vt(N,"triggerSyncEvent",function(C){N.props.syncId!==void 0&&hP.emit(fP,N.props.syncId,C,N.eventEmitterSymbol)}),Vt(N,"applySyncEvent",function(C){var j=N.props,E=j.layout,I=j.syncMethod,D=N.state.updateId,k=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)N.setState(Be({dataStartIndex:k,dataEndIndex:O},f({props:N.props,dataStartIndex:k,dataEndIndex:O,updateId:D},N.state)));else if(C.activeTooltipIndex!==void 0){var L=C.chartX,z=C.chartY,re=C.activeTooltipIndex,Y=N.state,K=Y.offset,q=Y.tooltipTicks;if(!K)return;if(typeof I=="function")re=I(q,C);else if(I==="value"){re=-1;for(var Z=0;Z<q.length;Z++)if(q[Z].value===C.activeLabel){re=Z;break}}var ve=Be(Be({},K),{},{x:K.left,y:K.top}),ce=Math.min(L,ve.x+ve.width),F=Math.min(z,ve.y+ve.height),V=q[re]&&q[re].value,G=O4(N.state,N.props.data,re),oe=q[re]?{x:E==="horizontal"?q[re].coordinate:ce,y:E==="horizontal"?F:q[re].coordinate}:Lte;N.setState(Be(Be({},C),{},{activeLabel:V,activeCoordinate:oe,activePayload:G,activeTooltipIndex:re}))}else N.setState(C)}),Vt(N,"renderCursor",function(C){var j,E=N.state,I=E.isTooltipActive,D=E.activeCoordinate,k=E.activePayload,O=E.offset,L=E.activeTooltipIndex,z=E.tooltipAxisBandSize,re=N.getTooltipEventType(),Y=(j=C.props.active)!==null&&j!==void 0?j:I,K=N.props.layout,q=C.key||"_recharts-cursor";return ue.createElement(cGe,{key:q,activeCoordinate:D,activePayload:k,activeTooltipIndex:L,chartName:r,element:C,isActive:Y,layout:K,offset:O,tooltipAxisBandSize:z,tooltipEventType:re})}),Vt(N,"renderPolarAxis",function(C,j,E){var I=uo(C,"type.axisType"),D=uo(N.state,"".concat(I,"Map")),k=C.type.defaultProps,O=k!==void 0?Be(Be({},k),C.props):C.props,L=D&&D[O["".concat(I,"Id")]];return P.cloneElement(C,Be(Be({},L),{},{className:vr(I,L.className),key:C.key||"".concat(j,"-").concat(E),ticks:ju(L,!0)}))}),Vt(N,"renderPolarGrid",function(C){var j=C.props,E=j.radialLines,I=j.polarAngles,D=j.polarRadius,k=N.state,O=k.radiusAxisMap,L=k.angleAxisMap,z=eh(O),re=eh(L),Y=re.cx,K=re.cy,q=re.innerRadius,Z=re.outerRadius;return P.cloneElement(C,{polarAngles:Array.isArray(I)?I:ju(re,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(D)?D:ju(z,!0).map(function(ve){return ve.coordinate}),cx:Y,cy:K,innerRadius:q,outerRadius:Z,key:C.key||"polar-grid",radialLines:E})}),Vt(N,"renderLegend",function(){var C=N.state.formattedGraphicalItems,j=N.props,E=j.children,I=j.width,D=j.height,k=N.props.margin||{},O=I-(k.left||0)-(k.right||0),L=gee({children:E,formattedGraphicalItems:C,legendWidth:O,legendContent:u});if(!L)return null;var z=L.item,re=gB(L,uGe);return P.cloneElement(z,Be(Be({},re),{},{chartWidth:I,chartHeight:D,margin:k,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Vt(N,"renderTooltip",function(){var C,j=N.props,E=j.children,I=j.accessibilityLayer,D=eo(E,Ss);if(!D)return null;var k=N.state,O=k.isTooltipActive,L=k.activeCoordinate,z=k.activePayload,re=k.activeLabel,Y=k.offset,K=(C=D.props.active)!==null&&C!==void 0?C:O;return P.cloneElement(D,{viewBox:Be(Be({},Y),{},{x:Y.left,y:Y.top}),active:K,label:re,payload:K?z:[],coordinate:L,accessibilityLayer:I})}),Vt(N,"renderBrush",function(C){var j=N.props,E=j.margin,I=j.data,D=N.state,k=D.offset,O=D.dataStartIndex,L=D.dataEndIndex,z=D.updateId;return P.cloneElement(C,{key:C.key||"_recharts-brush",onChange:S2(N.handleBrushChange,C.props.onChange),data:I,x:et(C.props.x)?C.props.x:k.left,y:et(C.props.y)?C.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:et(C.props.width)?C.props.width:k.width,startIndex:O,endIndex:L,updateId:"brush-".concat(z)})}),Vt(N,"renderReferenceElement",function(C,j,E){if(!C)return null;var I=N,D=I.clipPathId,k=N.state,O=k.xAxisMap,L=k.yAxisMap,z=k.offset,re=C.type.defaultProps||{},Y=C.props,K=Y.xAxisId,q=K===void 0?re.xAxisId:K,Z=Y.yAxisId,ve=Z===void 0?re.yAxisId:Z;return P.cloneElement(C,{key:C.key||"".concat(j,"-").concat(E),xAxis:O[q],yAxis:L[ve],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:D})}),Vt(N,"renderActivePoints",function(C){var j=C.item,E=C.activePoint,I=C.basePoint,D=C.childIndex,k=C.isRange,O=[],L=j.props.key,z=j.item.type.defaultProps!==void 0?Be(Be({},j.item.type.defaultProps),j.item.props):j.item.props,re=z.activeDot,Y=z.dataKey,K=Be(Be({index:D,dataKey:Y,cx:E.x,cy:E.y,r:4,fill:JR(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Xt(re,!1)),LS(re));return O.push(y.renderActiveDot(re,K,"".concat(L,"-activePoint-").concat(D))),I?O.push(y.renderActiveDot(re,Be(Be({},K),{},{cx:I.x,cy:I.y}),"".concat(L,"-basePoint-").concat(D))):k&&O.push(null),O}),Vt(N,"renderGraphicChild",function(C,j,E){var I=N.filterFormatItem(C,j,E);if(!I)return null;var D=N.getTooltipEventType(),k=N.state,O=k.isTooltipActive,L=k.tooltipAxis,z=k.activeTooltipIndex,re=k.activeLabel,Y=N.props.children,K=eo(Y,Ss),q=I.props,Z=q.points,ve=q.isRange,ce=q.baseLine,F=I.item.type.defaultProps!==void 0?Be(Be({},I.item.type.defaultProps),I.item.props):I.item.props,V=F.activeDot,G=F.hide,oe=F.activeBar,J=F.activeShape,ie=!!(!G&&O&&K&&(V||oe||J)),be={};D!=="axis"&&K&&K.props.trigger==="click"?be={onClick:S2(N.handleItemMouseEnter,C.props.onClick)}:D!=="axis"&&(be={onMouseLeave:S2(N.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:S2(N.handleItemMouseEnter,C.props.onMouseEnter)});var he=P.cloneElement(C,Be(Be({},I.props),be));function T(Me){return typeof L.dataKey=="function"?L.dataKey(Me.payload):null}if(ie)if(z>=0){var X,ne;if(L.dataKey&&!L.allowDuplicatedCategory){var de=typeof L.dataKey=="function"?T:"payload.".concat(L.dataKey.toString());X=ok(Z,de,re),ne=ve&&ce&&ok(ce,de,re)}else X=Z==null?void 0:Z[z],ne=ve&&ce&&ce[z];if(J||oe){var ge=C.props.activeIndex!==void 0?C.props.activeIndex:z;return[P.cloneElement(C,Be(Be(Be({},I.props),be),{},{activeIndex:ge})),null,null]}if(!xr(X))return[he].concat(hy(N.renderActivePoints({item:I,activePoint:X,basePoint:ne,childIndex:z,isRange:ve})))}else{var ee,Ne=(ee=N.getItemByXY(N.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:he},De=Ne.graphicalItem,Le=De.item,_e=Le===void 0?C:Le,Pe=De.childIndex,je=Be(Be(Be({},I.props),be),{},{activeIndex:Pe});return[P.cloneElement(_e,je),null,null]}return ve?[he,null,null]:[he,null]}),Vt(N,"renderCustomized",function(C,j,E){return P.cloneElement(C,Be(Be({key:"recharts-customized-".concat(E)},N.props),N.state))}),Vt(N,"renderMap",{CartesianGrid:{handler:P2,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:P2},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:P2},YAxis:{handler:P2},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:tw("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=mZ(N.triggeredAfterMouseMove,(S=x.throttleDelay)!==null&&S!==void 0?S:1e3/60),N.state={},N}return _Ge(y,g),yGe(y,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,N=_.data,C=_.height,j=_.layout,E=eo(S,Ss);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,k=O4(this.state,N,I,D),O=this.state.tooltipTicks[I].coordinate,L=(this.state.offset.top+C)/2,z=j==="horizontal",re=z?{x:O,y:L}:{y:O,x:L},Y=this.state.formattedGraphicalItems.find(function(q){var Z=q.item;return Z.type.name==="Scatter"});Y&&(re=Be(Be({},re),Y.props.points[I].tooltipPosition),k=Y.props.points[I].tooltipPayload);var K={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:D,activePayload:k,activeCoordinate:re};this.setState(K),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var N,C;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(_){ck([eo(_.children,Ss)],[eo(this.props.children,Ss)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=eo(this.props.children,Ss);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,N=S.getBoundingClientRect(),C=$Le(N),j={chartX:Math.round(_.pageX-C.left),chartY:Math.round(_.pageY-C.top)},E=N.width/S.offsetWidth||1,I=this.inRange(j.chartX,j.chartY,E);if(!I)return null;var D=this.state,k=D.xAxisMap,O=D.yAxisMap,L=this.getTooltipEventType(),z=yB(this.state,this.props.data,this.props.layout,I);if(L!=="axis"&&k&&O){var re=eh(k).scale,Y=eh(O).scale,K=re&&re.invert?re.invert(j.chartX):null,q=Y&&Y.invert?Y.invert(j.chartY):null;return Be(Be({},j),{},{xValue:K,yValue:q},z)}return z?Be(Be({},j),z):null}},{key:"inRange",value:function(_,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,j=_/N,E=S/N;if(C==="horizontal"||C==="vertical"){var I=this.state.offset,D=j>=I.left&&j<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return D?{x:j,y:E}:null}var k=this.state,O=k.angleAxisMap,L=k.radiusAxisMap;if(O&&L){var z=eh(O);return H7({x:j,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),N=eo(_,Ss),C={};N&&S==="axis"&&(N.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=LS(this.props,this.handleOuterEvent);return Be(Be({},j),C)}},{key:"addListener",value:function(){hP.on(fP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){hP.removeListener(fP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,N){for(var C=this.state.formattedGraphicalItems,j=0,E=C.length;j<E;j++){var I=C[j];if(I.item===_||I.props.key===_.key||S===Ru(I.item.type)&&N===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,N=S.left,C=S.top,j=S.height,E=S.width;return ue.createElement("defs",null,ue.createElement("clipPath",{id:_},ue.createElement("rect",{x:N,y:C,height:j,width:E})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,N){var C=mB(N,2),j=C[0],E=C[1];return Be(Be({},S),{},Vt({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,N){var C=mB(N,2),j=C[0],E=C[1];return Be(Be({},S),{},Vt({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,N=S.formattedGraphicalItems,C=S.activeItem;if(N&&N.length)for(var j=0,E=N.length;j<E;j++){var I=N[j],D=I.props,k=I.item,O=k.type.defaultProps!==void 0?Be(Be({},k.type.defaultProps),k.props):k.props,L=Ru(k.type);if(L==="Bar"){var z=(D.data||[]).find(function(q){return xUe(_,q)});if(z)return{graphicalItem:I,payload:z}}else if(L==="RadialBar"){var re=(D.data||[]).find(function(q){return H7(_,q)});if(re)return{graphicalItem:I,payload:re}}else if(WN(I,C)||HN(I,C)||ex(I,C)){var Y=lze({graphicalItem:I,activeTooltipItem:C,itemData:O.data}),K=O.activeIndex===void 0?Y:O.activeIndex;return{graphicalItem:Be(Be({},I),{},{childIndex:K}),payload:ex(I,C)?O.data[Y]:I.props.data[Y]}}}return null}},{key:"render",value:function(){var _=this;if(!M$(this))return null;var S=this.props,N=S.children,C=S.className,j=S.width,E=S.height,I=S.style,D=S.compact,k=S.title,O=S.desc,L=gB(S,dGe),z=Xt(L,!1);if(D)return ue.createElement(eB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement(dk,Cg({},z,{width:j,height:E,title:k,desc:O}),this.renderClipPath(),F$(N,this.renderMap)));if(this.props.accessibilityLayer){var re,Y;z.tabIndex=(re=this.props.tabIndex)!==null&&re!==void 0?re:0,z.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",z.onKeyDown=function(q){_.accessibilityManager.keyboardEvent(q)},z.onFocus=function(){_.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return ue.createElement(eB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement("div",Cg({className:vr("recharts-wrapper",C),style:Be({position:"relative",cursor:"default",width:j,height:E},I)},K,{ref:function(Z){_.container=Z}}),ue.createElement(dk,Cg({},z,{width:j,height:E,title:k,desc:O,style:PGe}),this.renderClipPath(),F$(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);Vt(v,"displayName",r),Vt(v,"defaultProps",Be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Vt(v,"getDerivedStateFromProps",function(g,y){var x=g.dataKey,_=g.data,S=g.children,N=g.width,C=g.height,j=g.layout,E=g.stackOffset,I=g.margin,D=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var O=bB(g);return Be(Be(Be({},O),{},{updateId:0},f(Be(Be({props:g},O),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:_,prevWidth:N,prevHeight:C,prevLayout:j,prevStackOffset:E,prevMargin:I,prevChildren:S})}if(x!==y.prevDataKey||_!==y.prevData||N!==y.prevWidth||C!==y.prevHeight||j!==y.prevLayout||E!==y.prevStackOffset||!Qg(I,y.prevMargin)){var L=bB(g),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},re=Be(Be({},yB(y,_,j)),{},{updateId:y.updateId+1}),Y=Be(Be(Be({},L),z),re);return Be(Be(Be({},Y),f(Be({props:g},Y),y)),{},{prevDataKey:x,prevData:_,prevWidth:N,prevHeight:C,prevLayout:j,prevStackOffset:E,prevMargin:I,prevChildren:S})}if(!ck(S,y.prevChildren)){var K,q,Z,ve,ce=eo(S,ny),F=ce&&(K=(q=ce.props)===null||q===void 0?void 0:q.startIndex)!==null&&K!==void 0?K:D,V=ce&&(Z=(ve=ce.props)===null||ve===void 0?void 0:ve.endIndex)!==null&&Z!==void 0?Z:k,G=F!==D||V!==k,oe=!xr(_),J=oe&&!G?y.updateId:y.updateId+1;return Be(Be({updateId:J},f(Be(Be({props:g},y),{},{updateId:J,dataStartIndex:F,dataEndIndex:V}),y)),{},{prevChildren:S,dataStartIndex:F,dataEndIndex:V})}return null}),Vt(v,"renderActiveDot",function(g,y,x){var _;return P.isValidElement(g)?_=P.cloneElement(g,y):rr(g)?_=g(y):_=ue.createElement(eD,y),ue.createElement(sn,{className:"recharts-active-dot",key:x},_)});var m=P.forwardRef(function(y,x){return ue.createElement(v,Cg({},y,{ref:x}))});return m.displayName=v.displayName,m},y_=$te({chartName:"BarChart",GraphicalChild:Uo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Dp},{axisType:"yAxis",AxisComp:Lp}],formatAxisMap:Bqe}),$Ge=$te({chartName:"PieChart",GraphicalChild:od,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qN},{axisType:"radiusAxis",AxisComp:VN}],formatAxisMap:R7e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const FGe=()=>{var be,he;const{user:t}=Hr(),[e]=mH(),r=Gi(),n=Hi(),[i,a]=P.useState(oc()),[s,o]=P.useState(!1),[l,u]=P.useState(!1),[d,h]=P.useState(!1),[p,f]=P.useState([]),[v,m]=P.useState(""),[g,y]=P.useState(""),[x,_]=P.useState(""),[S,N]=P.useState(""),C=i.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");P.useEffect(()=>{const T=e.get("filter");y(T||"")},[e]);const{data:j=[]}=nd((t==null?void 0:t.uid)||""),{data:E=[]}=Ly((t==null?void 0:t.uid)||""),{data:I=[]}=co((t==null?void 0:t.uid)||""),D=R3(),k=I.filter(T=>(console.log("Comparando:",T.date,"===",C,"?",T.date===C),T.date===C));console.log("ResumoDia - selectedDateString:",C),console.log("ResumoDia - allTransactions:",I),console.log("ResumoDia - allTransactions dates:",I.map(T=>({id:T.id,date:T.date,type:T.type,amount:T.amount}))),console.log("ResumoDia - todayTransactions (filtradas):",k),P.useEffect(()=>{if(I.length>0&&p.length===0){const T=L3(),X=I.filter(ne=>ne.date===T);X.length>0&&(f(X),m(T),console.log("ResumoDia - Transações do dia original capturadas:",X),console.log("ResumoDia - Data original:",T))}},[I,p.length]);const L=(()=>{let T=k;switch(g){case"deposits":T=T.filter(X=>X.type==="deposit");break;case"withdraws":T=T.filter(X=>X.type==="withdraw");break}return x&&(T=T.filter(X=>X.platformId===x)),S&&(T=T.filter(X=>X.employeeId===S)),T})(),z=k.filter(T=>T.type==="deposit"),re=k.filter(T=>T.type==="withdraw"),Y=z.reduce((T,X)=>T+Number(X.amount||0),0),K=re.reduce((T,X)=>T+Number(X.amount||0),0),q=K-Y,Z=L.length;console.log("ResumoDia - Cálculos:"),console.log("- deposits:",z),console.log("- withdraws:",re),console.log("- totalDeposits:",Y),console.log("- totalWithdraws:",K),console.log("- profit:",q),console.log("- transactionCount:",Z);const ve=E.map(T=>{const X=k.filter(ee=>ee.platformId===T.id),ne=X.filter(ee=>ee.type==="deposit").reduce((ee,Ne)=>ee+Number(Ne.amount||0),0),de=X.filter(ee=>ee.type==="withdraw").reduce((ee,Ne)=>ee+Number(Ne.amount||0),0),ge=de-ne;return{name:T.name,color:T.color,deposits:ne,withdraws:de,profit:ge,transactions:X.length}}).filter(T=>T.transactions>0).sort((T,X)=>X.profit-T.profit),ce=j.map(T=>{const X=k.filter(ee=>ee.employeeId===T.id),ne=X.filter(ee=>ee.type==="deposit").reduce((ee,Ne)=>ee+Number(Ne.amount||0),0),de=X.filter(ee=>ee.type==="withdraw").reduce((ee,Ne)=>ee+Number(Ne.amount||0),0),ge=de-ne;return{name:T.name,deposits:ne,withdraws:de,profit:ge,transactions:X.length}}).filter(T=>T.transactions>0).sort((T,X)=>X.profit-T.profit),F=ve[0],V=ce[0],G=async()=>{try{const T=p.length>0?p:k,X=v||C,ne=T.filter(je=>je.type==="deposit"),de=T.filter(je=>je.type==="withdraw"),ge=ne.reduce((je,Me)=>je+Number(Me.amount||0),0),ee=de.reduce((je,Me)=>je+Number(Me.amount||0),0),Ne=ee-ge;if(console.log("Fechando dia - Data:",X),console.log("Fechando dia - Transações originais:",p),console.log("Fechando dia - Transações selecionadas:",T),console.log("Fechando dia - Total Deposits:",ge),console.log("Fechando dia - Total Withdraws:",ee),console.log("Fechando dia - Profit:",Ne),!(t!=null&&t.uid)){We.error("Usuário não autenticado");return}const Le=(await Mo.getAllDailySummaries(t.uid)).find(je=>je.date===X);let _e;Le?(_e={date:X,totalDeposits:(Le.totalDeposits||0)+ge,totalWithdraws:(Le.totalWithdraws||0)+ee,profit:(Le.profit||Le.margin||0)+Ne,transactionCount:(Le.transactionCount||0)+T.length,transactionsSnapshot:[...Le.transactionsSnapshot||[],...T],byEmployee:[],margin:(Le.profit||Le.margin||0)+Ne,createdAt:Le.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente:",_e),await Mo.updateDailySummary(t.uid,Le.id,_e)):(_e={date:X,totalDeposits:ge,totalWithdraws:ee,profit:Ne,transactionCount:T.length,transactionsSnapshot:T,byEmployee:[],margin:Ne,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento:",_e),await Mo.createDailySummary(t.uid,_e));const Pe=T.map(je=>D.mutateAsync(je.id));await Promise.all(Pe),We.success("Dia fechado com sucesso!"),u(!1),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(T){console.error("Erro ao fechar o dia:",T),We.error("Erro ao fechar o dia. Tente novamente.")}},oe=async T=>{try{if(console.log("=== INICIANDO SALVAMENTO EM OUTRA DATA ==="),console.log("Target Date recebida:",T),console.log("Transações do dia original:",p),console.log("Data original:",v),console.log("Transações do dia atual (selectedDate):",k),console.log("Total Deposits:",Y),console.log("Total Withdraws:",K),console.log("Profit calculado:",q),!(t!=null&&t.uid)){We.error("Usuário não autenticado");return}const X=T.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");console.log("Salvando em outra data - Target Date String:",X);const ne=p.length>0?p:k,de=ne.filter(Me=>Me.type==="deposit"),ge=ne.filter(Me=>Me.type==="withdraw"),ee=de.reduce((Me,Je)=>Me+Number(Je.amount||0),0),Ne=ge.reduce((Me,Je)=>Me+Number(Je.amount||0),0),De=Ne-ee;console.log("Dados a serem salvos:"),console.log("- transactionsToSave:",ne),console.log("- totalDepositsToSave:",ee),console.log("- totalWithdrawsToSave:",Ne),console.log("- profitToSave:",De);const _e=(await Mo.getAllDailySummaries(t.uid)).find(Me=>Me.date===X);let Pe;_e?(Pe={date:X,totalDeposits:(_e.totalDeposits||0)+ee,totalWithdraws:(_e.totalWithdraws||0)+Ne,profit:(_e.profit||_e.margin||0)+De,transactionCount:(_e.transactionCount||0)+ne.length,transactionsSnapshot:[..._e.transactionsSnapshot||[],...ne],byEmployee:[],margin:(_e.profit||_e.margin||0)+De,createdAt:_e.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente para data:",Pe),await Mo.updateDailySummary(t.uid,_e.id,Pe)):(Pe={date:X,totalDeposits:ee,totalWithdraws:Ne,profit:De,transactionCount:ne.length,transactionsSnapshot:ne,byEmployee:[],margin:De,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento para data:",Pe),await Mo.createDailySummary(t.uid,Pe)),console.log("Resumo salvo com sucesso na data:",X),console.log("Deletando transações do dia selecionado:",ne);const je=ne.map(Me=>(console.log("Deletando transação:",Me.id),D.mutateAsync(Me.id)));await Promise.all(je),console.log("Todas as transações foram deletadas com sucesso"),n.invalidateQueries({queryKey:["firebase-transactions"]}),n.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),n.invalidateQueries({queryKey:["firebase-daily-summaries"]}),We.success(`Resumo salvo para ${ma(T,"dd/MM/yyyy",{locale:Pj})}! Transações do dia atual foram apagadas.`),o(!1)}catch(X){console.error("Erro ao salvar em outra data:",X),We.error("Erro ao salvar em outra data. Tente novamente.")}},J=ve.map(T=>({name:T.name,value:T.profit,color:T.color})),ie=ce.map(T=>({name:T.name,receita:T.profit,depositos:T.deposits,saques:T.withdraws}));return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h1",{className:"text-4xl font-bold",children:"Resumo do Dia"}),g&&c.jsxs(sr,{variant:"secondary",className:"gap-1 bg-primary/10 text-primary border-primary/20",children:[c.jsx(JE,{className:"h-3 w-3"}),g==="deposits"&&"Depósitos",g==="withdraws"&&"Saques",g==="profit"&&"Lucro"]})]}),c.jsx("p",{className:"text-muted-foreground",children:ma(i,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Pj})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(yNe,{open:s,onOpenChange:o,children:[c.jsx(bNe,{asChild:!0,children:c.jsxs(qe,{variant:"outline",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white border-orange-500",children:[c.jsx(Nv,{className:"h-4 w-4"}),"Salvar em outra data"]})}),c.jsx(eJ,{className:"w-auto p-0",align:"end",children:c.jsx(VQ,{mode:"single",selected:i,onSelect:T=>{T&&(a(T),o(!1),h(!0))},initialFocus:!0})})]}),c.jsx(tm,{open:d,onOpenChange:h,children:c.jsxs(tf,{children:[c.jsxs(rf,{children:[c.jsx(af,{children:"Salvar em Outra Data"}),c.jsxs(sf,{children:["Tem certeza que deseja salvar o resumo do dia atual para ",i&&ma(i,"dd/MM/yyyy",{locale:Pj}),"?",c.jsx("br",{}),c.jsx("br",{}),c.jsx("strong",{children:"Esta ação irá:"}),c.jsx("br",{}),"• Salvar todas as transações atuais para a data selecionada",c.jsx("br",{}),"• Apagar todas as transações do dia atual",c.jsx("br",{}),"• Permitir que você comece um novo dia",c.jsx("br",{}),c.jsx("br",{}),c.jsx("strong",{children:"Esta ação não pode ser desfeita."})]})]}),c.jsxs(nf,{children:[c.jsx(lf,{children:"Cancelar"}),c.jsx(of,{onClick:async()=>{i&&(console.log("Executando saveToAnotherDate com data:",i),await oe(i),h(!1))},children:"Salvar e Apagar Transações"})]})]})}),c.jsxs(tm,{open:l,onOpenChange:u,children:[c.jsx(Dy,{asChild:!0,children:c.jsxs(qe,{variant:"destructive",className:"gap-2",children:[c.jsx(lA,{className:"h-4 w-4"}),"Fechar o Dia"]})}),c.jsxs(tf,{children:[c.jsxs(rf,{children:[c.jsx(af,{children:"Fechar o Dia"}),c.jsx(sf,{children:"Tem certeza que deseja fechar o dia? Esta ação salvará todas as movimentações do dia e resetará as transações para um novo dia."})]}),c.jsxs(nf,{children:[c.jsx(lf,{children:"Cancelar"}),c.jsx(of,{onClick:G,children:"Fechar o Dia"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Dia"}),c.jsxs("p",{className:`text-3xl font-bold ${q>=0?"text-success":"text-destructive"}`,children:["R$ ",q.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(ri,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),c.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",Y.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(EL,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),c.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",K.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(jL,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),c.jsx("p",{className:"text-3xl font-bold",children:Z})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(ZI,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[F&&c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(PL,{className:"h-6 w-6 text-yellow-500"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Plataforma do Dia"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:F.color}}),c.jsx("span",{className:"font-medium",children:F.name})]}),c.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",F.profit.toLocaleString("pt-BR")]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[F.transactions," transações • R$ ",F.deposits.toLocaleString("pt-BR")," depósitos • R$ ",F.withdraws.toLocaleString("pt-BR")," saques"]})]})]}),V&&c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(PL,{className:"h-6 w-6 text-yellow-500"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Funcionário do Dia"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"font-medium",children:V.name}),c.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",V.profit.toLocaleString("pt-BR")]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.transactions," transações • R$ ",V.deposits.toLocaleString("pt-BR")," depósitos • R$ ",V.withdraws.toLocaleString("pt-BR")," saques"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[J.length>0&&c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Receita por Plataforma"}),c.jsx(C1,{width:"100%",height:300,children:c.jsxs($Ge,{children:[c.jsx(od,{data:J,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:T,value:X})=>`${T}: R$ ${X.toLocaleString("pt-BR")}`,children:J.map((T,X)=>c.jsx(jN,{fill:T.color},`cell-${X}`))}),c.jsx(Ss,{formatter:T=>[`R$ ${T.toLocaleString("pt-BR")}`,"Receita"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})]}),ie.length>0&&c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),c.jsx(C1,{width:"100%",height:300,children:c.jsxs(y_,{data:ie,children:[c.jsx(M1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),c.jsx(Dp,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),c.jsx(Lp,{stroke:"hsl(var(--muted-foreground))"}),c.jsx(Ss,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),c.jsx(Uo,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]})]}),c.jsxs(Ye,{className:"shadow-card overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("h3",{className:"text-lg font-semibold",children:["Transações do Dia",(g||x||S)&&c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",L.length," transação(ões) encontrada(s))"]})]})}),c.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Plataforma:"}),c.jsxs(Zn,{value:x||"all",onValueChange:T=>_(T==="all"?"":T),children:[c.jsx(Kn,{className:"w-[160px]",children:c.jsx(ei,{placeholder:"Todas"})}),c.jsxs(Yn,{children:[c.jsx(Lr,{value:"all",children:"Todas as plataformas"}),E.map(T=>c.jsx(Lr,{value:T.id,children:T.name},T.id))]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Funcionário:"}),c.jsxs(Zn,{value:S||"all",onValueChange:T=>N(T==="all"?"":T),children:[c.jsx(Kn,{className:"w-[160px]",children:c.jsx(ei,{placeholder:"Todos"})}),c.jsxs(Yn,{children:[c.jsx(Lr,{value:"all",children:"Todos os funcionários"}),j.map(T=>c.jsx(Lr,{value:T.id,children:T.name},T.id))]})]})]}),(g||x||S)&&c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>{y(""),_(""),N(""),r("/resumo-dia")},children:"Limpar Filtros"})]})]}),c.jsxs("div",{className:"space-y-4 mt-4",children:[(g||x||S)&&c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[c.jsx(JE,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm text-primary font-medium",children:"Filtros ativos:"}),c.jsxs("div",{className:"flex gap-2",children:[g&&c.jsxs(sr,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:[g==="deposits"&&"Depósitos",g==="withdraws"&&"Saques",g==="profit"&&"Lucro"]}),x&&c.jsxs(sr,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Plataforma: ",((be=E.find(T=>T.id===x))==null?void 0:be.name)||"N/A"]}),S&&c.jsxs(sr,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Funcionário: ",((he=j.find(T=>T.id===S))==null?void 0:he.name)||"N/A"]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs(qe,{variant:g===""?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia"),className:"gap-2",children:[c.jsx(JE,{className:"h-3 w-3"}),"Todas",c.jsx(sr,{variant:"secondary",className:"ml-1",children:k.length})]}),c.jsxs(qe,{variant:g==="deposits"?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia?filter=deposits"),className:"gap-2",children:[c.jsx(EL,{className:"h-3 w-3"}),"Depósitos",c.jsx(sr,{variant:"secondary",className:"ml-1",children:z.length})]}),c.jsxs(qe,{variant:g==="withdraws"?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia?filter=withdraws"),className:"gap-2",children:[c.jsx(jL,{className:"h-3 w-3"}),"Saques",c.jsx(sr,{variant:"secondary",className:"ml-1",children:re.length})]}),c.jsxs(qe,{variant:g==="profit"?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia?filter=profit"),className:"gap-2",children:[c.jsx(ri,{className:"h-3 w-3"}),"Lucro",c.jsx(sr,{variant:"secondary",className:"ml-1",children:k.length})]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted/50",children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:"Funcionário"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Plataforma"}),c.jsx("th",{className:"text-center p-4 font-semibold",children:"Tipo"}),c.jsx("th",{className:"text-right p-4 font-semibold",children:"Valor"}),c.jsx("th",{className:"text-center p-4 font-semibold",children:"Horário"})]})}),c.jsxs("tbody",{children:[L.map(T=>{var de,ge;const X=j.find(ee=>ee.id===T.employeeId),ne=E.find(ee=>ee.id===T.platformId);return c.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[c.jsx("td",{className:"p-4 font-medium",children:(X==null?void 0:X.name)||"N/A"}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[ne&&c.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:ne.color}}),(ne==null?void 0:ne.name)||"N/A"]})}),c.jsx("td",{className:"p-4 text-center",children:c.jsx(sr,{variant:T.type==="deposit"?"destructive":"default",children:T.type==="deposit"?"Depósito":"Saque"})}),c.jsxs("td",{className:`p-4 text-right font-semibold ${T.type==="deposit"?"text-destructive":"text-success"}`,children:[T.type==="deposit"?"-":"+","R$ ",Number(T.amount||0).toLocaleString("pt-BR")]}),c.jsx("td",{className:"p-4 text-center text-sm text-muted-foreground",children:new Date(((ge=(de=T.createdAt)==null?void 0:de.toDate)==null?void 0:ge.call(de))||T.createdAt).toLocaleTimeString("pt-BR")})]},T.id)}),L.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:g?c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{children:"Nenhuma transação encontrada para o filtro selecionado."}),c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>r("/resumo-dia"),children:"Ver todas as transações"})]}):"Nenhuma transação registrada para este dia."})})]})]})})]})]})})},BGe=()=>{Hi();const{user:t}=Hr(),[e,r]=P.useState({name:"",color:"#FF5C00"}),[n,i]=P.useState(null),[a,s]=P.useState(!1),[o,l]=P.useState(!1),[u,d]=P.useState(""),[h,p]=P.useState(null),[f,v]=P.useState({}),{data:m=[]}=nd((t==null?void 0:t.uid)||""),{data:g=[]}=Ly((t==null?void 0:t.uid)||""),{data:y=[]}=co((t==null?void 0:t.uid)||"","","");console.log("Saldos - Employees:",m.length),console.log("Saldos - Platforms:",g.length),console.log("Saldos - Transactions:",y.length),console.log("Saldos - All Transactions:",y),console.log("Saldos - Platforms IDs:",g.map(V=>({id:V.id,name:V.name}))),y.forEach((V,G)=>{console.log(`Transaction ${G}:`,{id:V.id,employeeId:V.employeeId,platformId:V.platformId,type:V.type,amount:V.amount,date:V.date})});const x=Jbe(),_=Zbe(),S=exe(),N=rxe(),C=O3(),E=(()=>{const V={};return m.forEach(G=>{V[G.id]={name:G.name,platforms:{},total:0},g.forEach(oe=>{const J=y.filter(T=>T.employeeId===G.id&&T.platformId===oe.id);console.log(`Debug - Employee: ${G.name}, Platform: ${oe.name}, Transactions:`,J);const ie=J.filter(T=>T.type==="deposit").reduce((T,X)=>T+Number(X.amount||0),0),be=J.filter(T=>T.type==="withdraw").reduce((T,X)=>T+Number(X.amount||0),0);console.log(`Debug - Deposits: ${ie}, Withdraws: ${be}`);const he=ie-be;V[G.id].platforms[oe.id]=Math.max(0,he),V[G.id].total+=Math.max(0,he)})}),Object.values(V)})();console.log("Saldos - Platform Balances:",E);const I=[...m].sort((V,G)=>V.name.localeCompare(G.name)),D=g.filter(V=>V.isActive!==!1),O=[...D.reduce((V,G)=>(V.find(J=>J.id===G.id||J.name===G.name)||V.push(G),V),[])].sort((V,G)=>{const oe=E.reduce((ie,be)=>{var he;return ie+(Number((he=be.platforms)==null?void 0:he[V.id])||0)},0),J=E.reduce((ie,be)=>{var he;return ie+(Number((he=be.platforms)==null?void 0:he[G.id])||0)},0);return Number(J)-Number(oe)}),L=E.reduce((V,G)=>V+(G.total||0),0),z=g.filter(V=>V.name.toLowerCase().includes(u.toLowerCase())),re=(V,G,oe)=>{const J=`${V}-${G}`;v({...f,[J]:{employeeId:V,platformId:G,value:oe.toString()}})},Y=async(V,G)=>{var ie;const oe=`${V}-${G}`,J=f[oe];if(J)try{const be=Number(J.value),he=m.find(ge=>ge.id===V),T=E.find(ge=>ge.name===(he==null?void 0:he.name)),X=((ie=T==null?void 0:T.platforms)==null?void 0:ie[G])||0,ne=be-X;if(ne!==0){const ge={userId:(t==null?void 0:t.uid)||"",employeeId:V,platformId:G,type:ne>0?"deposit":"withdraw",amount:Math.abs(ne),date:new Date().toISOString().split("T")[0],description:"Ajuste manual de saldo"};await C.mutateAsync(ge)}const de={...f};delete de[oe],v(de),We.success("Saldo atualizado!")}catch(be){console.error("Erro ao atualizar saldo:",be),We.error("Erro ao atualizar saldo")}},K=(V,G)=>{const oe=`${V}-${G}`,J={...f};delete J[oe],v(J)},q=async()=>{if(t!=null&&t.uid)try{await x.mutateAsync({userId:t.uid,name:e.name,color:e.color}),We.success("Casa de aposta criada!"),r({name:"",color:"#FF5C00"}),s(!1)}catch{We.error("Erro ao criar casa de aposta")}},Z=async()=>{if(n)try{await _.mutateAsync({userId:(t==null?void 0:t.uid)||"",id:n.id,data:{name:n.name,color:n.color}}),We.success("Casa de aposta atualizada!"),i(null)}catch{We.error("Erro ao atualizar casa de aposta")}},ve=async V=>{try{await S.mutateAsync({userId:(t==null?void 0:t.uid)||"",id:V}),We.success("Casa de aposta excluída!")}catch{We.error("Erro ao excluir casa de aposta")}},ce=async()=>{if(t!=null&&t.uid)try{await N.mutateAsync(t.uid),We.success("Plataformas padrão criadas com sucesso!")}catch{We.error("Erro ao criar plataformas padrão")}},F=async()=>{if(t!=null&&t.uid)try{const V=[{name:"Pixbet",color:"#ADD8E6"},{name:"Betano",color:"#FF6600"},{name:"Mcgames",color:"#DC143C"},{name:"Kto",color:"#C80000"},{name:"Realsbet",color:"#00FFC8"},{name:"Vaidebet",color:"#FFD700"},{name:"Sportingbet",color:"#4682B4"},{name:"Superbet",color:"#FF3366"},{name:"Betao",color:"#FFA550"},{name:"Bet365",color:"#008040"},{name:"Esportivabet",color:"#FF8C00"},{name:"Hiperbet",color:"#DC0000"},{name:"Luvabet",color:"#ADFF2F"},{name:"Cassinopix",color:"#87CEEB"},{name:"Multibet",color:"#483D8B"}],G=g.map(oe=>{const J=V.find(ie=>ie.name===oe.name);return J&&oe.color!==J.color?_.mutateAsync({userId:t.uid,id:oe.id,data:{color:J.color}}):Promise.resolve()});await Promise.all(G),We.success("Cores das plataformas atualizadas!")}catch{We.error("Erro ao atualizar cores das plataformas")}};return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Saldos"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie contas e saldos por plataforma"})]}),c.jsxs("div",{className:"flex gap-2",children:[D.length===0&&c.jsxs(qe,{onClick:ce,disabled:N.isPending,className:"gap-2",children:[c.jsx(J_,{className:"h-4 w-4"}),N.isPending?"Criando...":"Criar Plataformas Padrão"]}),D.length>0&&c.jsxs(qe,{onClick:F,disabled:_.isPending,variant:"outline",className:"gap-2",children:[c.jsx(Th,{className:"h-4 w-4"}),_.isPending?"Atualizando...":"Atualizar Cores"]}),D.length>0&&c.jsxs(Rs,{open:o,onOpenChange:l,children:[c.jsx(Xg,{asChild:!0,children:c.jsxs(qe,{variant:"outline",className:"gap-2",children:[c.jsx(cA,{className:"h-4 w-4"}),"Pesquisar Plataforma"]})}),c.jsxs(ls,{children:[c.jsx(cs,{children:c.jsx(us,{children:"Pesquisar Plataforma"})}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nome da Plataforma"}),c.jsx(Bt,{placeholder:"Digite o nome da plataforma...",value:u,onChange:V=>d(V.target.value)})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:z.map(V=>c.jsxs(qe,{variant:"outline",className:"w-full justify-start mb-2",onClick:()=>{p(V),l(!1),d("")},children:[c.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:V.color}}),V.name]},V.id))})]})]})]}),c.jsxs(Rs,{open:a,onOpenChange:s,children:[c.jsx(Xg,{asChild:!0,children:c.jsxs(qe,{variant:"outline",className:"gap-2",children:[c.jsx(J_,{className:"h-4 w-4"}),"Criar Casa"]})}),c.jsxs(ls,{children:[c.jsx(cs,{children:c.jsx(us,{children:"Criar Casa de Aposta"})}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nome"}),c.jsx(Bt,{value:e.name,onChange:V=>r({...e,name:V.target.value})})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Cor"}),c.jsx(Bt,{type:"color",value:e.color,onChange:V=>r({...e,color:V.target.value})})]}),c.jsx(qe,{className:"w-full",onClick:q,disabled:!e.name.trim(),children:"Criar"})]})]})]})]})]}),c.jsxs(Ye,{className:"p-6 shadow-card gradient-success",children:[c.jsx("p",{className:"text-sm text-success-foreground/80 mb-2",children:"Saldo Total"}),c.jsxs("p",{className:"text-4xl font-bold text-success-foreground",children:["R$ ",Number(L||0).toLocaleString("pt-BR")]})]}),c.jsxs(Ye,{className:"shadow-card overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Saldos por Plataforma"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Clique nos valores para editar. Os valores são salvos automaticamente ao sair do campo."}),h&&c.jsxs("div",{className:"mt-2 p-2 bg-muted rounded",children:[c.jsx("span",{className:"text-sm",children:"Filtrado por: "}),c.jsx("span",{className:"inline-block w-3 h-3 rounded mr-1",style:{backgroundColor:h.color}}),c.jsx("span",{className:"font-medium",children:h.name}),c.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>p(null),className:"ml-2 h-6 px-2",children:"Limpar filtro"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted/50",children:[c.jsx("th",{className:"text-left p-4 font-semibold sticky left-0 bg-background z-10",children:"Funcionário"}),c.jsx("th",{className:"text-center p-4 font-semibold sticky left-20 bg-background z-10",children:"Total por Funcionário"}),O.map(V=>{var G;return c.jsx("th",{className:"text-center p-4 font-semibold min-w-[120px]",style:{backgroundColor:V.color+"20"},children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("span",{className:"text-white font-medium",children:V.name}),c.jsxs(Rs,{open:(n==null?void 0:n.id)===V.id,onOpenChange:oe=>!oe&&i(null),children:[c.jsx(Xg,{asChild:!0,children:c.jsx(qe,{size:"icon",variant:"ghost",className:"h-6 w-6 text-white hover:bg-white/20",onClick:()=>i(V),children:c.jsx(Th,{className:"h-3 w-3"})})}),c.jsxs(ls,{children:[c.jsx(cs,{children:c.jsx(us,{children:"Editar Casa de Aposta"})}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nome"}),c.jsx(Bt,{value:(n==null?void 0:n.name)||"",onChange:oe=>i({...n,name:oe.target.value})})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Cor"}),c.jsx(Bt,{type:"color",value:(n==null?void 0:n.color)||"#FF5C00",onChange:oe=>i({...n,color:oe.target.value})})]}),c.jsx(qe,{className:"w-full",onClick:Z,disabled:!((G=n==null?void 0:n.name)!=null&&G.trim()),children:"Salvar"})]})]})]}),c.jsxs(tm,{children:[c.jsx(Dy,{asChild:!0,children:c.jsx(qe,{size:"icon",variant:"ghost",className:"h-6 w-6 text-white hover:bg-white/20",children:c.jsx(qh,{className:"h-3 w-3"})})}),c.jsxs(tf,{children:[c.jsxs(rf,{children:[c.jsx(af,{children:"Excluir casa de aposta?"}),c.jsx(sf,{children:"Esta ação não pode ser desfeita. Todas as transações relacionadas a esta plataforma serão mantidas."})]}),c.jsxs(nf,{children:[c.jsx(lf,{children:"Cancelar"}),c.jsx(of,{onClick:()=>ve(V.id),children:"Excluir"})]})]})]})]})},V.id)})]})}),c.jsx("tbody",{children:I.map(V=>{const G=E.find(oe=>oe.name===V.name);return c.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[c.jsx("td",{className:"p-4 font-medium sticky left-0 bg-background z-10",children:V.name}),c.jsx("td",{className:"p-4 text-center font-bold sticky left-20 bg-background z-10",children:c.jsxs("span",{className:"text-success",children:["R$ ",((G==null?void 0:G.total)||0).toLocaleString("pt-BR")]})}),O.map(oe=>{var he;const J=`${V.id}-${oe.id}`,ie=f[J],be=((he=G==null?void 0:G.platforms)==null?void 0:he[oe.id])||0;return c.jsx("td",{className:"p-4 text-center",children:ie?c.jsx("div",{className:"flex items-center gap-1",children:c.jsx(Bt,{type:"number",value:ie.value,onChange:T=>v({...f,[J]:{...ie,value:T.target.value}}),className:"w-20 h-8 text-center",onKeyDown:T=>{T.key==="Enter"?Y(V.id,oe.id):T.key==="Escape"&&K(V.id,oe.id)},onBlur:()=>Y(V.id,oe.id),autoFocus:!0})}):c.jsxs("span",{className:"text-success cursor-pointer hover:bg-muted/50 p-1 rounded",onClick:()=>re(V.id,oe.id,be),children:["R$ ",be.toLocaleString("pt-BR")]})},oe.id)})]},V.id)})})]})})]})]})})};function an(t){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(t)}var Dl=Uint8Array,ao=Uint16Array,uD=Int32Array,dD=new Dl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hD=new Dl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wB=new Dl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fte=function(t,e){for(var r=new ao(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new uD(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},Bte=Fte(dD,2),UGe=Bte.b,R4=Bte.r;UGe[28]=258,R4[258]=28;var VGe=Fte(hD,0),_B=VGe.r,D4=new ao(32768);for(var zn=0;zn<32768;++zn){var $d=(zn&43690)>>1|(zn&21845)<<1;$d=($d&52428)>>2|($d&13107)<<2,$d=($d&61680)>>4|($d&3855)<<4,D4[zn]=(($d&65280)>>8|($d&255)<<8)>>1}var $1=function(t,e,r){for(var n=t.length,i=0,a=new ao(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new ao(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new ao(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],h=s[t[i]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)o[D4[h]>>l]=u}else for(o=new ao(n),i=0;i<n;++i)t[i]&&(o[i]=D4[s[t[i]-1]++]>>15-t[i]);return o},dm=new Dl(288);for(var zn=0;zn<144;++zn)dm[zn]=8;for(var zn=144;zn<256;++zn)dm[zn]=9;for(var zn=256;zn<280;++zn)dm[zn]=7;for(var zn=280;zn<288;++zn)dm[zn]=8;var R5=new Dl(32);for(var zn=0;zn<32;++zn)R5[zn]=5;var zGe=$1(dm,9,0),qGe=$1(R5,5,0),Ute=function(t){return(t+7)/8|0},WGe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Dl(t.subarray(e,r))},ou=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},z0=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},mP=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:zte,l:0};if(i==1){var s=new Dl(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(N,C){return N.f-C.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[u].f<r[h].f?u++:h++],l=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var f=new ao(p+1),v=L4(r[d-1],f,0);if(v>e){var n=0,m=0,g=v-e,y=1<<g;for(a.sort(function(C,j){return f[j.s]-f[C.s]||C.f-j.f});n<i;++n){var x=a[n].s;if(f[x]>e)m+=y-(1<<v-f[x]),f[x]=e;else break}for(m>>=g;m>0;){var _=a[n].s;f[_]<e?m-=1<<e-f[_]++-1:++n}for(;n>=0&&m;--n){var S=a[n].s;f[S]==e&&(--f[S],++m)}v=e}return{t:new Dl(f),l:v}},L4=function(t,e,r){return t.s==-1?Math.max(L4(t.l,e,r+1),L4(t.r,e,r+1)):e[t.s]=r},SB=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ao(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},q0=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Vte=function(t,e,r){var n=r.length,i=Ute(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},AB=function(t,e,r,n,i,a,s,o,l,u,d){ou(e,d++,r),++i[256];for(var h=mP(i,15),p=h.t,f=h.l,v=mP(a,15),m=v.t,g=v.l,y=SB(p),x=y.c,_=y.n,S=SB(m),N=S.c,C=S.n,j=new ao(19),E=0;E<x.length;++E)++j[x[E]&31];for(var E=0;E<N.length;++E)++j[N[E]&31];for(var I=mP(j,7),D=I.t,k=I.l,O=19;O>4&&!D[wB[O-1]];--O);var L=u+5<<3,z=q0(i,dm)+q0(a,R5)+s,re=q0(i,p)+q0(a,m)+s+14+3*O+q0(j,D)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&L<=z&&L<=re)return Vte(e,d,t.subarray(l,l+u));var Y,K,q,Z;if(ou(e,d,1+(re<z)),d+=2,re<z){Y=$1(p,f,0),K=p,q=$1(m,g,0),Z=m;var ve=$1(D,k,0);ou(e,d,_-257),ou(e,d+5,C-1),ou(e,d+10,O-4),d+=14;for(var E=0;E<O;++E)ou(e,d+3*E,D[wB[E]]);d+=3*O;for(var ce=[x,N],F=0;F<2;++F)for(var V=ce[F],E=0;E<V.length;++E){var G=V[E]&31;ou(e,d,ve[G]),d+=D[G],G>15&&(ou(e,d,V[E]>>5&127),d+=V[E]>>12)}}else Y=zGe,K=dm,q=qGe,Z=R5;for(var E=0;E<o;++E){var oe=n[E];if(oe>255){var G=oe>>18&31;z0(e,d,Y[G+257]),d+=K[G+257],G>7&&(ou(e,d,oe>>23&31),d+=dD[G]);var J=oe&31;z0(e,d,q[J]),d+=Z[J],J>3&&(z0(e,d,oe>>5&8191),d+=hD[J])}else z0(e,d,Y[oe]),d+=K[oe]}return z0(e,d,Y[256]),d+K[256]},HGe=new uD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zte=new Dl(0),GGe=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Dl(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),u=a.l,d=(a.r||0)&7;if(e){d&&(l[0]=a.r>>3);for(var h=HGe[e-1],p=h>>13,f=h&8191,v=(1<<r)-1,m=a.p||new ao(32768),g=a.h||new ao(v+1),y=Math.ceil(r/3),x=2*y,_=function(ge){return(t[ge]^t[ge+1]<<y^t[ge+2]<<x)&v},S=new uD(25e3),N=new ao(288),C=new ao(32),j=0,E=0,I=a.i||0,D=0,k=a.w||0,O=0;I+2<s;++I){var L=_(I),z=I&32767,re=g[L];if(m[z]=re,g[L]=z,k<=I){var Y=s-I;if((j>7e3||D>24576)&&(Y>423||!u)){d=AB(t,l,0,S,N,C,E,D,O,I-O,d),D=j=E=0,O=I;for(var K=0;K<286;++K)N[K]=0;for(var K=0;K<30;++K)C[K]=0}var q=2,Z=0,ve=f,ce=z-re&32767;if(Y>2&&L==_(I-ce))for(var F=Math.min(p,Y)-1,V=Math.min(32767,I),G=Math.min(258,Y);ce<=V&&--ve&&z!=re;){if(t[I+q]==t[I+q-ce]){for(var oe=0;oe<G&&t[I+oe]==t[I+oe-ce];++oe);if(oe>q){if(q=oe,Z=ce,oe>F)break;for(var J=Math.min(ce,oe-2),ie=0,K=0;K<J;++K){var be=I-ce+K&32767,he=m[be],T=be-he&32767;T>ie&&(ie=T,re=be)}}}z=re,re=m[z],ce+=z-re&32767}if(Z){S[D++]=268435456|R4[q]<<18|_B[Z];var X=R4[q]&31,ne=_B[Z]&31;E+=dD[X]+hD[ne],++N[257+X],++C[ne],k=I+q,++j}else S[D++]=t[I],++N[t[I]]}}for(I=Math.max(I,k);I<s;++I)S[D++]=t[I],++N[t[I]];d=AB(t,l,u,S,N,C,E,D,O,I-O,d),u||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=g,a.p=m,a.i=I,a.w=k)}else{for(var I=a.w||0;I<s+u;I+=65535){var de=I+65535;de>=s&&(l[d/8|0]=u,de=s),d=Vte(l,d+1,t.subarray(I,de))}a.i=s}return WGe(o,0,n+Ute(d)+i)},qte=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},KGe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Dl(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return GGe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Wte=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},YGe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=qte();i.p(e.dictionary),Wte(t,2,i.d())}};function M4(t,e){e||(e={});var r=qte();r.p(t);var n=KGe(t,e,e.dictionary?6:2,4);return YGe(n,e),Wte(n,n.length-4,r.d()),n}var XGe=typeof TextDecoder<"u"&&new TextDecoder,QGe=0;try{XGe.decode(zte,{stream:!0}),QGe=1}catch{}function JGe(t){if(Array.isArray(t))return t}function ZGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function NB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function eKe(t,e){if(t){if(typeof t=="string")return NB(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?NB(t,e):void 0}}function tKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EB(t,e){return JGe(t)||ZGe(t,e)||eKe(t,e)||tKe()}function jB(t,e="utf8"){return new TextDecoder(e).decode(t)}const rKe=new TextEncoder;function nKe(t){return rKe.encode(t)}const iKe=1024*8,aKe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),gP={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class fD{constructor(e=iKe,r={}){Rr(this,"buffer");Rr(this,"byteLength");Rr(this,"byteOffset");Rr(this,"length");Rr(this,"offset");Rr(this,"lastWrittenByte");Rr(this,"littleEndian");Rr(this,"_data");Rr(this,"_mark");Rr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof fD)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=gP[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===aKe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new gP[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new gP[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return jB(this.readBytes(e))}decodeText(e=1,r="utf8"){return jB(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(nKe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const sKe=4,PB=0,TB=1,oKe=2;function Jy(t){let e=t.length;for(;--e>=0;)t[e]=0}const lKe=0,Hte=1,cKe=2,uKe=3,dKe=258,pD=29,ow=256,ox=ow+1+pD,tv=30,mD=19,Gte=2*ox+1,vp=15,vP=16,hKe=7,gD=256,Kte=16,Yte=17,Xte=18,$4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),b_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),fKe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Qte=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pKe=512,vu=new Array((ox+2)*2);Jy(vu);const F1=new Array(tv*2);Jy(F1);const lx=new Array(pKe);Jy(lx);const cx=new Array(dKe-uKe+1);Jy(cx);const vD=new Array(pD);Jy(vD);const D5=new Array(tv);Jy(D5);function yP(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let Jte,Zte,ere;function bP(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const tre=t=>t<256?lx[t]:lx[256+(t>>>7)],ux=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Cs=(t,e,r)=>{t.bi_valid>vP-r?(t.bi_buf|=e<<t.bi_valid&65535,ux(t,t.bi_buf),t.bi_buf=e>>vP-t.bi_valid,t.bi_valid+=r-vP):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},fc=(t,e,r)=>{Cs(t,r[e*2],r[e*2+1])},rre=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},mKe=t=>{t.bi_valid===16?(ux(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},gKe=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,d,h,p,f,v,m=0;for(p=0;p<=vp;p++)t.bl_count[p]=0;for(r[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<Gte;u++)d=t.heap[u],p=r[r[d*2+1]*2+1]+1,p>l&&(p=l,m++),r[d*2+1]=p,!(d>n)&&(t.bl_count[p]++,f=0,d>=o&&(f=s[d-o]),v=r[d*2],t.opt_len+=v*(p+f),a&&(t.static_len+=v*(i[d*2+1]+f)));if(m!==0){do{for(p=l-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(p=l;p!==0;p--)for(d=t.bl_count[p];d!==0;)h=t.heap[--u],!(h>n)&&(r[h*2+1]!==p&&(t.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),d--)}},nre=(t,e,r)=>{const n=new Array(vp+1);let i=0,a,s;for(a=1;a<=vp;a++)i=i+r[a-1]<<1,n[a]=i;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=rre(n[o]++,o))}},vKe=()=>{let t,e,r,n,i;const a=new Array(vp+1);for(r=0,n=0;n<pD-1;n++)for(vD[n]=r,t=0;t<1<<$4[n];t++)cx[r++]=n;for(cx[r-1]=n,i=0,n=0;n<16;n++)for(D5[n]=i,t=0;t<1<<b_[n];t++)lx[i++]=n;for(i>>=7;n<tv;n++)for(D5[n]=i<<7,t=0;t<1<<b_[n]-7;t++)lx[256+i++]=n;for(e=0;e<=vp;e++)a[e]=0;for(t=0;t<=143;)vu[t*2+1]=8,t++,a[8]++;for(;t<=255;)vu[t*2+1]=9,t++,a[9]++;for(;t<=279;)vu[t*2+1]=7,t++,a[7]++;for(;t<=287;)vu[t*2+1]=8,t++,a[8]++;for(nre(vu,ox+1,a),t=0;t<tv;t++)F1[t*2+1]=5,F1[t*2]=rre(t,5);Jte=new yP(vu,$4,ow+1,ox,vp),Zte=new yP(F1,b_,0,tv,vp),ere=new yP(new Array(0),fKe,0,mD,hKe)},ire=t=>{let e;for(e=0;e<ox;e++)t.dyn_ltree[e*2]=0;for(e=0;e<tv;e++)t.dyn_dtree[e*2]=0;for(e=0;e<mD;e++)t.bl_tree[e*2]=0;t.dyn_ltree[gD*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},are=t=>{t.bi_valid>8?ux(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},CB=(t,e,r,n)=>{const i=e*2,a=r*2;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},xP=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&CB(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!CB(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},kB=(t,e,r)=>{let n,i,a=0,s,o;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,i=t.pending_buf[t.sym_buf+a++],n===0?fc(t,i,e):(s=cx[i],fc(t,s+ow+1,e),o=$4[s],o!==0&&(i-=vD[s],Cs(t,i,o)),n--,s=tre(n),fc(t,s,r),o=b_[s],o!==0&&(n-=D5[s],Cs(t,n,o)));while(a<t.sym_next);fc(t,gD,e)},F4=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,o,l=-1,u;for(t.heap_len=0,t.heap_max=Gte,s=0;s<a;s++)r[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):r[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,r[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[u*2+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)xP(t,r,s);u=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],xP(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,r[u*2]=r[s*2]+r[o*2],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,r[s*2+1]=r[o*2+1]=u,t.heap[1]=u++,xP(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],gKe(t,e),nre(r,l,t.bl_count)},IB=(t,e,r)=>{let n,i=-1,a,s=e[0*2+1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=e[(n+1)*2+1],!(++o<l&&a===s)&&(o<u?t.bl_tree[a*2]+=o:a!==0?(a!==i&&t.bl_tree[a*2]++,t.bl_tree[Kte*2]++):o<=10?t.bl_tree[Yte*2]++:t.bl_tree[Xte*2]++,o=0,i=a,s===0?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4))},OB=(t,e,r)=>{let n,i=-1,a,s=e[0*2+1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),n=0;n<=r;n++)if(a=s,s=e[(n+1)*2+1],!(++o<l&&a===s)){if(o<u)do fc(t,a,t.bl_tree);while(--o!==0);else a!==0?(a!==i&&(fc(t,a,t.bl_tree),o--),fc(t,Kte,t.bl_tree),Cs(t,o-3,2)):o<=10?(fc(t,Yte,t.bl_tree),Cs(t,o-3,3)):(fc(t,Xte,t.bl_tree),Cs(t,o-11,7));o=0,i=a,s===0?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4)}},yKe=t=>{let e;for(IB(t,t.dyn_ltree,t.l_desc.max_code),IB(t,t.dyn_dtree,t.d_desc.max_code),F4(t,t.bl_desc),e=mD-1;e>=3&&t.bl_tree[Qte[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},bKe=(t,e,r,n)=>{let i;for(Cs(t,e-257,5),Cs(t,r-1,5),Cs(t,n-4,4),i=0;i<n;i++)Cs(t,t.bl_tree[Qte[i]*2+1],3);OB(t,t.dyn_ltree,e-1),OB(t,t.dyn_dtree,r-1)},xKe=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return PB;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return TB;for(r=32;r<ow;r++)if(t.dyn_ltree[r*2]!==0)return TB;return PB};let RB=!1;const wKe=t=>{RB||(vKe(),RB=!0),t.l_desc=new bP(t.dyn_ltree,Jte),t.d_desc=new bP(t.dyn_dtree,Zte),t.bl_desc=new bP(t.bl_tree,ere),t.bi_buf=0,t.bi_valid=0,ire(t)},sre=(t,e,r,n)=>{Cs(t,(lKe<<1)+(n?1:0),3),are(t),ux(t,r),ux(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},_Ke=t=>{Cs(t,Hte<<1,3),fc(t,gD,vu),mKe(t)},SKe=(t,e,r,n)=>{let i,a,s=0;t.level>0?(t.strm.data_type===oKe&&(t.strm.data_type=xKe(t)),F4(t,t.l_desc),F4(t,t.d_desc),s=yKe(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?sre(t,e,r,n):t.strategy===sKe||a===i?(Cs(t,(Hte<<1)+(n?1:0),3),kB(t,vu,F1)):(Cs(t,(cKe<<1)+(n?1:0),3),bKe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),kB(t,t.dyn_ltree,t.dyn_dtree)),ire(t),n&&are(t)},AKe=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(cx[r]+ow+1)*2]++,t.dyn_dtree[tre(e)*2]++),t.sym_next===t.sym_end);var NKe=wKe,EKe=sre,jKe=SKe,PKe=AKe,TKe=_Ke,CKe={_tr_init:NKe,_tr_stored_block:EKe,_tr_flush_block:jKe,_tr_tally:PKe,_tr_align:TKe};const kKe=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var dx=kKe;const IKe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},OKe=new Uint32Array(IKe()),RKe=(t,e,r,n)=>{const i=OKe,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Xi=RKe,fy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:DKe,_tr_stored_block:B4,_tr_flush_block:LKe,_tr_tally:Fh,_tr_align:MKe}=CKe,{Z_NO_FLUSH:Bh,Z_PARTIAL_FLUSH:$Ke,Z_FULL_FLUSH:FKe,Z_FINISH:Vo,Z_BLOCK:DB,Z_OK:ua,Z_STREAM_END:LB,Z_STREAM_ERROR:Cc,Z_DATA_ERROR:BKe,Z_BUF_ERROR:wP,Z_DEFAULT_COMPRESSION:UKe,Z_FILTERED:VKe,Z_HUFFMAN_ONLY:T2,Z_RLE:zKe,Z_FIXED:qKe,Z_DEFAULT_STRATEGY:WKe,Z_UNKNOWN:HKe,Z_DEFLATED:ZN}=lw,GKe=9,KKe=15,YKe=8,XKe=29,QKe=256,U4=QKe+1+XKe,JKe=30,ZKe=19,eYe=2*U4+1,tYe=15,Cr=3,vh=258,kc=vh+Cr+1,rYe=32,py=42,yD=57,V4=69,z4=73,q4=91,W4=103,yp=113,o1=666,ss=1,Zy=2,hm=3,e0=4,nYe=3,bp=(t,e)=>(t.msg=fy[e],e),MB=t=>t*2-(t>4?9:0),th=t=>{let e=t.length;for(;--e>=0;)t[e]=0},iYe=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e);e=i,n=e;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)};let aYe=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,Uh=aYe;const Js=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},so=(t,e)=>{LKe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Js(t.strm)},Kr=(t,e)=>{t.pending_buf[t.pending++]=e},W0=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},H4=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=dx(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Xi(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},ore=(t,e)=>{let r=t.max_chain_length,n=t.strstart,i,a,s=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-kc?t.strstart-(t.w_size-kc):0,u=t.window,d=t.w_mask,h=t.prev,p=t.strstart+vh;let f=u[n+s-1],v=u[n+s];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(i=e,!(u[i+s]!==v||u[i+s-1]!==f||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<p);if(a=vh-(p-n),n=p-vh,a>s){if(t.match_start=e,s=a,a>=o)break;f=u[n+s-1],v=u[n+s]}}while((e=h[e&d])>l&&--r!==0);return s<=t.lookahead?s:t.lookahead},my=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-kc)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),iYe(t),n+=e),t.strm.avail_in===0)break;if(r=H4(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=Cr)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Uh(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Uh(t,t.ins_h,t.window[i+Cr-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Cr)););}while(t.lookahead<kc&&t.strm.avail_in!==0)},lre=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,a,s=0,o=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&e!==Vo||e===Bh||n!==i+t.strm.avail_in)))break;s=e===Vo&&n===i+t.strm.avail_in?1:0,B4(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Js(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(H4(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(s===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?e0:e!==Bh&&e!==Vo&&t.strm.avail_in===0&&t.strstart===t.block_start?Zy:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(H4(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,r=a>t.w_size?t.w_size:a,i=t.strstart-t.block_start,(i>=r||(i||e===Vo)&&e!==Bh&&t.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,s=e===Vo&&t.strm.avail_in===0&&n===i?1:0,B4(t,t.block_start,n,s),t.block_start+=n,Js(t.strm)),s?hm:ss)},_P=(t,e)=>{let r,n;for(;;){if(t.lookahead<kc){if(my(t),t.lookahead<kc&&e===Bh)return ss;if(t.lookahead===0)break}if(r=0,t.lookahead>=Cr&&(t.ins_h=Uh(t,t.ins_h,t.window[t.strstart+Cr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-kc&&(t.match_length=ore(t,r)),t.match_length>=Cr)if(n=Fh(t,t.strstart-t.match_start,t.match_length-Cr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Cr){t.match_length--;do t.strstart++,t.ins_h=Uh(t,t.ins_h,t.window[t.strstart+Cr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Uh(t,t.ins_h,t.window[t.strstart+1]);else n=Fh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(so(t,!1),t.strm.avail_out===0))return ss}return t.insert=t.strstart<Cr-1?t.strstart:Cr-1,e===Vo?(so(t,!0),t.strm.avail_out===0?hm:e0):t.sym_next&&(so(t,!1),t.strm.avail_out===0)?ss:Zy},Zm=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<kc){if(my(t),t.lookahead<kc&&e===Bh)return ss;if(t.lookahead===0)break}if(r=0,t.lookahead>=Cr&&(t.ins_h=Uh(t,t.ins_h,t.window[t.strstart+Cr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Cr-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-kc&&(t.match_length=ore(t,r),t.match_length<=5&&(t.strategy===VKe||t.match_length===Cr&&t.strstart-t.match_start>4096)&&(t.match_length=Cr-1)),t.prev_length>=Cr&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Cr,n=Fh(t,t.strstart-1-t.prev_match,t.prev_length-Cr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Uh(t,t.ins_h,t.window[t.strstart+Cr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Cr-1,t.strstart++,n&&(so(t,!1),t.strm.avail_out===0))return ss}else if(t.match_available){if(n=Fh(t,0,t.window[t.strstart-1]),n&&so(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return ss}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Fh(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Cr-1?t.strstart:Cr-1,e===Vo?(so(t,!0),t.strm.avail_out===0?hm:e0):t.sym_next&&(so(t,!1),t.strm.avail_out===0)?ss:Zy},sYe=(t,e)=>{let r,n,i,a;const s=t.window;for(;;){if(t.lookahead<=vh){if(my(t),t.lookahead<=vh&&e===Bh)return ss;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Cr&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=t.strstart+vh;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=vh-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Cr?(r=Fh(t,1,t.match_length-Cr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Fh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(so(t,!1),t.strm.avail_out===0))return ss}return t.insert=0,e===Vo?(so(t,!0),t.strm.avail_out===0?hm:e0):t.sym_next&&(so(t,!1),t.strm.avail_out===0)?ss:Zy},oYe=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(my(t),t.lookahead===0)){if(e===Bh)return ss;break}if(t.match_length=0,r=Fh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(so(t,!1),t.strm.avail_out===0))return ss}return t.insert=0,e===Vo?(so(t,!0),t.strm.avail_out===0?hm:e0):t.sym_next&&(so(t,!1),t.strm.avail_out===0)?ss:Zy};function ec(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const l1=[new ec(0,0,0,0,lre),new ec(4,4,8,4,_P),new ec(4,5,16,8,_P),new ec(4,6,32,32,_P),new ec(4,4,16,16,Zm),new ec(8,16,32,32,Zm),new ec(8,16,128,128,Zm),new ec(8,32,128,256,Zm),new ec(32,128,258,1024,Zm),new ec(32,258,258,4096,Zm)],lYe=t=>{t.window_size=2*t.w_size,th(t.head),t.max_lazy_match=l1[t.level].max_lazy,t.good_match=l1[t.level].good_length,t.nice_match=l1[t.level].nice_length,t.max_chain_length=l1[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Cr-1,t.match_available=0,t.ins_h=0};function cYe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ZN,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(eYe*2),this.dyn_dtree=new Uint16Array((2*JKe+1)*2),this.bl_tree=new Uint16Array((2*ZKe+1)*2),th(this.dyn_ltree),th(this.dyn_dtree),th(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(tYe+1),this.heap=new Uint16Array(2*U4+1),th(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*U4+1),th(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const cw=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==py&&e.status!==yD&&e.status!==V4&&e.status!==z4&&e.status!==q4&&e.status!==W4&&e.status!==yp&&e.status!==o1?1:0},cre=t=>{if(cw(t))return bp(t,Cc);t.total_in=t.total_out=0,t.data_type=HKe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?yD:e.wrap?py:yp,t.adler=e.wrap===2?0:1,e.last_flush=-2,DKe(e),ua},ure=t=>{const e=cre(t);return e===ua&&lYe(t.state),e},uYe=(t,e)=>cw(t)||t.state.wrap!==2?Cc:(t.state.gzhead=e,ua),dre=(t,e,r,n,i,a)=>{if(!t)return Cc;let s=1;if(e===UKe&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>GKe||r!==ZN||n<8||n>15||e<0||e>9||a<0||a>qKe||n===8&&s!==1)return bp(t,Cc);n===8&&(n=9);const o=new cYe;return t.state=o,o.strm=t,o.status=py,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Cr-1)/Cr),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=a,o.method=r,ure(t)},dYe=(t,e)=>dre(t,e,ZN,KKe,YKe,WKe),hYe=(t,e)=>{if(cw(t)||e>DB||e<0)return t?bp(t,Cc):Cc;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===o1&&e!==Vo)return bp(t,t.avail_out===0?wP:Cc);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(Js(t),t.avail_out===0)return r.last_flush=-1,ua}else if(t.avail_in===0&&MB(e)<=MB(n)&&e!==Vo)return bp(t,wP);if(r.status===o1&&t.avail_in!==0)return bp(t,wP);if(r.status===py&&r.wrap===0&&(r.status=yp),r.status===py){let i=ZN+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=T2||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=rYe),i+=31-i%31,W0(r,i),r.strstart!==0&&(W0(r,t.adler>>>16),W0(r,t.adler&65535)),t.adler=1,r.status=yp,Js(t),r.pending!==0)return r.last_flush=-1,ua}if(r.status===yD){if(t.adler=0,Kr(r,31),Kr(r,139),Kr(r,8),r.gzhead)Kr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Kr(r,r.gzhead.time&255),Kr(r,r.gzhead.time>>8&255),Kr(r,r.gzhead.time>>16&255),Kr(r,r.gzhead.time>>24&255),Kr(r,r.level===9?2:r.strategy>=T2||r.level<2?4:0),Kr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Kr(r,r.gzhead.extra.length&255),Kr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Xi(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=V4;else if(Kr(r,0),Kr(r,0),Kr(r,0),Kr(r,0),Kr(r,0),Kr(r,r.level===9?2:r.strategy>=T2||r.level<2?4:0),Kr(r,nYe),r.status=yp,Js(t),r.pending!==0)return r.last_flush=-1,ua}if(r.status===V4){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(t.adler=Xi(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,Js(t),r.pending!==0)return r.last_flush=-1,ua;i=0,a-=o}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(t.adler=Xi(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=z4}if(r.status===z4){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=Xi(t.adler,r.pending_buf,r.pending-i,i)),Js(t),r.pending!==0)return r.last_flush=-1,ua;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,Kr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Xi(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=q4}if(r.status===q4){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=Xi(t.adler,r.pending_buf,r.pending-i,i)),Js(t),r.pending!==0)return r.last_flush=-1,ua;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,Kr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Xi(t.adler,r.pending_buf,r.pending-i,i))}r.status=W4}if(r.status===W4){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Js(t),r.pending!==0))return r.last_flush=-1,ua;Kr(r,t.adler&255),Kr(r,t.adler>>8&255),t.adler=0}if(r.status=yp,Js(t),r.pending!==0)return r.last_flush=-1,ua}if(t.avail_in!==0||r.lookahead!==0||e!==Bh&&r.status!==o1){let i=r.level===0?lre(r,e):r.strategy===T2?oYe(r,e):r.strategy===zKe?sYe(r,e):l1[r.level].func(r,e);if((i===hm||i===e0)&&(r.status=o1),i===ss||i===hm)return t.avail_out===0&&(r.last_flush=-1),ua;if(i===Zy&&(e===$Ke?MKe(r):e!==DB&&(B4(r,0,0,!1),e===FKe&&(th(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Js(t),t.avail_out===0))return r.last_flush=-1,ua}return e!==Vo?ua:r.wrap<=0?LB:(r.wrap===2?(Kr(r,t.adler&255),Kr(r,t.adler>>8&255),Kr(r,t.adler>>16&255),Kr(r,t.adler>>24&255),Kr(r,t.total_in&255),Kr(r,t.total_in>>8&255),Kr(r,t.total_in>>16&255),Kr(r,t.total_in>>24&255)):(W0(r,t.adler>>>16),W0(r,t.adler&65535)),Js(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?ua:LB)},fYe=t=>{if(cw(t))return Cc;const e=t.state.status;return t.state=null,e===yp?bp(t,BKe):ua},pYe=(t,e)=>{let r=e.length;if(cw(t))return Cc;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==py||n.lookahead)return Cc;if(i===1&&(t.adler=dx(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(th(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(r-n.w_size,r),0),e=l,r=n.w_size}const a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,my(n);n.lookahead>=Cr;){let l=n.strstart,u=n.lookahead-(Cr-1);do n.ins_h=Uh(n,n.ins_h,n.window[l+Cr-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--u);n.strstart=l,n.lookahead=Cr-1,my(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Cr-1,n.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,n.wrap=i,ua};var mYe=dYe,gYe=dre,vYe=ure,yYe=cre,bYe=uYe,xYe=hYe,wYe=fYe,_Ye=pYe,SYe="pako deflate (from Nodeca project)",B1={deflateInit:mYe,deflateInit2:gYe,deflateReset:vYe,deflateResetKeep:yYe,deflateSetHeader:bYe,deflate:xYe,deflateEnd:wYe,deflateSetDictionary:_Ye,deflateInfo:SYe};const AYe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var NYe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)AYe(r,n)&&(t[n]=r[n])}}return t},EYe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},eE={assign:NYe,flattenChunks:EYe};let hre=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hre=!1}const hx=new Uint8Array(256);for(let t=0;t<256;t++)hx[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;hx[254]=hx[254]=1;var jYe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const PYe=(t,e)=>{if(e<65534&&t.subarray&&hre)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var TYe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=hx[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return PYe(a,i)},CYe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+hx[t[r]]>e?r:e},fx={string2buf:jYe,buf2string:TYe,utf8border:CYe};function kYe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fre=kYe;const pre=Object.prototype.toString,{Z_NO_FLUSH:IYe,Z_SYNC_FLUSH:OYe,Z_FULL_FLUSH:RYe,Z_FINISH:DYe,Z_OK:L5,Z_STREAM_END:LYe,Z_DEFAULT_COMPRESSION:MYe,Z_DEFAULT_STRATEGY:$Ye,Z_DEFLATED:FYe}=lw;function bD(t){this.options=eE.assign({level:MYe,method:FYe,chunkSize:16384,windowBits:15,memLevel:8,strategy:$Ye},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fre,this.strm.avail_out=0;let r=B1.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==L5)throw new Error(fy[r]);if(e.header&&B1.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=fx.string2buf(e.dictionary):pre.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=B1.deflateSetDictionary(this.strm,n),r!==L5)throw new Error(fy[r]);this._dict_set=!0}}bD.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?DYe:IYe,typeof t=="string"?r.input=fx.string2buf(t):pre.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===OYe||a===RYe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=B1.deflate(r,a),i===LYe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=B1.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===L5;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};bD.prototype.onData=function(t){this.chunks.push(t)};bD.prototype.onEnd=function(t){t===L5&&(this.result=eE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const C2=16209,BYe=16191;var UYe=function(e,r){let n,i,a,s,o,l,u,d,h,p,f,v,m,g,y,x,_,S,N,C,j,E,I,D;const k=e.state;n=e.next_in,I=e.input,i=n+(e.avail_in-5),a=e.next_out,D=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),l=k.dmax,u=k.wsize,d=k.whave,h=k.wnext,p=k.window,f=k.hold,v=k.bits,m=k.lencode,g=k.distcode,y=(1<<k.lenbits)-1,x=(1<<k.distbits)-1;e:do{v<15&&(f+=I[n++]<<v,v+=8,f+=I[n++]<<v,v+=8),_=m[f&y];t:for(;;){if(S=_>>>24,f>>>=S,v-=S,S=_>>>16&255,S===0)D[a++]=_&65535;else if(S&16){N=_&65535,S&=15,S&&(v<S&&(f+=I[n++]<<v,v+=8),N+=f&(1<<S)-1,f>>>=S,v-=S),v<15&&(f+=I[n++]<<v,v+=8,f+=I[n++]<<v,v+=8),_=g[f&x];r:for(;;){if(S=_>>>24,f>>>=S,v-=S,S=_>>>16&255,S&16){if(C=_&65535,S&=15,v<S&&(f+=I[n++]<<v,v+=8,v<S&&(f+=I[n++]<<v,v+=8)),C+=f&(1<<S)-1,C>l){e.msg="invalid distance too far back",k.mode=C2;break e}if(f>>>=S,v-=S,S=a-s,C>S){if(S=C-S,S>d&&k.sane){e.msg="invalid distance too far back",k.mode=C2;break e}if(j=0,E=p,h===0){if(j+=u-S,S<N){N-=S;do D[a++]=p[j++];while(--S);j=a-C,E=D}}else if(h<S){if(j+=u+h-S,S-=h,S<N){N-=S;do D[a++]=p[j++];while(--S);if(j=0,h<N){S=h,N-=S;do D[a++]=p[j++];while(--S);j=a-C,E=D}}}else if(j+=h-S,S<N){N-=S;do D[a++]=p[j++];while(--S);j=a-C,E=D}for(;N>2;)D[a++]=E[j++],D[a++]=E[j++],D[a++]=E[j++],N-=3;N&&(D[a++]=E[j++],N>1&&(D[a++]=E[j++]))}else{j=a-C;do D[a++]=D[j++],D[a++]=D[j++],D[a++]=D[j++],N-=3;while(N>2);N&&(D[a++]=D[j++],N>1&&(D[a++]=D[j++]))}}else if(S&64){e.msg="invalid distance code",k.mode=C2;break e}else{_=g[(_&65535)+(f&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){k.mode=BYe;break e}else{e.msg="invalid literal/length code",k.mode=C2;break e}else{_=m[(_&65535)+(f&(1<<S)-1)];continue t}break}}while(n<i&&a<o);N=v>>3,n-=N,v-=N<<3,f&=(1<<v)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),k.hold=f,k.bits=v};const eg=15,$B=852,FB=592,BB=0,SP=1,UB=2,VYe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),zYe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qYe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),WYe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HYe=(t,e,r,n,i,a,s,o)=>{const l=o.bits;let u=0,d=0,h=0,p=0,f=0,v=0,m=0,g=0,y=0,x=0,_,S,N,C,j,E=null,I;const D=new Uint16Array(eg+1),k=new Uint16Array(eg+1);let O=null,L,z,re;for(u=0;u<=eg;u++)D[u]=0;for(d=0;d<n;d++)D[e[r+d]]++;for(f=l,p=eg;p>=1&&D[p]===0;p--);if(f>p&&(f=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<p&&D[h]===0;h++);for(f<h&&(f=h),g=1,u=1;u<=eg;u++)if(g<<=1,g-=D[u],g<0)return-1;if(g>0&&(t===BB||p!==1))return-1;for(k[1]=0,u=1;u<eg;u++)k[u+1]=k[u]+D[u];for(d=0;d<n;d++)e[r+d]!==0&&(s[k[e[r+d]]++]=d);if(t===BB?(E=O=s,I=20):t===SP?(E=VYe,O=zYe,I=257):(E=qYe,O=WYe,I=0),x=0,d=0,u=h,j=a,v=f,m=0,N=-1,y=1<<f,C=y-1,t===SP&&y>$B||t===UB&&y>FB)return 1;for(;;){L=u-m,s[d]+1<I?(z=0,re=s[d]):s[d]>=I?(z=O[s[d]-I],re=E[s[d]-I]):(z=96,re=0),_=1<<u-m,S=1<<v,h=S;do S-=_,i[j+(x>>m)+S]=L<<24|z<<16|re|0;while(S!==0);for(_=1<<u-1;x&_;)_>>=1;if(_!==0?(x&=_-1,x+=_):x=0,d++,--D[u]===0){if(u===p)break;u=e[r+s[d]]}if(u>f&&(x&C)!==N){for(m===0&&(m=f),j+=h,v=u-m,g=1<<v;v+m<p&&(g-=D[v+m],!(g<=0));)v++,g<<=1;if(y+=1<<v,t===SP&&y>$B||t===UB&&y>FB)return 1;N=x&C,i[N]=f<<24|v<<16|j-a|0}}return x!==0&&(i[j+x]=u-m<<24|64<<16|0),o.bits=f,0};var U1=HYe;const GYe=0,mre=1,gre=2,{Z_FINISH:VB,Z_BLOCK:KYe,Z_TREES:k2,Z_OK:fm,Z_STREAM_END:YYe,Z_NEED_DICT:XYe,Z_STREAM_ERROR:Jo,Z_DATA_ERROR:vre,Z_MEM_ERROR:yre,Z_BUF_ERROR:QYe,Z_DEFLATED:zB}=lw,tE=16180,qB=16181,WB=16182,HB=16183,GB=16184,KB=16185,YB=16186,XB=16187,QB=16188,JB=16189,M5=16190,lu=16191,AP=16192,ZB=16193,NP=16194,eU=16195,tU=16196,rU=16197,nU=16198,I2=16199,O2=16200,iU=16201,aU=16202,sU=16203,oU=16204,lU=16205,EP=16206,cU=16207,uU=16208,Hn=16209,bre=16210,xre=16211,JYe=852,ZYe=592,eXe=15,tXe=eXe,dU=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function rXe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Em=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<tE||e.mode>xre?1:0},wre=t=>{if(Em(t))return Jo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=tE,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(JYe),e.distcode=e.distdyn=new Int32Array(ZYe),e.sane=1,e.back=-1,fm},_re=t=>{if(Em(t))return Jo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,wre(t)},Sre=(t,e)=>{let r;if(Em(t))return Jo;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Jo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,_re(t))},Are=(t,e)=>{if(!t)return Jo;const r=new rXe;t.state=r,r.strm=t,r.window=null,r.mode=tE;const n=Sre(t,e);return n!==fm&&(t.state=null),n},nXe=t=>Are(t,tXe);let hU=!0,jP,PP;const iXe=t=>{if(hU){jP=new Int32Array(512),PP=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(U1(mre,t.lens,0,288,jP,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;U1(gre,t.lens,0,32,PP,0,t.work,{bits:5}),hU=!1}t.lencode=jP,t.lenbits=9,t.distcode=PP,t.distbits=5},Nre=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},aXe=(t,e)=>{let r,n,i,a,s,o,l,u,d,h,p,f,v,m,g=0,y,x,_,S,N,C,j,E;const I=new Uint8Array(4);let D,k;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Em(t)||!t.output||!t.input&&t.avail_in!==0)return Jo;r=t.state,r.mode===lu&&(r.mode=AP),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,h=o,p=l,E=fm;e:for(;;)switch(r.mode){case tE:if(r.wrap===0){r.mode=AP;break}for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=u&255,I[1]=u>>>8&255,r.check=Xi(r.check,I,2,0),u=0,d=0,r.mode=qB;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Hn;break}if((u&15)!==zB){t.msg="unknown compression method",r.mode=Hn;break}if(u>>>=4,d-=4,j=(u&15)+8,r.wbits===0&&(r.wbits=j),j>15||j>r.wbits){t.msg="invalid window size",r.mode=Hn;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?JB:lu,u=0,d=0;break;case qB:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==zB){t.msg="unknown compression method",r.mode=Hn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Hn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Xi(r.check,I,2,0)),u=0,d=0,r.mode=WB;case WB:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,r.check=Xi(r.check,I,4,0)),u=0,d=0,r.mode=HB;case HB:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Xi(r.check,I,2,0)),u=0,d=0,r.mode=GB;case GB:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Xi(r.check,I,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=KB;case KB:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),j)),r.flags&512&&r.wrap&4&&(r.check=Xi(r.check,n,f,a)),o-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=YB;case YB:if(r.flags&2048){if(o===0)break e;f=0;do j=n[a+f++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j));while(j&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Xi(r.check,n,f,a)),o-=f,a+=f,j)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=XB;case XB:if(r.flags&4096){if(o===0)break e;f=0;do j=n[a+f++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j));while(j&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Xi(r.check,n,f,a)),o-=f,a+=f,j)break e}else r.head&&(r.head.comment=null);r.mode=QB;case QB:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Hn;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=lu;break;case JB:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}t.adler=r.check=dU(u),u=0,d=0,r.mode=M5;case M5:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=u,r.bits=d,XYe;t.adler=r.check=1,r.mode=lu;case lu:if(e===KYe||e===k2)break e;case AP:if(r.last){u>>>=d&7,d-=d&7,r.mode=EP;break}for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=ZB;break;case 1:if(iXe(r),r.mode=I2,e===k2){u>>>=2,d-=2;break e}break;case 2:r.mode=tU;break;case 3:t.msg="invalid block type",r.mode=Hn}u>>>=2,d-=2;break;case ZB:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Hn;break}if(r.length=u&65535,u=0,d=0,r.mode=NP,e===k2)break e;case NP:r.mode=eU;case eU:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(a,a+f),s),o-=f,a+=f,l-=f,s+=f,r.length-=f;break}r.mode=lu;break;case tU:for(;d<14;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Hn;break}r.have=0,r.mode=rU;case rU:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.lens[O[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},E=U1(GYe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,E){t.msg="invalid code lengths set",r.mode=Hn;break}r.have=0,r.mode=nU;case nU:for(;r.have<r.nlen+r.ndist;){for(;g=r.lencode[u&(1<<r.lenbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(_<16)u>>>=y,d-=y,r.lens[r.have++]=_;else{if(_===16){for(k=y+2;d<k;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(u>>>=y,d-=y,r.have===0){t.msg="invalid bit length repeat",r.mode=Hn;break}j=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(_===17){for(k=y+3;d<k;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=y,d-=y,j=0,f=3+(u&7),u>>>=3,d-=3}else{for(k=y+7;d<k;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=y,d-=y,j=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Hn;break}for(;f--;)r.lens[r.have++]=j}}if(r.mode===Hn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Hn;break}if(r.lenbits=9,D={bits:r.lenbits},E=U1(mre,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,E){t.msg="invalid literal/lengths set",r.mode=Hn;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},E=U1(gre,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,E){t.msg="invalid distances set",r.mode=Hn;break}if(r.mode=I2,e===k2)break e;case I2:r.mode=O2;case O2:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=u,r.bits=d,UYe(t,p),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,r.mode===lu&&(r.back=-1);break}for(r.back=0;g=r.lencode[u&(1<<r.lenbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(x&&!(x&240)){for(S=y,N=x,C=_;g=r.lencode[C+((u&(1<<S+N)-1)>>S)],y=g>>>24,x=g>>>16&255,_=g&65535,!(S+y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=S,d-=S,r.back+=S}if(u>>>=y,d-=y,r.back+=y,r.length=_,x===0){r.mode=lU;break}if(x&32){r.back=-1,r.mode=lu;break}if(x&64){t.msg="invalid literal/length code",r.mode=Hn;break}r.extra=x&15,r.mode=iU;case iU:if(r.extra){for(k=r.extra;d<k;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=aU;case aU:for(;g=r.distcode[u&(1<<r.distbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(!(x&240)){for(S=y,N=x,C=_;g=r.distcode[C+((u&(1<<S+N)-1)>>S)],y=g>>>24,x=g>>>16&255,_=g&65535,!(S+y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=S,d-=S,r.back+=S}if(u>>>=y,d-=y,r.back+=y,x&64){t.msg="invalid distance code",r.mode=Hn;break}r.offset=_,r.extra=x&15,r.mode=sU;case sU:if(r.extra){for(k=r.extra;d<k;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Hn;break}r.mode=oU;case oU:if(l===0)break e;if(f=p-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Hn;break}f>r.wnext?(f-=r.wnext,v=r.wsize-f):v=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,v=s-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[s++]=m[v++];while(--f);r.length===0&&(r.mode=O2);break;case lU:if(l===0)break e;i[s++]=r.length,l--,r.mode=O2;break;case EP:if(r.wrap){for(;d<32;){if(o===0)break e;o--,u|=n[a++]<<d,d+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Xi(r.check,i,p,s-p):dx(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?u:dU(u))!==r.check){t.msg="incorrect data check",r.mode=Hn;break}u=0,d=0}r.mode=cU;case cU:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Hn;break}u=0,d=0}r.mode=uU;case uU:E=YYe;break e;case Hn:E=vre;break e;case bre:return yre;case xre:default:return Jo}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Hn&&(r.mode<EP||e!==VB))&&Nre(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Xi(r.check,i,p,t.next_out-p):dx(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===lu?128:0)+(r.mode===I2||r.mode===NP?256:0),(h===0&&p===0||e===VB)&&E===fm&&(E=QYe),E},sXe=t=>{if(Em(t))return Jo;let e=t.state;return e.window&&(e.window=null),t.state=null,fm},oXe=(t,e)=>{if(Em(t))return Jo;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,fm):Jo},lXe=(t,e)=>{const r=e.length;let n,i,a;return Em(t)||(n=t.state,n.wrap!==0&&n.mode!==M5)?Jo:n.mode===M5&&(i=1,i=dx(i,e,r,0),i!==n.check)?vre:(a=Nre(t,e,r,r),a?(n.mode=bre,yre):(n.havedict=1,fm))};var cXe=_re,uXe=Sre,dXe=wre,hXe=nXe,fXe=Are,pXe=aXe,mXe=sXe,gXe=oXe,vXe=lXe,yXe="pako inflate (from Nodeca project)",yu={inflateReset:cXe,inflateReset2:uXe,inflateResetKeep:dXe,inflateInit:hXe,inflateInit2:fXe,inflate:pXe,inflateEnd:mXe,inflateGetHeader:gXe,inflateSetDictionary:vXe,inflateInfo:yXe};function bXe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xXe=bXe;const Ere=Object.prototype.toString,{Z_NO_FLUSH:wXe,Z_FINISH:_Xe,Z_OK:px,Z_STREAM_END:TP,Z_NEED_DICT:CP,Z_STREAM_ERROR:SXe,Z_DATA_ERROR:fU,Z_MEM_ERROR:AXe}=lw;function uw(t){this.options=eE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fre,this.strm.avail_out=0;let r=yu.inflateInit2(this.strm,e.windowBits);if(r!==px)throw new Error(fy[r]);if(this.header=new xXe,yu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=fx.string2buf(e.dictionary):Ere.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=yu.inflateSetDictionary(this.strm,e.dictionary),r!==px)))throw new Error(fy[r])}uw.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?_Xe:wXe,Ere.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=yu.inflate(r,s),a===CP&&i&&(a=yu.inflateSetDictionary(r,i),a===px?a=yu.inflate(r,s):a===fU&&(a=CP));r.avail_in>0&&a===TP&&r.state.wrap>0&&t[r.next_in]!==0;)yu.inflateReset(r),a=yu.inflate(r,s);switch(a){case SXe:case fU:case CP:case AXe:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===TP))if(this.options.to==="string"){let l=fx.utf8border(r.output,r.next_out),u=r.next_out-l,d=fx.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===px&&o===0)){if(a===TP)return a=yu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};uw.prototype.onData=function(t){this.chunks.push(t)};uw.prototype.onEnd=function(t){t===px&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=eE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function xD(t,e){const r=new uw(e);if(r.push(t),r.err)throw r.msg||fy[r.err];return r.result}function NXe(t,e){return e=e||{},e.raw=!0,xD(t,e)}var EXe=uw,jXe=xD,PXe=NXe,TXe=xD,CXe=lw,kXe={Inflate:EXe,inflate:jXe,inflateRaw:PXe,ungzip:TXe,constants:CXe};const{Inflate:IXe,inflate:OXe,inflateRaw:vZe,ungzip:yZe}=kXe;var pU=IXe,RXe=OXe;const jre=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;jre[t]=e}const mU=4294967295;function DXe(t,e,r){let n=t;for(let i=0;i<r;i++)n=jre[(n^e[i])&255]^n>>>8;return n}function LXe(t,e){return(DXe(mU,t,e)^mU)>>>0}function gU(t,e,r){const n=t.readUint32(),i=LXe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Pre(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Tre(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function Cre(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function kre(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function Ire(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+MXe(e[a-i],r[a],r[a-i])&255}}function MXe(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function $Xe(t,e,r,n,i,a){switch(t){case 0:Pre(e,r,i);break;case 1:Tre(e,r,i,a);break;case 2:Cre(e,r,n,i);break;case 3:kre(e,r,n,i,a);break;case 4:Ire(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const FXe=new Uint16Array([255]),BXe=new Uint8Array(FXe.buffer),UXe=BXe[0]===255;function VXe(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let d=0;d<7;d++){const h=s[d],p=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(p<=0||f<=0)continue;const v=p*o,m=new Uint8Array(v);for(let g=0;g<f;g++){const y=e[u++],x=e.subarray(u,u+v);u+=v;const _=new Uint8Array(v);$Xe(y,x,_,m,v,o),m.set(_);for(let S=0;S<p;S++){const N=h.x+S*h.xStep,C=h.y+g*h.yStep;if(!(N>=r||C>=n))for(let j=0;j<o;j++)l[(C*r+N)*o+j]=_[S*o+j]}}}if(a===16){const d=new Uint16Array(l.buffer);if(UXe)for(let h=0;h<d.length;h++)d[h]=zXe(d[h]);return d}else return l}function zXe(t){return(t&255)<<8|t>>8&255}const qXe=new Uint16Array([255]),WXe=new Uint8Array(qXe.buffer),HXe=WXe[0]===255,GXe=new Uint8Array(0);function vU(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let u=GXe,d=0,h,p;for(let f=0;f<n;f++){switch(h=e.subarray(d+1,d+1+o),p=l.subarray(f*o,(f+1)*o),e[d]){case 0:Pre(h,p,o);break;case 1:Tre(h,p,o,s);break;case 2:Cre(h,p,u,o);break;case 3:kre(h,p,u,o,s);break;case 4:Ire(h,p,u,o,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=o+1}if(a===16){const f=new Uint16Array(l.buffer);if(HXe)for(let v=0;v<f.length;v++)f[v]=KXe(f[v]);return f}else return l}function KXe(t){return(t&255)<<8|t>>8&255}const x_=Uint8Array.of(137,80,78,71,13,10,26,10);function yU(t){if(!YXe(t.readBytes(x_.length)))throw new Error("wrong PNG signature")}function YXe(t){if(t.length<x_.length)return!1;for(let e=0;e<x_.length;e++)if(t[e]!==x_[e])return!1;return!0}const XXe="tEXt",QXe=0,Ore=new TextDecoder("latin1");function JXe(t){if(eQe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const ZXe=/^[\u0000-\u00FF]*$/;function eQe(t){if(!ZXe.test(t))throw new Error("invalid latin1 text")}function tQe(t,e,r){const n=Rre(e);t[n]=rQe(e,r-n.length-1)}function Rre(t){for(t.mark();t.readByte()!==QXe;);const e=t.offset;t.reset();const r=Ore.decode(t.readBytes(e-t.offset-1));return t.skip(1),JXe(r),r}function rQe(t,e){return Ore.decode(t.readBytes(e))}const Ys={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kP={UNKNOWN:-1,DEFLATE:0},bU={UNKNOWN:-1,ADAPTIVE:0},IP={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},R2={NONE:0,BACKGROUND:1,PREVIOUS:2},OP={SOURCE:0,OVER:1};class nQe extends fD{constructor(r,n={}){super(r);Rr(this,"_checkCrc");Rr(this,"_inflator");Rr(this,"_png");Rr(this,"_apng");Rr(this,"_end");Rr(this,"_hasPalette");Rr(this,"_palette");Rr(this,"_hasTransparency");Rr(this,"_transparency");Rr(this,"_compressionMethod");Rr(this,"_filterMethod");Rr(this,"_interlaceMethod");Rr(this,"_colorType");Rr(this,"_isAnimated");Rr(this,"_numberOfFrames");Rr(this,"_numberOfPlays");Rr(this,"_frames");Rr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new pU,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kP.UNKNOWN,this._filterMethod=bU.UNKNOWN,this._interlaceMethod=IP.UNKNOWN,this._colorType=Ys.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(yU(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(yU(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case XXe:tQe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?gU(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?gU(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=iQe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ys.GREYSCALE:i=1;break;case Ys.TRUECOLOUR:i=3;break;case Ys.INDEXED_COLOUR:i=1;break;case Ys.GREYSCALE_ALPHA:i=2;break;case Ys.TRUECOLOUR_ALPHA:i=4;break;case Ys.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==kP.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ys.GREYSCALE:case Ys.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ys.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ys.UNKNOWN:case Ys.GREYSCALE_ALPHA:case Ys.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Rre(this),i=this.readUint8();if(i!==kP.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:RXe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=vU({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case R2.NONE:break;case R2.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case R2.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case OP.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[u+d]}break;case OP.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++){const h=n.data[u+this._png.channels-1]/i,p=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(h*p+(1-h)*r.data[l+d]);r.data[l+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==bU.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===IP.NO_INTERLACE)this._png.data=vU({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===IP.ADAM7)this._png.data=VXe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:R2.NONE,blendOp:OP.SOURCE,data:r}),this._inflator=new pU,this._writingDataChunks=!1}}function iQe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var xU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(xU||(xU={}));function aQe(t,e){return new nQe(t,e).decode()}var er=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function RP(){er.console&&typeof er.console.log=="function"&&er.console.log.apply(er.console,arguments)}var xn={log:RP,warn:function(t){er.console&&(typeof er.console.warn=="function"?er.console.warn.apply(er.console,arguments):RP.call(null,arguments))},error:function(t){er.console&&(typeof er.console.error=="function"?er.console.error.apply(er.console,arguments):RP(t))}};function DP(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ip(n.response,e,r)},n.onerror=function(){xn.error("could not download file")},n.send()}function wU(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function D2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ip=er.saveAs||((typeof window>"u"?"undefined":an(window))!=="object"||window!==er?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=er.URL||er.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?wU(i.href)?DP(t,e,r):D2(i,i.target="_blank"):D2(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){D2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(wU(t))DP(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){D2(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:an(a)!=="object"&&(xn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return DP(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(er.HTMLElement)||er.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":an(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var l=er.URL||er.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Dre(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var w_=er.atob.bind(er),_U=er.btoa.bind(er);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function LP(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Ea(r,n,i,a,e[0],7,-680876936),a=Ea(a,r,n,i,e[1],12,-389564586),i=Ea(i,a,r,n,e[2],17,606105819),n=Ea(n,i,a,r,e[3],22,-1044525330),r=Ea(r,n,i,a,e[4],7,-176418897),a=Ea(a,r,n,i,e[5],12,1200080426),i=Ea(i,a,r,n,e[6],17,-1473231341),n=Ea(n,i,a,r,e[7],22,-45705983),r=Ea(r,n,i,a,e[8],7,1770035416),a=Ea(a,r,n,i,e[9],12,-1958414417),i=Ea(i,a,r,n,e[10],17,-42063),n=Ea(n,i,a,r,e[11],22,-1990404162),r=Ea(r,n,i,a,e[12],7,1804603682),a=Ea(a,r,n,i,e[13],12,-40341101),i=Ea(i,a,r,n,e[14],17,-1502002290),r=ja(r,n=Ea(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=ja(a,r,n,i,e[6],9,-1069501632),i=ja(i,a,r,n,e[11],14,643717713),n=ja(n,i,a,r,e[0],20,-373897302),r=ja(r,n,i,a,e[5],5,-701558691),a=ja(a,r,n,i,e[10],9,38016083),i=ja(i,a,r,n,e[15],14,-660478335),n=ja(n,i,a,r,e[4],20,-405537848),r=ja(r,n,i,a,e[9],5,568446438),a=ja(a,r,n,i,e[14],9,-1019803690),i=ja(i,a,r,n,e[3],14,-187363961),n=ja(n,i,a,r,e[8],20,1163531501),r=ja(r,n,i,a,e[13],5,-1444681467),a=ja(a,r,n,i,e[2],9,-51403784),i=ja(i,a,r,n,e[7],14,1735328473),r=Pa(r,n=ja(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Pa(a,r,n,i,e[8],11,-2022574463),i=Pa(i,a,r,n,e[11],16,1839030562),n=Pa(n,i,a,r,e[14],23,-35309556),r=Pa(r,n,i,a,e[1],4,-1530992060),a=Pa(a,r,n,i,e[4],11,1272893353),i=Pa(i,a,r,n,e[7],16,-155497632),n=Pa(n,i,a,r,e[10],23,-1094730640),r=Pa(r,n,i,a,e[13],4,681279174),a=Pa(a,r,n,i,e[0],11,-358537222),i=Pa(i,a,r,n,e[3],16,-722521979),n=Pa(n,i,a,r,e[6],23,76029189),r=Pa(r,n,i,a,e[9],4,-640364487),a=Pa(a,r,n,i,e[12],11,-421815835),i=Pa(i,a,r,n,e[15],16,530742520),r=Ta(r,n=Pa(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ta(a,r,n,i,e[7],10,1126891415),i=Ta(i,a,r,n,e[14],15,-1416354905),n=Ta(n,i,a,r,e[5],21,-57434055),r=Ta(r,n,i,a,e[12],6,1700485571),a=Ta(a,r,n,i,e[3],10,-1894986606),i=Ta(i,a,r,n,e[10],15,-1051523),n=Ta(n,i,a,r,e[1],21,-2054922799),r=Ta(r,n,i,a,e[8],6,1873313359),a=Ta(a,r,n,i,e[15],10,-30611744),i=Ta(i,a,r,n,e[6],15,-1560198380),n=Ta(n,i,a,r,e[13],21,1309151649),r=Ta(r,n,i,a,e[4],6,-145523070),a=Ta(a,r,n,i,e[11],10,-1120210379),i=Ta(i,a,r,n,e[2],15,718787259),n=Ta(n,i,a,r,e[9],21,-343485551),t[0]=yh(r,t[0]),t[1]=yh(n,t[1]),t[2]=yh(i,t[2]),t[3]=yh(a,t[3])}function rE(t,e,r,n,i,a){return e=yh(yh(e,t),yh(n,a)),yh(e<<i|e>>>32-i,r)}function Ea(t,e,r,n,i,a,s){return rE(e&r|~e&n,t,e,i,a,s)}function ja(t,e,r,n,i,a,s){return rE(e&n|r&~n,t,e,i,a,s)}function Pa(t,e,r,n,i,a,s){return rE(e^r^n,t,e,i,a,s)}function Ta(t,e,r,n,i,a,s){return rE(r^(e|~n),t,e,i,a,s)}function Lre(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)LP(n,sQe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(LP(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,LP(n,i),n}function sQe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var SU="0123456789abcdef".split("");function oQe(t){for(var e="",r=0;r<4;r++)e+=SU[t>>8*r+4&15]+SU[t>>8*r&15];return e}function lQe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function G4(t){return Lre(t).map(lQe).join("")}var cQe=function(t){for(var e=0;e<t.length;e++)t[e]=oQe(t[e]);return t.join("")}(Lre("hello"))!="5d41402abc4b2a76b9719d911017c592";function yh(t,e){if(cQe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function K4(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+s.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=t,n=o}else o=n;var h=e.length,p=0,f=0,v="";for(l=0;l<h;l++)f=(f+(d=o[p=(p+1)%256]))%256,o[p]=o[f],o[f]=d,s=o[(o[p]+o[f])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var AU={print:4,modify:8,copy:16,"annot-forms":32};function cg(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(AU.perm!==void 0)throw new Error("Invalid permission: "+o);i+=AU[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=G4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=K4(this.encryptionKey,this.padding)}function ug(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function NU(t){if(an(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){er.console&&xn.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $5(t){if(!(this instanceof $5))return new $5(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Mre(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function lp(t,e,r,n,i){if(!(this instanceof lp))return new lp(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Mre.call(this,n,i)}function kg(t,e,r,n,i){if(!(this instanceof kg))return new kg(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Mre.call(this,n,i)}function Mt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",d=null;an(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=NU;var v="1.3",m=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(R){v=R};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var y=f.__private__.getPageFormat=function(R){return g[R]};i=i||"a4";var x="compat",_="advanced",S=x;function N(){this.saveGraphicsState(),ee(new lt(kt,0,0,-kt,0,rl()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),u="n",S=_}function C(){this.restoreGraphicsState(),u="S",S=x}var j=f.__private__.combineFontStyleAndFontWeight=function(R,W){if(R=="bold"&&W=="normal"||R=="bold"&&W==400||R=="normal"&&W=="italic"||R=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(R=W==400||W==="normal"?R==="italic"?"italic":"normal":W!=700&&W!=="bold"||R!=="normal"?(W==700?"bold":W)+""+R:"bold"),R};f.advancedAPI=function(R){var W=S===x;return W&&N.call(this),typeof R!="function"||(R(this),W&&C.call(this)),this},f.compatAPI=function(R){var W=S===_;return W&&C.call(this),typeof R!="function"||(R(this),W&&N.call(this)),this},f.isAdvancedAPI=function(){return S===_};var E,I=function(R){if(S!==_)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=f.roundToPrecision=f.__private__.roundToPrecision=function(R,W){var fe=e||W;if(isNaN(R)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(fe).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof l=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return D(R,l)}:l==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return D(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return D(R,16)};var k=f.f2=f.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return D(R,2)},O=f.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return D(R,3)},L=f.scale=f.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return S===x?R*kt:S===_?R:void 0},z=function(R){return L(function(W){return S===x?rl()-W:S===_?W:void 0}(R))};f.__private__.setPrecision=f.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var re,Y="00000000000000000000000000000000",K=f.__private__.getFileId=function(){return Y},q=f.__private__.setFileId=function(R){return Y=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(mn=new cg(d.userPermissions,d.userPassword,d.ownerPassword,Y)),Y};f.setFileId=function(R){return q(R),this},f.getFileId=function(){return K()};var Z=f.__private__.convertDateToPDFDate=function(R){var W=R.getTimezoneOffset(),fe=W<0?"+":"-",ye=Math.floor(Math.abs(W/60)),Ee=Math.abs(W%60),Fe=[fe,G(ye),"'",G(Ee),"'"].join("");return["D:",R.getFullYear(),G(R.getMonth()+1),G(R.getDate()),G(R.getHours()),G(R.getMinutes()),G(R.getSeconds()),Fe].join("")},ve=f.__private__.convertPDFDateToDate=function(R){var W=parseInt(R.substr(2,4),10),fe=parseInt(R.substr(6,2),10)-1,ye=parseInt(R.substr(8,2),10),Ee=parseInt(R.substr(10,2),10),Fe=parseInt(R.substr(12,2),10),Ge=parseInt(R.substr(14,2),10);return new Date(W,fe,ye,Ee,Fe,Ge,0)},ce=f.__private__.setCreationDate=function(R){var W;if(R===void 0&&(R=new Date),R instanceof Date)W=Z(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=R}return re=W},F=f.__private__.getCreationDate=function(R){var W=re;return R==="jsDate"&&(W=ve(re)),W};f.setCreationDate=function(R){return ce(R),this},f.getCreationDate=function(R){return F(R)};var V,G=f.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},oe=f.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},J=0,ie=[],be=[],he=0,T=[],X=[],ne=!1,de=be;f.__private__.setCustomOutputDestination=function(R){ne=!0,de=R};var ge=function(R){ne||(de=R)};f.__private__.resetCustomOutputDestination=function(){ne=!1,de=be};var ee=f.__private__.out=function(R){return R=R.toString(),he+=R.length+1,de.push(R),de},Ne=f.__private__.write=function(R){return ee(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},De=f.__private__.getArrayBuffer=function(R){for(var W=R.length,fe=new ArrayBuffer(W),ye=new Uint8Array(fe);W--;)ye[W]=R.charCodeAt(W);return fe},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Le};var _e=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(R){return _e=S===_?R/kt:R,this};var Pe,je=f.__private__.getFontSize=f.getFontSize=function(){return S===x?_e:_e*kt},Me=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(R){return Me=R,this},f.__private__.getR2L=f.getR2L=function(){return Me};var Je,Gt=f.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))Pe=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');Pe=R}else Pe=parseInt(R,10)};f.__private__.getZoomMode=function(){return Pe};var At,ut=f.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Je=R};f.__private__.getPageMode=function(){return Je};var Lt=f.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');At=R};f.__private__.getLayoutMode=function(){return At},f.__private__.setDisplayMode=f.setDisplayMode=function(R,W,fe){return Gt(R),Lt(W),ut(fe),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(R){if(Object.keys(Nt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[R]},f.__private__.getDocumentProperties=function(){return Nt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(R){for(var W in Nt)Nt.hasOwnProperty(W)&&R[W]&&(Nt[W]=R[W]);return this},f.__private__.setDocumentProperty=function(R,W){if(Object.keys(Nt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[R]=W};var St,kt,ct,Kt,zt,dt={},Oe={},Ot=[],gt={},Qt={},Ae={},nt={},tr=null,it=0,Ze=[],mt=new NU(f),ot=t.hotfixes||[],ft={},ur={},dr=[],lt=function R(W,fe,ye,Ee,Fe,Ge){if(!(this instanceof R))return new R(W,fe,ye,Ee,Fe,Ge);isNaN(W)&&(W=1),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=0),isNaN(Ee)&&(Ee=1),isNaN(Fe)&&(Fe=0),isNaN(Ge)&&(Ge=0),this._matrix=[W,fe,ye,Ee,Fe,Ge]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(R)},lt.prototype.multiply=function(R){var W=R.sx*this.sx+R.shy*this.shx,fe=R.sx*this.shy+R.shy*this.sy,ye=R.shx*this.sx+R.sy*this.shx,Ee=R.shx*this.shy+R.sy*this.sy,Fe=R.tx*this.sx+R.ty*this.shx+this.tx,Ge=R.tx*this.shy+R.ty*this.sy+this.ty;return new lt(W,fe,ye,Ee,Fe,Ge)},lt.prototype.decompose=function(){var R=this.sx,W=this.shy,fe=this.shx,ye=this.sy,Ee=this.tx,Fe=this.ty,Ge=Math.sqrt(R*R+W*W),vt=(R/=Ge)*fe+(W/=Ge)*ye;fe-=R*vt,ye-=W*vt;var jt=Math.sqrt(fe*fe+ye*ye);return vt/=jt,R*(ye/=jt)<W*(fe/=jt)&&(R=-R,W=-W,vt=-vt,Ge=-Ge),{scale:new lt(Ge,0,0,jt,0,0),translate:new lt(1,0,0,1,Ee,Fe),rotate:new lt(R,W,-W,R,0,0),skew:new lt(1,0,vt,1,0,0)}},lt.prototype.toString=function(R){return this.join(" ")},lt.prototype.inversed=function(){var R=this.sx,W=this.shy,fe=this.shx,ye=this.sy,Ee=this.tx,Fe=this.ty,Ge=1/(R*ye-W*fe),vt=ye*Ge,jt=-W*Ge,Ut=-fe*Ge,Rt=R*Ge;return new lt(vt,jt,Ut,Rt,-vt*Ee-Ut*Fe,-jt*Ee-Rt*Fe)},lt.prototype.applyToPoint=function(R){var W=R.x*this.sx+R.y*this.shx+this.tx,fe=R.x*this.shy+R.y*this.sy+this.ty;return new Bs(W,fe)},lt.prototype.applyToRectangle=function(R){var W=this.applyToPoint(R),fe=this.applyToPoint(new Bs(R.x+R.w,R.y+R.h));return new vd(W.x,W.y,fe.x-W.x,fe.y-W.y)},lt.prototype.clone=function(){var R=this.sx,W=this.shy,fe=this.shx,ye=this.sy,Ee=this.tx,Fe=this.ty;return new lt(R,W,fe,ye,Ee,Fe)},f.Matrix=lt;var Qn=f.matrixMult=function(R,W){return W.multiply(R)},Rn=new lt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Rn;var $r=function(R,W){if(!Qt[R]){var fe=(W instanceof lp?"Sh":"P")+(Object.keys(gt).length+1).toString(10);W.id=fe,Qt[R]=fe,gt[fe]=W,mt.publish("addPattern",W)}};f.ShadingPattern=lp,f.TilingPattern=kg,f.addShadingPattern=function(R,W){return I("addShadingPattern()"),$r(R,W),this},f.beginTilingPattern=function(R){I("beginTilingPattern()"),Kl(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},f.endTilingPattern=function(R,W){I("endTilingPattern()"),W.stream=X[V].join(`
`),$r(R,W),mt.publish("endTilingPattern",W),dr.pop().restore()};var cn,en=f.__private__.newObject=function(){var R=fn();return Et(R,!0),R},fn=f.__private__.newObjectDeferred=function(){return J++,ie[J]=function(){return he},J},Et=function(R,W){return W=typeof W=="boolean"&&W,ie[R]=he,W&&ee(R+" 0 obj"),R},nr=f.__private__.newAdditionalObject=function(){var R={objId:fn(),content:""};return T.push(R),R},jr=fn(),wr=fn(),un=f.__private__.decodeColorString=function(R){var W=R.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length!==5||W[4]!=="k"&&W[4]!=="K"||(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var fe=parseFloat(W[0]);W=[fe,fe,fe,"r"]}for(var ye="#",Ee=0;Ee<3;Ee++)ye+=("0"+Math.floor(255*parseFloat(W[Ee])).toString(16)).slice(-2);return ye},dn=f.__private__.encodeColorString=function(R){var W;typeof R=="string"&&(R={ch1:R});var fe=R.ch1,ye=R.ch2,Ee=R.ch3,Fe=R.ch4,Ge=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var vt=new Dre(fe);if(vt.ok)fe=vt.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var jt=parseInt(fe.substr(1),16);fe=jt>>16&255,ye=jt>>8&255,Ee=255&jt}if(ye===void 0||Fe===void 0&&fe===ye&&ye===Ee)W=typeof fe=="string"?fe+" "+Ge[0]:R.precision===2?k(fe/255)+" "+Ge[0]:O(fe/255)+" "+Ge[0];else if(Fe===void 0||an(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",Ge[1]].join(" ");W=typeof fe=="string"?[fe,ye,Ee,Ge[1]].join(" "):R.precision===2?[k(fe/255),k(ye/255),k(Ee/255),Ge[1]].join(" "):[O(fe/255),O(ye/255),O(Ee/255),Ge[1]].join(" ")}else W=typeof fe=="string"?[fe,ye,Ee,Fe,Ge[2]].join(" "):R.precision===2?[k(fe),k(ye),k(Ee),k(Fe),Ge[2]].join(" "):[O(fe),O(ye),O(Ee),O(Fe),Ge[2]].join(" ");return W},Dn=f.__private__.getFilters=function(){return s},pn=f.__private__.putStream=function(R){var W=(R=R||{}).data||"",fe=R.filters||Dn(),ye=R.alreadyAppliedFilters||[],Ee=R.addLength1||!1,Fe=W.length,Ge=R.objectId,vt=function($){return $};if(d!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(vt=mn.encryptor(Ge,0));var jt={};fe===!0&&(fe=["FlateEncode"]);var Ut=R.additionalKeyValues||[],Rt=(jt=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(W,fe):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(jt.data.length!==0&&(Ut.push({key:"Length",value:jt.data.length}),Ee===!0&&Ut.push({key:"Length1",value:Fe})),Rt.length!=0)if(Rt.split("/").length-1==1)Ut.push({key:"Filter",value:Rt});else{Ut.push({key:"Filter",value:"["+Rt+"]"});for(var Ir=0;Ir<Ut.length;Ir+=1)if(Ut[Ir].key==="DecodeParms"){for(var An=[],gn=0;gn<jt.reverseChain.split("/").length-1;gn+=1)An.push("null");An.push(Ut[Ir].value),Ut[Ir].value="["+An.join(" ")+"]"}}ee("<<");for(var w=0;w<Ut.length;w++)ee("/"+Ut[w].key+" "+Ut[w].value);ee(">>"),jt.data.length!==0&&(ee("stream"),ee(vt(jt.data)),ee("endstream"))},Fr=f.__private__.putPage=function(R){var W=R.number,fe=R.data,ye=R.objId,Ee=R.contentsObjId;Et(ye,!0),ee("<</Type /Page"),ee("/Parent "+R.rootDictionaryObjId+" 0 R"),ee("/Resources "+R.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(E(R.mediaBox.bottomLeftX))+" "+parseFloat(E(R.mediaBox.bottomLeftY))+" "+E(R.mediaBox.topRightX)+" "+E(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&ee("/CropBox ["+E(R.cropBox.bottomLeftX)+" "+E(R.cropBox.bottomLeftY)+" "+E(R.cropBox.topRightX)+" "+E(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&ee("/BleedBox ["+E(R.bleedBox.bottomLeftX)+" "+E(R.bleedBox.bottomLeftY)+" "+E(R.bleedBox.topRightX)+" "+E(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&ee("/TrimBox ["+E(R.trimBox.bottomLeftX)+" "+E(R.trimBox.bottomLeftY)+" "+E(R.trimBox.topRightX)+" "+E(R.trimBox.topRightY)+"]"),R.artBox!==null&&ee("/ArtBox ["+E(R.artBox.bottomLeftX)+" "+E(R.artBox.bottomLeftY)+" "+E(R.artBox.topRightX)+" "+E(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&ee("/UserUnit "+R.userUnit),mt.publish("putPage",{objId:ye,pageContext:Ze[W],pageNumber:W,page:fe}),ee("/Contents "+Ee+" 0 R"),ee(">>"),ee("endobj");var Fe=fe.join(`
`);return S===_&&(Fe+=`
Q`),Et(Ee,!0),pn({data:Fe,filters:Dn(),objectId:Ee}),ee("endobj"),ye},Wn=f.__private__.putPages=function(){var R,W,fe=[];for(R=1;R<=it;R++)Ze[R].objId=fn(),Ze[R].contentsObjId=fn();for(R=1;R<=it;R++)fe.push(Fr({number:R,data:X[R],objId:Ze[R].objId,contentsObjId:Ze[R].contentsObjId,mediaBox:Ze[R].mediaBox,cropBox:Ze[R].cropBox,bleedBox:Ze[R].bleedBox,trimBox:Ze[R].trimBox,artBox:Ze[R].artBox,userUnit:Ze[R].userUnit,rootDictionaryObjId:jr,resourceDictionaryObjId:wr}));Et(jr,!0),ee("<</Type /Pages");var ye="/Kids [";for(W=0;W<it;W++)ye+=fe[W]+" 0 R ";ee(ye+"]"),ee("/Count "+it),ee(">>"),ee("endobj"),mt.publish("postPutPages")},yo=function(R){mt.publish("putFont",{font:R,out:ee,newObject:en,putStream:pn}),R.isAlreadyPutted!==!0&&(R.objectNumber=en(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+ug(R.postScriptName)),ee("/Subtype /Type1"),typeof R.encoding=="string"&&ee("/Encoding /"+R.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Vc=function(R){R.objectNumber=en();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[E(R.x),E(R.y),E(R.x+R.width),E(R.y+R.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var fe=R.pages[1].join(`
`);pn({data:fe,additionalKeyValues:W,objectId:R.objectNumber}),ee("endobj")},Ul=function(R,W){W||(W=21);var fe=en(),ye=function(Ge,vt){var jt,Ut=[],Rt=1/(vt-1);for(jt=0;jt<1;jt+=Rt)Ut.push(jt);if(Ut.push(1),Ge[0].offset!=0){var Ir={offset:0,color:Ge[0].color};Ge.unshift(Ir)}if(Ge[Ge.length-1].offset!=1){var An={offset:1,color:Ge[Ge.length-1].color};Ge.push(An)}for(var gn="",w=0,$=0;$<Ut.length;$++){for(jt=Ut[$];jt>Ge[w+1].offset;)w++;var U=Ge[w].offset,se=(jt-U)/(Ge[w+1].offset-U),Te=Ge[w].color,Re=Ge[w+1].color;gn+=oe(Math.round((1-se)*Te[0]+se*Re[0]).toString(16))+oe(Math.round((1-se)*Te[1]+se*Re[1]).toString(16))+oe(Math.round((1-se)*Te[2]+se*Re[2]).toString(16))}return gn.trim()}(R.colors,W),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+W+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pn({data:ye,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),ee("endobj"),R.objectNumber=en(),ee("<< /ShadingType "+R.type),ee("/ColorSpace /DeviceRGB");var Fe="/Coords ["+E(parseFloat(R.coords[0]))+" "+E(parseFloat(R.coords[1]))+" ";R.type===2?Fe+=E(parseFloat(R.coords[2]))+" "+E(parseFloat(R.coords[3])):Fe+=E(parseFloat(R.coords[2]))+" "+E(parseFloat(R.coords[3]))+" "+E(parseFloat(R.coords[4]))+" "+E(parseFloat(R.coords[5])),ee(Fe+="]"),R.matrix&&ee("/Matrix ["+R.matrix.toString()+"]"),ee("/Function "+fe+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},bo=function(R,W){var fe=fn(),ye=en();W.push({resourcesOid:fe,objectOid:ye}),R.objectNumber=ye;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+R.boundingBox.map(E).join(" ")+"]"}),Ee.push({key:"XStep",value:E(R.xStep)}),Ee.push({key:"YStep",value:E(R.yStep)}),Ee.push({key:"Resources",value:fe+" 0 R"}),R.matrix&&Ee.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),pn({data:R.stream,additionalKeyValues:Ee,objectId:R.objectNumber}),ee("endobj")},tl=function(R){for(var W in R.objectNumber=en(),ee("<<"),R)switch(W){case"opacity":ee("/ca "+k(R[W]));break;case"stroke-opacity":ee("/CA "+k(R[W]))}ee(">>"),ee("endobj")},zc=function(R){Et(R.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var W in ee("/Font <<"),dt)dt.hasOwnProperty(W)&&(h===!1||h===!0&&p.hasOwnProperty(W))&&ee("/"+W+" "+dt[W].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(gt).length>0){for(var W in ee("/Shading <<"),gt)gt.hasOwnProperty(W)&&gt[W]instanceof lp&&gt[W].objectNumber>=0&&ee("/"+W+" "+gt[W].objectNumber+" 0 R");mt.publish("putShadingPatternDict"),ee(">>")}}(),function(W){if(Object.keys(gt).length>0){for(var fe in ee("/Pattern <<"),gt)gt.hasOwnProperty(fe)&&gt[fe]instanceof f.TilingPattern&&gt[fe].objectNumber>=0&&gt[fe].objectNumber<W&&ee("/"+fe+" "+gt[fe].objectNumber+" 0 R");mt.publish("putTilingPatternDict"),ee(">>")}}(R.objectOid),function(){if(Object.keys(Ae).length>0){var W;for(W in ee("/ExtGState <<"),Ae)Ae.hasOwnProperty(W)&&Ae[W].objectNumber>=0&&ee("/"+W+" "+Ae[W].objectNumber+" 0 R");mt.publish("putGStateDict"),ee(">>")}}(),function(){for(var W in ee("/XObject <<"),ft)ft.hasOwnProperty(W)&&ft[W].objectNumber>=0&&ee("/"+W+" "+ft[W].objectNumber+" 0 R");mt.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},Pm=function(R){Oe[R.fontName]=Oe[R.fontName]||{},Oe[R.fontName][R.fontStyle]=R.id},Tf=function(R,W,fe,ye,Ee){var Fe={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:R,fontName:W,fontStyle:fe,encoding:ye,isStandardFont:Ee||!1,metadata:{}};return mt.publish("addFont",{font:Fe,instance:this}),dt[Fe.id]=Fe,Pm(Fe),Fe.id},Ua=f.__private__.pdfEscape=f.pdfEscape=function(R,W){return function(fe,ye){var Ee,Fe,Ge,vt,jt,Ut,Rt,Ir,An;if(Ge=(ye=ye||{}).sourceEncoding||"Unicode",jt=ye.outputEncoding,(ye.autoencode||jt)&&dt[St].metadata&&dt[St].metadata[Ge]&&dt[St].metadata[Ge].encoding&&(vt=dt[St].metadata[Ge].encoding,!jt&&dt[St].encoding&&(jt=dt[St].encoding),!jt&&vt.codePages&&(jt=vt.codePages[0]),typeof jt=="string"&&(jt=vt[jt]),jt)){for(Rt=!1,Ut=[],Ee=0,Fe=fe.length;Ee<Fe;Ee++)(Ir=jt[fe.charCodeAt(Ee)])?Ut.push(String.fromCharCode(Ir)):Ut.push(fe[Ee]),Ut[Ee].charCodeAt(0)>>8&&(Rt=!0);fe=Ut.join("")}for(Ee=fe.length;Rt===void 0&&Ee!==0;)fe.charCodeAt(Ee-1)>>8&&(Rt=!0),Ee--;if(!Rt)return fe;for(Ut=ye.noBOM?[]:[254,255],Ee=0,Fe=fe.length;Ee<Fe;Ee++){if((An=(Ir=fe.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ut.push(An),Ut.push(Ir-(An<<8))}return String.fromCharCode.apply(void 0,Ut)}(R,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ld=f.__private__.beginPage=function(R){X[++it]=[],Ze[it]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Cf(it),ge(X[V])},cd=function(R,W){var fe,ye,Ee;switch(r=W||r,typeof R=="string"&&(fe=y(R.toLowerCase()),Array.isArray(fe)&&(ye=fe[0],Ee=fe[1])),Array.isArray(R)&&(ye=R[0]*kt,Ee=R[1]*kt),isNaN(ye)&&(ye=i[0],Ee=i[1]),(ye>14400||Ee>14400)&&(xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Ee=Math.min(14400,Ee)),i=[ye,Ee],r.substr(0,1)){case"l":Ee>ye&&(i=[Ee,ye]);break;case"p":ye>Ee&&(i=[Ee,ye])}ld(i),Rf(ps),ee(pd),ms!==0&&ee(ms+" J"),gd!==0&&ee(gd+" j"),mt.publish("addPage",{pageNumber:it})},qc=function(R){R>0&&R<=it&&(X.splice(R,1),Ze.splice(R,1),it--,V>it&&(V=it),this.setPage(V))},Cf=function(R){R>0&&R<=it&&(V=R)},kf=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return X.length-1},If=function(R,W,fe){var ye,Ee=void 0;return fe=fe||{},R=R!==void 0?R:dt[St].fontName,W=W!==void 0?W:dt[St].fontStyle,ye=R.toLowerCase(),Oe[ye]!==void 0&&Oe[ye][W]!==void 0?Ee=Oe[ye][W]:Oe[R]!==void 0&&Oe[R][W]!==void 0?Ee=Oe[R][W]:fe.disableWarning===!1&&xn.warn("Unable to look up font label for font '"+R+"', '"+W+"'. Refer to getFontList() for available fonts."),Ee||fe.noFallback||(Ee=Oe.times[W])==null&&(Ee=Oe.times.normal),Ee},ud=f.__private__.putInfo=function(){var R=en(),W=function(ye){return ye};for(var fe in d!==null&&(W=mn.encryptor(R,0)),ee("<<"),ee("/Producer ("+Ua(W("jsPDF "+Mt.version))+")"),Nt)Nt.hasOwnProperty(fe)&&Nt[fe]&&ee("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Ua(W(Nt[fe]))+")");ee("/CreationDate ("+Ua(W(re))+")"),ee(">>"),ee("endobj")},xo=f.__private__.putCatalog=function(R){var W=(R=R||{}).rootDictionaryObjId||jr;switch(en(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+W+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+Pe;fe.substr(fe.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+k(Pe)+"]")}switch(At||(At="continuous"),At){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Je&&ee("/PageMode /"+Je),mt.publish("putCatalog"),ee(">>"),ee("endobj")},Gr=f.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(J+1)),ee("/Root "+J+" 0 R"),ee("/Info "+(J-1)+" 0 R"),d!==null&&ee("/Encrypt "+mn.oid+" 0 R"),ee("/ID [ <"+Y+"> <"+Y+"> ]"),ee(">>")},Vl=f.__private__.putHeader=function(){ee("%PDF-"+v),ee("%ºß¬à")},zl=f.__private__.putXRef=function(){var R="0000000000";ee("xref"),ee("0 "+(J+1)),ee("0000000000 65535 f ");for(var W=1;W<=J;W++)typeof ie[W]=="function"?ee((R+ie[W]()).slice(-10)+" 00000 n "):ie[W]!==void 0?ee((R+ie[W]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},$s=f.__private__.buildDocument=function(){var R;J=0,he=0,be=[],ie=[],T=[],jr=fn(),wr=fn(),ge(be),mt.publish("buildDocument"),Vl(),Wn(),function(){mt.publish("putAdditionalObjects");for(var fe=0;fe<T.length;fe++){var ye=T[fe];Et(ye.objId,!0),ee(ye.content),ee("endobj")}mt.publish("postPutAdditionalObjects")}(),R=[],function(){for(var fe in dt)dt.hasOwnProperty(fe)&&(h===!1||h===!0&&p.hasOwnProperty(fe))&&yo(dt[fe])}(),function(){var fe;for(fe in Ae)Ae.hasOwnProperty(fe)&&tl(Ae[fe])}(),function(){for(var fe in ft)ft.hasOwnProperty(fe)&&Vc(ft[fe])}(),function(fe){var ye;for(ye in gt)gt.hasOwnProperty(ye)&&(gt[ye]instanceof lp?Ul(gt[ye]):gt[ye]instanceof kg&&bo(gt[ye],fe))}(R),mt.publish("putResources"),R.forEach(zc),zc({resourcesOid:wr,objectOid:Number.MAX_SAFE_INTEGER}),mt.publish("postPutResources"),d!==null&&(mn.oid=en(),ee("<<"),ee("/Filter /Standard"),ee("/V "+mn.v),ee("/R "+mn.r),ee("/U <"+mn.toHexString(mn.U)+">"),ee("/O <"+mn.toHexString(mn.O)+">"),ee("/P "+mn.P),ee(">>"),ee("endobj")),ud(),xo();var W=he;return zl(),Gr(),ee("startxref"),ee(""+W),ee("%%EOF"),ge(X[V]),be.join(`
`)},Br=f.__private__.getBlob=function(R){return new Blob([De(R)],{type:"application/pdf"})},ya=f.output=f.__private__.output=(cn=function(R,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",R){case void 0:return $s();case"save":f.save(W.filename);break;case"arraybuffer":return De($s());case"blob":return Br($s());case"bloburi":case"bloburl":if(er.URL!==void 0&&typeof er.URL.createObjectURL=="function")return er.URL&&er.URL.createObjectURL(Br($s()))||void 0;xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",ye=$s();try{fe=_U(ye)}catch{fe=_U(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+W.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(er)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Ee=W.pdfObjectUrl,Fe="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",vt=er.open();return vt!==null&&vt.document.write(Ge),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(er)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',Ut=er.open();if(Ut!==null){Ut.document.write(jt);var Rt=this;Ut.document.documentElement.querySelector("#pdfViewer").onload=function(){Ut.document.title=W.filename,Ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rt.output("bloburl"))}}return Ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(er)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',An=er.open();if(An!==null&&(An.document.write(Ir),An.document.title=W.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return er.document.location.href=this.output("datauristring",W);default:return null}},cn.foo=function(){try{return cn.apply(this,arguments)}catch(fe){var R=fe.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var W="Error in function "+R.split(`
`)[0].split("<")[0]+": "+fe.message;if(!er.console)throw new Error(W);er.console.error(W,fe),er.alert&&alert(W)}},cn.foo.bar=cn,cn.foo),Fs=function(R){return Array.isArray(ot)===!0&&ot.indexOf(R)>-1};switch(n){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=Fs("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);kt=n}var mn=null;ce(),q();var Of=f.__private__.getPageInfo=f.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ze[R].objId,pageNumber:R,pageContext:Ze[R]}},Tm=f.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in Ze)if(Ze[W].objId===R)break;return Of(W)},t0=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ze[V].objId,pageNumber:V,pageContext:Ze[V]}};f.addPage=function(){return cd.apply(this,arguments),this},f.setPage=function(){return Cf.apply(this,arguments),ge.call(this,X[V]),this},f.insertPage=function(R){return this.addPage(),this.movePage(V,R),this},f.movePage=function(R,W){var fe,ye;if(R>W){fe=X[R],ye=Ze[R];for(var Ee=R;Ee>W;Ee--)X[Ee]=X[Ee-1],Ze[Ee]=Ze[Ee-1];X[W]=fe,Ze[W]=ye,this.setPage(W)}else if(R<W){fe=X[R],ye=Ze[R];for(var Fe=R;Fe<W;Fe++)X[Fe]=X[Fe+1],Ze[Fe]=Ze[Fe+1];X[W]=fe,Ze[W]=ye,this.setPage(W)}return this},f.deletePage=function(){return qc.apply(this,arguments),this},f.__private__.text=f.text=function(R,W,fe,ye,Ee){var Fe,Ge,vt,jt,Ut,Rt,Ir,An,gn,w=(ye=ye||{}).scope||this;if(typeof R=="number"&&typeof W=="number"&&(typeof fe=="string"||Array.isArray(fe))){var $=fe;fe=W,W=R,R=$}if(arguments[3]instanceof lt==0?(vt=arguments[4],jt=arguments[5],an(Ir=arguments[3])==="object"&&Ir!==null||(typeof vt=="string"&&(jt=vt,vt=null),typeof Ir=="string"&&(jt=Ir,Ir=null),typeof Ir=="number"&&(vt=Ir,Ir=null),ye={flags:Ir,angle:vt,align:jt})):(I("The transform parameter of text() with a Matrix value"),gn=Ee),isNaN(W)||isNaN(fe)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return w;var U,se="",Te=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:Wc,Re=w.internal.scaleFactor;function tt(Yr){return Yr=Yr.split("	").join(Array(ye.TabLen||9).join(" ")),Ua(Yr,Ir)}function Zt(Yr){for(var yn,pi=Yr.concat(),Oi=[],eu=pi.length;eu--;)typeof(yn=pi.shift())=="string"?Oi.push(yn):Array.isArray(Yr)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?Oi.push(yn[0]):Oi.push([yn[0],yn[1],yn[2]]);return Oi}function vn(Yr,yn){var pi;if(typeof Yr=="string")pi=yn(Yr)[0];else if(Array.isArray(Yr)){for(var Oi,eu,h0=Yr.concat(),$m=[],pw=h0.length;pw--;)typeof(Oi=h0.shift())=="string"?$m.push(yn(Oi)[0]):Array.isArray(Oi)&&typeof Oi[0]=="string"&&(eu=yn(Oi[0],Oi[1],Oi[2]),$m.push([eu[0],eu[1],eu[2]]));pi=$m}return pi}var Sr=!1,Nn=!0;if(typeof R=="string")Sr=!0;else if(Array.isArray(R)){var Yi=R.concat();Ge=[];for(var qa,Ln=Yi.length;Ln--;)(typeof(qa=Yi.shift())!="string"||Array.isArray(qa)&&typeof qa[0]!="string")&&(Nn=!1);Sr=Nn}if(Sr===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var xa=_e/w.internal.scaleFactor,Ao=xa*(Te-1);switch(ye.baseline){case"bottom":fe-=Ao;break;case"top":fe+=xa-Ao;break;case"hanging":fe+=xa-2*Ao;break;case"middle":fe+=xa/2-Ao}if((Rt=ye.maxWidth||0)>0&&(typeof R=="string"?R=w.splitTextToSize(R,Rt):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(Yr,yn){return Yr.concat(w.splitTextToSize(yn,Rt))},[]))),Fe={text:R,x:W,y:fe,options:ye,mutex:{pdfEscape:Ua,activeFontKey:St,fonts:dt,activeFontSize:_e}},mt.publish("preProcessText",Fe),R=Fe.text,vt=(ye=Fe.options).angle,gn instanceof lt==0&&vt&&typeof vt=="number"){vt*=Math.PI/180,ye.rotationDirection===0&&(vt=-vt),S===_&&(vt=-vt);var Qc=Math.cos(vt),i0=Math.sin(vt);gn=new lt(Qc,i0,-i0,Qc,0,0)}else vt&&vt instanceof lt&&(gn=vt);S!==_||gn||(gn=Rn),(Ut=ye.charSpace||Kc)!==void 0&&(se+=E(L(Ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=ye.horizontalScale)!==void 0&&(se+=E(100*An)+` Tz
`),ye.lang;var si=-1,Jc=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,Lm=w.internal.getCurrentPageInfo().pageContext;switch(Jc){case 0:case!1:case"fill":si=0;break;case 1:case!0:case"stroke":si=1;break;case 2:case"fillThenStroke":si=2;break;case 3:case"invisible":si=3;break;case 4:case"fillAndAddForClipping":si=4;break;case 5:case"strokeAndAddPathForClipping":si=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":si=6;break;case 7:case"addToPathForClipping":si=7}var hw=Lm.usedRenderingMode!==void 0?Lm.usedRenderingMode:-1;si!==-1?se+=si+` Tr
`:hw!==-1&&(se+=`0 Tr
`),si!==-1&&(Lm.usedRenderingMode=si),jt=ye.align||"left";var No,Ff=_e*Te,a0=w.internal.pageSize.getWidth(),s0=dt[St];Ut=ye.charSpace||Kc,Rt=ye.maxWidth||0,Ir=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var bd=[],Bf=function(Yr){return w.getStringUnitWidth(Yr,{font:s0,charSpace:Ut,fontSize:_e,doKerning:!1})*_e/Re};if(Object.prototype.toString.call(R)==="[object Array]"){var Us;Ge=Zt(R),jt!=="left"&&(No=Ge.map(Bf));var Vs,xd=0;if(jt==="right"){W-=No[0],R=[],Ln=Ge.length;for(var Zc=0;Zc<Ln;Zc++)Zc===0?(Vs=Va(W),Us=_o(fe)):(Vs=L(xd-No[Zc]),Us=-Ff),R.push([Ge[Zc],Vs,Us]),xd=No[Zc]}else if(jt==="center"){W-=No[0]/2,R=[],Ln=Ge.length;for(var wd=0;wd<Ln;wd++)wd===0?(Vs=Va(W),Us=_o(fe)):(Vs=L((xd-No[wd])/2),Us=-Ff),R.push([Ge[wd],Vs,Us]),xd=No[wd]}else if(jt==="left"){R=[],Ln=Ge.length;for(var o0=0;o0<Ln;o0++)R.push(Ge[o0])}else if(jt==="justify"&&s0.encoding==="Identity-H"){R=[],Ln=Ge.length,Rt=Rt!==0?Rt:a0;for(var Mm=0,fi=0;fi<Ln;fi++)if(Us=fi===0?_o(fe):-Ff,Vs=fi===0?Va(W):Mm,fi<Ln-1){var fw=L((Rt-No[fi])/(Ge[fi].split(" ").length-1)),Xl=Ge[fi].split(" ");R.push([Xl[0]+" ",Vs,Us]),Mm=0;for(var Ql=1;Ql<Xl.length;Ql++){var l0=(Bf(Xl[Ql-1]+" "+Xl[Ql])-Bf(Xl[Ql]))*Re+fw;Ql==Xl.length-1?R.push([Xl[Ql],l0,0]):R.push([Xl[Ql]+" ",l0,0]),Mm-=l0}}else R.push([Ge[fi],Vs,Us]);R.push(["",Mm,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Ln=Ge.length,Rt=Rt!==0?Rt:a0,fi=0;fi<Ln;fi++){Us=fi===0?_o(fe):-Ff,Vs=fi===0?Va(W):0;var c0=Ge[fi].split(" ").length-1,u0=c0>0?(Rt-No[fi])/c0:0;fi<Ln-1?bd.push(E(L(u0))):bd.push(0),R.push([Ge[fi],Vs,Us])}}}(typeof ye.R2L=="boolean"?ye.R2L:Me)===!0&&(R=vn(R,function(Yr,yn,pi){return[Yr.split("").reverse().join(""),yn,pi]})),Fe={text:R,x:W,y:fe,options:ye,mutex:{pdfEscape:Ua,activeFontKey:St,fonts:dt,activeFontSize:_e}},mt.publish("postProcessText",Fe),R=Fe.text,U=Fe.mutex.isHex||!1;var d0=dt[St].encoding;d0!=="WinAnsiEncoding"&&d0!=="StandardEncoding"||(R=vn(R,function(Yr,yn,pi){return[tt(Yr),yn,pi]})),Ge=Zt(R),R=[];for(var _d,Sd,Ad,Uf=Array.isArray(Ge[0])?1:0,Nd="",Vf=function(Yr,yn,pi){var Oi="";return pi instanceof lt?(pi=typeof ye.angle=="number"?Qn(pi,new lt(1,0,0,1,Yr,yn)):Qn(new lt(1,0,0,1,Yr,yn),pi),S===_&&(pi=Qn(new lt(1,0,0,-1,0,0),pi)),Oi=pi.join(" ")+` Tm
`):Oi=E(Yr)+" "+E(yn)+` Td
`,Oi},Eo=0;Eo<Ge.length;Eo++){switch(Nd="",Uf){case 1:Ad=(U?"<":"(")+Ge[Eo][0]+(U?">":")"),_d=parseFloat(Ge[Eo][1]),Sd=parseFloat(Ge[Eo][2]);break;case 0:Ad=(U?"<":"(")+Ge[Eo]+(U?">":")"),_d=Va(W),Sd=_o(fe)}bd!==void 0&&bd[Eo]!==void 0&&(Nd=bd[Eo]+` Tw
`),Eo===0?R.push(Nd+Vf(_d,Sd,gn)+Ad):Uf===0?R.push(Nd+Ad):Uf===1&&R.push(Nd+Vf(_d,Sd,gn)+Ad)}R=Uf===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Jl=`BT
/`;return Jl+=St+" "+_e+` Tf
`,Jl+=E(_e*Te)+` TL
`,Jl+=Hl+`
`,Jl+=se,Jl+=R,ee(Jl+="ET"),p[St]=!0,w};var r0=f.__private__.clip=f.clip=function(R){return ee(R==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return r0("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ee("n"),this};var wo=f.__private__.isValidStyle=function(R){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(W=!0),W};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(R){return wo(R)&&(u=R),this};var Cm=f.__private__.getStyle=f.getStyle=function(R){var W=u;switch(R){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=R}return W},ql=f.close=function(){return ee("h"),this};f.stroke=function(){return ee("S"),this},f.fill=function(R){return ba("f",R),this},f.fillEvenOdd=function(R){return ba("f*",R),this},f.fillStroke=function(R){return ba("B",R),this},f.fillStrokeEvenOdd=function(R){return ba("B*",R),this};var ba=function(R,W){an(W)==="object"?Im(W,R):ee(R)},dd=function(R){R===null||S===_&&R===void 0||(R=Cm(R),ee(R))};function km(R,W,fe,ye,Ee){var Fe=new kg(W||this.boundingBox,fe||this.xStep,ye||this.yStep,this.gState,Ee||this.matrix);Fe.stream=this.stream;var Ge=R+"$$"+this.cloneIndex+++"$$";return $r(Ge,Fe),Fe}var Im=function(R,W){var fe=Qt[R.key],ye=gt[fe];if(ye instanceof lp)ee("q"),ee(Om(W)),ye.gState&&f.setGState(ye.gState),ee(R.matrix.toString()+" cm"),ee("/"+fe+" sh"),ee("Q");else if(ye instanceof kg){var Ee=new lt(1,0,0,-1,0,rl());R.matrix&&(Ee=Ee.multiply(R.matrix||Rn),fe=km.call(ye,R.key,R.boundingBox,R.xStep,R.yStep,Ee).id),ee("q"),ee("/Pattern cs"),ee("/"+fe+" scn"),ye.gState&&f.setGState(ye.gState),ee(W),ee("Q")}},Om=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},hd=f.moveTo=function(R,W){return ee(E(L(R))+" "+E(z(W))+" m"),this},fs=f.lineTo=function(R,W){return ee(E(L(R))+" "+E(z(W))+" l"),this},Wl=f.curveTo=function(R,W,fe,ye,Ee,Fe){return ee([E(L(R)),E(z(W)),E(L(fe)),E(z(ye)),E(L(Ee)),E(z(Fe)),"c"].join(" ")),this};f.__private__.line=f.line=function(R,W,fe,ye,Ee){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||!wo(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return S===x?this.lines([[fe-R,ye-W]],R,W,[1,1],Ee||"S"):this.lines([[fe-R,ye-W]],R,W,[1,1]).stroke()},f.__private__.lines=f.lines=function(R,W,fe,ye,Ee,Fe){var Ge,vt,jt,Ut,Rt,Ir,An,gn,w,$,U,se;if(typeof R=="number"&&(se=fe,fe=W,W=R,R=se),ye=ye||[1,1],Fe=Fe||!1,isNaN(W)||isNaN(fe)||!Array.isArray(R)||!Array.isArray(ye)||!wo(Ee)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hd(W,fe),Ge=ye[0],vt=ye[1],Ut=R.length,$=W,U=fe,jt=0;jt<Ut;jt++)(Rt=R[jt]).length===2?($=Rt[0]*Ge+$,U=Rt[1]*vt+U,fs($,U)):(Ir=Rt[0]*Ge+$,An=Rt[1]*vt+U,gn=Rt[2]*Ge+$,w=Rt[3]*vt+U,$=Rt[4]*Ge+$,U=Rt[5]*vt+U,Wl(Ir,An,gn,w,$,U));return Fe&&ql(),dd(Ee),this},f.path=function(R){for(var W=0;W<R.length;W++){var fe=R[W],ye=fe.c;switch(fe.op){case"m":hd(ye[0],ye[1]);break;case"l":fs(ye[0],ye[1]);break;case"c":Wl.apply(this,ye);break;case"h":ql()}}return this},f.__private__.rect=f.rect=function(R,W,fe,ye,Ee){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||!wo(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x&&(ye=-ye),ee([E(L(R)),E(z(W)),E(L(fe)),E(L(ye)),"re"].join(" ")),dd(Ee),this},f.__private__.triangle=f.triangle=function(R,W,fe,ye,Ee,Fe,Ge){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||isNaN(Ee)||isNaN(Fe)||!wo(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-R,ye-W],[Ee-fe,Fe-ye],[R-Ee,W-Fe]],R,W,[1,1],Ge,!0),this},f.__private__.roundedRect=f.roundedRect=function(R,W,fe,ye,Ee,Fe,Ge){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||isNaN(Ee)||isNaN(Fe)||!wo(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*fe),Fe=Math.min(Fe,.5*ye),this.lines([[fe-2*Ee,0],[Ee*vt,0,Ee,Fe-Fe*vt,Ee,Fe],[0,ye-2*Fe],[0,Fe*vt,-Ee*vt,Fe,-Ee,Fe],[2*Ee-fe,0],[-Ee*vt,0,-Ee,-Fe*vt,-Ee,-Fe],[0,2*Fe-ye],[0,-Fe*vt,Ee*vt,-Fe,Ee,-Fe]],R+Ee,W,[1,1],Ge,!0),this},f.__private__.ellipse=f.ellipse=function(R,W,fe,ye,Ee){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||!wo(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*fe,Ge=4/3*(Math.SQRT2-1)*ye;return hd(R+fe,W),Wl(R+fe,W-Ge,R+Fe,W-ye,R,W-ye),Wl(R-Fe,W-ye,R-fe,W-Ge,R-fe,W),Wl(R-fe,W+Ge,R-Fe,W+ye,R,W+ye),Wl(R+Fe,W+ye,R+fe,W+Ge,R+fe,W),dd(Ee),this},f.__private__.circle=f.circle=function(R,W,fe,ye){if(isNaN(R)||isNaN(W)||isNaN(fe)||!wo(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,W,fe,fe,ye)},f.setFont=function(R,W,fe){return fe&&(W=j(W,fe)),St=If(R,W,{disableWarning:!1}),this};var n0=f.__private__.getFont=f.getFont=function(){return dt[If.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var R,W,fe={};for(R in Oe)if(Oe.hasOwnProperty(R))for(W in fe[R]=[],Oe[R])Oe[R].hasOwnProperty(W)&&fe[R].push(W);return fe},f.addFont=function(R,W,fe,ye,Ee){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(fe=j(fe,ye)),Tf.call(this,R,W,fe,Ee=Ee||"Identity-H")};var Wc,ps=t.lineWidth||.200025,Jt=f.__private__.getLineWidth=f.getLineWidth=function(){return ps},Rf=f.__private__.setLineWidth=f.setLineWidth=function(R){return ps=R,ee(E(L(R))+" w"),this};f.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(R,W){if(R=R||[],W=W||0,isNaN(W)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(fe){return E(L(fe))}).join(" "),W=E(L(W)),ee("["+R+"] "+W+" d"),this};var fd=f.__private__.getLineHeight=f.getLineHeight=function(){return _e*Wc};f.__private__.getLineHeight=f.getLineHeight=function(){return _e*Wc};var Rm=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Wc=R),this},Hc=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Wc};Rm(t.lineHeight);var Va=f.__private__.getHorizontalCoordinate=function(R){return L(R)},_o=f.__private__.getVerticalCoordinate=function(R){return S===_?R:Ze[V].mediaBox.topRightY-Ze[V].mediaBox.bottomLeftY-L(R)},Df=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(R){return E(Va(R))},Sn=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(R){return E(_o(R))},pd=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return un(pd)},f.__private__.setStrokeColor=f.setDrawColor=function(R,W,fe,ye){return pd=dn({ch1:R,ch2:W,ch3:fe,ch4:ye,pdfColorType:"draw",precision:2}),ee(pd),this};var Lf=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return un(Lf)},f.__private__.setFillColor=f.setFillColor=function(R,W,fe,ye){return Lf=dn({ch1:R,ch2:W,ch3:fe,ch4:ye,pdfColorType:"fill",precision:2}),ee(Lf),this};var Hl=t.textColor||"0 g",Gc=f.__private__.getTextColor=f.getTextColor=function(){return un(Hl)};f.__private__.setTextColor=f.setTextColor=function(R,W,fe,ye){return Hl=dn({ch1:R,ch2:W,ch3:fe,ch4:ye,pdfColorType:"text",precision:3}),this};var Kc=t.charSpace,md=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Kc||0)};f.__private__.setCharSpace=f.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Kc=R,this};var ms=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(R){var W=f.CapJoinStyles[R];if(W===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ms=W,ee(W+" J"),this};var gd=0;f.__private__.setLineJoin=f.setLineJoin=function(R){var W=f.CapJoinStyles[R];if(W===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gd=W,ee(W+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(E(L(R))+" M"),this},f.GState=$5,f.setGState=function(R){(R=typeof R=="string"?Ae[nt[R]]:Yc(null,R)).equals(tr)||(ee("/"+R.id+" gs"),tr=R)};var Yc=function(R,W){if(!R||!nt[R]){var fe=!1;for(var ye in Ae)if(Ae.hasOwnProperty(ye)&&Ae[ye].equals(W)){fe=!0;break}if(fe)W=Ae[ye];else{var Ee="GS"+(Object.keys(Ae).length+1).toString(10);Ae[Ee]=W,W.id=Ee}return R&&(nt[R]=W.id),mt.publish("addGState",W),W}};f.addGState=function(R,W){return Yc(R,W),this},f.saveGraphicsState=function(){return ee("q"),Ot.push({key:St,size:_e,color:Hl}),this},f.restoreGraphicsState=function(){ee("Q");var R=Ot.pop();return St=R.key,_e=R.size,Hl=R.color,tr=null,this},f.setCurrentTransformationMatrix=function(R){return ee(R.toString()+" cm"),this},f.comment=function(R){return ee("#"+R),this};var Bs=function(R,W){var fe=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Fe){isNaN(Fe)||(fe=parseFloat(Fe))}});var ye=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Fe){isNaN(Fe)||(ye=parseFloat(Fe))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Fe){Ee=Fe.toString()}}),this},vd=function(R,W,fe,ye){Bs.call(this,R,W),this.type="rect";var Ee=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Ge){isNaN(Ge)||(Ee=parseFloat(Ge))}});var Fe=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Ge){isNaN(Ge)||(Fe=parseFloat(Ge))}}),this},Gl=function(){this.page=it,this.currentPage=V,this.pages=X.slice(0),this.pagesContext=Ze.slice(0),this.x=ct,this.y=Kt,this.matrix=zt,this.width=Xc(V),this.height=So(V),this.outputDestination=de,this.id="",this.objectNumber=-1};Gl.prototype.restore=function(){it=this.page,V=this.currentPage,Ze=this.pagesContext,X=this.pages,ct=this.x,Kt=this.y,zt=this.matrix,Dm(V,this.width),za(V,this.height),de=this.outputDestination};var Kl=function(R,W,fe,ye,Ee){dr.push(new Gl),it=V=0,X=[],ct=R,Kt=W,zt=Ee,ld([fe,ye])};for(var Yl in f.beginFormObject=function(R,W,fe,ye,Ee){return Kl(R,W,fe,ye,Ee),this},f.endFormObject=function(R){return function(W){if(ur[W])dr.pop().restore();else{var fe=new Gl,ye="Xo"+(Object.keys(ft).length+1).toString(10);fe.id=ye,ur[W]=ye,ft[ye]=fe,mt.publish("addFormObject",fe),dr.pop().restore()}}(R),this},f.doFormObject=function(R,W){var fe=ft[ur[R]];return ee("q"),ee(W.toString()+" cm"),ee("/"+fe.id+" Do"),ee("Q"),this},f.getFormObject=function(R){var W=ft[ur[R]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},f.save=function(R,W){return R=R||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(ip(Br($s()),R),typeof ip.unload=="function"&&er.setTimeout&&setTimeout(ip.unload,911),this):new Promise(function(fe,ye){try{var Ee=ip(Br($s()),R);typeof ip.unload=="function"&&er.setTimeout&&setTimeout(ip.unload,911),fe(Ee)}catch(Fe){ye(Fe.message)}})},Mt.API)Mt.API.hasOwnProperty(Yl)&&(Yl==="events"&&Mt.API.events.length?function(R,W){var fe,ye,Ee;for(Ee=W.length-1;Ee!==-1;Ee--)fe=W[Ee][0],ye=W[Ee][1],R.subscribe.apply(R,[fe].concat(typeof ye=="function"?[ye]:ye))}(mt,Mt.API.events):f[Yl]=Mt.API[Yl]);function Xc(R){return Ze[R].mediaBox.topRightX-Ze[R].mediaBox.bottomLeftX}function Dm(R,W){Ze[R].mediaBox.topRightX=W+Ze[R].mediaBox.bottomLeftX}function So(R){return Ze[R].mediaBox.topRightY-Ze[R].mediaBox.bottomLeftY}function za(R,W){Ze[R].mediaBox.topRightY=W+Ze[R].mediaBox.bottomLeftY}var Mf=f.getPageWidth=function(R){return Xc(R=R||V)/kt},$f=f.setPageWidth=function(R,W){Dm(R,W*kt)},rl=f.getPageHeight=function(R){return So(R=R||V)/kt},yd=f.setPageHeight=function(R,W){za(R,W*kt)};return f.internal={pdfEscape:Ua,getStyle:Cm,getFont:n0,getFontSize:je,getCharSpace:md,getTextColor:Gc,getLineHeight:fd,getLineHeightFactor:Hc,getLineWidth:Jt,write:Ne,getHorizontalCoordinate:Va,getVerticalCoordinate:_o,getCoordinateString:Df,getVerticalCoordinateString:Sn,collections:{},newObject:en,newAdditionalObject:nr,newObjectDeferred:fn,newObjectDeferredBegin:Et,getFilters:Dn,putStream:pn,events:mt,scaleFactor:kt,pageSize:{getWidth:function(){return Mf(V)},setWidth:function(R){$f(V,R)},getHeight:function(){return rl(V)},setHeight:function(R){yd(V,R)}},encryptionOptions:d,encryption:mn,getEncryptor:function(R){return d!==null?mn.encryptor(R,0):function(W){return W}},output:ya,getNumberOfPages:kf,pages:X,out:ee,f2:k,f3:O,getPageInfo:Of,getPageInfoByObjId:Tm,getCurrentPageInfo:t0,getPDFVersion:m,Point:Bs,Rectangle:vd,Matrix:lt,hasHotfix:Fs},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Mf(V)},set:function(R){$f(V,R)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return rl(V)},set:function(R){yd(V,R)},enumerable:!0,configurable:!0}),(function(R){for(var W=0,fe=Le.length;W<fe;W++){var ye=Tf.call(this,R[W][0],R[W][1],R[W][2],Le[W][3],!0);h===!1&&(p[ye]=!0);var Ee=R[W][0].split("-");Pm({id:ye,fontName:Ee[0],fontStyle:Ee[1]||""})}mt.publish("addFonts",{fonts:dt,dictionary:Oe})}).call(f,Le),St="F1",cd(i,r),mt.publish("initialized"),f}cg.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},cg.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cg.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},cg.prototype.processOwnerPassword=function(t,e){return K4(G4(e).substr(0,5),t)},cg.prototype.encryptor=function(t,e){var r=G4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return K4(r,n)}},$5.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||an(t)!==an(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Mt.API={events:[]},Mt.version="3.0.3";var ui=Mt.API,wD=1,jm=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ar=function(t){return t.toFixed(2)},Fd=function(t){return t.toFixed(5)};ui.__acroform__={};var Ms=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},EU=function(t){return t*wD},rc=function(t){var e=new Fre,r=wt.internal.getHeight(t)||0,n=wt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ar(n)),Number(ar(r))],e},uQe=ui.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},dQe=ui.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},hQe=ui.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},bi=ui.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hQe(t,e-1)},xi=ui.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uQe(t,e-1)},wi=ui.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dQe(t,e-1)},fQe=ui.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(ar(l.lowerLeft_X)),Number(ar(l.lowerLeft_Y)),Number(ar(l.upperRight_X)),Number(ar(l.upperRight_Y))]},pQe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Y4(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ar(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=rc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},Y4=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=r,s=wt.internal.getHeight(t)||0;s=s<0?-s:s;var o=wt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(k,O,L){if(k+1<i.length){var z=O+" "+i[k+1][0];return L2(z,t,L).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,h=L2("3",t,a).height,p=t.multiline?s-a:(s-h)/2,f=p+=2,v=0,m=0,g=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+L2(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",x=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var S=!1;if(i[_].length!==1&&g!==i[_].length-1){if((h+2)*(x+2)+2>s)continue e;y+=i[_][g],S=!0,m=_,_--}else{y=(y+=i[_][g]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(_),C=l(N,y,a),j=_>=i.length-1;if(C&&!j){y+=" ",g=0;continue}if(C||j){if(j)m=N;else if(t.multiline&&(h+2)*(x+2)+2>s)continue e}else{if(!t.multiline||(h+2)*(x+2)+2>s)continue e;m=N}}for(var E="",I=v;I<=m;I++){var D=i[I];if(t.multiline){if(I===m){E+=D[g]+" ",g=(g+1)%D.length;continue}if(I===v){E+=D[D.length-1]+" ";continue}}E+=D[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=L2(E,t,a).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=ar(u)+" "+ar(f)+` Td
`,e+="("+jm(E)+`) Tj
`,e+=-ar(u)+` 0 Td
`,f=-(a+2),d=0,v=S?m:m+1,x++,y=""}break}return n.text=e,n.fontSize=a,n},L2=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},mQe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gQe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},vQe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(mQe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");wD=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Bre,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&gQe(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=fQe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=wt.createDefaultAppearanceStream(o),an(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=pQe(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var f=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var v=f[s];typeof v=="function"&&(v=v.call(i,o)),h+="/"+s+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(i,o)),h+="/"+s+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(m,g){for(var y in m)if(m.hasOwnProperty(y)){var x=y,_=m[y];g.internal.newObjectDeferredBegin(_.objId,!0),an(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete m[x]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},$re=ui.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),an(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+jm(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},MP=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+jm(n(t))+")"},vc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vc.prototype.toString=function(){return this.objId+" 0 R"},vc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},vc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:$re(i,this.objId,this.scope)}):i instanceof vc?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var Fre=function(){vc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ms(Fre,vc);var Bre=function(){vc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+jm(r(t))+")"}},set:function(r){t=r}})};Ms(Bre,vc);var Fl=function t(){vc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bi(e,3)},set:function(y){y?this.F=xi(e,3):this.F=wi(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof F5)return;a="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+jm(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/wD:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof F5||this instanceof Mp))return MP(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ea==0?MP(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof ea==0?y.substr(0,1)==="("?tg(y.substr(1,y.length-2)):tg(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ea==1?tg(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof ea==1?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ea==0?MP(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof ea==0?y.substr(0,1)==="("?tg(y.substr(1,y.length-2)):tg(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ea==1?tg(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof ea==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,1)},set:function(y){y?this.Ff=xi(this.Ff,1):this.Ff=wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,2)},set:function(y){y?this.Ff=xi(this.Ff,2):this.Ff=wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,3)},set:function(y){y?this.Ff=xi(this.Ff,3):this.Ff=wi(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');g=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(g){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Ms(Fl,vc);var rv=function(){Fl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $re(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,18)},set:function(r){r?this.Ff=xi(this.Ff,18):this.Ff=wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=xi(this.Ff,19):this.Ff=wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,20)},set:function(r){r?(this.Ff=xi(this.Ff,20),e.sort()):this.Ff=wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,22)},set:function(r){r?this.Ff=xi(this.Ff,22):this.Ff=wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,23)},set:function(r){r?this.Ff=xi(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,27)},set:function(r){r?this.Ff=xi(this.Ff,27):this.Ff=wi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ms(rv,Fl);var nv=function(){rv.call(this),this.fontName="helvetica",this.combo=!1};Ms(nv,rv);var iv=function(){nv.call(this),this.combo=!0};Ms(iv,nv);var __=function(){iv.call(this),this.edit=!0};Ms(__,iv);var ea=function(){Fl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,15)},set:function(r){r?this.Ff=xi(this.Ff,15):this.Ff=wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,16)},set:function(r){r?this.Ff=xi(this.Ff,16):this.Ff=wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,17)},set:function(r){r?this.Ff=xi(this.Ff,17):this.Ff=wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,26)},set:function(r){r?this.Ff=xi(this.Ff,26):this.Ff=wi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+jm(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){an(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ms(ea,Fl);var S_=function(){ea.call(this),this.pushButton=!0};Ms(S_,ea);var av=function(){ea.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ms(av,ea);var F5=function(){var t,e;Fl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+jm(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){an(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ms(F5,Fl),av.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},av.prototype.createOption=function(t){var e=new F5;return e.Parent=this,e.optionName=t,this.Kids.push(e),yQe.call(this.scope,e),e};var A_=function(){ea.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};Ms(A_,ea);var Mp=function(){Fl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,13)},set:function(e){e?this.Ff=xi(this.Ff,13):this.Ff=wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,21)},set:function(e){e?this.Ff=xi(this.Ff,21):this.Ff=wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,23)},set:function(e){e?this.Ff=xi(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,24)},set:function(e){e?this.Ff=xi(this.Ff,24):this.Ff=wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,25)},set:function(e){e?this.Ff=xi(this.Ff,25):this.Ff=wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,26)},set:function(e){e?this.Ff=xi(this.Ff,26):this.Ff=wi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ms(Mp,Fl);var N_=function(){Mp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,14)},set:function(t){t?this.Ff=xi(this.Ff,14):this.Ff=wi(this.Ff,14)}}),this.password=!0};Ms(N_,Mp);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=Y4(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ar(wt.internal.getWidth(t))+" "+ar(wt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ar(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=rc(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=wt.internal.getHeight(t),s=wt.internal.getWidth(t),o=Y4(t,t.caption);return i.push("1 g"),i.push("0 0 "+ar(s)+" "+ar(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ar(s-1)+" "+ar(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ar(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ar(wt.internal.getWidth(t))+" "+ar(wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=wt.RadioButton.Circle.YesNormal,e.D[t]=wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=wt.internal.getWidth(t)<=wt.internal.getHeight(t)?wt.internal.getWidth(t)/4:wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=wt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Fd(wt.internal.getWidth(t)/2)+" "+Fd(wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=wt.internal.getWidth(t)<=wt.internal.getHeight(t)?wt.internal.getWidth(t)/4:wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*wt.internal.Bezier_C).toFixed(5)),s=Number((n*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Fd(wt.internal.getWidth(t)/2)+" "+Fd(wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Fd(wt.internal.getWidth(t)/2)+" "+Fd(wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=wt.internal.getWidth(t)<=wt.internal.getHeight(t)?wt.internal.getWidth(t)/4:wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Fd(wt.internal.getWidth(t)/2)+" "+Fd(wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=wt.RadioButton.Cross.YesNormal,e.D[t]=wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=wt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ar(wt.internal.getWidth(t)-2)+" "+ar(wt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ar(n.x1.x)+" "+ar(n.x1.y)+" m"),r.push(ar(n.x2.x)+" "+ar(n.x2.y)+" l"),r.push(ar(n.x4.x)+" "+ar(n.x4.y)+" m"),r.push(ar(n.x3.x)+" "+ar(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=wt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ar(wt.internal.getWidth(t))+" "+ar(wt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ar(wt.internal.getWidth(t)-2)+" "+ar(wt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ar(r.x1.x)+" "+ar(r.x1.y)+" m"),n.push(ar(r.x2.x)+" "+ar(r.x2.y)+" l"),n.push(ar(r.x4.x)+" "+ar(r.x4.y)+" m"),n.push(ar(r.x3.x)+" "+ar(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ar(wt.internal.getWidth(t))+" "+ar(wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};wt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=wt.internal.getWidth(t),r=wt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},wt.internal.getWidth=function(t){var e=0;return an(t)==="object"&&(e=EU(t.Rect[2])),e},wt.internal.getHeight=function(t){var e=0;return an(t)==="object"&&(e=EU(t.Rect[3])),e};var yQe=ui.addField=function(t){if(vQe(this,t),!(t instanceof Fl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ui.AcroFormChoiceField=rv,ui.AcroFormListBox=nv,ui.AcroFormComboBox=iv,ui.AcroFormEditBox=__,ui.AcroFormButton=ea,ui.AcroFormPushButton=S_,ui.AcroFormRadioButton=av,ui.AcroFormCheckBox=A_,ui.AcroFormTextField=Mp,ui.AcroFormPasswordField=N_,ui.AcroFormAppearance=wt,ui.AcroForm={ChoiceField:rv,ListBox:nv,ComboBox:iv,EditBox:__,Button:ea,PushButton:S_,RadioButton:av,CheckBox:A_,TextField:Mp,PasswordField:N_,Appearance:wt},Mt.AcroForm={ChoiceField:rv,ListBox:nv,ComboBox:iv,EditBox:__,Button:ea,PushButton:S_,RadioButton:av,CheckBox:A_,TextField:Mp,PasswordField:N_,Appearance:wt};function Ure(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(k,O){var L,z,re,Y,K,q=r;if((O=O||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(C(k))for(K in n)for(re=n[K],L=0;L<re.length;L+=1){for(Y=!0,z=0;z<re[L].length;z+=1)if(re[L][z]!==void 0&&re[L][z]!==k[z]){Y=!1;break}if(Y===!0){q=K;break}}else for(K in n)for(re=n[K],L=0;L<re.length;L+=1){for(Y=!0,z=0;z<re[L].length;z+=1)if(re[L][z]!==void 0&&re[L][z]!==k.charCodeAt(z)){Y=!1;break}if(Y===!0){q=K;break}}return q===r&&O!==r&&(q=O),q},a=function k(O){for(var L=this.internal.write,z=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:O.width}),Y.push({key:"Height",value:O.height}),O.colorSpace===y.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===y.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var K="",q=0,Z=O.transparency.length;q<Z;q++)K+=O.transparency[q]+" "+O.transparency[q]+" ";Y.push({key:"Mask",value:"["+K+"]"})}O.sMask!==void 0&&Y.push({key:"SMask",value:O.objectId+1+" 0 R"});var ve=O.filter!==void 0?["/"+O.filter]:void 0;if(z({data:O.data,additionalKeyValues:Y,alreadyAppliedFilters:ve,objectId:O.objectId}),L("endobj"),"sMask"in O&&O.sMask!==void 0){var ce,F=(ce=O.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:O.bitsPerComponent,V={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:O.sMask};"filter"in O&&(V.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(O.width),V.filter=O.filter),k.call(this,V)}if(O.colorSpace===y.INDEXED){var G=this.internal.newObject();z({data:E(new Uint8Array(O.palette)),objectId:G}),L("endobj")}},s=function(){var k=this.internal.collections[e+"images"];for(var O in k)a.call(this,k[O])},o=function(){var k,O=this.internal.collections[e+"images"],L=this.internal.write;for(var z in O)L("/I"+(k=O[z]).index,k.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var k=this.internal.collections[e+"images"];return l.call(this),k},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(k){return typeof t["process"+k.toUpperCase()]=="function"},p=function(k){return an(k)==="object"&&k.nodeType===1},f=function(k,O){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var L=""+k.getAttribute("src");if(L.indexOf("data:image/")===0)return w_(unescape(L).split("base64,").pop());var z=t.loadFile(L,!0);if(z!==void 0)return z}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var re;switch(O){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return w_(k.toDataURL(re,1).split("base64,").pop())}},v=function(k){var O=this.internal.collections[e+"images"];if(O){for(var L in O)if(k===O[L].alias)return O[L]}},m=function(k,O,L){return k||O||(k=-96,O=-96),k<0&&(k=-1*L.width*72/k/this.internal.scaleFactor),O<0&&(O=-1*L.height*72/O/this.internal.scaleFactor),k===0&&(k=O*L.width/L.height),O===0&&(O=k*L.height/L.width),[k,O]},g=function(k,O,L,z,re,Y){var K=m.call(this,L,z,re),q=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ve=u.call(this);if(L=K[0],z=K[1],ve[re.index]=re,Y){Y*=Math.PI/180;var ce=Math.cos(Y),F=Math.sin(Y),V=function(oe){return oe.toFixed(4)},G=[V(ce),V(F),V(-1*F),V(ce),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,q(k),Z(O+z),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([q(L),"0","0",q(z),"0","0","cm"].join(" "))):this.internal.write([q(L),"0","0",q(z),q(k),Z(O+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(k){var O,L,z=0;if(typeof k=="string")for(L=k.length,O=0;O<L;O++)z=(z<<5)-z+k.charCodeAt(O),z|=0;else if(C(k))for(L=k.byteLength/2,O=0;O<L;O++)z=(z<<5)-z+k[O],z|=0;return z},S=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var O=!0;return k.length===0&&(O=!1),k.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(O=!1),O},N=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var O=k.indexOf(",");return O<0?null:k.substring(0,O).trim().endsWith("base64")?k.substring(O+1):null};t.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},j=t.__addimage__.binaryStringToUint8Array=function(k){for(var O=k.length,L=new Uint8Array(O),z=0;z<O;z++)L[z]=k.charCodeAt(z);return L},E=t.__addimage__.arrayBufferToBinaryString=function(k){for(var O="",L=C(k)?k:new Uint8Array(k),z=0;z<L.length;z+=8192)O+=String.fromCharCode.apply(null,L.subarray(z,z+8192));return O};t.addImage=function(){var k,O,L,z,re,Y,K,q,Z;if(typeof arguments[1]=="number"?(O=r,L=arguments[1],z=arguments[2],re=arguments[3],Y=arguments[4],K=arguments[5],q=arguments[6],Z=arguments[7]):(O=arguments[1],L=arguments[2],z=arguments[3],re=arguments[4],Y=arguments[5],K=arguments[6],q=arguments[7],Z=arguments[8]),an(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var ve=k;k=ve.imageData,O=ve.format||O||r,L=ve.x||L||0,z=ve.y||z||0,re=ve.w||ve.width||re,Y=ve.h||ve.height||Y,K=ve.alias||K,q=ve.compression||q,Z=ve.rotation||ve.angle||Z}var ce=this.internal.getFilters();if(q===void 0&&ce.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(L)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=I.call(this,k,O,K,q);return g.call(this,L,z,re,Y,F,Z),this};var I=function(k,O,L,z){var re,Y,K;if(typeof k=="string"&&i(k)===r){k=unescape(k);var q=D(k,!1);(q!==""||(q=t.loadFile(k,!0))!==void 0)&&(k=q)}if(p(k)&&(k=f(k,O)),O=i(k,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((K=L)==null||K.length===0)&&(L=function(Z){return typeof Z=="string"||C(Z)?_(Z):C(Z.data)?_(Z.data):null}(k)),(re=v.call(this,L))||(k instanceof Uint8Array||O==="RGBA"||(Y=k,k=j(k)),re=this["process"+O.toUpperCase()](k,d.call(this),L,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:x.NONE}(z),Y)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},D=t.__addimage__.convertBase64ToBinaryString=function(k,O){O=typeof O!="boolean"||O;var L,z="";if(typeof k=="string"){var re;L=(re=N(k))!==null&&re!==void 0?re:k;try{z=w_(L)}catch(Y){if(O)throw S(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(k){var O,L,z="";if(p(k)&&(k=f(k)),typeof k=="string"&&i(k)===r&&((z=D(k,!1))===""&&(z=t.loadFile(k)||""),k=z),L=i(k),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(k instanceof Uint8Array||(k=j(k)),!(O=this["process"+L.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=L,O}})(Mt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Mt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),x=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(y(n.contents))+")",a+=" /Popup "+g.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(y(x))+") >>",m.content=a;var _=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",g.content=a,this.internal.write(m.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(v(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var C=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=l,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Mt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(m){var g=0,y=r,x="",_=0;for(g=0;g<m.length;g+=1)y[m.charCodeAt(g)]!==void 0?(_++,typeof(y=y[m.charCodeAt(g)])=="number"&&(x+=String.fromCharCode(y),y=r,_=0),g===m.length-1&&(y=r,x+=m.charAt(g-(_-1)),g-=_-1,_=0)):(y=r,x+=m.charAt(g-_),g-=_,_=0);return x};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,g,y){return s(m)?a(m)===!1?-1:!u(m)||!s(g)&&!s(y)||!s(y)&&o(g)||o(m)&&!s(g)||o(m)&&l(g)||o(m)&&o(g)?0:d(m)&&s(g)&&!o(g)&&s(y)&&u(y)?3:o(m)||!s(y)?1:2:-1},f=function(m){var g=0,y=0,x=0,_="",S="",N="",C=(m=m||"").split("\\s+"),j=[];for(g=0;g<C.length;g+=1){for(j.push(""),y=0;y<C[g].length;y+=1)_=C[g][y],S=C[g][y-1],N=C[g][y+1],s(_)?(x=p(_,S,N),j[g]+=x!==-1?String.fromCharCode(e[_.charCodeAt(0)][x]):_):j[g]+=_;j[g]=h(j[g])}return j.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var m,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(g)){var x=0;for(y=[],x=0;x<g.length;x+=1)Array.isArray(g[x])?y.push([f(g[x][0]),g[x][1],g[x][2]]):y.push([f(g[x])]);m=y}else m=f(g);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",v])}(Mt.API),Mt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Mt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,v=0,m=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,S){return _.concat(g.splitTextToSize(S,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)f<(m=this.getStringUnitWidth(l[x],{font:h})*d)&&(f=m);return f!==0&&(v=l.length),{w:f/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,h,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,v,m,g,y=[],x=[],_=[],S={},N={},C=[],j=[],E=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},e),O=typeof p.padding=="number"?p.padding:3,L=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=z,this.setFontSize(D),h==null)x=y=Object.keys(d[0]),_=y.map(function(){return"left"});else if(Array.isArray(h)&&an(h[0])==="object")for(y=h.map(function(ve){return ve.name}),x=h.map(function(ve){return ve.prompt||ve.name||""}),_=h.map(function(ve){return ve.align||"left"}),f=0;f<h.length;f+=1)N[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(x=y=h,_=y.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<y.length;f+=1){for(S[g=y[f]]=d.map(function(ve){return ve[g]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=S[g],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)C.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[g]=Math.max.apply(null,C)+O+O,C=[]}if(I){var re={};for(f=0;f<y.length;f+=1)re[y[f]]={},re[y[f]].text=x[f],re[y[f]].align=_[f];var Y=o.call(this,re,N);j=y.map(function(ve){return new a(l,u,N[ve],Y,re[ve].text,void 0,re[ve].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var K=h.reduce(function(ve,ce){return ve[ce.name]=ce.align,ve},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var q=o.call(this,d[f],N);for(m=0;m<y.length;m+=1){var Z=d[f][y[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:m,data:Z},this),s.call(this,new a(l,u,N[y[m]],q,Z,f+2,K[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var v=l[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,v){return Math.max(f,v)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Mt.API);var Vre={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zre=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X4=Ure(zre),qre=[100,200,300,400,500,600,700,800,900],bQe=Ure(qre);function $P(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return Vre[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof X4[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function jU(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var xQe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},PU={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function TU(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function CU(t){return t.trimLeft()}function wQe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function _Qe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var M2,kU,IU,rg,$2,OU,RU,DU,FP=["times"];function LU(t,e,r,n,i){var a=4,s=$U;switch(i){case Mt.API.image_compression.FAST:a=1,s=MU;break;case Mt.API.image_compression.MEDIUM:a=6,s=FU;break;case Mt.API.image_compression.SLOW:a=9,s=BU}t=function(l,u,d,h){for(var p,f=l.length/u,v=new Uint8Array(l.length+f),m=[SQe,MU,$U,FU,BU],g=0;g<f;g+=1){var y=g*u,x=l.subarray(y,y+u);if(h)v.set(h(x,d,p),y+g);else{for(var _=m.length,S=[],N=0;N<_;N+=1)S[N]=m[N](x,d,p);var C=NQe(S.concat());v.set(S[C],y+g)}p=x}return v}(t,e,Math.ceil(r*n/8),s);var o=M4(t,{level:a});return Mt.API.__addimage__.arrayBufferToBinaryString(o)}function SQe(t){var e=Array.apply([],t);return e.unshift(0),e}function MU(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function $U(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function FU(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=r&&r[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function BU(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=AQe(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function AQe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function NQe(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function BP(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return Wre(t,i)>>a&s}function UU(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var p=h>>8&255;u.setUint8(d,p)}})(t,a,Wre(t,a)&~(o<<s)&65535|l)}function Wre(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function EQe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var u=!0,d=[],h=0,p=null,f=0,v=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),f=m>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,S=t[e++],N=S>>6&1,C=1<<1+(7&S),j=o,E=l,I=!1;S>>7&&(I=!0,j=e,E=C,e+=3*C);var D=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}d.push({x:g,y,width:x,height:_,has_local_palette:I,palette_offset:j,palette_size:E,data_offset:D,data_length:e-D,transparent_index:p,interlaced:!!N,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,L){var z=this.frameInfo(O),re=z.width*z.height,Y=new Uint8Array(re);VU(t,z.data_offset,Y,re);var K=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var Z=z.width,ve=r-Z,ce=Z,F=4*(z.y*r+z.x),V=4*((z.y+z.height)*r+z.x),G=F,oe=4*ve;z.interlaced===!0&&(oe+=4*r*7);for(var J=8,ie=0,be=Y.length;ie<be;++ie){var he=Y[ie];if(ce===0&&(ce=Z,(G+=oe)>=V&&(oe=4*ve+4*r*(J-1),G=F+(Z+ve)*(J<<1),J>>=1)),he===q)G+=4;else{var T=t[K+3*he],X=t[K+3*he+1],ne=t[K+3*he+2];L[G++]=ne,L[G++]=X,L[G++]=T,L[G++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(O,L){var z=this.frameInfo(O),re=z.width*z.height,Y=new Uint8Array(re);VU(t,z.data_offset,Y,re);var K=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var Z=z.width,ve=r-Z,ce=Z,F=4*(z.y*r+z.x),V=4*((z.y+z.height)*r+z.x),G=F,oe=4*ve;z.interlaced===!0&&(oe+=4*r*7);for(var J=8,ie=0,be=Y.length;ie<be;++ie){var he=Y[ie];if(ce===0&&(ce=Z,(G+=oe)>=V&&(oe=4*ve+4*r*(J-1),G=F+(Z+ve)*(J<<1),J>>=1)),he===q)G+=4;else{var T=t[K+3*he],X=t[K+3*he+1],ne=t[K+3*he+2];L[G++]=T,L[G++]=X,L[G++]=ne,L[G++]=255}--ce}}}function VU(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,d=0,h=0,p=0,f=t[e++],v=new Int32Array(4096),m=null;;){for(;d<16&&f!==0;)h|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<l)break;var g=h&u;if(h>>=l,d-=l,g!==a){if(g===s)break;for(var y=g<o?g:m,x=0,_=y;_>a;)_=v[_]>>8,++x;var S=_;if(p+x+(y!==g?1:0)>n)return void xn.log("Warning, gif stream longer than expected.");r[p++]=S;var N=p+=x;for(y!==g&&(r[p++]=S),_=y;x--;)_=v[_],r[--N]=255&_,_>>=8;m!==null&&o<4096&&(v[o++]=m<<8|S,o>=u+1&&l<12&&(++l,u=u<<1|1)),m=g}else o=s+1,u=(1<<(l=i+1))-1,m=null}return p!==n&&xn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function UP(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),v=new Array(64),m=[],g=0,y=7,x=new Array(64),_=new Array(64),S=new Array(64),N=new Array(256),C=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(F,V){for(var G=0,oe=0,J=new Array,ie=1;ie<=16;ie++){for(var be=1;be<=F[ie];be++)J[V[oe]]=[],J[V[oe]][0]=G,J[V[oe]][1]=ie,oe++,G++;G*=2}return J}function K(F){for(var V=F[0],G=F[1]-1;G>=0;)V&1<<G&&(g|=1<<y),G--,--y<0&&(g==255?(q(255),q(0)):q(g),y=7,g=0)}function q(F){m.push(F)}function Z(F){q(F>>8&255),q(255&F)}function ve(F,V,G,oe,J){for(var ie,be=J[0],he=J[240],T=function(_e,Pe){var je,Me,Je,Gt,At,ut,Lt,Nt,St,kt,ct=0;for(St=0;St<8;++St){je=_e[ct],Me=_e[ct+1],Je=_e[ct+2],Gt=_e[ct+3],At=_e[ct+4],ut=_e[ct+5],Lt=_e[ct+6];var Kt=je+(Nt=_e[ct+7]),zt=je-Nt,dt=Me+Lt,Oe=Me-Lt,Ot=Je+ut,gt=Je-ut,Qt=Gt+At,Ae=Gt-At,nt=Kt+Qt,tr=Kt-Qt,it=dt+Ot,Ze=dt-Ot;_e[ct]=nt+it,_e[ct+4]=nt-it;var mt=.707106781*(Ze+tr);_e[ct+2]=tr+mt,_e[ct+6]=tr-mt;var ot=.382683433*((nt=Ae+gt)-(Ze=Oe+zt)),ft=.5411961*nt+ot,ur=1.306562965*Ze+ot,dr=.707106781*(it=gt+Oe),lt=zt+dr,Qn=zt-dr;_e[ct+5]=Qn+ft,_e[ct+3]=Qn-ft,_e[ct+1]=lt+ur,_e[ct+7]=lt-ur,ct+=8}for(ct=0,St=0;St<8;++St){je=_e[ct],Me=_e[ct+8],Je=_e[ct+16],Gt=_e[ct+24],At=_e[ct+32],ut=_e[ct+40],Lt=_e[ct+48];var Rn=je+(Nt=_e[ct+56]),$r=je-Nt,cn=Me+Lt,en=Me-Lt,fn=Je+ut,Et=Je-ut,nr=Gt+At,jr=Gt-At,wr=Rn+nr,un=Rn-nr,dn=cn+fn,Dn=cn-fn;_e[ct]=wr+dn,_e[ct+32]=wr-dn;var pn=.707106781*(Dn+un);_e[ct+16]=un+pn,_e[ct+48]=un-pn;var Fr=.382683433*((wr=jr+Et)-(Dn=en+$r)),Wn=.5411961*wr+Fr,yo=1.306562965*Dn+Fr,Vc=.707106781*(dn=Et+en),Ul=$r+Vc,bo=$r-Vc;_e[ct+40]=bo+Wn,_e[ct+24]=bo-Wn,_e[ct+8]=Ul+yo,_e[ct+56]=Ul-yo,ct++}for(St=0;St<64;++St)kt=_e[St]*Pe[St],f[St]=kt>0?kt+.5|0:kt-.5|0;return f}(F,V),X=0;X<64;++X)v[j[X]]=T[X];var ne=v[0]-G;G=v[0],ne==0?K(oe[0]):(K(oe[p[ie=32767+ne]]),K(h[ie]));for(var de=63;de>0&&v[de]==0;)de--;if(de==0)return K(be),G;for(var ge,ee=1;ee<=de;){for(var Ne=ee;v[ee]==0&&ee<=de;)++ee;var De=ee-Ne;if(De>=16){ge=De>>4;for(var Le=1;Le<=ge;++Le)K(he);De&=15}ie=32767+v[ee],K(J[(De<<4)+p[ie]]),K(h[ie]),ee++}return de!=63&&K(be),G}function ce(F){F=Math.min(Math.max(F,1),100),a!=F&&(function(V){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var J=s((G[oe]*V+50)/100);J=Math.min(Math.max(J,1),255),o[j[oe]]=J}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var he=s((ie[be]*V+50)/100);he=Math.min(Math.max(he,1),255),l[j[be]]=he}for(var T=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],X=0,ne=0;ne<8;ne++)for(var de=0;de<8;de++)u[X]=1/(o[j[X]]*T[ne]*T[de]*8),d[X]=1/(l[j[X]]*T[ne]*T[de]*8),X++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),a=F)}this.encode=function(F,V){V&&ce(V),m=new Array,g=0,y=7,Z(65496),Z(65504),Z(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),Z(1),Z(1),q(0),q(0),function(){Z(65499),Z(132),q(0);for(var Me=0;Me<64;Me++)q(o[Me]);q(1);for(var Je=0;Je<64;Je++)q(l[Je])}(),function(Me,Je){Z(65472),Z(17),q(8),Z(Je),Z(Me),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(F.width,F.height),function(){Z(65476),Z(418),q(0);for(var Me=0;Me<16;Me++)q(E[Me+1]);for(var Je=0;Je<=11;Je++)q(I[Je]);q(16);for(var Gt=0;Gt<16;Gt++)q(D[Gt+1]);for(var At=0;At<=161;At++)q(k[At]);q(1);for(var ut=0;ut<16;ut++)q(O[ut+1]);for(var Lt=0;Lt<=11;Lt++)q(L[Lt]);q(17);for(var Nt=0;Nt<16;Nt++)q(z[Nt+1]);for(var St=0;St<=161;St++)q(re[St])}(),Z(65498),Z(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var G=0,oe=0,J=0;g=0,y=7,this.encode.displayName="_encode_";for(var ie,be,he,T,X,ne,de,ge,ee,Ne=F.data,De=F.width,Le=F.height,_e=4*De,Pe=0;Pe<Le;){for(ie=0;ie<_e;){for(X=_e*Pe+ie,de=-1,ge=0,ee=0;ee<64;ee++)ne=X+(ge=ee>>3)*_e+(de=4*(7&ee)),Pe+ge>=Le&&(ne-=_e*(Pe+1+ge-Le)),ie+de>=_e&&(ne-=ie+de-_e+4),be=Ne[ne++],he=Ne[ne++],T=Ne[ne++],x[ee]=(C[be]+C[he+256|0]+C[T+512|0]>>16)-128,_[ee]=(C[be+768|0]+C[he+1024|0]+C[T+1280|0]>>16)-128,S[ee]=(C[be+1280|0]+C[he+1536|0]+C[T+1792|0]>>16)-128;G=ve(x,u,G,e,n),oe=ve(_,d,oe,r,i),J=ve(S,d,J,r,i),ie+=32}Pe+=8}if(y>=0){var je=[];je[1]=y+1,je[0]=(1<<y+1)-1,K(je)}return Z(65497),new Uint8Array(m)},t=t||50,function(){for(var F=String.fromCharCode,V=0;V<256;V++)N[V]=F(V)}(),e=Y(E,I),r=Y(O,L),n=Y(D,k),i=Y(z,re),function(){for(var F=1,V=2,G=1;G<=15;G++){for(var oe=F;oe<V;oe++)p[32767+oe]=G,h[32767+oe]=[],h[32767+oe][1]=G,h[32767+oe][0]=oe;for(var J=-(V-1);J<=-F;J++)p[32767+J]=G,h[32767+J]=[],h[32767+J][1]=G,h[32767+J][0]=V-1+J;F<<=1,V<<=1}}(),function(){for(var F=0;F<256;F++)C[F]=19595*F,C[F+256|0]=38470*F,C[F+512|0]=7471*F+32768,C[F+768|0]=-11059*F,C[F+1024|0]=-21709*F,C[F+1280|0]=32768*F+8421375,C[F+1536|0]=-27439*F,C[F+1792|0]=-5329*F}(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function cl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zU(t){function e(I){if(!I)throw Error("assert :P")}function r(I,D,k){for(var O=0;4>O;O++)if(I[D+O]!=k.charCodeAt(O))return!0;return!1}function n(I,D,k,O,L){for(var z=0;z<L;z++)I[D+z]=k[O+z]}function i(I,D,k,O){for(var L=0;L<O;L++)I[D+L]=k}function a(I){return new Int32Array(I)}function s(I,D){for(var k=[],O=0;O<I;O++)k.push(new D);return k}function o(I,D){var k=[];return function O(L,z,re){for(var Y=re[z],K=0;K<Y&&(L.push(re.length>z+1?[]:new D),!(re.length<z+1));K++)O(L[K],z+1,re)}(k,0,I),k}var l=function(){var I=this;function D(b,A){for(var M=1<<A-1>>>0;b&M;)M>>>=1;return M?(b&M-1)+M:b}function k(b,A,M,B,H){e(!(B%M));do b[A+(B-=M)]=H;while(0<B)}function O(b,A,M,B,H){if(e(2328>=H),512>=H)var Q=a(512);else if((Q=a(H))==null)return 0;return function(te,ae,le,pe,we,Ie){var me,Se,Ce=ae,$e=1<<le,ke=a(16),Ve=a(16);for(e(we!=0),e(pe!=null),e(te!=null),e(0<le),Se=0;Se<we;++Se){if(15<pe[Se])return 0;++ke[pe[Se]]}if(ke[0]==we)return 0;for(Ve[1]=0,me=1;15>me;++me){if(ke[me]>1<<me)return 0;Ve[me+1]=Ve[me]+ke[me]}for(Se=0;Se<we;++Se)me=pe[Se],0<pe[Se]&&(Ie[Ve[me]++]=Se);if(Ve[15]==1)return(pe=new L).g=0,pe.value=Ie[0],k(te,Ce,1,$e,pe),$e;var ze,Xe=-1,Ke=$e-1,Dt=0,xt=1,hr=1,Tt=1<<le;for(Se=0,me=1,we=2;me<=le;++me,we<<=1){if(xt+=hr<<=1,0>(hr-=ke[me]))return 0;for(;0<ke[me];--ke[me])(pe=new L).g=me,pe.value=Ie[Se++],k(te,Ce+Dt,we,Tt,pe),Dt=D(Dt,me)}for(me=le+1,we=2;15>=me;++me,we<<=1){if(xt+=hr<<=1,0>(hr-=ke[me]))return 0;for(;0<ke[me];--ke[me]){if(pe=new L,(Dt&Ke)!=Xe){for(Ce+=Tt,ze=1<<(Xe=me)-le;15>Xe&&!(0>=(ze-=ke[Xe]));)++Xe,ze<<=1;$e+=Tt=1<<(ze=Xe-le),te[ae+(Xe=Dt&Ke)].g=ze+le,te[ae+Xe].value=Ce-ae-Xe}pe.g=me-le,pe.value=Ie[Se++],k(te,Ce+(Dt>>le),we,Tt,pe),Dt=D(Dt,me)}}return xt!=2*Ve[15]-1?0:$e}(b,A,M,B,H,Q)}function L(){this.value=this.g=0}function z(){this.value=this.g=0}function re(){this.G=s(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Bf,z)}function Y(b,A,M,B){e(b!=null),e(A!=null),e(2147483648>B),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=A,b.pa=M,b.Jd=A,b.Yc=M+B,b.Zc=4<=B?M+B-4+1:M,be(b)}function K(b,A){for(var M=0;0<A--;)M|=T(b,128)<<A;return M}function q(b,A){var M=K(b,A);return he(b)?-M:M}function Z(b,A,M,B){var H,Q=0;for(e(b!=null),e(A!=null),e(4294967288>B),b.Sb=B,b.Ra=0,b.u=0,b.h=0,4<B&&(B=4),H=0;H<B;++H)Q+=A[M+H]<<8*H;b.Ra=Q,b.bb=B,b.oa=A,b.pa=M}function ve(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<xd-8>>>0,++b.bb,b.u-=8;oe(b)&&(b.h=1,b.u=0)}function ce(b,A){if(e(0<=A),!b.h&&A<=Vs){var M=G(b)&Us[A];return b.u+=A,ve(b),M}return b.h=1,b.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(b){return b.Ra>>>(b.u&xd-1)>>>0}function oe(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>xd}function J(b,A){b.u=A,b.h=oe(b)}function ie(b){b.u>=Zc&&(e(b.u>=Zc),ve(b))}function be(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function he(b){return K(b,1)}function T(b,A){var M=b.Ca;0>b.b&&be(b);var B=b.b,H=M*A>>>8,Q=(b.I>>>B>H)+0;for(Q?(M-=H,b.I-=H+1<<B>>>0):M=H+1,B=M,H=0;256<=B;)H+=8,B>>=8;return B=7^H+wd[B],b.b-=B,b.Ca=(M<<B)-1,Q}function X(b,A,M){b[A+0]=M>>24&255,b[A+1]=M>>16&255,b[A+2]=M>>8&255,b[A+3]=255&M}function ne(b,A){return b[A+0]|b[A+1]<<8}function de(b,A){return ne(b,A)|b[A+2]<<16}function ge(b,A){return ne(b,A)|ne(b,A+2)<<16}function ee(b,A){var M=1<<A;return e(b!=null),e(0<A),b.X=a(M),b.X==null?0:(b.Mb=32-A,b.Xa=A,1)}function Ne(b,A){e(b!=null),e(A!=null),e(b.Xa==A.Xa),n(A.X,0,b.X,0,1<<A.Xa)}function De(){this.X=[],this.Xa=this.Mb=0}function Le(b,A,M,B){e(M!=null),e(B!=null);var H=M[0],Q=B[0];return H==0&&(H=(b*Q+A/2)/A),Q==0&&(Q=(A*H+b/2)/b),0>=H||0>=Q?0:(M[0]=H,B[0]=Q,1)}function _e(b,A){return b+(1<<A)-1>>>A}function Pe(b,A){return((4278255360&b)+(4278255360&A)>>>0&4278255360)+((16711935&b)+(16711935&A)>>>0&16711935)>>>0}function je(b,A){I[A]=function(M,B,H,Q,te,ae,le){var pe;for(pe=0;pe<te;++pe){var we=I[b](ae[le+pe-1],H,Q+pe);ae[le+pe]=Pe(M[B+pe],we)}}}function Me(){this.ud=this.hd=this.jd=0}function Je(b,A){return((4278124286&(b^A))>>>1)+(b&A)>>>0}function Gt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function At(b,A){return Gt(b+(b-A+.5>>1))}function ut(b,A,M){return Math.abs(A-M)-Math.abs(b-M)}function Lt(b,A,M,B,H,Q,te){for(B=Q[te-1],M=0;M<H;++M)Q[te+M]=B=Pe(b[A+M],B)}function Nt(b,A,M,B,H){var Q;for(Q=0;Q<M;++Q){var te=b[A+Q],ae=te>>8&255,le=16711935&(le=(le=16711935&te)+((ae<<16)+ae));B[H+Q]=(4278255360&te)+le>>>0}}function St(b,A){A.jd=255&b,A.hd=b>>8&255,A.ud=b>>16&255}function kt(b,A,M,B,H,Q){var te;for(te=0;te<B;++te){var ae=A[M+te],le=ae>>>8,pe=ae,we=255&(we=(we=ae>>>16)+((b.jd<<24>>24)*(le<<24>>24)>>>5));pe=255&(pe=(pe+=(b.hd<<24>>24)*(le<<24>>24)>>>5)+((b.ud<<24>>24)*(we<<24>>24)>>>5)),H[Q+te]=(4278255360&ae)+(we<<16)+pe}}function ct(b,A,M,B,H){I[A]=function(Q,te,ae,le,pe,we,Ie,me,Se){for(le=Ie;le<me;++le)for(Ie=0;Ie<Se;++Ie)pe[we++]=H(ae[B(Q[te++])])},I[b]=function(Q,te,ae,le,pe,we,Ie){var me=8>>Q.b,Se=Q.Ea,Ce=Q.K[0],$e=Q.w;if(8>me)for(Q=(1<<Q.b)-1,$e=(1<<me)-1;te<ae;++te){var ke,Ve=0;for(ke=0;ke<Se;++ke)ke&Q||(Ve=B(le[pe++])),we[Ie++]=H(Ce[Ve&$e]),Ve>>=me}else I["VP8LMapColor"+M](le,pe,Ce,$e,we,Ie,te,ae,Se)}}function Kt(b,A,M,B,H){for(M=A+M;A<M;){var Q=b[A++];B[H++]=Q>>16&255,B[H++]=Q>>8&255,B[H++]=255&Q}}function zt(b,A,M,B,H){for(M=A+M;A<M;){var Q=b[A++];B[H++]=Q>>16&255,B[H++]=Q>>8&255,B[H++]=255&Q,B[H++]=Q>>24&255}}function dt(b,A,M,B,H){for(M=A+M;A<M;){var Q=(te=b[A++])>>16&240|te>>12&15,te=240&te|te>>28&15;B[H++]=Q,B[H++]=te}}function Oe(b,A,M,B,H){for(M=A+M;A<M;){var Q=(te=b[A++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;B[H++]=Q,B[H++]=te}}function Ot(b,A,M,B,H){for(M=A+M;A<M;){var Q=b[A++];B[H++]=255&Q,B[H++]=Q>>8&255,B[H++]=Q>>16&255}}function gt(b,A,M,B,H,Q){if(Q==0)for(M=A+M;A<M;)X(B,((Q=b[A++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),H+=32;else n(B,H,b,A,M)}function Qt(b,A){I[A][0]=I[b+"0"],I[A][1]=I[b+"1"],I[A][2]=I[b+"2"],I[A][3]=I[b+"3"],I[A][4]=I[b+"4"],I[A][5]=I[b+"5"],I[A][6]=I[b+"6"],I[A][7]=I[b+"7"],I[A][8]=I[b+"8"],I[A][9]=I[b+"9"],I[A][10]=I[b+"10"],I[A][11]=I[b+"11"],I[A][12]=I[b+"12"],I[A][13]=I[b+"13"],I[A][14]=I[b+"0"],I[A][15]=I[b+"0"]}function Ae(b){return b==lE||b==cE||b==xw||b==uE}function nt(){this.eb=[],this.size=this.A=this.fb=0}function tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function it(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nt,this.f.kb=new tr,this.sd=null}function Ze(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ot(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function ft(b,A){var M=b.T,B=A.ba.f.RGBA,H=B.eb,Q=B.fb+b.ka*B.A,te=Po[A.ba.S],ae=b.y,le=b.O,pe=b.f,we=b.N,Ie=b.ea,me=b.W,Se=A.cc,Ce=A.dc,$e=A.Mc,ke=A.Nc,Ve=b.ka,ze=b.ka+b.T,Xe=b.U,Ke=Xe+1>>1;for(Ve==0?te(ae,le,null,null,pe,we,Ie,me,pe,we,Ie,me,H,Q,null,null,Xe):(te(A.ec,A.fc,ae,le,Se,Ce,$e,ke,pe,we,Ie,me,H,Q-B.A,H,Q,Xe),++M);Ve+2<ze;Ve+=2)Se=pe,Ce=we,$e=Ie,ke=me,we+=b.Rc,me+=b.Rc,Q+=2*B.A,te(ae,(le+=2*b.fa)-b.fa,ae,le,Se,Ce,$e,ke,pe,we,Ie,me,H,Q-B.A,H,Q,Xe);return le+=b.fa,b.j+ze<b.o?(n(A.ec,A.fc,ae,le,Xe),n(A.cc,A.dc,pe,we,Ke),n(A.Mc,A.Nc,Ie,me,Ke),M--):1&ze||te(ae,le,null,null,pe,we,Ie,me,pe,we,Ie,me,H,Q+B.A,null,null,Xe),M}function ur(b,A,M){var B=b.F,H=[b.J];if(B!=null){var Q=b.U,te=A.ba.S,ae=te==bw||te==xw;A=A.ba.f.RGBA;var le=[0],pe=b.ka;le[0]=b.T,b.Kb&&(pe==0?--le[0]:(--pe,H[0]-=b.width),b.j+b.ka+b.T==b.o&&(le[0]=b.o-b.j-pe));var we=A.eb;pe=A.fb+pe*A.A,b=ID(B,H[0],b.width,Q,le,we,pe+(ae?0:3),A.A),e(M==le),b&&Ae(te)&&f0(we,pe,ae,Q,le,A.A)}return 0}function dr(b){var A=b.ma,M=A.ba.S,B=11>M,H=M==vw||M==yw||M==bw||M==oE||M==12||Ae(M);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!a0(A.Oa,b,H?11:12))return 0;if(H&&Ae(M)&&tt(),b.da)alert("todo:use_scaling");else{if(B){if(A.Ib=ot,b.Kb){if(M=b.U+1>>1,A.memory=a(b.U+2*M),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+b.U,A.Mc=A.cc,A.Nc=A.dc+M,A.Ib=ft,tt()}}else alert("todo:EmitYUV");H&&(A.Jb=ur,B&&Te())}if(B&&!YD){for(b=0;256>b;++b)Une[b]=89858*(b-128)+_w>>ww,qne[b]=-22014*(b-128)+_w,zne[b]=-45773*(b-128),Vne[b]=113618*(b-128)+_w>>ww;for(b=m0;b<fE;++b)A=76283*(b-16)+_w>>ww,Wne[b-m0]=si(A,255),Hne[b-m0]=si(A+8>>4,15);YD=1}return 1}function lt(b){var A=b.ma,M=b.U,B=b.T;return e(!(1&b.ka)),0>=M||0>=B?0:(M=A.Ib(b,A),A.Jb!=null&&A.Jb(b,A,M),A.Dc+=M,1)}function Qn(b){b.ma.memory=null}function Rn(b,A,M,B){return ce(b,8)!=47?0:(A[0]=ce(b,14)+1,M[0]=ce(b,14)+1,B[0]=ce(b,1),ce(b,3)!=0?0:!b.h)}function $r(b,A){if(4>b)return b+1;var M=b-2>>1;return(2+(1&b)<<M)+ce(A,M)+1}function cn(b,A){return 120<A?A-120:1<=(M=((M=jne[A-1])>>4)*b+(8-(15&M)))?M:1;var M}function en(b,A,M){var B=G(M),H=b[A+=255&B].g-8;return 0<H&&(J(M,M.u+8),B=G(M),A+=b[A].value,A+=B&(1<<H)-1),J(M,M.u+b[A].g),b[A].value}function fn(b,A,M){return M.g+=b.g,M.value+=b.value<<A>>>0,e(8>=M.g),b.g}function Et(b,A,M){var B=b.xc;return e((A=B==0?0:b.vc[b.md*(M>>B)+(A>>B)])<b.Wb),b.Ya[A]}function nr(b,A,M,B){var H=b.ab,Q=b.c*A,te=b.C;A=te+A;var ae=M,le=B;for(B=b.Ta,M=b.Ua;0<H--;){var pe=b.gc[H],we=te,Ie=A,me=ae,Se=le,Ce=(le=B,ae=M,pe.Ea);switch(e(we<Ie),e(Ie<=pe.nc),pe.hc){case 2:fi(me,Se,(Ie-we)*Ce,le,ae);break;case 0:var $e=we,ke=Ie,Ve=le,ze=ae,Xe=(Tt=pe).Ea;$e==0&&(o0(me,Se,null,null,1,Ve,ze),Lt(me,Se+1,0,0,Xe-1,Ve,ze+1),Se+=Xe,ze+=Xe,++$e);for(var Ke=1<<Tt.b,Dt=Ke-1,xt=_e(Xe,Tt.b),hr=Tt.K,Tt=Tt.w+($e>>Tt.b)*xt;$e<ke;){var Pr=hr,Ri=Tt,fr=1;for(Mm(me,Se,Ve,ze-Xe,1,Ve,ze);fr<Xe;){var Ct=(fr&~Dt)+Ke;Ct>Xe&&(Ct=Xe),(0,c0[Pr[Ri++]>>8&15])(me,Se+ +fr,Ve,ze+fr-Xe,Ct-fr,Ve,ze+fr),fr=Ct}Se+=Xe,ze+=Xe,++$e&Dt||(Tt+=xt)}Ie!=pe.nc&&n(le,ae-Ce,le,ae+(Ie-we-1)*Ce,Ce);break;case 1:for(Ce=me,ke=Se,Xe=(me=pe.Ea)-(ze=me&~(Ve=(Se=1<<pe.b)-1)),$e=_e(me,pe.b),Ke=pe.K,pe=pe.w+(we>>pe.b)*$e;we<Ie;){for(Dt=Ke,xt=pe,hr=new Me,Tt=ke+ze,Pr=ke+me;ke<Tt;)St(Dt[xt++],hr),u0(hr,Ce,ke,Se,le,ae),ke+=Se,ae+=Se;ke<Pr&&(St(Dt[xt++],hr),u0(hr,Ce,ke,Xe,le,ae),ke+=Xe,ae+=Xe),++we&Ve||(pe+=$e)}break;case 3:if(me==le&&Se==ae&&0<pe.b){for(ke=le,me=Ce=ae+(Ie-we)*Ce-(ze=(Ie-we)*_e(pe.Ea,pe.b)),Se=le,Ve=ae,$e=[],ze=(Xe=ze)-1;0<=ze;--ze)$e[ze]=Se[Ve+ze];for(ze=Xe-1;0<=ze;--ze)ke[me+ze]=$e[ze];fw(pe,we,Ie,le,Ce,le,ae)}else fw(pe,we,Ie,me,Se,le,ae)}ae=B,le=M}le!=M&&n(B,M,ae,le,Q)}function jr(b,A){var M=b.V,B=b.Ba+b.c*b.C,H=A-b.C;if(e(A<=b.l.o),e(16>=H),0<H){var Q=b.l,te=b.Ta,ae=b.Ua,le=Q.width;if(nr(b,H,M,B),H=ae=[ae],e((M=b.C)<(B=A)),e(Q.v<Q.va),B>Q.o&&(B=Q.o),M<Q.j){var pe=Q.j-M;M=Q.j,H[0]+=pe*le}if(M>=B?M=0:(H[0]+=4*Q.v,Q.ka=M-Q.j,Q.U=Q.va-Q.v,Q.T=B-M,M=1),M){if(ae=ae[0],11>(M=b.ca).S){var we=M.f.RGBA,Ie=(B=M.S,H=Q.U,Q=Q.T,pe=we.eb,we.A),me=Q;for(we=we.fb+b.Ma*we.A;0<me--;){var Se=te,Ce=ae,$e=H,ke=pe,Ve=we;switch(B){case gw:d0(Se,Ce,$e,ke,Ve);break;case vw:_d(Se,Ce,$e,ke,Ve);break;case lE:_d(Se,Ce,$e,ke,Ve),f0(ke,Ve,0,$e,1,0);break;case FD:Uf(Se,Ce,$e,ke,Ve);break;case yw:gt(Se,Ce,$e,ke,Ve,1);break;case cE:gt(Se,Ce,$e,ke,Ve,1),f0(ke,Ve,0,$e,1,0);break;case bw:gt(Se,Ce,$e,ke,Ve,0);break;case xw:gt(Se,Ce,$e,ke,Ve,0),f0(ke,Ve,1,$e,1,0);break;case oE:Sd(Se,Ce,$e,ke,Ve);break;case uE:Sd(Se,Ce,$e,ke,Ve),kD(ke,Ve,$e,1,0);break;case BD:Ad(Se,Ce,$e,ke,Ve);break;default:e(0)}ae+=le,we+=Ie}b.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=M.height)}}b.C=A,e(b.C<=b.i)}function wr(b){var A;if(0<b.ua)return 0;for(A=0;A<b.Wb;++A){var M=b.Ya[A].G,B=b.Ya[A].H;if(0<M[1][B[1]+0].g||0<M[2][B[2]+0].g||0<M[3][B[3]+0].g)return 0}return 1}function un(b,A,M,B,H,Q){if(b.Z!=0){var te=b.qd,ae=b.rd;for(e(jd[b.Z]!=null);A<M;++A)jd[b.Z](te,ae,B,H,B,H,Q),te=B,ae=H,H+=Q;b.qd=te,b.rd=ae}}function dn(b,A){var M=b.l.ma,B=M.Z==0||M.Z==1?b.l.j:b.C;if(B=b.C<B?B:b.C,e(A<=b.l.o),A>B){var H=b.l.width,Q=M.ca,te=M.tb+H*B,ae=b.V,le=b.Ba+b.c*B,pe=b.gc;e(b.ab==1),e(pe[0].hc==3),Ql(pe[0],B,A,ae,le,Q,te),un(M,B,A,Q,te,H)}b.C=b.Ma=A}function Dn(b,A,M,B,H,Q,te){var ae=b.$/B,le=b.$%B,pe=b.m,we=b.s,Ie=M+b.$,me=Ie;H=M+B*H;var Se=M+B*Q,Ce=280+we.ua,$e=b.Pb?ae:16777216,ke=0<we.ua?we.Wa:null,Ve=we.wc,ze=Ie<Se?Et(we,le,ae):null;e(b.C<Q),e(Se<=H);var Xe=!1;e:for(;;){for(;Xe||Ie<Se;){var Ke=0;if(ae>=$e){var Dt=Ie-M;e(($e=b).Pb),$e.wd=$e.m,$e.xd=Dt,0<$e.s.ua&&Ne($e.s.Wa,$e.s.vb),$e=ae+Tne}if(le&Ve||(ze=Et(we,le,ae)),e(ze!=null),ze.Qb&&(A[Ie]=ze.qb,Xe=!0),!Xe)if(ie(pe),ze.jc){Ke=pe,Dt=A;var xt=Ie,hr=ze.pd[G(Ke)&Bf-1];e(ze.jc),256>hr.g?(J(Ke,Ke.u+hr.g),Dt[xt]=hr.value,Ke=0):(J(Ke,Ke.u+hr.g-256),e(256<=hr.value),Ke=hr.value),Ke==0&&(Xe=!0)}else Ke=en(ze.G[0],ze.H[0],pe);if(pe.h)break;if(Xe||256>Ke){if(!Xe)if(ze.nd)A[Ie]=(ze.qb|Ke<<8)>>>0;else{if(ie(pe),Xe=en(ze.G[1],ze.H[1],pe),ie(pe),Dt=en(ze.G[2],ze.H[2],pe),xt=en(ze.G[3],ze.H[3],pe),pe.h)break;A[Ie]=(xt<<24|Xe<<16|Ke<<8|Dt)>>>0}if(Xe=!1,++Ie,++le>=B&&(le=0,++ae,te!=null&&ae<=Q&&!(ae%16)&&te(b,ae),ke!=null))for(;me<Ie;)Ke=A[me++],ke.X[(506832829*Ke&4294967295)>>>ke.Mb]=Ke}else if(280>Ke){if(Ke=$r(Ke-256,pe),Dt=en(ze.G[4],ze.H[4],pe),ie(pe),Dt=cn(B,Dt=$r(Dt,pe)),pe.h)break;if(Ie-M<Dt||H-Ie<Ke)break e;for(xt=0;xt<Ke;++xt)A[Ie+xt]=A[Ie+xt-Dt];for(Ie+=Ke,le+=Ke;le>=B;)le-=B,++ae,te!=null&&ae<=Q&&!(ae%16)&&te(b,ae);if(e(Ie<=H),le&Ve&&(ze=Et(we,le,ae)),ke!=null)for(;me<Ie;)Ke=A[me++],ke.X[(506832829*Ke&4294967295)>>>ke.Mb]=Ke}else{if(!(Ke<Ce))break e;for(Xe=Ke-280,e(ke!=null);me<Ie;)Ke=A[me++],ke.X[(506832829*Ke&4294967295)>>>ke.Mb]=Ke;Ke=Ie,e(!(Xe>>>(Dt=ke).Xa)),A[Ke]=Dt.X[Xe],Xe=!0}Xe||e(pe.h==oe(pe))}if(b.Pb&&pe.h&&Ie<H)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ne(b.s.vb,b.s.Wa);else{if(pe.h)break e;te!=null&&te(b,ae>Q?Q:ae),b.a=0,b.$=Ie-M}return 1}return b.a=3,0}function pn(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var A=b.Wa;A!=null&&(A.X=null),b.vb=null,e(b!=null)}function Fr(){var b=new jt;return b==null?null:(b.a=0,b.xb=zD,Qt("Predictor","VP8LPredictors"),Qt("Predictor","VP8LPredictors_C"),Qt("PredictorAdd","VP8LPredictorsAdd"),Qt("PredictorAdd","VP8LPredictorsAdd_C"),fi=Nt,u0=kt,d0=Kt,_d=zt,Sd=dt,Ad=Oe,Uf=Ot,I.VP8LMapColor32b=Xl,I.VP8LMapColor8b=l0,b)}function Wn(b,A,M,B,H){var Q=1,te=[b],ae=[A],le=B.m,pe=B.s,we=null,Ie=0;e:for(;;){if(M)for(;Q&&ce(le,1);){var me=te,Se=ae,Ce=B,$e=1,ke=Ce.m,Ve=Ce.gc[Ce.ab],ze=ce(ke,2);if(Ce.Oc&1<<ze)Q=0;else{switch(Ce.Oc|=1<<ze,Ve.hc=ze,Ve.Ea=me[0],Ve.nc=Se[0],Ve.K=[null],++Ce.ab,e(4>=Ce.ab),ze){case 0:case 1:Ve.b=ce(ke,3)+2,$e=Wn(_e(Ve.Ea,Ve.b),_e(Ve.nc,Ve.b),0,Ce,Ve.K),Ve.K=Ve.K[0];break;case 3:var Xe,Ke=ce(ke,8)+1,Dt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(me[0]=_e(Ve.Ea,Dt),Ve.b=Dt,Xe=$e=Wn(Ke,1,0,Ce,Ve.K)){var xt,hr=Ke,Tt=Ve,Pr=1<<(8>>Tt.b),Ri=a(Pr);if(Ri==null)Xe=0;else{var fr=Tt.K[0],Ct=Tt.w;for(Ri[0]=Tt.K[0][0],xt=1;xt<1*hr;++xt)Ri[xt]=Pe(fr[Ct+xt],Ri[xt-1]);for(;xt<4*Pr;++xt)Ri[xt]=0;Tt.K[0]=null,Tt.K[0]=Ri,Xe=1}}$e=Xe;break;case 2:break;default:e(0)}Q=$e}}if(te=te[0],ae=ae[0],Q&&ce(le,1)&&!(Q=1<=(Ie=ce(le,4))&&11>=Ie)){B.a=3;break e}var at;if(at=Q)t:{var mi,lr,Or,Mn=B,aa=te,Wa=ae,oi=Ie,wa=M,Ha=Mn.m,Di=Mn.s,Ur=[null],tn=1,li=0,rn=Pne[oi];r:for(;;){if(wa&&ce(Ha,1)){var sa=ce(Ha,3)+2,il=_e(aa,sa),gi=_e(Wa,sa),gs=il*gi;if(!Wn(il,gi,0,Mn,Ur))break r;for(Ur=Ur[0],Di.xc=sa,mi=0;mi<gs;++mi){var bn=Ur[mi]>>8&65535;Ur[mi]=bn,bn>=tn&&(tn=bn+1)}}if(Ha.h)break r;for(lr=0;5>lr;++lr){var Li=UD[lr];!lr&&0<oi&&(Li+=1<<oi),li<Li&&(li=Li)}var qs=s(tn*rn,L),Ga=tn,Ws=s(Ga,re);if(Ws==null)var Hs=null;else e(65536>=Ga),Hs=Ws;var vs=a(li);if(Hs==null||vs==null||qs==null){Mn.a=1;break r}var Gs=qs;for(mi=Or=0;mi<tn;++mi){var En=Hs[mi],Ks=En.G,al=En.H,zf=0,ru=1,oa=0;for(lr=0;5>lr;++lr){Li=UD[lr],Ks[lr]=Gs,al[lr]=Or,!lr&&0<oi&&(Li+=1<<oi);i:{var Aw,pE=Li,Nw=Mn,g0=vs,Yne=Gs,Xne=Or,mE=0,Pd=Nw.m,Qne=ce(Pd,1);if(i(g0,0,0,pE),Qne){var Jne=ce(Pd,1)+1,Zne=ce(Pd,1),JD=ce(Pd,Zne==0?1:8);g0[JD]=1,Jne==2&&(g0[JD=ce(Pd,8)]=1);var Ew=1}else{var ZD=a(19),e6=ce(Pd,4)+4;if(19<e6){Nw.a=3;var jw=0;break i}for(Aw=0;Aw<e6;++Aw)ZD[Ene[Aw]]=ce(Pd,3);var gE=void 0,v0=void 0,t6=Nw,eie=ZD,Pw=pE,r6=g0,vE=0,Td=t6.m,n6=8,i6=s(128,L);n:for(;O(i6,0,7,eie,19);){if(ce(Td,1)){var tie=2+2*ce(Td,3);if((gE=2+ce(Td,tie))>Pw)break n}else gE=Pw;for(v0=0;v0<Pw&&gE--;){ie(Td);var a6=i6[0+(127&G(Td))];J(Td,Td.u+a6.g);var Fm=a6.value;if(16>Fm)r6[v0++]=Fm,Fm!=0&&(n6=Fm);else{var rie=Fm==16,s6=Fm-16,nie=Ane[s6],o6=ce(Td,Sne[s6])+nie;if(v0+o6>Pw)break n;for(var iie=rie?n6:0;0<o6--;)r6[v0++]=iie}}vE=1;break n}vE||(t6.a=3),Ew=vE}(Ew=Ew&&!Pd.h)&&(mE=O(Yne,Xne,8,g0,pE)),Ew&&mE!=0?jw=mE:(Nw.a=3,jw=0)}if(jw==0)break r;if(ru&&Nne[lr]==1&&(ru=Gs[Or].g==0),zf+=Gs[Or].g,Or+=jw,3>=lr){var y0,yE=vs[0];for(y0=1;y0<Li;++y0)vs[y0]>yE&&(yE=vs[y0]);oa+=yE}}if(En.nd=ru,En.Qb=0,ru&&(En.qb=(Ks[3][al[3]+0].value<<24|Ks[1][al[1]+0].value<<16|Ks[2][al[2]+0].value)>>>0,zf==0&&256>Ks[0][al[0]+0].value&&(En.Qb=1,En.qb+=Ks[0][al[0]+0].value<<8)),En.jc=!En.Qb&&6>oa,En.jc){var Tw,nu=En;for(Tw=0;Tw<Bf;++Tw){var Cd=Tw,kd=nu.pd[Cd],Cw=nu.G[0][nu.H[0]+Cd];256<=Cw.value?(kd.g=Cw.g+256,kd.value=Cw.value):(kd.g=0,kd.value=0,Cd>>=fn(Cw,8,kd),Cd>>=fn(nu.G[1][nu.H[1]+Cd],16,kd),Cd>>=fn(nu.G[2][nu.H[2]+Cd],0,kd),fn(nu.G[3][nu.H[3]+Cd],24,kd))}}}Di.vc=Ur,Di.Wb=tn,Di.Ya=Hs,Di.yc=qs,at=1;break t}at=0}if(!(Q=at)){B.a=3;break e}if(0<Ie){if(pe.ua=1<<Ie,!ee(pe.Wa,Ie)){B.a=1,Q=0;break e}}else pe.ua=0;var bE=B,l6=te,aie=ae,xE=bE.s,wE=xE.xc;if(bE.c=l6,bE.i=aie,xE.md=_e(l6,wE),xE.wc=wE==0?-1:(1<<wE)-1,M){B.xb=Lne;break e}if((we=a(te*ae))==null){B.a=1,Q=0;break e}Q=(Q=Dn(B,we,0,te,ae,ae,null))&&!le.h;break e}return Q?(H!=null?H[0]=we:(e(we==null),e(M)),B.$=0,M||pn(pe)):pn(pe),Q}function yo(b,A){var M=b.c*b.i,B=M+A+16*A;return e(b.c<=A),b.V=a(B),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+M+A,1)}function Vc(b,A){var M=b.C,B=A-M,H=b.V,Q=b.Ba+b.c*M;for(e(A<=b.l.o);0<B;){var te=16<B?16:B,ae=b.l.ma,le=b.l.width,pe=le*te,we=ae.ca,Ie=ae.tb+le*M,me=b.Ta,Se=b.Ua;nr(b,te,H,Q),OD(me,Se,we,Ie,pe),un(ae,M,M+te,we,Ie,le),B-=te,H+=te*b.c,M+=te}e(M==A),b.C=b.Ma=A}function Ul(){this.ub=this.yd=this.td=this.Rb=0}function bo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tl(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function zc(){this.Yb=function(){var b=[];return function A(M,B,H){for(var Q=H[B],te=0;te<Q&&(M.push(H.length>B+1?[]:0),!(H.length<B+1));te++)A(M[te],B+1,H)}(b,0,[3,11]),b}()}function Pm(){this.jb=a(3),this.Wc=o([4,8],zc),this.Xc=o([4,17],zc)}function Tf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ua(){this.ld=this.La=this.dd=this.tc=0}function ld(){this.Na=this.la=0}function cd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Cf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ua),this.Y=0,this.ya=Array(new qc),this.aa=0,this.l=new ud}function kf(){this.y=a(16),this.f=a(8),this.ea=a(8)}function If(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Ul,this.Kc=new bo,this.ed=new Tf,this.Qa=new tl,this.Ic=this.$c=this.Aa=0,this.D=new Cf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,F),this.ia=0,this.pb=s(4,cd),this.Pa=new Pm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kf),this.Hd=0,this.rb=Array(new ld),this.sb=0,this.wa=Array(new Ua),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qc),this.L=this.aa=0,this.gd=o([4,2],Ua),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ud(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xo(){var b=new If;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,p0||(p0=$s)),b}function Gr(b,A,M){return b.a==0&&(b.a=A,b.sc=M,b.cb=0),0}function Vl(b,A,M){return 3<=M&&b[A+0]==157&&b[A+1]==1&&b[A+2]==42}function zl(b,A){if(b==null)return 0;if(b.a=0,b.sc="OK",A==null)return Gr(b,2,"null VP8Io passed to VP8GetHeaders()");var M=A.data,B=A.w,H=A.ha;if(4>H)return Gr(b,7,"Truncated header.");var Q=M[B+0]|M[B+1]<<8|M[B+2]<<16,te=b.Od;if(te.Rb=!(1&Q),te.td=Q>>1&7,te.yd=Q>>4&1,te.ub=Q>>5,3<te.td)return Gr(b,3,"Incorrect keyframe parameters.");if(!te.yd)return Gr(b,4,"Frame not displayable.");B+=3,H-=3;var ae=b.Kc;if(te.Rb){if(7>H)return Gr(b,7,"cannot parse picture header");if(!Vl(M,B,H))return Gr(b,3,"Bad code word");ae.c=16383&(M[B+4]<<8|M[B+3]),ae.Td=M[B+4]>>6,ae.i=16383&(M[B+6]<<8|M[B+5]),ae.Ud=M[B+6]>>6,B+=7,H-=7,b.za=ae.c+15>>4,b.Ub=ae.i+15>>4,A.width=ae.c,A.height=ae.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((Q=b.Pa).jb,0,255,Q.jb.length),e((Q=b.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(te.ub>H)return Gr(b,7,"bad partition length");Y(Q=b.m,M,B,te.ub),B+=te.ub,H-=te.ub,te.Rb&&(ae.Ld=he(Q),ae.Kd=he(Q)),ae=b.Qa;var le,pe=b.Pa;if(e(Q!=null),e(ae!=null),ae.Cb=he(Q),ae.Cb){if(ae.Bb=he(Q),he(Q)){for(ae.Fb=he(Q),le=0;4>le;++le)ae.Zb[le]=he(Q)?q(Q,7):0;for(le=0;4>le;++le)ae.Lb[le]=he(Q)?q(Q,6):0}if(ae.Bb)for(le=0;3>le;++le)pe.jb[le]=he(Q)?K(Q,8):255}else ae.Bb=0;if(Q.Ka)return Gr(b,3,"cannot parse segment header");if((ae=b.ed).zd=he(Q),ae.Tb=K(Q,6),ae.wb=K(Q,3),ae.Pc=he(Q),ae.Pc&&he(Q)){for(pe=0;4>pe;++pe)he(Q)&&(ae.vd[pe]=q(Q,6));for(pe=0;4>pe;++pe)he(Q)&&(ae.od[pe]=q(Q,6))}if(b.L=ae.Tb==0?0:ae.zd?1:2,Q.Ka)return Gr(b,3,"cannot parse filter header");var we=H;if(H=le=B,B=le+we,ae=we,b.Xb=(1<<K(b.m,2))-1,we<3*(pe=b.Xb))M=7;else{for(le+=3*pe,ae-=3*pe,we=0;we<pe;++we){var Ie=M[H+0]|M[H+1]<<8|M[H+2]<<16;Ie>ae&&(Ie=ae),Y(b.Jc[+we],M,le,Ie),le+=Ie,ae-=Ie,H+=3}Y(b.Jc[+pe],M,le,ae),M=le<B?0:5}if(M!=0)return Gr(b,M,"cannot parse partitions");for(M=K(le=b.m,7),H=he(le)?q(le,4):0,B=he(le)?q(le,4):0,ae=he(le)?q(le,4):0,pe=he(le)?q(le,4):0,le=he(le)?q(le,4):0,we=b.Qa,Ie=0;4>Ie;++Ie){if(we.Cb){var me=we.Zb[Ie];we.Fb||(me+=M)}else{if(0<Ie){b.pb[Ie]=b.pb[0];continue}me=M}var Se=b.pb[Ie];Se.Sc[0]=dE[si(me+H,127)],Se.Sc[1]=hE[si(me+0,127)],Se.Eb[0]=2*dE[si(me+B,127)],Se.Eb[1]=101581*hE[si(me+ae,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=dE[si(me+pe,117)],Se.Qc[1]=hE[si(me+le,127)],Se.lc=me+le}if(!te.Rb)return Gr(b,4,"Not a key frame.");for(he(Q),te=b.Pa,M=0;4>M;++M){for(H=0;8>H;++H)for(B=0;3>B;++B)for(ae=0;11>ae;++ae)pe=T(Q,Rne[M][H][B][ae])?K(Q,8):Ine[M][H][B][ae],te.Wc[M][H].Yb[B][ae]=pe;for(H=0;17>H;++H)te.Xc[M][H]=te.Wc[M][Dne[H]]}return b.kc=he(Q),b.kc&&(b.Bd=K(Q,8)),b.cb=1}function $s(b,A,M,B,H,Q,te){var ae=A[H].Yb[M];for(M=0;16>H;++H){if(!T(b,ae[M+0]))return H;for(;!T(b,ae[M+1]);)if(ae=A[++H].Yb[0],M=0,H==16)return 16;var le=A[H+1].Yb;if(T(b,ae[M+2])){var pe=b,we=0;if(T(pe,(me=ae)[(Ie=M)+3]))if(T(pe,me[Ie+6])){for(ae=0,Ie=2*(we=T(pe,me[Ie+8]))+(me=T(pe,me[Ie+9+we])),we=0,me=Cne[Ie];me[ae];++ae)we+=we+T(pe,me[ae]);we+=3+(8<<Ie)}else T(pe,me[Ie+7])?(we=7+2*T(pe,165),we+=T(pe,145)):we=5+T(pe,159);else we=T(pe,me[Ie+4])?3+T(pe,me[Ie+5]):2;ae=le[2]}else we=1,ae=le[1];le=te+kne[H],0>(pe=b).b&&be(pe);var Ie,me=pe.b,Se=(Ie=pe.Ca>>1)-(pe.I>>me)>>31;--pe.b,pe.Ca+=Se,pe.Ca|=1,pe.I-=(Ie+1&Se)<<me,Q[le]=((we^Se)-Se)*B[(0<H)+0]}return 16}function Br(b){var A=b.rb[b.sb-1];A.la=0,A.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function ya(b,A,M,B,H){H=b[A+M+32*B]+(H>>3),b[A+M+32*B]=-256&H?0>H?0:255:H}function Fs(b,A,M,B,H,Q){ya(b,A,0,M,B+H),ya(b,A,1,M,B+Q),ya(b,A,2,M,B-Q),ya(b,A,3,M,B-H)}function mn(b){return(20091*b>>16)+b}function Of(b,A,M,B){var H,Q=0,te=a(16);for(H=0;4>H;++H){var ae=b[A+0]+b[A+8],le=b[A+0]-b[A+8],pe=(35468*b[A+4]>>16)-mn(b[A+12]),we=mn(b[A+4])+(35468*b[A+12]>>16);te[Q+0]=ae+we,te[Q+1]=le+pe,te[Q+2]=le-pe,te[Q+3]=ae-we,Q+=4,A++}for(H=Q=0;4>H;++H)ae=(b=te[Q+0]+4)+te[Q+8],le=b-te[Q+8],pe=(35468*te[Q+4]>>16)-mn(te[Q+12]),ya(M,B,0,0,ae+(we=mn(te[Q+4])+(35468*te[Q+12]>>16))),ya(M,B,1,0,le+pe),ya(M,B,2,0,le-pe),ya(M,B,3,0,ae-we),Q++,B+=32}function Tm(b,A,M,B){var H=b[A+0]+4,Q=35468*b[A+4]>>16,te=mn(b[A+4]),ae=35468*b[A+1]>>16;Fs(M,B,0,H+te,b=mn(b[A+1]),ae),Fs(M,B,1,H+Q,b,ae),Fs(M,B,2,H-Q,b,ae),Fs(M,B,3,H-te,b,ae)}function t0(b,A,M,B,H){Of(b,A,M,B),H&&Of(b,A+16,M,B+4)}function r0(b,A,M,B){Vf(b,A+0,M,B,1),Vf(b,A+32,M,B+128,1)}function wo(b,A,M,B){var H;for(b=b[A+0]+4,H=0;4>H;++H)for(A=0;4>A;++A)ya(M,B,A,H,b)}function Cm(b,A,M,B){b[A+0]&&Yr(b,A+0,M,B),b[A+16]&&Yr(b,A+16,M,B+4),b[A+32]&&Yr(b,A+32,M,B+128),b[A+48]&&Yr(b,A+48,M,B+128+4)}function ql(b,A,M,B){var H,Q=a(16);for(H=0;4>H;++H){var te=b[A+0+H]+b[A+12+H],ae=b[A+4+H]+b[A+8+H],le=b[A+4+H]-b[A+8+H],pe=b[A+0+H]-b[A+12+H];Q[0+H]=te+ae,Q[8+H]=te-ae,Q[4+H]=pe+le,Q[12+H]=pe-le}for(H=0;4>H;++H)te=(b=Q[0+4*H]+3)+Q[3+4*H],ae=Q[1+4*H]+Q[2+4*H],le=Q[1+4*H]-Q[2+4*H],pe=b-Q[3+4*H],M[B+0]=te+ae>>3,M[B+16]=pe+le>>3,M[B+32]=te-ae>>3,M[B+48]=pe-le>>3,B+=64}function ba(b,A,M){var B,H=A-32,Q=zs,te=255-b[H-1];for(B=0;B<M;++B){var ae,le=Q,pe=te+b[A-1];for(ae=0;ae<M;++ae)b[A+ae]=le[pe+b[H+ae]];A+=32}}function dd(b,A){ba(b,A,4)}function km(b,A){ba(b,A,8)}function Im(b,A){ba(b,A,16)}function Om(b,A){var M;for(M=0;16>M;++M)n(b,A+32*M,b,A-32,16)}function hd(b,A){var M;for(M=16;0<M;--M)i(b,A,b[A-1],16),A+=32}function fs(b,A,M){var B;for(B=0;16>B;++B)i(A,M+32*B,b,16)}function Wl(b,A){var M,B=16;for(M=0;16>M;++M)B+=b[A-1+32*M]+b[A+M-32];fs(B>>5,b,A)}function n0(b,A){var M,B=8;for(M=0;16>M;++M)B+=b[A-1+32*M];fs(B>>4,b,A)}function Wc(b,A){var M,B=8;for(M=0;16>M;++M)B+=b[A+M-32];fs(B>>4,b,A)}function ps(b,A){fs(128,b,A)}function Jt(b,A,M){return b+2*A+M+2>>2}function Rf(b,A){var M,B=A-32;for(B=new Uint8Array([Jt(b[B-1],b[B+0],b[B+1]),Jt(b[B+0],b[B+1],b[B+2]),Jt(b[B+1],b[B+2],b[B+3]),Jt(b[B+2],b[B+3],b[B+4])]),M=0;4>M;++M)n(b,A+32*M,B,0,B.length)}function fd(b,A){var M=b[A-1],B=b[A-1+32],H=b[A-1+64],Q=b[A-1+96];X(b,A+0,16843009*Jt(b[A-1-32],M,B)),X(b,A+32,16843009*Jt(M,B,H)),X(b,A+64,16843009*Jt(B,H,Q)),X(b,A+96,16843009*Jt(H,Q,Q))}function Rm(b,A){var M,B=4;for(M=0;4>M;++M)B+=b[A+M-32]+b[A-1+32*M];for(B>>=3,M=0;4>M;++M)i(b,A+32*M,B,4)}function Hc(b,A){var M=b[A-1+0],B=b[A-1+32],H=b[A-1+64],Q=b[A-1-32],te=b[A+0-32],ae=b[A+1-32],le=b[A+2-32],pe=b[A+3-32];b[A+0+96]=Jt(B,H,b[A-1+96]),b[A+1+96]=b[A+0+64]=Jt(M,B,H),b[A+2+96]=b[A+1+64]=b[A+0+32]=Jt(Q,M,B),b[A+3+96]=b[A+2+64]=b[A+1+32]=b[A+0+0]=Jt(te,Q,M),b[A+3+64]=b[A+2+32]=b[A+1+0]=Jt(ae,te,Q),b[A+3+32]=b[A+2+0]=Jt(le,ae,te),b[A+3+0]=Jt(pe,le,ae)}function Va(b,A){var M=b[A+1-32],B=b[A+2-32],H=b[A+3-32],Q=b[A+4-32],te=b[A+5-32],ae=b[A+6-32],le=b[A+7-32];b[A+0+0]=Jt(b[A+0-32],M,B),b[A+1+0]=b[A+0+32]=Jt(M,B,H),b[A+2+0]=b[A+1+32]=b[A+0+64]=Jt(B,H,Q),b[A+3+0]=b[A+2+32]=b[A+1+64]=b[A+0+96]=Jt(H,Q,te),b[A+3+32]=b[A+2+64]=b[A+1+96]=Jt(Q,te,ae),b[A+3+64]=b[A+2+96]=Jt(te,ae,le),b[A+3+96]=Jt(ae,le,le)}function _o(b,A){var M=b[A-1+0],B=b[A-1+32],H=b[A-1+64],Q=b[A-1-32],te=b[A+0-32],ae=b[A+1-32],le=b[A+2-32],pe=b[A+3-32];b[A+0+0]=b[A+1+64]=Q+te+1>>1,b[A+1+0]=b[A+2+64]=te+ae+1>>1,b[A+2+0]=b[A+3+64]=ae+le+1>>1,b[A+3+0]=le+pe+1>>1,b[A+0+96]=Jt(H,B,M),b[A+0+64]=Jt(B,M,Q),b[A+0+32]=b[A+1+96]=Jt(M,Q,te),b[A+1+32]=b[A+2+96]=Jt(Q,te,ae),b[A+2+32]=b[A+3+96]=Jt(te,ae,le),b[A+3+32]=Jt(ae,le,pe)}function Df(b,A){var M=b[A+0-32],B=b[A+1-32],H=b[A+2-32],Q=b[A+3-32],te=b[A+4-32],ae=b[A+5-32],le=b[A+6-32],pe=b[A+7-32];b[A+0+0]=M+B+1>>1,b[A+1+0]=b[A+0+64]=B+H+1>>1,b[A+2+0]=b[A+1+64]=H+Q+1>>1,b[A+3+0]=b[A+2+64]=Q+te+1>>1,b[A+0+32]=Jt(M,B,H),b[A+1+32]=b[A+0+96]=Jt(B,H,Q),b[A+2+32]=b[A+1+96]=Jt(H,Q,te),b[A+3+32]=b[A+2+96]=Jt(Q,te,ae),b[A+3+64]=Jt(te,ae,le),b[A+3+96]=Jt(ae,le,pe)}function Sn(b,A){var M=b[A-1+0],B=b[A-1+32],H=b[A-1+64],Q=b[A-1+96];b[A+0+0]=M+B+1>>1,b[A+2+0]=b[A+0+32]=B+H+1>>1,b[A+2+32]=b[A+0+64]=H+Q+1>>1,b[A+1+0]=Jt(M,B,H),b[A+3+0]=b[A+1+32]=Jt(B,H,Q),b[A+3+32]=b[A+1+64]=Jt(H,Q,Q),b[A+3+64]=b[A+2+64]=b[A+0+96]=b[A+1+96]=b[A+2+96]=b[A+3+96]=Q}function pd(b,A){var M=b[A-1+0],B=b[A-1+32],H=b[A-1+64],Q=b[A-1+96],te=b[A-1-32],ae=b[A+0-32],le=b[A+1-32],pe=b[A+2-32];b[A+0+0]=b[A+2+32]=M+te+1>>1,b[A+0+32]=b[A+2+64]=B+M+1>>1,b[A+0+64]=b[A+2+96]=H+B+1>>1,b[A+0+96]=Q+H+1>>1,b[A+3+0]=Jt(ae,le,pe),b[A+2+0]=Jt(te,ae,le),b[A+1+0]=b[A+3+32]=Jt(M,te,ae),b[A+1+32]=b[A+3+64]=Jt(B,M,te),b[A+1+64]=b[A+3+96]=Jt(H,B,M),b[A+1+96]=Jt(Q,H,B)}function Lf(b,A){var M;for(M=0;8>M;++M)n(b,A+32*M,b,A-32,8)}function Hl(b,A){var M;for(M=0;8>M;++M)i(b,A,b[A-1],8),A+=32}function Gc(b,A,M){var B;for(B=0;8>B;++B)i(A,M+32*B,b,8)}function Kc(b,A){var M,B=8;for(M=0;8>M;++M)B+=b[A+M-32]+b[A-1+32*M];Gc(B>>4,b,A)}function md(b,A){var M,B=4;for(M=0;8>M;++M)B+=b[A+M-32];Gc(B>>3,b,A)}function ms(b,A){var M,B=4;for(M=0;8>M;++M)B+=b[A-1+32*M];Gc(B>>3,b,A)}function gd(b,A){Gc(128,b,A)}function Yc(b,A,M){var B=b[A-M],H=b[A+0],Q=3*(H-B)+sE[1020+b[A-2*M]-b[A+M]],te=mw[112+(Q+4>>3)];b[A-M]=zs[255+B+mw[112+(Q+3>>3)]],b[A+0]=zs[255+H-te]}function Bs(b,A,M,B){var H=b[A+0],Q=b[A+M];return jo[255+b[A-2*M]-b[A-M]]>B||jo[255+Q-H]>B}function vd(b,A,M,B){return 4*jo[255+b[A-M]-b[A+0]]+jo[255+b[A-2*M]-b[A+M]]<=B}function Gl(b,A,M,B,H){var Q=b[A-3*M],te=b[A-2*M],ae=b[A-M],le=b[A+0],pe=b[A+M],we=b[A+2*M],Ie=b[A+3*M];return 4*jo[255+ae-le]+jo[255+te-pe]>B?0:jo[255+b[A-4*M]-Q]<=H&&jo[255+Q-te]<=H&&jo[255+te-ae]<=H&&jo[255+Ie-we]<=H&&jo[255+we-pe]<=H&&jo[255+pe-le]<=H}function Kl(b,A,M,B){var H=2*B+1;for(B=0;16>B;++B)vd(b,A+B,M,H)&&Yc(b,A+B,M)}function Yl(b,A,M,B){var H=2*B+1;for(B=0;16>B;++B)vd(b,A+B*M,1,H)&&Yc(b,A+B*M,1)}function Xc(b,A,M,B){var H;for(H=3;0<H;--H)Kl(b,A+=4*M,M,B)}function Dm(b,A,M,B){var H;for(H=3;0<H;--H)Yl(b,A+=4,M,B)}function So(b,A,M,B,H,Q,te,ae){for(Q=2*Q+1;0<H--;){if(Gl(b,A,M,Q,te))if(Bs(b,A,M,ae))Yc(b,A,M);else{var le=b,pe=A,we=M,Ie=le[pe-2*we],me=le[pe-we],Se=le[pe+0],Ce=le[pe+we],$e=le[pe+2*we],ke=27*(ze=sE[1020+3*(Se-me)+sE[1020+Ie-Ce]])+63>>7,Ve=18*ze+63>>7,ze=9*ze+63>>7;le[pe-3*we]=zs[255+le[pe-3*we]+ze],le[pe-2*we]=zs[255+Ie+Ve],le[pe-we]=zs[255+me+ke],le[pe+0]=zs[255+Se-ke],le[pe+we]=zs[255+Ce-Ve],le[pe+2*we]=zs[255+$e-ze]}A+=B}}function za(b,A,M,B,H,Q,te,ae){for(Q=2*Q+1;0<H--;){if(Gl(b,A,M,Q,te))if(Bs(b,A,M,ae))Yc(b,A,M);else{var le=b,pe=A,we=M,Ie=le[pe-we],me=le[pe+0],Se=le[pe+we],Ce=mw[112+(4+($e=3*(me-Ie))>>3)],$e=mw[112+($e+3>>3)],ke=Ce+1>>1;le[pe-2*we]=zs[255+le[pe-2*we]+ke],le[pe-we]=zs[255+Ie+$e],le[pe+0]=zs[255+me-Ce],le[pe+we]=zs[255+Se-ke]}A+=B}}function Mf(b,A,M,B,H,Q){So(b,A,M,1,16,B,H,Q)}function $f(b,A,M,B,H,Q){So(b,A,1,M,16,B,H,Q)}function rl(b,A,M,B,H,Q){var te;for(te=3;0<te;--te)za(b,A+=4*M,M,1,16,B,H,Q)}function yd(b,A,M,B,H,Q){var te;for(te=3;0<te;--te)za(b,A+=4,1,M,16,B,H,Q)}function R(b,A,M,B,H,Q,te,ae){So(b,A,H,1,8,Q,te,ae),So(M,B,H,1,8,Q,te,ae)}function W(b,A,M,B,H,Q,te,ae){So(b,A,1,H,8,Q,te,ae),So(M,B,1,H,8,Q,te,ae)}function fe(b,A,M,B,H,Q,te,ae){za(b,A+4*H,H,1,8,Q,te,ae),za(M,B+4*H,H,1,8,Q,te,ae)}function ye(b,A,M,B,H,Q,te,ae){za(b,A+4,1,H,8,Q,te,ae),za(M,B+4,1,H,8,Q,te,ae)}function Ee(){this.ba=new it,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ge(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vt(){this.ua=0,this.Wa=new De,this.vb=new De,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new L}function jt(){this.xb=this.a=0,this.l=new ud,this.ca=new it,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vt,this.ab=0,this.gc=s(4,Ge),this.Oc=0}function Ut(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ud,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Rt(b,A,M,B,H,Q,te){for(b=b==null?0:b[A+0],A=0;A<te;++A)H[Q+A]=b+M[B+A]&255,b=H[Q+A]}function Ir(b,A,M,B,H,Q,te){var ae;if(b==null)Rt(null,null,M,B,H,Q,te);else for(ae=0;ae<te;++ae)H[Q+ae]=b[A+ae]+M[B+ae]&255}function An(b,A,M,B,H,Q,te){if(b==null)Rt(null,null,M,B,H,Q,te);else{var ae,le=b[A+0],pe=le,we=le;for(ae=0;ae<te;++ae)pe=we+(le=b[A+ae])-pe,we=M[B+ae]+(-256&pe?0>pe?0:255:pe)&255,pe=le,H[Q+ae]=we}}function gn(b,A,M,B){var H=A.width,Q=A.o;if(e(b!=null&&A!=null),0>M||0>=B||M+B>Q)return null;if(!b.Cc){if(b.ga==null){var te;if(b.ga=new Ut,(te=b.ga==null)||(te=A.width*A.o,e(b.Gb.length==0),b.Gb=a(te),b.Uc=0,b.Gb==null?te=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,te=1),te=!te),!te){te=b.ga;var ae=b.Fa,le=b.P,pe=b.qc,we=b.mb,Ie=b.nb,me=le+1,Se=pe-1,Ce=te.l;if(e(ae!=null&&we!=null&&A!=null),jd[0]=null,jd[1]=Rt,jd[2]=Ir,jd[3]=An,te.ca=we,te.tb=Ie,te.c=A.width,te.i=A.height,e(0<te.c&&0<te.i),1>=pe)A=0;else if(te.$a=3&ae[le+0],te.Z=ae[le+0]>>2&3,te.Lc=ae[le+0]>>4&3,le=ae[le+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||le)A=0;else if(Ce.put=lt,Ce.ac=dr,Ce.bc=Qn,Ce.ma=te,Ce.width=A.width,Ce.height=A.height,Ce.Da=A.Da,Ce.v=A.v,Ce.va=A.va,Ce.j=A.j,Ce.o=A.o,te.$a)e:{e(te.$a==1),A=Fr();t:for(;;){if(A==null){A=0;break e}if(e(te!=null),te.mc=A,A.c=te.c,A.i=te.i,A.l=te.l,A.l.ma=te,A.l.width=te.c,A.l.height=te.i,A.a=0,Z(A.m,ae,me,Se),!Wn(te.c,te.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&wr(A.s)?(te.ic=1,ae=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(ae),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(te.ic=0,A=yo(A,te.c)),!A))break t;A=1;break e}te.mc=null,A=0}else A=Se>=te.c*te.i;te=!A}if(te)return null;b.ga.Lc!=1?b.Ga=0:B=Q-M}e(b.ga!=null),e(M+B<=Q);e:{if(A=(ae=b.ga).c,Q=ae.l.o,ae.$a==0){if(me=b.rc,Se=b.Vc,Ce=b.Fa,le=b.P+1+M*A,pe=b.mb,we=b.nb+M*A,e(le<=b.P+b.qc),ae.Z!=0)for(e(jd[ae.Z]!=null),te=0;te<B;++te)jd[ae.Z](me,Se,Ce,le,pe,we,A),me=pe,Se=we,we+=A,le+=A;else for(te=0;te<B;++te)n(pe,we,Ce,le,A),me=pe,Se=we,we+=A,le+=A;b.rc=me,b.Vc=Se}else{if(e(ae.mc!=null),A=M+B,e((te=ae.mc)!=null),e(A<=te.i),te.C>=A)A=1;else if(ae.ic||Te(),ae.ic){ae=te.V,me=te.Ba,Se=te.c;var $e=te.i,ke=(Ce=1,le=te.$/Se,pe=te.$%Se,we=te.m,Ie=te.s,te.$),Ve=Se*$e,ze=Se*A,Xe=Ie.wc,Ke=ke<ze?Et(Ie,pe,le):null;e(ke<=Ve),e(A<=$e),e(wr(Ie));t:for(;;){for(;!we.h&&ke<ze;){if(pe&Xe||(Ke=Et(Ie,pe,le)),e(Ke!=null),ie(we),256>($e=en(Ke.G[0],Ke.H[0],we)))ae[me+ke]=$e,++ke,++pe>=Se&&(pe=0,++le<=A&&!(le%16)&&dn(te,le));else{if(!(280>$e)){Ce=0;break t}$e=$r($e-256,we);var Dt,xt=en(Ke.G[4],Ke.H[4],we);if(ie(we),!(ke>=(xt=cn(Se,xt=$r(xt,we)))&&Ve-ke>=$e)){Ce=0;break t}for(Dt=0;Dt<$e;++Dt)ae[me+ke+Dt]=ae[me+ke+Dt-xt];for(ke+=$e,pe+=$e;pe>=Se;)pe-=Se,++le<=A&&!(le%16)&&dn(te,le);ke<ze&&pe&Xe&&(Ke=Et(Ie,pe,le))}e(we.h==oe(we))}dn(te,le>A?A:le);break t}!Ce||we.h&&ke<Ve?(Ce=0,te.a=we.h?5:3):te.$=ke,A=Ce}else A=Dn(te,te.V,te.Ba,te.c,te.i,A,Vc);if(!A){B=0;break e}}M+B>=Q&&(b.Cc=1),B=1}if(!B)return null;if(b.Cc&&((B=b.ga)!=null&&(B.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+M*H}function w(b,A,M,B,H,Q){for(;0<H--;){var te,ae=b,le=A+(M?1:0),pe=b,we=A+(M?0:3);for(te=0;te<B;++te){var Ie=pe[we+4*te];Ie!=255&&(Ie*=32897,ae[le+4*te+0]=ae[le+4*te+0]*Ie>>23,ae[le+4*te+1]=ae[le+4*te+1]*Ie>>23,ae[le+4*te+2]=ae[le+4*te+2]*Ie>>23)}A+=Q}}function $(b,A,M,B,H){for(;0<B--;){var Q;for(Q=0;Q<M;++Q){var te=b[A+2*Q+0],ae=15&(pe=b[A+2*Q+1]),le=4369*ae,pe=(240&pe|pe>>4)*le>>16;b[A+2*Q+0]=(240&te|te>>4)*le>>16&240|(15&te|te<<4)*le>>16>>4&15,b[A+2*Q+1]=240&pe|ae}A+=H}}function U(b,A,M,B,H,Q,te,ae){var le,pe,we=255;for(pe=0;pe<H;++pe){for(le=0;le<B;++le){var Ie=b[A+le];Q[te+4*le]=Ie,we&=Ie}A+=M,te+=ae}return we!=255}function se(b,A,M,B,H){var Q;for(Q=0;Q<H;++Q)M[B+Q]=b[A+Q]>>8}function Te(){f0=w,kD=$,ID=U,OD=se}function Re(b,A,M){I[b]=function(B,H,Q,te,ae,le,pe,we,Ie,me,Se,Ce,$e,ke,Ve,ze,Xe){var Ke,Dt=Xe-1>>1,xt=ae[le+0]|pe[we+0]<<16,hr=Ie[me+0]|Se[Ce+0]<<16;e(B!=null);var Tt=3*xt+hr+131074>>2;for(A(B[H+0],255&Tt,Tt>>16,$e,ke),Q!=null&&(Tt=3*hr+xt+131074>>2,A(Q[te+0],255&Tt,Tt>>16,Ve,ze)),Ke=1;Ke<=Dt;++Ke){var Pr=ae[le+Ke]|pe[we+Ke]<<16,Ri=Ie[me+Ke]|Se[Ce+Ke]<<16,fr=xt+Pr+hr+Ri+524296,Ct=fr+2*(Pr+hr)>>3;Tt=Ct+xt>>1,xt=(fr=fr+2*(xt+Ri)>>3)+Pr>>1,A(B[H+2*Ke-1],255&Tt,Tt>>16,$e,ke+(2*Ke-1)*M),A(B[H+2*Ke-0],255&xt,xt>>16,$e,ke+(2*Ke-0)*M),Q!=null&&(Tt=fr+hr>>1,xt=Ct+Ri>>1,A(Q[te+2*Ke-1],255&Tt,Tt>>16,Ve,ze+(2*Ke-1)*M),A(Q[te+2*Ke+0],255&xt,xt>>16,Ve,ze+(2*Ke+0)*M)),xt=Pr,hr=Ri}1&Xe||(Tt=3*xt+hr+131074>>2,A(B[H+Xe-1],255&Tt,Tt>>16,$e,ke+(Xe-1)*M),Q!=null&&(Tt=3*hr+xt+131074>>2,A(Q[te+Xe-1],255&Tt,Tt>>16,Ve,ze+(Xe-1)*M)))}}function tt(){Po[gw]=Mne,Po[vw]=qD,Po[FD]=$ne,Po[yw]=WD,Po[bw]=HD,Po[oE]=GD,Po[BD]=Fne,Po[lE]=qD,Po[cE]=WD,Po[xw]=HD,Po[uE]=GD}function Zt(b){return b&~Bne?0>b?0:255:b>>KD}function vn(b,A){return Zt((19077*b>>8)+(26149*A>>8)-14234)}function Sr(b,A,M){return Zt((19077*b>>8)-(6419*A>>8)-(13320*M>>8)+8708)}function Nn(b,A){return Zt((19077*b>>8)+(33050*A>>8)-17685)}function Yi(b,A,M,B,H){B[H+0]=vn(b,M),B[H+1]=Sr(b,A,M),B[H+2]=Nn(b,A)}function qa(b,A,M,B,H){B[H+0]=Nn(b,A),B[H+1]=Sr(b,A,M),B[H+2]=vn(b,M)}function Ln(b,A,M,B,H){var Q=Sr(b,A,M);A=Q<<3&224|Nn(b,A)>>3,B[H+0]=248&vn(b,M)|Q>>5,B[H+1]=A}function xa(b,A,M,B,H){var Q=240&Nn(b,A)|15;B[H+0]=240&vn(b,M)|Sr(b,A,M)>>4,B[H+1]=Q}function Ao(b,A,M,B,H){B[H+0]=255,Yi(b,A,M,B,H+1)}function Qc(b,A,M,B,H){qa(b,A,M,B,H),B[H+3]=255}function i0(b,A,M,B,H){Yi(b,A,M,B,H),B[H+3]=255}function si(b,A){return 0>b?0:b>A?A:b}function Jc(b,A,M){I[b]=function(B,H,Q,te,ae,le,pe,we,Ie){for(var me=we+(-2&Ie)*M;we!=me;)A(B[H+0],Q[te+0],ae[le+0],pe,we),A(B[H+1],Q[te+0],ae[le+0],pe,we+M),H+=2,++te,++le,we+=2*M;1&Ie&&A(B[H+0],Q[te+0],ae[le+0],pe,we)}}function Lm(b,A,M){return M==0?b==0?A==0?6:5:A==0?4:0:M}function hw(b,A,M,B,H){switch(b>>>30){case 3:Vf(A,M,B,H,0);break;case 2:Eo(A,M,B,H);break;case 1:Yr(A,M,B,H)}}function No(b,A){var M,B,H=A.M,Q=A.Nb,te=b.oc,ae=b.pc+40,le=b.oc,pe=b.pc+584,we=b.oc,Ie=b.pc+600;for(M=0;16>M;++M)te[ae+32*M-1]=129;for(M=0;8>M;++M)le[pe+32*M-1]=129,we[Ie+32*M-1]=129;for(0<H?te[ae-1-32]=le[pe-1-32]=we[Ie-1-32]=129:(i(te,ae-32-1,127,21),i(le,pe-32-1,127,9),i(we,Ie-32-1,127,9)),B=0;B<b.za;++B){var me=A.ya[A.aa+B];if(0<B){for(M=-1;16>M;++M)n(te,ae+32*M-4,te,ae+32*M+12,4);for(M=-1;8>M;++M)n(le,pe+32*M-4,le,pe+32*M+4,4),n(we,Ie+32*M-4,we,Ie+32*M+4,4)}var Se=b.Gd,Ce=b.Hd+B,$e=me.ad,ke=me.Hc;if(0<H&&(n(te,ae-32,Se[Ce].y,0,16),n(le,pe-32,Se[Ce].f,0,8),n(we,Ie-32,Se[Ce].ea,0,8)),me.Za){var Ve=te,ze=ae-32+16;for(0<H&&(B>=b.za-1?i(Ve,ze,Se[Ce].y[15],4):n(Ve,ze,Se[Ce+1].y,0,4)),M=0;4>M;M++)Ve[ze+128+M]=Ve[ze+256+M]=Ve[ze+384+M]=Ve[ze+0+M];for(M=0;16>M;++M,ke<<=2)Ve=te,ze=ae+XD[M],nl[me.Ob[M]](Ve,ze),hw(ke,$e,16*+M,Ve,ze)}else if(Ve=Lm(B,H,me.Ob[0]),Ed[Ve](te,ae),ke!=0)for(M=0;16>M;++M,ke<<=2)hw(ke,$e,16*+M,te,ae+XD[M]);for(M=me.Gc,Ve=Lm(B,H,me.Dd),tu[Ve](le,pe),tu[Ve](we,Ie),ke=$e,Ve=le,ze=pe,255&(me=0|M)&&(170&me?Jl(ke,256,Ve,ze):yn(ke,256,Ve,ze)),me=we,ke=Ie,255&(M>>=8)&&(170&M?Jl($e,320,me,ke):yn($e,320,me,ke)),H<b.Ub-1&&(n(Se[Ce].y,0,te,ae+480,16),n(Se[Ce].f,0,le,pe+224,8),n(Se[Ce].ea,0,we,Ie+224,8)),M=8*Q*b.B,Se=b.sa,Ce=b.ta+16*B+16*Q*b.R,$e=b.qa,me=b.ra+8*B+M,ke=b.Ha,Ve=b.Ia+8*B+M,M=0;16>M;++M)n(Se,Ce+M*b.R,te,ae+32*M,16);for(M=0;8>M;++M)n($e,me+M*b.B,le,pe+32*M,8),n(ke,Ve+M*b.B,we,Ie+32*M,8)}}function Ff(b,A,M,B,H,Q,te,ae,le){var pe=[0],we=[0],Ie=0,me=le!=null?le.kd:0,Se=le??new Fe;if(b==null||12>M)return 7;Se.data=b,Se.w=A,Se.ha=M,A=[A],M=[M],Se.gb=[Se.gb];e:{var Ce=A,$e=M,ke=Se.gb;if(e(b!=null),e($e!=null),e(ke!=null),ke[0]=0,12<=$e[0]&&!r(b,Ce[0],"RIFF")){if(r(b,Ce[0]+8,"WEBP")){ke=3;break e}var Ve=ge(b,Ce[0]+4);if(12>Ve||4294967286<Ve){ke=3;break e}if(me&&Ve>$e[0]-8){ke=7;break e}ke[0]=Ve,Ce[0]+=12,$e[0]-=12}ke=0}if(ke!=0)return ke;for(Ve=0<Se.gb[0],M=M[0];;){e:{var ze=b;$e=A,ke=M;var Xe=pe,Ke=we,Dt=Ce=[0];if((Tt=Ie=[Ie])[0]=0,8>ke[0])ke=7;else{if(!r(ze,$e[0],"VP8X")){if(ge(ze,$e[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var xt=ge(ze,$e[0]+8),hr=1+de(ze,$e[0]+12);if(2147483648<=hr*(ze=1+de(ze,$e[0]+15))){ke=3;break e}Dt!=null&&(Dt[0]=xt),Xe!=null&&(Xe[0]=hr),Ke!=null&&(Ke[0]=ze),$e[0]+=18,ke[0]-=18,Tt[0]=1}ke=0}}if(Ie=Ie[0],Ce=Ce[0],ke!=0)return ke;if($e=!!(2&Ce),!Ve&&Ie)return 3;if(Q!=null&&(Q[0]=!!(16&Ce)),te!=null&&(te[0]=$e),ae!=null&&(ae[0]=0),te=pe[0],Ce=we[0],Ie&&$e&&le==null){ke=0;break}if(4>M){ke=7;break}if(Ve&&Ie||!Ve&&!Ie&&!r(b,A[0],"ALPH")){M=[M],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{xt=b,ke=A,Ve=M;var Tt=Se.gb;Xe=Se.na,Ke=Se.P,Dt=Se.Sa,hr=22,e(xt!=null),e(Ve!=null),ze=ke[0];var Pr=Ve[0];for(e(Xe!=null),e(Dt!=null),Xe[0]=null,Ke[0]=null,Dt[0]=0;;){if(ke[0]=ze,Ve[0]=Pr,8>Pr){ke=7;break e}var Ri=ge(xt,ze+4);if(4294967286<Ri){ke=3;break e}var fr=8+Ri+1&-2;if(hr+=fr,0<Tt&&hr>Tt){ke=3;break e}if(!r(xt,ze,"VP8 ")||!r(xt,ze,"VP8L")){ke=0;break e}if(Pr[0]<fr){ke=7;break e}r(xt,ze,"ALPH")||(Xe[0]=xt,Ke[0]=ze+8,Dt[0]=Ri),ze+=fr,Pr-=fr}}if(M=M[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],ke!=0)break}M=[M],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(Tt=b,ke=A,Ve=M,Xe=Se.gb[0],Ke=Se.Ja,Dt=Se.xa,xt=ke[0],ze=!r(Tt,xt,"VP8 "),hr=!r(Tt,xt,"VP8L"),e(Tt!=null),e(Ve!=null),e(Ke!=null),e(Dt!=null),8>Ve[0])ke=7;else{if(ze||hr){if(Tt=ge(Tt,xt+4),12<=Xe&&Tt>Xe-12){ke=3;break e}if(me&&Tt>Ve[0]-8){ke=7;break e}Ke[0]=Tt,ke[0]+=8,Ve[0]-=8,Dt[0]=hr}else Dt[0]=5<=Ve[0]&&Tt[xt+0]==47&&!(Tt[xt+4]>>5),Ke[0]=Ve[0];ke=0}if(M=M[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],A=A[0],ke!=0)break;if(4294967286<Se.Ja)return 3;if(ae==null||$e||(ae[0]=Se.xa?2:1),te=[te],Ce=[Ce],Se.xa){if(5>M){ke=7;break}ae=te,me=Ce,$e=Q,b==null||5>M?b=0:5<=M&&b[A+0]==47&&!(b[A+4]>>5)?(Ve=[0],Tt=[0],Xe=[0],Z(Ke=new V,b,A,M),Rn(Ke,Ve,Tt,Xe)?(ae!=null&&(ae[0]=Ve[0]),me!=null&&(me[0]=Tt[0]),$e!=null&&($e[0]=Xe[0]),b=1):b=0):b=0}else{if(10>M){ke=7;break}ae=Ce,b==null||10>M||!Vl(b,A+3,M-3)?b=0:(me=b[A+0]|b[A+1]<<8|b[A+2]<<16,$e=16383&(b[A+7]<<8|b[A+6]),b=16383&(b[A+9]<<8|b[A+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Se.Ja||!$e||!b?b=0:(te&&(te[0]=$e),ae&&(ae[0]=b),b=1))}if(!b||(te=te[0],Ce=Ce[0],Ie&&(pe[0]!=te||we[0]!=Ce)))return 3;le!=null&&(le[0]=Se,le.offset=A-le.w,e(4294967286>A-le.w),e(le.offset==le.ha-M));break}return ke==0||ke==7&&Ie&&le==null?(Q!=null&&(Q[0]|=Se.na!=null&&0<Se.na.length),B!=null&&(B[0]=te),H!=null&&(H[0]=Ce),0):ke}function a0(b,A,M){var B=A.width,H=A.height,Q=0,te=0,ae=B,le=H;if(A.Da=b!=null&&0<b.Da,A.Da&&(ae=b.cd,le=b.bd,Q=b.v,te=b.j,11>M||(Q&=-2,te&=-2),0>Q||0>te||0>=ae||0>=le||Q+ae>B||te+le>H))return 0;if(A.v=Q,A.j=te,A.va=Q+ae,A.o=te+le,A.U=ae,A.T=le,A.da=b!=null&&0<b.da,A.da){if(!Le(ae,le,M=[b.ib],Q=[b.hb]))return 0;A.ib=M[0],A.hb=Q[0]}return A.ob=b!=null&&b.ob,A.Kb=b==null||!b.Sd,A.da&&(A.ob=A.ib<3*B/4&&A.hb<3*H/4,A.Kb=0),1}function s0(b){if(b==null)return 2;if(11>b.S){var A=b.f.RGBA;A.fb+=(b.height-1)*A.A,A.A=-A.A}else A=b.f.kb,b=b.height,A.O+=(b-1)*A.fa,A.fa=-A.fa,A.N+=(b-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(b-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(b-1)*A.lb,A.lb=-A.lb);return 0}function bd(b,A,M,B){if(B==null||0>=b||0>=A)return 2;if(M!=null){if(M.Da){var H=M.cd,Q=M.bd,te=-2&M.v,ae=-2&M.j;if(0>te||0>ae||0>=H||0>=Q||te+H>b||ae+Q>A)return 2;b=H,A=Q}if(M.da){if(!Le(b,A,H=[M.ib],Q=[M.hb]))return 2;b=H[0],A=Q[0]}}B.width=b,B.height=A;e:{var le=B.width,pe=B.height;if(b=B.S,0>=le||0>=pe||!(b>=gw&&13>b))b=2;else{if(0>=B.Rd&&B.sd==null){te=Q=H=A=0;var we=(ae=le*QD[b])*pe;if(11>b||(Q=(pe+1)/2*(A=(le+1)/2),b==12&&(te=(H=le)*pe)),(pe=a(we+2*Q+te))==null){b=1;break e}B.sd=pe,11>b?((le=B.f.RGBA).eb=pe,le.fb=0,le.A=ae,le.size=we):((le=B.f.kb).y=pe,le.O=0,le.fa=ae,le.Fd=we,le.f=pe,le.N=0+we,le.Ab=A,le.Cd=Q,le.ea=pe,le.W=0+we+Q,le.Db=A,le.Ed=Q,b==12&&(le.F=pe,le.J=0+we+2*Q),le.Tc=te,le.lb=H)}if(A=1,H=B.S,Q=B.width,te=B.height,H>=gw&&13>H)if(11>H)b=B.f.RGBA,A&=(ae=Math.abs(b.A))*(te-1)+Q<=b.size,A&=ae>=Q*QD[H],A&=b.eb!=null;else{b=B.f.kb,ae=(Q+1)/2,we=(te+1)/2,le=Math.abs(b.fa),pe=Math.abs(b.Ab);var Ie=Math.abs(b.Db),me=Math.abs(b.lb),Se=me*(te-1)+Q;A&=le*(te-1)+Q<=b.Fd,A&=pe*(we-1)+ae<=b.Cd,A=(A&=Ie*(we-1)+ae<=b.Ed)&le>=Q&pe>=ae&Ie>=ae,A&=b.y!=null,A&=b.f!=null,A&=b.ea!=null,H==12&&(A&=me>=Q,A&=Se<=b.Tc,A&=b.F!=null)}else A=0;b=A?0:2}}return b!=0||M!=null&&M.fd&&(b=s0(B)),b}var Bf=64,Us=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vs=24,xd=32,Zc=8,wd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(b){return b},I.Predictor2=function(b,A,M){return A[M+0]},I.Predictor3=function(b,A,M){return A[M+1]},I.Predictor4=function(b,A,M){return A[M-1]},I.Predictor5=function(b,A,M){return Je(Je(b,A[M+1]),A[M+0])},I.Predictor6=function(b,A,M){return Je(b,A[M-1])},I.Predictor7=function(b,A,M){return Je(b,A[M+0])},I.Predictor8=function(b,A,M){return Je(A[M-1],A[M+0])},I.Predictor9=function(b,A,M){return Je(A[M+0],A[M+1])},I.Predictor10=function(b,A,M){return Je(Je(b,A[M-1]),Je(A[M+0],A[M+1]))},I.Predictor11=function(b,A,M){var B=A[M+0];return 0>=ut(B>>24&255,b>>24&255,(A=A[M-1])>>24&255)+ut(B>>16&255,b>>16&255,A>>16&255)+ut(B>>8&255,b>>8&255,A>>8&255)+ut(255&B,255&b,255&A)?B:b},I.Predictor12=function(b,A,M){var B=A[M+0];return(Gt((b>>24&255)+(B>>24&255)-((A=A[M-1])>>24&255))<<24|Gt((b>>16&255)+(B>>16&255)-(A>>16&255))<<16|Gt((b>>8&255)+(B>>8&255)-(A>>8&255))<<8|Gt((255&b)+(255&B)-(255&A)))>>>0},I.Predictor13=function(b,A,M){var B=A[M-1];return(At((b=Je(b,A[M+0]))>>24&255,B>>24&255)<<24|At(b>>16&255,B>>16&255)<<16|At(b>>8&255,B>>8&255)<<8|At(255&b,255&B))>>>0};var o0=I.PredictorAdd0;I.PredictorAdd1=Lt,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Mm=I.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var fi,fw=I.ColorIndexInverseTransform,Xl=I.MapARGB,Ql=I.VP8LColorIndexInverseTransformAlpha,l0=I.MapAlpha,c0=I.VP8LPredictorsAdd=[];c0.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var u0,d0,_d,Sd,Ad,Uf,Nd,Vf,Eo,Jl,Yr,yn,pi,Oi,eu,h0,$m,pw,ND,ED,jD,PD,TD,CD,f0,kD,ID,OD,RD=a(511),DD=a(2041),LD=a(225),MD=a(767),$D=0,sE=DD,mw=LD,zs=MD,jo=RD,gw=0,vw=1,FD=2,yw=3,bw=4,oE=5,BD=6,lE=7,cE=8,xw=9,uE=10,Sne=[2,3,7],Ane=[3,3,11],UD=[280,256,256,256,40],Nne=[0,1,1,1,0],Ene=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jne=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Pne=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tne=8,dE=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hE=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],p0=null,Cne=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kne=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],VD=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ine=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],One=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rne=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Dne=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ed=[],nl=[],tu=[],Lne=1,zD=2,jd=[],Po=[];Re("UpsampleRgbLinePair",Yi,3),Re("UpsampleBgrLinePair",qa,3),Re("UpsampleRgbaLinePair",i0,4),Re("UpsampleBgraLinePair",Qc,4),Re("UpsampleArgbLinePair",Ao,4),Re("UpsampleRgba4444LinePair",xa,2),Re("UpsampleRgb565LinePair",Ln,2);var Mne=I.UpsampleRgbLinePair,$ne=I.UpsampleBgrLinePair,qD=I.UpsampleRgbaLinePair,WD=I.UpsampleBgraLinePair,HD=I.UpsampleArgbLinePair,GD=I.UpsampleRgba4444LinePair,Fne=I.UpsampleRgb565LinePair,ww=16,_w=1<<ww-1,m0=-227,fE=482,KD=6,Bne=(256<<KD)-1,YD=0,Une=a(256),Vne=a(256),zne=a(256),qne=a(256),Wne=a(fE-m0),Hne=a(fE-m0);Jc("YuvToRgbRow",Yi,3),Jc("YuvToBgrRow",qa,3),Jc("YuvToRgbaRow",i0,4),Jc("YuvToBgraRow",Qc,4),Jc("YuvToArgbRow",Ao,4),Jc("YuvToRgba4444Row",xa,2),Jc("YuvToRgb565Row",Ln,2);var XD=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sw=[0,2,8],Gne=[8,7,6,4,4,2,2,2,1,1,1,1],Kne=1;this.WebPDecodeRGBA=function(b,A,M,B,H){var Q=vw,te=new Ee,ae=new it;te.ba=ae,ae.S=Q,ae.width=[ae.width],ae.height=[ae.height];var le=ae.width,pe=ae.height,we=new Ze;if(we==null||b==null)var Ie=2;else e(we!=null),Ie=Ff(b,A,M,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Ie!=0?le=0:(le!=null&&(le[0]=we.width[0]),pe!=null&&(pe[0]=we.height[0]),le=1),le){ae.width=ae.width[0],ae.height=ae.height[0],B!=null&&(B[0]=ae.width),H!=null&&(H[0]=ae.height);e:{if(B=new ud,(H=new Fe).data=b,H.w=A,H.ha=M,H.kd=1,A=[0],e(H!=null),((b=Ff(H.data,H.w,H.ha,null,null,null,A,null,H))==0||b==7)&&A[0]&&(b=4),(A=b)==0){if(e(te!=null),B.data=H.data,B.w=H.w+H.offset,B.ha=H.ha-H.offset,B.put=lt,B.ac=dr,B.bc=Qn,B.ma=te,H.xa){if((b=Fr())==null){te=1;break e}if(function(me,Se){var Ce=[0],$e=[0],ke=[0];t:for(;;){if(me==null)return 0;if(Se==null)return me.a=2,0;if(me.l=Se,me.a=0,Z(me.m,Se.data,Se.w,Se.ha),!Rn(me.m,Ce,$e,ke)){me.a=3;break t}if(me.xb=zD,Se.width=Ce[0],Se.height=$e[0],!Wn(Ce[0],$e[0],1,me,null))break t;return 1}return e(me.a!=0),0}(b,B)){if(B=(A=bd(B.width,B.height,te.Oa,te.ba))==0){t:{B=b;r:for(;;){if(B==null){B=0;break t}if(e(B.s.yc!=null),e(B.s.Ya!=null),e(0<B.s.Wb),e((M=B.l)!=null),e((H=M.ma)!=null),B.xb!=0){if(B.ca=H.ba,B.tb=H.tb,e(B.ca!=null),!a0(H.Oa,M,yw)){B.a=2;break r}if(!yo(B,M.width)||M.da)break r;if((M.da||Ae(B.ca.S))&&Te(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&Te()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!ee(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!Dn(B,B.V,B.Ba,B.c,B.i,M.o,jr))break r;H.Dc=B.Ma,B=1;break t}e(B.a!=0),B=0}B=!B}B&&(A=b.a)}else A=b.a}else{if((b=new xo)==null){te=1;break e}if(b.Fa=H.na,b.P=H.P,b.qc=H.Sa,zl(b,B)){if((A=bd(B.width,B.height,te.Oa,te.ba))==0){if(b.Aa=0,M=te.Oa,e((H=b)!=null),M!=null){if(0<(le=0>(le=M.Md)?0:100<le?255:255*le/100)){for(pe=we=0;4>pe;++pe)12>(Ie=H.pb[pe]).lc&&(Ie.ia=le*Gne[0>Ie.lc?0:Ie.lc]>>3),we|=Ie.ia;we&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=M.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(me,Se){if(me==null)return 0;if(Se==null)return Gr(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!zl(me,Se))return 0;if(e(me.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(me.L=0);var Ce=Sw[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Se.v-Ce>>4,me.zb=Se.j-Ce>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Se.o+15+Ce>>4,me.Hb=Se.va+15+Ce>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var $e=me.ed;for(Ce=0;4>Ce;++Ce){var ke;if(me.Qa.Cb){var Ve=me.Qa.Lb[Ce];me.Qa.Fb||(Ve+=$e.Tb)}else Ve=$e.Tb;for(ke=0;1>=ke;++ke){var ze=me.gd[Ce][ke],Xe=Ve;if($e.Pc&&(Xe+=$e.vd[0],ke&&(Xe+=$e.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var Ke=Xe;0<$e.wb&&(Ke=4<$e.wb?Ke>>2:Ke>>1)>9-$e.wb&&(Ke=9-$e.wb),1>Ke&&(Ke=1),ze.dd=Ke,ze.tc=2*Xe+Ke,ze.ld=40<=Xe?2:15<=Xe?1:0}else ze.tc=0;ze.La=ke}}}Ce=0}else Gr(me,6,"Frame setup failed"),Ce=me.a;if(Ce=Ce==0){if(Ce){me.$c=0,0<me.Aa||(me.Ic=Kne);t:{Ce=me.Ic,$e=4*(Ke=me.za);var Dt=32*Ke,xt=Ke+1,hr=0<me.L?Ke*(0<me.Aa?2:1):0,Tt=(me.Aa==2?2:1)*Ke;if((ze=$e+832+(ke=3*(16*Ce+Sw[me.L])/2*Dt)+(Ve=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=ze)Ce=0;else{if(ze>me.Vb){if(me.Vb=0,me.Ec=a(ze),me.Fc=0,me.Ec==null){Ce=Gr(me,1,"no memory during frame initialization.");break t}me.Vb=ze}ze=me.Ec,Xe=me.Fc,me.Ac=ze,me.Bc=Xe,Xe+=$e,me.Gd=s(Dt,kf),me.Hd=0,me.rb=s(xt+1,ld),me.sb=1,me.wa=hr?s(hr,Ua):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=Ke),e(!0),me.oc=ze,me.pc=Xe,Xe+=832,me.ya=s(Tt,qc),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=Ke),me.R=16*Ke,me.B=8*Ke,Ke=(Dt=Sw[me.L])*me.R,Dt=Dt/2*me.B,me.sa=ze,me.ta=Xe+Ke,me.qa=me.sa,me.ra=me.ta+16*Ce*me.R+Dt,me.Ha=me.qa,me.Ia=me.ra+8*Ce*me.B+Dt,me.$c=0,Xe+=ke,me.mb=Ve?ze:null,me.nb=Ve?Xe:null,e(Xe+Ve<=me.Fc+me.Vb),Br(me),i(me.Ac,me.Bc,0,$e),Ce=1}}if(Ce){if(Se.ka=0,Se.y=me.sa,Se.O=me.ta,Se.f=me.qa,Se.N=me.ra,Se.ea=me.Ha,Se.Vd=me.Ia,Se.fa=me.R,Se.Rc=me.B,Se.F=null,Se.J=0,!$D){for(Ce=-255;255>=Ce;++Ce)RD[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)DD[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)LD[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)MD[255+Ce]=0>Ce?0:255<Ce?255:Ce;$D=1}Nd=ql,Vf=t0,Jl=r0,Yr=wo,yn=Cm,Eo=Tm,pi=Mf,Oi=$f,eu=R,h0=W,$m=rl,pw=yd,ND=fe,ED=ye,jD=Kl,PD=Yl,TD=Xc,CD=Dm,nl[0]=Rm,nl[1]=dd,nl[2]=Rf,nl[3]=fd,nl[4]=Hc,nl[5]=_o,nl[6]=Va,nl[7]=Df,nl[8]=pd,nl[9]=Sn,Ed[0]=Wl,Ed[1]=Im,Ed[2]=Om,Ed[3]=hd,Ed[4]=n0,Ed[5]=Wc,Ed[6]=ps,tu[0]=Kc,tu[1]=km,tu[2]=Lf,tu[3]=Hl,tu[4]=ms,tu[5]=md,tu[6]=gd,Ce=1}else Ce=0}Ce&&(Ce=function(Pr,Ri){for(Pr.M=0;Pr.M<Pr.Va;++Pr.M){var fr,Ct=Pr.Jc[Pr.M&Pr.Xb],at=Pr.m,mi=Pr;for(fr=0;fr<mi.za;++fr){var lr=at,Or=mi,Mn=Or.Ac,aa=Or.Bc+4*fr,Wa=Or.zc,oi=Or.ya[Or.aa+fr];if(Or.Qa.Bb?oi.$b=T(lr,Or.Pa.jb[0])?2+T(lr,Or.Pa.jb[2]):T(lr,Or.Pa.jb[1]):oi.$b=0,Or.kc&&(oi.Ad=T(lr,Or.Bd)),oi.Za=!T(lr,145)+0,oi.Za){var wa=oi.Ob,Ha=0;for(Or=0;4>Or;++Or){var Di,Ur=Wa[0+Or];for(Di=0;4>Di;++Di){Ur=One[Mn[aa+Di]][Ur];for(var tn=VD[T(lr,Ur[0])];0<tn;)tn=VD[2*tn+T(lr,Ur[tn])];Ur=-tn,Mn[aa+Di]=Ur}n(wa,Ha,Mn,aa,4),Ha+=4,Wa[0+Or]=Ur}}else Ur=T(lr,156)?T(lr,128)?1:3:T(lr,163)?2:0,oi.Ob[0]=Ur,i(Mn,aa,Ur,4),i(Wa,0,Ur,4);oi.Dd=T(lr,142)?T(lr,114)?T(lr,183)?1:3:2:0}if(mi.m.Ka)return Gr(Pr,7,"Premature end-of-partition0 encountered.");for(;Pr.ja<Pr.za;++Pr.ja){if(mi=Ct,lr=(at=Pr).rb[at.sb-1],Mn=at.rb[at.sb+at.ja],fr=at.ya[at.aa+at.ja],aa=at.kc?fr.Ad:0)lr.la=Mn.la=0,fr.Za||(lr.Na=Mn.Na=0),fr.Hc=0,fr.Gc=0,fr.ia=0;else{var li,rn;if(lr=Mn,Mn=mi,aa=at.Pa.Xc,Wa=at.ya[at.aa+at.ja],oi=at.pb[Wa.$b],Or=Wa.ad,wa=0,Ha=at.rb[at.sb-1],Ur=Di=0,i(Or,wa,0,384),Wa.Za)var sa=0,il=aa[3];else{tn=a(16);var gi=lr.Na+Ha.Na;if(gi=p0(Mn,aa[1],gi,oi.Eb,0,tn,0),lr.Na=Ha.Na=(0<gi)+0,1<gi)Nd(tn,0,Or,wa);else{var gs=tn[0]+3>>3;for(tn=0;256>tn;tn+=16)Or[wa+tn]=gs}sa=1,il=aa[0]}var bn=15&lr.la,Li=15&Ha.la;for(tn=0;4>tn;++tn){var qs=1&Li;for(gs=rn=0;4>gs;++gs)bn=bn>>1|(qs=(gi=p0(Mn,il,gi=qs+(1&bn),oi.Sc,sa,Or,wa))>sa)<<7,rn=rn<<2|(3<gi?3:1<gi?2:Or[wa+0]!=0),wa+=16;bn>>=4,Li=Li>>1|qs<<7,Di=(Di<<8|rn)>>>0}for(il=bn,sa=Li>>4,li=0;4>li;li+=2){for(rn=0,bn=lr.la>>4+li,Li=Ha.la>>4+li,tn=0;2>tn;++tn){for(qs=1&Li,gs=0;2>gs;++gs)gi=qs+(1&bn),bn=bn>>1|(qs=0<(gi=p0(Mn,aa[2],gi,oi.Qc,0,Or,wa)))<<3,rn=rn<<2|(3<gi?3:1<gi?2:Or[wa+0]!=0),wa+=16;bn>>=2,Li=Li>>1|qs<<5}Ur|=rn<<4*li,il|=bn<<4<<li,sa|=(240&Li)<<li}lr.la=il,Ha.la=sa,Wa.Hc=Di,Wa.Gc=Ur,Wa.ia=43690&Ur?0:oi.ia,aa=!(Di|Ur)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[fr.$b][fr.Za],at.wa[at.Y+at.ja].La|=!aa),mi.Ka)return Gr(Pr,7,"Premature end-of-file encountered.")}if(Br(Pr),at=Ri,mi=1,fr=(Ct=Pr).D,lr=0<Ct.L&&Ct.M>=Ct.zb&&Ct.M<=Ct.Va,Ct.Aa==0)t:{if(fr.M=Ct.M,fr.uc=lr,No(Ct,fr),mi=1,fr=(rn=Ct.D).Nb,lr=(Ur=Sw[Ct.L])*Ct.R,Mn=Ur/2*Ct.B,tn=16*fr*Ct.R,gs=8*fr*Ct.B,aa=Ct.sa,Wa=Ct.ta-lr+tn,oi=Ct.qa,Or=Ct.ra-Mn+gs,wa=Ct.Ha,Ha=Ct.Ia-Mn+gs,Li=(bn=rn.M)==0,Di=bn>=Ct.Va-1,Ct.Aa==2&&No(Ct,rn),rn.uc)for(qs=(gi=Ct).D.M,e(gi.D.uc),rn=gi.yb;rn<gi.Hb;++rn){sa=rn,il=qs;var Ga=(Ws=(oa=gi).D).Nb;li=oa.R;var Ws=Ws.wa[Ws.Y+sa],Hs=oa.sa,vs=oa.ta+16*Ga*li+16*sa,Gs=Ws.dd,En=Ws.tc;if(En!=0)if(e(3<=En),oa.L==1)0<sa&&PD(Hs,vs,li,En+4),Ws.La&&CD(Hs,vs,li,En),0<il&&jD(Hs,vs,li,En+4),Ws.La&&TD(Hs,vs,li,En);else{var Ks=oa.B,al=oa.qa,zf=oa.ra+8*Ga*Ks+8*sa,ru=oa.Ha,oa=oa.Ia+8*Ga*Ks+8*sa;Ga=Ws.ld,0<sa&&(Oi(Hs,vs,li,En+4,Gs,Ga),h0(al,zf,ru,oa,Ks,En+4,Gs,Ga)),Ws.La&&(pw(Hs,vs,li,En,Gs,Ga),ED(al,zf,ru,oa,Ks,En,Gs,Ga)),0<il&&(pi(Hs,vs,li,En+4,Gs,Ga),eu(al,zf,ru,oa,Ks,En+4,Gs,Ga)),Ws.La&&($m(Hs,vs,li,En,Gs,Ga),ND(al,zf,ru,oa,Ks,En,Gs,Ga))}}if(Ct.ia&&alert("todo:DitherRow"),at.put!=null){if(rn=16*bn,bn=16*(bn+1),Li?(at.y=Ct.sa,at.O=Ct.ta+tn,at.f=Ct.qa,at.N=Ct.ra+gs,at.ea=Ct.Ha,at.W=Ct.Ia+gs):(rn-=Ur,at.y=aa,at.O=Wa,at.f=oi,at.N=Or,at.ea=wa,at.W=Ha),Di||(bn-=Ur),bn>at.o&&(bn=at.o),at.F=null,at.J=null,Ct.Fa!=null&&0<Ct.Fa.length&&rn<bn&&(at.J=gn(Ct,at,rn,bn-rn),at.F=Ct.mb,at.F==null&&at.F.length==0)){mi=Gr(Ct,3,"Could not decode alpha data.");break t}rn<at.j&&(Ur=at.j-rn,rn=at.j,e(!(1&Ur)),at.O+=Ct.R*Ur,at.N+=Ct.B*(Ur>>1),at.W+=Ct.B*(Ur>>1),at.F!=null&&(at.J+=at.width*Ur)),rn<bn&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=rn-at.j,at.U=at.va-at.v,at.T=bn-rn,mi=at.put(at))}fr+1!=Ct.Ic||Di||(n(Ct.sa,Ct.ta-lr,aa,Wa+16*Ct.R,lr),n(Ct.qa,Ct.ra-Mn,oi,Or+8*Ct.B,Mn),n(Ct.Ha,Ct.Ia-Mn,wa,Ha+8*Ct.B,Mn))}if(!mi)return Gr(Pr,6,"Output aborted.")}return 1}(me,Se)),Se.bc!=null&&Se.bc(Se),Ce&=1}return Ce?(me.cb=0,Ce):0})(b,B)||(A=b.a)}}else A=b.a}A==0&&te.Oa!=null&&te.Oa.fd&&(A=s0(te.ba))}te=A}Q=te!=0?null:11>Q?ae.f.RGBA.eb:ae.f.kb.y}else Q=null;return Q};var QD=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,D){for(var k="",O=0;O<4;O++)k+=String.fromCharCode(I[D++]);return k}function d(I,D){return I[D+0]|I[D+1]<<8}function h(I,D){return(I[D+0]|I[D+1]<<8|I[D+2]<<16)>>>0}function p(I,D){return(I[D+0]|I[D+1]<<8|I[D+2]<<16|I[D+3]<<24)>>>0}new l;var f=[0],v=[0],m=[],g=new l,y=t,x=function(I,D){var k={},O=0,L=!1,z=0,re=0;if(k.frames=[],!function(F,V){for(var G=0;G<4;G++)if(F[V+G]!="RIFF".charCodeAt(G))return!0;return!1}(I,D)){for(p(I,D+=4),D+=8;D<I.length;){var Y=u(I,D),K=p(I,D+=4);D+=4;var q=K+(1&K);switch(Y){case"VP8 ":case"VP8L":k.frames[O]===void 0&&(k.frames[O]={}),(ce=k.frames[O]).src_off=L?re:D-8,ce.src_size=z+K+8,O++,L&&(L=!1,z=0,re=0);break;case"VP8X":(ce=k.header={}).feature_flags=I[D];var Z=D+4;ce.canvas_width=1+h(I,Z),Z+=3,ce.canvas_height=1+h(I,Z),Z+=3;break;case"ALPH":L=!0,z=q+8,re=D-8;break;case"ANIM":(ce=k.header).bgcolor=p(I,D),Z=D+4,ce.loop_count=d(I,Z),Z+=2;break;case"ANMF":var ve,ce;(ce=k.frames[O]={}).offset_x=2*h(I,D),D+=3,ce.offset_y=2*h(I,D),D+=3,ce.width=1+h(I,D),D+=3,ce.height=1+h(I,D),D+=3,ce.duration=h(I,D),D+=3,ve=I[D++],ce.dispose=1&ve,ce.blend=ve>>1&1}Y!="ANMF"&&(D+=q)}return k}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var _=x.header?x.header:null,S=x.frames?x.frames:null;if(_){_.loop_counter=_.loop_count,f=[_.canvas_height],v=[_.canvas_width];for(var N=0;N<S.length&&S[N].blend!=0;N++);}var C=S[0],j=g.WebPDecodeRGBA(y,C.src_off,C.src_size,v,f);C.rgba=j,C.imgwidth=v[0],C.imgheight=f[0];for(var E=0;E<v[0]*f[0]*4;E++)m[E]=j[E];return this.width=v,this.height=f,this.data=m,this}(function(t){var e,r,n,i,a,s,o,l,u,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new s,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new s,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=F;Object.defineProperty(this,"pdf",{get:function(){return V}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ge){G=!!ge}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(ge){oe=!!ge}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(ge){isNaN(ge)||(J=ge)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(ge){isNaN(ge)||(ie=ge)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ge){var ee;typeof ge=="number"?ee=[ge,ge,ge,ge]:((ee=new Array(4))[0]=ge[0],ee[1]=ge.length>=2?ge[1]:ee[0],ee[2]=ge.length>=3?ge[2]:ee[0],ee[3]=ge.length>=4?ge[3]:ee[1]),u.margin=ee}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(ge){be=ge}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ge){he=ge}});var T=[];Object.defineProperty(this,"pageBreaks",{get:function(){return T},set:function(ge){T=ge}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ge){ge instanceof d&&(u=ge)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ge){u.path=ge}});var X=[];Object.defineProperty(this,"ctxStack",{get:function(){return X},set:function(ge){X=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var ee;ee=p(ge),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var ee=p(ge);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var ne=null,de=null;Object.defineProperty(this,"fontFaces",{get:function(){return de},set:function(ge){ne=null,de=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var ee;if(this.ctx.font=ge,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Ne=ee[1];ee[2];var De=ee[3],Le=ee[4];ee[5];var _e=ee[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(Pe==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var je=function(kt){var ct,Kt,zt=[],dt=kt.trim();if(dt==="")return FP;if(dt in PU)return[PU[dt]];for(;dt!=="";){switch(Kt=null,ct=(dt=CU(dt)).charAt(0)){case'"':case"'":Kt=wQe(dt.substring(1),ct);break;default:Kt=_Qe(dt)}if(Kt===null||(zt.push(Kt[0]),(dt=CU(Kt[1]))!==""&&dt.charAt(0)!==","))return FP;dt=dt.replace(/^,/,"")}return zt}(_e);if(this.fontFaces){var Me=function(kt,ct){if(ne===null){var Kt=function(zt){var dt=[];return Object.keys(zt).forEach(function(Oe){zt[Oe].forEach(function(Ot){var gt=null;switch(Ot){case"bold":gt={family:Oe,weight:"bold"};break;case"italic":gt={family:Oe,style:"italic"};break;case"bolditalic":gt={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:Oe}}gt!==null&&(gt.ref={name:Oe,style:Ot},dt.push(gt))})}),dt}(kt.getFontList());ne=function(zt){for(var dt={},Oe=0;Oe<zt.length;++Oe){var Ot=$P(zt[Oe]),gt=Ot.family,Qt=Ot.stretch,Ae=Ot.style,nt=Ot.weight;dt[gt]=dt[gt]||{},dt[gt][Qt]=dt[gt][Qt]||{},dt[gt][Qt][Ae]=dt[gt][Qt][Ae]||{},dt[gt][Qt][Ae][nt]=Ot}return dt}(Kt.concat(ct))}return ne}(this.pdf,this.fontFaces),Je=je.map(function(kt){return{family:kt,stretch:"normal",weight:De,style:Ne}}),Gt=function(kt,ct,Kt){for(var zt=(Kt=Kt||{}).defaultFontFamily||"times",dt=Object.assign({},xQe,Kt.genericFontFamilies||{}),Oe=null,Ot=null,gt=0;gt<ct.length;++gt)if(dt[(Oe=$P(ct[gt])).family]&&(Oe.family=dt[Oe.family]),kt.hasOwnProperty(Oe.family)){Ot=kt[Oe.family];break}if(!(Ot=Ot||kt[zt]))throw new Error("Could not find a font-family for the rule '"+TU(Oe)+"' and default family '"+zt+"'.");if(Ot=function(Qt,Ae){if(Ae[Qt])return Ae[Qt];var nt=X4[Qt],tr=nt<=X4.normal?-1:1,it=jU(Ae,zre,nt,tr);if(!it)throw new Error("Could not find a matching font-stretch value for "+Qt);return it}(Oe.stretch,Ot),Ot=function(Qt,Ae){if(Ae[Qt])return Ae[Qt];for(var nt=Vre[Qt],tr=0;tr<nt.length;++tr)if(Ae[nt[tr]])return Ae[nt[tr]];throw new Error("Could not find a matching font-style for "+Qt)}(Oe.style,Ot),!(Ot=function(Qt,Ae){if(Ae[Qt])return Ae[Qt];if(Qt===400&&Ae[500])return Ae[500];if(Qt===500&&Ae[400])return Ae[400];var nt=bQe[Qt],tr=jU(Ae,qre,nt,Qt<400?-1:1);if(!tr)throw new Error("Could not find a matching font-weight for value "+Qt);return tr}(Oe.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+TU(Oe)+"'.");return Ot}(Me,Je);this.pdf.setFont(Gt.ref.name,Gt.ref.style)}else{var At="";(De==="bold"||parseInt(De,10)>=700||Ne==="bold")&&(At="bold"),Ne==="italic"&&(At+="italic"),At.length===0&&(At="normal");for(var ut="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<je.length;Nt++){if(this.pdf.internal.getFont(je[Nt],At,{noFallback:!0,disableWarning:!0})!==void 0){ut=je[Nt];break}if(At==="bolditalic"&&this.pdf.internal.getFont(je[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=je[Nt],At="bold";else if(this.pdf.internal.getFont(je[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=je[Nt],At="normal";break}}if(ut===""){for(var St=0;St<je.length;St++)if(Lt[je[St]]){ut=Lt[je[St]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,At)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){S.call(this,"fill",!1)},h.prototype.stroke=function(){S.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new s(F,V));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(F,V)},h.prototype.closePath=function(){var F=new s(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&an(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){F=new s(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(F.x,F.y)},h.prototype.lineTo=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new s(F,V));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,V,G,oe){if(isNaN(G)||isNaN(oe)||isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new s(G,oe)),ie=this.ctx.transform.applyToPoint(new s(F,V));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},h.prototype.bezierCurveTo=function(F,V,G,oe,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new s(J,ie)),he=this.ctx.transform.applyToPoint(new s(F,V)),T=this.ctx.transform.applyToPoint(new s(G,oe));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:T.x,y2:T.y,x:be.x,y:be.y}),this.ctx.lastPoint=new s(be.x,be.y)},h.prototype.arc=function(F,V,G,oe,J,ie){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe)||isNaN(J))throw xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new s(F,V));F=be.x,V=be.y;var he=this.ctx.transform.applyToPoint(new s(0,G)),T=this.ctx.transform.applyToPoint(new s(0,0));G=Math.sqrt(Math.pow(he.x-T.x,2)+Math.pow(he.y-T.y,2))}Math.abs(J-oe)>=2*Math.PI&&(oe=0,J=2*Math.PI),this.path.push({type:"arc",x:F,y:V,radius:G,startAngle:oe,endAngle:J,counterclockwise:ie})},h.prototype.arcTo=function(F,V,G,oe,J){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,V),this.lineTo(F+G,V),this.lineTo(F+G,V+oe),this.lineTo(F,V+oe),this.lineTo(F,V),this.lineTo(F+G,V),this.lineTo(F,V)},h.prototype.fillRect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,V,G,oe),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},h.prototype.strokeRect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(F,V,G,oe),this.stroke())},h.prototype.clearRect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,V,G,oe))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(V),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var V,G,oe,J;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))V=0,G=0,oe=0,J=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ie!==null)V=parseInt(ie[1]),G=parseInt(ie[2]),oe=parseInt(ie[3]),J=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)V=parseInt(ie[1]),G=parseInt(ie[2]),oe=parseInt(ie[3]),J=parseFloat(ie[4]);else{if(J=1,typeof F=="string"&&F.charAt(0)!=="#"){var be=new Dre(F);F=be.ok?be.toHex():"#000000"}F.length===4?(V=F.substring(1,2),V+=V,G=F.substring(2,3),G+=G,oe=F.substring(3,4),oe+=oe):(V=F.substring(1,3),G=F.substring(3,5),oe=F.substring(5,7)),V=parseInt(V,16),G=parseInt(G,16),oe=parseInt(oe,16)}}return{r:V,g:G,b:oe,a:J,style:F}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,V,G,oe){if(isNaN(V)||isNaN(G)||typeof F!="string")throw xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!f.call(this)){var J=q(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:F,x:V,y:G,scale:ie,angle:J,align:this.textAlign,maxWidth:oe})}},h.prototype.strokeText=function(F,V,G,oe){if(isNaN(V)||isNaN(G)||typeof F!="string")throw xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){oe=isNaN(oe)?void 0:oe;var J=q(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:F,x:V,y:G,scale:ie,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:oe})}},h.prototype.measureText=function(F){if(typeof F!="string")throw xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,G=this.pdf.internal.scaleFactor,oe=V.internal.getFontSize(),J=V.getStringUnitWidth(F)*oe/V.internal.scaleFactor;return new function(ie){var be=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:J*=Math.round(96*G/72*1e4)/1e4})},h.prototype.scale=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(F,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.rotate=function(F){if(isNaN(F))throw xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.translate=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,F,V);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.transform=function(F,V,G,oe,J,ie){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe)||isNaN(J)||isNaN(ie))throw xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(F,V,G,oe,J,ie);this.ctx.transform=this.ctx.transform.multiply(be)},h.prototype.setTransform=function(F,V,G,oe,J,ie){F=isNaN(F)?1:F,V=isNaN(V)?0:V,G=isNaN(G)?0:G,oe=isNaN(oe)?1:oe,J=isNaN(J)?0:J,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(F,V,G,oe,J,ie)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,V,G,oe,J,ie,be,he,T){var X=this.pdf.getImageProperties(F),ne=1,de=1,ge=1,ee=1;oe!==void 0&&he!==void 0&&(ge=he/oe,ee=T/J,ne=X.width/oe*he/oe,de=X.height/J*T/J),ie===void 0&&(ie=V,be=G,V=0,G=0),oe!==void 0&&he===void 0&&(he=oe,T=J),oe===void 0&&he===void 0&&(he=X.width,T=X.height);for(var Ne,De=this.ctx.transform.decompose(),Le=q(De.rotate.shx),_e=new l,Pe=(_e=(_e=(_e=_e.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new o(ie-V*ge,be-G*ee,oe*ne,J*de)),je=g.call(this,Pe),Me=[],Je=0;Je<je.length;Je+=1)Me.indexOf(je[Je])===-1&&Me.push(je[Je]);if(_(Me),this.autoPaging)for(var Gt=Me[0],At=Me[Me.length-1],ut=Gt;ut<At+1;ut++){this.pdf.setPage(ut);var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=ut===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=ut===1?0:St+(ut-2)*kt;if(this.ctx.clip_path.length!==0){var Kt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ne,this.posX+this.margin[3],-ct+Nt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Kt}var zt=JSON.parse(JSON.stringify(Pe));zt=x([zt],this.posX+this.margin[3],-ct+Nt+this.ctx.prevPageLastElemOffset)[0];var dt=(ut>Gt||ut<At)&&m.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,kt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,Le),dt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,Le)};var g=function(F,V,G){var oe=[];V=V||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":oe.push(Math.floor((F.y+J)/G)+1);break;case"arc":oe.push(Math.floor((F.y+J-F.radius)/G)+1),oe.push(Math.floor((F.y+J+F.radius)/G)+1);break;case"qct":var ie=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);oe.push(Math.floor((ie.y+J)/G)+1),oe.push(Math.floor((ie.y+ie.h+J)/G)+1);break;case"bct":var be=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);oe.push(Math.floor((be.y+J)/G)+1),oe.push(Math.floor((be.y+be.h+J)/G)+1);break;case"rect":oe.push(Math.floor((F.y+J)/G)+1),oe.push(Math.floor((F.y+F.h+J)/G)+1)}for(var he=0;he<oe.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<oe[he];)y.call(this);return oe},y=function(){var F=this.fillStyle,V=this.strokeStyle,G=this.font,oe=this.lineCap,J=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=V,this.font=G,this.lineCap=oe,this.lineWidth=J,this.lineJoin=ie},x=function(F,V,G){for(var oe=0;oe<F.length;oe++)switch(F[oe].type){case"bct":F[oe].x2+=V,F[oe].y2+=G;case"qct":F[oe].x1+=V,F[oe].y1+=G;default:F[oe].x+=V,F[oe].y+=G}return F},_=function(F){return F.sort(function(V,G){return V-G})},S=function(F,V){for(var G,oe,J=this.fillStyle,ie=this.strokeStyle,be=this.lineCap,he=this.lineWidth,T=Math.abs(he*this.ctx.transform.scaleX),X=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),ge=[],ee=0;ee<de.length;ee++)if(de[ee].x!==void 0)for(var Ne=g.call(this,de[ee]),De=0;De<Ne.length;De+=1)ge.indexOf(Ne[De])===-1&&ge.push(Ne[De]);for(var Le=0;Le<ge.length;Le++)for(;this.pdf.internal.getNumberOfPages()<ge[Le];)y.call(this);if(_(ge),this.autoPaging)for(var _e=ge[0],Pe=ge[ge.length-1],je=_e;je<Pe+1;je++){this.pdf.setPage(je),this.fillStyle=J,this.strokeStyle=ie,this.lineCap=be,this.lineWidth=T,this.lineJoin=X;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=je===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=je===1?0:Gt+(je-2)*At;if(this.ctx.clip_path.length!==0){var Lt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(G,this.posX+this.margin[3],-ut+Je+this.ctx.prevPageLastElemOffset),N.call(this,F,!0),this.path=Lt}if(oe=JSON.parse(JSON.stringify(ne)),this.path=x(oe,this.posX+this.margin[3],-ut+Je+this.ctx.prevPageLastElemOffset),V===!1||je===0){var Nt=(je>_e||je<Pe)&&m.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,At,null).clip().discardPath()),N.call(this,F,V),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=T,N.call(this,F,V),this.lineWidth=he;this.path=ne},N=function(F,V){if((F!=="stroke"||V||!v.call(this))&&(F==="stroke"||V||!f.call(this))){for(var G,oe,J=[],ie=this.path,be=0;be<ie.length;be++){var he=ie[be];switch(he.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:he,deltas:[],abs:[]});break;case"lt":var T=J.length;if(ie[be-1]&&!isNaN(ie[be-1].x)&&(G=[he.x-ie[be-1].x,he.y-ie[be-1].y],T>0)){for(;T>=0;T--)if(J[T-1].close!==!0&&J[T-1].begin!==!0){J[T-1].deltas.push(G),J[T-1].abs.push(he);break}}break;case"bct":G=[he.x1-ie[be-1].x,he.y1-ie[be-1].y,he.x2-ie[be-1].x,he.y2-ie[be-1].y,he.x-ie[be-1].x,he.y-ie[be-1].y],J[J.length-1].deltas.push(G);break;case"qct":var X=ie[be-1].x+2/3*(he.x1-ie[be-1].x),ne=ie[be-1].y+2/3*(he.y1-ie[be-1].y),de=he.x+2/3*(he.x1-he.x),ge=he.y+2/3*(he.y1-he.y),ee=he.x,Ne=he.y;G=[X-ie[be-1].x,ne-ie[be-1].y,de-ie[be-1].x,ge-ie[be-1].y,ee-ie[be-1].x,Ne-ie[be-1].y],J[J.length-1].deltas.push(G);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(he)}}oe=V?null:F==="stroke"?"stroke":"fill";for(var De=!1,Le=0;Le<J.length;Le++)if(J[Le].arc)for(var _e=J[Le].abs,Pe=0;Pe<_e.length;Pe++){var je=_e[Pe];je.type==="arc"?E.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,V,!De):L.call(this,je.x,je.y),De=!0}else if(J[Le].close===!0)this.pdf.internal.out("h"),De=!1;else if(J[Le].begin!==!0){var Me=J[Le].start.x,Je=J[Le].start.y;z.call(this,J[Le].deltas,Me,Je),De=!0}oe&&I.call(this,oe),V&&D.call(this)}},C=function(F){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-G;case"top":return F+V-G;case"hanging":return F+V-2*G;case"middle":return F+V/2-G;default:return F}},j=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(V,G){this.colorStops.push([V,G])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(F,V,G,oe,J,ie,be,he,T){for(var X=Y.call(this,G,oe,J,ie),ne=0;ne<X.length;ne++){var de=X[ne];ne===0&&(T?k.call(this,de.x1+F,de.y1+V):L.call(this,de.x1+F,de.y1+V)),re.call(this,F,V,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}he?D.call(this):I.call(this,be)},I=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(F,V){this.pdf.internal.out(r(F)+" "+n(V)+" m")},O=function(F){var V;switch(F.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var G=this.pdf.getTextDimensions(F.text),oe=C.call(this,F.y),J=j.call(this,oe)-G.h,ie=this.ctx.transform.applyToPoint(new s(F.x,oe)),be=this.ctx.transform.decompose(),he=new l;he=(he=(he=he.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var T,X,ne,de=this.ctx.transform.applyToRectangle(new o(F.x,oe,G.w,G.h)),ge=he.applyToRectangle(new o(F.x,J,G.w,G.h)),ee=g.call(this,ge),Ne=[],De=0;De<ee.length;De+=1)Ne.indexOf(ee[De])===-1&&Ne.push(ee[De]);if(_(Ne),this.autoPaging)for(var Le=Ne[0],_e=Ne[Ne.length-1],Pe=Le;Pe<_e+1;Pe++){this.pdf.setPage(Pe);var je=Pe===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],Gt=Je-this.margin[0],At=this.pdf.internal.pageSize.width-this.margin[1],ut=At-this.margin[3],Lt=Pe===1?0:Me+(Pe-2)*Gt;if(this.ctx.clip_path.length!==0){var Nt=this.path;T=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(T,this.posX+this.margin[3],-1*Lt+je),N.call(this,"fill",!0),this.path=Nt}var St=x([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-Lt+je+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale);var kt=this.autoPaging!=="text";if(kt||St.y+St.h<=Je){if(kt||St.y>=je&&St.x<=At){var ct=kt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||At-St.x)[0],Kt=x([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-Lt+je+this.ctx.prevPageLastElemOffset)[0],zt=kt&&(Pe>Le||Pe<_e)&&m.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Gt,null).clip().discardPath()),this.pdf.text(ct,Kt.x,Kt.y,{angle:F.angle,align:V,renderingMode:F.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else St.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-St.y);F.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ne)}else F.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale),this.pdf.text(F.text,ie.x+this.posX,ie.y+this.posY,{angle:F.angle,align:V,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ne)},L=function(F,V,G,oe){G=G||0,oe=oe||0,this.pdf.internal.out(r(F+G)+" "+n(V+oe)+" l")},z=function(F,V,G){return this.pdf.lines(F,V,G,null,null)},re=function(F,V,G,oe,J,ie,be,he){this.pdf.internal.out([e(i(G+F)),e(a(oe+V)),e(i(J+F)),e(a(ie+V)),e(i(be+F)),e(a(he+V)),"c"].join(" "))},Y=function(F,V,G,oe){for(var J=2*Math.PI,ie=Math.PI/2;V>G;)V-=J;var be=Math.abs(G-V);be<J&&oe&&(be=J-be);for(var he=[],T=oe?-1:1,X=V;be>1e-5;){var ne=X+T*Math.min(be,ie);he.push(K.call(this,F,X,ne)),be-=Math.abs(ne-X),X=ne}return he},K=function(F,V,G){var oe=(G-V)/2,J=F*Math.cos(oe),ie=F*Math.sin(oe),be=J,he=-ie,T=be*be+he*he,X=T+be*J+he*ie,ne=4/3*(Math.sqrt(2*T*X)-X)/(be*ie-he*J),de=be-ne*he,ge=he+ne*be,ee=de,Ne=-ge,De=oe+V,Le=Math.cos(De),_e=Math.sin(De);return{x1:F*Math.cos(V),y1:F*Math.sin(V),x2:de*Le-ge*_e,y2:de*_e+ge*Le,x3:ee*Le-Ne*_e,y3:ee*_e+Ne*Le,x4:F*Math.cos(G),y4:F*Math.sin(G)}},q=function(F){return 180*F/Math.PI},Z=function(F,V,G,oe,J,ie){var be=F+.5*(G-F),he=V+.5*(oe-V),T=J+.5*(G-J),X=ie+.5*(oe-ie),ne=Math.min(F,J,be,T),de=Math.max(F,J,be,T),ge=Math.min(V,ie,he,X),ee=Math.max(V,ie,he,X);return new o(ne,ge,de-ne,ee-ge)},ve=function(F,V,G,oe,J,ie,be,he){var T,X,ne,de,ge,ee,Ne,De,Le,_e,Pe,je,Me,Je,Gt=G-F,At=oe-V,ut=J-G,Lt=ie-oe,Nt=be-J,St=he-ie;for(X=0;X<41;X++)Le=(Ne=(ne=F+(T=X/40)*Gt)+T*((ge=G+T*ut)-ne))+T*(ge+T*(J+T*Nt-ge)-Ne),_e=(De=(de=V+T*At)+T*((ee=oe+T*Lt)-de))+T*(ee+T*(ie+T*St-ee)-De),X==0?(Pe=Le,je=_e,Me=Le,Je=_e):(Pe=Math.min(Pe,Le),je=Math.min(je,_e),Me=Math.max(Me,Le),Je=Math.max(Je,_e));return new o(Math.round(Pe),Math.round(je),Math.round(Me-Pe),Math.round(Je-je))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,V,G=(F=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:V}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Mt.API),function(t){var e=function(s){var o,l,u,d,h,p,f,v,m,g;for(l=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(h=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(g=h%85))/85)-(m=h%85))/85)-(v=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,v+33,m+33,g+33)):l.push(122);return function(y,x){for(var _=x;_>0;_--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,u,d,h,p=String,f="length",v=255,m="charCodeAt",g="slice",y="replace";for(s[g](-2),s=s[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],d=0,h=(s+=o="uuuuu"[g](s[f]%5||5))[f];h>d;d+=5)l=52200625*(s[m](d)-33)+614125*(s[m](d+1)-33)+7225*(s[m](d+2)-33)+85*(s[m](d+3)-33)+(s[m](d+4)-33),u.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(x,_){for(var S=_;S>0;S--)x.pop()}(u,o[f]),p.fromCharCode.apply(p,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=M4(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,o){var l=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Mt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,d){var h=new XMLHttpRequest,p=0,f=function(v){var m=v.length,g=[],y=String.fromCharCode;for(p=0;p<m;p+=1)g.push(y(255&v.charCodeAt(p)));return g.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(Mt.API),function(t){function e(){return(er.html2canvas?Promise.resolve(er.html2canvas):Ou(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(er.DOMPurify?Promise.resolve(er.DOMPurify):Ou(()=>import("./purify.es-DfngIMfA.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=an(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},a=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(o(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var v=d[f],m=v.src.find(function(g){return g.format==="truetype"});m&&u.addFont(m.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,h).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=u.call(h,o,l);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Mt.getPageSize=function(o,l,u){if(an(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var v,m=0,g=0;if(f.hasOwnProperty(p))m=f[p][1]/h,g=f[p][0]/h;else try{m=u[1],g=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",g>m&&(v=g,g=m,m=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(v=g,g=m,m=v)}return{width:g,height:m,unit:l,k:h,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map($P):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(Mt.API),Mt.API.addJS=function(t){return IU=t,this.internal.events.subscribe("postPutResources",function(){M2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(M2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kU=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+IU+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){M2!==void 0&&kU!==void 0&&this.internal.out("/Names <</JavaScript "+M2+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=r.internal.newObject();d.push(h);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Mt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,m={width:0,height:0,numcomponents:1},g=4;g<v;g+=2){if(g+=f,e.indexOf(h.charCodeAt(g+1))!==-1){p=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),m={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:p,numcomponents:h.charCodeAt(g+9)};break}f=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(Mt.API),Mt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=aQe(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,d=a.depth;i=u&&l===1?function(E){for(var I=E.width,D=E.height,k=E.data,O=E.palette,L=E.depth,z=!1,re=[],Y=[],K=void 0,q=!1,Z=0,ve=0;ve<O.length;ve++){var ce=EB(O[ve],4),F=ce[0],V=ce[1],G=ce[2],oe=ce[3];re.push(F,V,G),oe!=null&&(oe===0?(Z++,Y.length<1&&Y.push(ve)):oe<255&&(q=!0))}if(q||Z>1){z=!0,Y=void 0;var J=I*D;K=new Uint8Array(J);for(var ie=new DataView(k.buffer),be=0;be<J;be++){var he=BP(ie,be,L),T=EB(O[he],4)[3];K[be]=T}}else Z===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:k,alphaBytes:K,needSMask:z,palette:re,mask:Y}}(a):l===2||l===4?function(E){for(var I=E.data,D=E.width,k=E.height,O=E.channels,L=E.depth,z=O===2?"DeviceGray":"DeviceRGB",re=O-1,Y=D*k,K=re,q=Y*K,Z=1*Y,ve=Math.ceil(q*L/8),ce=Math.ceil(Z*L/8),F=new Uint8Array(ve),V=new Uint8Array(ce),G=new DataView(I.buffer),oe=new DataView(F.buffer),J=new DataView(V.buffer),ie=!1,be=0;be<Y;be++){for(var he=be*O,T=0;T<K;T++)UU(oe,BP(G,he+T,L),be*K+T,L);var X=BP(G,he+K,L);X<(1<<L)-1&&(ie=!0),UU(J,X,1*be,L)}return{colorSpace:z,colorsPerPixel:re,sMaskBitsPerComponent:ie?L:void 0,colorBytes:F,alphaBytes:V,needSMask:ie}}(a):function(E){var I=E.data,D=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(k){for(var O=k.length,L=new Uint8Array(2*O),z=new DataView(L.buffer,L.byteOffset,L.byteLength),re=0;re<O;re++)z.setUint16(2*re,k[re],!1);return L}(I):I,needSMask:!1}}(a);var h,p,f,v=i,m=v.colorSpace,g=v.colorsPerPixel,y=v.sMaskBitsPerComponent,x=v.colorBytes,_=v.alphaBytes,S=v.needSMask,N=v.palette,C=v.mask,j=null;return n!==Mt.API.image_compression.NONE&&typeof M4=="function"?(j=function(E){var I;switch(E){case Mt.API.image_compression.FAST:I=11;break;case Mt.API.image_compression.MEDIUM:I=13;break;case Mt.API.image_compression.SLOW:I=14;break;default:I=12}return I}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(j," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(s),t=LU(x,Math.ceil(s*g*d/8),g,d,n),S&&(f=LU(_,Math.ceil(s*y/8),1,y,n))):(h=void 0,p=void 0,t=x,S&&(f=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:p,transparency:C,palette:N,sMask:f,predictor:j,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:y,colorSpace:m}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new EQe(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},d=new UP(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(Mt.API),cl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){xn.log("bit decode error:"+r)}},cl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},cl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},cl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},cl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},cl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},cl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},cl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},cl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new cl(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new UP(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Mt.API),zU.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new zU(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new UP(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Mt.API),Mt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=n[u],h=n[u+1],p=n[u+2],f=n[u+3];a[o++]=d,a[o++]=h,a[o++]=p,s[l++]=f}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Mt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rg=Mt.API,$2=rg.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,f=t.length,v=0,m=o[0]||l,g=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=h&&an(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,g.push((o[n]||m)/l+p)),v=n;return g},OU=rg.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return rg.processArabic&&(t=rg.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:$2.apply(this,arguments).reduce(function(a,s){return a+s},0)},RU=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},DU=function(t,e,r){r||(r={});var n,i,a,s,o,l,u,d=[],h=[d],p=r.textIndent||0,f=0,v=0,m=t.split(" "),g=$2.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),x=[];m.map(function(S){(S=S.split(/\s*\n/)).length>1?x=x.concat(S.map(function(N,C){return(C&&N.length?`
`:"")+N})):x.push(S[0])}),m=x,l=OU.apply(this,[y,r])}for(a=0,s=m.length;a<s;a++){var _=0;if(n=m[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+f+(v=(i=$2.apply(this,[n,r])).reduce(function(S,N){return S+N},0))>e||_){if(v>e){for(o=RU.apply(this,[n,i,e-(p+f),e]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);v=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(S,N){return S+N},0)}else d=[n];h.push(d),p=v+l,f=g}else d.push(n),p+=f+v,f=g}return u=l?function(S,N){return(N?y:"")+S.join(" ")}:function(S){return S.join(" ")},h.map(u)},rg.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(DU.apply(this,[n[o],s,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var f,v,m,g,y=["{"];for(var x in p){if(f=p[x],isNaN(parseInt(x,10))?v="'"+x+"'":(x=parseInt(x,10),v=(v=s(x).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof f=="number")f<0?(m=s(f).slice(3),g="-"):(m=s(f).slice(2),g=""),m=g+m.slice(0,-1)+i[m.slice(-1)];else{if(an(f)!=="object")throw new Error("Don't know what to do with value type "+an(f)+".");m=o(f)}y.push(v+m)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,v,m,g,y={},x=1,_=y,S=[],N="",C="",j=p.length-1,E=1;E<j;E+=1)(g=p[E])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(S.push([_,m]),_={},m=void 0):g=="}"?((v=S.pop())[0][v[1]]=_,m=void 0,_=v[0]):g=="-"?x=-1:m===void 0?n.hasOwnProperty(g)?(N+=n[g],m=parseInt(N,16)*x,x=1,N=""):N+=g:n.hasOwnProperty(g)?(C+=n[g],_[m]=parseInt(C,16)*x,x=1,m=void 0,C=""):C+=g;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var f=p.font,v=h.Unicode[f.postScriptName];v&&(f.metadata.Unicode={},f.metadata.Unicode.widths=v.widths,f.metadata.Unicode.kerning=v.kerning);var m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Mt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(w_(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(Mt),Mt.API.addSvgAsImage=function(t,e,r,n,i,a,s,o){if(isNaN(e)||isNaN(r))throw xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(er.canvg?Promise.resolve(er.canvg):Ou(()=>import("./index.es-CEN92LE-.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,s,o)})},Mt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Mt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,d=0,h=0;function p(v,m){var g,y=!1;for(g=0;g<v.length;g+=1)v[g]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(h=0;h<f;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(an(t)==="object"){for(i in t)if(a=t[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Mt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,p=a.length;h<p;++h){if(o=s.metadata.characterToGlyph(a.charCodeAt(h)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(a){var s,o,l,u,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(o=Object.keys(a).sort(function(f,v){return f-v})).length;h<p;h++)s=o[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",v=0;v<p.length;v++)f+=String.fromCharCode(p[v]);var m=u();d({data:f,addLength1:!0,objectId:m}),l("endobj");var g=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ug(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+ug(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+ug(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var v=u();d({data:p,addLength1:!0,objectId:v}),l("endobj");var m=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ug(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+ug(o.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,d=a.options||{},h=a.mutex||{},p=h.pdfEscape,f=h.activeFontKey,v=h.fonts,m=f,g="",y=0,x="",_=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:h};for(x=o,m=f,Array.isArray(o)&&(x=o[0]),y=0;y<x.length;y+=1)v[m].metadata.hasOwnProperty("cmap")&&(s=v[m].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),s||x[y].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?g+=x[y]:g+="";var S="";return parseInt(m.slice(1))<14||_==="WinAnsiEncoding"?S=p(g,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(S=r(g,v[m])),h.isHex=!0,{text:S,x:l,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(Mt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Mt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,u,d,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,_=0;this.__bidiEngine__={};var S=function(k){var O=k.charCodeAt(),L=O>>8,z=m[L];return z!==void 0?h[256*z+(255&O)]:L===252||L===253?"AL":y.test(L)?"L":L===8?"R":"N"},N=function(k){for(var O,L=0;L<k.length;L++){if((O=S(k.charAt(L)))==="L")return!1;if(O==="R")return!0}return!1},C=function(k,O,L,z){var re,Y,K,q,Z=O[z];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(Z="AN");break;case"AL":x=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":z<1||z+1>=O.length||(re=L[z-1])!=="EN"&&re!=="AN"||(Y=O[z+1])!=="EN"&&Y!=="AN"?Z="N":x&&(Y="AN"),Z=Y===re?Y:"N";break;case"ES":Z=(re=z>0?L[z-1]:"B")==="EN"&&z+1<O.length&&O[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&L[z-1]==="EN"){Z="EN";break}if(x){Z="N";break}for(K=z+1,q=O.length;K<q&&O[K]==="ET";)K++;Z=K<q&&O[K]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(q=O.length,K=z+1;K<q&&O[K]==="NSM";)K++;if(K<q){var ve=k[z],ce=ve>=1425&&ve<=2303||ve===64286;if(re=O[K],ce&&(re==="R"||re==="AL")){Z="R";break}}}Z=z<1||(re=O[z-1])==="B"?"N":L[z-1];break;case"B":x=!1,i=!0,Z=_;break;case"S":a=!0,Z="N"}return Z},j=function(k,O,L){var z=k.split("");return L&&E(z,L,{hiLevel:_}),z.reverse(),O&&O.reverse(),z.join("")},E=function(k,O,L){var z,re,Y,K,q,Z=-1,ve=k.length,ce=0,F=[],V=_?f:p,G=[];for(x=!1,i=!1,a=!1,re=0;re<ve;re++)G[re]=S(k[re]);for(Y=0;Y<ve;Y++){if(q=ce,F[Y]=C(k,G,F,Y),z=240&(ce=V[q][v[F[Y]]]),ce&=15,O[Y]=K=V[ce][5],z>0)if(z===16){for(re=Z;re<Y;re++)O[re]=1;Z=-1}else Z=-1;if(V[ce][6])Z===-1&&(Z=Y);else if(Z>-1){for(re=Z;re<Y;re++)O[re]=K;Z=-1}G[Y]==="B"&&(O[Y]=0),L.hiLevel|=K}a&&function(oe,J,ie){for(var be=0;be<ie;be++)if(oe[be]==="S"){J[be]=_;for(var he=be-1;he>=0&&oe[he]==="WS";he--)J[he]=_}}(G,O,ve)},I=function(k,O,L,z,re){if(!(re.hiLevel<k)){if(k===1&&_===1&&!i)return O.reverse(),void(L&&L.reverse());for(var Y,K,q,Z,ve=O.length,ce=0;ce<ve;){if(z[ce]>=k){for(q=ce+1;q<ve&&z[q]>=k;)q++;for(Z=ce,K=q-1;Z<K;Z++,K--)Y=O[Z],O[Z]=O[K],O[K]=Y,L&&(Y=L[Z],L[Z]=L[K],L[K]=Y);ce=q}ce++}}},D=function(k,O,L){var z=k.split(""),re={hiLevel:_};return L||(L=[]),E(z,L,re),function(Y,K,q){if(q.hiLevel!==0&&d)for(var Z,ve=0;ve<Y.length;ve++)K[ve]===1&&(Z=g.indexOf(Y[ve]))>=0&&(Y[ve]=g[Z+1])}(z,L,re),I(2,z,O,L,re),I(1,z,O,L,re),z.join("")};return this.__bidiEngine__.doBidiReorder=function(k,O,L){if(function(re,Y){if(Y)for(var K=0;K<re.length;K++)Y[K]=K;o===void 0&&(o=N(re)),u===void 0&&(u=N(re))}(k,O),s||!l||u)if(s&&l&&o^u)_=o?1:0,k=j(k,O,L);else if(!s&&l&&u)_=o?1:0,k=D(k,O,L),k=j(k,O);else if(!s||o||l||u){if(s&&!l&&o^u)k=j(k,O),o?(_=0,k=D(k,O,L)):(_=1,k=D(k,O,L),k=j(k,O));else if(s&&o&&!l&&u)_=1,k=D(k,O,L),k=j(k,O);else if(!s&&!l&&o^u){var z=d;o?(_=1,k=D(k,O,L),_=0,d=!1,k=D(k,O,L),d=z):(_=0,k=D(k,O,L),k=j(k,O),_=1,d=!1,k=D(k,O,L),d=z,k=j(k,O))}}else _=0,k=D(k,O,L);else _=o?1:0,k=D(k,O,L);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new cf(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new UQe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new jQe(this.contents),this.head=new TQe(this),this.name=new RQe(this),this.cmap=new Hre(this),this.toUnicode={},this.hhea=new CQe(this),this.maxp=new DQe(this),this.hmtx=new LQe(this),this.post=new IQe(this),this.os2=new kQe(this),this.loca=new BQe(this),this.glyf=new MQe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Bl,cf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),jQe=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,u,d,h,p,f,v,m;for(m in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),s=Math.floor(h/l),d=16*f-h,(i=new cf).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(s),i.writeShort(d),a=16*f,u=i.pos+a,o=null,v=[],r)for(p=r[m],i.writeString(m),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),v=v.concat(p),m==="head"&&(o=u),u+=p.length;u%4;)v.push(0),u++;return i.write(v),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=Gre.call(r);r.length%4;)r.push(0);for(a=new cf(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),PQe={}.hasOwnProperty,Uc=function(t,e){for(var r in e)PQe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Bl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var TQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new cf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),qU=function(){function t(e,r){var n,i,a,s,o,l,u,d,h,p,f,v,m,g,y,x,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,a=function(){var S,N;for(N=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)N.push(e.readUInt16());return N}(),e.pos+=2,m=function(){var S,N;for(N=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)N.push(e.readUInt16());return N}(),u=function(){var S,N;for(N=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)N.push(e.readUInt16());return N}(),d=function(){var S,N;for(N=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)N.push(e.readUInt16());return N}(),i=(this.length-e.pos+this.offset)/2,o=function(){var S,N;for(N=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)N.push(e.readUInt16());return N}(),l=y=0,_=a.length;y<_;l=++y)for(g=a[l],n=x=v=m[l];v<=g?x<=g:x>=g;n=v<=g?++x:--x)d[l]===0?s=n+u[l]:(s=o[d[l]/2+(n-v)-(p-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}e.pos=h}return t.encode=function(e,r){var n,i,a,s,o,l,u,d,h,p,f,v,m,g,y,x,_,S,N,C,j,E,I,D,k,O,L,z,re,Y,K,q,Z,ve,ce,F,V,G,oe,J,ie,be,he,T,X,ne;switch(z=new cf,s=Object.keys(e).sort(function(de,ge){return de-ge}),r){case"macroman":for(m=0,g=function(){var de=[];for(v=0;v<256;++v)de.push(0);return de}(),x={0:0},a={},re=0,Z=s.length;re<Z;re++)x[he=e[i=s[re]]]==null&&(x[he]=++m),a[i]={old:e[i],new:x[e[i]]},g[i]=x[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(g),{charMap:a,subtable:z.data,maxGlyphID:m+1};case"unicode":for(O=[],h=[],_=0,x={},n={},y=u=null,Y=0,ve=s.length;Y<ve;Y++)x[N=e[i=s[Y]]]==null&&(x[N]=++_),n[i]={old:N,new:x[N]},o=x[N]-i,y!=null&&o===u||(y&&h.push(y),O.push(i),u=o),y=i;for(y&&h.push(y),h.push(65535),O.push(65535),D=2*(I=O.length),E=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,j=2*I-E,l=[],C=[],f=[],v=K=0,ce=O.length;K<ce;v=++K){if(k=O[v],d=h[v],k===65535){l.push(0),C.push(0);break}if(k-(L=n[k].new)>=32768)for(l.push(0),C.push(2*(f.length+I-v)),i=q=k;k<=d?q<=d:q>=d;i=k<=d?++q:--q)f.push(n[i].new);else l.push(L-k),C.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*I+2*f.length),z.writeUInt16(0),z.writeUInt16(D),z.writeUInt16(E),z.writeUInt16(p),z.writeUInt16(j),ie=0,F=h.length;ie<F;ie++)i=h[ie],z.writeUInt16(i);for(z.writeUInt16(0),be=0,V=O.length;be<V;be++)i=O[be],z.writeUInt16(i);for(T=0,G=l.length;T<G;T++)o=l[T],z.writeUInt16(o);for(X=0,oe=C.length;X<oe;X++)S=C[X],z.writeUInt16(S);for(ne=0,J=f.length;ne<J;ne++)m=f[ne],z.writeUInt16(m);return{charMap:n,subtable:z.data,maxGlyphID:_+1}}},t}(),Hre=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new qU(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=qU.encode(e,r),(i=new cf).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),CQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),kQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),IQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),OQe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},RQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,o,l,u,d,h,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=d=0,h=n.length;d<h;a=++d)i=n[a],e.pos=i.offset,u=e.readString(i.length),s=new OQe(u,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),DQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),LQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)a=h[u],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Gre=[].slice,MQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,o,l,u,d,h;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new cf(r.read(i))).readShort(),u=o.readShort(),h=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=s===-1?new FQe(o,u,h,l,d):new $Qe(o,s,u,h,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=e[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t}(),$Qe=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),FQe=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new cf(Gre.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),BQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,Bl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t}(),UQe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,u,d,h,p,f,v,m,g,y;for(i in n=Hre.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},y=n.charMap)f[(l=y[i]).old]=l.new;for(v in p=n.maxGlyphID,s)v in f||(f[v]=p++);return d=function(x){var _,S;for(_ in S={},x)S[x[_]]=_;return S}(f),h=Object.keys(d).sort(function(x,_){return x-_}),m=function(){var x,_,S;for(S=[],x=0,_=h.length;x<_;x++)o=h[x],S.push(d[o]);return S}(),a=this.font.glyf.encode(s,m,f),u=this.font.loca.encode(a.offsets,m),g={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();Mt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();const VQe=()=>{var be,he;const{user:t}=Hr(),[e,r]=P.useState(new Date().getMonth()+1),[n,i]=P.useState(new Date().getFullYear()),[a,s]=P.useState(null),[o,l]=P.useState(null),[u,d]=P.useState("all"),[h,p]=P.useState("all"),[f,v]=P.useState("all"),{data:m=[]}=nd((t==null?void 0:t.uid)||""),{data:g=[]}=Ly((t==null?void 0:t.uid)||""),{data:y=[]}=Wx((t==null?void 0:t.uid)||""),x=`${n}-${String(e).padStart(2,"0")}-01`,_=new Date(n,e,0).toISOString().split("T")[0],{data:S=[]}=co((t==null?void 0:t.uid)||"",x,_),C=(()=>{let T=S;return u==="deposits"?T=T.filter(X=>X.type==="deposit"):u==="withdraws"&&(T=T.filter(X=>X.type==="withdraw")),h!=="all"&&(T=T.filter(X=>X.employeeId===h)),f!=="all"&&(T=T.filter(X=>X.platformId===f)),T})(),j=()=>{d("all"),p("all"),v("all")},E=L3(),I=new Date(oc().getTime()-7*24*60*60*1e3).toISOString().split("T")[0],{data:D=[],isLoading:k}=co((t==null?void 0:t.uid)||"",I,E),L=(()=>{const T=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],X=[];for(let ne=6;ne>=0;ne--){const de=new Date;de.setDate(de.getDate()-ne);const ge=de.toISOString().split("T")[0],ee=D.filter(_e=>{var je,Me;return new Date(((Me=(je=_e.createdAt)==null?void 0:je.toDate)==null?void 0:Me.call(je))||_e.createdAt).toISOString().split("T")[0]===ge}),Ne=ee.filter(_e=>_e.type==="withdraw").reduce((_e,Pe)=>_e+(Number(Pe.amount)||0),0),De=ee.filter(_e=>_e.type==="deposit").reduce((_e,Pe)=>_e+(Number(Pe.amount)||0),0),Le=X.length>0?X[X.length-1].lucroAcumulado+Ne-De:Ne-De;X.push({name:T[de.getDay()],receita:Ne,despesa:De,lucro:Ne-De,lucroAcumulado:Le,date:ge,isToday:ne===0})}return X})(),z=a&&o?`${o}-${String(a).padStart(2,"0")}-01`:"",re=a&&o?new Date(o,a,0).toISOString().split("T")[0]:"",{data:Y=[]}=co((t==null?void 0:t.uid)||"",z,re),K=P.useMemo(()=>{const T=y.filter(Pe=>{const je=new Date(Pe.date);return je.getFullYear()===n&&je.getMonth()===e-1}),X=T.reduce((Pe,je)=>Pe+(je.profit||je.margin||0),0),ne=new Set(T.map(Pe=>Pe.date)),de=S.filter(Pe=>!ne.has(Pe.date)),ge=de.reduce((Pe,je)=>{const Me=je.type==="withdraw"?je.amount:-je.amount;return Pe+Me},0),ee=X+ge,Ne=S.filter(Pe=>Pe.type==="deposit"),De=S.filter(Pe=>Pe.type==="withdraw"),Le=Ne.reduce((Pe,je)=>Pe+Number(je.amount||0),0),_e=De.reduce((Pe,je)=>Pe+Number(je.amount||0),0);return console.log("Relatórios - Cálculo Receita Mensal:",{selectedYear:n,selectedMonth:e,monthlySummaries:T.length,monthlyRevenueFromSummaries:X,monthlyTransactions:S.length,openTransactions:de.length,monthlyRevenueFromTransactions:ge,profit:ee}),{deposits:Le,withdraws:_e,profit:ee,transactionCount:S.length}},[S,y,n,e]),q=P.useMemo(()=>{if(!Y.length)return null;const T=y.filter(Pe=>{const je=new Date(Pe.date);return je.getFullYear()===o&&je.getMonth()===(a||0)-1}),X=T.reduce((Pe,je)=>Pe+(je.profit||je.margin||0),0),ne=new Set(T.map(Pe=>Pe.date)),ge=Y.filter(Pe=>!ne.has(Pe.date)).reduce((Pe,je)=>{const Me=je.type==="withdraw"?je.amount:-je.amount;return Pe+Me},0),ee=X+ge,Ne=Y.filter(Pe=>Pe.type==="deposit"),De=Y.filter(Pe=>Pe.type==="withdraw"),Le=Ne.reduce((Pe,je)=>Pe+Number(je.amount||0),0),_e=De.reduce((Pe,je)=>Pe+Number(je.amount||0),0);return{deposits:Le,withdraws:_e,profit:ee,transactionCount:Y.length}},[Y,y,o,a]),Z=P.useMemo(()=>{const T=new Date(n,e,0).getDate(),X=[],ne=y.filter(Ne=>{const De=new Date(Ne.date),Le=De.getFullYear()===n&&De.getMonth()===e-1;return console.log(`Fechamento ${Ne.date}:`,{summaryDate:De.toISOString(),year:De.getFullYear(),month:De.getMonth(),selectedYear:n,selectedMonth:e-1,matches:Le}),Le}),de=new Map;ne.forEach(Ne=>{de.set(Ne.date,Ne)});const ge=new Set(ne.map(Ne=>Ne.date)),ee=new Map;S.forEach(Ne=>{ge.has(Ne.date)||(ee.has(Ne.date)||ee.set(Ne.date,[]),ee.get(Ne.date).push(Ne))});for(let Ne=1;Ne<=T;Ne++){const De=`${n}-${String(e).padStart(2,"0")}-${String(Ne).padStart(2,"0")}`;let Le=0,_e=0,Pe=0,je=0;const Me=de.get(De);if(Me)Le=Me.profit||Me.margin||0,_e=Me.totalDeposits||0,Pe=Me.totalWithdraws||0,je=Me.transactionCount||0,console.log(`Dia ${Ne} (${De}): Usando fechamento - Profit: ${Le}`);else{const Je=ee.get(De)||[],Gt=Je.filter(ut=>ut.type==="deposit"),At=Je.filter(ut=>ut.type==="withdraw");_e=Gt.reduce((ut,Lt)=>ut+Number(Lt.amount||0),0),Pe=At.reduce((ut,Lt)=>ut+Number(Lt.amount||0),0),Le=Pe-_e,je=Je.length,Le!==0&&console.log(`Dia ${Ne} (${De}): Usando transações abertas - Profit: ${Le}`)}X.push({day:Ne,date:De,lucroPrejuizo:Le,depositos:_e,saques:Pe,transacoes:je})}return console.log("Relatórios - DailyData calculado:",{selectedYear:n,selectedMonth:e,monthlySummaries:ne.length,monthlyTransactions:S.length,dailyStats:X.filter(Ne=>Ne.lucroPrejuizo!==0).length}),console.log("Relatórios - Fechamentos diários detalhados:",ne.map(Ne=>({date:Ne.date,profit:Ne.profit||Ne.margin||0,totalDeposits:Ne.totalDeposits||0,totalWithdraws:Ne.totalWithdraws||0}))),console.log("Relatórios - Dias com lucro no gráfico:",X.filter(Ne=>Ne.lucroPrejuizo!==0).map(Ne=>({day:Ne.day,date:Ne.date,lucroPrejuizo:Ne.lucroPrejuizo}))),X},[S,y,e,n]),ve=P.useMemo(()=>{const T=[];for(let X=0;X<Z.length-1;X++){const ne=Z[X],de=Z[X+1],ge=de.lucroPrejuizo>ne.lucroPrejuizo,ee=ge?"#22c55e":"#ef4444";T.push({startDay:ne.day,endDay:de.day,startValue:ne.lucroPrejuizo,endValue:de.lucroPrejuizo,color:ee,isRising:ge})}return T},[Z]),ce=P.useMemo(()=>g.map(T=>{const X=S.filter(De=>De.platformId===T.id),ne=X.filter(De=>De.type==="deposit"),de=X.filter(De=>De.type==="withdraw"),ge=ne.reduce((De,Le)=>De+Number(Le.amount||0),0),ee=de.reduce((De,Le)=>De+Number(Le.amount||0),0),Ne=ee-ge;return{name:T.name,color:T.color,receita:Ne,depositos:ge,saques:ee,transacoes:X.length}}).filter(T=>T.transacoes>0).sort((T,X)=>X.receita-T.receita),[g,S]),F=P.useMemo(()=>m.map(T=>{const X=S.filter(De=>De.employeeId===T.id),ne=X.filter(De=>De.type==="deposit"),de=X.filter(De=>De.type==="withdraw"),ge=ne.reduce((De,Le)=>De+Number(Le.amount||0),0),ee=de.reduce((De,Le)=>De+Number(Le.amount||0),0),Ne=ee-ge;return{name:T.name,receita:Ne,depositos:ge,saques:ee,transacoes:X.length}}).filter(T=>T.transacoes>0).sort((T,X)=>X.receita-T.receita),[m,S]),G=q?((T,X)=>X===0?T>0?100:0:(T-X)/X*100)(K.profit,q.profit):0,oe=()=>{try{let X="\uFEFF";X+=`=== Optify - Sistema de Gestão Financeira ===
`,X+=`Relatório de ${ie[e-1]} de ${n}
`,X+=`Gerado em: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}
`,X+=`
`,X+=`=== RESUMO EXECUTIVO ===
`,X+=`Total de Receitas,R$ ${K.withdraws.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,X+=`Total de Despesas,R$ ${K.deposits.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,X+=`Lucro Líquido,R$ ${K.profit.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,X+=`Total de Transações,${S.length}
`,X+=`Funcionários Ativos,${m.filter(Ne=>Ne.status==="active").length}
`,X+=`Plataformas Utilizadas,${g.length}
`,X+=`
`,X+=`=== ANÁLISE POR FUNCIONÁRIO ===
`,X+=`Funcionário,Depósitos,Saques,Lucro,Transações
`,m.forEach(Ne=>{const De=S.filter(je=>je.employeeId===Ne.id),Le=De.filter(je=>je.type==="deposit").reduce((je,Me)=>je+Number(Me.amount||0),0),_e=De.filter(je=>je.type==="withdraw").reduce((je,Me)=>je+Number(Me.amount||0),0),Pe=_e-Le;X+=`"${Ne.name}",R$ ${Le.toLocaleString("pt-BR")},R$ ${_e.toLocaleString("pt-BR")},R$ ${Pe.toLocaleString("pt-BR")},${De.length}
`}),X+=`
`,X+=`=== ANÁLISE POR PLATAFORMA ===
`,X+=`Plataforma,Depósitos,Saques,Transações
`,g.forEach(Ne=>{const De=S.filter(Pe=>Pe.platformId===Ne.id),Le=De.filter(Pe=>Pe.type==="deposit").reduce((Pe,je)=>Pe+Number(je.amount||0),0),_e=De.filter(Pe=>Pe.type==="withdraw").reduce((Pe,je)=>Pe+Number(je.amount||0),0);X+=`"${Ne.name}",R$ ${Le.toLocaleString("pt-BR")},R$ ${_e.toLocaleString("pt-BR")},${De.length}
`}),X+=`
`,X+=`=== TRANSAÇÕES DETALHADAS ===
`,X+=`Data,Hora,Tipo,Funcionário,Plataforma,Valor,Saldo Diário
`;let ne=0;S.forEach(Ne=>{var je,Me;const De=m.find(Je=>Je.id===Ne.employeeId),Le=g.find(Je=>Je.id===Ne.platformId),_e=Number(Ne.amount||0);Ne.type==="withdraw"?ne+=_e:ne-=_e;const Pe=new Date(((Me=(je=Ne.createdAt)==null?void 0:je.toDate)==null?void 0:Me.call(je))||Ne.createdAt);X+=`"${Pe.toLocaleDateString("pt-BR")}","${Pe.toLocaleTimeString("pt-BR")}","${Ne.type==="withdraw"?"Saque":"Depósito"}","${(De==null?void 0:De.name)||"N/A"}","${(Le==null?void 0:Le.name)||"N/A"}","R$ ${_e.toLocaleString("pt-BR")}","R$ ${ne.toLocaleString("pt-BR")}"
`});const de=new Blob([X],{type:"text/csv;charset=utf-8;"}),ge=document.createElement("a"),ee=URL.createObjectURL(de);ge.setAttribute("href",ee),ge.setAttribute("download",`relatorio_optify_${ie[e-1]}_${n}.csv`),ge.style.visibility="hidden",document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),We.success("Relatório CSV exportado com sucesso!")}catch(T){console.error("Erro ao exportar CSV:",T),We.error("Erro ao exportar relatório CSV")}},J=()=>{try{const T=new Mt,X=T.internal.pageSize.getWidth(),ne=T.internal.pageSize.getHeight(),de=20,ge=[255,165,0],ee=[255,140,0],Ne=[45,45,45],De=[245,245,245],Le=[150,150,150],_e=[255,255,255],Pe=[34,197,94],je=[239,68,68];for(let Et=0;Et<40;Et++){const nr=255-Et*6;T.setFillColor(nr,Math.floor(nr*.65),0),T.rect(0,Et*7,X,7,"F")}const Me=X/2,Je=65,Gt=18,At=[255,140,0],ut=[255,200,100],Lt=Gt*2.4,Nt=Gt*1.2,St=Gt*1.2,kt=Gt*2.8,ct=Je-St-kt/2,Kt=Je-kt/2,zt=Je+kt/2;T.setFillColor(...At),T.setDrawColor(...At);const dt=[[Me-Lt/2,ct],[Me+Lt/2,ct],[Me+Nt/2,Kt],[Me-Nt/2,Kt]];T.triangle(Me-Lt/2,ct,Me+Lt/2,ct,Me,Kt,"F"),T.triangle(Me-Nt/2,Kt,Me,Kt,Me,zt,"F"),T.triangle(Me+Nt/2,Kt,Me,Kt,Me,zt,"F"),T.setDrawColor(255,255,255),T.setLineWidth(1.2),T.line(Me-Lt/2,ct,Me+Lt/2,ct),T.line(Me-Lt/2,ct,Me-Nt/2,Kt),T.line(Me+Lt/2,ct,Me+Nt/2,Kt),T.line(Me-Lt/2,ct,Me+Lt/2,ct),T.line(Me,ct,Me,zt),T.line(Me-Nt/2,Kt,Me,zt),T.line(Me+Nt/2,Kt,Me,zt),T.line(Me-Nt/2,Kt,Me+Nt/2,Kt),T.setTextColor(..._e),T.setFontSize(52),T.setFont("helvetica","bold"),T.text("Optify",Me,120,{align:"center"}),T.setFontSize(18),T.setFont("helvetica","normal"),T.text("Sistema de Gestão de Operações",Me,140,{align:"center"}),T.setFontSize(24),T.setFont("helvetica","bold"),T.text("Relatório Mensal",Me,170,{align:"center"}),T.setFontSize(18),T.setFont("helvetica","normal"),T.text(`${ie[e-1]} de ${n}`,Me,185,{align:"center"}),T.setFontSize(10),T.setTextColor(...Le),T.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,Me,250,{align:"center"}),T.text(`Total de Transações: ${S.length}`,Me,260,{align:"center"}),T.setFontSize(8),T.text("Relatório Confidencial",Me,ne-10,{align:"center"}),T.addPage();let Oe=20;T.setFillColor(...ge),T.rect(0,0,X,15,"F"),T.setTextColor(..._e),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(20),T.setFont("helvetica","bold"),T.text("Resumo Executivo",de,Oe),Oe+=15;const Ot=(X-3*de)/2,gt=35;T.setFillColor(...De),T.roundedRect(de,Oe,Ot,gt,3,3,"F"),T.setDrawColor(...Pe),T.setLineWidth(.5),T.roundedRect(de,Oe,Ot,gt,3,3,"S"),T.setTextColor(...Le),T.setFontSize(10),T.setFont("helvetica","normal"),T.text("Total de Receitas",de+5,Oe+10),T.setTextColor(...Pe),T.setFontSize(18),T.setFont("helvetica","bold"),T.text(`R$ ${K.withdraws.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,de+5,Oe+25),T.setFillColor(...De),T.roundedRect(de+Ot+de,Oe,Ot,gt,3,3,"F"),T.setDrawColor(...je),T.roundedRect(de+Ot+de,Oe,Ot,gt,3,3,"S"),T.setTextColor(...Le),T.setFontSize(10),T.setFont("helvetica","normal"),T.text("Total de Despesas",de+Ot+de+5,Oe+10),T.setTextColor(...je),T.setFontSize(18),T.setFont("helvetica","bold"),T.text(`R$ ${K.deposits.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,de+Ot+de+5,Oe+25),Oe+=gt+10;const Qt=K.profit>=0?Pe:je;T.setFillColor(...De),T.roundedRect(de,Oe,X-2*de,gt,3,3,"F"),T.setDrawColor(...Qt),T.setLineWidth(.8),T.roundedRect(de,Oe,X-2*de,gt,3,3,"S"),T.setTextColor(...Le),T.setFontSize(12),T.setFont("helvetica","normal"),T.text("Lucro Líquido do Período",de+5,Oe+12),T.setTextColor(...Qt),T.setFontSize(22),T.setFont("helvetica","bold");const Ae=`${K.profit>=0?"+":""}R$ ${Math.abs(K.profit).toLocaleString("pt-BR",{minimumFractionDigits:2})}`;T.text(Ae,de+5,Oe+28),Oe+=gt+20,T.setFillColor(...Ne),T.rect(de,Oe,X-2*de,.5,"F"),Oe+=10,T.setTextColor(...Ne),T.setFontSize(14),T.setFont("helvetica","bold"),T.text("Métricas do Período",de,Oe),Oe+=12;const nt=[{label:"Total de Transações",value:S.length.toString()},{label:"Funcionários Ativos",value:m.filter(Et=>Et.status==="active").length.toString()},{label:"Plataformas Utilizadas",value:g.length.toString()},{label:"Ticket Médio",value:`R$ ${(K.withdraws/S.filter(Et=>Et.type==="withdraw").length||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`}],tr=(X-5*de)/2;let it=de,Ze=Oe;nt.forEach((Et,nr)=>{nr===2&&(it=de,Ze+=25),T.setFillColor(...De),T.roundedRect(it,Ze,tr,20,2,2,"F"),T.setTextColor(...Le),T.setFontSize(8),T.setFont("helvetica","normal"),T.text(Et.label,it+5,Ze+8),T.setTextColor(...Ne),T.setFontSize(11),T.setFont("helvetica","bold"),T.text(Et.value,it+5,Ze+16),it+=tr+de}),T.addPage(),Oe=20,T.setFillColor(...ge),T.rect(0,0,X,15,"F"),T.setTextColor(..._e),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(16),T.setFont("helvetica","bold"),T.text("Análise por Funcionário",de,Oe),Oe+=15,m.forEach((Et,nr)=>{Oe>ne-60&&(T.addPage(),T.setFillColor(...ge),T.rect(0,0,X,15,"F"),T.setTextColor(..._e),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=30);const jr=S.filter(Fr=>Fr.employeeId===Et.id),wr=jr.filter(Fr=>Fr.type==="deposit").reduce((Fr,Wn)=>Fr+Number(Wn.amount||0),0),un=jr.filter(Fr=>Fr.type==="withdraw").reduce((Fr,Wn)=>Fr+Number(Wn.amount||0),0),dn=un-wr;T.setFillColor(...De),T.roundedRect(de,Oe,X-2*de,40,3,3,"F"),T.setTextColor(...Ne),T.setFontSize(12),T.setFont("helvetica","bold"),T.text(Et.name||"N/A",de+5,Oe+10);const Dn=Et.status==="active"?Pe:je;T.setFillColor(...Dn),T.circle(de+5,Oe+15,2,"F"),T.setTextColor(...Dn),T.setFontSize(8),T.setFont("helvetica","normal"),T.text(Et.status==="active"?"Ativo":"Inativo",de+10,Oe+16),T.setTextColor(...Le),T.setFontSize(8),T.setFont("helvetica","normal"),T.text("Depósitos:",de+5,Oe+25),T.text("Saques:",de+55,Oe+25),T.text("Lucro:",de+100,Oe+25),T.text("Transações:",de+140,Oe+25),T.setTextColor(...Ne),T.setFontSize(10),T.setFont("helvetica","bold"),T.text(`R$ ${wr.toLocaleString("pt-BR")}`,de+5,Oe+33),T.text(`R$ ${un.toLocaleString("pt-BR")}`,de+55,Oe+33);const pn=dn>=0?Pe:je;T.setTextColor(...pn),T.text(`R$ ${dn.toLocaleString("pt-BR")}`,de+100,Oe+33),T.setTextColor(...Ne),T.text(jr.length.toString(),de+140,Oe+33),Oe+=45}),T.addPage(),Oe=20,T.setFillColor(...ge),T.rect(0,0,X,15,"F"),T.setTextColor(..._e),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(16),T.setFont("helvetica","bold"),T.text("Análise por Plataforma",de,Oe),Oe+=15,g.forEach(Et=>{Oe>ne-40&&(T.addPage(),T.setFillColor(...ge),T.rect(0,0,X,15,"F"),T.setTextColor(..._e),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=30);const nr=S.filter(Fr=>Fr.platformId===Et.id),jr=nr.filter(Fr=>Fr.type==="deposit").reduce((Fr,Wn)=>Fr+Number(Wn.amount||0),0),wr=nr.filter(Fr=>Fr.type==="withdraw").reduce((Fr,Wn)=>Fr+Number(Wn.amount||0),0),un=jr+wr;T.setTextColor(...Ne),T.setFontSize(10),T.setFont("helvetica","bold"),T.text(Et.name||"N/A",de,Oe);const dn=X-4*de,Dn=jr/(K.deposits||1)*dn,pn=wr/(K.withdraws||1)*dn;T.setFillColor(...je),T.rect(de,Oe+5,Dn,6,"F"),T.setTextColor(...je),T.setFontSize(8),T.text(`D: R$ ${jr.toLocaleString("pt-BR")}`,de,Oe+15),T.setFillColor(...Pe),T.rect(de,Oe+12,pn,6,"F"),T.setTextColor(...Pe),T.text(`S: R$ ${wr.toLocaleString("pt-BR")}`,de,Oe+22),T.setTextColor(...Ne),T.setFontSize(8),T.text(`${nr.length} transações`,X-de-30,Oe+15),Oe+=30}),T.addPage(),Oe=20,T.setFillColor(...ge),T.rect(0,0,X,15,"F"),T.setTextColor(..._e),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(16),T.setFont("helvetica","bold"),T.text("Evolução Diária do Lucro",de,Oe),Oe+=15;const mt={};S.forEach(Et=>{var wr,un;const nr=new Date(((un=(wr=Et.createdAt)==null?void 0:wr.toDate)==null?void 0:un.call(wr))||Et.createdAt).toLocaleDateString("pt-BR");mt[nr]||(mt[nr]={deposits:0,withdraws:0,profit:0});const jr=Number(Et.amount||0);Et.type==="deposit"?mt[nr].deposits+=jr:mt[nr].withdraws+=jr,mt[nr].profit=mt[nr].withdraws-mt[nr].deposits});const ot=Object.keys(mt).sort((Et,nr)=>{const[jr,wr,un]=Et.split("/").map(Number),[dn,Dn,pn]=nr.split("/").map(Number);return new Date(un,wr-1,jr).getTime()-new Date(pn,Dn-1,dn).getTime()}),ft=80,ur=X-2*de,dr=de,lt=Oe;T.setFillColor(...De),T.rect(dr,lt,ur,ft,"F"),T.setDrawColor(...Le),T.setLineWidth(.3),T.line(dr,lt+ft,dr+ur,lt+ft),T.line(dr,lt,dr,lt+ft);const Qn=ot.map(Et=>mt[Et].profit),Rn=Math.max(...Qn,0),$r=Math.min(...Qn,0),cn=Rn-$r||1,en=lt+ft-(0-$r)/cn*ft;T.setDrawColor(...Ne),T.setLineWidth(.5),T.setLineDash([2,2]),T.line(dr,en,dr+ur,en),T.setLineDash([]);const fn=ot.length>1?ur/(ot.length-1):0;ot.forEach((Et,nr)=>{const jr=mt[Et].profit,wr=dr+nr*fn,un=lt+ft-(jr-$r)/cn*ft;if(nr>0){const dn=mt[ot[nr-1]].profit,Dn=lt+ft-(dn-$r)/cn*ft,pn=dr+(nr-1)*fn;T.setDrawColor(...ge),T.setLineWidth(1),T.line(pn,Dn,wr,un)}T.setFillColor(...ge),T.circle(wr,un,1.5,"F")}),T.setTextColor(...Le),T.setFontSize(8),T.setFont("helvetica","normal"),T.text(`Máx: R$ ${Rn.toLocaleString("pt-BR")}`,dr,lt-2),T.text(`Mín: R$ ${$r.toLocaleString("pt-BR")}`,dr,lt+ft+8),Oe+=ft+20,T.setTextColor(...Ne),T.setFontSize(12),T.setFont("helvetica","bold"),T.text("Resumo Diário (últimos 10 dias)",de,Oe),Oe+=10,T.setFillColor(...Ne),T.rect(de,Oe,X-2*de,8,"F"),T.setTextColor(..._e),T.setFontSize(8),T.setFont("helvetica","bold"),T.text("Data",de+3,Oe+5),T.text("Depósitos",de+35,Oe+5),T.text("Saques",de+75,Oe+5),T.text("Lucro",de+115,Oe+5),Oe+=8,ot.slice(-10).forEach((Et,nr)=>{Oe>ne-30&&(T.addPage(),T.setFillColor(...ge),T.rect(0,0,X,15,"F"),T.setTextColor(..._e),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=25);const jr=mt[Et];nr%2===0&&(T.setFillColor(...De),T.rect(de,Oe,X-2*de,7,"F")),T.setTextColor(...Ne),T.setFontSize(7),T.setFont("helvetica","normal"),T.text(Et,de+3,Oe+5),T.text(`R$ ${jr.deposits.toLocaleString("pt-BR")}`,de+35,Oe+5),T.text(`R$ ${jr.withdraws.toLocaleString("pt-BR")}`,de+75,Oe+5);const wr=jr.profit>=0?Pe:je;T.setTextColor(...wr),T.setFont("helvetica","bold"),T.text(`R$ ${jr.profit.toLocaleString("pt-BR")}`,de+115,Oe+5),Oe+=7}),T.addPage(),Oe=20,T.setFillColor(...ge),T.rect(0,0,X,15,"F"),T.setTextColor(..._e),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(16),T.setFont("helvetica","bold"),T.text("Transações Detalhadas",de,Oe),Oe+=10,T.setFillColor(...Ne),T.rect(de,Oe,X-2*de,10,"F"),T.setTextColor(..._e),T.setFontSize(9),T.setFont("helvetica","bold"),T.text("Data",de+3,Oe+7),T.text("Tipo",de+25,Oe+7),T.text("Funcionário",de+50,Oe+7),T.text("Plataforma",de+95,Oe+7),T.text("Valor",de+135,Oe+7,{align:"right"}),Oe+=10,S.slice(0,30).forEach((Et,nr)=>{var pn,Fr;Oe>ne-30&&(T.addPage(),T.setFillColor(...ge),T.rect(0,0,X,15,"F"),T.setTextColor(..._e),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=25,T.setFillColor(...Ne),T.rect(de,Oe,X-2*de,10,"F"),T.setTextColor(..._e),T.setFontSize(9),T.setFont("helvetica","bold"),T.text("Data",de+3,Oe+7),T.text("Tipo",de+25,Oe+7),T.text("Funcionário",de+50,Oe+7),T.text("Plataforma",de+95,Oe+7),T.text("Valor",de+135,Oe+7,{align:"right"}),Oe+=10);const jr=m.find(Wn=>Wn.id===Et.employeeId),wr=g.find(Wn=>Wn.id===Et.platformId);nr%2===0&&(T.setFillColor(...De),T.rect(de,Oe,X-2*de,8,"F")),T.setTextColor(...Ne),T.setFontSize(8),T.setFont("helvetica","normal");const un=new Date(((Fr=(pn=Et.createdAt)==null?void 0:pn.toDate)==null?void 0:Fr.call(pn))||Et.createdAt);T.text(un.toLocaleDateString("pt-BR"),de+3,Oe+5);const dn=Et.type==="withdraw"?Pe:je;T.setTextColor(...dn),T.setFont("helvetica","bold"),T.text(Et.type==="withdraw"?"Saque":"Depósito",de+25,Oe+5),T.setTextColor(...Ne),T.setFont("helvetica","normal"),T.text(((jr==null?void 0:jr.name)||"N/A").substring(0,20),de+50,Oe+5),T.text(((wr==null?void 0:wr.name)||"N/A").substring(0,18),de+95,Oe+5),T.setTextColor(...dn),T.setFont("helvetica","bold");const Dn=`${Et.type==="withdraw"?"+":"-"}R$ ${Number(Et.amount||0).toLocaleString("pt-BR")}`;T.text(Dn,de+135,Oe+5,{align:"right"}),Oe+=8}),T.setFillColor(...Ne),T.rect(0,ne-15,X,15,"F"),T.setTextColor(..._e),T.setFontSize(8),T.setFont("helvetica","normal"),T.text(`Página ${T.getCurrentPageInfo().pageNumber}`,de,ne-8),T.text("Optify - Sistema de Gestão Financeira",X-de,ne-8,{align:"right"}),T.save(`relatorio_optify_${ie[e-1]}_${n}.pdf`),We.success("Relatório PDF exportado com sucesso!")}catch(T){console.error("Erro ao exportar PDF:",T),We.error("Erro ao exportar relatório PDF")}},ie=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",className:"text-primary",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"diamondGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#FFA500"}),c.jsx("stop",{offset:"100%",stopColor:"#FF8C00"})]})}),c.jsx("path",{d:"M20 2 L30 12 L20 22 L10 12 Z",fill:"url(#diamondGradient)",stroke:"none"}),c.jsx("path",{d:"M20 6 L26 12 L20 18 L14 12 Z",fill:"white",opacity:"0.3"})]}),c.jsx("div",{className:"absolute -inset-1 bg-primary/20 rounded-full blur-sm animate-pulse"})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Relatórios"}),c.jsx("p",{className:"text-muted-foreground",children:"Análises e insights do seu negócio"})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(qe,{variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 hover:shadow-lg",onClick:oe,children:[c.jsx(zT,{className:"h-4 w-4"}),"Exportar CSV"]}),c.jsxs(qe,{variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 hover:shadow-lg",onClick:J,children:[c.jsx(zT,{className:"h-4 w-4"}),"Exportar PDF"]})]})]}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nv,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:"Período:"})]}),c.jsxs(Zn,{value:e.toString(),onValueChange:T=>r(Number(T)),children:[c.jsx(Kn,{className:"w-40",children:c.jsx(ei,{})}),c.jsx(Yn,{children:ie.map((T,X)=>c.jsx(Lr,{value:(X+1).toString(),children:T},X))})]}),c.jsxs(Zn,{value:n.toString(),onValueChange:T=>i(Number(T)),children:[c.jsx(Kn,{className:"w-32",children:c.jsx(ei,{})}),c.jsx(Yn,{children:[2024,2025,2026].map(T=>c.jsx(Lr,{value:T.toString(),children:T},T))})]}),c.jsx(qe,{variant:"outline",onClick:()=>{s(e),l(n)},children:"Comparar com Outros Meses"})]}),a&&o&&c.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Comparando com:"}),c.jsxs(Zn,{value:a.toString(),onValueChange:T=>s(Number(T)),children:[c.jsx(Kn,{className:"w-40",children:c.jsx(ei,{})}),c.jsx(Yn,{children:ie.map((T,X)=>c.jsx(Lr,{value:(X+1).toString(),children:T},X))})]}),c.jsxs(Zn,{value:o.toString(),onValueChange:T=>l(Number(T)),children:[c.jsx(Kn,{className:"w-32",children:c.jsx(ei,{})}),c.jsx(Yn,{children:[2024,2025,2026].map(T=>c.jsx(Lr,{value:T.toString(),children:T},T))})]}),c.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>{s(null),l(null)},children:"Remover Comparação"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Mês"}),c.jsxs("p",{className:`text-3xl font-bold ${K.profit>=0?"text-success":"text-destructive"}`,children:["R$ ",K.profit.toLocaleString("pt-BR")]}),q&&c.jsxs("div",{className:`flex items-center gap-1 text-sm mt-1 ${G>=0?"text-success":"text-destructive"}`,children:[G>=0?c.jsx(ri,{className:"h-4 w-4"}):c.jsx(Wh,{className:"h-4 w-4"}),G>=0?"+":"",G.toFixed(1),"% vs. ",ie[a-1]]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(ri,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),c.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",K.deposits.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(Wh,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),c.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",K.withdraws.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(ri,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),c.jsx("p",{className:"text-3xl font-bold",children:K.transactionCount})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(Nv,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-6",children:["Lucro/Prejuízo Diário - ",ie[e-1]," ",n]}),c.jsxs("div",{className:"mb-4 flex items-center gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-0.5 bg-green-500"}),c.jsx("span",{children:"Subida"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-0.5 bg-red-500"}),c.jsx("span",{children:"Queda"})]})]}),c.jsxs("div",{className:"w-full h-96 relative",children:[c.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[c.jsx("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",stroke:"hsl(var(--muted-foreground))",strokeDasharray:"2,2",strokeWidth:"1"}),ve.map((T,X)=>{const ne=(T.startDay-1)/(Z.length-1)*100,de=(T.endDay-1)/(Z.length-1)*100,ge=Z.map(je=>je.lucroPrejuizo),ee=Math.max(...ge,0),Ne=Math.min(...ge,0),De=Math.max(Math.abs(ee),Math.abs(Ne)),Le=De>0?De*1.2:1e3,_e=T.startValue>=0?50-T.startValue/Le*40:50+Math.abs(T.startValue)/Le*40,Pe=T.endValue>=0?50-T.endValue/Le*40:50+Math.abs(T.endValue)/Le*40;return c.jsx("line",{x1:`${ne}%`,y1:`${_e}%`,x2:`${de}%`,y2:`${Pe}%`,stroke:T.color,strokeWidth:"3",strokeLinecap:"round"},X)}),Z.map((T,X)=>{const ne=(T.day-1)/(Z.length-1)*100,de=Z.map(_e=>_e.lucroPrejuizo),ge=Math.max(...de,0),ee=Math.min(...de,0),Ne=Math.max(Math.abs(ge),Math.abs(ee)),De=Ne>0?Ne*1.2:1e3,Le=T.lucroPrejuizo>=0?50-T.lucroPrejuizo/De*40:50+Math.abs(T.lucroPrejuizo)/De*40;return c.jsx("circle",{cx:`${ne}%`,cy:`${Le}%`,r:"4",fill:"hsl(var(--foreground))",stroke:"hsl(var(--background))",strokeWidth:"2"},X)})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-4 pb-2",children:Z.map((T,X)=>{const ne=(T.day-1)/(Z.length-1)*100;return c.jsx("span",{className:"absolute text-xs text-muted-foreground",style:{left:`${ne}%`,transform:"translateX(-50%)"},children:T.day},X)})}),(()=>{const T=Z.map(ee=>ee.lucroPrejuizo),X=Math.max(...T,0),ne=Math.min(...T,0),de=Math.max(Math.abs(X),Math.abs(ne)),ge=de>0?de*1.2:1e3;return c.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between py-4 pl-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:["R$ ",ge.toLocaleString("pt-BR")]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"R$ 0"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["-R$ ",ge.toLocaleString("pt-BR")]})]})})(),c.jsx("div",{className:"absolute inset-0",children:Z.map((T,X)=>{const ne=(T.day-1)/(Z.length-1)*100,de=Z.map(_e=>_e.lucroPrejuizo),ge=Math.max(...de,0),ee=Math.min(...de,0),Ne=Math.max(Math.abs(ge),Math.abs(ee)),De=Ne>0?Ne*1.2:1e3,Le=T.lucroPrejuizo>=0?50-T.lucroPrejuizo/De*40:50+Math.abs(T.lucroPrejuizo)/De*40;return c.jsxs("div",{className:"absolute text-white text-sm font-medium",style:{left:`${ne}%`,top:`${Le-8}%`,transform:"translateX(-50%)"},children:["R$ ",T.lucroPrejuizo.toLocaleString("pt-BR")]},X)})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Plataforma"}),c.jsx(C1,{width:"100%",height:300,children:c.jsxs(y_,{data:ce,children:[c.jsx(M1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),c.jsx(Dp,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),c.jsx(Lp,{stroke:"hsl(var(--muted-foreground))"}),c.jsx(Ss,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),c.jsx(Uo,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),c.jsx(C1,{width:"100%",height:300,children:c.jsxs(y_,{data:F,children:[c.jsx(M1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),c.jsx(Dp,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),c.jsx(Lp,{stroke:"hsl(var(--muted-foreground))"}),c.jsx(Ss,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),c.jsx(Uo,{dataKey:"receita",fill:"hsl(var(--success))",radius:[8,8,0,0]})]})})]})]}),c.jsxs(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300 mt-8",id:"weekly-chart-section",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Resumo Semanal"}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-success rounded-full"}),c.jsx("span",{children:"Receitas"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full"}),c.jsx("span",{children:"Despesas"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),c.jsx("span",{children:"Lucro Acumulado"})]})]})]}),k?c.jsx("div",{className:"flex items-center justify-center h-[300px]",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Carregando dados..."})]})}):L.some(T=>T.receita>0||T.despesa>0)?c.jsx(C1,{width:"100%",height:300,children:c.jsxs(y_,{data:L,children:[c.jsx(M1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),c.jsx(Dp,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",tick:{fontSize:12}}),c.jsx(Lp,{stroke:"hsl(var(--muted-foreground))",tick:{fontSize:12},tickFormatter:T=>`R$ ${T.toLocaleString("pt-BR")}`}),c.jsx(Ss,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(T,X)=>[`R$ ${Number(T).toLocaleString("pt-BR")}`,X==="receita"?"Receitas":X==="despesa"?"Despesas":"Lucro Acumulado"],labelFormatter:(T,X)=>{var de;const ne=(de=X==null?void 0:X[0])==null?void 0:de.payload;return ne?`${T} - ${ne.date}`:T}}),c.jsx(Uo,{dataKey:"receita",fill:"hsl(var(--success))",radius:[4,4,0,0],name:"receita"}),c.jsx(Uo,{dataKey:"despesa",fill:"hsl(var(--destructive))",radius:[4,4,0,0],name:"despesa"}),c.jsx(Uo,{dataKey:"lucroAcumulado",fill:"hsl(var(--primary))",radius:[4,4,0,0],name:"lucroAcumulado"})]})}):c.jsx("div",{className:"flex items-center justify-center h-[300px]",children:c.jsxs("div",{className:"text-center text-muted-foreground",children:[c.jsx(ri,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma transação esta semana"}),c.jsx("p",{className:"text-sm",children:"Os dados aparecerão aqui quando você registrar transações"})]})}),c.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Receitas"}),c.jsxs("p",{className:"text-lg font-semibold text-success",children:["R$ ",L.reduce((T,X)=>T+X.receita,0).toLocaleString("pt-BR")]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Despesas"}),c.jsxs("p",{className:"text-lg font-semibold text-destructive",children:["R$ ",L.reduce((T,X)=>T+X.despesa,0).toLocaleString("pt-BR")]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Lucro Acumulado"}),c.jsxs("p",{className:`text-lg font-semibold ${L.length>0&&L[L.length-1].lucroAcumulado>=0?"text-success":"text-destructive"}`,children:["R$ ",L.length>0?L[L.length-1].lucroAcumulado.toLocaleString("pt-BR"):"0"]})]})]})})]}),c.jsxs(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300 mt-8",id:"transactions-section",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Transações do Mês"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(sr,{variant:u==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>d("all"),children:["Todas (",S.length,")"]}),c.jsxs(sr,{variant:u==="deposits"?"default":"outline",className:"cursor-pointer",onClick:()=>d("deposits"),children:["Depósitos (",S.filter(T=>T.type==="deposit").length,")"]}),c.jsxs(sr,{variant:u==="withdraws"?"default":"outline",className:"cursor-pointer",onClick:()=>d("withdraws"),children:["Saques (",S.filter(T=>T.type==="withdraw").length,")"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/30 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Funcionário:"}),c.jsxs(Zn,{value:h,onValueChange:p,children:[c.jsx(Kn,{className:"w-48",children:c.jsx(ei,{placeholder:"Todos os funcionários"})}),c.jsxs(Yn,{children:[c.jsx(Lr,{value:"all",children:"Todos os funcionários"}),m.map(T=>c.jsx(Lr,{value:T.id,children:T.name},T.id))]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plataforma:"}),c.jsxs(Zn,{value:f,onValueChange:v,children:[c.jsx(Kn,{className:"w-48",children:c.jsx(ei,{placeholder:"Todas as plataformas"})}),c.jsxs(Yn,{children:[c.jsx(Lr,{value:"all",children:"Todas as plataformas"}),g.map(T=>c.jsx(Lr,{value:T.id,children:T.name},T.id))]})]})]}),(h!=="all"||f!=="all"||u!=="all")&&c.jsx(qe,{variant:"outline",size:"sm",onClick:j,className:"ml-auto",children:"Limpar Filtros"})]}),(h!=="all"||f!=="all"||u!=="all")&&c.jsx("div",{className:"flex items-center gap-2 mb-4 p-3 bg-primary/10 rounded-lg border border-primary/20",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"font-medium text-primary",children:"Filtros ativos:"}),u!=="all"&&c.jsx(sr,{variant:"secondary",className:"text-xs",children:u==="deposits"?"Depósitos":u==="withdraws"?"Saques":u}),h!=="all"&&c.jsxs(sr,{variant:"secondary",className:"text-xs",children:["Funcionário: ",(be=m.find(T=>T.id===h))==null?void 0:be.name]}),f!=="all"&&c.jsxs(sr,{variant:"secondary",className:"text-xs",children:["Plataforma: ",(he=g.find(T=>T.id===f))==null?void 0:he.name]})]})}),c.jsx("div",{className:"space-y-3",children:C.length>0?C.sort((T,X)=>{var ne,de,ge,ee;return new Date(((de=(ne=X.createdAt)==null?void 0:ne.toDate)==null?void 0:de.call(ne))||X.createdAt).getTime()-new Date(((ee=(ge=T.createdAt)==null?void 0:ge.toDate)==null?void 0:ee.call(ge))||T.createdAt).getTime()}).map(T=>{var ne,de;const X=m.find(ge=>ge.id===T.employeeId);return c.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-2 rounded-full ${T.type==="withdraw"?"bg-success/10":"bg-destructive/10"}`,children:T.type==="withdraw"?c.jsx(Jq,{className:"h-5 w-5 text-success"}):c.jsx(Zq,{className:"h-5 w-5 text-destructive"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:(X==null?void 0:X.name)||"Funcionário não encontrado"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.type==="withdraw"?"Saque":"Depósito"," • ",(()=>{const ge=g.find(ee=>ee.id===T.platformId);return(ge==null?void 0:ge.name)||"Plataforma não especificada"})()]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:`font-semibold ${T.type==="withdraw"?"text-success":"text-destructive"}`,children:[T.type==="withdraw"?"+":"-","R$ ",Number(T.amount||0).toLocaleString("pt-BR")]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(((de=(ne=T.createdAt)==null?void 0:ne.toDate)==null?void 0:de.call(ne))||T.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},T.id)}):c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(oA,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Nenhuma transação encontrada"}),c.jsx("p",{className:"text-sm",children:(()=>{var ne,de;const T=new Date(n,e-1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"});if(u==="all"&&h==="all"&&f==="all")return`Não há transações em ${T}`;const X=[];if(u!=="all"&&X.push(`tipo "${u==="deposits"?"Depósitos":"Saques"}"`),h!=="all"){const ge=(ne=m.find(ee=>ee.id===h))==null?void 0:ne.name;X.push(`funcionário "${ge}"`)}if(f!=="all"){const ge=(de=g.find(ee=>ee.id===f))==null?void 0:de.name;X.push(`plataforma "${ge}"`)}return`Não há transações com ${X.join(" e ")} em ${T}`})()}),c.jsx(qe,{variant:"outline",size:"sm",onClick:j,className:"mt-4",children:"Limpar Filtros"})]})})]})]})})},zQe=()=>{const{user:t}=Hr(),[e,r]=P.useState(null),[n,i]=P.useState(!1),[a,s]=P.useState(!1),[o,l]=P.useState(null),{data:u=[],isLoading:d}=Wx((t==null?void 0:t.uid)||""),{data:h=[]}=nd((t==null?void 0:t.uid)||""),{data:p=[]}=Ly((t==null?void 0:t.uid)||""),f=nxe(),v=ixe(),m=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),g=C=>ma(new Date(C),"dd 'de' MMMM 'de' yyyy",{locale:sQ}),y=C=>C>=0?"text-success":"text-destructive",x=C=>{r(C),i(!0)},_=C=>{l(C),s(!0)},S=async C=>{try{await v.mutateAsync(C),We.success("Fechamento excluído com sucesso!")}catch(j){console.error("Erro ao excluir fechamento:",j),We.error("Erro ao excluir fechamento")}},N=async()=>{try{We.success("Histórico exportado com sucesso!")}catch{We.error("Erro ao exportar histórico")}};return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Histórico de Fechamentos"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Visualize o histórico de todos os fechamentos de dia."})]}),c.jsxs(qe,{onClick:N,className:"gap-2",children:[c.jsx(zT,{className:"h-4 w-4"}),"Exportar PDF"]})]}),c.jsx(Ye,{className:"p-6",children:d?c.jsx("div",{className:"text-center py-8",children:c.jsx("div",{className:"text-muted-foreground",children:"Carregando histórico..."})}):u.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("div",{className:"text-muted-foreground",children:"Nenhum fechamento encontrado"})}):c.jsx("div",{className:"space-y-4",children:u.map(C=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:g(C.date)}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.transactionCount||0," transações"]})]})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`font-bold ${y(C.profit||C.margin||0)}`,children:m(C.profit||C.margin||0)}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Lucro Total"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>x(C),children:c.jsx(qT,{className:"h-4 w-4"})}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>_(C),children:c.jsx(Th,{className:"h-4 w-4"})}),c.jsxs(tm,{children:[c.jsx(Dy,{asChild:!0,children:c.jsx(qe,{variant:"ghost",size:"icon",className:"text-destructive",children:c.jsx(qh,{className:"h-4 w-4"})})}),c.jsxs(tf,{children:[c.jsxs(rf,{children:[c.jsx(af,{children:"Excluir Fechamento"}),c.jsxs(sf,{children:["Tem certeza que deseja excluir o fechamento do dia ",g(C.date),"? Esta ação não pode ser desfeita."]})]}),c.jsxs(nf,{children:[c.jsx(lf,{children:"Cancelar"}),c.jsx(of,{onClick:()=>S(C.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})]})]})]})]},C.id))})}),c.jsx(Rs,{open:n,onOpenChange:i,children:c.jsxs(ls,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(cs,{children:c.jsxs(us,{children:["Detalhes do Fechamento - ",e&&g(e.date)]})}),e&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs(Ye,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Depósitos"}),c.jsx("div",{className:"text-2xl font-bold text-success",children:m(e.totalDeposits||0)})]}),c.jsxs(Ye,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Saques"}),c.jsx("div",{className:"text-2xl font-bold text-destructive",children:m(e.totalWithdraws||0)})]}),c.jsxs(Ye,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Lucro Total"}),c.jsx("div",{className:`text-2xl font-bold ${y(e.profit||e.margin||0)}`,children:m(e.profit||e.margin||0)})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Transações do Dia"}),e.transactionsSnapshot&&e.transactionsSnapshot.length>0?c.jsx("div",{className:"space-y-2",children:e.transactionsSnapshot.map((C,j)=>{var E,I;return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(sr,{variant:C.type==="deposit"?"default":"destructive",children:C.type==="deposit"?"Depósito":"Saque"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:((E=h.find(D=>D.id===C.employeeId))==null?void 0:E.name)||"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:((I=p.find(D=>D.id===C.platformId))==null?void 0:I.name)||"N/A"})]})]}),c.jsxs("div",{className:`font-bold ${C.type==="deposit"?"text-success":"text-destructive"}`,children:[C.type==="deposit"?"+":"-",m(C.amount)]})]},j)})}):c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação registrada para este dia"})]})]})]})}),c.jsx(Rs,{open:a,onOpenChange:s,children:c.jsxs(ls,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(cs,{children:c.jsxs(us,{children:["Editar Fechamento - ",o&&g(o.date)]})}),o&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-date",children:"Data:"}),c.jsx(Bt,{id:"edit-date",type:"date",value:o.date,onChange:C=>l({...o,date:C.target.value})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Transações:"}),c.jsxs(qe,{size:"sm",className:"gap-2",children:[c.jsx(J_,{className:"h-4 w-4"}),"Adicionar Transação"]})]}),o.transactionsSnapshot&&o.transactionsSnapshot.length>0?c.jsx("div",{className:"space-y-2",children:o.transactionsSnapshot.map((C,j)=>c.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 border rounded-lg",children:[c.jsxs(Zn,{value:C.employeeId,onValueChange:E=>{const I=[...o.transactionsSnapshot];I[j].employeeId=E,l({...o,transactionsSnapshot:I})},children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Funcionário"})}),c.jsx(Yn,{children:h.map(E=>c.jsx(Lr,{value:E.id,children:E.name},E.id))})]}),c.jsxs(Zn,{value:C.type,onValueChange:E=>{const I=[...o.transactionsSnapshot];I[j].type=E,l({...o,transactionsSnapshot:I})},children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Tipo"})}),c.jsxs(Yn,{children:[c.jsx(Lr,{value:"deposit",children:"Depósito"}),c.jsx(Lr,{value:"withdraw",children:"Saque"})]})]}),c.jsx(Bt,{type:"number",step:"0.01",placeholder:"Valor",value:C.amount,onChange:E=>{const I=[...o.transactionsSnapshot];I[j].amount=Number(E.target.value),l({...o,transactionsSnapshot:I})}}),c.jsxs(Zn,{value:C.platformId,onValueChange:E=>{const I=[...o.transactionsSnapshot];I[j].platformId=E,l({...o,transactionsSnapshot:I})},children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Plataforma"})}),c.jsx(Yn,{children:p.map(E=>c.jsx(Lr,{value:E.id,children:E.name},E.id))})]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>{const E=o.transactionsSnapshot.filter((I,D)=>D!==j);l({...o,transactionsSnapshot:E})},className:"text-destructive",children:c.jsx(qh,{className:"h-4 w-4"})})]},j))}):c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação registrada para este dia"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(qe,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),c.jsx(qe,{onClick:async()=>{try{await f.mutateAsync({summaryId:o.id,summaryData:o}),We.success("Fechamento atualizado com sucesso!"),s(!1)}catch(C){console.error("Erro ao atualizar fechamento:",C),We.error("Erro ao atualizar fechamento")}},children:"Salvar Alterações"})]})]})]})})]})})};var nE="Switch",[qQe,bZe]=go(nE),[WQe,HQe]=qQe(nE),Kre=P.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:u,form:d,...h}=t,[p,f]=P.useState(null),v=Mr(e,_=>f(_)),m=P.useRef(!1),g=p?d||!!p.closest("form"):!0,[y,x]=jl({prop:i,defaultProp:a??!1,onChange:u,caller:nE});return c.jsxs(WQe,{scope:r,checked:y,disabled:o,children:[c.jsx(Ht.button,{type:"button",role:"switch","aria-checked":y,"aria-required":s,"data-state":Jre(y),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:v,onClick:It(t.onClick,_=>{x(S=>!S),g&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),g&&c.jsx(Qre,{control:p,bubbles:!m.current,name:n,value:l,checked:y,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Kre.displayName=nE;var Yre="SwitchThumb",Xre=P.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=HQe(Yre,r);return c.jsx(Ht.span,{"data-state":Jre(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Xre.displayName=Yre;var GQe="SwitchBubbleInput",Qre=P.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const s=P.useRef(null),o=Mr(s,a),l=fX(r),u=jW(e);return P.useEffect(()=>{const d=s.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[l,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Qre.displayName=GQe;function Jre(t){return t?"checked":"unchecked"}var Zre=Kre,KQe=Xre;const ac=P.forwardRef(({className:t,...e},r)=>c.jsx(Zre,{className:_t("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:c.jsx(KQe,{className:_t("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ac.displayName=Zre.displayName;const B5={FIREBASE_API_KEY:"AIzaSyD3Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8",FIREBASE_AUTH_DOMAIN:"optify-definitivo.firebaseapp.com",FIREBASE_PROJECT_ID:"optify-definitivo",FIREBASE_STORAGE_BUCKET:"optify-definitivo.appspot.com",FIREBASE_MESSAGING_SENDER_ID:"123456789",FIREBASE_APP_ID:"1:123456789:web:abcdef123456",MERCADO_PAGO_PUBLIC_KEY:"APP_USR-9ca765f9-6a73-47a9-ab3d-0923791c2a4f",API_URL:"https://us-central1-optify-definitivo.cloudfunctions.net"};function YQe(){return vo({mutationFn:async t=>{console.log("🔍 Hook - URL da API:",B5.API_URL),console.log("🔍 Hook - Payload:",t);const e=await fetch(`${B5.API_URL}/createPaymentPreference`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("🔍 Hook - Status da resposta:",e.status),console.log("🔍 Hook - Headers da resposta:",Object.fromEntries(e.headers.entries())),!e.ok){const n=await e.json().catch(()=>({}));throw console.error("🔍 Hook - Erro da API:",n),new Error(n.error||"Erro ao criar preferência")}const r=await e.json();return console.log("🔍 Hook - Resposta da API:",r),r},onError:t=>{console.error("❌ Hook - Erro na mutation:",t)}})}const XQe=()=>{const{user:t}=Hr(),{currentPlan:e}=xf(),[r,n]=P.useState(!1),i=YQe(),a={free:0,standard:1,medium:2,ultimate:3},s=d=>{const h=a[e]||0;return(a[d]||0)<h},o={free:[{text:"Dashboard básico",icon:mr},{text:"Resumo do dia",icon:mr},{text:"Cadastro de 1 funcionário",icon:rs},{text:"Registro de transações do dia atual",icon:mr},{text:"Depósitos e saques básicos",icon:mr},{text:"Visualização do calendário (mês atual)",icon:mr},{text:"Calendário Anterior",icon:mr,blocked:!0},{text:"Pagamentos",icon:mr,blocked:!0},{text:"Relatórios",icon:mr,blocked:!0},{text:"Saldo de Contas",icon:mr,blocked:!0},{text:"Histórico",icon:mr,blocked:!0}],standard:[{text:"Dashboard básico",icon:mr},{text:"Resumo do dia",icon:mr},{text:"Cadastro de até 5 funcionários",icon:rs},{text:"Registro de transações do dia atual",icon:mr},{text:"Depósitos e saques",icon:mr},{text:"Relatórios básicos",icon:ri},{text:"Visualização do calendário (mês atual)",icon:mr},{text:"Suporte por email",icon:mr},{text:"Calendário Anterior",icon:mr,blocked:!0},{text:"Pagamentos",icon:mr,blocked:!0},{text:"Saldo de Contas",icon:mr,blocked:!0},{text:"Histórico",icon:mr,blocked:!0}],medium:[{text:"Dashboard completo",icon:mr},{text:"Resumo do dia",icon:mr},{text:"Cadastro de até 10 funcionários",icon:rs},{text:"Registro de transações",icon:mr},{text:"Depósitos e saques",icon:mr},{text:"Calendário Anterior",icon:mr},{text:"Pagamentos",icon:mr},{text:"Relatórios avançados",icon:ri},{text:"Saldo de Contas",icon:mr},{text:"Histórico completo",icon:mr}],ultimate:[{text:"Dashboard completo e avançado",icon:mr},{text:"Resumo do dia",icon:mr},{text:"Cadastro de até 50 funcionários",icon:rs},{text:"Registro de transações ilimitadas",icon:mr},{text:"Depósitos e saques",icon:mr},{text:"Calendário Anterior",icon:mr},{text:"Pagamentos",icon:mr},{text:"Relatórios avançados",icon:ri},{text:"Saldo de Contas",icon:mr},{text:"Histórico completo",icon:mr},{text:"CPA Chinesa",icon:Ev,exclusive:!0},{text:"Painel Avançado",icon:qp,exclusive:!0},{text:"Dutchuing Bot",icon:Roe,exclusive:!0},{text:"Integrações avançadas",icon:Z_,exclusive:!0},{text:"API personalizada",icon:Z_,exclusive:!0},{text:"Suporte prioritário",icon:mr,exclusive:!0},{text:"Suporte dedicado",icon:mr,exclusive:!0}]},l=async d=>{var h,p;if(!t){We.error("Você precisa estar logado para assinar um plano");return}if(d==="free"){We.error("O plano Free já está ativo");return}try{console.log("🔍 Debug - Variáveis de ambiente:",{API_URL:B5.API_URL,PUBLIC_KEY:B5.MERCADO_PAGO_PUBLIC_KEY}),console.log("🔍 Debug - Dados do payload:",{userId:t.uid,userEmail:t.email||"",userName:t.displayName||((h=t.email)==null?void 0:h.split("@")[0])||"Usuário",planId:d,billingType:r?"annual":"monthly"});const f=await i.mutateAsync({userId:t.uid,userEmail:t.email||"",userName:t.displayName||((p=t.email)==null?void 0:p.split("@")[0])||"Usuário",planId:d,billingType:r?"annual":"monthly"});console.log("✅ Preferência criada:",f),window.location.href=f.init_point}catch(f){console.error("❌ Erro ao criar preferência:",f),We.error("Erro ao processar pagamento. Tente novamente.")}},u=[{name:"Free",value:"free",price:0,period:"Grátis",annualPrice:0,features:o.free,current:e==="free",popular:!1,description:"Testar o sistema"},{name:"Standard",value:"standard",price:1,period:"mês",annualPrice:10.2,features:o.standard,current:e==="standard",popular:!1,description:"Pequenos negócios"},{name:"Medium",value:"medium",price:49.9,period:"mês",annualPrice:509.16,features:o.medium,current:e==="medium",popular:!0,description:"Médias empresas"},{name:"Ultimate",value:"ultimate",price:99.9,period:"mês",annualPrice:1,features:o.ultimate,current:e==="ultimate",popular:!1,description:"Grandes empresas"}];return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h1",{className:"text-4xl font-bold",children:"Escolha seu Plano"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Selecione o plano ideal para o seu negócio"}),c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx("span",{className:r?"text-muted-foreground":"font-semibold",children:"Mensal"}),c.jsx(ac,{checked:r,onCheckedChange:n}),c.jsxs("span",{className:r?"font-semibold":"text-muted-foreground",children:["Anual",c.jsx(sr,{variant:"default",className:"ml-2",children:"15% OFF"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:u.map(d=>c.jsxs(Ye,{className:`
                p-6 relative shadow-card card-hover flex flex-col h-full
                ${d.popular?"border-primary border-2":""}
                ${s(d.value)?"opacity-60":""}
              `,children:[d.popular&&c.jsx(sr,{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:"Mais Popular"}),d.current&&c.jsx(sr,{variant:"outline",className:"absolute -top-3 left-1/2 -translate-x-1/2",children:"Plano Atual"}),c.jsxs("div",{className:"flex flex-col h-full space-y-6",children:[c.jsxs("div",{className:"flex-shrink-0",children:[c.jsx("h3",{className:"text-2xl font-bold mb-2",children:d.name}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:d.description}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsxs("span",{className:"text-4xl font-bold",children:["R$ ",(r?d.annualPrice/12:d.price).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),d.price>0&&c.jsxs("span",{className:"text-muted-foreground",children:["/",d.period]})]}),r&&d.price>0&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Valor anual: R$ ",d.annualPrice.toLocaleString("pt-BR",{minimumFractionDigits:2}),c.jsx("br",{}),"Economia de R$ ",(d.price*12-d.annualPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),c.jsx("div",{className:"flex-grow space-y-3",children:d.features.map((h,p)=>c.jsxs("div",{className:"flex items-start gap-2",children:[h.blocked?c.jsx("div",{className:"h-5 w-5 shrink-0 mt-0.5 rounded-full border-2 border-muted-foreground/30 flex items-center justify-center",children:c.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground/30"})}):c.jsx(h.icon,{className:`h-5 w-5 shrink-0 mt-0.5 ${h.exclusive?"text-primary":"text-success"}`}),c.jsxs("span",{className:`text-sm ${h.blocked?"text-muted-foreground/60":""} ${h.exclusive?"text-primary font-medium":""}`,children:[h.text,h.exclusive&&c.jsx("span",{className:"ml-1 text-xs",children:"(exclusivo)"})]})]},p))}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx(qe,{className:"w-full",variant:d.current?"outline":"default",disabled:d.current||i.isPending||s(d.value),onClick:()=>!d.current&&!s(d.value)&&l(d.value),children:i.isPending?c.jsxs(c.Fragment,{children:[c.jsx(kp,{className:"mr-2 h-4 w-4 animate-spin"}),"Redirecionando..."]}):d.current?"Plano Atual":s(d.value)?"Plano Menor":"Assinar"})})]})]},d.name))}),c.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[c.jsx("p",{children:"Todos os planos incluem 7 dias de teste grátis"}),c.jsx("p",{children:"Cancele a qualquer momento, sem taxas adicionais"})]})]})})};var VP="rovingFocusGroup.onEntryFocus",QQe={bubbles:!1,cancelable:!0},dw="RovingFocusGroup",[Q4,ene,JQe]=nA(dw),[ZQe,tne]=go(dw,[JQe]),[eJe,tJe]=ZQe(dw),rne=P.forwardRef((t,e)=>c.jsx(Q4.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Q4.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(rJe,{...t,ref:e})})}));rne.displayName=dw;var rJe=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=P.useRef(null),f=Mr(e,p),v=VA(a),[m,g]=jl({prop:s,defaultProp:o??null,onChange:l,caller:dw}),[y,x]=P.useState(!1),_=Xo(u),S=ene(r),N=P.useRef(!1),[C,j]=P.useState(0);return P.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(VP,_),()=>E.removeEventListener(VP,_)},[_]),c.jsx(eJe,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:m,onItemFocus:P.useCallback(E=>g(E),[g]),onItemShiftTab:P.useCallback(()=>x(!0),[]),onFocusableItemAdd:P.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:P.useCallback(()=>j(E=>E-1),[]),children:c.jsx(Ht.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:It(t.onMouseDown,()=>{N.current=!0}),onFocus:It(t.onFocus,E=>{const I=!N.current;if(E.target===E.currentTarget&&I&&!y){const D=new CustomEvent(VP,QQe);if(E.currentTarget.dispatchEvent(D),!D.defaultPrevented){const k=S().filter(Y=>Y.focusable),O=k.find(Y=>Y.active),L=k.find(Y=>Y.id===m),re=[O,L,...k].filter(Boolean).map(Y=>Y.ref.current);ane(re,d)}}N.current=!1}),onBlur:It(t.onBlur,()=>x(!1))})})}),nne="RovingFocusGroupItem",ine=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...o}=t,l=Al(),u=a||l,d=tJe(nne,r),h=d.currentTabStopId===u,p=ene(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return P.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),c.jsx(Q4.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:c.jsx(Ht.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:It(t.onMouseDown,g=>{n?d.onItemFocus(u):g.preventDefault()}),onFocus:It(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:It(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=aJe(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let _=p().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const S=_.indexOf(g.currentTarget);_=d.loop?sJe(_,S+1):_.slice(S+1)}setTimeout(()=>ane(_))}}),children:typeof s=="function"?s({isCurrentTabStop:h,hasTabStop:m!=null}):s})})});ine.displayName=nne;var nJe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iJe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function aJe(t,e,r){const n=iJe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return nJe[n]}function ane(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function sJe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var oJe=rne,lJe=ine,iE="Tabs",[cJe,xZe]=go(iE,[tne]),sne=tne(),[uJe,_D]=cJe(iE),one=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=VA(o),[h,p]=jl({prop:n,onChange:i,defaultProp:a??"",caller:iE});return c.jsx(uJe,{scope:r,baseId:Al(),value:h,onValueChange:p,orientation:s,dir:d,activationMode:l,children:c.jsx(Ht.div,{dir:d,"data-orientation":s,...u,ref:e})})});one.displayName=iE;var lne="TabsList",cne=P.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=_D(lne,r),s=sne(r);return c.jsx(oJe,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:c.jsx(Ht.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});cne.displayName=lne;var une="TabsTrigger",dne=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,s=_D(une,r),o=sne(r),l=pne(s.baseId,n),u=mne(s.baseId,n),d=n===s.value;return c.jsx(lJe,{asChild:!0,...o,focusable:!i,active:d,children:c.jsx(Ht.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:It(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?s.onValueChange(n):h.preventDefault()}),onKeyDown:It(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(n)}),onFocus:It(t.onFocus,()=>{const h=s.activationMode!=="manual";!d&&!i&&h&&s.onValueChange(n)})})})});dne.displayName=une;var hne="TabsContent",fne=P.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=t,o=_D(hne,r),l=pne(o.baseId,n),u=mne(o.baseId,n),d=n===o.value,h=P.useRef(d);return P.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(Lc,{present:i||d,children:({present:p})=>c.jsx(Ht.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});fne.displayName=hne;function pne(t,e){return`${t}-trigger-${e}`}function mne(t,e){return`${t}-content-${e}`}var dJe=one,gne=cne,vne=dne,yne=fne;const SD=dJe,aE=P.forwardRef(({className:t,...e},r)=>c.jsx(gne,{ref:r,className:_t("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));aE.displayName=gne.displayName;const xl=P.forwardRef(({className:t,...e},r)=>c.jsx(vne,{ref:r,className:_t("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));xl.displayName=vne.displayName;const wl=P.forwardRef(({className:t,...e},r)=>c.jsx(yne,{ref:r,className:_t("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));wl.displayName=yne.displayName;const J4=P.forwardRef(({className:t,...e},r)=>c.jsx("textarea",{className:_t("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));J4.displayName="Textarea";const E_=async()=>{try{const t=await fa(ti(gr,"users")),e=[];for(const r of t.docs){const n=r.data(),i=r.id;let a="Nome não informado";try{const s=await fa(bf(ti(gr,"users",i,"profile"),xb(1)));if(!s.empty){const o=s.docs[0].data();a=o.name||o.fullName||a}}catch{console.log("Erro ao buscar perfil, usando dados do documento principal")}a==="Nome não informado"&&(n.name?a=n.name:n.displayName?a=n.displayName:n.fullName&&(a=n.fullName)),e.push({id:i,email:n.email||r.id,name:a,plan:n.plano||"free",status:n.isActive?"active":"inactive",createdAt:n.createdAt,lastLogin:n.lastLoginAt,planExpirationDate:n.subscriptionEndDate})}return e.sort((r,n)=>r.createdAt&&n.createdAt?n.createdAt.toDate().getTime()-r.createdAt.toDate().getTime():0)}catch(t){throw console.error("Erro ao buscar usuários:",t),t}},hJe=async()=>{try{return(await fa(bf(ti(gr,"transactions_plans"),ef("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar transações de planos:",t),t}},fJe=async()=>{try{const t=await E_(),e=await hJe(),r=t.length,n=t.filter(S=>S.status==="active").length,i=new Date,a=new Date(i.getFullYear(),i.getMonth(),i.getDate()),s=new Date(a);s.setDate(s.getDate()-7);const o=new Date(a);o.setMonth(o.getMonth()-1);const l=e.filter(S=>S.status==="completed"),u=l.reduce((S,N)=>S+N.amount,0),d=l.filter(S=>{var C;return((C=S.createdAt)!=null&&C.toDate?S.createdAt.toDate():new Date(S.createdAt))>=a}).reduce((S,N)=>S+N.amount,0),h=l.filter(S=>{var C;return((C=S.createdAt)!=null&&C.toDate?S.createdAt.toDate():new Date(S.createdAt))>=s}).reduce((S,N)=>S+N.amount,0),p=l.filter(S=>{var C;return((C=S.createdAt)!=null&&C.toDate?S.createdAt.toDate():new Date(S.createdAt))>=o}).reduce((S,N)=>S+N.amount,0),f=new Map;l.forEach(S=>{var j;const C=((j=S.createdAt)!=null&&j.toDate?S.createdAt.toDate():new Date(S.createdAt)).toISOString().split("T")[0];f.set(C,(f.get(C)||0)+S.amount)});let v={date:"N/A",revenue:0};for(const[S,N]of f.entries())N>v.revenue&&(v={date:new Date(S).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),revenue:N});const m=t.reduce((S,N)=>(S[N.plan]=(S[N.plan]||0)+1,S),{free:0,standard:0,medium:0,ultimate:0}),g=new Date;g.setDate(g.getDate()-30);const y=t.filter(S=>S.createdAt&&S.createdAt.toDate()>g).length,x=r>0?y/r*100:0,_=await pJe(e,t);return{totalUsers:r,activeUsers:n,totalRevenue:u,revenueToday:d,revenueWeek:h,revenueMonth:p,bestDay:v,growthRate:x,planDistribution:m,recentActivity:_}}catch(t){throw console.error("Erro ao calcular estatísticas:",t),t}},pJe=async(t,e)=>{const r=[],n=t.sort((a,s)=>s.createdAt.toDate().getTime()-a.createdAt.toDate().getTime()).slice(0,5);for(const a of n){const s=e.find(u=>u.id===a.userId),o=WU(a.createdAt.toDate());let l="";switch(a.status){case"completed":l=`Upgrade para ${a.planName}`;break;case"pending":l=`Pagamento pendente - ${a.planName}`;break;case"failed":l=`Falha no pagamento - ${a.planName}`;break;default:l=`Transação ${a.status} - ${a.planName}`}r.push({action:`${l} - ${(s==null?void 0:s.email)||"Usuário desconhecido"}`,time:o,userEmail:s==null?void 0:s.email})}const i=e.filter(a=>a.createdAt&&a.createdAt.toDate()>new Date(Date.now()-24*60*60*1e3)).slice(0,3);for(const a of i){const s=WU(a.createdAt.toDate());r.push({action:`Novo usuário registrado - ${a.email}`,time:s,userEmail:a.email})}return r.sort((a,s)=>s.time.localeCompare(a.time)).slice(0,8)},WU=t=>{const r=new Date().getTime()-t.getTime(),n=Math.floor(r/(1e3*60)),i=Math.floor(r/(1e3*60*60)),a=Math.floor(r/(1e3*60*60*24));return n<60?`${n} min atrás`:i<24?`${i} hora${i>1?"s":""} atrás`:`${a} dia${a>1?"s":""} atrás`},mJe=()=>{const[t,e]=P.useState(null),[r,n]=P.useState(!0),[i,a]=P.useState(null),s=async()=>{try{n(!0),a(null);const o=await fJe();e(o)}catch(o){console.error("Erro ao buscar dados admin:",o),a("Erro ao carregar dados do painel administrativo")}finally{n(!1)}};return P.useEffect(()=>{s()},[]),{stats:t,loading:r,error:i,refetch:s}},gJe=async t=>{try{return(await qx(ti(gr,"transactions_plans"),{...t,createdAt:Za(),updatedAt:Za()})).id}catch(e){throw console.error("Erro ao criar transação de plano:",e),e}},AD=async(t,e)=>{try{const r=ti(gr,"users",t,"notifications"),n=Pi(r).id,i=Object.fromEntries(Object.entries(e).filter(([a,s])=>s!==void 0));await $v(Pi(r,n),{...i,id:n,userId:t,read:!1,createdAt:Za()}),console.log(`Notificação enviada para usuário ${t}:`,e.title)}catch(r){throw console.error("Erro ao enviar notificação:",r),r}},vJe=async(t,e,r,n,i,a)=>{const s={free:"Free",standard:"Standard",medium:"Medium",ultimate:"Ultimate"},o=s[r]||r,l=s[n]||n,u={type:"plan_change",title:"Plano Alterado",message:`Seu plano foi alterado de ${o} para ${l}${a?`. Motivo: ${a}`:""}.`,metadata:{oldPlan:r,newPlan:n,changedBy:i,...a&&{reason:a}}};await AD(t,u)},yJe=async(t,e,r)=>{const n={type:"admin_promotion",title:"Privilégios de Admin Concedidos",message:`Você foi promovido a administrador${r?`. Motivo: ${r}`:""}.`,metadata:{changedBy:e,...r&&{reason:r}}};await AD(t,n)},bJe=async(t,e,r)=>{const n={type:"admin_demotion",title:"Privilégios de Admin Removidos",message:`Seus privilégios de administrador foram removidos${`. Motivo: ${r}`}.`,metadata:{changedBy:e,reason:r}};await AD(t,n)},HU={free:{funcionarios:1,permissoes:{}},standard:{funcionarios:5,permissoes:{}},medium:{funcionarios:10,permissoes:{}},ultimate:{funcionarios:50,permissoes:{}}},GU=t=>({free:"Free",standard:"Standard",medium:"Medium",ultimate:"Ultimate"})[t]||t,mx=async t=>{try{console.log(`🔍 Buscando usuário com email: ${t}`);const e=t.toLowerCase().trim();try{const i=ti(gr,"users"),a=bf(i,jc("email","==",e)),s=await fa(a);if(!s.empty){const o=s.docs[0],l=o.id,u=o.data();console.log(`✅ Usuário encontrado: ${l} - ${e}`),console.log("📋 Dados do usuário:",u);const d={id:l,email:u.email||e,name:u.name||u.displayName||"Nome não informado",currentPlan:u.plano||"free",permissoes:u.permissoes||{},funcionariosPermitidos:u.funcionariosPermitidos||1,isSubscriber:u.isSubscriber||!1,isActive:u.isActive||!1,isAdmin:u.isAdmin||!1};return console.log("📤 Retornando usuário:",d),d}console.log(`❌ Nenhum usuário encontrado com email: ${e}`)}catch(i){console.log("❌ Erro ao buscar usuário real:",i)}console.log(`🔄 Usando dados mock para ${t}`);const n=[{id:"mock1",email:"diegkamor@gmail.com",name:"Diego Amorim",currentPlan:"ultimate",permissoes:{},funcionariosPermitidos:50,isSubscriber:!0,isActive:!0,isAdmin:!0,subscriptionEndDate:new Date("2025-12-31")},{id:"mock2",email:"julielmoura@gmail.com",name:"Julie Moura",currentPlan:"medium",permissoes:{},funcionariosPermitidos:10,isSubscriber:!0,isActive:!0,isAdmin:!1,subscriptionEndDate:new Date("2025-11-15")},{id:"mock3",email:"theohideki@gmail.com",name:"Theo Hideki",currentPlan:"standard",permissoes:{},funcionariosPermitidos:5,isSubscriber:!0,isActive:!0,isAdmin:!1,subscriptionEndDate:new Date("2025-10-30")},{id:"mock4",email:"admin@optify.com",name:"Admin Optify",currentPlan:"ultimate",permissoes:{},funcionariosPermitidos:50,isSubscriber:!0,isActive:!0,isAdmin:!0,subscriptionEndDate:new Date("2025-12-31")},{id:"mock5",email:"teste@exemplo.com",name:"Usuário Teste",currentPlan:"free",permissoes:{},funcionariosPermitidos:1,isSubscriber:!1,isActive:!1,isAdmin:!1,subscriptionEndDate:null}].find(i=>i.email.toLowerCase()===e);return n?(console.log("✅ Usuário mock encontrado:",n),n):(console.log(`❌ Nenhum usuário encontrado (real ou mock) com email: ${e}`),null)}catch(e){return console.error("❌ Erro ao buscar usuário:",e),null}},xJe=(t,e)=>(console.log(`✅ Alteração de plano permitida: ${t} → ${e}`),!0),wJe=async t=>{try{const e=ti(gr,"plan_change_history"),r=Object.fromEntries(Object.entries(t).filter(([n,i])=>i!==void 0));await qx(e,{...r,createdAt:new Date})}catch(e){console.error("Erro ao criar histórico:",e)}},_Je=async(t,e,r,n,i)=>{try{console.log(`🔄 Iniciando atualização de plano para ${t} -> ${e}`);const a=await mx(t);if(!a)throw new Error("Usuário não encontrado");console.log("📋 Usuário encontrado:",a),xJe(a.currentPlan,e);const s={plano:e,funcionariosPermitidos:HU[e].funcionarios,permissoes:HU[e].permissoes,updatedAt:Za()};if(e!=="free"){if(s.isSubscriber=!0,s.isActive=!0,i&&i>0){const o=new Date,l=new Date;l.setMonth(l.getMonth()+i),s.subscriptionStartDate=o,s.subscriptionEndDate=l,s.subscriptionMonths=i}}else s.isSubscriber=!1,s.isActive=!1,s.subscriptionStartDate=null,s.subscriptionEndDate=null,s.subscriptionMonths=null;if(a.id.startsWith("mock"))console.log(`📝 Plano do usuário mock ${a.email} simulado como alterado para ${e}`);else try{await Gg.updateUserPlan(a.id,e,i),window.dispatchEvent(new CustomEvent("planChanged",{detail:{userId:a.id,newPlan:e}}))}catch(o){throw console.error("Erro ao atualizar plano:",o),new Error(`Falha ao atualizar plano do usuário ${a.email}: ${o}`)}if(a.id.startsWith("mock"))console.log("📝 Transação de plano simulada para usuário mock");else try{await gJe({userId:a.id,userEmail:a.email,planName:e,amount:0,status:"completed",paymentMethod:"admin_change",transactionId:`admin_${Date.now()}`,adminEmail:r,reason:n||"Alteração administrativa"})}catch(o){console.log("Transação de plano não foi criada:",o)}if(a.id.startsWith("mock"))console.log("📝 Histórico de alterações simulado para usuário mock");else try{await wJe({userId:a.id,userEmail:a.email,userName:a.name,previousPlan:a.currentPlan,newPlan:e,changedBy:r,reason:n})}catch(o){console.log("Histórico de alterações não foi criado:",o)}if(a.id.startsWith("mock"))console.log("📝 Notificação simulada para usuário mock");else try{await vJe(a.id,a.email,a.currentPlan,e,r,n)}catch(o){console.log("Notificação não foi enviada:",o)}We.success(`✅ Plano do usuário ${a.email} alterado de ${GU(a.currentPlan)} para ${GU(e)}`)}catch(a){throw console.error("❌ Erro ao atualizar plano:",a),a instanceof Error&&a.message.includes("downgrade")?We.error(a.message):We.error(`Erro ao atualizar plano: ${a instanceof Error?a.message:"Erro desconhecido"}`),a}},KU=async()=>{try{const t=ti(gr,"plan_change_history");return(await fa(t)).docs.map(r=>{var a;const n=r.data();let i;return(a=n.createdAt)!=null&&a.toDate?i=n.createdAt.toDate():n.createdAt instanceof Date?i=n.createdAt:typeof n.createdAt=="string"?i=new Date(n.createdAt):i=new Date,{id:r.id,...n,createdAt:i}}).sort((r,n)=>n.createdAt.getTime()-r.createdAt.getTime())}catch(t){return console.error("Erro ao buscar histórico de planos:",t),[]}},SJe=async(t,e,r)=>{try{const n=await mx(t);if(!n)throw new Error("Usuário não encontrado com este email");if(await bne(n.id,n.email))throw new Error("Este usuário já possui privilégios de admin");try{const a=Pi(gr,"admins",n.id);await $v(a,{email:n.email,isAdmin:!0,addedAt:new Date,promotedBy:e,reason:r||"Promoção administrativa"})}catch(a){if(n.id.startsWith("mock"))console.log(`Usuário mock ${n.email} promovido a admin`);else throw a}try{await NJe({userId:n.id,userEmail:n.email,userName:n.name,promotedBy:e,reason:r})}catch(a){console.log("Histórico de promoção não foi criado (usuário mock):",a)}try{await yJe(n.id,e,r)}catch(a){console.log("Notificação não foi enviada (usuário mock):",a)}We.success(`Usuário ${n.email} promovido a admin com sucesso!`)}catch(n){throw console.error("Erro ao promover usuário:",n),n}},AJe=async(t,e,r)=>{try{const n=await mx(t);if(!n)throw new Error("Usuário não encontrado com este email");if(!await bne(n.id,n.email))throw new Error("Este usuário não possui privilégios de admin");if(n.email===e)throw new Error("Você não pode remover seus próprios privilégios de admin");try{const a=Pi(gr,"admins",n.id);await $v(a,{email:n.email,isAdmin:!1,removedAt:new Date,demotedBy:e,reason:r||"Remoção administrativa"},{merge:!0})}catch(a){if(n.id.startsWith("mock"))console.log(`Privilégios de admin removidos do usuário mock ${n.email}`);else throw a}try{await EJe({userId:n.id,userEmail:n.email,userName:n.name,demotedBy:e,reason:r})}catch(a){console.log("Histórico de remoção não foi criado (usuário mock):",a)}try{await bJe(n.id,e,r)}catch(a){console.log("Notificação não foi enviada (usuário mock):",a)}We.success(`Privilégios de admin removidos do usuário ${n.email}`)}catch(n){throw console.error("Erro ao remover privilégios de admin:",n),n}},bne=async(t,e)=>{try{if(["diegkamor@gmail.com"].includes(e.toLowerCase()))return!0;const n=Pi(gr,"admins",t),i=await fa(bf(ti(gr,"admins"),jc("__name__","==",t)));if(!i.empty){const a=i.docs[0].data();return(a==null?void 0:a.isAdmin)===!0}return!1}catch(r){return console.error("Erro ao verificar status de admin:",r),!1}},zP=async()=>{try{const t=await fa(ti(gr,"admins")),e=[];return t.docs.forEach(n=>{const i=n.data();i.isAdmin===!0&&e.push({userId:n.id,email:i.email,isAdmin:i.isAdmin,addedAt:i.addedAt,promotedBy:i.promotedBy})}),["diegkamor@gmail.com"].forEach(n=>{e.find(i=>i.email===n)||e.push({userId:"hardcoded",email:n,isAdmin:!0,addedAt:"2024-01-01T00:00:00.000Z",promotedBy:"Sistema"})}),e.sort((n,i)=>{if(n.addedAt&&i.addedAt){const a=n.addedAt.toDate?n.addedAt.toDate():new Date(n.addedAt);return(i.addedAt.toDate?i.addedAt.toDate():new Date(i.addedAt)).getTime()-a.getTime()}return 0})}catch(t){throw console.error("Erro ao buscar administradores:",t),t}},NJe=async t=>{try{const e=ti(gr,"admin_promotion_history"),r=Object.fromEntries(Object.entries(t).filter(([n,i])=>i!==void 0));await qx(e,{...r,createdAt:new Date})}catch(e){console.error("Erro ao criar histórico de promoção:",e)}},EJe=async t=>{try{const e=ti(gr,"admin_demotion_history"),r=Object.fromEntries(Object.entries(t).filter(([n,i])=>i!==void 0));await qx(e,{...r,createdAt:new Date})}catch(e){console.error("Erro ao criar histórico de demotion:",e)}},YU=async()=>{try{const t=ti(gr,"admin_promotion_history");return(await fa(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Erro ao buscar histórico de promoções:",t),t}},qP=async()=>{try{const t=ti(gr,"admin_demotion_history");return(await fa(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Erro ao buscar histórico de demotions:",t),t}},jJe=async(t,e,r)=>{try{console.log(`🗑️ Iniciando exclusão completa do usuário: ${e} (${t})`);const n={userProfile:!1,transactions:0,employees:0,platforms:0,settings:!1,planHistory:0};try{const i=ti(gr,"users",t,"employees"),a=await fa(i);for(const g of a.docs)await Jf(Pi(gr,"users",t,"employees",g.id)),n.employees++;const s=ti(gr,"users",t,"transactions"),o=await fa(s);for(const g of o.docs)await Jf(Pi(gr,"users",t,"transactions",g.id)),n.transactions++;const l=ti(gr,"users",t,"platforms"),u=await fa(l);for(const g of u.docs)await Jf(Pi(gr,"users",t,"platforms",g.id)),n.platforms++;const d=ti(gr,"users",t,"settings"),h=await fa(d);for(const g of h.docs)await Jf(Pi(gr,"users",t,"settings",g.id));n.settings=h.size>0;const p=ti(gr,"plan_change_history"),f=bf(p,jc("userId","==",t)),v=await fa(f);for(const g of v.docs)await Jf(Pi(gr,"users",p.id,g.id)),n.planHistory++;const m=Pi(gr,"users",t);await Jf(m),n.userProfile=!0,console.log("✅ Dados do Firestore excluídos com sucesso:",n)}catch(i){console.error("❌ Erro ao excluir dados do Firestore:",i)}if(!r)try{const{auth:i}=await Ou(async()=>{const{auth:s}=await Promise.resolve().then(()=>z0e);return{auth:s}},void 0),a=i.currentUser;a&&a.uid===t&&(await eG(a),console.log("✅ Usuário excluído do Authentication"))}catch(i){throw console.error("❌ Erro ao excluir do Authentication:",i),new Error("Falha ao excluir conta do sistema de autenticação")}return console.log(r?`📝 Usuário ${e} excluído pelo admin ${r}`:`📝 Usuário ${e} excluído por auto-exclusão`),{success:!0,message:`Usuário ${e} excluído com sucesso`,deletedData:n}}catch(n){return console.error("❌ Erro ao excluir usuário:",n),{success:!1,message:n instanceof Error?n.message:"Erro desconhecido ao excluir usuário",deletedData:{userProfile:!1,transactions:0,employees:0,platforms:0,settings:!1,planHistory:0}}}},XU=(t,e)=>!(t===e||t==="hardcoded"),PJe=async t=>{if(!t||t.length<2)return[];try{const e=t.toLowerCase(),r=[];try{const n=ti(gr,"users"),i=t.toUpperCase(),a=bf(n,ef("email"),M0e(e),$0e(i+""),xb(10));(await fa(a)).forEach(o=>{var u;const l=o.data();l.email&&l.email.toLowerCase().startsWith(e)&&r.push({uid:o.id,email:l.email,displayName:l.displayName||l.name,createdAt:(u=l.createdAt)!=null&&u.toDate?l.createdAt.toDate():l.createdAt})})}catch{console.log("Coleção users não encontrada ou vazia, tentando abordagem alternativa")}return r.length===0&&[{uid:"mock1",email:"diegkamor@gmail.com",displayName:"Diego Amorim"},{uid:"mock2",email:"julielmoura@gmail.com",displayName:"Julie Moura"},{uid:"mock3",email:"theohideki@gmail.com",displayName:"Theo Hideki"},{uid:"mock4",email:"admin@optify.com",displayName:"Admin Optify"},{uid:"mock5",email:"teste@exemplo.com",displayName:"Usuário Teste"}].filter(a=>a.email.toLowerCase().includes(e)).forEach(a=>{r.push({uid:a.uid,email:a.email,displayName:a.displayName,createdAt:new Date})}),r.slice(0,10)}catch(e){return console.error("Erro ao buscar usuários:",e),[]}},QU=({placeholder:t="Digite o email do usuário",onUserSelect:e,onSearch:r,disabled:n=!1,className:i=""})=>{const[a,s]=P.useState(""),[o,l]=P.useState([]),[u,d]=P.useState(!1),[h,p]=P.useState(!1),[f,v]=P.useState(-1),m=P.useRef(null),g=P.useRef(null),y=P.useRef();P.useEffect(()=>(y.current&&clearTimeout(y.current),a.length>=2?y.current=setTimeout(async()=>{d(!0);try{const E=await PJe(a);l(E),p(!0),v(-1)}catch(E){console.error("Erro ao buscar usuários:",E),l([])}finally{d(!1)}},300):(l([]),p(!1)),()=>{y.current&&clearTimeout(y.current)}),[a]);const x=E=>{var I;if(!(!h||o.length===0))switch(E.key){case"ArrowDown":E.preventDefault(),v(D=>D<o.length-1?D+1:0);break;case"ArrowUp":E.preventDefault(),v(D=>D>0?D-1:o.length-1);break;case"Enter":E.preventDefault(),f>=0&&f<o.length&&_(o[f]);break;case"Escape":p(!1),v(-1),(I=m.current)==null||I.blur();break}},_=E=>{var I;s(E.email),p(!1),v(-1),l([]),e(E),(I=m.current)==null||I.blur()},S=E=>{const I=E.target.value;s(I),r&&r(I)},N=()=>{r&&r(a)},C=()=>{o.length>0&&p(!0)},j=E=>{setTimeout(()=>{var I;(I=g.current)!=null&&I.contains(document.activeElement)||(p(!1),v(-1),l([]))},150)};return c.jsxs("div",{className:`relative z-[9999] ${i}`,style:{zIndex:999999},children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Bt,{ref:m,type:"email",placeholder:t,value:a,onChange:S,onKeyDown:x,onFocus:C,onBlur:j,disabled:n,className:"pr-10"}),u&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})})]}),c.jsx(qe,{type:"button",variant:"outline",size:"icon",onClick:N,disabled:n||u,children:c.jsx(cA,{className:"h-4 w-4"})})]}),h&&o.length>0&&c.jsxs(Ye,{ref:g,className:"absolute top-full left-0 right-0 z-[99999] mt-1 max-h-60 overflow-y-auto border shadow-2xl bg-background",style:{zIndex:999999,transform:"translateZ(0)",isolation:"isolate"},children:[c.jsx("div",{className:"p-2",children:o.map((E,I)=>c.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-md cursor-pointer transition-colors ${I===f?"bg-accent":"hover:bg-accent/50"}`,onClick:()=>_(E),children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx(iW,{className:"h-4 w-4 text-primary"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-sm truncate",children:E.email}),E.displayName&&c.jsx(sr,{variant:"secondary",className:"text-xs",children:E.displayName})]}),E.createdAt&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[c.jsx(Nv,{className:"h-3 w-3"}),c.jsxs("span",{children:["Cadastrado em ",E.createdAt.toLocaleDateString("pt-BR")]})]})]})]},E.uid))}),o.length===10&&c.jsx("div",{className:"px-2 py-1 text-xs text-muted-foreground border-t",children:"Mostrando os primeiros 10 resultados"})]})]})},TJe=()=>[{id:"free",name:"Free",description:"Plano gratuito com funcionalidades básicas",price:0,features:["Funcionalidades básicas","Suporte por email"]},{id:"standard",name:"Standard",description:"Plano intermediário com mais recursos",price:1,features:["Todas as funcionalidades Free","Relatórios avançados","Suporte prioritário"]},{id:"medium",name:"Medium",description:"Plano avançado para empresas em crescimento",price:49.9,features:["Todas as funcionalidades Standard","API access","Integrações avançadas"]},{id:"ultimate",name:"Ultimate",description:"Plano premium com todos os recursos",price:99.9,features:["Todas as funcionalidades","Suporte 24/7","Consultoria personalizada"]}],CJe=t=>["free","standard","medium","ultimate"].includes(t),kJe=()=>{const{user:t,isAdmin:e}=Hr(),{stats:r,loading:n,error:i,refetch:a}=mJe(),[s,o]=P.useState([]),[l,u]=P.useState(!0),[d,h]=P.useState(""),[p,f]=P.useState([]),[v,m]=P.useState(!1),[g,y]=P.useState(""),[x,_]=P.useState(""),[S,N]=P.useState(""),[C,j]=P.useState(0),[E,I]=P.useState(!1),[D,k]=P.useState(null),[O,L]=P.useState(!1),[z,re]=P.useState(""),[Y,K]=P.useState(""),[q,Z]=P.useState(!1),[ve,ce]=P.useState(null),[F,V]=P.useState(!1),[G,oe]=P.useState([]),[J,ie]=P.useState([]),[be,he]=P.useState([]),[T,X]=P.useState(!1),[ne,de]=P.useState(null),[ge,ee]=P.useState(!1),[Ne,De]=P.useState(!1),[Le,_e]=P.useState(!1),[Pe,je]=P.useState(null),[Me,Je]=P.useState(""),[Gt,At]=P.useState(!1),ut=TJe();P.useEffect(()=>{(async()=>{try{u(!0);const nt=await E_();o(nt)}catch(nt){console.error("Erro ao buscar usuários:",nt)}finally{u(!1)}})()},[]),P.useEffect(()=>{(async()=>{try{m(!0);const nt=await KU();f(nt.sort((tr,it)=>{var ot,ft;const Ze=(ot=tr.createdAt)!=null&&ot.toDate?tr.createdAt.toDate():new Date(tr.createdAt);return((ft=it.createdAt)!=null&&ft.toDate?it.createdAt.toDate():new Date(it.createdAt)).getTime()-Ze.getTime()}))}catch(nt){console.error("Erro ao buscar histórico:",nt)}finally{m(!1)}})()},[]),P.useEffect(()=>{(async()=>{try{X(!0);const[nt,tr,it]=await Promise.all([zP(),YU(),qP()]);oe(nt),ie(tr.sort((Ze,mt)=>{const ot=Ze.createdAt.toDate?Ze.createdAt.toDate():new Date(Ze.createdAt);return(mt.createdAt.toDate?mt.createdAt.toDate():new Date(mt.createdAt)).getTime()-ot.getTime()})),he(it.sort((Ze,mt)=>{const ot=Ze.createdAt.toDate?Ze.createdAt.toDate():new Date(Ze.createdAt);return(mt.createdAt.toDate?mt.createdAt.toDate():new Date(mt.createdAt)).getTime()-ot.getTime()}))}catch(nt){console.error("Erro ao buscar dados de admin:",nt)}finally{X(!1)}})()},[]);const Lt=s.filter(Ae=>Ae.name.toLowerCase().includes(d.toLowerCase())||Ae.email.toLowerCase().includes(d.toLowerCase())),Nt=()=>{a(),We.success("Dados atualizados com sucesso!")},St=async()=>{if(g.trim())try{L(!0);const Ae=await mx(g.trim());k(Ae),_(Ae?Ae.currentPlan:"")}catch{k(null),_("")}finally{L(!1)}},kt=async()=>{if(!D||!x){We.error("Por favor, selecione um usuário e um plano");return}if(x===D.currentPlan){We.error("O usuário já possui este plano");return}if(!CJe(x)){We.error("Plano inválido selecionado");return}try{I(!0),await _Je(D.email,x,(t==null?void 0:t.email)||"",S||void 0,C||void 0),y(""),_(""),N(""),j(0),k(null),a();const Ae=await E_();o(Ae);const nt=await KU();f(nt.sort((tr,it)=>{var ot,ft;const Ze=(ot=tr.createdAt)!=null&&ot.toDate?tr.createdAt.toDate():new Date(tr.createdAt);return((ft=it.createdAt)!=null&&ft.toDate?it.createdAt.toDate():new Date(it.createdAt)).getTime()-Ze.getTime()}))}catch(Ae){console.error("Erro ao atualizar plano:",Ae)}finally{I(!1)}},ct=async()=>{if(z.trim())try{V(!0);const Ae=await mx(z.trim());ce(Ae)}catch{ce(null)}finally{V(!1)}},Kt=async()=>{if(!ve){We.error("Por favor, busque um usuário primeiro");return}try{Z(!0),await SJe(ve.email,(t==null?void 0:t.email)||"",Y||void 0),re(""),K(""),ce(null);const[Ae,nt,tr]=await Promise.all([zP(),YU(),qP()]);oe(Ae),ie(nt.sort((it,Ze)=>{const mt=it.createdAt.toDate?it.createdAt.toDate():new Date(it.createdAt);return(Ze.createdAt.toDate?Ze.createdAt.toDate():new Date(Ze.createdAt)).getTime()-mt.getTime()})),he(tr.sort((it,Ze)=>{const mt=it.createdAt.toDate?it.createdAt.toDate():new Date(it.createdAt);return(Ze.createdAt.toDate?Ze.createdAt.toDate():new Date(Ze.createdAt)).getTime()-mt.getTime()}))}catch(Ae){console.error("Erro ao promover usuário:",Ae)}finally{Z(!1)}},zt=async Ae=>{try{await AJe(Ae,(t==null?void 0:t.email)||"","Remoção via painel administrativo");const[nt,tr]=await Promise.all([zP(),qP()]);oe(nt),he(tr.sort((it,Ze)=>{const mt=it.createdAt.toDate?it.createdAt.toDate():new Date(it.createdAt);return(Ze.createdAt.toDate?Ze.createdAt.toDate():new Date(Ze.createdAt)).getTime()-mt.getTime()}))}catch(nt){console.error("Erro ao remover privilégios de admin:",nt)}},dt=Ae=>{de(Ae),ee(!0)},Oe=Ae=>{de(Ae),De(!0)},Ot=()=>{de(null),ee(!1),De(!1),_e(!1),je(null),Je("")},gt=Ae=>{je(Ae),_e(!0)},Qt=async()=>{if(Pe){if(Me.toLowerCase()!=="excluir"){We.error('Digite "excluir" para confirmar a exclusão');return}if(!XU(Pe.id,t==null?void 0:t.uid)){We.error("Não é possível excluir este usuário");return}try{if(At(!0),Pe.id.startsWith("mock"))console.log(`📝 Exclusão simulada para usuário mock: ${Pe.email}`),We.success(`Usuário ${Pe.email} excluído com sucesso (simulação)`);else{const nt=await jJe(Pe.id,Pe.email,(t==null?void 0:t.email)||void 0);if(nt.success)We.success(nt.message),console.log("✅ Exclusão concluída:",nt.deletedData);else{We.error(nt.message);return}}const Ae=await E_();o(Ae),Ot()}catch(Ae){console.error("Erro ao excluir usuário:",Ae),We.error("Erro ao excluir usuário. Tente novamente.")}finally{At(!1)}}};return c.jsxs(SD,{defaultValue:"analytics",className:"w-full",children:[c.jsxs(aE,{className:"grid w-full grid-cols-3 mb-6",children:[c.jsxs(xl,{value:"analytics",className:"flex items-center gap-2",children:[c.jsx(e_,{className:"h-4 w-4"}),"Dashboard Avançado"]}),c.jsxs(xl,{value:"dashboard",className:"flex items-center gap-2",children:[c.jsx(rs,{className:"h-4 w-4"}),"Resultados & Estatísticas"]}),c.jsxs(xl,{value:"plans",className:"flex items-center gap-2",children:[c.jsx(rW,{className:"h-4 w-4"}),"Gerenciar Planos"]})]}),c.jsxs(wl,{value:"analytics",className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Dashboard Avançado"}),c.jsx("p",{className:"text-muted-foreground",children:"Análise completa do desempenho do sistema"})]}),c.jsxs(qe,{onClick:Nt,variant:"outline",size:"sm",disabled:n,className:"flex items-center gap-2",children:[c.jsx(Qw,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Atualizar"]})]}),n?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[...Array(4)].map((Ae,nt)=>c.jsx(Ye,{className:"p-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-8 bg-muted rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/3"})]})},nt))}):r?c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[c.jsx(Ye,{className:"p-6 border-l-4 border-l-emerald-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Receita Hoje"}),c.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["R$ ",r.revenueToday.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:r.revenueToday>0?"Receitas do dia atual":"Nenhuma receita hoje"})]}),c.jsx(Ph,{className:"h-8 w-8 text-emerald-500"})]})}),c.jsx(Ye,{className:"p-6 border-l-4 border-l-blue-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Receita Semana"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",r.revenueWeek.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Últimos 7 dias"})]}),c.jsx(ri,{className:"h-8 w-8 text-blue-500"})]})}),c.jsx(Ye,{className:"p-6 border-l-4 border-l-purple-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Receita Mês"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["R$ ",r.revenueMonth.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Últimos 30 dias"})]}),c.jsx(e_,{className:"h-8 w-8 text-purple-500"})]})}),c.jsx(Ye,{className:"p-6 border-l-4 border-l-orange-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Melhor Dia"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r.bestDay.date}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["R$ ",r.bestDay.revenue.toLocaleString("pt-BR",{minimumFractionDigits:2})," em vendas"]})]}),c.jsx(Qw,{className:"h-8 w-8 text-orange-500"})]})})]}):c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[c.jsx(Ye,{className:"p-6 border-l-4 border-l-emerald-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Receita Hoje"}),c.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:"R$ 0,00"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Nenhuma receita hoje"})]}),c.jsx(Ph,{className:"h-8 w-8 text-emerald-500"})]})}),c.jsx(Ye,{className:"p-6 border-l-4 border-l-blue-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Receita Semana"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"R$ 0,00"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Últimos 7 dias"})]}),c.jsx(ri,{className:"h-8 w-8 text-blue-500"})]})}),c.jsx(Ye,{className:"p-6 border-l-4 border-l-purple-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Receita Mês"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"R$ 0,00"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Últimos 30 dias"})]}),c.jsx(e_,{className:"h-8 w-8 text-purple-500"})]})}),c.jsx(Ye,{className:"p-6 border-l-4 border-l-orange-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Melhor Dia"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"N/A"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Nenhuma receita registrada"})]}),c.jsx(Qw,{className:"h-8 w-8 text-orange-500"})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[c.jsxs(Ye,{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(ri,{className:"h-5 w-5"}),"Receita Total: R$ ",(r==null?void 0:r.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Receita Hoje"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:r?`${Math.min(r.revenueToday/Math.max(r.totalRevenue,1)*100,100)}%`:"0%"}})}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["R$ ",(r==null?void 0:r.revenueToday.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Receita Semanal"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:r?`${Math.min(r.revenueWeek/Math.max(r.totalRevenue,1)*100,100)}%`:"0%"}})}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["R$ ",(r==null?void 0:r.revenueWeek.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Receita Mensal"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:r?`${Math.min(r.revenueMonth/Math.max(r.totalRevenue,1)*100,100)}%`:"0%"}})}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["R$ ",(r==null?void 0:r.revenueMonth.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Melhor Dia"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-orange-600",children:(r==null?void 0:r.bestDay.date)||"N/A"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["R$ ",(r==null?void 0:r.bestDay.revenue.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]})]}),r&&r.totalRevenue===0&&c.jsx("div",{className:"text-center py-4",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma receita registrada ainda"})})]})]}),c.jsxs(Ye,{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(rs,{className:"h-5 w-5"}),"Planos Mais Populares"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),c.jsx("span",{className:"text-sm font-medium",children:"Ultimate"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-32 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-2/3 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"2 usuários (67%)"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),c.jsx("span",{className:"text-sm font-medium",children:"Standard"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-32 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-1/3 h-full bg-blue-500 rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"1 usuário (33%)"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Medium"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-32 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-muted-foreground rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"0 usuários (0%)"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Free"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-32 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-muted-foreground rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"0 usuários (0%)"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[c.jsxs(Ye,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Crescimento de Usuários"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Este Mês"}),c.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"+3 usuários"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Mês Anterior"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"+0 usuários"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Crescimento"}),c.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"∞% ↗️"})]})]})]}),c.jsxs(Ye,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Métricas de Engajamento"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Taxa de Conversão"}),c.jsx("span",{className:"text-sm font-semibold text-primary",children:"100%"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Usuários Ativos"}),c.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"3/3"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Retenção"}),c.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"100%"})]})]})]}),c.jsxs(Ye,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Projeções"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Próximo Mês"}),c.jsx("span",{className:"text-sm font-semibold text-purple-600",children:"R$ 31,00"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Meta Anual"}),c.jsx("span",{className:"text-sm font-semibold text-orange-600",children:"R$ 372,00"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Crescimento Esperado"}),c.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"+3,300%"})]})]})]})]}),c.jsxs(Ye,{className:"p-6 border-l-4 border-l-yellow-500",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(VT,{className:"h-5 w-5 text-yellow-500"}),"Alertas e Recomendações"]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:c.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[c.jsx("strong",{children:"🎯 Oportunidade:"})," Considere criar campanhas de marketing para o plano Medium, que ainda não tem usuários."]})}),c.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"📈 Tendência:"})," O plano Ultimate está sendo o mais escolhido. Considere criar um plano ainda mais premium."]})}),c.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:c.jsxs("p",{className:"text-sm text-emerald-800 dark:text-emerald-200",children:[c.jsx("strong",{children:"✅ Excelente:"})," Taxa de conversão de 100% indica que o produto está bem posicionado no mercado."]})})]})]})]}),c.jsxs(wl,{value:"dashboard",className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Resultados & Estatísticas"}),c.jsx("p",{className:"text-muted-foreground",children:"Visão geral do desempenho do sistema"})]}),c.jsxs(qe,{onClick:Nt,variant:"outline",size:"sm",disabled:n,className:"flex items-center gap-2",children:[c.jsx(Qw,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Atualizar"]})]}),i&&c.jsxs(P1,{variant:"destructive",children:[c.jsx(VT,{className:"h-4 w-4"}),c.jsx(T1,{children:i})]}),n?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((Ae,nt)=>c.jsx(Ye,{className:"p-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-8 bg-muted rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/3"})]})},nt))}):r&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx(n1,{title:"Total de Usuários",value:r.totalUsers.toLocaleString(),icon:rs,trend:{value:r.growthRate,isPositive:r.growthRate>0}}),c.jsx(n1,{title:"Usuários Ativos",value:r.activeUsers.toLocaleString(),icon:Jw}),c.jsx(n1,{title:"Receita Total",value:`R$ ${r.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:Ph}),c.jsx(n1,{title:"Taxa de Crescimento",value:`${r.growthRate.toFixed(1)}%`,icon:ri,trend:{value:r.growthRate,isPositive:r.growthRate>0}})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Ye,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Distribuição de Planos"}),n?c.jsx("div",{className:"space-y-3",children:[...Array(4)].map((Ae,nt)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-16 animate-pulse"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-48 h-2 bg-muted rounded-full animate-pulse"}),c.jsx("div",{className:"h-4 bg-muted rounded w-8 animate-pulse"})]})]},nt))}):r?c.jsx("div",{className:"space-y-4",children:Object.entries(r.planDistribution).map(([Ae,nt])=>{const tr=r.totalUsers>0?nt/r.totalUsers*100:0,it=ut.find(Ze=>Ze.id===Ae);return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium",children:(it==null?void 0:it.name)||Ae}),c.jsxs(sr,{variant:"outline",className:"text-xs",children:[nt," usuários"]})]}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[tr.toFixed(1),"%"]})]}),c.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-500",style:{width:`${tr}%`}})})]},Ae)})}):null]}),c.jsxs(Ye,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Atividade Recente"}),n?c.jsx("div",{className:"space-y-3",children:[...Array(4)].map((Ae,nt)=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"}),c.jsx("div",{className:"h-3 bg-muted rounded w-16 animate-pulse"})]},nt))}):r?c.jsx("div",{className:"space-y-3",children:r.recentActivity.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma atividade recente"}):r.recentActivity.map((Ae,nt)=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsx("span",{className:"text-sm",children:Ae.action}),c.jsx("span",{className:"text-xs text-muted-foreground",children:Ae.time})]},nt))}):null]})]}),c.jsxs(Ye,{className:"shadow-card",children:[c.jsx("div",{className:"p-6 border-b border-border",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold",children:["Usuários do Sistema (",Lt.length,")"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Bt,{placeholder:"Buscar usuários...",className:"w-64 pl-10",value:d,onChange:Ae=>h(Ae.target.value)})]}),c.jsx(qe,{variant:"outline",children:"Filtros"})]})]})}),c.jsx("div",{className:"overflow-x-auto",children:l?c.jsxs("div",{className:"p-4 sm:p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Carregando usuários..."})]}):c.jsx("div",{className:"min-w-full",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-muted/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:"Usuário"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Email"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Plano"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Expira em"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Registrado em"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Ações"})]})}),c.jsx("tbody",{children:Lt.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:d?"Nenhum usuário encontrado para a busca.":"Nenhum usuário encontrado."})}):Lt.map(Ae=>c.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[c.jsx("td",{className:"p-4 font-medium",children:Ae.name}),c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:Ae.email}),c.jsx("td",{className:"p-4",children:c.jsx(sr,{variant:Ae.plan==="free"?"secondary":"default",className:"capitalize",children:Ae.plan})}),c.jsx("td",{className:"p-4",children:c.jsx(sr,{variant:Ae.status==="active"?"default":"secondary",children:Ae.status==="active"?"Ativo":"Inativo"})}),c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:Ae.planExpirationDate?Ae.planExpirationDate.toDate?Ae.planExpirationDate.toDate().toLocaleDateString("pt-BR"):new Date(Ae.planExpirationDate).toLocaleDateString("pt-BR"):Ae.plan==="free"?"N/A":"Não definido"}),c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:Ae.createdAt?Ae.createdAt.toDate?Ae.createdAt.toDate().toLocaleDateString("pt-BR"):new Date(Ae.createdAt).toLocaleDateString("pt-BR"):"N/A"}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(qe,{size:"sm",variant:"outline",onClick:()=>dt(Ae),className:"flex items-center gap-1",children:[c.jsx(Th,{className:"h-3 w-3"}),"Editar"]}),c.jsxs(qe,{size:"sm",variant:"outline",onClick:()=>Oe(Ae),className:"flex items-center gap-1",children:[c.jsx(qT,{className:"h-3 w-3"}),"Ver Detalhes"]}),c.jsxs(qe,{size:"sm",variant:"destructive",onClick:()=>gt(Ae),className:"flex items-center gap-1",disabled:!XU(Ae.id,t==null?void 0:t.uid),children:[c.jsx($g,{className:"h-3 w-3"}),"Excluir"]})]})})]},Ae.id))})]})})})]})]}),c.jsxs(wl,{value:"plans",className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciamento de Planos"}),c.jsx("p",{className:"text-muted-foreground",children:"Alterar planos de usuários por email"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Ye,{className:"p-6 relative z-50",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(nW,{className:"h-5 w-5"}),"Alterar Plano de Usuário"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Email do Usuário"}),c.jsx("div",{className:"mt-1",children:c.jsx(QU,{placeholder:"Digite o email do usuário",onUserSelect:Ae=>{y(Ae.email),k({uid:Ae.uid,email:Ae.email,displayName:Ae.displayName})},onSearch:Ae=>{y(Ae),St()}})})]}),D&&c.jsxs(P1,{children:[c.jsx(Jw,{className:"h-4 w-4"}),c.jsx(T1,{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Nome:"})," ",D.name||"Nome não informado"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",D.email||"Email não informado"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("strong",{children:"Plano Atual:"}),c.jsx(sr,{className:"capitalize",children:D.currentPlan||"free"})]})]})})]}),D&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx(st,{htmlFor:"newPlan",children:"Novo Plano"}),c.jsxs(Zn,{value:x,onValueChange:_,children:[c.jsx(Kn,{className:"mt-1",children:c.jsx(ei,{placeholder:"Selecione o novo plano"})}),c.jsx(Yn,{children:ut.map(Ae=>c.jsx(Lr,{value:Ae.id,disabled:Ae.id===D.currentPlan,children:c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsx("span",{children:Ae.name}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["R$ ",Ae.price.toFixed(2)]})]})},Ae.id))})]})]}),c.jsxs("div",{children:[c.jsx(st,{htmlFor:"reason",children:"Motivo da Alteração (opcional)"}),c.jsx(J4,{id:"reason",placeholder:"Ex: Upgrade promocional, correção de problema, etc.",value:S,onChange:Ae=>N(Ae.target.value),className:"mt-1"})]}),x&&x!=="free"&&c.jsxs("div",{children:[c.jsx(st,{htmlFor:"subscriptionMonths",children:"Meses de Assinatura"}),c.jsx(Bt,{id:"subscriptionMonths",type:"number",placeholder:"Ex: 12 (para 1 ano)",value:C,onChange:Ae=>j(parseInt(Ae.target.value)||0),className:"mt-1",min:"1",max:"120"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deixe vazio para não definir período específico"})]}),c.jsx(qe,{onClick:kt,disabled:E||!x||x===D.currentPlan,className:"w-full",children:E?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Alterando Plano..."]}):c.jsxs(c.Fragment,{children:[c.jsx(jh,{className:"h-4 w-4 mr-2"}),"Alterar Plano"]})})]})]})]}),c.jsxs(Ye,{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(sA,{className:"h-5 w-5"}),"Histórico de Alterações"]}),v?c.jsx("div",{className:"space-y-3",children:[...Array(3)].map((Ae,nt)=>c.jsx("div",{className:"p-3 border rounded-lg",children:c.jsxs("div",{className:"animate-pulse space-y-2",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})},nt))}):c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:p.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma alteração de plano registrada"}):p.map(Ae=>{var nt;return c.jsx("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:Ae.userEmail}),c.jsx(sr,{variant:"outline",className:"text-xs",children:Ae.newPlan})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ae.previousPlan," → ",Ae.newPlan]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Alterado por: ",Ae.updatedBy||Ae.changedBy]}),Ae.reason&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Motivo: ",Ae.reason]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:(nt=Ae.createdAt)!=null&&nt.toDate?Ae.createdAt.toDate().toLocaleString("pt-BR"):new Date(Ae.createdAt).toLocaleString("pt-BR")})]})},Ae.id)})})]})]}),c.jsxs(Ye,{className:"p-6 relative z-10",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(qp,{className:"h-5 w-5"}),"Gerenciar Administradores"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Email do Usuário para Promover"}),c.jsx("div",{className:"mt-1",children:c.jsx(QU,{placeholder:"Digite o email do usuário",onUserSelect:Ae=>{re(Ae.email),ce({uid:Ae.uid,email:Ae.email,displayName:Ae.displayName})},onSearch:Ae=>{re(Ae),ct()}})})]}),ve&&c.jsxs(P1,{children:[c.jsx(Jw,{className:"h-4 w-4"}),c.jsx(T1,{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Nome:"})," ",ve.name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",ve.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"}),c.jsx(sr,{className:"ml-2",variant:"outline",children:"Usuário Regular"})]})]})})]}),ve&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx(st,{htmlFor:"adminReason",children:"Motivo da Promoção (opcional)"}),c.jsx(J4,{id:"adminReason",placeholder:"Ex: Responsável pela equipe, suporte técnico, etc.",value:Y,onChange:Ae=>K(Ae.target.value),className:"mt-1"})]}),c.jsx(qe,{onClick:Kt,disabled:q,className:"w-full bg-gradient-primary",children:q?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Promovendo..."]}):c.jsxs(c.Fragment,{children:[c.jsx(qp,{className:"h-4 w-4 mr-2"}),"Promover a Administrador"]})})]})]})]}),c.jsxs(Ye,{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Jw,{className:"h-5 w-5"}),"Administradores Atuais"]}),T?c.jsx("div",{className:"space-y-3",children:[...Array(3)].map((Ae,nt)=>c.jsx("div",{className:"p-3 border rounded-lg",children:c.jsxs("div",{className:"animate-pulse space-y-2",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},nt))}):c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:G.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum administrador encontrado"}):G.map(Ae=>c.jsx("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium",children:Ae.email}),c.jsx(sr,{variant:"default",className:"bg-gradient-primary",children:"Admin"})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Promovido por: ",Ae.promotedBy||"Sistema"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:Ae.addedAt?Ae.addedAt.toDate?Ae.addedAt.toDate().toLocaleString("pt-BR"):Ae.addedAt.toString():"Data não disponível"})]}),Ae.email!==(t==null?void 0:t.email)&&Ae.userId!=="hardcoded"&&c.jsx(qe,{size:"sm",variant:"destructive",onClick:()=>zt(Ae.email),children:"Remover Admin"})]})},Ae.userId))})]}),c.jsxs(Ye,{className:"p-6 lg:col-span-2",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Planos Disponíveis"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:ut.map(Ae=>c.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-semibold",children:Ae.name}),c.jsxs(sr,{variant:Ae.price===0?"secondary":"default",children:["R$ ",Ae.price.toFixed(2)]})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:Ae.description}),c.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:Ae.features.map((nt,tr)=>c.jsxs("li",{className:"flex items-center gap-1",children:[c.jsx(jh,{className:"h-3 w-3 text-green-500"}),nt]},tr))})]})},Ae.id))})]})]}),c.jsx(Rs,{open:ge,onOpenChange:ee,children:c.jsxs(ls,{className:"max-w-2xl",children:[c.jsx(cs,{children:c.jsxs(us,{className:"flex items-center gap-2",children:[c.jsx(Th,{className:"h-5 w-5"}),"Editar Usuário: ",ne==null?void 0:ne.name]})}),ne&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nome"}),c.jsx(Bt,{value:ne.name,readOnly:!0,className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Email"}),c.jsx(Bt,{value:ne.email,readOnly:!0,className:"mt-1"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Plano Atual"}),c.jsx("div",{className:"mt-1",children:c.jsx(sr,{className:"capitalize",children:ne.plan})})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Status"}),c.jsx("div",{className:"mt-1",children:c.jsx(sr,{variant:ne.status==="active"?"default":"secondary",children:ne.status==="active"?"Ativo":"Inativo"})})]})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Alterar Plano"}),c.jsxs("div",{className:"mt-2 flex gap-2",children:[c.jsxs(Zn,{defaultValue:ne.plan,onValueChange:Ae=>{console.log("Alterando plano para:",Ae)},children:[c.jsx(Kn,{className:"flex-1",children:c.jsx(ei,{})}),c.jsx(Yn,{children:ut.map(Ae=>c.jsxs(Lr,{value:Ae.id,children:[Ae.name," - R$ ",Ae.price.toFixed(2)]},Ae.id))})]}),c.jsxs(qe,{size:"sm",variant:"outline",children:[c.jsx(jh,{className:"h-4 w-4 mr-1"}),"Aplicar"]})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[c.jsx(qe,{variant:"outline",onClick:Ot,children:"Cancelar"}),c.jsx(qe,{onClick:Ot,children:"Salvar Alterações"})]})]})]})}),c.jsx(Rs,{open:Ne,onOpenChange:De,children:c.jsxs(ls,{className:"max-w-4xl",children:[c.jsx(cs,{children:c.jsxs(us,{className:"flex items-center gap-2",children:[c.jsx(qT,{className:"h-5 w-5"}),"Detalhes do Usuário: ",ne==null?void 0:ne.name]})}),ne&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(Ye,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Informações Pessoais"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Nome:"})," ",ne.name]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Email:"})," ",ne.email]}),c.jsxs("div",{children:[c.jsx("strong",{children:"ID:"})," ",c.jsx("code",{className:"text-xs",children:ne.id})]})]})]}),c.jsxs(Ye,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Status da Conta"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("strong",{children:"Plano:"}),c.jsx(sr,{className:"capitalize",children:ne.plan})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("strong",{children:"Status:"}),c.jsx(sr,{variant:ne.status==="active"?"default":"secondary",children:ne.status==="active"?"Ativo":"Inativo"})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Plano expira em:"})," ",ne.planExpirationDate?ne.planExpirationDate.toDate?ne.planExpirationDate.toDate().toLocaleDateString("pt-BR"):new Date(ne.planExpirationDate).toLocaleDateString("pt-BR"):ne.plan==="free"?"N/A":"Não definido"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Registrado em:"})," ",ne.createdAt?ne.createdAt.toDate?ne.createdAt.toDate().toLocaleDateString("pt-BR"):new Date(ne.createdAt).toLocaleDateString("pt-BR"):"N/A"]}),ne.lastLogin&&c.jsxs("div",{children:[c.jsx("strong",{children:"Último acesso:"})," ",ne.lastLogin.toDate?ne.lastLogin.toDate().toLocaleDateString("pt-BR"):new Date(ne.lastLogin).toLocaleDateString("pt-BR")]})]})]})]}),c.jsxs(Ye,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Estatísticas de Uso"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"font-semibold text-lg",children:"-"}),c.jsx("div",{className:"text-muted-foreground",children:"Transações"})]}),c.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"font-semibold text-lg",children:"-"}),c.jsx("div",{className:"text-muted-foreground",children:"Funcionários"})]}),c.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"font-semibold text-lg",children:"-"}),c.jsx("div",{className:"text-muted-foreground",children:"Relatórios"})]}),c.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"font-semibold text-lg",children:"-"}),c.jsx("div",{className:"text-muted-foreground",children:"Dias Ativo"})]})]})]}),c.jsxs(Ye,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Atividades Recentes"}),c.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Histórico de atividades em desenvolvimento"})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[c.jsx(qe,{variant:"outline",onClick:Ot,children:"Fechar"}),c.jsxs(qe,{onClick:()=>{Ot(),dt(ne)},children:[c.jsx(Th,{className:"h-4 w-4 mr-1"}),"Editar Usuário"]})]})]})]})}),c.jsx(Rs,{open:Le,onOpenChange:_e,children:c.jsxs(ls,{className:"max-w-md",children:[c.jsx(cs,{children:c.jsxs(us,{className:"flex items-center gap-2 text-destructive",children:[c.jsx($g,{className:"h-5 w-5"}),"Confirmar Exclusão de Usuário"]})}),Pe&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[c.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"⚠️ Atenção: Esta ação não pode ser desfeita"}),c.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsx("li",{children:"• Todos os dados do usuário serão excluídos permanentemente"}),c.jsx("li",{children:"• Histórico de transações será removido"}),c.jsx("li",{children:"• Configurações e preferências serão perdidas"}),c.jsx("li",{children:"• Acesso ao sistema será revogado"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium",children:"Usuário a ser excluído:"}),c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[c.jsx("p",{className:"font-medium",children:Pe.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:Pe.email}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Plano: ",Pe.plan]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",c.jsx("code",{className:"text-xs",children:Pe.id})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium",children:"Dados que serão excluídos:"}),c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg space-y-1",children:[c.jsx("p",{className:"text-sm",children:"• Perfil e configurações do usuário"}),c.jsx("p",{className:"text-sm",children:"• Todos os funcionários cadastrados"}),c.jsx("p",{className:"text-sm",children:"• Histórico completo de transações"}),c.jsx("p",{className:"text-sm",children:"• Plataformas de apostas configuradas"}),c.jsx("p",{className:"text-sm",children:"• Histórico de alterações de plano"}),c.jsx("p",{className:"text-sm",children:"• Acesso ao sistema será revogado"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(st,{htmlFor:"deleteConfirmation",children:["Para confirmar, digite ",c.jsx("strong",{children:"excluir"}),":"]}),c.jsx(Bt,{id:"deleteConfirmation",placeholder:"Digite 'excluir' para confirmar",value:Me,onChange:Ae=>Je(Ae.target.value),className:"border-destructive/50 focus:border-destructive"})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[c.jsx(qe,{variant:"outline",onClick:Ot,children:"Cancelar"}),c.jsx(qe,{variant:"destructive",onClick:Qt,disabled:Gt||Me.toLowerCase()!=="excluir",children:Gt?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Excluindo..."]}):c.jsxs(c.Fragment,{children:[c.jsx($g,{className:"h-4 w-4 mr-1"}),"Excluir Usuário"]})})]})]})]})})]})},IJe=()=>{const{user:t,isAdmin:e}=Hr();return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h1",{className:"text-4xl font-bold",children:"Painel Administrativo"}),e&&c.jsxs(sr,{variant:"default",className:"flex items-center gap-1 bg-gradient-primary",children:[c.jsx(qp,{className:"h-3 w-3"}),"Admin"]})]}),c.jsxs("p",{className:"text-muted-foreground",children:["Gerencie usuários e configurações do sistema • Acesso restrito • ",t==null?void 0:t.email]})]}),c.jsx(kJe,{})]})})},OJe=()=>{const{user:t}=Hr(),[e,r]=P.useState(!1),n=`https://optify.app/ref/${t==null?void 0:t.affiliateCode}`,i=()=>{navigator.clipboard.writeText(n),r(!0),We.success("Link copiado!"),setTimeout(()=>r(!1),2e3)},a={totalReferrals:12,activeReferrals:8,totalEarnings:450,pendingEarnings:120},s=[{date:"2024-10-01",name:"João Silva",plan:"Standard",commission:49,status:"paid"},{date:"2024-09-25",name:"Maria Santos",plan:"Medium",commission:99,status:"paid"},{date:"2024-09-20",name:"Pedro Costa",plan:"Ultimate",commission:199,status:"pending"}];return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Sistema de Afiliados"}),c.jsx("p",{className:"text-muted-foreground",children:"Ganhe comissões indicando novos usuários"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Indicações"}),c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(rs,{className:"h-5 w-5 text-primary"})})]}),c.jsx("p",{className:"text-3xl font-bold",children:a.totalReferrals})]}),c.jsxs(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Indicações Ativas"}),c.jsx("div",{className:"p-2 bg-success/10 rounded-lg",children:c.jsx(ri,{className:"h-5 w-5 text-success"})})]}),c.jsx("p",{className:"text-3xl font-bold text-success",children:a.activeReferrals})]}),c.jsxs(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Ganho"}),c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(Ph,{className:"h-5 w-5 text-primary"})})]}),c.jsxs("p",{className:"text-3xl font-bold",children:["R$ ",a.totalEarnings]})]}),c.jsxs(Ye,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"A Receber"}),c.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:c.jsx(Ph,{className:"h-5 w-5 text-warning"})})]}),c.jsxs("p",{className:"text-3xl font-bold text-warning",children:["R$ ",a.pendingEarnings]})]})]}),c.jsxs(SD,{defaultValue:"link",className:"space-y-6",children:[c.jsxs(aE,{className:"grid w-full max-w-2xl grid-cols-4",children:[c.jsx(xl,{value:"link",children:"Link"}),c.jsx(xl,{value:"stats",children:"Estatísticas"}),c.jsx(xl,{value:"earnings",children:"Ganhos"}),c.jsx(xl,{value:"history",children:"Histórico"})]}),c.jsx(wl,{value:"link",children:c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Seu Link de Referência"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Compartilhe este link para ganhar 10% de comissão sobre os planos pagos"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Bt,{value:n,readOnly:!0,className:"flex-1"}),c.jsxs(qe,{onClick:i,variant:"outline",className:"gap-2",children:[e?c.jsx(mr,{className:"h-4 w-4"}):c.jsx(t_,{className:"h-4 w-4"}),e?"Copiado":"Copiar"]})]})]})}),c.jsx(wl,{value:"stats",children:c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance Mensal"}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa de Conversão"}),c.jsx("p",{className:"text-2xl font-bold",children:"66.7%"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliques no Link"}),c.jsx("p",{className:"text-2xl font-bold",children:"18"})]})]})})]})}),c.jsx(wl,{value:"earnings",children:c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Resumo de Ganhos"}),c.jsx("div",{className:"space-y-4",children:["Janeiro","Fevereiro","Março"].map((o,l)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsx("span",{className:"font-medium",children:o}),c.jsxs("span",{className:"text-success font-bold",children:["R$ ",[150,180,120][l]]})]},o))})]})}),c.jsx(wl,{value:"history",children:c.jsx(Ye,{className:"shadow-card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-muted/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:"Data"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Usuário"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Plano"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Comissão"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"})]})}),c.jsx("tbody",{children:s.map((o,l)=>c.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(o.date).toLocaleDateString("pt-BR")}),c.jsx("td",{className:"p-4 font-medium",children:o.name}),c.jsx("td",{className:"p-4",children:o.plan}),c.jsxs("td",{className:"p-4 font-semibold text-success",children:["R$ ",o.commission]}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${o.status==="paid"?"bg-success/10 text-success":"bg-warning/10 text-warning"}`,children:o.status==="paid"?"Pago":"Pendente"})})]},l))})]})})})})]})]})})},RJe=()=>{const t=()=>{We.success("Configurações salvas com sucesso!")};return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Configurações"}),c.jsx("p",{className:"text-muted-foreground",children:"Personalize suas preferências"})]}),c.jsxs(SD,{defaultValue:"general",className:"space-y-6",children:[c.jsxs(aE,{className:"grid w-full max-w-2xl grid-cols-3",children:[c.jsx(xl,{value:"general",children:"Geral"}),c.jsx(xl,{value:"notifications",children:"Notificações"}),c.jsx(xl,{value:"security",children:"Segurança"})]}),c.jsxs(wl,{value:"general",className:"space-y-6",children:[c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Configurações Gerais"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Horário de Fechamento do Dia"}),c.jsx(Bt,{type:"time",defaultValue:"23:59",className:"max-w-xs"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Define quando o sistema fecha automaticamente o dia"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Fuso Horário"}),c.jsxs("select",{className:"w-full max-w-xs h-10 rounded-md border border-input bg-background px-3 text-sm",children:[c.jsx("option",{children:"America/Sao_Paulo (GMT-3)"}),c.jsx("option",{children:"America/New_York (GMT-5)"}),c.jsx("option",{children:"Europe/London (GMT+0)"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Moeda Padrão"}),c.jsxs("select",{className:"w-full max-w-xs h-10 rounded-md border border-input bg-background px-3 text-sm",children:[c.jsx("option",{children:"BRL (R$)"}),c.jsx("option",{children:"USD ($)"}),c.jsx("option",{children:"EUR (€)"})]})]})]})]}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Preferências de Interface"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Modo Compacto"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduz o espaçamento da interface"})]}),c.jsx(ac,{})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Animações"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ativa/desativa animações da interface"})]}),c.jsx(ac,{defaultChecked:!0})]})]})]})]}),c.jsx(wl,{value:"notifications",className:"space-y-6",children:c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Notificações"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Notificações de Email"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações por email"})]}),c.jsx(ac,{defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Pagamentos Pendentes"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertas sobre pagamentos não realizados"})]}),c.jsx(ac,{defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Metas Atingidas"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificação ao atingir metas mensais"})]}),c.jsx(ac,{defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Novos Funcionários"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Alerta quando um novo funcionário é cadastrado"})]}),c.jsx(ac,{})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Relatórios Semanais"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Resumo semanal enviado por email"})]}),c.jsx(ac,{defaultChecked:!0})]})]})]})}),c.jsxs(wl,{value:"security",className:"space-y-6",children:[c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Alterar Senha"}),c.jsxs("div",{className:"space-y-4 max-w-md",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Senha Atual"}),c.jsx(Bt,{type:"password",placeholder:"••••••••"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Nova Senha"}),c.jsx(Bt,{type:"password",placeholder:"••••••••"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Confirmar Nova Senha"}),c.jsx(Bt,{type:"password",placeholder:"••••••••"})]}),c.jsx(qe,{children:"Atualizar Senha"})]})]}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Privacidade"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Autenticação de Dois Fatores"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Adiciona uma camada extra de segurança"})]}),c.jsx(ac,{})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Sessões Ativas"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerenciar dispositivos conectados"})]}),c.jsx(qe,{variant:"outline",size:"sm",children:"Ver Sessões"})]})]})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(qe,{onClick:t,children:"Salvar Alterações"})})]})})},DJe=()=>{const{user:t,logout:e}=Hr(),{currentPlan:r}=xf(),n=Gi(),[i,a]=P.useState(""),[s,o]=P.useState(!1),l=()=>{We.success("Perfil atualizado com sucesso!")},u=async()=>{if(i.toLowerCase()!=="sim"){We.error('Digite "sim" para confirmar a exclusão');return}try{const p=Ng.currentUser,f=p==null?void 0:p.uid;if(!p||!f){We.error("Usuário não autenticado");return}await C1e(f),await eG(p),We.success("Conta excluída com sucesso"),o(!1),a(""),n("/")}catch(p){(p==null?void 0:p.code)==="auth/requires-recent-login"?We.error("Por segurança, faça login novamente e tente excluir a conta."):We.error("Não foi possível excluir a conta. Tente novamente.")}},d=()=>{o(!0),a("")},h=[{date:"2024-10-01",plan:"Ultimate",amount:199,status:"paid"},{date:"2024-09-01",plan:"Ultimate",amount:199,status:"paid"},{date:"2024-08-01",plan:"Standard",amount:49,status:"paid"}];return c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Meu Perfil"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informações pessoais"})]}),c.jsx(Ye,{className:"p-6 shadow-card",children:c.jsxs("div",{className:"flex items-start gap-6",children:[c.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:c.jsx(eW,{className:"h-16 w-16 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h2",{className:"text-2xl font-bold",children:t==null?void 0:t.name}),c.jsx(sr,{variant:"default",className:"capitalize",children:r}),(t==null?void 0:t.isAdmin)&&c.jsx(sr,{variant:"secondary",children:"Admin"})]}),c.jsx("p",{className:"text-muted-foreground mb-4",children:t==null?void 0:t.email}),c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>n("/planos"),children:"Gerenciar Plano"})]})]})}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Informações Pessoais"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Nome Completo"}),c.jsx(Bt,{defaultValue:t==null?void 0:t.name})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Email"}),c.jsx(Bt,{type:"email",defaultValue:t==null?void 0:t.email})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Telefone"}),c.jsx(Bt,{type:"tel",placeholder:"(11) 99999-9999"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"CPF/CNPJ"}),c.jsx(Bt,{placeholder:"000.000.000-00"})]})]}),c.jsx("div",{className:"flex justify-end mt-6",children:c.jsx(qe,{onClick:l,children:"Salvar Alterações"})})]}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx(Foe,{className:"h-5 w-5 text-primary"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Plano Atual"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Plano"}),c.jsx("p",{className:"text-xl font-bold capitalize",children:r})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:r==="free"?"Status":"Plano expira em"}),c.jsx("p",{className:"text-xl font-bold",children:r==="free"?"Ativo":"31/12/2025"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Valor Mensal"}),c.jsx("p",{className:"text-xl font-bold",children:r==="free"?"Grátis":r==="standard"?"R$ 1,00":r==="medium"?"R$ 49,90":"R$ 99,90"})]})]}),c.jsx(qe,{variant:"outline",onClick:()=>n("/planos"),children:"Alterar Plano"})]}),c.jsxs(Ye,{className:"shadow-card",children:[c.jsx("div",{className:"p-6 border-b border-border",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Histórico de Pagamentos"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-muted/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:"Data"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Plano"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Valor"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Nota Fiscal"})]})}),c.jsx("tbody",{children:h.map((p,f)=>c.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(p.date).toLocaleDateString("pt-BR")}),c.jsx("td",{className:"p-4",children:p.plan}),c.jsxs("td",{className:"p-4 font-semibold",children:["R$ ",p.amount]}),c.jsx("td",{className:"p-4",children:c.jsx(sr,{variant:"default",children:"Pago"})}),c.jsx("td",{className:"p-4",children:c.jsx(qe,{variant:"ghost",size:"sm",children:"Download"})})]},f))})]})})]}),c.jsxs(Ye,{className:"p-6 shadow-card border-destructive/50",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(qh,{className:"h-5 w-5 text-destructive"}),c.jsx("h3",{className:"text-lg font-semibold text-destructive",children:"Zona de Perigo"})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Uma vez que você exclua sua conta, não há como voltar atrás. Por favor, tenha certeza."}),c.jsxs(tm,{open:s,onOpenChange:o,children:[c.jsx(Dy,{asChild:!0,children:c.jsx(qe,{variant:"destructive",onClick:d,children:"Excluir Conta"})}),c.jsxs(tf,{className:"bg-card border-border",children:[c.jsxs(rf,{children:[c.jsxs(af,{className:"text-foreground flex items-center gap-2",children:[c.jsx(qh,{className:"w-5 h-5 text-destructive"}),"Confirmar Exclusão de Conta"]}),c.jsxs(sf,{className:"text-muted-foreground",children:["Esta ação é ",c.jsx("strong",{children:"irreversível"}),". Todos os seus dados serão permanentemente excluídos."]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[c.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"⚠️ Atenção: Esta ação não pode ser desfeita"}),c.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsx("li",{children:"• Todos os seus dados serão excluídos permanentemente"}),c.jsx("li",{children:"• Seu histórico de transações será perdido"}),c.jsx("li",{children:"• Suas configurações serão removidas"}),c.jsx("li",{children:"• Você precisará criar uma nova conta para usar o sistema"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(st,{htmlFor:"deleteConfirmation",className:"text-sm font-medium text-foreground",children:["Para confirmar, digite ",c.jsx("strong",{children:'"sim"'})," abaixo:"]}),c.jsx(Bt,{id:"deleteConfirmation",type:"text",placeholder:"Digite 'sim' para confirmar",value:i,onChange:p=>a(p.target.value),className:"border-destructive/50 focus:border-destructive"})]})]}),c.jsxs(nf,{children:[c.jsx(lf,{className:"bg-muted hover:bg-muted/80 text-foreground border-border",children:"Cancelar"}),c.jsx(of,{onClick:u,disabled:i.toLowerCase()!=="sim",className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground disabled:opacity-50 disabled:cursor-not-allowed",children:"Excluir Conta Permanentemente"})]})]})]})]})]})})},LJe=()=>{const t=pf();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},xne=P.forwardRef(({className:t,...e},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:_t("w-full caption-bottom text-sm",t),...e})}));xne.displayName="Table";const wne=P.forwardRef(({className:t,...e},r)=>c.jsx("thead",{ref:r,className:_t("[&_tr]:border-b",t),...e}));wne.displayName="TableHeader";const _ne=P.forwardRef(({className:t,...e},r)=>c.jsx("tbody",{ref:r,className:_t("[&_tr:last-child]:border-0",t),...e}));_ne.displayName="TableBody";const MJe=P.forwardRef(({className:t,...e},r)=>c.jsx("tfoot",{ref:r,className:_t("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));MJe.displayName="TableFooter";const j_=P.forwardRef(({className:t,...e},r)=>c.jsx("tr",{ref:r,className:_t("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));j_.displayName="TableRow";const dg=P.forwardRef(({className:t,...e},r)=>c.jsx("th",{ref:r,className:_t("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));dg.displayName="TableHead";const ap=P.forwardRef(({className:t,...e},r)=>c.jsx("td",{ref:r,className:_t("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ap.displayName="TableCell";const $Je=P.forwardRef(({className:t,...e},r)=>c.jsx("caption",{ref:r,className:_t("mt-4 text-sm text-muted-foreground",t),...e}));$Je.displayName="TableCaption";const FJe=()=>{const{id:t}=the(),e=Gi();Hi();const{user:r}=Hr(),[n,i]=P.useState(""),[a,s]=P.useState(""),[o,l]=P.useState(""),[u,d]=P.useState(""),[h,p]=P.useState(!1),[f,v]=P.useState(!1),[m,g]=P.useState(null),[y,x]=P.useState({amount:"",platformId:"",type:"deposit"}),[_,S]=P.useState({name:"",cpf:"",email:"",phone:"",birthDate:"",salary:0,payDay:1,status:"active"}),{data:N=[]}=nd((r==null?void 0:r.uid)||""),C=N.find(J=>J.id===t),j=new Date().toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-"),{data:E=[]}=co((r==null?void 0:r.uid)||"",j,j),I=E.filter(J=>J.employeeId===t),D=hX(),k=Qbe(),O=O3(),L=R3(),z=txe(),re=()=>{C&&(S({name:C.name,cpf:C.cpf||"",email:C.email||"",phone:C.phone||"",birthDate:C.birthDate||"",salary:C.salary||0,payDay:C.payDay||1,status:C.status||"active"}),p(!0))},Y=async()=>{if(!(!C||!(r!=null&&r.uid))){if(!_.name.trim()){We.error("O nome é obrigatório");return}try{const J={name:_.name.trim(),updatedAt:new Date};_.cpf.trim()&&(J.cpf=_.cpf.trim()),_.email.trim()&&(J.email=_.email.trim()),_.phone.trim()&&(J.phone=_.phone.trim()),_.birthDate&&(J.birthDate=_.birthDate),_.salary>0&&(J.salary=_.salary),_.payDay>0&&(J.payDay=_.payDay),J.status=_.status,await D.mutateAsync({userId:r.uid,id:C.id,data:J}),We.success("Funcionário atualizado com sucesso!"),p(!1)}catch(J){console.error("Erro ao atualizar funcionário:",J),We.error("Erro ao atualizar funcionário. Tente novamente.")}}},K=async()=>{if(!(!C||!(r!=null&&r.uid)))try{await k.mutateAsync({userId:r.uid,id:C.id}),We.success("Funcionário excluído com sucesso!"),e("/gestao-funcionarios")}catch(J){console.error("Erro ao excluir funcionário:",J),We.error("Erro ao excluir funcionário. Tente novamente.")}},q=J=>{g(J),x({amount:J.amount.toString(),platformId:J.platformId||"",type:J.type}),v(!0)},Z=async()=>{if(!(!m||!(r!=null&&r.uid)))try{await z.mutateAsync({userId:r.uid,id:m.id,data:{amount:Number(y.amount),platformId:y.platformId,type:y.type}}),We.success("Transação atualizada com sucesso!"),v(!1),g(null)}catch(J){console.error("Erro ao atualizar transação:",J),We.error("Erro ao atualizar transação. Tente novamente.")}},{data:ve=[]}=Ly((r==null?void 0:r.uid)||"");console.log("Platforms loaded:",ve),console.log("Deposit platform:",a),console.log("Withdraw platform:",u);const ce=I,F=async(J,ie,be)=>{if(!(!C||!(r!=null&&r.uid)))try{const he={userId:r.uid,employeeId:C.id,platformId:be,type:J,amount:Number(ie),date:new Date().toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-")};console.log("Creating transaction:",he),console.log("Transaction date being saved:",he.date);const T=await O.mutateAsync(he);console.log("Transaction created with ID:",T),We.success(`${J==="deposit"?"Depósito":"Saque"} registrado com sucesso!`),J==="deposit"?(i(""),s("")):(l(""),d(""))}catch(he){console.error("Erro ao registrar transação:",he),We.error("Erro ao registrar transação. Tente novamente.")}},V=()=>{if(!n){We.error("Preencha o valor do depósito");return}if(console.log("Attempting deposit with platform:",a),!a){console.log("No platform selected, proceeding without platform"),F("deposit",n,"");return}F("deposit",n,a)},G=()=>{if(!o){We.error("Preencha o valor do saque");return}if(console.log("Attempting withdraw with platform:",u),!u){console.log("No platform selected, proceeding without platform"),F("withdraw",o,"");return}F("withdraw",o,u)},oe=(J,ie)=>{navigator.clipboard.writeText(J),We.success(`${ie} copiado!`)};return C?c.jsx(Ba,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>e("/gestao-funcionarios"),children:c.jsx(Px,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:C.name}),c.jsx("p",{className:"text-muted-foreground",children:"Perfil do Funcionário"})]}),c.jsxs(qe,{variant:"outline",className:"gap-2",onClick:re,children:[c.jsx(Th,{className:"h-4 w-4"}),"Editar"]}),c.jsxs(tm,{children:[c.jsx(Dy,{asChild:!0,children:c.jsxs(qe,{variant:"destructive",className:"gap-2",children:[c.jsx(qh,{className:"h-4 w-4"}),"Excluir"]})}),c.jsxs(tf,{children:[c.jsxs(rf,{children:[c.jsx(af,{children:"Confirmar Exclusão"}),c.jsxs(sf,{children:["Tem certeza que deseja excluir o funcionário ",C.name,"? Esta ação não pode ser desfeita e todas as transações relacionadas serão perdidas."]})]}),c.jsxs(nf,{children:[c.jsx(lf,{children:"Cancelar"}),c.jsx(of,{onClick:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:k.isPending?c.jsxs(c.Fragment,{children:[c.jsx(kp,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):"Excluir"})]})]})]})]}),c.jsx(Ye,{className:"p-6 shadow-card",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"CPF"}),c.jsx("p",{className:"text-lg font-semibold",children:C.cpf})]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>oe(C.cpf,"CPF"),children:c.jsx(t_,{className:"h-4 w-4"})})]}),C.email&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"Email"}),c.jsx("p",{className:"text-lg font-semibold",children:C.email})]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>oe(C.email,"Email"),children:c.jsx(t_,{className:"h-4 w-4"})})]}),C.phone&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"Telefone"}),c.jsx("p",{className:"text-lg font-semibold",children:C.phone})]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>oe(C.phone,"Telefone"),children:c.jsx(t_,{className:"h-4 w-4"})})]}),C.birthDate&&c.jsxs("div",{children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"Data de Nascimento"}),c.jsx("p",{className:"text-lg font-semibold",children:new Date(C.birthDate).toLocaleDateString("pt-BR")})]}),c.jsxs("div",{children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"Status"}),c.jsx("div",{className:"mt-2",children:c.jsx(sr,{variant:C.status==="active"?"default":"secondary",className:C.status==="active"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${C.status==="active","bg-white"}`}),C.status==="active"?"Ativo":"Inativo"]})})})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Depósito"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Valor (BRL)"}),c.jsx(Bt,{type:"number",placeholder:"0,00",value:n,onChange:J=>i(J.target.value)})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Plataforma"}),c.jsxs(Zn,{value:a,onValueChange:s,children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione a plataforma"})}),c.jsx(Yn,{children:ve.map(J=>c.jsx(Lr,{value:J.id,children:J.name},J.id))})]})]}),c.jsx(qe,{onClick:V,disabled:O.isPending,className:"w-full bg-destructive hover:bg-destructive/90",children:"Registrar Depósito"})]})]}),c.jsxs(Ye,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Saque"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Valor (BRL)"}),c.jsx(Bt,{type:"number",placeholder:"0,00",value:o,onChange:J=>l(J.target.value)})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Plataforma"}),c.jsxs(Zn,{value:u,onValueChange:d,children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione a plataforma"})}),c.jsx(Yn,{children:ve.map(J=>c.jsx(Lr,{value:J.id,children:J.name},J.id))})]})]}),c.jsx(qe,{onClick:G,disabled:O.isPending,className:"w-full",style:{backgroundColor:"#9333EA"},children:"Registrar Saque"})]})]})]}),c.jsxs(Ye,{className:"shadow-card",children:[c.jsx("div",{className:"p-6 border-b border-border/50",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Histórico de Movimentações (Hoje)"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(xne,{children:[c.jsx(wne,{children:c.jsxs(j_,{children:[c.jsx(dg,{children:"Tipo"}),c.jsx(dg,{children:"Plataforma"}),c.jsx(dg,{children:"Data/Hora"}),c.jsx(dg,{children:"Valor"}),c.jsx(dg,{className:"text-right",children:"Ações"})]})}),c.jsx(_ne,{children:ce.length===0?c.jsx(j_,{children:c.jsx(ap,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Nenhuma movimentação hoje"})}):ce.map(J=>{var ie,be;return c.jsxs(j_,{children:[c.jsx(ap,{children:c.jsx(sr,{variant:J.type==="deposit"?"destructive":"default",children:J.type==="deposit"?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Wh,{className:"h-3 w-3"}),"Despesa"]}):c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ri,{className:"h-3 w-3"}),"Receita"]})})}),c.jsx(ap,{children:c.jsx("span",{className:"font-semibold",style:{color:(()=>{const he=ve.find(T=>T.id===J.platformId);return(he==null?void 0:he.color)||"#FF5C00"})()},children:(()=>{const he=ve.find(T=>T.id===J.platformId);return(he==null?void 0:he.name)||"N/A"})()})}),c.jsx(ap,{children:new Date(((be=(ie=J.createdAt)==null?void 0:ie.toDate)==null?void 0:be.call(ie))||J.date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),c.jsx(ap,{children:c.jsxs("span",{className:J.type==="deposit"?"text-destructive":"text-success",children:[J.type==="deposit"?"-":"+","R$"," ",Number(J.amount).toLocaleString("pt-BR")]})}),c.jsx(ap,{className:"text-right",children:c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>q(J),children:c.jsx(Th,{className:"h-4 w-4"})}),c.jsx(qe,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>L.mutate(J.id),children:c.jsx(qh,{className:"h-4 w-4"})})]})})]},J.id)})})]})})]}),c.jsx(Rs,{open:h,onOpenChange:p,children:c.jsxs(ls,{className:"sm:max-w-[500px]",children:[c.jsxs(cs,{children:[c.jsx(us,{children:"Editar Funcionário"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Preencha as informações do funcionário. Apenas o nome é obrigatório."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-name",children:"Nome Completo"}),c.jsx(Bt,{id:"edit-name",value:_.name,onChange:J=>S(ie=>({...ie,name:J.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-cpf",children:"CPF"}),c.jsx(Bt,{id:"edit-cpf",value:_.cpf,onChange:J=>S(ie=>({...ie,cpf:J.target.value})),placeholder:"000.000.000-00 (opcional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-email",children:"E-mail"}),c.jsx(Bt,{id:"edit-email",type:"email",value:_.email,onChange:J=>S(ie=>({...ie,email:J.target.value})),placeholder:"email@exemplo.com (opcional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-phone",children:"Telefone"}),c.jsx(Bt,{id:"edit-phone",value:_.phone,onChange:J=>S(ie=>({...ie,phone:J.target.value})),placeholder:"(00) 00000-0000 (opcional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-birthDate",children:"Data de Nascimento"}),c.jsx(Bt,{id:"edit-birthDate",type:"date",value:_.birthDate,onChange:J=>S(ie=>({...ie,birthDate:J.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-salary",children:"Salário (R$)"}),c.jsx(Bt,{id:"edit-salary",type:"number",placeholder:"0,00",value:_.salary,onChange:J=>S(ie=>({...ie,salary:Number(J.target.value)||0}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-payDay",children:"Dia do Pagamento"}),c.jsxs(Zn,{value:_.payDay.toString(),onValueChange:J=>S(ie=>({...ie,payDay:Number(J)})),children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione o dia"})}),c.jsx(Yn,{children:Array.from({length:31},(J,ie)=>ie+1).map(J=>c.jsxs(Lr,{value:J.toString(),children:[J,"º dia do mês"]},J))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-status",children:"Status do Funcionário"}),c.jsxs(Zn,{value:_.status,onValueChange:J=>S(ie=>({...ie,status:J})),children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione o status"})}),c.jsxs(Yn,{children:[c.jsx(Lr,{value:"active",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Ativo"]})}),c.jsx(Lr,{value:"inactive",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Inativo"]})})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),c.jsx(qe,{onClick:Y,disabled:D.isPending,children:D.isPending?c.jsxs(c.Fragment,{children:[c.jsx(kp,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):"Salvar"})]})]})]})}),c.jsx(Rs,{open:f,onOpenChange:v,children:c.jsxs(ls,{className:"sm:max-w-[500px]",children:[c.jsx(cs,{children:c.jsx(us,{children:"Editar Transação"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{htmlFor:"edit-amount",children:"Valor"}),c.jsx(Bt,{id:"edit-amount",type:"number",value:y.amount,onChange:J=>x(ie=>({...ie,amount:J.target.value})),placeholder:"Digite o valor"})]}),c.jsxs("div",{children:[c.jsx(st,{htmlFor:"edit-type",children:"Tipo"}),c.jsxs(Zn,{value:y.type,onValueChange:J=>x(ie=>({...ie,type:J})),children:[c.jsx(Kn,{children:c.jsx(ei,{})}),c.jsxs(Yn,{children:[c.jsx(Lr,{value:"deposit",children:"Depósito"}),c.jsx(Lr,{value:"withdraw",children:"Saque"})]})]})]}),c.jsxs("div",{children:[c.jsx(st,{htmlFor:"edit-platform",children:"Plataforma"}),c.jsxs(Zn,{value:y.platformId,onValueChange:J=>x(ie=>({...ie,platformId:J})),children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione uma plataforma"})}),c.jsx(Yn,{children:ve.map(J=>c.jsx(Lr,{value:J.id,children:J.name},J.id))})]})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(qe,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),c.jsxs(qe,{onClick:Z,disabled:z.isPending,children:[z.isPending&&c.jsx(kp,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar"]})]})]})]})})]})}):c.jsx(Ba,{children:c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})})})},BJe=()=>{const t=Gi();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[c.jsx("div",{className:"mb-10",children:c.jsxs(qe,{variant:"ghost",onClick:()=>t(-1),className:"gap-2",children:[c.jsx(Px,{className:"h-4 w-4"}),"Voltar"]})}),c.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Termos de Uso"}),c.jsx("p",{className:"text-muted-foreground mb-8",children:"Bem-vindo(a) ao Optify. Ao acessar ou utilizar nossos serviços, você concorda com estes Termos de Uso. Leia com atenção."}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Definições"}),c.jsx("p",{className:"text-muted-foreground",children:"Para fins destes termos: “Plataforma” significa o sistema Optify e seus aplicativos; “Usuário” é a pessoa que acessa ou utiliza a Plataforma; “Conta” é o cadastro individual do Usuário."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Aceitação e Elegibilidade"}),c.jsx("p",{className:"text-muted-foreground",children:"O uso da Plataforma implica aceitação integral destes Termos. O Usuário deve ter capacidade civil e fornecer informações verdadeiras e atualizadas no cadastro."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Conta e Segurança"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[c.jsx("li",{children:"Você é responsável por manter a confidencialidade das credenciais."}),c.jsx("li",{children:"Notifique-nos imediatamente sobre uso não autorizado da sua Conta."}),c.jsx("li",{children:"Reservamo-nos o direito de suspender contas por violação destes Termos."})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Licença de Uso"}),c.jsx("p",{className:"text-muted-foreground",children:"Concedemos ao Usuário uma licença limitada, revogável, não exclusiva e intransferível para utilizar a Plataforma conforme estes Termos. É vedada a engenharia reversa, cópia ou exploração comercial não autorizada."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Planos e Pagamentos"}),c.jsx("p",{className:"text-muted-foreground",children:"Alguns recursos são oferecidos mediante assinatura. Os valores, periodicidade e condições são exibidos na Plataforma e podem ser atualizados. Renovação é periódica até cancelamento pelo Usuário."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Uso Aceitável"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[c.jsx("li",{children:"Não publique conteúdo ilegal, ofensivo ou que viole direitos de terceiros."}),c.jsx("li",{children:"Não utilize a Plataforma para fraudes, spams ou atividades maliciosas."}),c.jsx("li",{children:"Não interfira na segurança, disponibilidade ou performance do serviço."})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Propriedade Intelectual"}),c.jsx("p",{className:"text-muted-foreground",children:"Todos os direitos sobre marcas, logotipos, códigos e conteúdos da Plataforma pertencem ao Optify ou a seus licenciantes. Nada nestes Termos implica cessão de direitos de propriedade intelectual."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Disponibilidade e Suporte"}),c.jsx("p",{className:"text-muted-foreground",children:"Empregamos boas práticas para manter a disponibilidade. O suporte é prestado prioritariamente via WhatsApp aos clientes, conforme plano contratado."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"9. Limitação de Responsabilidade"}),c.jsx("p",{className:"text-muted-foreground",children:'A Plataforma é fornecida "no estado em que se encontra". Não nos responsabilizamos por lucros cessantes, perdas de dados ou danos indiretos decorrentes do uso.'})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"10. Alterações e Encerramento"}),c.jsx("p",{className:"text-muted-foreground",children:"Podemos atualizar estes Termos ou funcionalidades da Plataforma. Caso não concorde, o Usuário poderá cancelar a assinatura e encerrar o uso."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"11. Foro e Legislação"}),c.jsx("p",{className:"text-muted-foreground",children:"Aplica-se a legislação brasileira. Fica eleito o foro da Comarca de São Paulo, SP, para dirimir controvérsias, salvo legislação de defesa do consumidor mais favorável."})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR"),"."]})]})]})]})},UJe=()=>{const t=Gi();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[c.jsx("div",{className:"mb-10",children:c.jsxs(qe,{variant:"ghost",onClick:()=>t(-1),className:"gap-2",children:[c.jsx(Px,{className:"h-4 w-4"}),"Voltar"]})}),c.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Política de Privacidade"}),c.jsx("p",{className:"text-muted-foreground mb-8",children:"Esta Política descreve como tratamos dados pessoais em conformidade com a Lei Geral de Proteção de Dados (LGPD - Lei nº 13.709/2018)."}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Controlador e Contato"}),c.jsx("p",{className:"text-muted-foreground",children:"O Optify é o controlador dos dados tratados nesta Plataforma. Para exercer seus direitos, entre em contato pelo nosso canal de suporte (WhatsApp) indicado na Plataforma."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Dados Coletados"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[c.jsx("li",{children:"Dados cadastrais (nome, email, telefone)."}),c.jsx("li",{children:"Dados de uso (logs de acesso, interações e preferências)."}),c.jsx("li",{children:"Dados de transações e operações realizadas na Plataforma."})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Bases Legais e Finalidades"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[c.jsx("li",{children:"Execução do contrato: viabilizar funcionalidades e suporte ao Usuário."}),c.jsx("li",{children:"Legítimo interesse: aprimorar a experiência, prevenir fraudes e garantir segurança."}),c.jsx("li",{children:"Consentimento: comunicações de marketing quando aplicável (opt-out a qualquer momento)."}),c.jsx("li",{children:"Cumprimento legal: registros e obrigações regulatórias."})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Compartilhamento de Dados"}),c.jsx("p",{className:"text-muted-foreground",children:"Podemos compartilhar dados com prestadores de serviços essenciais à operação (por exemplo, processamento de pagamentos, hospedagem e analytics), sempre sob obrigações de confidencialidade e segurança."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Segurança da Informação"}),c.jsx("p",{className:"text-muted-foreground",children:"Adotamos medidas técnicas e administrativas aptas a proteger os dados pessoais contra acessos não autorizados e incidentes, seguindo boas práticas de segurança e criptografia."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Direitos dos Titulares"}),c.jsx("p",{className:"text-muted-foreground",children:"Em conformidade com a LGPD, você pode solicitar: confirmação de tratamento, acesso, correção, anonimização, portabilidade, eliminação, informação sobre compartilhamentos e revisão de decisões automatizadas."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Retenção e Exclusão"}),c.jsx("p",{className:"text-muted-foreground",children:"Mantemos os dados pelo tempo necessário às finalidades descritas e exigências legais. Após esse período, promovemos a exclusão ou anonimização, salvo obrigações de retenção."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Transferências Internacionais"}),c.jsx("p",{className:"text-muted-foreground",children:"Caso haja transferência internacional, garantimos mecanismos adequados de proteção e conformidade com a LGPD."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"9. Atualizações desta Política"}),c.jsx("p",{className:"text-muted-foreground",children:"Esta Política poderá ser atualizada para refletir melhorias ou mudanças regulatórias. Recomendamos revisões periódicas. Em alterações relevantes, notificaremos os Usuários."})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR"),"."]})]})]})]})},VJe=()=>{const t=Gi();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[c.jsx("div",{className:"mb-10",children:c.jsxs(qe,{variant:"ghost",onClick:()=>t(-1),className:"gap-2",children:[c.jsx(Px,{className:"h-4 w-4"}),"Voltar"]})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Central de Suporte"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Estamos aqui para ajudar você a aproveitar ao máximo o Optify"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[c.jsx("a",{href:"https://wa.me/556295536121",target:"_blank",rel:"noreferrer",className:"glass rounded-xl p-6 hover:shadow-glow transition-all card-hover",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"WhatsApp"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Suporte 24h"})]})]})}),c.jsx("div",{className:"glass rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(qoe,{className:"h-6 w-6 text-white"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"Email"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"suporte@optify.com.br"})]})]})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Horários de Atendimento"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(sA,{className:"h-5 w-5 text-primary"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Atendimento 24 horas"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp disponível a qualquer momento"})]})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Perguntas Frequentes"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Como faço para cancelar minha assinatura?"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Você pode cancelar através do seu painel de controle ou entrando em contato conosco."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Posso importar dados de outros sistemas?"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Sim! Oferecemos importação em CSV/Excel para funcionários e transações."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Meus dados estão seguros?"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilizamos criptografia de ponta a ponta e seguimos as melhores práticas de segurança."})]})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Documentação"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("a",{href:"/termos",className:"block text-primary hover:underline",children:"Termos de Uso"}),c.jsx("a",{href:"/privacidade",className:"block text-primary hover:underline",children:"Política de Privacidade"})]})]})]})]})]})};function WP({mode:t}){const[e]=mH(),r=e.get("payment_id"),[n,i]=P.useState(null),[a,s]=P.useState(!0),[o,l]=P.useState(t),[u,d]=P.useState(!1),[h,p]=P.useState(null),[f,v]=P.useState(!1),[m,g]=P.useState(!1),{user:y}=Hr(),x=async()=>{if(y!=null&&y.uid)try{const j=await Gg.getUserProfile(y.uid);p(j)}catch(j){console.error("Erro ao buscar perfil:",j)}},_=async()=>{if(r){d(!0);try{const E=await(await fetch(`undefined/checkPaymentStatus?paymentId=${r}`)).json();i(E),(E==null?void 0:E.status)==="approved"&&l("success")}catch(j){console.error("Erro ao verificar status:",j)}finally{d(!1)}}};P.useEffect(()=>{y!=null&&y.uid&&x()},[y==null?void 0:y.uid]),P.useEffect(()=>{h!=null&&h.plano&&h.plano!=="free"&&o==="pending"&&l("success")},[h==null?void 0:h.plano,o]),P.useEffect(()=>{o==="success"&&t!=="success"?(v(!0),setTimeout(()=>{g(!0)},1500)):o==="success"&&g(!0)},[o,t]),P.useEffect(()=>{if(!r){s(!1);return}if(_(),s(!1),o==="pending"){const j=setInterval(()=>{_(),x()},5e3);return()=>clearInterval(j)}},[r,o]);const N=(()=>{switch(o){case"success":return{icon:jh,title:"Pagamento Aprovado!",description:"Seu plano foi ativado com sucesso. Aproveite todos os recursos!",iconBg:"bg-emerald-500/10",iconColor:"text-emerald-500",titleColor:"text-foreground",descriptionColor:"text-muted-foreground",cardBg:"bg-background border-border",buttonVariant:"default",showRefresh:!1};case"failure":return{icon:tW,title:"Pagamento Falhou",description:"Não foi possível processar seu pagamento. Tente novamente.",iconBg:"bg-red-500/10",iconColor:"text-red-500",titleColor:"text-foreground",descriptionColor:"text-muted-foreground",cardBg:"bg-background border-border",buttonVariant:"default",showRefresh:!0};case"pending":return{icon:sA,title:"Pagamento Pendente",description:"Seu pagamento está sendo processado. Verificando status automaticamente...",iconBg:"bg-amber-500/10",iconColor:"text-amber-500",titleColor:"text-foreground",descriptionColor:"text-muted-foreground",cardBg:"bg-background border-border",buttonVariant:"outline",showRefresh:!0}}})(),C=N.icon;return a?c.jsx(Ba,{children:c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ZE,{className:"h-6 w-6 animate-spin text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Carregando..."})]})})}):c.jsx(Ba,{children:c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",children:[f&&o==="success"&&c.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((j,E)=>c.jsx("div",{className:"absolute animate-bounce",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:c.jsx(Hoe,{className:"h-4 w-4 text-emerald-500"})},E))}),c.jsx(Ye,{className:`w-full max-w-2xl p-8 ${N.cardBg} border shadow-lg transition-all duration-1000 ${m?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:`p-4 rounded-full ${N.iconBg} transition-all duration-1000 ${m?"scale-100":"scale-0"}`,children:c.jsx(C,{className:`h-12 w-12 ${N.iconColor} ${o==="success"?"animate-pulse":""}`})})}),c.jsxs("div",{className:"text-center space-y-3",children:[c.jsx("h1",{className:`text-4xl font-bold ${N.titleColor}`,children:N.title}),c.jsx("p",{className:`text-lg ${N.descriptionColor} max-w-md mx-auto`,children:N.description})]}),r&&c.jsx("div",{className:"bg-muted/50 rounded-xl p-6 border",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h3",{className:"font-semibold text-foreground",children:"Detalhes do Pagamento"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",c.jsx("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:r})]}),(h==null?void 0:h.plano)&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Plano Atual: ",c.jsx("span",{className:"font-semibold text-foreground capitalize",children:h.plano})]})]})}),u&&c.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[c.jsx(ZE,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"text-sm",children:"Verificando status..."})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(qe,{asChild:!0,className:"flex items-center gap-2",children:c.jsxs(sM,{to:"/planos",children:[c.jsx(Px,{className:"h-4 w-4"}),"Voltar aos Planos"]})}),c.jsx(qe,{asChild:!0,variant:N.buttonVariant,children:c.jsx(sM,{to:"/dashboard",children:"Ir para Dashboard"})}),N.showRefresh&&c.jsxs(qe,{variant:"outline",onClick:_,disabled:u,className:"flex items-center gap-2",children:[c.jsx(ZE,{className:`h-4 w-4 ${u?"animate-spin":""}`}),"Verificar Status"]})]}),c.jsxs("div",{className:"text-center space-y-2 text-sm text-muted-foreground",children:[o==="success"&&c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"✅ Seu plano foi ativado automaticamente"}),c.jsx("p",{children:"🎉 Você pode gerenciar sua assinatura no seu perfil"})]}),o==="failure"&&c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"❌ Se o problema persistir, entre em contato conosco"}),c.jsx("p",{children:"💳 Verifique se seus dados de pagamento estão corretos"})]}),o==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"⏳ O processamento pode levar alguns minutos"}),c.jsx("p",{children:"📧 Você receberá um email quando o pagamento for confirmado"}),c.jsx("p",{children:"🔄 Esta página atualiza automaticamente"})]})]}),n&&!1]})})]})})}const zJe=new ude,qJe=()=>c.jsx("div",{className:"min-h-screen overflow-x-hidden",children:c.jsx(mde,{client:zJe,children:c.jsx(H0e,{children:c.jsxs(Gue,{children:[c.jsx(kle,{}),c.jsx(cce,{}),c.jsx(Ahe,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:c.jsxs(ghe,{children:[c.jsx(jn,{path:"/",element:c.jsx(N1e,{})}),c.jsx(jn,{path:"/login",element:c.jsx(P1e,{})}),c.jsx(jn,{path:"/signup",element:c.jsx(T1e,{})}),c.jsx(jn,{path:"/basic-info",element:c.jsx(k1e,{})}),c.jsx(jn,{path:"/initial-setup",element:c.jsx(I1e,{})}),c.jsx(jn,{path:"/dashboard",element:c.jsx(Na,{children:c.jsx(Q2e,{})})}),c.jsx(jn,{path:"/gestao-funcionarios",element:c.jsx(Na,{children:c.jsx(N5e,{})})}),c.jsx(jn,{path:"/gestao-funcionarios/:id",element:c.jsx(Na,{children:c.jsx(FJe,{})})}),c.jsx(jn,{path:"/pagamentos",element:c.jsx(Na,{children:c.jsx(C0,{requiredFeature:"payments",pageName:"Gestão de Pagamentos",children:c.jsx(E5e,{})})})}),c.jsx(jn,{path:"/resumo-dia",element:c.jsx(Na,{children:c.jsx(FGe,{})})}),c.jsx(jn,{path:"/saldos",element:c.jsx(Na,{children:c.jsx(C0,{requiredFeature:"balances",pageName:"Saldo de Contas",children:c.jsx(BGe,{})})})}),c.jsx(jn,{path:"/relatorios",element:c.jsx(Na,{children:c.jsx(C0,{requiredFeature:"reports",pageName:"Relatórios",children:c.jsx(VQe,{})})})}),c.jsx(jn,{path:"/historico",element:c.jsx(Na,{children:c.jsx(C0,{requiredFeature:"history",pageName:"Histórico",children:c.jsx(zQe,{})})})}),c.jsx(jn,{path:"/planos",element:c.jsx(Na,{children:c.jsx(XQe,{})})}),c.jsx(jn,{path:"/afiliados",element:c.jsx(Na,{children:c.jsx(OJe,{})})}),c.jsx(jn,{path:"/settings",element:c.jsx(Na,{children:c.jsx(RJe,{})})}),c.jsx(jn,{path:"/perfil",element:c.jsx(Na,{children:c.jsx(DJe,{})})}),c.jsx(jn,{path:"/admin",element:c.jsx(Na,{requireAdmin:!0,children:c.jsx(C0,{requiredFeature:"advancedPanel",pageName:"Painel Administrativo",children:c.jsx(IJe,{})})})}),c.jsx(jn,{path:"/termos",element:c.jsx(BJe,{})}),c.jsx(jn,{path:"/privacidade",element:c.jsx(UJe,{})}),c.jsx(jn,{path:"/suporte",element:c.jsx(VJe,{})}),c.jsx(jn,{path:"/payment/success",element:c.jsx(Na,{children:c.jsx(WP,{mode:"success"})})}),c.jsx(jn,{path:"/payment/failure",element:c.jsx(Na,{children:c.jsx(WP,{mode:"failure"})})}),c.jsx(jn,{path:"/payment/pending",element:c.jsx(Na,{children:c.jsx(WP,{mode:"pending"})})}),c.jsx(jn,{path:"*",element:c.jsx(LJe,{})})]})})]})})})});sxe();wq(document.getElementById("root")).render(c.jsx(qJe,{}));export{an as _,Ma as c,Zr as g};
