var tie=Object.defineProperty;var n6=t=>{throw TypeError(t)};var rie=(t,e,r)=>e in t?tie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var kr=(t,e,r)=>rie(t,typeof e!="symbol"?e+"":e,r),vN=(t,e,r)=>e.has(t)||n6("Cannot "+r);var _e=(t,e,r)=>(vN(t,e,"read from private field"),r?r.call(t):e.get(t)),Lt=(t,e,r)=>e.has(t)?n6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ct=(t,e,r,n)=>(vN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),pr=(t,e,r)=>(vN(t,e,"access private method"),r);var jw=(t,e,r,n)=>({set _(i){ct(t,e,i,r)},get _(){return _e(t,e,n)}});function nie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iie(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var tV={exports:{}},L5={},rV={exports:{}},br={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=Symbol.for("react.element"),aie=Symbol.for("react.portal"),oie=Symbol.for("react.fragment"),sie=Symbol.for("react.strict_mode"),lie=Symbol.for("react.profiler"),cie=Symbol.for("react.provider"),uie=Symbol.for("react.context"),die=Symbol.for("react.forward_ref"),hie=Symbol.for("react.suspense"),fie=Symbol.for("react.memo"),pie=Symbol.for("react.lazy"),i6=Symbol.iterator;function mie(t){return t===null||typeof t!="object"?null:(t=i6&&t[i6]||t["@@iterator"],typeof t=="function"?t:null)}var nV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iV=Object.assign,aV={};function hy(t,e,r){this.props=t,this.context=e,this.refs=aV,this.updater=r||nV}hy.prototype.isReactComponent={};hy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oV(){}oV.prototype=hy.prototype;function G4(t,e,r){this.props=t,this.context=e,this.refs=aV,this.updater=r||nV}var K4=G4.prototype=new oV;K4.constructor=G4;iV(K4,hy.prototype);K4.isPureReactComponent=!0;var a6=Array.isArray,sV=Object.prototype.hasOwnProperty,Y4={current:null},lV={key:!0,ref:!0,__self:!0,__source:!0};function cV(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)sV.call(e,n)&&!lV.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:yx,type:t,key:a,ref:o,props:i,_owner:Y4.current}}function gie(t,e){return{$$typeof:yx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function X4(t){return typeof t=="object"&&t!==null&&t.$$typeof===yx}function vie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var o6=/\/+/g;function yN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vie(""+t.key):e.toString(36)}function L2(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yx:case aie:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+yN(o,0):n,a6(i)?(r="",t!=null&&(r=t.replace(o6,"$&/")+"/"),L2(i,e,r,"",function(c){return c})):i!=null&&(X4(i)&&(i=gie(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(o6,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",a6(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+yN(a,s);o+=L2(a,e,r,l,i)}else if(l=mie(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+yN(a,s++),o+=L2(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cw(t,e,r){if(t==null)return t;var n=[],i=0;return L2(t,n,"","",function(a){return e.call(r,a,i++)}),n}function yie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ao={current:null},M2={transition:null},bie={ReactCurrentDispatcher:ao,ReactCurrentBatchConfig:M2,ReactCurrentOwner:Y4};function uV(){throw Error("act(...) is not supported in production builds of React.")}br.Children={map:Cw,forEach:function(t,e,r){Cw(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Cw(t,function(){e++}),e},toArray:function(t){return Cw(t,function(e){return e})||[]},only:function(t){if(!X4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};br.Component=hy;br.Fragment=oie;br.Profiler=lie;br.PureComponent=G4;br.StrictMode=sie;br.Suspense=hie;br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bie;br.act=uV;br.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=iV({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Y4.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)sV.call(e,l)&&!lV.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:yx,type:t.type,key:i,ref:a,props:n,_owner:o}};br.createContext=function(t){return t={$$typeof:uie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cie,_context:t},t.Consumer=t};br.createElement=cV;br.createFactory=function(t){var e=cV.bind(null,t);return e.type=t,e};br.createRef=function(){return{current:null}};br.forwardRef=function(t){return{$$typeof:die,render:t}};br.isValidElement=X4;br.lazy=function(t){return{$$typeof:pie,_payload:{_status:-1,_result:t},_init:yie}};br.memo=function(t,e){return{$$typeof:fie,type:t,compare:e===void 0?null:e}};br.startTransition=function(t){var e=M2.transition;M2.transition={};try{t()}finally{M2.transition=e}};br.unstable_act=uV;br.useCallback=function(t,e){return ao.current.useCallback(t,e)};br.useContext=function(t){return ao.current.useContext(t)};br.useDebugValue=function(){};br.useDeferredValue=function(t){return ao.current.useDeferredValue(t)};br.useEffect=function(t,e){return ao.current.useEffect(t,e)};br.useId=function(){return ao.current.useId()};br.useImperativeHandle=function(t,e,r){return ao.current.useImperativeHandle(t,e,r)};br.useInsertionEffect=function(t,e){return ao.current.useInsertionEffect(t,e)};br.useLayoutEffect=function(t,e){return ao.current.useLayoutEffect(t,e)};br.useMemo=function(t,e){return ao.current.useMemo(t,e)};br.useReducer=function(t,e,r){return ao.current.useReducer(t,e,r)};br.useRef=function(t){return ao.current.useRef(t)};br.useState=function(t){return ao.current.useState(t)};br.useSyncExternalStore=function(t,e,r){return ao.current.useSyncExternalStore(t,e,r)};br.useTransition=function(){return ao.current.useTransition()};br.version="18.3.1";rV.exports=br;var j=rV.exports;const ue=Qr(j),Q4=nie({__proto__:null,default:ue},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xie=j,wie=Symbol.for("react.element"),_ie=Symbol.for("react.fragment"),Sie=Object.prototype.hasOwnProperty,Aie=xie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Eie={key:!0,ref:!0,__self:!0,__source:!0};function dV(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Sie.call(e,n)&&!Eie.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:wie,type:t,key:a,ref:o,props:i,_owner:Aie.current}}L5.Fragment=_ie;L5.jsx=dV;L5.jsxs=dV;tV.exports=L5;var u=tV.exports,hV={exports:{}},cs={},fV={exports:{}},pV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Z){var ye=q.length;q.push(Z);e:for(;0<ye;){var ce=ye-1>>>1,F=q[ce];if(0<i(F,Z))q[ce]=Z,q[ye]=F,ye=ce;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var Z=q[0],ye=q.pop();if(ye!==Z){q[0]=ye;e:for(var ce=0,F=q.length,V=F>>>1;ce<V;){var G=2*(ce+1)-1,oe=q[G],J=G+1,ne=q[J];if(0>i(oe,ye))J<F&&0>i(ne,oe)?(q[ce]=ne,q[J]=ye,ce=J):(q[ce]=oe,q[G]=ye,ce=G);else if(J<F&&0>i(ne,ye))q[ce]=ne,q[J]=ye,ce=J;else break e}}return Z}function i(q,Z){var ye=q.sortIndex-Z.sortIndex;return ye!==0?ye:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,h=null,p=3,f=!1,v=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var Z=r(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=q)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=r(c)}}function A(q){if(m=!1,_(q),!v)if(r(l)!==null)v=!0,Y(N);else{var Z=r(c);Z!==null&&K(A,Z.startTime-q)}}function N(q,Z){v=!1,m&&(m=!1,y(E),E=-1),f=!0;var ye=p;try{for(_(Z),h=r(l);h!==null&&(!(h.expirationTime>Z)||q&&!C());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,p=h.priorityLevel;var F=ce(h.expirationTime<=Z);Z=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(l)&&n(l),_(Z)}else n(l);h=r(l)}if(h!==null)var V=!0;else{var G=r(c);G!==null&&K(A,G.startTime-Z),V=!1}return V}finally{h=null,p=ye,f=!1}}var I=!1,P=null,E=-1,k=5,D=-1;function C(){return!(t.unstable_now()-D<k)}function O(){if(P!==null){var q=t.unstable_now();D=q;var Z=!0;try{Z=P(!0,q)}finally{Z?L():(I=!1,P=null)}}else I=!1}var L;if(typeof x=="function")L=function(){x(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=O,L=function(){re.postMessage(null)}}else L=function(){g(O,0)};function Y(q){P=q,I||(I=!0,L())}function K(q,Z){E=g(function(){q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,Y(N))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ye=p;p=Z;try{return q()}finally{p=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ye=p;p=q;try{return Z()}finally{p=ye}},t.unstable_scheduleCallback=function(q,Z,ye){var ce=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ce+ye:ce):ye=ce,q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ye+F,q={id:d++,callback:Z,priorityLevel:q,startTime:ye,expirationTime:F,sortIndex:-1},ye>ce?(q.sortIndex=ye,e(c,q),r(l)===null&&q===r(c)&&(m?(y(E),E=-1):m=!0,K(A,ye-ce))):(q.sortIndex=F,e(l,q),v||f||(v=!0,Y(N))),q},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(q){var Z=p;return function(){var ye=p;p=Z;try{return q.apply(this,arguments)}finally{p=ye}}}})(pV);fV.exports=pV;var Nie=fV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pie=j,ss=Nie;function Xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mV=new Set,F1={};function um(t,e){fv(t,e),fv(t+"Capture",e)}function fv(t,e){for(F1[t]=e,t=0;t<e.length;t++)mV.add(e[t])}var Mu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),UT=Object.prototype.hasOwnProperty,Tie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s6={},l6={};function jie(t){return UT.call(l6,t)?!0:UT.call(s6,t)?!1:Tie.test(t)?l6[t]=!0:(s6[t]=!0,!1)}function Cie(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kie(t,e,r,n){if(e===null||typeof e>"u"||Cie(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oo(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var pa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pa[t]=new oo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pa[e]=new oo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pa[t]=new oo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pa[t]=new oo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pa[t]=new oo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pa[t]=new oo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pa[t]=new oo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pa[t]=new oo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pa[t]=new oo(t,5,!1,t.toLowerCase(),null,!1,!1)});var J4=/[\-:]([a-z])/g;function Z4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(J4,Z4);pa[e]=new oo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(J4,Z4);pa[e]=new oo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(J4,Z4);pa[e]=new oo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pa[t]=new oo(t,1,!1,t.toLowerCase(),null,!1,!1)});pa.xlinkHref=new oo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pa[t]=new oo(t,1,!1,t.toLowerCase(),null,!0,!0)});function eI(t,e,r,n){var i=pa.hasOwnProperty(e)?pa[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kie(e,r,i,n)&&(r=null),n||i===null?jie(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Qu=Pie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kw=Symbol.for("react.element"),cg=Symbol.for("react.portal"),ug=Symbol.for("react.fragment"),tI=Symbol.for("react.strict_mode"),VT=Symbol.for("react.profiler"),gV=Symbol.for("react.provider"),vV=Symbol.for("react.context"),rI=Symbol.for("react.forward_ref"),zT=Symbol.for("react.suspense"),qT=Symbol.for("react.suspense_list"),nI=Symbol.for("react.memo"),Vd=Symbol.for("react.lazy"),yV=Symbol.for("react.offscreen"),c6=Symbol.iterator;function m0(t){return t===null||typeof t!="object"?null:(t=c6&&t[c6]||t["@@iterator"],typeof t=="function"?t:null)}var ei=Object.assign,bN;function V0(t){if(bN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);bN=e&&e[1]||""}return`
`+bN+t}var xN=!1;function wN(t,e){if(!t||xN)return"";xN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{xN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?V0(t):""}function Iie(t){switch(t.tag){case 5:return V0(t.type);case 16:return V0("Lazy");case 13:return V0("Suspense");case 19:return V0("SuspenseList");case 0:case 2:case 15:return t=wN(t.type,!1),t;case 11:return t=wN(t.type.render,!1),t;case 1:return t=wN(t.type,!0),t;default:return""}}function WT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ug:return"Fragment";case cg:return"Portal";case VT:return"Profiler";case tI:return"StrictMode";case zT:return"Suspense";case qT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vV:return(t.displayName||"Context")+".Consumer";case gV:return(t._context.displayName||"Context")+".Provider";case rI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nI:return e=t.displayName||null,e!==null?e:WT(t.type)||"Memo";case Vd:e=t._payload,t=t._init;try{return WT(t(e))}catch{}}return null}function Oie(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WT(e);case 8:return e===tI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Rie(t){var e=bV(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Iw(t){t._valueTracker||(t._valueTracker=Rie(t))}function xV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bV(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function S_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function HT(t,e){var r=e.checked;return ei({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function u6(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Fh(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wV(t,e){e=e.checked,e!=null&&eI(t,"checked",e,!1)}function GT(t,e){wV(t,e);var r=Fh(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?KT(t,e.type,r):e.hasOwnProperty("defaultValue")&&KT(t,e.type,Fh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function d6(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function KT(t,e,r){(e!=="number"||S_(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var z0=Array.isArray;function Tg(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Fh(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function YT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Xe(91));return ei({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h6(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Xe(92));if(z0(r)){if(1<r.length)throw Error(Xe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Fh(r)}}function _V(t,e){var r=Fh(e.value),n=Fh(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function f6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function SV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function XT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ow,AV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ow=Ow||document.createElement("div"),Ow.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ow.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function B1(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var o1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Die=["Webkit","ms","Moz","O"];Object.keys(o1).forEach(function(t){Die.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),o1[e]=o1[t]})});function EV(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||o1.hasOwnProperty(t)&&o1[t]?(""+e).trim():e+"px"}function NV(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=EV(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Lie=ei({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function QT(t,e){if(e){if(Lie[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Xe(62))}}function JT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZT=null;function iI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ej=null,jg=null,Cg=null;function p6(t){if(t=wx(t)){if(typeof ej!="function")throw Error(Xe(280));var e=t.stateNode;e&&(e=U5(e),ej(t.stateNode,t.type,e))}}function PV(t){jg?Cg?Cg.push(t):Cg=[t]:jg=t}function TV(){if(jg){var t=jg,e=Cg;if(Cg=jg=null,p6(t),e)for(t=0;t<e.length;t++)p6(e[t])}}function jV(t,e){return t(e)}function CV(){}var _N=!1;function kV(t,e,r){if(_N)return t(e,r);_N=!0;try{return jV(t,e,r)}finally{_N=!1,(jg!==null||Cg!==null)&&(CV(),TV())}}function U1(t,e){var r=t.stateNode;if(r===null)return null;var n=U5(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Xe(231,e,typeof r));return r}var tj=!1;if(Mu)try{var g0={};Object.defineProperty(g0,"passive",{get:function(){tj=!0}}),window.addEventListener("test",g0,g0),window.removeEventListener("test",g0,g0)}catch{tj=!1}function Mie(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var s1=!1,A_=null,E_=!1,rj=null,$ie={onError:function(t){s1=!0,A_=t}};function Fie(t,e,r,n,i,a,o,s,l){s1=!1,A_=null,Mie.apply($ie,arguments)}function Bie(t,e,r,n,i,a,o,s,l){if(Fie.apply(this,arguments),s1){if(s1){var c=A_;s1=!1,A_=null}else throw Error(Xe(198));E_||(E_=!0,rj=c)}}function dm(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function IV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m6(t){if(dm(t)!==t)throw Error(Xe(188))}function Uie(t){var e=t.alternate;if(!e){if(e=dm(t),e===null)throw Error(Xe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return m6(i),t;if(a===n)return m6(i),e;a=a.sibling}throw Error(Xe(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Xe(189))}}if(r.alternate!==n)throw Error(Xe(190))}if(r.tag!==3)throw Error(Xe(188));return r.stateNode.current===r?t:e}function OV(t){return t=Uie(t),t!==null?RV(t):null}function RV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RV(t);if(e!==null)return e;t=t.sibling}return null}var DV=ss.unstable_scheduleCallback,g6=ss.unstable_cancelCallback,Vie=ss.unstable_shouldYield,zie=ss.unstable_requestPaint,gi=ss.unstable_now,qie=ss.unstable_getCurrentPriorityLevel,aI=ss.unstable_ImmediatePriority,LV=ss.unstable_UserBlockingPriority,N_=ss.unstable_NormalPriority,Wie=ss.unstable_LowPriority,MV=ss.unstable_IdlePriority,M5=null,yc=null;function Hie(t){if(yc&&typeof yc.onCommitFiberRoot=="function")try{yc.onCommitFiberRoot(M5,t,void 0,(t.current.flags&128)===128)}catch{}}var bl=Math.clz32?Math.clz32:Yie,Gie=Math.log,Kie=Math.LN2;function Yie(t){return t>>>=0,t===0?32:31-(Gie(t)/Kie|0)|0}var Rw=64,Dw=4194304;function q0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function P_(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=q0(s):(a&=o,a!==0&&(n=q0(a)))}else o=r&~i,o!==0?n=q0(o):a!==0&&(n=q0(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-bl(e),i=1<<r,n|=t[r],e&=~i;return n}function Xie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-bl(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=Xie(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function nj(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $V(){var t=Rw;return Rw<<=1,!(Rw&4194240)&&(Rw=64),t}function SN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function bx(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bl(e),t[e]=r}function Jie(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-bl(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function oI(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-bl(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var on=0;function FV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BV,sI,UV,VV,zV,ij=!1,Lw=[],yh=null,bh=null,xh=null,V1=new Map,z1=new Map,Hd=[],Zie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v6(t,e){switch(t){case"focusin":case"focusout":yh=null;break;case"dragenter":case"dragleave":bh=null;break;case"mouseover":case"mouseout":xh=null;break;case"pointerover":case"pointerout":V1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":z1.delete(e.pointerId)}}function v0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=wx(e),e!==null&&sI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eae(t,e,r,n,i){switch(e){case"focusin":return yh=v0(yh,t,e,r,n,i),!0;case"dragenter":return bh=v0(bh,t,e,r,n,i),!0;case"mouseover":return xh=v0(xh,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return V1.set(a,v0(V1.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,z1.set(a,v0(z1.get(a)||null,t,e,r,n,i)),!0}return!1}function qV(t){var e=ip(t.target);if(e!==null){var r=dm(e);if(r!==null){if(e=r.tag,e===13){if(e=IV(r),e!==null){t.blockedOn=e,zV(t.priority,function(){UV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=aj(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ZT=n,r.target.dispatchEvent(n),ZT=null}else return e=wx(r),e!==null&&sI(e),t.blockedOn=r,!1;e.shift()}return!0}function y6(t,e,r){$2(t)&&r.delete(e)}function tae(){ij=!1,yh!==null&&$2(yh)&&(yh=null),bh!==null&&$2(bh)&&(bh=null),xh!==null&&$2(xh)&&(xh=null),V1.forEach(y6),z1.forEach(y6)}function y0(t,e){t.blockedOn===e&&(t.blockedOn=null,ij||(ij=!0,ss.unstable_scheduleCallback(ss.unstable_NormalPriority,tae)))}function q1(t){function e(i){return y0(i,t)}if(0<Lw.length){y0(Lw[0],t);for(var r=1;r<Lw.length;r++){var n=Lw[r];n.blockedOn===t&&(n.blockedOn=null)}}for(yh!==null&&y0(yh,t),bh!==null&&y0(bh,t),xh!==null&&y0(xh,t),V1.forEach(e),z1.forEach(e),r=0;r<Hd.length;r++)n=Hd[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Hd.length&&(r=Hd[0],r.blockedOn===null);)qV(r),r.blockedOn===null&&Hd.shift()}var kg=Qu.ReactCurrentBatchConfig,T_=!0;function rae(t,e,r,n){var i=on,a=kg.transition;kg.transition=null;try{on=1,lI(t,e,r,n)}finally{on=i,kg.transition=a}}function nae(t,e,r,n){var i=on,a=kg.transition;kg.transition=null;try{on=4,lI(t,e,r,n)}finally{on=i,kg.transition=a}}function lI(t,e,r,n){if(T_){var i=aj(t,e,r,n);if(i===null)ON(t,e,n,j_,r),v6(t,n);else if(eae(i,t,e,r,n))n.stopPropagation();else if(v6(t,n),e&4&&-1<Zie.indexOf(t)){for(;i!==null;){var a=wx(i);if(a!==null&&BV(a),a=aj(t,e,r,n),a===null&&ON(t,e,n,j_,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else ON(t,e,n,null,r)}}var j_=null;function aj(t,e,r,n){if(j_=null,t=iI(n),t=ip(t),t!==null)if(e=dm(t),e===null)t=null;else if(r=e.tag,r===13){if(t=IV(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return j_=t,null}function WV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qie()){case aI:return 1;case LV:return 4;case N_:case Wie:return 16;case MV:return 536870912;default:return 16}default:return 16}}var dh=null,cI=null,F2=null;function HV(){if(F2)return F2;var t,e=cI,r=e.length,n,i="value"in dh?dh.value:dh.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return F2=i.slice(t,1<n?1-n:void 0)}function B2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mw(){return!0}function b6(){return!1}function us(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mw:b6,this.isPropagationStopped=b6,this}return ei(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mw)},persist:function(){},isPersistent:Mw}),e}var fy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uI=us(fy),xx=ei({},fy,{view:0,detail:0}),iae=us(xx),AN,EN,b0,$5=ei({},xx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==b0&&(b0&&t.type==="mousemove"?(AN=t.screenX-b0.screenX,EN=t.screenY-b0.screenY):EN=AN=0,b0=t),AN)},movementY:function(t){return"movementY"in t?t.movementY:EN}}),x6=us($5),aae=ei({},$5,{dataTransfer:0}),oae=us(aae),sae=ei({},xx,{relatedTarget:0}),NN=us(sae),lae=ei({},fy,{animationName:0,elapsedTime:0,pseudoElement:0}),cae=us(lae),uae=ei({},fy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dae=us(uae),hae=ei({},fy,{data:0}),w6=us(hae),fae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gae(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mae[t])?!!e[t]:!1}function dI(){return gae}var vae=ei({},xx,{key:function(t){if(t.key){var e=fae[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=B2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pae[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dI,charCode:function(t){return t.type==="keypress"?B2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?B2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yae=us(vae),bae=ei({},$5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_6=us(bae),xae=ei({},xx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dI}),wae=us(xae),_ae=ei({},fy,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sae=us(_ae),Aae=ei({},$5,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Eae=us(Aae),Nae=[9,13,27,32],hI=Mu&&"CompositionEvent"in window,l1=null;Mu&&"documentMode"in document&&(l1=document.documentMode);var Pae=Mu&&"TextEvent"in window&&!l1,GV=Mu&&(!hI||l1&&8<l1&&11>=l1),S6=" ",A6=!1;function KV(t,e){switch(t){case"keyup":return Nae.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dg=!1;function Tae(t,e){switch(t){case"compositionend":return YV(e);case"keypress":return e.which!==32?null:(A6=!0,S6);case"textInput":return t=e.data,t===S6&&A6?null:t;default:return null}}function jae(t,e){if(dg)return t==="compositionend"||!hI&&KV(t,e)?(t=HV(),F2=cI=dh=null,dg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GV&&e.locale!=="ko"?null:e.data;default:return null}}var Cae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Cae[t.type]:e==="textarea"}function XV(t,e,r,n){PV(n),e=C_(e,"onChange"),0<e.length&&(r=new uI("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var c1=null,W1=null;function kae(t){sz(t,0)}function F5(t){var e=pg(t);if(xV(e))return t}function Iae(t,e){if(t==="change")return e}var QV=!1;if(Mu){var PN;if(Mu){var TN="oninput"in document;if(!TN){var N6=document.createElement("div");N6.setAttribute("oninput","return;"),TN=typeof N6.oninput=="function"}PN=TN}else PN=!1;QV=PN&&(!document.documentMode||9<document.documentMode)}function P6(){c1&&(c1.detachEvent("onpropertychange",JV),W1=c1=null)}function JV(t){if(t.propertyName==="value"&&F5(W1)){var e=[];XV(e,W1,t,iI(t)),kV(kae,e)}}function Oae(t,e,r){t==="focusin"?(P6(),c1=e,W1=r,c1.attachEvent("onpropertychange",JV)):t==="focusout"&&P6()}function Rae(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return F5(W1)}function Dae(t,e){if(t==="click")return F5(e)}function Lae(t,e){if(t==="input"||t==="change")return F5(e)}function Mae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Al=typeof Object.is=="function"?Object.is:Mae;function H1(t,e){if(Al(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!UT.call(e,i)||!Al(t[i],e[i]))return!1}return!0}function T6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j6(t,e){var r=T6(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=T6(r)}}function ZV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ez(){for(var t=window,e=S_();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=S_(t.document)}return e}function fI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $ae(t){var e=ez(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ZV(r.ownerDocument.documentElement,r)){if(n!==null&&fI(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=j6(r,a);var o=j6(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fae=Mu&&"documentMode"in document&&11>=document.documentMode,hg=null,oj=null,u1=null,sj=!1;function C6(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sj||hg==null||hg!==S_(n)||(n=hg,"selectionStart"in n&&fI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),u1&&H1(u1,n)||(u1=n,n=C_(oj,"onSelect"),0<n.length&&(e=new uI("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=hg)))}function $w(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fg={animationend:$w("Animation","AnimationEnd"),animationiteration:$w("Animation","AnimationIteration"),animationstart:$w("Animation","AnimationStart"),transitionend:$w("Transition","TransitionEnd")},jN={},tz={};Mu&&(tz=document.createElement("div").style,"AnimationEvent"in window||(delete fg.animationend.animation,delete fg.animationiteration.animation,delete fg.animationstart.animation),"TransitionEvent"in window||delete fg.transitionend.transition);function B5(t){if(jN[t])return jN[t];if(!fg[t])return t;var e=fg[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in tz)return jN[t]=e[r];return t}var rz=B5("animationend"),nz=B5("animationiteration"),iz=B5("animationstart"),az=B5("transitionend"),oz=new Map,k6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sf(t,e){oz.set(t,e),um(e,[t])}for(var CN=0;CN<k6.length;CN++){var kN=k6[CN],Bae=kN.toLowerCase(),Uae=kN[0].toUpperCase()+kN.slice(1);sf(Bae,"on"+Uae)}sf(rz,"onAnimationEnd");sf(nz,"onAnimationIteration");sf(iz,"onAnimationStart");sf("dblclick","onDoubleClick");sf("focusin","onFocus");sf("focusout","onBlur");sf(az,"onTransitionEnd");fv("onMouseEnter",["mouseout","mouseover"]);fv("onMouseLeave",["mouseout","mouseover"]);fv("onPointerEnter",["pointerout","pointerover"]);fv("onPointerLeave",["pointerout","pointerover"]);um("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));um("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));um("onBeforeInput",["compositionend","keypress","textInput","paste"]);um("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));um("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));um("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var W0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vae=new Set("cancel close invalid load scroll toggle".split(" ").concat(W0));function I6(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Bie(n,e,void 0,t),t.currentTarget=null}function sz(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;I6(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;I6(i,s,c),a=l}}}if(E_)throw t=rj,E_=!1,rj=null,t}function Fn(t,e){var r=e[hj];r===void 0&&(r=e[hj]=new Set);var n=t+"__bubble";r.has(n)||(lz(e,t,2,!1),r.add(n))}function IN(t,e,r){var n=0;e&&(n|=4),lz(r,t,n,e)}var Fw="_reactListening"+Math.random().toString(36).slice(2);function G1(t){if(!t[Fw]){t[Fw]=!0,mV.forEach(function(r){r!=="selectionchange"&&(Vae.has(r)||IN(r,!1,t),IN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fw]||(e[Fw]=!0,IN("selectionchange",!1,e))}}function lz(t,e,r,n){switch(WV(e)){case 1:var i=rae;break;case 4:i=nae;break;default:i=lI}r=i.bind(null,e,r,t),i=void 0,!tj||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function ON(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ip(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}kV(function(){var c=a,d=iI(r),h=[];e:{var p=oz.get(t);if(p!==void 0){var f=uI,v=t;switch(t){case"keypress":if(B2(r)===0)break e;case"keydown":case"keyup":f=yae;break;case"focusin":v="focus",f=NN;break;case"focusout":v="blur",f=NN;break;case"beforeblur":case"afterblur":f=NN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=x6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=oae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=wae;break;case rz:case nz:case iz:f=cae;break;case az:f=Sae;break;case"scroll":f=iae;break;case"wheel":f=Eae;break;case"copy":case"cut":case"paste":f=dae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=_6}var m=(e&4)!==0,g=!m&&t==="scroll",y=m?p!==null?p+"Capture":null:p;m=[];for(var x=c,_;x!==null;){_=x;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,y!==null&&(A=U1(x,y),A!=null&&m.push(K1(x,A,_)))),g)break;x=x.return}0<m.length&&(p=new f(p,v,null,r,d),h.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==ZT&&(v=r.relatedTarget||r.fromElement)&&(ip(v)||v[$u]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=c,v=v?ip(v):null,v!==null&&(g=dm(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=c),f!==v)){if(m=x6,A="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=_6,A="onPointerLeave",y="onPointerEnter",x="pointer"),g=f==null?p:pg(f),_=v==null?p:pg(v),p=new m(A,x+"leave",f,r,d),p.target=g,p.relatedTarget=_,A=null,ip(d)===c&&(m=new m(y,x+"enter",v,r,d),m.target=_,m.relatedTarget=g,A=m),g=A,f&&v)t:{for(m=f,y=v,x=0,_=m;_;_=Mm(_))x++;for(_=0,A=y;A;A=Mm(A))_++;for(;0<x-_;)m=Mm(m),x--;for(;0<_-x;)y=Mm(y),_--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=Mm(m),y=Mm(y)}m=null}else m=null;f!==null&&O6(h,p,f,m,!1),v!==null&&g!==null&&O6(h,g,v,m,!0)}}e:{if(p=c?pg(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=Iae;else if(E6(p))if(QV)N=Lae;else{N=Rae;var I=Oae}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Dae);if(N&&(N=N(t,c))){XV(h,N,r,d);break e}I&&I(t,p,c),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&KT(p,"number",p.value)}switch(I=c?pg(c):window,t){case"focusin":(E6(I)||I.contentEditable==="true")&&(hg=I,oj=c,u1=null);break;case"focusout":u1=oj=hg=null;break;case"mousedown":sj=!0;break;case"contextmenu":case"mouseup":case"dragend":sj=!1,C6(h,r,d);break;case"selectionchange":if(Fae)break;case"keydown":case"keyup":C6(h,r,d)}var P;if(hI)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else dg?KV(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(GV&&r.locale!=="ko"&&(dg||E!=="onCompositionStart"?E==="onCompositionEnd"&&dg&&(P=HV()):(dh=d,cI="value"in dh?dh.value:dh.textContent,dg=!0)),I=C_(c,E),0<I.length&&(E=new w6(E,t,null,r,d),h.push({event:E,listeners:I}),P?E.data=P:(P=YV(r),P!==null&&(E.data=P)))),(P=Pae?Tae(t,r):jae(t,r))&&(c=C_(c,"onBeforeInput"),0<c.length&&(d=new w6("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=P))}sz(h,e)})}function K1(t,e,r){return{instance:t,listener:e,currentTarget:r}}function C_(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=U1(t,r),a!=null&&n.unshift(K1(t,a,i)),a=U1(t,e),a!=null&&n.push(K1(t,a,i))),t=t.return}return n}function Mm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O6(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=U1(r,a),l!=null&&o.unshift(K1(r,l,s))):i||(l=U1(r,a),l!=null&&o.push(K1(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var zae=/\r\n?/g,qae=/\u0000|\uFFFD/g;function R6(t){return(typeof t=="string"?t:""+t).replace(zae,`
`).replace(qae,"")}function Bw(t,e,r){if(e=R6(e),R6(t)!==e&&r)throw Error(Xe(425))}function k_(){}var lj=null,cj=null;function uj(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dj=typeof setTimeout=="function"?setTimeout:void 0,Wae=typeof clearTimeout=="function"?clearTimeout:void 0,D6=typeof Promise=="function"?Promise:void 0,Hae=typeof queueMicrotask=="function"?queueMicrotask:typeof D6<"u"?function(t){return D6.resolve(null).then(t).catch(Gae)}:dj;function Gae(t){setTimeout(function(){throw t})}function RN(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),q1(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);q1(e)}function wh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function L6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var py=Math.random().toString(36).slice(2),cc="__reactFiber$"+py,Y1="__reactProps$"+py,$u="__reactContainer$"+py,hj="__reactEvents$"+py,Kae="__reactListeners$"+py,Yae="__reactHandles$"+py;function ip(t){var e=t[cc];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$u]||r[cc]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=L6(t);t!==null;){if(r=t[cc])return r;t=L6(t)}return e}t=r,r=t.parentNode}return null}function wx(t){return t=t[cc]||t[$u],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Xe(33))}function U5(t){return t[Y1]||null}var fj=[],mg=-1;function lf(t){return{current:t}}function qn(t){0>mg||(t.current=fj[mg],fj[mg]=null,mg--)}function kn(t,e){mg++,fj[mg]=t.current,t.current=e}var Bh={},La=lf(Bh),Po=lf(!1),Op=Bh;function pv(t,e){var r=t.type.contextTypes;if(!r)return Bh;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function To(t){return t=t.childContextTypes,t!=null}function I_(){qn(Po),qn(La)}function M6(t,e,r){if(La.current!==Bh)throw Error(Xe(168));kn(La,e),kn(Po,r)}function cz(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Xe(108,Oie(t)||"Unknown",i));return ei({},r,n)}function O_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bh,Op=La.current,kn(La,t),kn(Po,Po.current),!0}function $6(t,e,r){var n=t.stateNode;if(!n)throw Error(Xe(169));r?(t=cz(t,e,Op),n.__reactInternalMemoizedMergedChildContext=t,qn(Po),qn(La),kn(La,t)):qn(Po),kn(Po,r)}var mu=null,V5=!1,DN=!1;function uz(t){mu===null?mu=[t]:mu.push(t)}function Xae(t){V5=!0,uz(t)}function cf(){if(!DN&&mu!==null){DN=!0;var t=0,e=on;try{var r=mu;for(on=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}mu=null,V5=!1}catch(i){throw mu!==null&&(mu=mu.slice(t+1)),DV(aI,cf),i}finally{on=e,DN=!1}}return null}var gg=[],vg=0,R_=null,D_=0,Cs=[],ks=0,Rp=null,xu=1,wu="";function Wf(t,e){gg[vg++]=D_,gg[vg++]=R_,R_=t,D_=e}function dz(t,e,r){Cs[ks++]=xu,Cs[ks++]=wu,Cs[ks++]=Rp,Rp=t;var n=xu;t=wu;var i=32-bl(n)-1;n&=~(1<<i),r+=1;var a=32-bl(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,xu=1<<32-bl(e)+i|r<<i|n,wu=a+t}else xu=1<<a|r<<i|n,wu=t}function pI(t){t.return!==null&&(Wf(t,1),dz(t,1,0))}function mI(t){for(;t===R_;)R_=gg[--vg],gg[vg]=null,D_=gg[--vg],gg[vg]=null;for(;t===Rp;)Rp=Cs[--ks],Cs[ks]=null,wu=Cs[--ks],Cs[ks]=null,xu=Cs[--ks],Cs[ks]=null}var ns=null,Jo=null,Gn=!1,gl=null;function hz(t,e){var r=$s(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function F6(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ns=t,Jo=wh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ns=t,Jo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Rp!==null?{id:xu,overflow:wu}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=$s(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ns=t,Jo=null,!0):!1;default:return!1}}function pj(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mj(t){if(Gn){var e=Jo;if(e){var r=e;if(!F6(t,e)){if(pj(t))throw Error(Xe(418));e=wh(r.nextSibling);var n=ns;e&&F6(t,e)?hz(n,r):(t.flags=t.flags&-4097|2,Gn=!1,ns=t)}}else{if(pj(t))throw Error(Xe(418));t.flags=t.flags&-4097|2,Gn=!1,ns=t}}}function B6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ns=t}function Uw(t){if(t!==ns)return!1;if(!Gn)return B6(t),Gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uj(t.type,t.memoizedProps)),e&&(e=Jo)){if(pj(t))throw fz(),Error(Xe(418));for(;e;)hz(t,e),e=wh(e.nextSibling)}if(B6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Jo=wh(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Jo=null}}else Jo=ns?wh(t.stateNode.nextSibling):null;return!0}function fz(){for(var t=Jo;t;)t=wh(t.nextSibling)}function mv(){Jo=ns=null,Gn=!1}function gI(t){gl===null?gl=[t]:gl.push(t)}var Qae=Qu.ReactCurrentBatchConfig;function x0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Xe(309));var n=r.stateNode}if(!n)throw Error(Xe(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Xe(284));if(!r._owner)throw Error(Xe(290,t))}return t}function Vw(t,e){throw t=Object.prototype.toString.call(e),Error(Xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function U6(t){var e=t._init;return e(t._payload)}function pz(t){function e(y,x){if(t){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Eh(y,x),y.index=0,y.sibling=null,y}function a(y,x,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,x,_,A){return x===null||x.tag!==6?(x=VN(_,y.mode,A),x.return=y,x):(x=i(x,_),x.return=y,x)}function l(y,x,_,A){var N=_.type;return N===ug?d(y,x,_.props.children,A,_.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vd&&U6(N)===x.type)?(A=i(x,_.props),A.ref=x0(y,x,_),A.return=y,A):(A=G2(_.type,_.key,_.props,null,y.mode,A),A.ref=x0(y,x,_),A.return=y,A)}function c(y,x,_,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=zN(_,y.mode,A),x.return=y,x):(x=i(x,_.children||[]),x.return=y,x)}function d(y,x,_,A,N){return x===null||x.tag!==7?(x=Ep(_,y.mode,A,N),x.return=y,x):(x=i(x,_),x.return=y,x)}function h(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=VN(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kw:return _=G2(x.type,x.key,x.props,null,y.mode,_),_.ref=x0(y,null,x),_.return=y,_;case cg:return x=zN(x,y.mode,_),x.return=y,x;case Vd:var A=x._init;return h(y,A(x._payload),_)}if(z0(x)||m0(x))return x=Ep(x,y.mode,_,null),x.return=y,x;Vw(y,x)}return null}function p(y,x,_,A){var N=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:s(y,x,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kw:return _.key===N?l(y,x,_,A):null;case cg:return _.key===N?c(y,x,_,A):null;case Vd:return N=_._init,p(y,x,N(_._payload),A)}if(z0(_)||m0(_))return N!==null?null:d(y,x,_,A,null);Vw(y,_)}return null}function f(y,x,_,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(_)||null,s(x,y,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case kw:return y=y.get(A.key===null?_:A.key)||null,l(x,y,A,N);case cg:return y=y.get(A.key===null?_:A.key)||null,c(x,y,A,N);case Vd:var I=A._init;return f(y,x,_,I(A._payload),N)}if(z0(A)||m0(A))return y=y.get(_)||null,d(x,y,A,N,null);Vw(x,A)}return null}function v(y,x,_,A){for(var N=null,I=null,P=x,E=x=0,k=null;P!==null&&E<_.length;E++){P.index>E?(k=P,P=null):k=P.sibling;var D=p(y,P,_[E],A);if(D===null){P===null&&(P=k);break}t&&P&&D.alternate===null&&e(y,P),x=a(D,x,E),I===null?N=D:I.sibling=D,I=D,P=k}if(E===_.length)return r(y,P),Gn&&Wf(y,E),N;if(P===null){for(;E<_.length;E++)P=h(y,_[E],A),P!==null&&(x=a(P,x,E),I===null?N=P:I.sibling=P,I=P);return Gn&&Wf(y,E),N}for(P=n(y,P);E<_.length;E++)k=f(P,y,E,_[E],A),k!==null&&(t&&k.alternate!==null&&P.delete(k.key===null?E:k.key),x=a(k,x,E),I===null?N=k:I.sibling=k,I=k);return t&&P.forEach(function(C){return e(y,C)}),Gn&&Wf(y,E),N}function m(y,x,_,A){var N=m0(_);if(typeof N!="function")throw Error(Xe(150));if(_=N.call(_),_==null)throw Error(Xe(151));for(var I=N=null,P=x,E=x=0,k=null,D=_.next();P!==null&&!D.done;E++,D=_.next()){P.index>E?(k=P,P=null):k=P.sibling;var C=p(y,P,D.value,A);if(C===null){P===null&&(P=k);break}t&&P&&C.alternate===null&&e(y,P),x=a(C,x,E),I===null?N=C:I.sibling=C,I=C,P=k}if(D.done)return r(y,P),Gn&&Wf(y,E),N;if(P===null){for(;!D.done;E++,D=_.next())D=h(y,D.value,A),D!==null&&(x=a(D,x,E),I===null?N=D:I.sibling=D,I=D);return Gn&&Wf(y,E),N}for(P=n(y,P);!D.done;E++,D=_.next())D=f(P,y,E,D.value,A),D!==null&&(t&&D.alternate!==null&&P.delete(D.key===null?E:D.key),x=a(D,x,E),I===null?N=D:I.sibling=D,I=D);return t&&P.forEach(function(O){return e(y,O)}),Gn&&Wf(y,E),N}function g(y,x,_,A){if(typeof _=="object"&&_!==null&&_.type===ug&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case kw:e:{for(var N=_.key,I=x;I!==null;){if(I.key===N){if(N=_.type,N===ug){if(I.tag===7){r(y,I.sibling),x=i(I,_.props.children),x.return=y,y=x;break e}}else if(I.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vd&&U6(N)===I.type){r(y,I.sibling),x=i(I,_.props),x.ref=x0(y,I,_),x.return=y,y=x;break e}r(y,I);break}else e(y,I);I=I.sibling}_.type===ug?(x=Ep(_.props.children,y.mode,A,_.key),x.return=y,y=x):(A=G2(_.type,_.key,_.props,null,y.mode,A),A.ref=x0(y,x,_),A.return=y,y=A)}return o(y);case cg:e:{for(I=_.key;x!==null;){if(x.key===I)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){r(y,x.sibling),x=i(x,_.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=zN(_,y.mode,A),x.return=y,y=x}return o(y);case Vd:return I=_._init,g(y,x,I(_._payload),A)}if(z0(_))return v(y,x,_,A);if(m0(_))return m(y,x,_,A);Vw(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,_),x.return=y,y=x):(r(y,x),x=VN(_,y.mode,A),x.return=y,y=x),o(y)):r(y,x)}return g}var gv=pz(!0),mz=pz(!1),L_=lf(null),M_=null,yg=null,vI=null;function yI(){vI=yg=M_=null}function bI(t){var e=L_.current;qn(L_),t._currentValue=e}function gj(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ig(t,e){M_=t,vI=yg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_o=!0),t.firstContext=null)}function Hs(t){var e=t._currentValue;if(vI!==t)if(t={context:t,memoizedValue:e,next:null},yg===null){if(M_===null)throw Error(Xe(308));yg=t,M_.dependencies={lanes:0,firstContext:t}}else yg=yg.next=t;return e}var ap=null;function xI(t){ap===null?ap=[t]:ap.push(t)}function gz(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,xI(e)):(r.next=i.next,i.next=r),e.interleaved=r,Fu(t,n)}function Fu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zd=!1;function wI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vz(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _h(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Br&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Fu(t,r)}return i=n.interleaved,i===null?(e.next=e,xI(n)):(e.next=i.next,i.next=e),n.interleaved=e,Fu(t,r)}function U2(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,oI(t,r)}}function V6(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function $_(t,e,r,n){var i=t.updateQueue;zd=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;o=0,d=c=l=null,s=a;do{var p=s.lane,f=s.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,m=s;switch(p=e,f=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=ei({},h,p);break e;case 2:zd=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=f,l=h):d=d.next=f,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Lp|=o,t.lanes=o,t.memoizedState=h}}function z6(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Xe(191,i));i.call(n)}}}var _x={},bc=lf(_x),X1=lf(_x),Q1=lf(_x);function op(t){if(t===_x)throw Error(Xe(174));return t}function _I(t,e){switch(kn(Q1,e),kn(X1,t),kn(bc,_x),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:XT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=XT(e,t)}qn(bc),kn(bc,e)}function vv(){qn(bc),qn(X1),qn(Q1)}function yz(t){op(Q1.current);var e=op(bc.current),r=XT(e,t.type);e!==r&&(kn(X1,t),kn(bc,r))}function SI(t){X1.current===t&&(qn(bc),qn(X1))}var Xn=lf(0);function F_(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var LN=[];function AI(){for(var t=0;t<LN.length;t++)LN[t]._workInProgressVersionPrimary=null;LN.length=0}var V2=Qu.ReactCurrentDispatcher,MN=Qu.ReactCurrentBatchConfig,Dp=0,Zn=null,Fi=null,Qi=null,B_=!1,d1=!1,J1=0,Jae=0;function xa(){throw Error(Xe(321))}function EI(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Al(t[r],e[r]))return!1;return!0}function NI(t,e,r,n,i,a){if(Dp=a,Zn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,V2.current=t===null||t.memoizedState===null?roe:noe,t=r(n,i),d1){a=0;do{if(d1=!1,J1=0,25<=a)throw Error(Xe(301));a+=1,Qi=Fi=null,e.updateQueue=null,V2.current=ioe,t=r(n,i)}while(d1)}if(V2.current=U_,e=Fi!==null&&Fi.next!==null,Dp=0,Qi=Fi=Zn=null,B_=!1,e)throw Error(Xe(300));return t}function PI(){var t=J1!==0;return J1=0,t}function tc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qi===null?Zn.memoizedState=Qi=t:Qi=Qi.next=t,Qi}function Gs(){if(Fi===null){var t=Zn.alternate;t=t!==null?t.memoizedState:null}else t=Fi.next;var e=Qi===null?Zn.memoizedState:Qi.next;if(e!==null)Qi=e,Fi=t;else{if(t===null)throw Error(Xe(310));Fi=t,t={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},Qi===null?Zn.memoizedState=Qi=t:Qi=Qi.next=t}return Qi}function Z1(t,e){return typeof e=="function"?e(t):e}function $N(t){var e=Gs(),r=e.queue;if(r===null)throw Error(Xe(311));r.lastRenderedReducer=t;var n=Fi,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var d=c.lane;if((Dp&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=h,o=n):l=l.next=h,Zn.lanes|=d,Lp|=d}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,Al(n,e.memoizedState)||(_o=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Zn.lanes|=a,Lp|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function FN(t){var e=Gs(),r=e.queue;if(r===null)throw Error(Xe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Al(a,e.memoizedState)||(_o=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function bz(){}function xz(t,e){var r=Zn,n=Gs(),i=e(),a=!Al(n.memoizedState,i);if(a&&(n.memoizedState=i,_o=!0),n=n.queue,TI(Sz.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Qi!==null&&Qi.memoizedState.tag&1){if(r.flags|=2048,eb(9,_z.bind(null,r,n,i,e),void 0,null),ea===null)throw Error(Xe(349));Dp&30||wz(r,e,i)}return i}function wz(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Zn.updateQueue,e===null?(e={lastEffect:null,stores:null},Zn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _z(t,e,r,n){e.value=r,e.getSnapshot=n,Az(e)&&Ez(t)}function Sz(t,e,r){return r(function(){Az(e)&&Ez(t)})}function Az(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Al(t,r)}catch{return!0}}function Ez(t){var e=Fu(t,1);e!==null&&xl(e,t,1,-1)}function q6(t){var e=tc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Z1,lastRenderedState:t},e.queue=t,t=t.dispatch=toe.bind(null,Zn,t),[e.memoizedState,t]}function eb(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Zn.updateQueue,e===null?(e={lastEffect:null,stores:null},Zn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Nz(){return Gs().memoizedState}function z2(t,e,r,n){var i=tc();Zn.flags|=t,i.memoizedState=eb(1|e,r,void 0,n===void 0?null:n)}function z5(t,e,r,n){var i=Gs();n=n===void 0?null:n;var a=void 0;if(Fi!==null){var o=Fi.memoizedState;if(a=o.destroy,n!==null&&EI(n,o.deps)){i.memoizedState=eb(e,r,a,n);return}}Zn.flags|=t,i.memoizedState=eb(1|e,r,a,n)}function W6(t,e){return z2(8390656,8,t,e)}function TI(t,e){return z5(2048,8,t,e)}function Pz(t,e){return z5(4,2,t,e)}function Tz(t,e){return z5(4,4,t,e)}function jz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cz(t,e,r){return r=r!=null?r.concat([t]):null,z5(4,4,jz.bind(null,e,t),r)}function jI(){}function kz(t,e){var r=Gs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&EI(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Iz(t,e){var r=Gs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&EI(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Oz(t,e,r){return Dp&21?(Al(r,e)||(r=$V(),Zn.lanes|=r,Lp|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_o=!0),t.memoizedState=r)}function Zae(t,e){var r=on;on=r!==0&&4>r?r:4,t(!0);var n=MN.transition;MN.transition={};try{t(!1),e()}finally{on=r,MN.transition=n}}function Rz(){return Gs().memoizedState}function eoe(t,e,r){var n=Ah(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Dz(t))Lz(e,r);else if(r=gz(t,e,r,n),r!==null){var i=io();xl(r,t,n,i),Mz(r,e,n)}}function toe(t,e,r){var n=Ah(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dz(t))Lz(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Al(s,o)){var l=e.interleaved;l===null?(i.next=i,xI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=gz(t,e,i,n),r!==null&&(i=io(),xl(r,t,n,i),Mz(r,e,n))}}function Dz(t){var e=t.alternate;return t===Zn||e!==null&&e===Zn}function Lz(t,e){d1=B_=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Mz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,oI(t,r)}}var U_={readContext:Hs,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},roe={readContext:Hs,useCallback:function(t,e){return tc().memoizedState=[t,e===void 0?null:e],t},useContext:Hs,useEffect:W6,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,z2(4194308,4,jz.bind(null,e,t),r)},useLayoutEffect:function(t,e){return z2(4194308,4,t,e)},useInsertionEffect:function(t,e){return z2(4,2,t,e)},useMemo:function(t,e){var r=tc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=tc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=eoe.bind(null,Zn,t),[n.memoizedState,t]},useRef:function(t){var e=tc();return t={current:t},e.memoizedState=t},useState:q6,useDebugValue:jI,useDeferredValue:function(t){return tc().memoizedState=t},useTransition:function(){var t=q6(!1),e=t[0];return t=Zae.bind(null,t[1]),tc().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Zn,i=tc();if(Gn){if(r===void 0)throw Error(Xe(407));r=r()}else{if(r=e(),ea===null)throw Error(Xe(349));Dp&30||wz(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,W6(Sz.bind(null,n,a,t),[t]),n.flags|=2048,eb(9,_z.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=tc(),e=ea.identifierPrefix;if(Gn){var r=wu,n=xu;r=(n&~(1<<32-bl(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=J1++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Jae++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},noe={readContext:Hs,useCallback:kz,useContext:Hs,useEffect:TI,useImperativeHandle:Cz,useInsertionEffect:Pz,useLayoutEffect:Tz,useMemo:Iz,useReducer:$N,useRef:Nz,useState:function(){return $N(Z1)},useDebugValue:jI,useDeferredValue:function(t){var e=Gs();return Oz(e,Fi.memoizedState,t)},useTransition:function(){var t=$N(Z1)[0],e=Gs().memoizedState;return[t,e]},useMutableSource:bz,useSyncExternalStore:xz,useId:Rz,unstable_isNewReconciler:!1},ioe={readContext:Hs,useCallback:kz,useContext:Hs,useEffect:TI,useImperativeHandle:Cz,useInsertionEffect:Pz,useLayoutEffect:Tz,useMemo:Iz,useReducer:FN,useRef:Nz,useState:function(){return FN(Z1)},useDebugValue:jI,useDeferredValue:function(t){var e=Gs();return Fi===null?e.memoizedState=t:Oz(e,Fi.memoizedState,t)},useTransition:function(){var t=FN(Z1)[0],e=Gs().memoizedState;return[t,e]},useMutableSource:bz,useSyncExternalStore:xz,useId:Rz,unstable_isNewReconciler:!1};function ul(t,e){if(t&&t.defaultProps){e=ei({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function vj(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ei({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var q5={isMounted:function(t){return(t=t._reactInternals)?dm(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=io(),i=Ah(t),a=Pu(n,i);a.payload=e,r!=null&&(a.callback=r),e=_h(t,a,i),e!==null&&(xl(e,t,i,n),U2(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=io(),i=Ah(t),a=Pu(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=_h(t,a,i),e!==null&&(xl(e,t,i,n),U2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=io(),n=Ah(t),i=Pu(r,n);i.tag=2,e!=null&&(i.callback=e),e=_h(t,i,n),e!==null&&(xl(e,t,n,r),U2(e,t,n))}};function H6(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!H1(r,n)||!H1(i,a):!0}function $z(t,e,r){var n=!1,i=Bh,a=e.contextType;return typeof a=="object"&&a!==null?a=Hs(a):(i=To(e)?Op:La.current,n=e.contextTypes,a=(n=n!=null)?pv(t,i):Bh),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=q5,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function G6(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&q5.enqueueReplaceState(e,e.state,null)}function yj(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},wI(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Hs(a):(a=To(e)?Op:La.current,i.context=pv(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(vj(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&q5.enqueueReplaceState(i,i.state,null),$_(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yv(t,e){try{var r="",n=e;do r+=Iie(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function BN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function bj(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var aoe=typeof WeakMap=="function"?WeakMap:Map;function Fz(t,e,r){r=Pu(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){z_||(z_=!0,jj=n),bj(t,e)},r}function Bz(t,e,r){r=Pu(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){bj(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){bj(t,e),typeof n!="function"&&(Sh===null?Sh=new Set([this]):Sh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function K6(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new aoe;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=boe.bind(null,t,e,r),e.then(t,t))}function Y6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function X6(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Pu(-1,1),e.tag=2,_h(r,e,1))),r.lanes|=1),t)}var ooe=Qu.ReactCurrentOwner,_o=!1;function Ka(t,e,r,n){e.child=t===null?mz(e,null,r,n):gv(e,t.child,r,n)}function Q6(t,e,r,n,i){r=r.render;var a=e.ref;return Ig(e,i),n=NI(t,e,r,n,a,i),r=PI(),t!==null&&!_o?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bu(t,e,i)):(Gn&&r&&pI(e),e.flags|=1,Ka(t,e,n,i),e.child)}function J6(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!MI(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Uz(t,e,a,n,i)):(t=G2(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:H1,r(o,n)&&t.ref===e.ref)return Bu(t,e,i)}return e.flags|=1,t=Eh(a,n),t.ref=e.ref,t.return=e,e.child=t}function Uz(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(H1(a,n)&&t.ref===e.ref)if(_o=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(_o=!0);else return e.lanes=t.lanes,Bu(t,e,i)}return xj(t,e,r,n,i)}function Vz(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(xg,Ko),Ko|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kn(xg,Ko),Ko|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,kn(xg,Ko),Ko|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,kn(xg,Ko),Ko|=n;return Ka(t,e,i,r),e.child}function zz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xj(t,e,r,n,i){var a=To(r)?Op:La.current;return a=pv(e,a),Ig(e,i),r=NI(t,e,r,n,a,i),n=PI(),t!==null&&!_o?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bu(t,e,i)):(Gn&&n&&pI(e),e.flags|=1,Ka(t,e,r,i),e.child)}function Z6(t,e,r,n,i){if(To(r)){var a=!0;O_(e)}else a=!1;if(Ig(e,i),e.stateNode===null)q2(t,e),$z(e,r,n),yj(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Hs(c):(c=To(r)?Op:La.current,c=pv(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&G6(e,o,n,c),zd=!1;var p=e.memoizedState;o.state=p,$_(e,n,o,i),l=e.memoizedState,s!==n||p!==l||Po.current||zd?(typeof d=="function"&&(vj(e,r,d,n),l=e.memoizedState),(s=zd||H6(e,r,s,n,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,vz(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ul(e.type,s),o.props=c,h=e.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Hs(l):(l=To(r)?Op:La.current,l=pv(e,l));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==h||p!==l)&&G6(e,o,n,l),zd=!1,p=e.memoizedState,o.state=p,$_(e,n,o,i);var v=e.memoizedState;s!==h||p!==v||Po.current||zd?(typeof f=="function"&&(vj(e,r,f,n),v=e.memoizedState),(c=zd||H6(e,r,c,n,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return wj(t,e,r,n,a,i)}function wj(t,e,r,n,i,a){zz(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&$6(e,r,!1),Bu(t,e,a);n=e.stateNode,ooe.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=gv(e,t.child,null,a),e.child=gv(e,null,s,a)):Ka(t,e,s,a),e.memoizedState=n.state,i&&$6(e,r,!0),e.child}function qz(t){var e=t.stateNode;e.pendingContext?M6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M6(t,e.context,!1),_I(t,e.containerInfo)}function eL(t,e,r,n,i){return mv(),gI(i),e.flags|=256,Ka(t,e,r,n),e.child}var _j={dehydrated:null,treeContext:null,retryLane:0};function Sj(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wz(t,e,r){var n=e.pendingProps,i=Xn.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kn(Xn,i&1),t===null)return mj(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=G5(o,n,0,null),t=Ep(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Sj(r),e.memoizedState=_j,t):CI(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return soe(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Eh(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Eh(s,a):(a=Ep(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Sj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=_j,n}return a=t.child,t=a.sibling,n=Eh(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function CI(t,e){return e=G5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zw(t,e,r,n){return n!==null&&gI(n),gv(e,t.child,null,r),t=CI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function soe(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=BN(Error(Xe(422))),zw(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=G5({mode:"visible",children:n.children},i,0,null),a=Ep(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&gv(e,t.child,null,o),e.child.memoizedState=Sj(o),e.memoizedState=_j,a);if(!(e.mode&1))return zw(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(Xe(419)),n=BN(a,n,void 0),zw(t,e,o,n)}if(s=(o&t.childLanes)!==0,_o||s){if(n=ea,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Fu(t,i),xl(n,t,i,-1))}return LI(),n=BN(Error(Xe(421))),zw(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xoe.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Jo=wh(i.nextSibling),ns=e,Gn=!0,gl=null,t!==null&&(Cs[ks++]=xu,Cs[ks++]=wu,Cs[ks++]=Rp,xu=t.id,wu=t.overflow,Rp=e),e=CI(e,n.children),e.flags|=4096,e)}function tL(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),gj(t.return,e,r)}function UN(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Hz(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ka(t,e,n.children,r),n=Xn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tL(t,r,e);else if(t.tag===19)tL(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(kn(Xn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&F_(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),UN(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&F_(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}UN(e,!0,r,null,a);break;case"together":UN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function q2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Lp|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Xe(153));if(e.child!==null){for(t=e.child,r=Eh(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Eh(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function loe(t,e,r){switch(e.tag){case 3:qz(e),mv();break;case 5:yz(e);break;case 1:To(e.type)&&O_(e);break;case 4:_I(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;kn(L_,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(kn(Xn,Xn.current&1),e.flags|=128,null):r&e.child.childLanes?Wz(t,e,r):(kn(Xn,Xn.current&1),t=Bu(t,e,r),t!==null?t.sibling:null);kn(Xn,Xn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Hz(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kn(Xn,Xn.current),n)break;return null;case 22:case 23:return e.lanes=0,Vz(t,e,r)}return Bu(t,e,r)}var Gz,Aj,Kz,Yz;Gz=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Aj=function(){};Kz=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,op(bc.current);var a=null;switch(r){case"input":i=HT(t,i),n=HT(t,n),a=[];break;case"select":i=ei({},i,{value:void 0}),n=ei({},n,{value:void 0}),a=[];break;case"textarea":i=YT(t,i),n=YT(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=k_)}QT(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(F1.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(F1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fn("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};Yz=function(t,e,r,n){r!==n&&(e.flags|=4)};function w0(t,e){if(!Gn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wa(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function coe(t,e,r){var n=e.pendingProps;switch(mI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wa(e),null;case 1:return To(e.type)&&I_(),wa(e),null;case 3:return n=e.stateNode,vv(),qn(Po),qn(La),AI(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Uw(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gl!==null&&(Ij(gl),gl=null))),Aj(t,e),wa(e),null;case 5:SI(e);var i=op(Q1.current);if(r=e.type,t!==null&&e.stateNode!=null)Kz(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Xe(166));return wa(e),null}if(t=op(bc.current),Uw(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[cc]=e,n[Y1]=a,t=(e.mode&1)!==0,r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(i=0;i<W0.length;i++)Fn(W0[i],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":u6(n,a),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Fn("invalid",n);break;case"textarea":h6(n,a),Fn("invalid",n)}QT(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Bw(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Bw(n.textContent,s,t),i=["children",""+s]):F1.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Fn("scroll",n)}switch(r){case"input":Iw(n),d6(n,a,!0);break;case"textarea":Iw(n),f6(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=k_)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=SV(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[cc]=e,t[Y1]=n,Gz(t,e,!1,!1),e.stateNode=t;e:{switch(o=JT(r,n),r){case"dialog":Fn("cancel",t),Fn("close",t),i=n;break;case"iframe":case"object":case"embed":Fn("load",t),i=n;break;case"video":case"audio":for(i=0;i<W0.length;i++)Fn(W0[i],t);i=n;break;case"source":Fn("error",t),i=n;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),i=n;break;case"details":Fn("toggle",t),i=n;break;case"input":u6(t,n),i=HT(t,n),Fn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ei({},n,{value:void 0}),Fn("invalid",t);break;case"textarea":h6(t,n),i=YT(t,n),Fn("invalid",t);break;default:i=n}QT(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?NV(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AV(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&B1(t,l):typeof l=="number"&&B1(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(F1.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Fn("scroll",t):l!=null&&eI(t,a,l,o))}switch(r){case"input":Iw(t),d6(t,n,!1);break;case"textarea":Iw(t),f6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Fh(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Tg(t,!!n.multiple,a,!1):n.defaultValue!=null&&Tg(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=k_)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wa(e),null;case 6:if(t&&e.stateNode!=null)Yz(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Xe(166));if(r=op(Q1.current),op(bc.current),Uw(e)){if(n=e.stateNode,r=e.memoizedProps,n[cc]=e,(a=n.nodeValue!==r)&&(t=ns,t!==null))switch(t.tag){case 3:Bw(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bw(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cc]=e,e.stateNode=n}return wa(e),null;case 13:if(qn(Xn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gn&&Jo!==null&&e.mode&1&&!(e.flags&128))fz(),mv(),e.flags|=98560,a=!1;else if(a=Uw(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Xe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Xe(317));a[cc]=e}else mv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wa(e),a=!1}else gl!==null&&(Ij(gl),gl=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Xn.current&1?Ui===0&&(Ui=3):LI())),e.updateQueue!==null&&(e.flags|=4),wa(e),null);case 4:return vv(),Aj(t,e),t===null&&G1(e.stateNode.containerInfo),wa(e),null;case 10:return bI(e.type._context),wa(e),null;case 17:return To(e.type)&&I_(),wa(e),null;case 19:if(qn(Xn),a=e.memoizedState,a===null)return wa(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)w0(a,!1);else{if(Ui!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=F_(t),o!==null){for(e.flags|=128,w0(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return kn(Xn,Xn.current&1|2),e.child}t=t.sibling}a.tail!==null&&gi()>bv&&(e.flags|=128,n=!0,w0(a,!1),e.lanes=4194304)}else{if(!n)if(t=F_(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),w0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Gn)return wa(e),null}else 2*gi()-a.renderingStartTime>bv&&r!==1073741824&&(e.flags|=128,n=!0,w0(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=gi(),e.sibling=null,r=Xn.current,kn(Xn,n?r&1|2:r&1),e):(wa(e),null);case 22:case 23:return DI(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ko&1073741824&&(wa(e),e.subtreeFlags&6&&(e.flags|=8192)):wa(e),null;case 24:return null;case 25:return null}throw Error(Xe(156,e.tag))}function uoe(t,e){switch(mI(e),e.tag){case 1:return To(e.type)&&I_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vv(),qn(Po),qn(La),AI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return SI(e),null;case 13:if(qn(Xn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Xe(340));mv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qn(Xn),null;case 4:return vv(),null;case 10:return bI(e.type._context),null;case 22:case 23:return DI(),null;case 24:return null;default:return null}}var qw=!1,ka=!1,doe=typeof WeakSet=="function"?WeakSet:Set,ht=null;function bg(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){si(t,e,n)}else r.current=null}function Ej(t,e,r){try{r()}catch(n){si(t,e,n)}}var rL=!1;function hoe(t,e){if(lj=T_,t=ez(),fI(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(s=o+i),h!==a||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===r&&++c===i&&(s=o),p===a&&++d===n&&(l=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(cj={focusedElem:t,selectionRange:r},T_=!1,ht=e;ht!==null;)if(e=ht,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ht=t;else for(;ht!==null;){e=ht;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,g=v.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ul(e.type,m),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Xe(163))}}catch(A){si(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ht=t;break}ht=e.return}return v=rL,rL=!1,v}function h1(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ej(e,r,a)}i=i.next}while(i!==n)}}function W5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Nj(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Xz(t){var e=t.alternate;e!==null&&(t.alternate=null,Xz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cc],delete e[Y1],delete e[hj],delete e[Kae],delete e[Yae])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qz(t){return t.tag===5||t.tag===3||t.tag===4}function nL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pj(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=k_));else if(n!==4&&(t=t.child,t!==null))for(Pj(t,e,r),t=t.sibling;t!==null;)Pj(t,e,r),t=t.sibling}function Tj(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Tj(t,e,r),t=t.sibling;t!==null;)Tj(t,e,r),t=t.sibling}var la=null,fl=!1;function kd(t,e,r){for(r=r.child;r!==null;)Jz(t,e,r),r=r.sibling}function Jz(t,e,r){if(yc&&typeof yc.onCommitFiberUnmount=="function")try{yc.onCommitFiberUnmount(M5,r)}catch{}switch(r.tag){case 5:ka||bg(r,e);case 6:var n=la,i=fl;la=null,kd(t,e,r),la=n,fl=i,la!==null&&(fl?(t=la,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):la.removeChild(r.stateNode));break;case 18:la!==null&&(fl?(t=la,r=r.stateNode,t.nodeType===8?RN(t.parentNode,r):t.nodeType===1&&RN(t,r),q1(t)):RN(la,r.stateNode));break;case 4:n=la,i=fl,la=r.stateNode.containerInfo,fl=!0,kd(t,e,r),la=n,fl=i;break;case 0:case 11:case 14:case 15:if(!ka&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ej(r,e,o),i=i.next}while(i!==n)}kd(t,e,r);break;case 1:if(!ka&&(bg(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){si(r,e,s)}kd(t,e,r);break;case 21:kd(t,e,r);break;case 22:r.mode&1?(ka=(n=ka)||r.memoizedState!==null,kd(t,e,r),ka=n):kd(t,e,r);break;default:kd(t,e,r)}}function iL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new doe),e.forEach(function(n){var i=woe.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function al(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:la=s.stateNode,fl=!1;break e;case 3:la=s.stateNode.containerInfo,fl=!0;break e;case 4:la=s.stateNode.containerInfo,fl=!0;break e}s=s.return}if(la===null)throw Error(Xe(160));Jz(a,o,i),la=null,fl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){si(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zz(e,t),e=e.sibling}function Zz(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(al(e,t),Ql(t),n&4){try{h1(3,t,t.return),W5(3,t)}catch(m){si(t,t.return,m)}try{h1(5,t,t.return)}catch(m){si(t,t.return,m)}}break;case 1:al(e,t),Ql(t),n&512&&r!==null&&bg(r,r.return);break;case 5:if(al(e,t),Ql(t),n&512&&r!==null&&bg(r,r.return),t.flags&32){var i=t.stateNode;try{B1(i,"")}catch(m){si(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&wV(i,a),JT(s,o);var c=JT(s,a);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?NV(i,h):d==="dangerouslySetInnerHTML"?AV(i,h):d==="children"?B1(i,h):eI(i,d,h,c)}switch(s){case"input":GT(i,a);break;case"textarea":_V(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Tg(i,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?Tg(i,!!a.multiple,a.defaultValue,!0):Tg(i,!!a.multiple,a.multiple?[]:"",!1))}i[Y1]=a}catch(m){si(t,t.return,m)}}break;case 6:if(al(e,t),Ql(t),n&4){if(t.stateNode===null)throw Error(Xe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){si(t,t.return,m)}}break;case 3:if(al(e,t),Ql(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{q1(e.containerInfo)}catch(m){si(t,t.return,m)}break;case 4:al(e,t),Ql(t);break;case 13:al(e,t),Ql(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(OI=gi())),n&4&&iL(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ka=(c=ka)||d,al(e,t),ka=c):al(e,t),Ql(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ht=t,d=t.child;d!==null;){for(h=ht=d;ht!==null;){switch(p=ht,f=p.child,p.tag){case 0:case 11:case 14:case 15:h1(4,p,p.return);break;case 1:bg(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){si(n,r,m)}}break;case 5:bg(p,p.return);break;case 22:if(p.memoizedState!==null){oL(h);continue}}f!==null?(f.return=p,ht=f):oL(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=EV("display",o))}catch(m){si(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){si(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:al(e,t),Ql(t),n&4&&iL(t);break;case 21:break;default:al(e,t),Ql(t)}}function Ql(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Qz(r)){var n=r;break e}r=r.return}throw Error(Xe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(B1(i,""),n.flags&=-33);var a=nL(t);Tj(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=nL(t);Pj(t,s,o);break;default:throw Error(Xe(161))}}catch(l){si(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function foe(t,e,r){ht=t,eq(t)}function eq(t,e,r){for(var n=(t.mode&1)!==0;ht!==null;){var i=ht,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||qw;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||ka;s=qw;var c=ka;if(qw=o,(ka=l)&&!c)for(ht=i;ht!==null;)o=ht,l=o.child,o.tag===22&&o.memoizedState!==null?sL(i):l!==null?(l.return=o,ht=l):sL(i);for(;a!==null;)ht=a,eq(a),a=a.sibling;ht=i,qw=s,ka=c}aL(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ht=a):aL(t)}}function aL(t){for(;ht!==null;){var e=ht;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ka||W5(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ka)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ul(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&z6(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}z6(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&q1(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Xe(163))}ka||e.flags&512&&Nj(e)}catch(p){si(e,e.return,p)}}if(e===t){ht=null;break}if(r=e.sibling,r!==null){r.return=e.return,ht=r;break}ht=e.return}}function oL(t){for(;ht!==null;){var e=ht;if(e===t){ht=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ht=r;break}ht=e.return}}function sL(t){for(;ht!==null;){var e=ht;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{W5(4,e)}catch(l){si(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){si(e,i,l)}}var a=e.return;try{Nj(e)}catch(l){si(e,a,l)}break;case 5:var o=e.return;try{Nj(e)}catch(l){si(e,o,l)}}}catch(l){si(e,e.return,l)}if(e===t){ht=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ht=s;break}ht=e.return}}var poe=Math.ceil,V_=Qu.ReactCurrentDispatcher,kI=Qu.ReactCurrentOwner,Bs=Qu.ReactCurrentBatchConfig,Br=0,ea=null,Ni=null,ha=0,Ko=0,xg=lf(0),Ui=0,tb=null,Lp=0,H5=0,II=0,f1=null,bo=null,OI=0,bv=1/0,hu=null,z_=!1,jj=null,Sh=null,Ww=!1,hh=null,q_=0,p1=0,Cj=null,W2=-1,H2=0;function io(){return Br&6?gi():W2!==-1?W2:W2=gi()}function Ah(t){return t.mode&1?Br&2&&ha!==0?ha&-ha:Qae.transition!==null?(H2===0&&(H2=$V()),H2):(t=on,t!==0||(t=window.event,t=t===void 0?16:WV(t.type)),t):1}function xl(t,e,r,n){if(50<p1)throw p1=0,Cj=null,Error(Xe(185));bx(t,r,n),(!(Br&2)||t!==ea)&&(t===ea&&(!(Br&2)&&(H5|=r),Ui===4&&Gd(t,ha)),jo(t,n),r===1&&Br===0&&!(e.mode&1)&&(bv=gi()+500,V5&&cf()))}function jo(t,e){var r=t.callbackNode;Qie(t,e);var n=P_(t,t===ea?ha:0);if(n===0)r!==null&&g6(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&g6(r),e===1)t.tag===0?Xae(lL.bind(null,t)):uz(lL.bind(null,t)),Hae(function(){!(Br&6)&&cf()}),r=null;else{switch(FV(n)){case 1:r=aI;break;case 4:r=LV;break;case 16:r=N_;break;case 536870912:r=MV;break;default:r=N_}r=lq(r,tq.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function tq(t,e){if(W2=-1,H2=0,Br&6)throw Error(Xe(327));var r=t.callbackNode;if(Og()&&t.callbackNode!==r)return null;var n=P_(t,t===ea?ha:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=W_(t,n);else{e=n;var i=Br;Br|=2;var a=nq();(ea!==t||ha!==e)&&(hu=null,bv=gi()+500,Ap(t,e));do try{voe();break}catch(s){rq(t,s)}while(!0);yI(),V_.current=a,Br=i,Ni!==null?e=0:(ea=null,ha=0,e=Ui)}if(e!==0){if(e===2&&(i=nj(t),i!==0&&(n=i,e=kj(t,i))),e===1)throw r=tb,Ap(t,0),Gd(t,n),jo(t,gi()),r;if(e===6)Gd(t,n);else{if(i=t.current.alternate,!(n&30)&&!moe(i)&&(e=W_(t,n),e===2&&(a=nj(t),a!==0&&(n=a,e=kj(t,a))),e===1))throw r=tb,Ap(t,0),Gd(t,n),jo(t,gi()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Xe(345));case 2:Hf(t,bo,hu);break;case 3:if(Gd(t,n),(n&130023424)===n&&(e=OI+500-gi(),10<e)){if(P_(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){io(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dj(Hf.bind(null,t,bo,hu),e);break}Hf(t,bo,hu);break;case 4:if(Gd(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-bl(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=gi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*poe(n/1960))-n,10<n){t.timeoutHandle=dj(Hf.bind(null,t,bo,hu),n);break}Hf(t,bo,hu);break;case 5:Hf(t,bo,hu);break;default:throw Error(Xe(329))}}}return jo(t,gi()),t.callbackNode===r?tq.bind(null,t):null}function kj(t,e){var r=f1;return t.current.memoizedState.isDehydrated&&(Ap(t,e).flags|=256),t=W_(t,e),t!==2&&(e=bo,bo=r,e!==null&&Ij(e)),t}function Ij(t){bo===null?bo=t:bo.push.apply(bo,t)}function moe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Al(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gd(t,e){for(e&=~II,e&=~H5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-bl(e),n=1<<r;t[r]=-1,e&=~n}}function lL(t){if(Br&6)throw Error(Xe(327));Og();var e=P_(t,0);if(!(e&1))return jo(t,gi()),null;var r=W_(t,e);if(t.tag!==0&&r===2){var n=nj(t);n!==0&&(e=n,r=kj(t,n))}if(r===1)throw r=tb,Ap(t,0),Gd(t,e),jo(t,gi()),r;if(r===6)throw Error(Xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hf(t,bo,hu),jo(t,gi()),null}function RI(t,e){var r=Br;Br|=1;try{return t(e)}finally{Br=r,Br===0&&(bv=gi()+500,V5&&cf())}}function Mp(t){hh!==null&&hh.tag===0&&!(Br&6)&&Og();var e=Br;Br|=1;var r=Bs.transition,n=on;try{if(Bs.transition=null,on=1,t)return t()}finally{on=n,Bs.transition=r,Br=e,!(Br&6)&&cf()}}function DI(){Ko=xg.current,qn(xg)}function Ap(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Wae(r)),Ni!==null)for(r=Ni.return;r!==null;){var n=r;switch(mI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&I_();break;case 3:vv(),qn(Po),qn(La),AI();break;case 5:SI(n);break;case 4:vv();break;case 13:qn(Xn);break;case 19:qn(Xn);break;case 10:bI(n.type._context);break;case 22:case 23:DI()}r=r.return}if(ea=t,Ni=t=Eh(t.current,null),ha=Ko=e,Ui=0,tb=null,II=H5=Lp=0,bo=f1=null,ap!==null){for(e=0;e<ap.length;e++)if(r=ap[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}ap=null}return t}function rq(t,e){do{var r=Ni;try{if(yI(),V2.current=U_,B_){for(var n=Zn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}B_=!1}if(Dp=0,Qi=Fi=Zn=null,d1=!1,J1=0,kI.current=null,r===null||r.return===null){Ui=1,tb=e,Ni=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=ha,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Y6(o);if(f!==null){f.flags&=-257,X6(f,o,s,a,e),f.mode&1&&K6(a,c,e),e=f,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){K6(a,c,e),LI();break e}l=Error(Xe(426))}}else if(Gn&&s.mode&1){var g=Y6(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),X6(g,o,s,a,e),gI(yv(l,s));break e}}a=l=yv(l,s),Ui!==4&&(Ui=2),f1===null?f1=[a]:f1.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=Fz(a,l,e);V6(a,y);break e;case 1:s=l;var x=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Sh===null||!Sh.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=Bz(a,s,e);V6(a,A);break e}}a=a.return}while(a!==null)}aq(r)}catch(N){e=N,Ni===r&&r!==null&&(Ni=r=r.return);continue}break}while(!0)}function nq(){var t=V_.current;return V_.current=U_,t===null?U_:t}function LI(){(Ui===0||Ui===3||Ui===2)&&(Ui=4),ea===null||!(Lp&268435455)&&!(H5&268435455)||Gd(ea,ha)}function W_(t,e){var r=Br;Br|=2;var n=nq();(ea!==t||ha!==e)&&(hu=null,Ap(t,e));do try{goe();break}catch(i){rq(t,i)}while(!0);if(yI(),Br=r,V_.current=n,Ni!==null)throw Error(Xe(261));return ea=null,ha=0,Ui}function goe(){for(;Ni!==null;)iq(Ni)}function voe(){for(;Ni!==null&&!Vie();)iq(Ni)}function iq(t){var e=sq(t.alternate,t,Ko);t.memoizedProps=t.pendingProps,e===null?aq(t):Ni=e,kI.current=null}function aq(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=uoe(r,e),r!==null){r.flags&=32767,Ni=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ui=6,Ni=null;return}}else if(r=coe(r,e,Ko),r!==null){Ni=r;return}if(e=e.sibling,e!==null){Ni=e;return}Ni=e=t}while(e!==null);Ui===0&&(Ui=5)}function Hf(t,e,r){var n=on,i=Bs.transition;try{Bs.transition=null,on=1,yoe(t,e,r,n)}finally{Bs.transition=i,on=n}return null}function yoe(t,e,r,n){do Og();while(hh!==null);if(Br&6)throw Error(Xe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Xe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Jie(t,a),t===ea&&(Ni=ea=null,ha=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ww||(Ww=!0,lq(N_,function(){return Og(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Bs.transition,Bs.transition=null;var o=on;on=1;var s=Br;Br|=4,kI.current=null,hoe(t,r),Zz(r,t),$ae(cj),T_=!!lj,cj=lj=null,t.current=r,foe(r),zie(),Br=s,on=o,Bs.transition=a}else t.current=r;if(Ww&&(Ww=!1,hh=t,q_=i),a=t.pendingLanes,a===0&&(Sh=null),Hie(r.stateNode),jo(t,gi()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(z_)throw z_=!1,t=jj,jj=null,t;return q_&1&&t.tag!==0&&Og(),a=t.pendingLanes,a&1?t===Cj?p1++:(p1=0,Cj=t):p1=0,cf(),null}function Og(){if(hh!==null){var t=FV(q_),e=Bs.transition,r=on;try{if(Bs.transition=null,on=16>t?16:t,hh===null)var n=!1;else{if(t=hh,hh=null,q_=0,Br&6)throw Error(Xe(331));var i=Br;for(Br|=4,ht=t.current;ht!==null;){var a=ht,o=a.child;if(ht.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ht=c;ht!==null;){var d=ht;switch(d.tag){case 0:case 11:case 15:h1(8,d,a)}var h=d.child;if(h!==null)h.return=d,ht=h;else for(;ht!==null;){d=ht;var p=d.sibling,f=d.return;if(Xz(d),d===c){ht=null;break}if(p!==null){p.return=f,ht=p;break}ht=f}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}ht=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ht=o;else e:for(;ht!==null;){if(a=ht,a.flags&2048)switch(a.tag){case 0:case 11:case 15:h1(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ht=y;break e}ht=a.return}}var x=t.current;for(ht=x;ht!==null;){o=ht;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ht=_;else e:for(o=x;ht!==null;){if(s=ht,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:W5(9,s)}}catch(N){si(s,s.return,N)}if(s===o){ht=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,ht=A;break e}ht=s.return}}if(Br=i,cf(),yc&&typeof yc.onPostCommitFiberRoot=="function")try{yc.onPostCommitFiberRoot(M5,t)}catch{}n=!0}return n}finally{on=r,Bs.transition=e}}return!1}function cL(t,e,r){e=yv(r,e),e=Fz(t,e,1),t=_h(t,e,1),e=io(),t!==null&&(bx(t,1,e),jo(t,e))}function si(t,e,r){if(t.tag===3)cL(t,t,r);else for(;e!==null;){if(e.tag===3){cL(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sh===null||!Sh.has(n))){t=yv(r,t),t=Bz(e,t,1),e=_h(e,t,1),t=io(),e!==null&&(bx(e,1,t),jo(e,t));break}}e=e.return}}function boe(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=io(),t.pingedLanes|=t.suspendedLanes&r,ea===t&&(ha&r)===r&&(Ui===4||Ui===3&&(ha&130023424)===ha&&500>gi()-OI?Ap(t,0):II|=r),jo(t,e)}function oq(t,e){e===0&&(t.mode&1?(e=Dw,Dw<<=1,!(Dw&130023424)&&(Dw=4194304)):e=1);var r=io();t=Fu(t,e),t!==null&&(bx(t,e,r),jo(t,r))}function xoe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),oq(t,r)}function woe(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Xe(314))}n!==null&&n.delete(e),oq(t,r)}var sq;sq=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Po.current)_o=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return _o=!1,loe(t,e,r);_o=!!(t.flags&131072)}else _o=!1,Gn&&e.flags&1048576&&dz(e,D_,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;q2(t,e),t=e.pendingProps;var i=pv(e,La.current);Ig(e,r),i=NI(null,e,n,t,i,r);var a=PI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,To(n)?(a=!0,O_(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wI(e),i.updater=q5,e.stateNode=i,i._reactInternals=e,yj(e,n,t,r),e=wj(null,e,n,!0,a,r)):(e.tag=0,Gn&&a&&pI(e),Ka(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(q2(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Soe(n),t=ul(n,t),i){case 0:e=xj(null,e,n,t,r);break e;case 1:e=Z6(null,e,n,t,r);break e;case 11:e=Q6(null,e,n,t,r);break e;case 14:e=J6(null,e,n,ul(n.type,t),r);break e}throw Error(Xe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ul(n,i),xj(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ul(n,i),Z6(t,e,n,i,r);case 3:e:{if(qz(e),t===null)throw Error(Xe(387));n=e.pendingProps,a=e.memoizedState,i=a.element,vz(t,e),$_(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=yv(Error(Xe(423)),e),e=eL(t,e,n,r,i);break e}else if(n!==i){i=yv(Error(Xe(424)),e),e=eL(t,e,n,r,i);break e}else for(Jo=wh(e.stateNode.containerInfo.firstChild),ns=e,Gn=!0,gl=null,r=mz(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mv(),n===i){e=Bu(t,e,r);break e}Ka(t,e,n,r)}e=e.child}return e;case 5:return yz(e),t===null&&mj(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,uj(n,i)?o=null:a!==null&&uj(n,a)&&(e.flags|=32),zz(t,e),Ka(t,e,o,r),e.child;case 6:return t===null&&mj(e),null;case 13:return Wz(t,e,r);case 4:return _I(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=gv(e,null,n,r):Ka(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ul(n,i),Q6(t,e,n,i,r);case 7:return Ka(t,e,e.pendingProps,r),e.child;case 8:return Ka(t,e,e.pendingProps.children,r),e.child;case 12:return Ka(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,kn(L_,n._currentValue),n._currentValue=o,a!==null)if(Al(a.value,o)){if(a.children===i.children&&!Po.current){e=Bu(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Pu(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),gj(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Xe(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),gj(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ka(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ig(e,r),i=Hs(i),n=n(i),e.flags|=1,Ka(t,e,n,r),e.child;case 14:return n=e.type,i=ul(n,e.pendingProps),i=ul(n.type,i),J6(t,e,n,i,r);case 15:return Uz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ul(n,i),q2(t,e),e.tag=1,To(n)?(t=!0,O_(e)):t=!1,Ig(e,r),$z(e,n,i),yj(e,n,i,r),wj(null,e,n,!0,t,r);case 19:return Hz(t,e,r);case 22:return Vz(t,e,r)}throw Error(Xe(156,e.tag))};function lq(t,e){return DV(t,e)}function _oe(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(t,e,r,n){return new _oe(t,e,r,n)}function MI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Soe(t){if(typeof t=="function")return MI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rI)return 11;if(t===nI)return 14}return 2}function Eh(t,e){var r=t.alternate;return r===null?(r=$s(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function G2(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")MI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ug:return Ep(r.children,i,a,e);case tI:o=8,i|=8;break;case VT:return t=$s(12,r,e,i|2),t.elementType=VT,t.lanes=a,t;case zT:return t=$s(13,r,e,i),t.elementType=zT,t.lanes=a,t;case qT:return t=$s(19,r,e,i),t.elementType=qT,t.lanes=a,t;case yV:return G5(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gV:o=10;break e;case vV:o=9;break e;case rI:o=11;break e;case nI:o=14;break e;case Vd:o=16,n=null;break e}throw Error(Xe(130,t==null?t:typeof t,""))}return e=$s(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ep(t,e,r,n){return t=$s(7,t,n,e),t.lanes=r,t}function G5(t,e,r,n){return t=$s(22,t,n,e),t.elementType=yV,t.lanes=r,t.stateNode={isHidden:!1},t}function VN(t,e,r){return t=$s(6,t,null,e),t.lanes=r,t}function zN(t,e,r){return e=$s(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Aoe(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SN(0),this.expirationTimes=SN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SN(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $I(t,e,r,n,i,a,o,s,l){return t=new Aoe(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=$s(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wI(a),t}function Eoe(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cg,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function cq(t){if(!t)return Bh;t=t._reactInternals;e:{if(dm(t)!==t||t.tag!==1)throw Error(Xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(To(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Xe(171))}if(t.tag===1){var r=t.type;if(To(r))return cz(t,r,e)}return e}function uq(t,e,r,n,i,a,o,s,l){return t=$I(r,n,!0,t,i,a,o,s,l),t.context=cq(null),r=t.current,n=io(),i=Ah(r),a=Pu(n,i),a.callback=e??null,_h(r,a,i),t.current.lanes=i,bx(t,i,n),jo(t,n),t}function K5(t,e,r,n){var i=e.current,a=io(),o=Ah(i);return r=cq(r),e.context===null?e.context=r:e.pendingContext=r,e=Pu(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=_h(i,e,o),t!==null&&(xl(t,i,o,a),U2(t,i,o)),o}function H_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function FI(t,e){uL(t,e),(t=t.alternate)&&uL(t,e)}function Noe(){return null}var dq=typeof reportError=="function"?reportError:function(t){console.error(t)};function BI(t){this._internalRoot=t}Y5.prototype.render=BI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Xe(409));K5(t,e,null,null)};Y5.prototype.unmount=BI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mp(function(){K5(null,t,null,null)}),e[$u]=null}};function Y5(t){this._internalRoot=t}Y5.prototype.unstable_scheduleHydration=function(t){if(t){var e=VV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Hd.length&&e!==0&&e<Hd[r].priority;r++);Hd.splice(r,0,t),r===0&&qV(t)}};function UI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function X5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dL(){}function Poe(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=H_(o);a.call(c)}}var o=uq(e,n,t,0,null,!1,!1,"",dL);return t._reactRootContainer=o,t[$u]=o.current,G1(t.nodeType===8?t.parentNode:t),Mp(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=H_(l);s.call(c)}}var l=$I(t,0,!1,null,null,!1,!1,"",dL);return t._reactRootContainer=l,t[$u]=l.current,G1(t.nodeType===8?t.parentNode:t),Mp(function(){K5(e,l,r,n)}),l}function Q5(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=H_(o);s.call(l)}}K5(e,o,t,i)}else o=Poe(r,e,t,i,n);return H_(o)}BV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=q0(e.pendingLanes);r!==0&&(oI(e,r|1),jo(e,gi()),!(Br&6)&&(bv=gi()+500,cf()))}break;case 13:Mp(function(){var n=Fu(t,1);if(n!==null){var i=io();xl(n,t,1,i)}}),FI(t,1)}};sI=function(t){if(t.tag===13){var e=Fu(t,134217728);if(e!==null){var r=io();xl(e,t,134217728,r)}FI(t,134217728)}};UV=function(t){if(t.tag===13){var e=Ah(t),r=Fu(t,e);if(r!==null){var n=io();xl(r,t,e,n)}FI(t,e)}};VV=function(){return on};zV=function(t,e){var r=on;try{return on=t,e()}finally{on=r}};ej=function(t,e,r){switch(e){case"input":if(GT(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=U5(n);if(!i)throw Error(Xe(90));xV(n),GT(n,i)}}}break;case"textarea":_V(t,r);break;case"select":e=r.value,e!=null&&Tg(t,!!r.multiple,e,!1)}};jV=RI;CV=Mp;var Toe={usingClientEntryPoint:!1,Events:[wx,pg,U5,PV,TV,RI]},_0={findFiberByHostInstance:ip,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},joe={bundleType:_0.bundleType,version:_0.version,rendererPackageName:_0.rendererPackageName,rendererConfig:_0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OV(t),t===null?null:t.stateNode},findFiberByHostInstance:_0.findFiberByHostInstance||Noe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hw.isDisabled&&Hw.supportsFiber)try{M5=Hw.inject(joe),yc=Hw}catch{}}cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Toe;cs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UI(e))throw Error(Xe(200));return Eoe(t,e,null,r)};cs.createRoot=function(t,e){if(!UI(t))throw Error(Xe(299));var r=!1,n="",i=dq;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$I(t,1,!1,null,null,r,!1,n,i),t[$u]=e.current,G1(t.nodeType===8?t.parentNode:t),new BI(e)};cs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Xe(188)):(t=Object.keys(t).join(","),Error(Xe(268,t)));return t=OV(e),t=t===null?null:t.stateNode,t};cs.flushSync=function(t){return Mp(t)};cs.hydrate=function(t,e,r){if(!X5(e))throw Error(Xe(200));return Q5(null,t,e,!0,r)};cs.hydrateRoot=function(t,e,r){if(!UI(t))throw Error(Xe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=dq;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=uq(e,null,t,1,r??null,i,!1,a,o),t[$u]=e.current,G1(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Y5(e)};cs.render=function(t,e,r){if(!X5(e))throw Error(Xe(200));return Q5(null,t,e,!1,r)};cs.unmountComponentAtNode=function(t){if(!X5(t))throw Error(Xe(40));return t._reactRootContainer?(Mp(function(){Q5(null,null,t,!1,function(){t._reactRootContainer=null,t[$u]=null})}),!0):!1};cs.unstable_batchedUpdates=RI;cs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!X5(r))throw Error(Xe(200));if(t==null||t._reactInternals===void 0)throw Error(Xe(38));return Q5(t,e,r,!1,n)};cs.version="18.3.1-next-f1338f8080-20240426";function hq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hq)}catch(t){console.error(t)}}hq(),hV.exports=cs;var hm=hV.exports;const fq=Qr(hm);var pq,hL=hm;pq=hL.createRoot,hL.hydrateRoot;const Coe=1,koe=1e6;let qN=0;function Ioe(){return qN=(qN+1)%Number.MAX_SAFE_INTEGER,qN.toString()}const WN=new Map,fL=t=>{if(WN.has(t))return;const e=setTimeout(()=>{WN.delete(t),m1({type:"REMOVE_TOAST",toastId:t})},koe);WN.set(t,e)},Ooe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Coe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?fL(r):t.toasts.forEach(n=>{fL(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},K2=[];let Y2={toasts:[]};function m1(t){Y2=Ooe(Y2,t),K2.forEach(e=>{e(Y2)})}function Roe({...t}){const e=Ioe(),r=i=>m1({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>m1({type:"DISMISS_TOAST",toastId:e});return m1({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Doe(){const[t,e]=j.useState(Y2);return j.useEffect(()=>(K2.push(e),()=>{const r=K2.indexOf(e);r>-1&&K2.splice(r,1)}),[t]),{...t,toast:Roe,dismiss:r=>m1({type:"DISMISS_TOAST",toastId:r})}}function jt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function pL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mq(...t){return e=>{let r=!1;const n=t.map(i=>{const a=pL(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():pL(t[i],null)}}}}function Or(...t){return j.useCallback(mq(...t),t)}function Loe(t,e){const r=j.createContext(e),n=a=>{const{children:o,...s}=a,l=j.useMemo(()=>s,Object.values(s));return u.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=j.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function ds(t,e=[]){let r=[];function n(a,o){const s=j.createContext(o),l=r.length;r=[...r,o];const c=h=>{var y;const{scope:p,children:f,...v}=h,m=((y=p==null?void 0:p[t])==null?void 0:y[l])||s,g=j.useMemo(()=>v,Object.values(v));return u.jsx(m.Provider,{value:g,children:f})};c.displayName=a+"Provider";function d(h,p){var m;const f=((m=p==null?void 0:p[t])==null?void 0:m[l])||s,v=j.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(o=>j.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return j.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Moe(i,...e)]}function Moe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const h=l(a)[`__scope${c}`];return{...s,...h}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function $p(t){const e=Foe(t),r=j.forwardRef((n,i)=>{const{children:a,...o}=n,s=j.Children.toArray(a),l=s.find(Boe);if(l){const c=l.props.children,d=s.map(h=>h===l?j.Children.count(c)>1?j.Children.only(null):j.isValidElement(c)?c.props.children:null:h);return u.jsx(e,{...o,ref:i,children:j.isValidElement(c)?j.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var $oe=$p("Slot");function Foe(t){const e=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const o=Voe(i),s=Uoe(a,i.props);return i.type!==j.Fragment&&(s.ref=n?mq(n,o):o),j.cloneElement(i,s)}return j.Children.count(i)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gq=Symbol("radix.slottable");function vq(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=gq,e}function Boe(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gq}function Uoe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{const l=a(...s);return i(...s),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Voe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function J5(t){const e=t+"CollectionProvider",[r,n]=ds(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,x=ue.useRef(null),_=ue.useRef(new Map).current;return u.jsx(i,{scope:g,itemMap:_,collectionRef:x,children:y})};o.displayName=e;const s=t+"CollectionSlot",l=$p(s),c=ue.forwardRef((m,g)=>{const{scope:y,children:x}=m,_=a(s,y),A=Or(g,_.collectionRef);return u.jsx(l,{ref:A,children:x})});c.displayName=s;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=$p(d),f=ue.forwardRef((m,g)=>{const{scope:y,children:x,..._}=m,A=ue.useRef(null),N=Or(g,A),I=a(d,y);return ue.useEffect(()=>(I.itemMap.set(A,{ref:A,..._}),()=>void I.itemMap.delete(A))),u.jsx(p,{[h]:"",ref:N,children:x})});f.displayName=d;function v(m){const g=a(t+"CollectionConsumer",m);return ue.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((I,P)=>_.indexOf(I.ref.current)-_.indexOf(P.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},v,n]}var zoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=zoe.reduce((t,e)=>{const r=$p(`Primitive.${e}`),n=j.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...s,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function yq(t,e){t&&hm.flushSync(()=>t.dispatchEvent(e))}function Ks(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function qoe(t,e=globalThis==null?void 0:globalThis.document){const r=Ks(t);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Woe="DismissableLayer",Oj="dismissableLayer.update",Hoe="dismissableLayer.pointerDownOutside",Goe="dismissableLayer.focusOutside",mL,bq=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),my=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,c=j.useContext(bq),[d,h]=j.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=j.useState({}),v=Or(e,P=>h(P)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),x=d?m.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,A=x>=y,N=Yoe(P=>{const E=P.target,k=[...c.branches].some(D=>D.contains(E));!A||k||(i==null||i(P),o==null||o(P),P.defaultPrevented||s==null||s())},p),I=Xoe(P=>{const E=P.target;[...c.branches].some(D=>D.contains(E))||(a==null||a(P),o==null||o(P),P.defaultPrevented||s==null||s())},p);return qoe(P=>{x===c.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&s&&(P.preventDefault(),s()))},p),j.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mL=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),gL(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=mL)}},[d,p,r,c]),j.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),gL())},[d,c]),j.useEffect(()=>{const P=()=>f({});return document.addEventListener(Oj,P),()=>document.removeEventListener(Oj,P)},[]),u.jsx(Wt.div,{...l,ref:v,style:{pointerEvents:_?A?"auto":"none":void 0,...t.style},onFocusCapture:jt(t.onFocusCapture,I.onFocusCapture),onBlurCapture:jt(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:jt(t.onPointerDownCapture,N.onPointerDownCapture)})});my.displayName=Woe;var Koe="DismissableLayerBranch",xq=j.forwardRef((t,e)=>{const r=j.useContext(bq),n=j.useRef(null),i=Or(e,n);return j.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),u.jsx(Wt.div,{...t,ref:i})});xq.displayName=Koe;function Yoe(t,e=globalThis==null?void 0:globalThis.document){const r=Ks(t),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){wq(Hoe,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Xoe(t,e=globalThis==null?void 0:globalThis.document){const r=Ks(t),n=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!n.current&&wq(Goe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gL(){const t=new CustomEvent(Oj);document.dispatchEvent(t)}function wq(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?yq(i,a):i.dispatchEvent(a)}var Qoe=my,Joe=xq,ta=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},Zoe="Portal",Sx=j.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=j.useState(!1);ta(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?fq.createPortal(u.jsx(Wt.div,{...n,ref:e}),o):null});Sx.displayName=Zoe;function ese(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var Dc=t=>{const{present:e,children:r}=t,n=tse(e),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),a=Or(n.ref,rse(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:a}):null};Dc.displayName="Presence";function tse(t){const[e,r]=j.useState(),n=j.useRef(null),i=j.useRef(t),a=j.useRef("none"),o=t?"mounted":"unmounted",[s,l]=ese(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const c=Gw(n.current);a.current=s==="mounted"?c:"none"},[s]),ta(()=>{const c=n.current,d=i.current;if(d!==t){const p=a.current,f=Gw(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ta(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=f=>{const m=Gw(n.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=f=>{f.target===e&&(a.current=Gw(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:j.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Gw(t){return(t==null?void 0:t.animationName)||"none"}function rse(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var nse=Q4[" useInsertionEffect ".trim().toString()]||ta;function El({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=ise({defaultProp:e,onChange:r}),s=t!==void 0,l=s?t:i;{const d=j.useRef(t!==void 0);j.useEffect(()=>{const h=d.current;h!==s&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const c=j.useCallback(d=>{var h;if(s){const p=ase(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else a(d)},[s,t,a,o]);return[l,c]}function ise({defaultProp:t,onChange:e}){const[r,n]=j.useState(t),i=j.useRef(r),a=j.useRef(e);return nse(()=>{a.current=e},[e]),j.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function ase(t){return typeof t=="function"}var _q=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ose="VisuallyHidden",Z5=j.forwardRef((t,e)=>u.jsx(Wt.span,{...t,ref:e,style:{..._q,...t.style}}));Z5.displayName=ose;var sse=Z5,VI="ToastProvider",[zI,lse,cse]=J5("Toast"),[Sq,BJe]=ds("Toast",[cse]),[use,eA]=Sq(VI),Aq=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[s,l]=j.useState(null),[c,d]=j.useState(0),h=j.useRef(!1),p=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${VI}\`. Expected non-empty \`string\`.`),u.jsx(zI.Provider,{scope:e,children:u.jsx(use,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:j.useCallback(()=>d(f=>f+1),[]),onToastRemove:j.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};Aq.displayName=VI;var Eq="ToastViewport",dse=["F8"],Rj="toast.viewportPause",Dj="toast.viewportResume",Nq=j.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=dse,label:i="Notifications ({hotkey})",...a}=t,o=eA(Eq,r),s=lse(r),l=j.useRef(null),c=j.useRef(null),d=j.useRef(null),h=j.useRef(null),p=Or(e,h,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;j.useEffect(()=>{const g=y=>{var _;n.length!==0&&n.every(A=>y[A]||y.code===A)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),j.useEffect(()=>{const g=l.current,y=h.current;if(v&&g&&y){const x=()=>{if(!o.isClosePausedRef.current){const I=new CustomEvent(Rj);y.dispatchEvent(I),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const I=new CustomEvent(Dj);y.dispatchEvent(I),o.isClosePausedRef.current=!1}},A=I=>{!g.contains(I.relatedTarget)&&_()},N=()=>{g.contains(document.activeElement)||_()};return g.addEventListener("focusin",x),g.addEventListener("focusout",A),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",A),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[v,o.isClosePausedRef]);const m=j.useCallback(({tabbingDirection:g})=>{const x=s().map(_=>{const A=_.ref.current,N=[A,...Ase(A)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?x.reverse():x).flat()},[s]);return j.useEffect(()=>{const g=h.current;if(g){const y=x=>{var N,I,P;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const E=document.activeElement,k=x.shiftKey;if(x.target===g&&k){(N=c.current)==null||N.focus();return}const O=m({tabbingDirection:k?"backwards":"forwards"}),L=O.findIndex(z=>z===E);HN(O.slice(L+1))?x.preventDefault():k?(I=c.current)==null||I.focus():(P=d.current)==null||P.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[s,m]),u.jsxs(Joe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(Lj,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});HN(g)}}),u.jsx(zI.Slot,{scope:r,children:u.jsx(Wt.ol,{tabIndex:-1,...a,ref:p})}),v&&u.jsx(Lj,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});HN(g)}})]})});Nq.displayName=Eq;var Pq="ToastFocusProxy",Lj=j.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=eA(Pq,r);return u.jsx(Z5,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const s=o.relatedTarget;!((c=a.viewport)!=null&&c.contains(s))&&n()}})});Lj.displayName=Pq;var Ax="Toast",hse="toast.swipeStart",fse="toast.swipeMove",pse="toast.swipeCancel",mse="toast.swipeEnd",Tq=j.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[s,l]=El({prop:n,defaultProp:i??!0,onChange:a,caller:Ax});return u.jsx(Dc,{present:r||s,children:u.jsx(yse,{open:s,...o,ref:e,onClose:()=>l(!1),onPause:Ks(t.onPause),onResume:Ks(t.onResume),onSwipeStart:jt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:jt(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:jt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:jt(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Tq.displayName=Ax;var[gse,vse]=Sq(Ax,{onClose(){}}),yse=j.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...v}=t,m=eA(Ax,r),[g,y]=j.useState(null),x=Or(e,z=>y(z)),_=j.useRef(null),A=j.useRef(null),N=i||m.duration,I=j.useRef(0),P=j.useRef(N),E=j.useRef(0),{onToastAdd:k,onToastRemove:D}=m,C=Ks(()=>{var re;(g==null?void 0:g.contains(document.activeElement))&&((re=m.viewport)==null||re.focus()),o()}),O=j.useCallback(z=>{!z||z===1/0||(window.clearTimeout(E.current),I.current=new Date().getTime(),E.current=window.setTimeout(C,z))},[C]);j.useEffect(()=>{const z=m.viewport;if(z){const re=()=>{O(P.current),c==null||c()},Y=()=>{const K=new Date().getTime()-I.current;P.current=P.current-K,window.clearTimeout(E.current),l==null||l()};return z.addEventListener(Rj,Y),z.addEventListener(Dj,re),()=>{z.removeEventListener(Rj,Y),z.removeEventListener(Dj,re)}}},[m.viewport,N,l,c,O]),j.useEffect(()=>{a&&!m.isClosePausedRef.current&&O(N)},[a,N,m.isClosePausedRef,O]),j.useEffect(()=>(k(),()=>D()),[k,D]);const L=j.useMemo(()=>g?Dq(g):null,[g]);return m.viewport?u.jsxs(u.Fragment,{children:[L&&u.jsx(bse,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),u.jsx(gse,{scope:r,onClose:C,children:hm.createPortal(u.jsx(zI.ItemSlot,{scope:r,children:u.jsx(Qoe,{asChild:!0,onEscapeKeyDown:jt(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Wt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:jt(t.onKeyDown,z=>{z.key==="Escape"&&(s==null||s(z.nativeEvent),z.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:jt(t.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:jt(t.onPointerMove,z=>{if(!_.current)return;const re=z.clientX-_.current.x,Y=z.clientY-_.current.y,K=!!A.current,q=["left","right"].includes(m.swipeDirection),Z=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ye=q?Z(0,re):0,ce=q?0:Z(0,Y),F=z.pointerType==="touch"?10:2,V={x:ye,y:ce},G={originalEvent:z,delta:V};K?(A.current=V,Kw(fse,h,G,{discrete:!1})):vL(V,m.swipeDirection,F)?(A.current=V,Kw(hse,d,G,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(re)>F||Math.abs(Y)>F)&&(_.current=null)}),onPointerUp:jt(t.onPointerUp,z=>{const re=A.current,Y=z.target;if(Y.hasPointerCapture(z.pointerId)&&Y.releasePointerCapture(z.pointerId),A.current=null,_.current=null,re){const K=z.currentTarget,q={originalEvent:z,delta:re};vL(re,m.swipeDirection,m.swipeThreshold)?Kw(mse,f,q,{discrete:!0}):Kw(pse,p,q,{discrete:!0}),K.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),bse=t=>{const{__scopeToast:e,children:r,...n}=t,i=eA(Ax,e),[a,o]=j.useState(!1),[s,l]=j.useState(!1);return _se(()=>o(!0)),j.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:u.jsx(Sx,{asChild:!0,children:u.jsx(Z5,{...n,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",r]})})})},xse="ToastTitle",jq=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Wt.div,{...n,ref:e})});jq.displayName=xse;var wse="ToastDescription",Cq=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Wt.div,{...n,ref:e})});Cq.displayName=wse;var kq="ToastAction",Iq=j.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?u.jsx(Rq,{altText:r,asChild:!0,children:u.jsx(qI,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kq}\`. Expected non-empty \`string\`.`),null)});Iq.displayName=kq;var Oq="ToastClose",qI=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=vse(Oq,r);return u.jsx(Rq,{asChild:!0,children:u.jsx(Wt.button,{type:"button",...n,ref:e,onClick:jt(t.onClick,i.onClose)})})});qI.displayName=Oq;var Rq=j.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return u.jsx(Wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function Dq(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Sse(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Dq(n))}}),e}function Kw(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?yq(i,a):i.dispatchEvent(a)}var vL=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function _se(t=()=>{}){const e=Ks(t);ta(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Sse(t){return t.nodeType===t.ELEMENT_NODE}function Ase(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function HN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Ese=Aq,Lq=Nq,Mq=Tq,$q=jq,Fq=Cq,Bq=Iq,Uq=qI;function Vq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Vq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function fr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Vq(t))&&(n&&(n+=" "),n+=e);return n}const yL=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,bL=fr,Ex=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return bL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(c=>{const d=r==null?void 0:r[c],h=a==null?void 0:a[c];if(d===null)return null;const p=yL(d)||yL(h);return i[c][p]}),s=r&&Object.entries(r).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...a,...s}[m]):{...a,...s}[m]===g})?[...c,h,p]:c},[]);return bL(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>j.createElement("svg",{ref:l,...Pse,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:zq("lucide",i),...s},[...o.map(([c,d])=>j.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const r=j.forwardRef(({className:n,...i},a)=>j.createElement(Tse,{ref:a,iconNode:e,className:zq(`lucide-${Nse(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=Pt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=Pt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=Pt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=Pt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=Pt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=Pt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=Pt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=Pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=Pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=Pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=Pt("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=Pt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Pt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Pt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=Pt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=Pt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Pt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=Pt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Pt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Pt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=Pt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=Pt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=Pt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=Pt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=Pt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Pt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Pt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=Pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=Pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Pt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Pt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Pt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=Pt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=Pt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Pt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=Pt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Pt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=Pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Pt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Pt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=Pt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Pt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),KI="-",Wse=t=>{const e=Gse(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(KI);return s[0]===""&&s.length!==1&&s.shift(),tW(s,e)||Hse(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},tW=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?tW(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(KI);return(o=e.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},SL=/^\[(.+)\]$/,Hse=t=>{if(SL.test(t)){const e=SL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Gse=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Yse(Object.entries(t.classGroups),r).forEach(([a,o])=>{$j(o,n,a,e)}),n},$j=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:AL(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Kse(i)){$j(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{$j(o,AL(e,a),r,n)})})},AL=(t,e)=>{let r=t;return e.split(KI).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Kse=t=>t.isThemeGetter,Yse=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[e+o,s])):a);return[r,i]}):t,Xse=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},rW="!",Qse=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=s=>{const l=[];let c=0,d=0,h;for(let g=0;g<s.length;g++){let y=s[g];if(c===0){if(y===i&&(n||s.slice(g,g+a)===e)){l.push(s.slice(d,g)),d=g+a;continue}if(y==="/"){h=g;continue}}y==="["?c++:y==="]"&&c--}const p=l.length===0?s:s.substring(d),f=p.startsWith(rW),v=f?p.substring(1):p,m=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:m}};return r?s=>r({className:s,parseClassName:o}):o},Jse=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Zse=t=>({cache:Xse(t.cacheSize),parseClassName:Qse(t),...Wse(t)}),ele=/\s+/,tle=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(ele);let s="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(c);let v=!!f,m=n(v?p.substring(0,f):p);if(!m){if(!v){s=c+(s.length>0?" "+s:s);continue}if(m=n(p),!m){s=c+(s.length>0?" "+s:s);continue}v=!1}const g=Jse(d).join(":"),y=h?g+rW:g,x=y+m;if(a.includes(x))continue;a.push(x);const _=i(m,v);for(let A=0;A<_.length;++A){const N=_[A];a.push(y+N)}s=c+(s.length>0?" "+s:s)}return s};function rle(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=nW(e))&&(n&&(n+=" "),n+=r);return n}const nW=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=nW(t[n]))&&(r&&(r+=" "),r+=e);return r};function nle(t,...e){let r,n,i,a=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return r=Zse(c),n=r.cache.get,i=r.cache.set,a=s,s(l)}function s(l){const c=n(l);if(c)return c;const d=tle(l,r);return i(l,d),d}return function(){return a(rle.apply(null,arguments))}}const $n=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},iW=/^\[(?:([a-z-]+):)?(.+)\]$/i,ile=/^\d+\/\d+$/,ale=new Set(["px","full","screen"]),ole=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ule=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nu=t=>Rg(t)||ale.has(t)||ile.test(t),Id=t=>gy(t,"length",yle),Rg=t=>!!t&&!Number.isNaN(Number(t)),QN=t=>gy(t,"number",Rg),S0=t=>!!t&&Number.isInteger(Number(t)),dle=t=>t.endsWith("%")&&Rg(t.slice(0,-1)),dr=t=>iW.test(t),Od=t=>ole.test(t),hle=new Set(["length","size","percentage"]),fle=t=>gy(t,hle,aW),ple=t=>gy(t,"position",aW),mle=new Set(["image","url"]),gle=t=>gy(t,mle,xle),vle=t=>gy(t,"",ble),A0=()=>!0,gy=(t,e,r)=>{const n=iW.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},yle=t=>sle.test(t)&&!lle.test(t),aW=()=>!1,ble=t=>cle.test(t),xle=t=>ule.test(t),wle=()=>{const t=$n("colors"),e=$n("spacing"),r=$n("blur"),n=$n("brightness"),i=$n("borderColor"),a=$n("borderRadius"),o=$n("borderSpacing"),s=$n("borderWidth"),l=$n("contrast"),c=$n("grayscale"),d=$n("hueRotate"),h=$n("invert"),p=$n("gap"),f=$n("gradientColorStops"),v=$n("gradientColorStopPositions"),m=$n("inset"),g=$n("margin"),y=$n("opacity"),x=$n("padding"),_=$n("saturate"),A=$n("scale"),N=$n("sepia"),I=$n("skew"),P=$n("space"),E=$n("translate"),k=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",dr,e],O=()=>[dr,e],L=()=>["",nu,Id],z=()=>["auto",Rg,dr],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",dr],ye=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Rg,dr];return{cacheSize:500,separator:":",theme:{colors:[A0],spacing:[nu,Id],blur:["none","",Od,dr],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Od,dr],borderSpacing:O(),borderWidth:L(),contrast:ce(),grayscale:Z(),hueRotate:ce(),invert:Z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[dle,Id],inset:C(),margin:C(),opacity:ce(),padding:O(),saturate:ce(),scale:ce(),sepia:Z(),skew:ce(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",dr]}],container:["container"],columns:[{columns:[Od]}],"break-after":[{"break-after":ye()}],"break-before":[{"break-before":ye()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),dr]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",S0,dr]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dr]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",S0,dr]}],"grid-cols":[{"grid-cols":[A0]}],"col-start-end":[{col:["auto",{span:["full",S0,dr]},dr]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[A0]}],"row-start-end":[{row:["auto",{span:[S0,dr]},dr]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dr,e]}],"min-w":[{"min-w":[dr,e,"min","max","fit"]}],"max-w":[{"max-w":[dr,e,"none","full","min","max","fit","prose",{screen:[Od]},Od]}],h:[{h:[dr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Od,Id]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",QN]}],"font-family":[{font:[A0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dr]}],"line-clamp":[{"line-clamp":["none",Rg,QN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nu,dr]}],"list-image":[{"list-image":["none",dr]}],"list-style-type":[{list:["none","disc","decimal",dr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nu,Id]}],"underline-offset":[{"underline-offset":["auto",nu,dr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),ple]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gle]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[nu,dr]}],"outline-w":[{outline:[nu,Id]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[nu,Id]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Od,vle]}],"shadow-color":[{shadow:[A0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Od,dr]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dr]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",dr]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",dr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[S0,dr]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nu,Id,QN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_le=nle(wle);function yt(...t){return _le(fr(t))}const Sle=Ese,oW=j.forwardRef(({className:t,...e},r)=>u.jsx(Lq,{ref:r,className:yt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));oW.displayName=Lq.displayName;const Ale=Ex("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sW=j.forwardRef(({className:t,variant:e,...r},n)=>u.jsx(Mq,{ref:n,className:yt(Ale({variant:e}),t),...r}));sW.displayName=Mq.displayName;const Ele=j.forwardRef(({className:t,...e},r)=>u.jsx(Bq,{ref:r,className:yt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Ele.displayName=Bq.displayName;const lW=j.forwardRef(({className:t,...e},r)=>u.jsx(Uq,{ref:r,className:yt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(eW,{className:"h-4 w-4"})}));lW.displayName=Uq.displayName;const cW=j.forwardRef(({className:t,...e},r)=>u.jsx($q,{ref:r,className:yt("text-sm font-semibold",t),...e}));cW.displayName=$q.displayName;const uW=j.forwardRef(({className:t,...e},r)=>u.jsx(Fq,{ref:r,className:yt("text-sm opacity-90",t),...e}));uW.displayName=Fq.displayName;function Nle(){const{toasts:t}=Doe();return u.jsxs(Sle,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return u.jsxs(sW,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(cW,{children:r}),n&&u.jsx(uW,{children:n})]}),i,u.jsx(lW,{})]},e)}),u.jsx(oW,{})]})}var EL=["light","dark"],Ple="(prefers-color-scheme: dark)",Tle=j.createContext(void 0),jle={setTheme:t=>{},themes:[]},Cle=()=>{var t;return(t=j.useContext(Tle))!=null?t:jle};j.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:l})=>{let c=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=i?EL.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,m=!1,g=!0)=>{let y=o?o[v]:v,x=m?v+"|| ''":`'${y}'`,_="";return i&&g&&!m&&EL.includes(v)&&(_+=`d.style.colorScheme = '${v}';`),r==="class"?m||y?_+=`c.add(${x})`:_+="null":y&&(_+=`d[s](n,${x})`),_},f=t?`!function(){${d}${p(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Ple}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${h}}catch(t){}}();`;return j.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var kle=t=>{switch(t){case"success":return Rle;case"info":return Lle;case"warning":return Dle;case"error":return Mle;default:return null}},Ile=Array(12).fill(0),Ole=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},Ile.map((r,n)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Rle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Dle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Lle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Mle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$le=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Fle=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Fj=1,Ble=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Fj++,o=this.toasts.find(l=>l.id===a),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),a=n!==void 0,o,s=i.then(async c=>{if(o=["resolve",c],ue.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(Vle(c)&&!c.ok){a=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description;this.create({id:n,type:"error",message:d,description:h})}else if(r.success!==void 0){a=!1;let d=typeof r.success=="function"?await r.success(c):r.success,h=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){a=!1;let d=typeof r.error=="function"?await r.error(c):r.error,h=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=r.finally)==null||c.call(r)}),l=()=>new Promise((c,d)=>s.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||Fj++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},go=new Ble,Ule=(t,e)=>{let r=(e==null?void 0:e.id)||Fj++;return go.addToast({title:t,...e,id:r}),r},Vle=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",zle=Ule,qle=()=>go.toasts,Wle=()=>go.getActiveToasts(),Ge=Object.assign(zle,{success:go.success,info:go.info,warning:go.warning,error:go.error,custom:go.custom,message:go.message,promise:go.promise,dismiss:go.dismiss,loading:go.loading},{getHistory:qle,getToasts:Wle});function Hle(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Hle(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xw(t){return t.label!==void 0}var Gle=3,Kle="32px",Yle="16px",NL=4e3,Xle=356,Qle=14,Jle=20,Zle=200;function ol(...t){return t.filter(Boolean).join(" ")}function ece(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var tce=t=>{var e,r,n,i,a,o,s,l,c,d,h;let{invert:p,toast:f,unstyled:v,interacting:m,setHeights:g,visibleToasts:y,heights:x,index:_,toasts:A,expanded:N,removeToast:I,defaultRichColors:P,closeButton:E,style:k,cancelButtonStyle:D,actionButtonStyle:C,className:O="",descriptionClassName:L="",duration:z,position:re,gap:Y,loadingIcon:K,expandByDefault:q,classNames:Z,icons:ye,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:F}=t,[V,G]=ue.useState(null),[oe,J]=ue.useState(null),[ne,xe]=ue.useState(!1),[he,T]=ue.useState(!1),[X,le]=ue.useState(!1),[de,ve]=ue.useState(!1),[ee,Ne]=ue.useState(!1),[Re,Le]=ue.useState(0),[Ae,ge]=ue.useState(0),we=ue.useRef(f.duration||z||NL),De=ue.useRef(null),ze=ue.useRef(null),st=_===0,nt=_+1<=y,Ze=f.type,_t=f.dismissible!==!1,Tt=f.className||"",St=f.descriptionClassName||"",Ct=ue.useMemo(()=>x.findIndex(gt=>gt.toastId===f.id)||0,[x,f.id]),at=ue.useMemo(()=>{var gt;return(gt=f.closeButton)!=null?gt:E},[f.closeButton,E]),Jt=ue.useMemo(()=>f.duration||z||NL,[f.duration,z]),Kt=ue.useRef(0),lt=ue.useRef(0),Oe=ue.useRef(0),Mt=ue.useRef(null),[mt,er]=re.split("-"),$t=ue.useMemo(()=>x.reduce((gt,Nt,sr)=>sr>=Ct?gt:gt+Nt.height,0),[x,Ct]),Vr=Fle(),hn=f.invert||p,Dt=Ze==="loading";lt.current=ue.useMemo(()=>Ct*Y+$t,[Ct,$t]),ue.useEffect(()=>{we.current=Jt},[Jt]),ue.useEffect(()=>{xe(!0)},[]),ue.useEffect(()=>{let gt=ze.current;if(gt){let Nt=gt.getBoundingClientRect().height;return ge(Nt),g(sr=>[{toastId:f.id,height:Nt,position:f.position},...sr]),()=>g(sr=>sr.filter(lr=>lr.toastId!==f.id))}},[g,f.id]),ue.useLayoutEffect(()=>{if(!ne)return;let gt=ze.current,Nt=gt.style.height;gt.style.height="auto";let sr=gt.getBoundingClientRect().height;gt.style.height=Nt,ge(sr),g(lr=>lr.find(it=>it.toastId===f.id)?lr.map(it=>it.toastId===f.id?{...it,height:sr}:it):[{toastId:f.id,height:sr,position:f.position},...lr])},[ne,f.title,f.description,g,f.id]);let bt=ue.useCallback(()=>{T(!0),Le(lt.current),g(gt=>gt.filter(Nt=>Nt.toastId!==f.id)),setTimeout(()=>{I(f)},Zle)},[f,I,g,lt]);ue.useEffect(()=>{if(f.promise&&Ze==="loading"||f.duration===1/0||f.type==="loading")return;let gt;return N||m||F&&Vr?(()=>{if(Oe.current<Kt.current){let Nt=new Date().getTime()-Kt.current;we.current=we.current-Nt}Oe.current=new Date().getTime()})():we.current!==1/0&&(Kt.current=new Date().getTime(),gt=setTimeout(()=>{var Nt;(Nt=f.onAutoClose)==null||Nt.call(f,f),bt()},we.current)),()=>clearTimeout(gt)},[N,m,f,Ze,F,Vr,bt]),ue.useEffect(()=>{f.delete&&bt()},[bt,f.delete]);function Ft(){var gt,Nt,sr;return ye!=null&&ye.loading?ue.createElement("div",{className:ol(Z==null?void 0:Z.loader,(gt=f==null?void 0:f.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":Ze==="loading"},ye.loading):K?ue.createElement("div",{className:ol(Z==null?void 0:Z.loader,(Nt=f==null?void 0:f.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":Ze==="loading"},K):ue.createElement(Ole,{className:ol(Z==null?void 0:Z.loader,(sr=f==null?void 0:f.classNames)==null?void 0:sr.loader),visible:Ze==="loading"})}return ue.createElement("li",{tabIndex:0,ref:ze,className:ol(O,Tt,Z==null?void 0:Z.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[Ze],(r=f==null?void 0:f.classNames)==null?void 0:r[Ze]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:P,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":ne,"data-promise":!!f.promise,"data-swiped":ee,"data-removed":he,"data-visible":nt,"data-y-position":mt,"data-x-position":er,"data-index":_,"data-front":st,"data-swiping":X,"data-dismissible":_t,"data-type":Ze,"data-invert":hn,"data-swipe-out":de,"data-swipe-direction":oe,"data-expanded":!!(N||q&&ne),style:{"--index":_,"--toasts-before":_,"--z-index":A.length-_,"--offset":`${he?Re:lt.current}px`,"--initial-height":q?"auto":`${Ae}px`,...k,...f.style},onDragEnd:()=>{le(!1),G(null),Mt.current=null},onPointerDown:gt=>{Dt||!_t||(De.current=new Date,Le(lt.current),gt.target.setPointerCapture(gt.pointerId),gt.target.tagName!=="BUTTON"&&(le(!0),Mt.current={x:gt.clientX,y:gt.clientY}))},onPointerUp:()=>{var gt,Nt,sr,lr;if(de||!_t)return;Mt.current=null;let it=Number(((gt=ze.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yn=Number(((Nt=ze.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rn=new Date().getTime()-((sr=De.current)==null?void 0:sr.getTime()),Rr=V==="x"?it:Yn,ln=Math.abs(Rr)/Rn;if(Math.abs(Rr)>=Jle||ln>.11){Le(lt.current),(lr=f.onDismiss)==null||lr.call(f,f),J(V==="x"?it>0?"right":"left":Yn>0?"down":"up"),bt(),ve(!0),Ne(!1);return}le(!1),G(null)},onPointerMove:gt=>{var Nt,sr,lr,it;if(!Mt.current||!_t||((Nt=window.getSelection())==null?void 0:Nt.toString().length)>0)return;let Yn=gt.clientY-Mt.current.y,Rn=gt.clientX-Mt.current.x,Rr=(sr=t.swipeDirections)!=null?sr:ece(re);!V&&(Math.abs(Rn)>1||Math.abs(Yn)>1)&&G(Math.abs(Rn)>Math.abs(Yn)?"x":"y");let ln={x:0,y:0};V==="y"?(Rr.includes("top")||Rr.includes("bottom"))&&(Rr.includes("top")&&Yn<0||Rr.includes("bottom")&&Yn>0)&&(ln.y=Yn):V==="x"&&(Rr.includes("left")||Rr.includes("right"))&&(Rr.includes("left")&&Rn<0||Rr.includes("right")&&Rn>0)&&(ln.x=Rn),(Math.abs(ln.x)>0||Math.abs(ln.y)>0)&&Ne(!0),(lr=ze.current)==null||lr.style.setProperty("--swipe-amount-x",`${ln.x}px`),(it=ze.current)==null||it.style.setProperty("--swipe-amount-y",`${ln.y}px`)}},at&&!f.jsx?ue.createElement("button",{"aria-label":ce,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!_t?()=>{}:()=>{var gt;bt(),(gt=f.onDismiss)==null||gt.call(f,f)},className:ol(Z==null?void 0:Z.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(a=ye==null?void 0:ye.close)!=null?a:$le):null,f.jsx||j.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:ue.createElement(ue.Fragment,null,Ze||f.icon||f.promise?ue.createElement("div",{"data-icon":"",className:ol(Z==null?void 0:Z.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ft():null,f.type!=="loading"?f.icon||(ye==null?void 0:ye[Ze])||kle(Ze):null):null,ue.createElement("div",{"data-content":"",className:ol(Z==null?void 0:Z.content,(s=f==null?void 0:f.classNames)==null?void 0:s.content)},ue.createElement("div",{"data-title":"",className:ol(Z==null?void 0:Z.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?ue.createElement("div",{"data-description":"",className:ol(L,St,Z==null?void 0:Z.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),j.isValidElement(f.cancel)?f.cancel:f.cancel&&Xw(f.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||D,onClick:gt=>{var Nt,sr;Xw(f.cancel)&&_t&&((sr=(Nt=f.cancel).onClick)==null||sr.call(Nt,gt),bt())},className:ol(Z==null?void 0:Z.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,j.isValidElement(f.action)?f.action:f.action&&Xw(f.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||C,onClick:gt=>{var Nt,sr;Xw(f.action)&&((sr=(Nt=f.action).onClick)==null||sr.call(Nt,gt),!gt.defaultPrevented&&bt())},className:ol(Z==null?void 0:Z.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function PL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function rce(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?Yle:Kle;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}var nce=j.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=Gle,toastOptions:m,dir:g=PL(),gap:y=Qle,loadingIcon:x,icons:_,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:N}=t,[I,P]=ue.useState([]),E=ue.useMemo(()=>Array.from(new Set([n].concat(I.filter(F=>F.position).map(F=>F.position)))),[I,n]),[k,D]=ue.useState([]),[C,O]=ue.useState(!1),[L,z]=ue.useState(!1),[re,Y]=ue.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ue.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=ue.useRef(null),ye=ue.useRef(!1),ce=ue.useCallback(F=>{P(V=>{var G;return(G=V.find(oe=>oe.id===F.id))!=null&&G.delete||go.dismiss(F.id),V.filter(({id:oe})=>oe!==F.id)})},[]);return ue.useEffect(()=>go.subscribe(F=>{if(F.dismiss){P(V=>V.map(G=>G.id===F.id?{...G,delete:!0}:G));return}setTimeout(()=>{fq.flushSync(()=>{P(V=>{let G=V.findIndex(oe=>oe.id===F.id);return G!==-1?[...V.slice(0,G),{...V[G],...F},...V.slice(G+1)]:[F,...V]})})})}),[]),ue.useEffect(()=>{if(d!=="system"){Y(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:V})=>{Y(V?"dark":"light")})}catch{F.addListener(({matches:G})=>{try{Y(G?"dark":"light")}catch(oe){console.error(oe)}})}},[d]),ue.useEffect(()=>{I.length<=1&&O(!1)},[I]),ue.useEffect(()=>{let F=V=>{var G,oe;i.every(J=>V[J]||V.code===J)&&(O(!0),(G=K.current)==null||G.focus()),V.code==="Escape"&&(document.activeElement===K.current||(oe=K.current)!=null&&oe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),ue.useEffect(()=>{if(K.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,ye.current=!1)}},[K.current]),ue.createElement("section",{ref:e,"aria-label":`${A} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((F,V)=>{var G;let[oe,J]=F.split("-");return I.length?ue.createElement("ol",{key:F,dir:g==="auto"?PL():g,tabIndex:-1,ref:K,className:s,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":oe,"data-lifted":C&&I.length>1&&!a,"data-x-position":J,style:{"--front-toast-height":`${((G=k[0])==null?void 0:G.height)||0}px`,"--width":`${Xle}px`,"--gap":`${y}px`,...f,...rce(l,c)},onBlur:ne=>{ye.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(ye.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||ye.current||(ye.current=!0,Z.current=ne.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},I.filter(ne=>!ne.position&&V===0||ne.position===F).map((ne,xe)=>{var he,T;return ue.createElement(tce,{key:ne.id,icons:_,index:xe,toast:ne,defaultRichColors:h,duration:(he=m==null?void 0:m.duration)!=null?he:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:v,closeButton:(T=m==null?void 0:m.closeButton)!=null?T:o,interacting:L,position:F,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ce,toasts:I.filter(X=>X.position==ne.position),heights:k.filter(X=>X.position==ne.position),setHeights:D,expandByDefault:a,gap:y,loadingIcon:x,expanded:C,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const ice=({...t})=>{const{theme:e="system"}=Cle();return u.jsx(nce,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var ace=Q4[" useId ".trim().toString()]||(()=>{}),oce=0;function wl(t){const[e,r]=j.useState(ace());return ta(()=>{r(n=>n??String(oce++))},[t]),e?`radix-${e}`:""}const sce=["top","right","bottom","left"],zh=Math.min,Xo=Math.max,Y_=Math.round,Qw=Math.floor,xc=t=>({x:t,y:t}),lce={left:"right",right:"left",bottom:"top",top:"bottom"},cce={start:"end",end:"start"};function Bj(t,e,r){return Xo(t,zh(e,r))}function Uu(t,e){return typeof t=="function"?t(e):t}function Vu(t){return t.split("-")[0]}function vy(t){return t.split("-")[1]}function YI(t){return t==="x"?"y":"x"}function XI(t){return t==="y"?"height":"width"}const uce=new Set(["top","bottom"]);function hc(t){return uce.has(Vu(t))?"y":"x"}function QI(t){return YI(hc(t))}function dce(t,e,r){r===void 0&&(r=!1);const n=vy(t),i=QI(t),a=XI(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=X_(o)),[o,X_(o)]}function hce(t){const e=X_(t);return[Uj(t),e,Uj(e)]}function Uj(t){return t.replace(/start|end/g,e=>cce[e])}const TL=["left","right"],jL=["right","left"],fce=["top","bottom"],pce=["bottom","top"];function mce(t,e,r){switch(t){case"top":case"bottom":return r?e?jL:TL:e?TL:jL;case"left":case"right":return e?fce:pce;default:return[]}}function gce(t,e,r,n){const i=vy(t);let a=mce(Vu(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Uj)))),a}function X_(t){return t.replace(/left|right|bottom|top/g,e=>lce[e])}function vce(t){return{top:0,right:0,bottom:0,left:0,...t}}function dW(t){return typeof t!="number"?vce(t):{top:t,right:t,bottom:t,left:t}}function Q_(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function CL(t,e,r){let{reference:n,floating:i}=t;const a=hc(e),o=QI(e),s=XI(o),l=Vu(e),c=a==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let f;switch(l){case"top":f={x:d,y:n.y-i.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-i.width,y:h};break;default:f={x:n.x,y:n.y}}switch(vy(e)){case"start":f[o]-=p*(r&&c?-1:1);break;case"end":f[o]+=p*(r&&c?-1:1);break}return f}const yce=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=CL(c,n,l),p=n,f={},v=0;for(let m=0;m<s.length;m++){const{name:g,fn:y}=s[m],{x,y:_,data:A,reset:N}=await y({x:d,y:h,initialPlacement:n,placement:p,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,h=_??h,f={...f,[g]:{...f[g],...A}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:h}=CL(c,p,l)),m=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:f}};async function nb(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Uu(e,t),v=dW(f),g=s[p?h==="floating"?"reference":"floating":h],y=Q_(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),A=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},N=Q_(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-N.top+v.top)/A.y,bottom:(N.bottom-y.bottom+v.bottom)/A.y,left:(y.left-N.left+v.left)/A.x,right:(N.right-y.right+v.right)/A.x}}const bce=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:c,padding:d=0}=Uu(t,e)||{};if(c==null)return{};const h=dW(d),p={x:r,y:n},f=QI(i),v=XI(f),m=await o.getDimensions(c),g=f==="y",y=g?"top":"left",x=g?"bottom":"right",_=g?"clientHeight":"clientWidth",A=a.reference[v]+a.reference[f]-p[f]-a.floating[v],N=p[f]-a.reference[f],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let P=I?I[_]:0;(!P||!await(o.isElement==null?void 0:o.isElement(I)))&&(P=s.floating[_]||a.floating[v]);const E=A/2-N/2,k=P/2-m[v]/2-1,D=zh(h[y],k),C=zh(h[x],k),O=D,L=P-m[v]-C,z=P/2-m[v]/2+E,re=Bj(O,z,L),Y=!l.arrow&&vy(i)!=null&&z!==re&&a.reference[v]/2-(z<O?D:C)-m[v]/2<0,K=Y?z<O?z-O:z-L:0;return{[f]:p[f]+K,data:{[f]:re,centerOffset:z-re-K,...Y&&{alignmentOffset:K}},reset:Y}}}),xce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=Uu(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Vu(i),x=hc(s),_=Vu(s)===s,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=p||(_||!m?[X_(s)]:hce(s)),I=v!=="none";!p&&I&&N.push(...gce(s,m,v,A));const P=[s,...N],E=await nb(e,g),k=[];let D=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&k.push(E[y]),h){const z=dce(i,o,A);k.push(E[z[0]],E[z[1]])}if(D=[...D,{placement:i,overflows:k}],!k.every(z=>z<=0)){var C,O;const z=(((C=a.flip)==null?void 0:C.index)||0)+1,re=P[z];if(re&&(!(h==="alignment"?x!==hc(re):!1)||D.every(q=>q.overflows[0]>0&&hc(q.placement)===x)))return{data:{index:z,overflows:D},reset:{placement:re}};let Y=(O=D.filter(K=>K.overflows[0]<=0).sort((K,q)=>K.overflows[1]-q.overflows[1])[0])==null?void 0:O.placement;if(!Y)switch(f){case"bestFit":{var L;const K=(L=D.filter(q=>{if(I){const Z=hc(q.placement);return Z===x||Z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Z=>Z>0).reduce((Z,ye)=>Z+ye,0)]).sort((q,Z)=>q[1]-Z[1])[0])==null?void 0:L[0];K&&(Y=K);break}case"initialPlacement":Y=s;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function kL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function IL(t){return sce.some(e=>t[e]>=0)}const wce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Uu(t,e);switch(n){case"referenceHidden":{const a=await nb(e,{...i,elementContext:"reference"}),o=kL(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:IL(o)}}}case"escaped":{const a=await nb(e,{...i,altBoundary:!0}),o=kL(a,r.floating);return{data:{escapedOffsets:o,escaped:IL(o)}}}default:return{}}}}},hW=new Set(["left","top"]);async function _ce(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Vu(r),s=vy(r),l=hc(r)==="y",c=hW.has(o)?-1:1,d=a&&l?-1:1,h=Uu(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof v=="number"&&(f=s==="end"?v*-1:v),l?{x:f*d,y:p*c}:{x:p*c,y:f*d}}const Sce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await _ce(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Ace=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:y,y:x}=g;return{x:y,y:x}}},...l}=Uu(t,e),c={x:r,y:n},d=await nb(e,l),h=hc(Vu(i)),p=YI(h);let f=c[p],v=c[h];if(a){const g=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=f+d[g],_=f-d[y];f=Bj(x,f,_)}if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=v+d[g],_=v-d[y];v=Bj(x,v,_)}const m=s.fn({...e,[p]:f,[h]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:a,[h]:o}}}}}},Ece=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Uu(t,e),d={x:r,y:n},h=hc(i),p=YI(h);let f=d[p],v=d[h];const m=Uu(s,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=p==="y"?"height":"width",A=a.reference[p]-a.floating[_]+g.mainAxis,N=a.reference[p]+a.reference[_]-g.mainAxis;f<A?f=A:f>N&&(f=N)}if(c){var y,x;const _=p==="y"?"width":"height",A=hW.has(Vu(i)),N=a.reference[h]-a.floating[_]+(A&&((y=o.offset)==null?void 0:y[h])||0)+(A?0:g.crossAxis),I=a.reference[h]+a.reference[_]+(A?0:((x=o.offset)==null?void 0:x[h])||0)-(A?g.crossAxis:0);v<N?v=N:v>I&&(v=I)}return{[p]:f,[h]:v}}}},Nce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...c}=Uu(t,e),d=await nb(e,c),h=Vu(i),p=vy(i),f=hc(i)==="y",{width:v,height:m}=a.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=p===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=h,g=p==="end"?"top":"bottom");const x=m-d.top-d.bottom,_=v-d.left-d.right,A=zh(m-d[g],x),N=zh(v-d[y],_),I=!e.middlewareData.shift;let P=A,E=N;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(P=x),I&&!p){const D=Xo(d.left,0),C=Xo(d.right,0),O=Xo(d.top,0),L=Xo(d.bottom,0);f?E=v-2*(D!==0||C!==0?D+C:Xo(d.left,d.right)):P=m-2*(O!==0||L!==0?O+L:Xo(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:P});const k=await o.getDimensions(s.floating);return v!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function aA(){return typeof window<"u"}function yy(t){return fW(t)?(t.nodeName||"").toLowerCase():"#document"}function is(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Lc(t){var e;return(e=(fW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fW(t){return aA()?t instanceof Node||t instanceof is(t).Node:!1}function Nl(t){return aA()?t instanceof Element||t instanceof is(t).Element:!1}function kc(t){return aA()?t instanceof HTMLElement||t instanceof is(t).HTMLElement:!1}function OL(t){return!aA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof is(t).ShadowRoot}const Pce=new Set(["inline","contents"]);function Px(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Pl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Pce.has(i)}const Tce=new Set(["table","td","th"]);function jce(t){return Tce.has(yy(t))}const Cce=[":popover-open",":modal"];function oA(t){return Cce.some(e=>{try{return t.matches(e)}catch{return!1}})}const kce=["transform","translate","scale","rotate","perspective"],Ice=["transform","translate","scale","rotate","perspective","filter"],Oce=["paint","layout","strict","content"];function JI(t){const e=ZI(),r=Nl(t)?Pl(t):t;return kce.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Ice.some(n=>(r.willChange||"").includes(n))||Oce.some(n=>(r.contain||"").includes(n))}function Rce(t){let e=qh(t);for(;kc(e)&&!Sv(e);){if(JI(e))return e;if(oA(e))return null;e=qh(e)}return null}function ZI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Dce=new Set(["html","body","#document"]);function Sv(t){return Dce.has(yy(t))}function Pl(t){return is(t).getComputedStyle(t)}function sA(t){return Nl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qh(t){if(yy(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OL(t)&&t.host||Lc(t);return OL(e)?e.host:e}function pW(t){const e=qh(t);return Sv(e)?t.ownerDocument?t.ownerDocument.body:t.body:kc(e)&&Px(e)?e:pW(e)}function ib(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=pW(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=is(i);if(a){const s=Vj(o);return e.concat(o,o.visualViewport||[],Px(i)?i:[],s&&r?ib(s):[])}return e.concat(i,ib(i,[],r))}function Vj(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mW(t){const e=Pl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=kc(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=Y_(r)!==a||Y_(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function eO(t){return Nl(t)?t:t.contextElement}function Dg(t){const e=eO(t);if(!kc(e))return xc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=mW(e);let o=(a?Y_(r.width):r.width)/n,s=(a?Y_(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Lce=xc(0);function gW(t){const e=is(t);return!ZI()||!e.visualViewport?Lce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Mce(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==is(t)?!1:e}function Up(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=eO(t);let o=xc(1);e&&(n?Nl(n)&&(o=Dg(n)):o=Dg(t));const s=Mce(a,r,n)?gW(a):xc(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(a){const p=is(a),f=n&&Nl(n)?is(n):n;let v=p,m=Vj(v);for(;m&&n&&f!==v;){const g=Dg(m),y=m.getBoundingClientRect(),x=Pl(m),_=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*g.x,A=y.top+(m.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,c*=g.y,d*=g.x,h*=g.y,l+=_,c+=A,v=is(m),m=Vj(v)}}return Q_({width:d,height:h,x:l,y:c})}function tO(t,e){const r=sA(t).scrollLeft;return e?e.left+r:Up(Lc(t)).left+r}function vW(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:tO(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function $ce(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=Lc(n),s=e?oA(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=xc(1);const d=xc(0),h=kc(n);if((h||!h&&!a)&&((yy(n)!=="body"||Px(o))&&(l=sA(n)),kc(n))){const f=Up(n);c=Dg(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=o&&!h&&!a?vW(o,l,!0):xc(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:r.y*c.y-l.scrollTop*c.y+d.y+p.y}}function Fce(t){return Array.from(t.getClientRects())}function Bce(t){const e=Lc(t),r=sA(t),n=t.ownerDocument.body,i=Xo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Xo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+tO(t);const s=-r.scrollTop;return Pl(n).direction==="rtl"&&(o+=Xo(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function Uce(t,e){const r=is(t),n=Lc(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=ZI();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}const Vce=new Set(["absolute","fixed"]);function zce(t,e){const r=Up(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=kc(t)?Dg(t):xc(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function RL(t,e,r){let n;if(e==="viewport")n=Uce(t,r);else if(e==="document")n=Bce(Lc(t));else if(Nl(e))n=zce(e,r);else{const i=gW(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Q_(n)}function yW(t,e){const r=qh(t);return r===e||!Nl(r)||Sv(r)?!1:Pl(r).position==="fixed"||yW(r,e)}function qce(t,e){const r=e.get(t);if(r)return r;let n=ib(t,[],!1).filter(s=>Nl(s)&&yy(s)!=="body"),i=null;const a=Pl(t).position==="fixed";let o=a?qh(t):t;for(;Nl(o)&&!Sv(o);){const s=Pl(o),l=JI(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&Vce.has(i.position)||Px(o)&&!l&&yW(t,o))?n=n.filter(d=>d!==o):i=s,o=qh(o)}return e.set(t,n),n}function Wce(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?oA(e)?[]:qce(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,d)=>{const h=RL(e,d,i);return c.top=Xo(h.top,c.top),c.right=zh(h.right,c.right),c.bottom=zh(h.bottom,c.bottom),c.left=Xo(h.left,c.left),c},RL(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Hce(t){const{width:e,height:r}=mW(t);return{width:e,height:r}}function Gce(t,e,r){const n=kc(e),i=Lc(e),a=r==="fixed",o=Up(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=xc(0);function c(){l.x=tO(i)}if(n||!n&&!a)if((yy(e)!=="body"||Px(i))&&(s=sA(e)),n){const f=Up(e,!0,a,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();a&&!n&&i&&c();const d=i&&!n&&!a?vW(i,s):xc(0),h=o.left+s.scrollLeft-l.x-d.x,p=o.top+s.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function JN(t){return Pl(t).position==="static"}function DL(t,e){if(!kc(t)||Pl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Lc(t)===r&&(r=r.ownerDocument.body),r}function bW(t,e){const r=is(t);if(oA(t))return r;if(!kc(t)){let i=qh(t);for(;i&&!Sv(i);){if(Nl(i)&&!JN(i))return i;i=qh(i)}return r}let n=DL(t,e);for(;n&&jce(n)&&JN(n);)n=DL(n,e);return n&&Sv(n)&&JN(n)&&!JI(n)?r:n||Rce(t)||r}const Kce=async function(t){const e=this.getOffsetParent||bW,r=this.getDimensions,n=await r(t.floating);return{reference:Gce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Yce(t){return Pl(t).direction==="rtl"}const Xce={convertOffsetParentRelativeRectToViewportRelativeRect:$ce,getDocumentElement:Lc,getClippingRect:Wce,getOffsetParent:bW,getElementRects:Kce,getClientRects:Fce,getDimensions:Hce,getScale:Dg,isElement:Nl,isRTL:Yce};function xW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Qce(t,e){let r=null,n;const i=Lc(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=c;if(s||e(),!p||!f)return;const v=Qw(h),m=Qw(i.clientWidth-(d+p)),g=Qw(i.clientHeight-(h+f)),y=Qw(d),_={rootMargin:-v+"px "+-m+"px "+-g+"px "+-y+"px",threshold:Xo(0,zh(1,l))||1};let A=!0;function N(I){const P=I[0].intersectionRatio;if(P!==l){if(!A)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!xW(c,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(N,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,_)}r.observe(t)}return o(!0),a}function Jce(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=eO(t),d=i||a?[...c?ib(c):[],...ib(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const h=c&&s?Qce(c,r):null;let p=-1,f=null;o&&(f=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),r()}),c&&!l&&f.observe(c),f.observe(e));let v,m=l?Up(t):null;l&&g();function g(){const y=Up(t);m&&!xW(m,y)&&r(),m=y,v=requestAnimationFrame(g)}return r(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const Zce=Sce,eue=Ace,tue=xce,rue=Nce,nue=wce,LL=bce,iue=Ece,aue=(t,e,r)=>{const n=new Map,i={platform:Xce,...r},a={...i.platform,_c:n};return yce(t,e,{...i,platform:a})};var oue=typeof document<"u",sue=function(){},J2=oue?j.useLayoutEffect:sue;function J_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!J_(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!J_(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function wW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ML(t,e){const r=wW(t);return Math.round(e*r)/r}function ZN(t){const e=j.useRef(t);return J2(()=>{e.current=t}),e}function lue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[d,h]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=j.useState(n);J_(p,n)||f(n);const[v,m]=j.useState(null),[g,y]=j.useState(null),x=j.useCallback(q=>{q!==I.current&&(I.current=q,m(q))},[]),_=j.useCallback(q=>{q!==P.current&&(P.current=q,y(q))},[]),A=a||v,N=o||g,I=j.useRef(null),P=j.useRef(null),E=j.useRef(d),k=l!=null,D=ZN(l),C=ZN(i),O=ZN(c),L=j.useCallback(()=>{if(!I.current||!P.current)return;const q={placement:e,strategy:r,middleware:p};C.current&&(q.platform=C.current),aue(I.current,P.current,q).then(Z=>{const ye={...Z,isPositioned:O.current!==!1};z.current&&!J_(E.current,ye)&&(E.current=ye,hm.flushSync(()=>{h(ye)}))})},[p,e,r,C,O]);J2(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[c]);const z=j.useRef(!1);J2(()=>(z.current=!0,()=>{z.current=!1}),[]),J2(()=>{if(A&&(I.current=A),N&&(P.current=N),A&&N){if(D.current)return D.current(A,N,L);L()}},[A,N,L,D,k]);const re=j.useMemo(()=>({reference:I,floating:P,setReference:x,setFloating:_}),[x,_]),Y=j.useMemo(()=>({reference:A,floating:N}),[A,N]),K=j.useMemo(()=>{const q={position:r,left:0,top:0};if(!Y.floating)return q;const Z=ML(Y.floating,d.x),ye=ML(Y.floating,d.y);return s?{...q,transform:"translate("+Z+"px, "+ye+"px)",...wW(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:ye}},[r,s,Y.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:L,refs:re,elements:Y,floatingStyles:K}),[d,L,re,Y,K])}const cue=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?LL({element:n.current,padding:i}).fn(r):{}:n?LL({element:n,padding:i}).fn(r):{}}}},uue=(t,e)=>({...Zce(t),options:[t,e]}),due=(t,e)=>({...eue(t),options:[t,e]}),hue=(t,e)=>({...iue(t),options:[t,e]}),fue=(t,e)=>({...tue(t),options:[t,e]}),pue=(t,e)=>({...rue(t),options:[t,e]}),mue=(t,e)=>({...nue(t),options:[t,e]}),gue=(t,e)=>({...cue(t),options:[t,e]});var vue="Arrow",_W=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return u.jsx(Wt.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});_W.displayName=vue;var yue=_W;function SW(t){const[e,r]=j.useState(void 0);return ta(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var rO="Popper",[AW,by]=ds(rO),[bue,EW]=AW(rO),NW=t=>{const{__scopePopper:e,children:r}=t,[n,i]=j.useState(null);return u.jsx(bue,{scope:e,anchor:n,onAnchorChange:i,children:r})};NW.displayName=rO;var PW="PopperAnchor",TW=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=EW(PW,r),o=j.useRef(null),s=Or(e,o);return j.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:u.jsx(Wt.div,{...i,ref:s})});TW.displayName=PW;var nO="PopperContent",[xue,wue]=AW(nO),jW=j.forwardRef((t,e)=>{var ne,xe,he,T,X,le;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=t,g=EW(nO,r),[y,x]=j.useState(null),_=Or(e,de=>x(de)),[A,N]=j.useState(null),I=SW(A),P=(I==null?void 0:I.width)??0,E=(I==null?void 0:I.height)??0,k=n+(a!=="center"?"-"+a:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(c)?c:[c],O=C.length>0,L={padding:D,boundary:C.filter(Sue),altBoundary:O},{refs:z,floatingStyles:re,placement:Y,isPositioned:K,middlewareData:q}=lue({strategy:"fixed",placement:k,whileElementsMounted:(...de)=>Jce(...de,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[uue({mainAxis:i+E,alignmentAxis:o}),l&&due({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?hue():void 0,...L}),l&&fue({...L}),pue({...L,apply:({elements:de,rects:ve,availableWidth:ee,availableHeight:Ne})=>{const{width:Re,height:Le}=ve.reference,Ae=de.floating.style;Ae.setProperty("--radix-popper-available-width",`${ee}px`),Ae.setProperty("--radix-popper-available-height",`${Ne}px`),Ae.setProperty("--radix-popper-anchor-width",`${Re}px`),Ae.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),A&&gue({element:A,padding:s}),Aue({arrowWidth:P,arrowHeight:E}),p&&mue({strategy:"referenceHidden",...L})]}),[Z,ye]=IW(Y),ce=Ks(v);ta(()=>{K&&(ce==null||ce())},[K,ce]);const F=(ne=q.arrow)==null?void 0:ne.x,V=(xe=q.arrow)==null?void 0:xe.y,G=((he=q.arrow)==null?void 0:he.centerOffset)!==0,[oe,J]=j.useState();return ta(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:K?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(T=q.transformOrigin)==null?void 0:T.x,(X=q.transformOrigin)==null?void 0:X.y].join(" "),...((le=q.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(xue,{scope:r,placedSide:Z,onArrowChange:N,arrowX:F,arrowY:V,shouldHideArrow:G,children:u.jsx(Wt.div,{"data-side":Z,"data-align":ye,...m,ref:_,style:{...m.style,animation:K?void 0:"none"}})})})});jW.displayName=nO;var CW="PopperArrow",_ue={top:"bottom",right:"left",bottom:"top",left:"right"},kW=j.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=wue(CW,n),o=_ue[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(yue,{...i,ref:r,style:{...i.style,display:"block"}})})});kW.displayName=CW;function Sue(t){return t!==null}var Aue=t=>({name:"transformOrigin",options:t,fn(e){var g,y,x;const{placement:r,rects:n,middlewareData:i}=e,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=IW(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((y=i.arrow)==null?void 0:y.x)??0)+s/2,f=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",m="";return c==="bottom"?(v=o?h:`${p}px`,m=`${-l}px`):c==="top"?(v=o?h:`${p}px`,m=`${n.floating.height+l}px`):c==="right"?(v=`${-l}px`,m=o?h:`${f}px`):c==="left"&&(v=`${n.floating.width+l}px`,m=o?h:`${f}px`),{data:{x:v,y:m}}}});function IW(t){const[e,r="center"]=t.split("-");return[e,r]}var OW=NW,lA=TW,iO=jW,aO=kW,[cA,VJe]=ds("Tooltip",[by]),oO=by(),RW="TooltipProvider",Eue=700,$L="tooltip.open",[Nue,DW]=cA(RW),LW=t=>{const{__scopeTooltip:e,delayDuration:r=Eue,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=j.useRef(!0),s=j.useRef(!1),l=j.useRef(0);return j.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(Nue,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:j.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:a})};LW.displayName=RW;var MW="Tooltip",[zJe,uA]=cA(MW),zj="TooltipTrigger",Pue=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=uA(zj,r),a=DW(zj,r),o=oO(r),s=j.useRef(null),l=Or(e,s,i.onTriggerChange),c=j.useRef(!1),d=j.useRef(!1),h=j.useCallback(()=>c.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(lA,{asChild:!0,...o,children:u.jsx(Wt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:jt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:jt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:jt(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:jt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:jt(t.onBlur,i.onClose),onClick:jt(t.onClick,i.onClose)})})});Pue.displayName=zj;var Tue="TooltipPortal",[qJe,jue]=cA(Tue,{forceMount:void 0}),Av="TooltipContent",$W=j.forwardRef((t,e)=>{const r=jue(Av,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=uA(Av,t.__scopeTooltip);return u.jsx(Dc,{present:n||o.open,children:o.disableHoverableContent?u.jsx(FW,{side:i,...a,ref:e}):u.jsx(Cue,{side:i,...a,ref:e})})}),Cue=j.forwardRef((t,e)=>{const r=uA(Av,t.__scopeTooltip),n=DW(Av,t.__scopeTooltip),i=j.useRef(null),a=Or(e,i),[o,s]=j.useState(null),{trigger:l,onClose:c}=r,d=i.current,{onPointerInTransitChange:h}=n,p=j.useCallback(()=>{s(null),h(!1)},[h]),f=j.useCallback((v,m)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},x=Due(y,g.getBoundingClientRect()),_=Lue(y,x),A=Mue(m.getBoundingClientRect()),N=Fue([..._,...A]);s(N),h(!0)},[h]);return j.useEffect(()=>()=>p(),[p]),j.useEffect(()=>{if(l&&d){const v=g=>f(g,d),m=g=>f(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[l,d,f,p]),j.useEffect(()=>{if(o){const v=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),_=!$ue(y,o);x?p():_&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,p]),u.jsx(FW,{...t,ref:a})}),[kue,Iue]=cA(MW,{isInside:!1}),Oue=vq("TooltipContent"),FW=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,l=uA(Av,r),c=oO(r),{onClose:d}=l;return j.useEffect(()=>(document.addEventListener($L,d),()=>document.removeEventListener($L,d)),[d]),j.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(my,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(iO,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Oue,{children:n}),u.jsx(kue,{scope:r,isInside:!0,children:u.jsx(sse,{id:l.contentId,role:"tooltip",children:i||n})})]})})});$W.displayName=Av;var BW="TooltipArrow",Rue=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=oO(r);return Iue(BW,r).isInside?null:u.jsx(aO,{...i,...n,ref:e})});Rue.displayName=BW;function Due(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Lue(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Mue(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function $ue(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a],l=e[o],c=s.x,d=s.y,h=l.x,p=l.y;d>n!=p>n&&r<(h-c)*(n-d)/(p-d)+c&&(i=!i)}return i}function Fue(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Bue(e)}function Bue(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Uue=LW,UW=$W;const Vue=Uue,zue=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(UW,{ref:n,sideOffset:e,className:yt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));zue.displayName=UW.displayName;var xy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vp=typeof window>"u"||"Deno"in globalThis;function Ya(){}function que(t,e){return typeof t=="function"?t(e):t}function qj(t){return typeof t=="number"&&t>=0&&t!==1/0}function VW(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nh(t,e){return typeof t=="function"?t(e):t}function js(t,e){return typeof t=="function"?t(e):t}function FL(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(n){if(e.queryHash!==sO(o,e.options))return!1}else if(!ab(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function BL(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(zp(e.options.mutationKey)!==zp(a))return!1}else if(!ab(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function sO(t,e){return((e==null?void 0:e.queryKeyHashFn)||zp)(t)}function zp(t){return JSON.stringify(t,(e,r)=>Wj(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ab(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ab(t[r],e[r])):!1}function zW(t,e){if(t===e)return t;const r=UL(t)&&UL(e);if(r||Wj(t)&&Wj(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),o=a.length,s=r?[]:{},l=new Set(n);let c=0;for(let d=0;d<o;d++){const h=r?d:a[d];(!r&&l.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(s[h]=void 0,c++):(s[h]=zW(t[h],e[h]),s[h]===t[h]&&t[h]!==void 0&&c++)}return i===o&&c===i?t:s}return e}function Z_(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function UL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Wj(t){if(!VL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!VL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VL(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wue(t){return new Promise(e=>{setTimeout(e,t)})}function Hj(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?zW(t,e):e}function Hue(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Gue(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var lO=Symbol();function qW(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function WW(t,e){return typeof t=="function"?t(...e):!!t}var mp,th,tv,WU,Kue=(WU=class extends xy{constructor(){super();Lt(this,mp);Lt(this,th);Lt(this,tv);ct(this,tv,e=>{if(!Vp&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_e(this,th)||this.setEventListener(_e(this,tv))}onUnsubscribe(){var e;this.hasListeners()||((e=_e(this,th))==null||e.call(this),ct(this,th,void 0))}setEventListener(e){var r;ct(this,tv,e),(r=_e(this,th))==null||r.call(this),ct(this,th,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){_e(this,mp)!==e&&(ct(this,mp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof _e(this,mp)=="boolean"?_e(this,mp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},mp=new WeakMap,th=new WeakMap,tv=new WeakMap,WU),cO=new Kue,rv,rh,nv,HU,Yue=(HU=class extends xy{constructor(){super();Lt(this,rv,!0);Lt(this,rh);Lt(this,nv);ct(this,nv,e=>{if(!Vp&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_e(this,rh)||this.setEventListener(_e(this,nv))}onUnsubscribe(){var e;this.hasListeners()||((e=_e(this,rh))==null||e.call(this),ct(this,rh,void 0))}setEventListener(e){var r;ct(this,nv,e),(r=_e(this,rh))==null||r.call(this),ct(this,rh,e(this.setOnline.bind(this)))}setOnline(e){_e(this,rv)!==e&&(ct(this,rv,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return _e(this,rv)}},rv=new WeakMap,rh=new WeakMap,nv=new WeakMap,HU),eS=new Yue;function Gj(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Xue(t){return Math.min(1e3*2**t,3e4)}function HW(t){return(t??"online")==="online"?eS.isOnline():!0}var GW=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function eP(t){return t instanceof GW}function KW(t){let e=!1,r=0,n=!1,i;const a=Gj(),o=m=>{var g;n||(p(new GW(m)),(g=t.abort)==null||g.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>cO.isFocused()&&(t.networkMode==="always"||eS.isOnline())&&t.canRun(),d=()=>HW(t.networkMode)&&t.canRun(),h=m=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,m),i==null||i(),a.resolve(m))},p=m=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,m),i==null||i(),a.reject(m))},f=()=>new Promise(m=>{var g;i=y=>{(n||c())&&m(y)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(n)return;let m;const g=r===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(h).catch(y=>{var I;if(n)return;const x=t.retry??(Vp?0:3),_=t.retryDelay??Xue,A=typeof _=="function"?_(r,y):_,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!N){p(y);return}r++,(I=t.onFail)==null||I.call(t,r,y),Wue(A).then(()=>c()?void 0:f()).then(()=>{e?p(y):v()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?v():f().then(v),a)}}var Que=t=>setTimeout(t,0);function Jue(){let t=[],e=0,r=s=>{s()},n=s=>{s()},i=Que;const a=s=>{e?t.push(s):i(()=>{r(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var Bi=Jue(),gp,GU,YW=(GU=class{constructor(){Lt(this,gp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qj(this.gcTime)&&ct(this,gp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vp?1/0:5*60*1e3))}clearGcTimeout(){_e(this,gp)&&(clearTimeout(_e(this,gp)),ct(this,gp,void 0))}},gp=new WeakMap,GU),iv,vp,Ts,yp,Ta,px,bp,dl,lu,KU,Zue=(KU=class extends YW{constructor(r){super();Lt(this,dl);Lt(this,iv);Lt(this,vp);Lt(this,Ts);Lt(this,yp);Lt(this,Ta);Lt(this,px);Lt(this,bp);ct(this,bp,!1),ct(this,px,r.defaultOptions),this.setOptions(r.options),this.observers=[],ct(this,yp,r.client),ct(this,Ts,_e(this,yp).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,ct(this,iv,ede(this.options)),this.state=r.state??_e(this,iv),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=_e(this,Ta))==null?void 0:r.promise}setOptions(r){this.options={..._e(this,px),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_e(this,Ts).remove(this)}setData(r,n){const i=Hj(this.state.data,r,this.options);return pr(this,dl,lu).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){pr(this,dl,lu).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,a;const n=(i=_e(this,Ta))==null?void 0:i.promise;return(a=_e(this,Ta))==null||a.cancel(r),n?n.then(Ya).catch(Ya):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_e(this,iv))}isActive(){return this.observers.some(r=>js(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Nh(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!VW(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=_e(this,Ta))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=_e(this,Ta))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),_e(this,Ts).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(_e(this,Ta)&&(_e(this,bp)?_e(this,Ta).cancel({revert:!0}):_e(this,Ta).cancelRetry()),this.scheduleGc()),_e(this,Ts).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pr(this,dl,lu).call(this,{type:"invalidate"})}fetch(r,n){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_e(this,Ta))return _e(this,Ta).continueRetry(),_e(this,Ta).promise}if(r&&this.setOptions(r),!this.options.queryFn){const f=this.observers.find(v=>v.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ct(this,bp,!0),i.signal)})},o=()=>{const f=qW(this.options,n),m=(()=>{const g={client:_e(this,yp),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return ct(this,bp,!1),this.options.persister?this.options.persister(f,m,this):f(m)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_e(this,yp),state:this.state,fetchFn:o};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),ct(this,vp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&pr(this,dl,lu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=f=>{var v,m,g,y;eP(f)&&f.silent||pr(this,dl,lu).call(this,{type:"error",error:f}),eP(f)||((m=(v=_e(this,Ts).config).onError)==null||m.call(v,f,this),(y=(g=_e(this,Ts).config).onSettled)==null||y.call(g,this.state.data,f,this)),this.scheduleGc()};return ct(this,Ta,KW({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var v,m,g,y;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){c(x);return}(m=(v=_e(this,Ts).config).onSuccess)==null||m.call(v,f,this),(y=(g=_e(this,Ts).config).onSettled)==null||y.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,v)=>{pr(this,dl,lu).call(this,{type:"failed",failureCount:f,error:v})},onPause:()=>{pr(this,dl,lu).call(this,{type:"pause"})},onContinue:()=>{pr(this,dl,lu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),_e(this,Ta).start()}},iv=new WeakMap,vp=new WeakMap,Ts=new WeakMap,yp=new WeakMap,Ta=new WeakMap,px=new WeakMap,bp=new WeakMap,dl=new WeakSet,lu=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...XW(i.data,this.options),fetchMeta:r.meta??null};case"success":return ct(this,vp,void 0),{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return eP(a)&&a.revert&&_e(this,vp)?{..._e(this,vp),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),Bi.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),_e(this,Ts).notify({query:this,type:"updated",action:r})})},KU);function XW(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HW(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ede(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var oc,YU,tde=(YU=class extends xy{constructor(e={}){super();Lt(this,oc);this.config=e,ct(this,oc,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??sO(i,r);let o=this.get(a);return o||(o=new Zue({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){_e(this,oc).has(e.queryHash)||(_e(this,oc).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=_e(this,oc).get(e.queryHash);r&&(e.destroy(),r===e&&_e(this,oc).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _e(this,oc).get(e)}getAll(){return[..._e(this,oc).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>FL(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>FL(e,n)):r}notify(e){Bi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Bi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},oc=new WeakMap,YU),sc,Ha,xp,lc,Fd,XU,rde=(XU=class extends YW{constructor(r){super();Lt(this,lc);Lt(this,sc);Lt(this,Ha);Lt(this,xp);this.mutationId=r.mutationId,ct(this,Ha,r.mutationCache),ct(this,sc,[]),this.state=r.state||QW(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){_e(this,sc).includes(r)||(_e(this,sc).push(r),this.clearGcTimeout(),_e(this,Ha).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){ct(this,sc,_e(this,sc).filter(n=>n!==r)),this.scheduleGc(),_e(this,Ha).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){_e(this,sc).length||(this.state.status==="pending"?this.scheduleGc():_e(this,Ha).remove(this))}continue(){var r;return((r=_e(this,xp))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var o,s,l,c,d,h,p,f,v,m,g,y,x,_,A,N,I,P,E,k;const n=()=>{pr(this,lc,Fd).call(this,{type:"continue"})};ct(this,xp,KW({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(D,C)=>{pr(this,lc,Fd).call(this,{type:"failed",failureCount:D,error:C})},onPause:()=>{pr(this,lc,Fd).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_e(this,Ha).canRun(this)}));const i=this.state.status==="pending",a=!_e(this,xp).canStart();try{if(i)n();else{pr(this,lc,Fd).call(this,{type:"pending",variables:r,isPaused:a}),await((s=(o=_e(this,Ha).config).onMutate)==null?void 0:s.call(o,r,this));const C=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,r));C!==this.state.context&&pr(this,lc,Fd).call(this,{type:"pending",context:C,variables:r,isPaused:a})}const D=await _e(this,xp).start();return await((h=(d=_e(this,Ha).config).onSuccess)==null?void 0:h.call(d,D,r,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,D,r,this.state.context)),await((m=(v=_e(this,Ha).config).onSettled)==null?void 0:m.call(v,D,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,D,null,r,this.state.context)),pr(this,lc,Fd).call(this,{type:"success",data:D}),D}catch(D){try{throw await((_=(x=_e(this,Ha).config).onError)==null?void 0:_.call(x,D,r,this.state.context,this)),await((N=(A=this.options).onError)==null?void 0:N.call(A,D,r,this.state.context)),await((P=(I=_e(this,Ha).config).onSettled)==null?void 0:P.call(I,void 0,D,this.state.variables,this.state.context,this)),await((k=(E=this.options).onSettled)==null?void 0:k.call(E,void 0,D,r,this.state.context)),D}finally{pr(this,lc,Fd).call(this,{type:"error",error:D})}}finally{_e(this,Ha).runNext(this)}}},sc=new WeakMap,Ha=new WeakMap,xp=new WeakMap,lc=new WeakSet,Fd=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Bi.batch(()=>{_e(this,sc).forEach(i=>{i.onMutationUpdate(r)}),_e(this,Ha).notify({mutation:this,type:"updated",action:r})})},XU);function QW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yu,hl,mx,QU,nde=(QU=class extends xy{constructor(e={}){super();Lt(this,yu);Lt(this,hl);Lt(this,mx);this.config=e,ct(this,yu,new Set),ct(this,hl,new Map),ct(this,mx,0)}build(e,r,n){const i=new rde({mutationCache:this,mutationId:++jw(this,mx)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){_e(this,yu).add(e);const r=Jw(e);if(typeof r=="string"){const n=_e(this,hl).get(r);n?n.push(e):_e(this,hl).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_e(this,yu).delete(e)){const r=Jw(e);if(typeof r=="string"){const n=_e(this,hl).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&_e(this,hl).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Jw(e);if(typeof r=="string"){const n=_e(this,hl).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Jw(e);if(typeof r=="string"){const i=(n=_e(this,hl).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bi.batch(()=>{_e(this,yu).forEach(e=>{this.notify({type:"removed",mutation:e})}),_e(this,yu).clear(),_e(this,hl).clear()})}getAll(){return Array.from(_e(this,yu))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>BL(r,n))}findAll(e={}){return this.getAll().filter(r=>BL(e,r))}notify(e){Bi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Bi.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ya))))}},yu=new WeakMap,hl=new WeakMap,mx=new WeakMap,QU);function Jw(t){var e;return(e=t.options.scope)==null?void 0:e.id}function zL(t){return{onFetch:(e,r)=>{var d,h,p,f,v;const n=e.options,i=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((f=e.state.data)==null?void 0:f.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const g=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=qW(e.options,e.fetchOptions),x=async(_,A,N)=>{if(m)return Promise.reject();if(A==null&&_.pages.length)return Promise.resolve(_);const P=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:A,direction:N?"backward":"forward",meta:e.options.meta};return g(C),C})(),E=await y(P),{maxPages:k}=e.options,D=N?Gue:Hue;return{pages:D(_.pages,E,k),pageParams:D(_.pageParams,A,k)}};if(i&&a.length){const _=i==="backward",A=_?ide:qL,N={pages:a,pageParams:o},I=A(n,N);s=await x(N,I,_)}else{const _=t??a.length;do{const A=l===0?o[0]??n.initialPageParam:qL(n,s);if(l>0&&A==null)break;s=await x(s,A),l++}while(l<_)}return s};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function qL(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ide(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ai,nh,ih,av,ov,ah,sv,lv,JU,ade=(JU=class{constructor(t={}){Lt(this,ai);Lt(this,nh);Lt(this,ih);Lt(this,av);Lt(this,ov);Lt(this,ah);Lt(this,sv);Lt(this,lv);ct(this,ai,t.queryCache||new tde),ct(this,nh,t.mutationCache||new nde),ct(this,ih,t.defaultOptions||{}),ct(this,av,new Map),ct(this,ov,new Map),ct(this,ah,0)}mount(){jw(this,ah)._++,_e(this,ah)===1&&(ct(this,sv,cO.subscribe(async t=>{t&&(await this.resumePausedMutations(),_e(this,ai).onFocus())})),ct(this,lv,eS.subscribe(async t=>{t&&(await this.resumePausedMutations(),_e(this,ai).onOnline())})))}unmount(){var t,e;jw(this,ah)._--,_e(this,ah)===0&&((t=_e(this,sv))==null||t.call(this),ct(this,sv,void 0),(e=_e(this,lv))==null||e.call(this),ct(this,lv,void 0))}isFetching(t){return _e(this,ai).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _e(this,nh).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_e(this,ai).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=_e(this,ai).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Nh(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return _e(this,ai).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=_e(this,ai).get(n.queryHash),a=i==null?void 0:i.state.data,o=que(e,a);if(o!==void 0)return _e(this,ai).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Bi.batch(()=>_e(this,ai).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_e(this,ai).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=_e(this,ai);Bi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=_e(this,ai);return Bi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Bi.batch(()=>_e(this,ai).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ya).catch(Ya)}invalidateQueries(t,e={}){return Bi.batch(()=>(_e(this,ai).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Bi.batch(()=>_e(this,ai).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ya)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ya)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=_e(this,ai).build(this,e);return r.isStaleByTime(Nh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ya).catch(Ya)}fetchInfiniteQuery(t){return t.behavior=zL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ya).catch(Ya)}ensureInfiniteQueryData(t){return t.behavior=zL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return eS.isOnline()?_e(this,nh).resumePausedMutations():Promise.resolve()}getQueryCache(){return _e(this,ai)}getMutationCache(){return _e(this,nh)}getDefaultOptions(){return _e(this,ih)}setDefaultOptions(t){ct(this,ih,t)}setQueryDefaults(t,e){_e(this,av).set(zp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._e(this,av).values()],r={};return e.forEach(n=>{ab(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){_e(this,ov).set(zp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._e(this,ov).values()],r={};return e.forEach(n=>{ab(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._e(this,ih).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===lO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._e(this,ih).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_e(this,ai).clear(),_e(this,nh).clear()}},ai=new WeakMap,nh=new WeakMap,ih=new WeakMap,av=new WeakMap,ov=new WeakMap,ah=new WeakMap,sv=new WeakMap,lv=new WeakMap,JU),po,Nr,gx,Ga,wp,cv,oh,sh,vx,uv,dv,_p,Sp,lh,hv,Yr,H0,Kj,Yj,Xj,Qj,Jj,Zj,eC,JW,ZU,ode=(ZU=class extends xy{constructor(e,r){super();Lt(this,Yr);Lt(this,po);Lt(this,Nr);Lt(this,gx);Lt(this,Ga);Lt(this,wp);Lt(this,cv);Lt(this,oh);Lt(this,sh);Lt(this,vx);Lt(this,uv);Lt(this,dv);Lt(this,_p);Lt(this,Sp);Lt(this,lh);Lt(this,hv,new Set);this.options=r,ct(this,po,e),ct(this,sh,null),ct(this,oh,Gj()),this.options.experimental_prefetchInRender||_e(this,oh).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_e(this,Nr).addObserver(this),WL(_e(this,Nr),this.options)?pr(this,Yr,H0).call(this):this.updateResult(),pr(this,Yr,Qj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tC(_e(this,Nr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tC(_e(this,Nr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pr(this,Yr,Jj).call(this),pr(this,Yr,Zj).call(this),_e(this,Nr).removeObserver(this)}setOptions(e){const r=this.options,n=_e(this,Nr);if(this.options=_e(this,po).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof js(this.options.enabled,_e(this,Nr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pr(this,Yr,eC).call(this),_e(this,Nr).setOptions(this.options),r._defaulted&&!Z_(this.options,r)&&_e(this,po).getQueryCache().notify({type:"observerOptionsUpdated",query:_e(this,Nr),observer:this});const i=this.hasListeners();i&&HL(_e(this,Nr),n,this.options,r)&&pr(this,Yr,H0).call(this),this.updateResult(),i&&(_e(this,Nr)!==n||js(this.options.enabled,_e(this,Nr))!==js(r.enabled,_e(this,Nr))||Nh(this.options.staleTime,_e(this,Nr))!==Nh(r.staleTime,_e(this,Nr)))&&pr(this,Yr,Kj).call(this);const a=pr(this,Yr,Yj).call(this);i&&(_e(this,Nr)!==n||js(this.options.enabled,_e(this,Nr))!==js(r.enabled,_e(this,Nr))||a!==_e(this,lh))&&pr(this,Yr,Xj).call(this,a)}getOptimisticResult(e){const r=_e(this,po).getQueryCache().build(_e(this,po),e),n=this.createResult(r,e);return lde(this,n)&&(ct(this,Ga,n),ct(this,cv,this.options),ct(this,wp,_e(this,Nr).state)),n}getCurrentResult(){return _e(this,Ga)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){_e(this,hv).add(e)}getCurrentQuery(){return _e(this,Nr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=_e(this,po).defaultQueryOptions(e),n=_e(this,po).getQueryCache().build(_e(this,po),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return pr(this,Yr,H0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_e(this,Ga)))}createResult(e,r){var k;const n=_e(this,Nr),i=this.options,a=_e(this,Ga),o=_e(this,wp),s=_e(this,cv),c=e!==n?e.state:_e(this,gx),{state:d}=e;let h={...d},p=!1,f;if(r._optimisticResults){const D=this.hasListeners(),C=!D&&WL(e,r),O=D&&HL(e,n,r,i);(C||O)&&(h={...h,...XW(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:g}=h;f=h.data;let y=!1;if(r.placeholderData!==void 0&&f===void 0&&g==="pending"){let D;a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData)?(D=a.data,y=!0):D=typeof r.placeholderData=="function"?r.placeholderData((k=_e(this,dv))==null?void 0:k.state.data,_e(this,dv)):r.placeholderData,D!==void 0&&(g="success",f=Hj(a==null?void 0:a.data,D,r),p=!0)}if(r.select&&f!==void 0&&!y)if(a&&f===(o==null?void 0:o.data)&&r.select===_e(this,vx))f=_e(this,uv);else try{ct(this,vx,r.select),f=r.select(f),f=Hj(a==null?void 0:a.data,f,r),ct(this,uv,f),ct(this,sh,null)}catch(D){ct(this,sh,D)}_e(this,sh)&&(v=_e(this,sh),f=_e(this,uv),m=Date.now(),g="error");const x=h.fetchStatus==="fetching",_=g==="pending",A=g==="error",N=_&&x,I=f!==void 0,E={status:g,fetchStatus:h.fetchStatus,isPending:_,isSuccess:g==="success",isError:A,isInitialLoading:N,isLoading:N,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:A&&!I,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&I,isStale:uO(e,r),refetch:this.refetch,promise:_e(this,oh),isEnabled:js(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},C=()=>{const L=ct(this,oh,E.promise=Gj());D(L)},O=_e(this,oh);switch(O.status){case"pending":e.queryHash===n.queryHash&&D(O);break;case"fulfilled":(E.status==="error"||E.data!==O.value)&&C();break;case"rejected":(E.status!=="error"||E.error!==O.reason)&&C();break}}return E}updateResult(){const e=_e(this,Ga),r=this.createResult(_e(this,Nr),this.options);if(ct(this,wp,_e(this,Nr).state),ct(this,cv,this.options),_e(this,wp).data!==void 0&&ct(this,dv,_e(this,Nr)),Z_(r,e))return;ct(this,Ga,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!_e(this,hv).size)return!0;const o=new Set(a??_e(this,hv));return this.options.throwOnError&&o.add("error"),Object.keys(_e(this,Ga)).some(s=>{const l=s;return _e(this,Ga)[l]!==e[l]&&o.has(l)})};pr(this,Yr,JW).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pr(this,Yr,Qj).call(this)}},po=new WeakMap,Nr=new WeakMap,gx=new WeakMap,Ga=new WeakMap,wp=new WeakMap,cv=new WeakMap,oh=new WeakMap,sh=new WeakMap,vx=new WeakMap,uv=new WeakMap,dv=new WeakMap,_p=new WeakMap,Sp=new WeakMap,lh=new WeakMap,hv=new WeakMap,Yr=new WeakSet,H0=function(e){pr(this,Yr,eC).call(this);let r=_e(this,Nr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ya)),r},Kj=function(){pr(this,Yr,Jj).call(this);const e=Nh(this.options.staleTime,_e(this,Nr));if(Vp||_e(this,Ga).isStale||!qj(e))return;const n=VW(_e(this,Ga).dataUpdatedAt,e)+1;ct(this,_p,setTimeout(()=>{_e(this,Ga).isStale||this.updateResult()},n))},Yj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_e(this,Nr)):this.options.refetchInterval)??!1},Xj=function(e){pr(this,Yr,Zj).call(this),ct(this,lh,e),!(Vp||js(this.options.enabled,_e(this,Nr))===!1||!qj(_e(this,lh))||_e(this,lh)===0)&&ct(this,Sp,setInterval(()=>{(this.options.refetchIntervalInBackground||cO.isFocused())&&pr(this,Yr,H0).call(this)},_e(this,lh)))},Qj=function(){pr(this,Yr,Kj).call(this),pr(this,Yr,Xj).call(this,pr(this,Yr,Yj).call(this))},Jj=function(){_e(this,_p)&&(clearTimeout(_e(this,_p)),ct(this,_p,void 0))},Zj=function(){_e(this,Sp)&&(clearInterval(_e(this,Sp)),ct(this,Sp,void 0))},eC=function(){const e=_e(this,po).getQueryCache().build(_e(this,po),this.options);if(e===_e(this,Nr))return;const r=_e(this,Nr);ct(this,Nr,e),ct(this,gx,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},JW=function(e){Bi.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(_e(this,Ga))}),_e(this,po).getQueryCache().notify({query:_e(this,Nr),type:"observerResultsUpdated"})})},ZU);function sde(t,e){return js(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function WL(t,e){return sde(t,e)||t.state.data!==void 0&&tC(t,e,e.refetchOnMount)}function tC(t,e,r){if(js(e.enabled,t)!==!1&&Nh(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&uO(t,e)}return!1}function HL(t,e,r,n){return(t!==e||js(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&uO(t,r)}function uO(t,e){return js(e.enabled,t)!==!1&&t.isStaleByTime(Nh(e.staleTime,t))}function lde(t,e){return!Z_(t.getCurrentResult(),e)}var ch,uh,mo,bu,Lu,Z2,rC,eV,cde=(eV=class extends xy{constructor(r,n){super();Lt(this,Lu);Lt(this,ch);Lt(this,uh);Lt(this,mo);Lt(this,bu);ct(this,ch,r),this.setOptions(n),this.bindMethods(),pr(this,Lu,Z2).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=_e(this,ch).defaultMutationOptions(r),Z_(this.options,n)||_e(this,ch).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_e(this,mo),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&zp(n.mutationKey)!==zp(this.options.mutationKey)?this.reset():((i=_e(this,mo))==null?void 0:i.state.status)==="pending"&&_e(this,mo).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_e(this,mo))==null||r.removeObserver(this)}onMutationUpdate(r){pr(this,Lu,Z2).call(this),pr(this,Lu,rC).call(this,r)}getCurrentResult(){return _e(this,uh)}reset(){var r;(r=_e(this,mo))==null||r.removeObserver(this),ct(this,mo,void 0),pr(this,Lu,Z2).call(this),pr(this,Lu,rC).call(this)}mutate(r,n){var i;return ct(this,bu,n),(i=_e(this,mo))==null||i.removeObserver(this),ct(this,mo,_e(this,ch).getMutationCache().build(_e(this,ch),this.options)),_e(this,mo).addObserver(this),_e(this,mo).execute(r)}},ch=new WeakMap,uh=new WeakMap,mo=new WeakMap,bu=new WeakMap,Lu=new WeakSet,Z2=function(){var n;const r=((n=_e(this,mo))==null?void 0:n.state)??QW();ct(this,uh,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},rC=function(r){Bi.batch(()=>{var n,i,a,o,s,l,c,d;if(_e(this,bu)&&this.hasListeners()){const h=_e(this,uh).variables,p=_e(this,uh).context;(r==null?void 0:r.type)==="success"?((i=(n=_e(this,bu)).onSuccess)==null||i.call(n,r.data,h,p),(o=(a=_e(this,bu)).onSettled)==null||o.call(a,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((l=(s=_e(this,bu)).onError)==null||l.call(s,r.error,h,p),(d=(c=_e(this,bu)).onSettled)==null||d.call(c,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(_e(this,uh))})})},eV),ZW=j.createContext(void 0),qi=t=>{const e=j.useContext(ZW);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ude=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(ZW.Provider,{value:t,children:e})),eH=j.createContext(!1),dde=()=>j.useContext(eH);eH.Provider;function hde(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var fde=j.createContext(hde()),pde=()=>j.useContext(fde),mde=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},gde=t=>{j.useEffect(()=>{t.clearReset()},[t])},vde=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||WW(r,[t.error,n])),yde=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},bde=(t,e)=>t.isLoading&&t.isFetching&&!e,xde=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,GL=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function wde(t,e,r){var h,p,f,v,m;const n=dde(),i=pde(),a=qi(),o=a.defaultQueryOptions(t);(p=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",yde(o),mde(o,i),gde(i);const s=!a.getQueryCache().get(o.queryHash),[l]=j.useState(()=>new e(a,o)),c=l.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(g=>{const y=d?l.subscribe(Bi.batchCalls(g)):Ya;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),j.useEffect(()=>{l.setOptions(o)},[o,l]),xde(o,c))throw GL(o,l,i);if(vde({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((v=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,o,c),o.experimental_prefetchInRender&&!Vp&&bde(c,n)){const g=s?GL(o,l,i):(m=a.getQueryCache().get(o.queryHash))==null?void 0:m.promise;g==null||g.catch(Ya).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function wy(t,e){return wde(t,ode)}function hs(t,e){const r=qi(),[n]=j.useState(()=>new cde(r,t));j.useEffect(()=>{n.setOptions(t)},[n,t]);const i=j.useSyncExternalStore(j.useCallback(o=>n.subscribe(Bi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=j.useCallback((o,s)=>{n.mutate(o,s).catch(Ya)},[n]);if(i.error&&WW(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ob.apply(this,arguments)}var fh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fh||(fh={}));const KL="popstate";function _de(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return nC("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:tS(i)}return Ade(e,r,null,t)}function wi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tH(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sde(){return Math.random().toString(36).substr(2,8)}function YL(t,e){return{usr:t.state,key:t.key,idx:e}}function nC(t,e,r,n){return r===void 0&&(r=null),ob({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_y(e):e,{state:r,key:e&&e.key||n||Sde()})}function tS(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _y(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Ade(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=fh.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ob({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){s=fh.Pop;let g=d(),y=g==null?null:g-c;c=g,l&&l({action:s,location:m.location,delta:y})}function p(g,y){s=fh.Push;let x=nC(m.location,g,y);c=d()+1;let _=YL(x,c),A=m.createHref(x);try{o.pushState(_,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(A)}a&&l&&l({action:s,location:m.location,delta:1})}function f(g,y){s=fh.Replace;let x=nC(m.location,g,y);c=d();let _=YL(x,c),A=m.createHref(x);o.replaceState(_,"",A),a&&l&&l({action:s,location:m.location,delta:0})}function v(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof g=="string"?g:tS(g);return x=x.replace(/ $/,"%20"),wi(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return s},get location(){return t(i,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(KL,h),l=g,()=>{i.removeEventListener(KL,h),l=null}},createHref(g){return e(i,g)},createURL:v,encodeLocation(g){let y=v(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(g){return o.go(g)}};return m}var XL;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XL||(XL={}));function Ede(t,e,r){return r===void 0&&(r="/"),Nde(t,e,r,!1)}function Nde(t,e,r,n){let i=typeof e=="string"?_y(e):e,a=dO(i.pathname||"/",r);if(a==null)return null;let o=rH(t);Pde(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=$de(a);s=Lde(o[l],c,n)}return s}function rH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(wi(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ph([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(wi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),rH(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:Rde(c,a.index),routesMeta:d})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of nH(a.path))i(a,o,l)}),e}function nH(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=nH(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function Pde(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Dde(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Tde=/^:[\w-]+$/,jde=3,Cde=2,kde=1,Ide=10,Ode=-2,QL=t=>t==="*";function Rde(t,e){let r=t.split("/"),n=r.length;return r.some(QL)&&(n+=Ode),e&&(n+=Cde),r.filter(i=>!QL(i)).reduce((i,a)=>i+(Tde.test(a)?jde:a===""?kde:Ide),n)}function Dde(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Lde(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=JL({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=JL({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ph([a,h.pathname]),pathnameBase:Vde(Ph([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Ph([a,h.pathnameBase]))}return o}function JL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Mde(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let m=s[h]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const v=s[h];return f&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function Mde(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),tH(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $de(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tH(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Fde(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?_y(t):t;return{pathname:r?r.startsWith("/")?r:Bde(r,e):e,search:zde(n),hash:qde(i)}}function Bde(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function tP(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ude(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function hO(t,e){let r=Ude(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=_y(t):(i=ob({},t),wi(!i.pathname||!i.pathname.includes("?"),tP("?","pathname","search",i)),wi(!i.pathname||!i.pathname.includes("#"),tP("#","pathname","hash",i)),wi(!i.search||!i.search.includes("#"),tP("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}s=h>=0?e[h]:"/"}let l=Fde(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ph=t=>t.join("/").replace(/\/\/+/g,"/"),Vde=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zde=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qde=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Wde(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iH=["post","put","patch","delete"];new Set(iH);const Hde=["get",...iH];new Set(Hde);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sb.apply(this,arguments)}const pO=j.createContext(null),Gde=j.createContext(null),uf=j.createContext(null),dA=j.createContext(null),Ju=j.createContext({outlet:null,matches:[],isDataRoute:!1}),aH=j.createContext(null);function Kde(t,e){let{relative:r}=e===void 0?{}:e;Sy()||wi(!1);let{basename:n,navigator:i}=j.useContext(uf),{hash:a,pathname:o,search:s}=sH(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ph([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Sy(){return j.useContext(dA)!=null}function df(){return Sy()||wi(!1),j.useContext(dA).location}function oH(t){j.useContext(uf).static||j.useLayoutEffect(t)}function Wi(){let{isDataRoute:t}=j.useContext(Ju);return t?lhe():Yde()}function Yde(){Sy()||wi(!1);let t=j.useContext(pO),{basename:e,future:r,navigator:n}=j.useContext(uf),{matches:i}=j.useContext(Ju),{pathname:a}=df(),o=JSON.stringify(hO(i,r.v7_relativeSplatPath)),s=j.useRef(!1);return oH(()=>{s.current=!0}),j.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=fO(c,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ph([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,a,t])}function Xde(){let{matches:t}=j.useContext(Ju),e=t[t.length-1];return e?e.params:{}}function sH(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(uf),{matches:i}=j.useContext(Ju),{pathname:a}=df(),o=JSON.stringify(hO(i,n.v7_relativeSplatPath));return j.useMemo(()=>fO(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function Qde(t,e){return Jde(t,e)}function Jde(t,e,r,n){Sy()||wi(!1);let{navigator:i}=j.useContext(uf),{matches:a}=j.useContext(Ju),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=df(),d;if(e){var h;let g=typeof e=="string"?_y(e):e;l==="/"||(h=g.pathname)!=null&&h.startsWith(l)||wi(!1),d=g}else d=c;let p=d.pathname||"/",f=p;if(l!=="/"){let g=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=Ede(t,{pathname:f}),m=nhe(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Ph([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Ph([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return e&&m?j.createElement(dA.Provider,{value:{location:sb({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fh.Pop}},m):m}function Zde(){let t=she(),e=Wde(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const ehe=j.createElement(Zde,null);class the extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(Ju.Provider,{value:this.props.routeContext},j.createElement(aH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rhe(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(pO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Ju.Provider,{value:e},n)}function nhe(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let d=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);d>=0||wi(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,v=!1,m=null,g=null;r&&(f=s&&h.route.id?s[h.route.id]:void 0,m=h.route.errorElement||ehe,l&&(c<0&&p===0?(v=!0,g=null):c===p&&(v=!0,g=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,p+1)),x=()=>{let _;return f?_=m:v?_=g:h.route.Component?_=j.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,j.createElement(rhe,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?j.createElement(the,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var lH=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lH||{}),rS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rS||{});function ihe(t){let e=j.useContext(pO);return e||wi(!1),e}function ahe(t){let e=j.useContext(Gde);return e||wi(!1),e}function ohe(t){let e=j.useContext(Ju);return e||wi(!1),e}function cH(t){let e=ohe(),r=e.matches[e.matches.length-1];return r.route.id||wi(!1),r.route.id}function she(){var t;let e=j.useContext(aH),r=ahe(rS.UseRouteError),n=cH(rS.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function lhe(){let{router:t}=ihe(lH.UseNavigateStable),e=cH(rS.UseNavigateStable),r=j.useRef(!1);return oH(()=>{r.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sb({fromRouteId:e},a)))},[t,e])}function che(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function uH(t){let{to:e,replace:r,state:n,relative:i}=t;Sy()||wi(!1);let{future:a,static:o}=j.useContext(uf),{matches:s}=j.useContext(Ju),{pathname:l}=df(),c=Wi(),d=fO(e,hO(s,a.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return j.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function Pn(t){wi(!1)}function uhe(t){let{basename:e="/",children:r=null,location:n,navigationType:i=fh.Pop,navigator:a,static:o=!1,future:s}=t;Sy()&&wi(!1);let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:a,static:o,future:sb({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=_y(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:v="default"}=n,m=j.useMemo(()=>{let g=dO(d,l);return g==null?null:{location:{pathname:g,search:h,hash:p,state:f,key:v},navigationType:i}},[l,d,h,p,f,v,i]);return m==null?null:j.createElement(uf.Provider,{value:c},j.createElement(dA.Provider,{children:r,value:m}))}function dhe(t){let{children:e,location:r}=t;return Qde(iC(e),r)}new Promise(()=>{});function iC(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let a=[...e,i];if(n.type===j.Fragment){r.push.apply(r,iC(n.props.children,a));return}n.type!==Pn&&wi(!1),!n.props.index||!n.props.children||wi(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=iC(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aC.apply(this,arguments)}function hhe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function fhe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function phe(t,e){return t.button===0&&(!e||e==="_self")&&!fhe(t)}function oC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function mhe(t,e){let r=oC(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const ghe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vhe="6";try{window.__reactRouterVersion=vhe}catch{}const yhe="startTransition",ZL=Q4[yhe];function bhe(t){let{basename:e,children:r,future:n,window:i}=t,a=j.useRef();a.current==null&&(a.current=_de({window:i,v5Compat:!0}));let o=a.current,[s,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=j.useCallback(h=>{c&&ZL?ZL(()=>l(h)):l(h)},[l,c]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>che(n),[n]),j.createElement(uhe,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const xhe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",whe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eM=j.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=hhe(e,ghe),{basename:f}=j.useContext(uf),v,m=!1;if(typeof c=="string"&&whe.test(c)&&(v=c,xhe))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),N=dO(A.pathname,f);A.origin===_.origin&&N!=null?c=N+A.search+A.hash:m=!0}catch{}let g=Kde(c,{relative:i}),y=_he(c,{replace:o,state:s,target:l,preventScrollReset:d,relative:i,viewTransition:h});function x(_){n&&n(_),_.defaultPrevented||y(_)}return j.createElement("a",aC({},p,{href:v||g,onClick:m||a?n:x,ref:r,target:l}))});var tM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tM||(tM={}));var rM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rM||(rM={}));function _he(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=Wi(),c=df(),d=sH(t,{relative:o});return j.useCallback(h=>{if(phe(h,r)){h.preventDefault();let p=n!==void 0?n:tS(c)===tS(d);l(t,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,d,n,i,r,t,a,o,s])}function dH(t){let e=j.useRef(oC(t)),r=j.useRef(!1),n=df(),i=j.useMemo(()=>mhe(n.search,r.current?null:e.current),[n.search]),a=Wi(),o=j.useCallback((s,l)=>{const c=oC(typeof s=="function"?s(i):s);r.current=!0,a("?"+c,l)},[a,i]);return[i,o]}const She=()=>{};var nM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Ahe=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},fH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=a>>2,h=(a&3)<<4|s>>4;let p=(s&15)<<2|c>>6,f=c&63;l||(f=64,o||(p=64)),n.push(r[d],r[h],r[p],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ahe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||h==null)throw new Ehe;const p=a<<2|s>>4;if(n.push(p),c!==64){const f=s<<4&240|c>>2;if(n.push(f),h!==64){const v=c<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ehe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nhe=function(t){const e=hH(t);return fH.encodeByteArray(e,!0)},nS=function(t){return Nhe(t).replace(/\./g,"")},pH=function(t){try{return fH.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Phe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const The=()=>Phe().__FIREBASE_DEFAULTS__,jhe=()=>{if(typeof process>"u"||typeof nM>"u")return;const t=nM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Che=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pH(t[1]);return e&&JSON.parse(e)},hA=()=>{try{return She()||The()||jhe()||Che()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mH=t=>{var e,r;return(r=(e=hA())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},khe=t=>{const e=mH(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},gH=()=>{var t;return(t=hA())==null?void 0:t.config},vH=t=>{var e;return(e=hA())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ihe=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yH(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ohe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nS(JSON.stringify(r)),nS(JSON.stringify(o)),""].join(".")}const g1={};function Rhe(){const t={prod:[],emulator:[]};for(const e of Object.keys(g1))g1[e]?t.emulator.push(e):t.prod.push(e);return t}function Dhe(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let iM=!1;function bH(t,e){if(typeof window>"u"||typeof document>"u"||!Ay(window.location.host)||g1[t]===e||g1[t]||iM)return;g1[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=Rhe().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,f){p.setAttribute("width","24"),p.setAttribute("id",f),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{iM=!0,o()},p}function d(p,f){p.setAttribute("id",f),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Dhe(n),f=r("text"),v=document.getElementById(f)||document.createElement("span"),m=r("learnmore"),g=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const _=p.element;s(_),d(g,m);const A=c();l(x,y),_.append(x,v,g,A),document.body.appendChild(_)}a?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lhe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ma())}function Mhe(){var e;const t=(e=hA())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $he(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fhe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bhe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uhe(){const t=Ma();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Vhe(){return!Mhe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zhe(){try{return typeof indexedDB=="object"}catch{return!1}}function qhe(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Whe="FirebaseError";class Zu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Whe,Object.setPrototypeOf(this,Zu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tx.prototype.create)}}class Tx{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Hhe(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Zu(i,s,n)}}function Hhe(t,e){return t.replace(Ghe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Ghe=/\{\$([^}]+)}/g;function Khe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(aM(a)&&aM(o)){if(!qp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function aM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function G0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function K0(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Yhe(t,e){const r=new Xhe(t,e);return r.subscribe.bind(r)}class Xhe{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Qhe(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=rP),i.error===void 0&&(i.error=rP),i.complete===void 0&&(i.complete=rP);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qhe(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function rP(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){return t&&t._delegate?t._delegate:t}class Wp{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jhe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Ihe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(efe(e))try{this.getOrInitializeService({instanceIdentifier:Gf})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Gf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gf){return this.instances.has(e)}getOptions(e=Gf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Zhe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Gf){return this.component?this.component.multipleInstances?e:Gf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zhe(t){return t===Gf?void 0:t}function efe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tfe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Jhe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wr||(wr={}));const rfe={debug:wr.DEBUG,verbose:wr.VERBOSE,info:wr.INFO,warn:wr.WARN,error:wr.ERROR,silent:wr.SILENT},nfe=wr.INFO,ife={[wr.DEBUG]:"log",[wr.VERBOSE]:"log",[wr.INFO]:"info",[wr.WARN]:"warn",[wr.ERROR]:"error"},afe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=ife[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mO{constructor(e){this.name=e,this._logLevel=nfe,this._logHandler=afe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rfe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wr.DEBUG,...e),this._logHandler(this,wr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wr.VERBOSE,...e),this._logHandler(this,wr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wr.INFO,...e),this._logHandler(this,wr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wr.WARN,...e),this._logHandler(this,wr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wr.ERROR,...e),this._logHandler(this,wr.ERROR,...e)}}const ofe=(t,e)=>e.some(r=>t instanceof r);let oM,sM;function sfe(){return oM||(oM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lfe(){return sM||(sM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xH=new WeakMap,sC=new WeakMap,wH=new WeakMap,nP=new WeakMap,gO=new WeakMap;function cfe(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Th(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&xH.set(r,t)}).catch(()=>{}),gO.set(e,t),e}function ufe(t){if(sC.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});sC.set(t,e)}let lC={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return sC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wH.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Th(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dfe(t){lC=t(lC)}function hfe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(iP(this),e,...r);return wH.set(n,e.sort?e.sort():[e]),Th(n)}:lfe().includes(t)?function(...e){return t.apply(iP(this),e),Th(xH.get(this))}:function(...e){return Th(t.apply(iP(this),e))}}function ffe(t){return typeof t=="function"?hfe(t):(t instanceof IDBTransaction&&ufe(t),ofe(t,sfe())?new Proxy(t,lC):t)}function Th(t){if(t instanceof IDBRequest)return cfe(t);if(nP.has(t))return nP.get(t);const e=ffe(t);return e!==t&&(nP.set(t,e),gO.set(e,t)),e}const iP=t=>gO.get(t);function pfe(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Th(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Th(o.result),l.oldVersion,l.newVersion,Th(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const mfe=["get","getKey","getAll","getAllKeys","count"],gfe=["put","add","delete","clear"],aP=new Map;function lM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(aP.get(e))return aP.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=gfe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||mfe.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return aP.set(e,a),a}dfe(t=>({...t,get:(e,r,n)=>lM(e,r)||t.get(e,r,n),has:(e,r)=>!!lM(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vfe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(yfe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function yfe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cC="@firebase/app",cM="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new mO("@firebase/app"),bfe="@firebase/app-compat",xfe="@firebase/analytics-compat",wfe="@firebase/analytics",_fe="@firebase/app-check-compat",Sfe="@firebase/app-check",Afe="@firebase/auth",Efe="@firebase/auth-compat",Nfe="@firebase/database",Pfe="@firebase/data-connect",Tfe="@firebase/database-compat",jfe="@firebase/functions",Cfe="@firebase/functions-compat",kfe="@firebase/installations",Ife="@firebase/installations-compat",Ofe="@firebase/messaging",Rfe="@firebase/messaging-compat",Dfe="@firebase/performance",Lfe="@firebase/performance-compat",Mfe="@firebase/remote-config",$fe="@firebase/remote-config-compat",Ffe="@firebase/storage",Bfe="@firebase/storage-compat",Ufe="@firebase/firestore",Vfe="@firebase/ai",zfe="@firebase/firestore-compat",qfe="firebase",Wfe="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="[DEFAULT]",Hfe={[cC]:"fire-core",[bfe]:"fire-core-compat",[wfe]:"fire-analytics",[xfe]:"fire-analytics-compat",[Sfe]:"fire-app-check",[_fe]:"fire-app-check-compat",[Afe]:"fire-auth",[Efe]:"fire-auth-compat",[Nfe]:"fire-rtdb",[Pfe]:"fire-data-connect",[Tfe]:"fire-rtdb-compat",[jfe]:"fire-fn",[Cfe]:"fire-fn-compat",[kfe]:"fire-iid",[Ife]:"fire-iid-compat",[Ofe]:"fire-fcm",[Rfe]:"fire-fcm-compat",[Dfe]:"fire-perf",[Lfe]:"fire-perf-compat",[Mfe]:"fire-rc",[$fe]:"fire-rc-compat",[Ffe]:"fire-gcs",[Bfe]:"fire-gcs-compat",[Ufe]:"fire-fst",[zfe]:"fire-fst-compat",[Vfe]:"fire-vertex","fire-js":"fire-js",[qfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map,Gfe=new Map,dC=new Map;function uM(t,e){try{t.container.addComponent(e)}catch(r){zu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ev(t){const e=t.name;if(dC.has(e))return zu.debug(`There were multiple attempts to register component ${e}.`),!1;dC.set(e,t);for(const r of iS.values())uM(r,t);for(const r of Gfe.values())uM(r,t);return!0}function vO(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Os(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kfe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jh=new Tx("app","Firebase",Kfe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yfe{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=Wfe;function _H(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:uC,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw jh.create("bad-app-name",{appName:String(i)});if(r||(r=gH()),!r)throw jh.create("no-options");const a=iS.get(i);if(a){if(qp(r,a.options)&&qp(n,a.config))return a;throw jh.create("duplicate-app",{appName:i})}const o=new tfe(i);for(const l of dC.values())o.addComponent(l);const s=new Yfe(r,n,o);return iS.set(i,s),s}function SH(t=uC){const e=iS.get(t);if(!e&&t===uC&&gH())return _H();if(!e)throw jh.create("no-app",{appName:t});return e}function Ch(t,e,r){let n=Hfe[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zu.warn(o.join(" "));return}Ev(new Wp(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xfe="firebase-heartbeat-database",Qfe=1,lb="firebase-heartbeat-store";let oP=null;function AH(){return oP||(oP=pfe(Xfe,Qfe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lb)}catch(r){console.warn(r)}}}}).catch(t=>{throw jh.create("idb-open",{originalErrorMessage:t.message})})),oP}async function Jfe(t){try{const r=(await AH()).transaction(lb),n=await r.objectStore(lb).get(EH(t));return await r.done,n}catch(e){if(e instanceof Zu)zu.warn(e.message);else{const r=jh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zu.warn(r.message)}}}async function dM(t,e){try{const n=(await AH()).transaction(lb,"readwrite");await n.objectStore(lb).put(e,EH(t)),await n.done}catch(r){if(r instanceof Zu)zu.warn(r.message);else{const n=jh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});zu.warn(n.message)}}}function EH(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zfe=1024,epe=30;class tpe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new npe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>epe){const o=ipe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){zu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=hM(),{heartbeatsToSend:n,unsentEntries:i}=rpe(this._heartbeatsCache.heartbeats),a=nS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return zu.warn(r),""}}}function hM(){return new Date().toISOString().substring(0,10)}function rpe(t,e=Zfe){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),fM(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),fM(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class npe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zhe()?qhe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Jfe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return dM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return dM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function fM(t){return nS(JSON.stringify({version:2,heartbeats:t})).length}function ipe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ape(t){Ev(new Wp("platform-logger",e=>new vfe(e),"PRIVATE")),Ev(new Wp("heartbeat",e=>new tpe(e),"PRIVATE")),Ch(cC,cM,t),Ch(cC,cM,"esm2020"),Ch("fire-js","")}ape("");function NH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ope=NH,PH=new Tx("auth","Firebase",NH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new mO("@firebase/auth");function spe(t,...e){aS.logLevel<=wr.WARN&&aS.warn(`Auth (${Ey}): ${t}`,...e)}function e_(t,...e){aS.logLevel<=wr.ERROR&&aS.error(`Auth (${Ey}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t,...e){throw yO(t,...e)}function wc(t,...e){return yO(t,...e)}function TH(t,e,r){const n={...ope(),[e]:r};return new Tx("auth","Firebase",n).create(e,{appName:t.name})}function Tu(t){return TH(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yO(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return PH.create(t,...e)}function zt(t,e,...r){if(!t)throw yO(e,...r)}function _u(t){const e="INTERNAL ASSERTION FAILED: "+t;throw e_(e),new Error(e)}function qu(t,e){t||_u(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function lpe(){return pM()==="http:"||pM()==="https:"}function pM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cpe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lpe()||Fhe()||"connection"in navigator)?navigator.onLine:!0}function upe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,r){this.shortDelay=e,this.longDelay=r,qu(r>e,"Short delay should be less than long delay!"),this.isMobile=Lhe()||Bhe()}get(){return cpe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){qu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_u("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_u("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_u("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hpe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fpe=new Cx(3e4,6e4);function hf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ed(t,e,r,n,i={}){return CH(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=jx({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return $he()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ay(t.emulatorConfig.host)&&(c.credentials="include"),jH.fetch()(await kH(t,t.config.apiHost,r,s),c)})}async function CH(t,e,r){t._canInitEmulator=!1;const n={...dpe,...e};try{const i=new mpe(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Zw(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zw(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zw(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zw(t,"user-disabled",o);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TH(t,d,c);Tl(t,d)}}catch(i){if(i instanceof Zu)throw i;Tl(t,"network-request-failed",{message:String(i)})}}async function kx(t,e,r,n,i={}){const a=await ed(t,e,r,n,i);return"mfaPendingCredential"in a&&Tl(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function kH(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?bO(t.config,i):`${t.config.apiScheme}://${i}`;return hpe.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function ppe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mpe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(wc(this.auth,"network-request-failed")),fpe.get())})}}function Zw(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=wc(t,e,n);return i.customData._tokenResponse=r,i}function mM(t){return t!==void 0&&t.enterprise!==void 0}class gpe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return ppe(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vpe(t,e){return ed(t,"GET","/v2/recaptchaConfig",hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ype(t,e){return ed(t,"POST","/v1/accounts:delete",e)}async function oS(t,e){return ed(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bpe(t,e=!1){const r=_i(t),n=await r.getIdToken(e),i=xO(n);zt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:v1(sP(i.auth_time)),issuedAtTime:v1(sP(i.iat)),expirationTime:v1(sP(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sP(t){return Number(t)*1e3}function xO(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return e_("JWT malformed, contained fewer than 3 sections"),null;try{const i=pH(r);return i?JSON.parse(i):(e_("Failed to decode base64 JWT payload"),null)}catch(i){return e_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gM(t){const e=xO(t);return zt(e,"internal-error"),zt(typeof e.exp<"u","internal-error"),zt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nv(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Zu&&xpe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function xpe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=v1(this.lastLoginAt),this.creationTime=v1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(t){var h;const e=t.auth,r=await t.getIdToken(),n=await Nv(t,oS(e,{idToken:r}));zt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?IH(i.providerUserInfo):[],o=Spe(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=s?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fC(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function _pe(t){const e=_i(t);await sS(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Spe(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function IH(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ape(t,e){const r=await CH(t,{},async()=>{const n=jx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await kH(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return t.emulatorConfig&&Ay(t.emulatorConfig.host)&&(l.credentials="include"),jH.fetch()(o,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Epe(t,e){return ed(t,"POST","/v2/accounts:revokeToken",hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zt(e.idToken,"internal-error"),zt(typeof e.idToken<"u","internal-error"),zt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){zt(e.length!==0,"internal-error");const r=gM(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Ape(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Lg;return n&&(zt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(zt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(zt(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lg,this.toJSON())}_performRefresh(){return _u("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e){zt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yl{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new wpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Nv(this,this.stsTokenManager.getToken(this.auth,e));return zt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return bpe(this,e)}reload(){return _pe(this)}_assign(e){this!==e&&(zt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new yl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await sS(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Os(this.auth.app))return Promise.reject(Tu(this.auth));const e=await this.getIdToken();return await Nv(this,ype(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,s=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:f,providerData:v,stsTokenManager:m}=r;zt(h&&m,e,"internal-error");const g=Lg.fromJSON(this.name,m);zt(typeof h=="string",e,"internal-error"),Rd(n,e.name),Rd(i,e.name),zt(typeof p=="boolean",e,"internal-error"),zt(typeof f=="boolean",e,"internal-error"),Rd(a,e.name),Rd(o,e.name),Rd(s,e.name),Rd(l,e.name),Rd(c,e.name),Rd(d,e.name);const y=new yl({uid:h,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:f,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:c,lastLoginAt:d});return v&&Array.isArray(v)&&(y.providerData=v.map(x=>({...x}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,r,n=!1){const i=new Lg;i.updateFromServerResponse(r);const a=new yl({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await sS(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];zt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?IH(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Lg;s.updateFromIdToken(n);const l=new yl({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fC(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new Map;function Su(t){qu(t instanceof Function,"Expected a class definition");let e=vM.get(t);return e?(qu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}OH.type="NONE";const yM=OH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e,r){return`firebase:${t}:${e}:${r}`}class Mg{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=t_(this.userKey,i.apiKey,a),this.fullPersistenceKey=t_("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await oS(this.auth,{idToken:e}).catch(()=>{});return r?yl._fromGetAccountInfoResponse(this.auth,r,e):null}return yl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Mg(Su(yM),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Su(yM);const o=t_(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await oS(e,{idToken:d}).catch(()=>{});if(!p)break;h=await yl._fromGetAccountInfoResponse(e,p,d)}else h=yl._fromJSON(e,d);c!==a&&(s=h),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Mg(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new Mg(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FH(e))return"Blackberry";if(BH(e))return"Webos";if(DH(e))return"Safari";if((e.includes("chrome/")||LH(e))&&!e.includes("edge/"))return"Chrome";if($H(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function RH(t=Ma()){return/firefox\//i.test(t)}function DH(t=Ma()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LH(t=Ma()){return/crios\//i.test(t)}function MH(t=Ma()){return/iemobile/i.test(t)}function $H(t=Ma()){return/android/i.test(t)}function FH(t=Ma()){return/blackberry/i.test(t)}function BH(t=Ma()){return/webos/i.test(t)}function wO(t=Ma()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Npe(t=Ma()){var e;return wO(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Ppe(){return Uhe()&&document.documentMode===10}function UH(t=Ma()){return wO(t)||$H(t)||BH(t)||FH(t)||/windows phone/i.test(t)||MH(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(t,e=[]){let r;switch(t){case"Browser":r=bM(Ma());break;case"Worker":r=`${bM(Ma())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ey}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tpe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jpe(t,e={}){return ed(t,"GET","/v2/passwordPolicy",hf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cpe=6;class kpe{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Cpe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ipe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xM(this),this.idTokenSubscription=new xM(this),this.beforeStateQueue=new Tpe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Su(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Mg.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await oS(this,{idToken:e}),n=await yl._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Os(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,s=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await sS(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=upe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Os(this.app))return Promise.reject(Tu(this));const r=e?_i(e):null;return r&&zt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&zt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Os(this.app)?Promise.reject(Tu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Os(this.app)?Promise.reject(Tu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Su(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jpe(this),r=new kpe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tx("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Epe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Su(e)||this._popupRedirectResolver;zt(r,this,"argument-error"),this.redirectPersistenceManager=await Mg.create(this,[Su(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&spe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fm(t){return _i(t)}class xM{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yhe(r=>this.observer=r)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ope(t){fA=t}function zH(t){return fA.loadJS(t)}function Rpe(){return fA.recaptchaEnterpriseScript}function Dpe(){return fA.gapiScript}function Lpe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Mpe{constructor(){this.enterprise=new $pe}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class $pe{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Fpe="recaptcha-enterprise",qH="NO_RECAPTCHA";class Bpe{constructor(e){this.type=Fpe,this.auth=fm(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{vpe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new gpe(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;mM(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(qH)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mpe().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&mM(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Rpe();l.length!==0&&(l+=s),zH(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function wM(t,e,r,n=!1,i=!1){const a=new Bpe(t);let o;if(i)o=qH;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const s={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function pC(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wM(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await wM(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Upe(t,e){const r=vO(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(qp(a,e??{}))return i;Tl(i,"already-initialized")}return r.initialize({options:e})}function Vpe(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Su);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function zpe(t,e,r){const n=fm(t);zt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=WH(e),{host:o,port:s}=qpe(e),l=s===null?"":`:${s}`,c={url:`${a}//${o}${l}/`},d=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){zt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),zt(qp(c,n.config.emulator)&&qp(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Ay(o)?(yH(`${a}//${o}${l}`),bH("Auth",!0)):Wpe()}function WH(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qpe(t){const e=WH(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:_M(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:_M(o)}}}function _M(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wpe(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return _u("not implemented")}_getIdTokenResponse(e){return _u("not implemented")}_linkToIdToken(e,r){return _u("not implemented")}_getReauthenticationResolver(e){return _u("not implemented")}}async function Hpe(t,e){return ed(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gpe(t,e){return kx(t,"POST","/v1/accounts:signInWithPassword",hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kpe(t,e){return kx(t,"POST","/v1/accounts:signInWithEmailLink",hf(t,e))}async function Ype(t,e){return kx(t,"POST","/v1/accounts:signInWithEmailLink",hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends _O{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new cb(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new cb(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pC(e,r,"signInWithPassword",Gpe);case"emailLink":return Kpe(e,{email:this._email,oobCode:this._password});default:Tl(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pC(e,n,"signUpPassword",Hpe);case"emailLink":return Ype(e,{idToken:r,email:this._email,oobCode:this._password});default:Tl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(t,e){return kx(t,"POST","/v1/accounts:signInWithIdp",hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xpe="http://localhost";class Hp extends _O{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Hp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Tl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new Hp(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return $g(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,$g(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,$g(e,r)}buildRequest(){const e={requestUri:Xpe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=jx(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qpe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jpe(t){const e=G0(K0(t)).link,r=e?G0(K0(e)).deep_link_id:null,n=G0(K0(t)).deep_link_id;return(n?G0(K0(n)).link:null)||n||r||e||t}class SO{constructor(e){const r=G0(K0(e)),n=r.apiKey??null,i=r.oobCode??null,a=Qpe(r.mode??null);zt(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Jpe(e);try{return new SO(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.providerId=Ny.PROVIDER_ID}static credential(e,r){return cb._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=SO.parseLink(r);return zt(n,"argument-error"),cb._fromEmailAndCode(e,n.code,n.tenantId)}}Ny.PROVIDER_ID="password";Ny.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ny.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends HH{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends Ix{constructor(){super("facebook.com")}static credential(e){return Hp._fromParams({providerId:Kd.PROVIDER_ID,signInMethod:Kd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kd.credentialFromTaggedObject(e)}static credentialFromError(e){return Kd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kd.credential(e.oauthAccessToken)}catch{return null}}}Kd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Ix{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Hp._fromParams({providerId:Yd.PROVIDER_ID,signInMethod:Yd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Yd.credentialFromTaggedObject(e)}static credentialFromError(e){return Yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Yd.credential(r,n)}catch{return null}}}Yd.GOOGLE_SIGN_IN_METHOD="google.com";Yd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Ix{constructor(){super("github.com")}static credential(e){return Hp._fromParams({providerId:Xd.PROVIDER_ID,signInMethod:Xd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xd.credentialFromTaggedObject(e)}static credentialFromError(e){return Xd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xd.credential(e.oauthAccessToken)}catch{return null}}}Xd.GITHUB_SIGN_IN_METHOD="github.com";Xd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Ix{constructor(){super("twitter.com")}static credential(e,r){return Hp._fromParams({providerId:Qd.PROVIDER_ID,signInMethod:Qd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Qd.credentialFromTaggedObject(e)}static credentialFromError(e){return Qd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Qd.credential(r,n)}catch{return null}}}Qd.TWITTER_SIGN_IN_METHOD="twitter.com";Qd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zpe(t,e){return kx(t,"POST","/v1/accounts:signUp",hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await yl._fromIdTokenResponse(e,n,i),o=SM(n);return new Gp({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=SM(n);return new Gp({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function SM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends Zu{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,lS.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new lS(e,r,n,i)}}function GH(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?lS._fromErrorAndOperation(t,a,e,n):a})}async function eme(t,e,r=!1){const n=await Nv(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Gp._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tme(t,e,r=!1){const{auth:n}=t;if(Os(n.app))return Promise.reject(Tu(n));const i="reauthenticate";try{const a=await Nv(t,GH(n,i,e,t),r);zt(a.idToken,n,"internal-error");const o=xO(a.idToken);zt(o,n,"internal-error");const{sub:s}=o;return zt(t.uid===s,n,"user-mismatch"),Gp._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Tl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KH(t,e,r=!1){if(Os(t.app))return Promise.reject(Tu(t));const n="signIn",i=await GH(t,n,e),a=await Gp._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function rme(t,e){return KH(fm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YH(t){const e=fm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nme(t,e,r){if(Os(t.app))return Promise.reject(Tu(t));const n=fm(t),o=await pC(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zpe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YH(t),l}),s=await Gp._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function ime(t,e,r){return Os(t.app)?Promise.reject(Tu(t)):rme(_i(t),Ny.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&YH(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ame(t,e){return ed(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ome(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=_i(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Nv(n,ame(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function sme(t,e,r,n){return _i(t).onIdTokenChanged(e,r,n)}function lme(t,e,r){return _i(t).beforeAuthStateChanged(e,r)}function cme(t,e,r,n){return _i(t).onAuthStateChanged(e,r,n)}function ume(t){return _i(t).signOut()}async function dme(t){return _i(t).delete()}const cS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(cS,"1"),this.storage.removeItem(cS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hme=1e3,fme=10;class QH extends XH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UH(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);Ppe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fme):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},hme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}QH.type="LOCAL";const pme=QH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH extends XH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}JH.type="SESSION";const ZH=JH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mme(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new pA(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await mme(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gme{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=AO("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(p.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(){return window}function vme(t){_c().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(){return typeof _c().WorkerGlobalScope<"u"&&typeof _c().importScripts=="function"}async function yme(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bme(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function xme(){return eG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG="firebaseLocalStorageDb",wme=1,uS="firebaseLocalStorage",rG="fbase_key";class Ox{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function mA(t,e){return t.transaction([uS],e?"readwrite":"readonly").objectStore(uS)}function _me(){const t=indexedDB.deleteDatabase(tG);return new Ox(t).toPromise()}function mC(){const t=indexedDB.open(tG,wme);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(uS,{keyPath:rG})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(uS)?e(n):(n.close(),await _me(),e(await mC()))})})}async function AM(t,e,r){const n=mA(t,!0).put({[rG]:e,value:r});return new Ox(n).toPromise()}async function Sme(t,e){const r=mA(t,!1).get(e),n=await new Ox(r).toPromise();return n===void 0?null:n.value}function EM(t,e){const r=mA(t,!0).delete(e);return new Ox(r).toPromise()}const Ame=800,Eme=3;class nG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mC(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Eme)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pA._getInstance(xme()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await yme(),!this.activeServiceWorker)return;this.sender=new gme(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bme()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mC();return await AM(e,cS,"1"),await EM(e,cS),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>AM(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Sme(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>EM(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=mA(i,!1).getAll();return new Ox(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ame)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nG.type="LOCAL";const Nme=nG;new Cx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pme(t,e){return e?Su(e):(zt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO extends _O{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $g(e,this._buildIdpRequest())}_linkToIdToken(e,r){return $g(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return $g(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Tme(t){return KH(t.auth,new EO(t),t.bypassAuthState)}function jme(t){const{auth:e,user:r}=t;return zt(r,e,"internal-error"),tme(r,new EO(t),t.bypassAuthState)}async function Cme(t){const{auth:e,user:r}=t;return zt(r,e,"internal-error"),eme(r,new EO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tme;case"linkViaPopup":case"linkViaRedirect":return Cme;case"reauthViaPopup":case"reauthViaRedirect":return jme;default:Tl(this.auth,"internal-error")}}resolve(e){qu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kme=new Cx(2e3,1e4);class wg extends iG{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,wg.currentPopupAction&&wg.currentPopupAction.cancel(),wg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return zt(e,this.auth,"internal-error"),e}async onExecution(){qu(this.filter.length===1,"Popup operations only handle one event");const e=AO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(wc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kme.get())};e()}}wg.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ime="pendingRedirect",r_=new Map;class Ome extends iG{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=r_.get(this.auth._key());if(!e){try{const n=await Rme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}r_.set(this.auth._key(),e)}return this.bypassAuthState||r_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rme(t,e){const r=Mme(e),n=Lme(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Dme(t,e){r_.set(t._key(),e)}function Lme(t){return Su(t._redirectPersistence)}function Mme(t){return t_(Ime,t.config.apiKey,t.name)}async function $me(t,e,r=!1){if(Os(t.app))return Promise.reject(Tu(t));const n=fm(t),i=Pme(n,e),o=await new Ome(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fme=10*60*1e3;class Bme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ume(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!aG(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(wc(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fme&&this.cachedEventUids.clear(),this.cachedEventUids.has(NM(e))}saveEventToCache(e){this.cachedEventUids.add(NM(e)),this.lastProcessedEventTime=Date.now()}}function NM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aG({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ume(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aG(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vme(t,e={}){return ed(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qme=/^https?/;async function Wme(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Vme(t);for(const r of e)try{if(Hme(r))return}catch{}Tl(t,"unauthorized-domain")}function Hme(t){const e=hC(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!qme.test(r))return!1;if(zme.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gme=new Cx(3e4,6e4);function PM(){const t=_c().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Kme(t){return new Promise((e,r)=>{var i,a,o;function n(){PM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PM(),r(wc(t,"network-request-failed"))},timeout:Gme.get()})}if((a=(i=_c().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=_c().gapi)!=null&&o.load)n();else{const s=Lpe("iframefcb");return _c()[s]=()=>{gapi.load?n():r(wc(t,"network-request-failed"))},zH(`${Dpe()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw n_=null,e})}let n_=null;function Yme(t){return n_=n_||Kme(t),n_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xme=new Cx(5e3,15e3),Qme="__/auth/iframe",Jme="emulator/auth/iframe",Zme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ege=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tge(t){const e=t.config;zt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?bO(e,Jme):`https://${t.config.authDomain}/${Qme}`,n={apiKey:e.apiKey,appName:t.name,v:Ey},i=ege.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${jx(n).slice(1)}`}async function rge(t){const e=await Yme(t),r=_c().gapi;return zt(r,t,"internal-error"),e.open({where:document.body,url:tge(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zme,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=wc(t,"network-request-failed"),s=_c().setTimeout(()=>{a(o)},Xme.get());function l(){_c().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ige=500,age=600,oge="_blank",sge="http://localhost";class TM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lge(t,e,r,n=ige,i=age){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l={...nge,width:n.toString(),height:i.toString(),top:a,left:o},c=Ma().toLowerCase();r&&(s=LH(c)?oge:r),RH(c)&&(e=e||sge,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[f,v])=>`${p}${f}=${v},`,"");if(Npe(c)&&s!=="_self")return cge(e||"",s),new TM(null);const h=window.open(e||"",s,d);zt(h,t,"popup-blocked");try{h.focus()}catch{}return new TM(h)}function cge(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uge="__/auth/handler",dge="emulator/auth/handler",hge=encodeURIComponent("fac");async function jM(t,e,r,n,i,a){zt(t.config.authDomain,t,"auth-domain-config-required"),zt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ey,eventId:i};if(e instanceof HH){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Khe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Ix){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),c=l?`#${hge}=${encodeURIComponent(l)}`:"";return`${fge(t)}?${jx(s).slice(1)}${c}`}function fge({config:t}){return t.emulator?bO(t,dge):`https://${t.authDomain}/${uge}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="webStorageSupport";class pge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZH,this._completeRedirectFn=$me,this._overrideRedirectResult=Dme}async _openPopup(e,r,n,i){var o;qu((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await jM(e,r,n,hC(),i);return lge(e,a,AO())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await jM(e,r,n,hC(),i);return vme(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(qu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await rge(e),n=new Bme(e);return r.register("authEvent",i=>(zt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(lP,{type:lP},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[lP];a!==void 0&&r(!!a),Tl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Wme(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return UH()||DH()||wO()}}const mge=pge;var CM="@firebase/auth",kM="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yge(t){Ev(new Wp("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;zt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VH(t)},c=new Ipe(n,i,a,l);return Vpe(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ev(new Wp("auth-internal",e=>{const r=fm(e.getProvider("auth").getImmediate());return(n=>new gge(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ch(CM,kM,vge(t)),Ch(CM,kM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bge=5*60,xge=vH("authIdTokenMaxAge")||bge;let IM=null;const wge=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>xge)return;const i=r==null?void 0:r.token;IM!==i&&(IM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _ge(t=SH()){const e=vO(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Upe(t,{popupRedirectResolver:mge,persistence:[Nme,pme,ZH]}),n=vH("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=wge(a.toString());lme(r,o,()=>o(r.currentUser)),sme(r,s=>o(s))}}const i=mH("auth");return i&&zpe(r,`http://${i}`),r}function Sge(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Ope({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=wc("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Sge().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yge("Browser");var Age="firebase",Ege="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ch(Age,Ege,"app");var OM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kh,oG;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,E){function k(){}k.prototype=E.prototype,P.F=E.prototype,P.prototype=new k,P.prototype.constructor=P,P.D=function(D,C,O){for(var L=Array(arguments.length-2),z=2;z<arguments.length;z++)L[z-2]=arguments[z];return E.prototype[C].apply(D,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,E,k){k||(k=0);const D=Array(16);if(typeof E=="string")for(var C=0;C<16;++C)D[C]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(C=0;C<16;++C)D[C]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=P.g[0],k=P.g[1],C=P.g[2];let O=P.g[3],L;L=E+(O^k&(C^O))+D[0]+3614090360&4294967295,E=k+(L<<7&4294967295|L>>>25),L=O+(C^E&(k^C))+D[1]+3905402710&4294967295,O=E+(L<<12&4294967295|L>>>20),L=C+(k^O&(E^k))+D[2]+606105819&4294967295,C=O+(L<<17&4294967295|L>>>15),L=k+(E^C&(O^E))+D[3]+3250441966&4294967295,k=C+(L<<22&4294967295|L>>>10),L=E+(O^k&(C^O))+D[4]+4118548399&4294967295,E=k+(L<<7&4294967295|L>>>25),L=O+(C^E&(k^C))+D[5]+1200080426&4294967295,O=E+(L<<12&4294967295|L>>>20),L=C+(k^O&(E^k))+D[6]+2821735955&4294967295,C=O+(L<<17&4294967295|L>>>15),L=k+(E^C&(O^E))+D[7]+4249261313&4294967295,k=C+(L<<22&4294967295|L>>>10),L=E+(O^k&(C^O))+D[8]+1770035416&4294967295,E=k+(L<<7&4294967295|L>>>25),L=O+(C^E&(k^C))+D[9]+2336552879&4294967295,O=E+(L<<12&4294967295|L>>>20),L=C+(k^O&(E^k))+D[10]+4294925233&4294967295,C=O+(L<<17&4294967295|L>>>15),L=k+(E^C&(O^E))+D[11]+2304563134&4294967295,k=C+(L<<22&4294967295|L>>>10),L=E+(O^k&(C^O))+D[12]+1804603682&4294967295,E=k+(L<<7&4294967295|L>>>25),L=O+(C^E&(k^C))+D[13]+4254626195&4294967295,O=E+(L<<12&4294967295|L>>>20),L=C+(k^O&(E^k))+D[14]+2792965006&4294967295,C=O+(L<<17&4294967295|L>>>15),L=k+(E^C&(O^E))+D[15]+1236535329&4294967295,k=C+(L<<22&4294967295|L>>>10),L=E+(C^O&(k^C))+D[1]+4129170786&4294967295,E=k+(L<<5&4294967295|L>>>27),L=O+(k^C&(E^k))+D[6]+3225465664&4294967295,O=E+(L<<9&4294967295|L>>>23),L=C+(E^k&(O^E))+D[11]+643717713&4294967295,C=O+(L<<14&4294967295|L>>>18),L=k+(O^E&(C^O))+D[0]+3921069994&4294967295,k=C+(L<<20&4294967295|L>>>12),L=E+(C^O&(k^C))+D[5]+3593408605&4294967295,E=k+(L<<5&4294967295|L>>>27),L=O+(k^C&(E^k))+D[10]+38016083&4294967295,O=E+(L<<9&4294967295|L>>>23),L=C+(E^k&(O^E))+D[15]+3634488961&4294967295,C=O+(L<<14&4294967295|L>>>18),L=k+(O^E&(C^O))+D[4]+3889429448&4294967295,k=C+(L<<20&4294967295|L>>>12),L=E+(C^O&(k^C))+D[9]+568446438&4294967295,E=k+(L<<5&4294967295|L>>>27),L=O+(k^C&(E^k))+D[14]+3275163606&4294967295,O=E+(L<<9&4294967295|L>>>23),L=C+(E^k&(O^E))+D[3]+4107603335&4294967295,C=O+(L<<14&4294967295|L>>>18),L=k+(O^E&(C^O))+D[8]+1163531501&4294967295,k=C+(L<<20&4294967295|L>>>12),L=E+(C^O&(k^C))+D[13]+2850285829&4294967295,E=k+(L<<5&4294967295|L>>>27),L=O+(k^C&(E^k))+D[2]+4243563512&4294967295,O=E+(L<<9&4294967295|L>>>23),L=C+(E^k&(O^E))+D[7]+1735328473&4294967295,C=O+(L<<14&4294967295|L>>>18),L=k+(O^E&(C^O))+D[12]+2368359562&4294967295,k=C+(L<<20&4294967295|L>>>12),L=E+(k^C^O)+D[5]+4294588738&4294967295,E=k+(L<<4&4294967295|L>>>28),L=O+(E^k^C)+D[8]+2272392833&4294967295,O=E+(L<<11&4294967295|L>>>21),L=C+(O^E^k)+D[11]+1839030562&4294967295,C=O+(L<<16&4294967295|L>>>16),L=k+(C^O^E)+D[14]+4259657740&4294967295,k=C+(L<<23&4294967295|L>>>9),L=E+(k^C^O)+D[1]+2763975236&4294967295,E=k+(L<<4&4294967295|L>>>28),L=O+(E^k^C)+D[4]+1272893353&4294967295,O=E+(L<<11&4294967295|L>>>21),L=C+(O^E^k)+D[7]+4139469664&4294967295,C=O+(L<<16&4294967295|L>>>16),L=k+(C^O^E)+D[10]+3200236656&4294967295,k=C+(L<<23&4294967295|L>>>9),L=E+(k^C^O)+D[13]+681279174&4294967295,E=k+(L<<4&4294967295|L>>>28),L=O+(E^k^C)+D[0]+3936430074&4294967295,O=E+(L<<11&4294967295|L>>>21),L=C+(O^E^k)+D[3]+3572445317&4294967295,C=O+(L<<16&4294967295|L>>>16),L=k+(C^O^E)+D[6]+76029189&4294967295,k=C+(L<<23&4294967295|L>>>9),L=E+(k^C^O)+D[9]+3654602809&4294967295,E=k+(L<<4&4294967295|L>>>28),L=O+(E^k^C)+D[12]+3873151461&4294967295,O=E+(L<<11&4294967295|L>>>21),L=C+(O^E^k)+D[15]+530742520&4294967295,C=O+(L<<16&4294967295|L>>>16),L=k+(C^O^E)+D[2]+3299628645&4294967295,k=C+(L<<23&4294967295|L>>>9),L=E+(C^(k|~O))+D[0]+4096336452&4294967295,E=k+(L<<6&4294967295|L>>>26),L=O+(k^(E|~C))+D[7]+1126891415&4294967295,O=E+(L<<10&4294967295|L>>>22),L=C+(E^(O|~k))+D[14]+2878612391&4294967295,C=O+(L<<15&4294967295|L>>>17),L=k+(O^(C|~E))+D[5]+4237533241&4294967295,k=C+(L<<21&4294967295|L>>>11),L=E+(C^(k|~O))+D[12]+1700485571&4294967295,E=k+(L<<6&4294967295|L>>>26),L=O+(k^(E|~C))+D[3]+2399980690&4294967295,O=E+(L<<10&4294967295|L>>>22),L=C+(E^(O|~k))+D[10]+4293915773&4294967295,C=O+(L<<15&4294967295|L>>>17),L=k+(O^(C|~E))+D[1]+2240044497&4294967295,k=C+(L<<21&4294967295|L>>>11),L=E+(C^(k|~O))+D[8]+1873313359&4294967295,E=k+(L<<6&4294967295|L>>>26),L=O+(k^(E|~C))+D[15]+4264355552&4294967295,O=E+(L<<10&4294967295|L>>>22),L=C+(E^(O|~k))+D[6]+2734768916&4294967295,C=O+(L<<15&4294967295|L>>>17),L=k+(O^(C|~E))+D[13]+1309151649&4294967295,k=C+(L<<21&4294967295|L>>>11),L=E+(C^(k|~O))+D[4]+4149444226&4294967295,E=k+(L<<6&4294967295|L>>>26),L=O+(k^(E|~C))+D[11]+3174756917&4294967295,O=E+(L<<10&4294967295|L>>>22),L=C+(E^(O|~k))+D[2]+718787259&4294967295,C=O+(L<<15&4294967295|L>>>17),L=k+(O^(C|~E))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+E&4294967295,P.g[1]=P.g[1]+(C+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+C&4294967295,P.g[3]=P.g[3]+O&4294967295}n.prototype.v=function(P,E){E===void 0&&(E=P.length);const k=E-this.blockSize,D=this.C;let C=this.h,O=0;for(;O<E;){if(C==0)for(;O<=k;)i(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<E;)if(D[C++]=P.charCodeAt(O++),C==this.blockSize){i(this,D),C=0;break}}else for(;O<E;)if(D[C++]=P[O++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=E},n.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var E=1;E<P.length-8;++E)P[E]=0;E=this.o*8;for(var k=P.length-8;k<P.length;++k)P[k]=E&255,E/=256;for(this.v(P),P=Array(16),E=0,k=0;k<4;++k)for(let D=0;D<32;D+=8)P[E++]=this.g[k]>>>D&255;return P};function a(P,E){var k=s;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=E(P)}function o(P,E){this.h=E;const k=[];let D=!0;for(let C=P.length-1;C>=0;C--){const O=P[C]|0;D&&O==E||(k[C]=O,D=!1)}this.g=k}var s={};function l(P){return-128<=P&&P<128?a(P,function(E){return new o([E|0],E<0?-1:0)}):new o([P|0],P<0?-1:0)}function c(P){if(isNaN(P)||!isFinite(P))return h;if(P<0)return g(c(-P));const E=[];let k=1;for(let D=0;P>=k;D++)E[D]=P/k|0,k*=4294967296;return new o(E,0)}function d(P,E){if(P.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(P.charAt(0)=="-")return g(d(P.substring(1),E));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=c(Math.pow(E,8));let D=h;for(let O=0;O<P.length;O+=8){var C=Math.min(8,P.length-O);const L=parseInt(P.substring(O,O+C),E);C<8?(C=c(Math.pow(E,C)),D=D.j(C).add(c(L))):(D=D.j(k),D=D.add(c(L)))}return D}var h=l(0),p=l(1),f=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-g(this).m();let P=0,E=1;for(let k=0;k<this.g.length;k++){const D=this.i(k);P+=(D>=0?D:4294967296+D)*E,E*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(v(this))return"0";if(m(this))return"-"+g(this).toString(P);const E=c(Math.pow(P,6));var k=this;let D="";for(;;){const C=A(k,E).g;k=y(k,C.j(E));let O=((k.g.length>0?k.g[0]:k.h)>>>0).toString(P);if(k=C,v(k))return O+D;for(;O.length<6;)O="0"+O;D=O+D}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function v(P){if(P.h!=0)return!1;for(let E=0;E<P.g.length;E++)if(P.g[E]!=0)return!1;return!0}function m(P){return P.h==-1}t.l=function(P){return P=y(this,P),m(P)?-1:v(P)?0:1};function g(P){const E=P.g.length,k=[];for(let D=0;D<E;D++)k[D]=~P.g[D];return new o(k,~P.h).add(p)}t.abs=function(){return m(this)?g(this):this},t.add=function(P){const E=Math.max(this.g.length,P.g.length),k=[];let D=0;for(let C=0;C<=E;C++){let O=D+(this.i(C)&65535)+(P.i(C)&65535),L=(O>>>16)+(this.i(C)>>>16)+(P.i(C)>>>16);D=L>>>16,O&=65535,L&=65535,k[C]=L<<16|O}return new o(k,k[k.length-1]&-2147483648?-1:0)};function y(P,E){return P.add(g(E))}t.j=function(P){if(v(this)||v(P))return h;if(m(this))return m(P)?g(this).j(g(P)):g(g(this).j(P));if(m(P))return g(this.j(g(P)));if(this.l(f)<0&&P.l(f)<0)return c(this.m()*P.m());const E=this.g.length+P.g.length,k=[];for(var D=0;D<2*E;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(let C=0;C<P.g.length;C++){const O=this.i(D)>>>16,L=this.i(D)&65535,z=P.i(C)>>>16,re=P.i(C)&65535;k[2*D+2*C]+=L*re,x(k,2*D+2*C),k[2*D+2*C+1]+=O*re,x(k,2*D+2*C+1),k[2*D+2*C+1]+=L*z,x(k,2*D+2*C+1),k[2*D+2*C+2]+=O*z,x(k,2*D+2*C+2)}for(P=0;P<E;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=E;P<2*E;P++)k[P]=0;return new o(k,0)};function x(P,E){for(;(P[E]&65535)!=P[E];)P[E+1]+=P[E]>>>16,P[E]&=65535,E++}function _(P,E){this.g=P,this.h=E}function A(P,E){if(v(E))throw Error("division by zero");if(v(P))return new _(h,h);if(m(P))return E=A(g(P),E),new _(g(E.g),g(E.h));if(m(E))return E=A(P,g(E)),new _(g(E.g),E.h);if(P.g.length>30){if(m(P)||m(E))throw Error("slowDivide_ only works with positive integers.");for(var k=p,D=E;D.l(P)<=0;)k=N(k),D=N(D);var C=I(k,1),O=I(D,1);for(D=I(D,2),k=I(k,2);!v(D);){var L=O.add(D);L.l(P)<=0&&(C=C.add(k),O=L),D=I(D,1),k=I(k,1)}return E=y(P,C.j(E)),new _(C,E)}for(C=h;P.l(E)>=0;){for(k=Math.max(1,Math.floor(P.m()/E.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),O=c(k),L=O.j(E);m(L)||L.l(P)>0;)k-=D,O=c(k),L=O.j(E);v(O)&&(O=p),C=C.add(O),P=y(P,L)}return new _(C,P)}t.B=function(P){return A(this,P).h},t.and=function(P){const E=Math.max(this.g.length,P.g.length),k=[];for(let D=0;D<E;D++)k[D]=this.i(D)&P.i(D);return new o(k,this.h&P.h)},t.or=function(P){const E=Math.max(this.g.length,P.g.length),k=[];for(let D=0;D<E;D++)k[D]=this.i(D)|P.i(D);return new o(k,this.h|P.h)},t.xor=function(P){const E=Math.max(this.g.length,P.g.length),k=[];for(let D=0;D<E;D++)k[D]=this.i(D)^P.i(D);return new o(k,this.h^P.h)};function N(P){const E=P.g.length+1,k=[];for(let D=0;D<E;D++)k[D]=P.i(D)<<1|P.i(D-1)>>>31;return new o(k,P.h)}function I(P,E){const k=E>>5;E%=32;const D=P.g.length-k,C=[];for(let O=0;O<D;O++)C[O]=E>0?P.i(O+k)>>>E|P.i(O+k+1)<<32-E:P.i(O+k);return new o(C,P.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,oG=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,kh=o}).apply(typeof OM<"u"?OM:typeof self<"u"?self:typeof window<"u"?window:{});var e2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sG,Y0,lG,i_,gC,cG,uG,dG;(function(){var t,e=Object.defineProperty;function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof e2=="object"&&e2];for(var $=0;$<w.length;++$){var U=w[$];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var n=r(this);function i(w,$){if($)e:{var U=n;w=w.split(".");for(var ae=0;ae<w.length-1;ae++){var Te=w[ae];if(!(Te in U))break e;U=U[Te]}w=w[w.length-1],ae=U[w],$=$(ae),$!=ae&&$!=null&&e(U,w,{configurable:!0,writable:!0,value:$})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function($){var U=[],ae;for(ae in $)Object.prototype.hasOwnProperty.call($,ae)&&U.push([ae,$[ae]]);return U}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function s(w){var $=typeof w;return $=="object"&&w!=null||$=="function"}function l(w,$,U){return w.call.apply(w.bind,arguments)}function c(w,$,U){return c=l,c.apply(null,arguments)}function d(w,$){var U=Array.prototype.slice.call(arguments,1);return function(){var ae=U.slice();return ae.push.apply(ae,arguments),w.apply(this,ae)}}function h(w,$){function U(){}U.prototype=$.prototype,w.Z=$.prototype,w.prototype=new U,w.prototype.constructor=w,w.Ob=function(ae,Te,Ie){for(var Je=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)Je[Xt-2]=arguments[Xt];return $.prototype[Te].apply(ae,Je)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function f(w){const $=w.length;if($>0){const U=Array($);for(let ae=0;ae<$;ae++)U[ae]=w[ae];return U}return[]}function v(w,$){for(let ae=1;ae<arguments.length;ae++){const Te=arguments[ae];var U=typeof Te;if(U=U!="object"?U:Te?Array.isArray(Te)?"array":U:"null",U=="array"||U=="object"&&typeof Te.length=="number"){U=w.length||0;const Ie=Te.length||0;w.length=U+Ie;for(let Je=0;Je<Ie;Je++)w[U+Je]=Te[Je]}else w.push(Te)}}class m{constructor($,U){this.i=$,this.j=U,this.h=0,this.g=null}get(){let $;return this.h>0?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function g(w){o.setTimeout(()=>{throw w},0)}function y(){var w=P;let $=null;return w.g&&($=w.g,w.g=w.g.next,w.g||(w.h=null),$.next=null),$}class x{constructor(){this.h=this.g=null}add($,U){const ae=_.get();ae.set($,U),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var _=new m(()=>new A,w=>w.reset());class A{constructor(){this.next=this.g=this.h=null}set($,U){this.h=$,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let N,I=!1,P=new x,E=()=>{const w=Promise.resolve(void 0);N=()=>{w.then(k)}};function k(){for(var w;w=y();){try{w.h.call(w.g)}catch(U){g(U)}var $=_;$.j(w),$.h<100&&($.h++,w.next=$.g,$.g=w)}I=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(w,$){this.type=w,this.g=this.target=$,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,$=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const U=()=>{};o.addEventListener("test",U,$),o.removeEventListener("test",U,$)}catch{}return w}();function L(w){return/^[\s\xa0]*$/.test(w)}function z(w,$){C.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,$)}h(z,C),z.prototype.init=function(w,$){const U=this.type=w.type,ae=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=$,$=w.relatedTarget,$||(U=="mouseover"?$=w.fromElement:U=="mouseout"&&($=w.toElement)),this.relatedTarget=$,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),Y=0;function K(w,$,U,ae,Te){this.listener=w,this.proxy=null,this.src=$,this.type=U,this.capture=!!ae,this.ha=Te,this.key=++Y,this.da=this.fa=!1}function q(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Z(w,$,U){for(const ae in w)$.call(U,w[ae],ae,w)}function ye(w,$){for(const U in w)$.call(void 0,w[U],U,w)}function ce(w){const $={};for(const U in w)$[U]=w[U];return $}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(w,$){let U,ae;for(let Te=1;Te<arguments.length;Te++){ae=arguments[Te];for(U in ae)w[U]=ae[U];for(let Ie=0;Ie<F.length;Ie++)U=F[Ie],Object.prototype.hasOwnProperty.call(ae,U)&&(w[U]=ae[U])}}function G(w){this.src=w,this.g={},this.h=0}G.prototype.add=function(w,$,U,ae,Te){const Ie=w.toString();w=this.g[Ie],w||(w=this.g[Ie]=[],this.h++);const Je=J(w,$,ae,Te);return Je>-1?($=w[Je],U||($.fa=!1)):($=new K($,this.src,Ie,!!ae,Te),$.fa=U,w.push($)),$};function oe(w,$){const U=$.type;if(U in w.g){var ae=w.g[U],Te=Array.prototype.indexOf.call(ae,$,void 0),Ie;(Ie=Te>=0)&&Array.prototype.splice.call(ae,Te,1),Ie&&(q($),w.g[U].length==0&&(delete w.g[U],w.h--))}}function J(w,$,U,ae){for(let Te=0;Te<w.length;++Te){const Ie=w[Te];if(!Ie.da&&Ie.listener==$&&Ie.capture==!!U&&Ie.ha==ae)return Te}return-1}var ne="closure_lm_"+(Math.random()*1e6|0),xe={};function he(w,$,U,ae,Te){if(Array.isArray($)){for(let Ie=0;Ie<$.length;Ie++)he(w,$[Ie],U,ae,Te);return null}return U=Le(U),w&&w[re]?w.J($,U,s(ae)?!!ae.capture:!!ae,Te):T(w,$,U,!1,ae,Te)}function T(w,$,U,ae,Te,Ie){if(!$)throw Error("Invalid event type");const Je=s(Te)?!!Te.capture:!!Te;let Xt=Ne(w);if(Xt||(w[ne]=Xt=new G(w)),U=Xt.add($,U,ae,Je,Ie),U.proxy)return U;if(ae=X(),U.proxy=ae,ae.src=w,ae.listener=U,w.addEventListener)O||(Te=Je),Te===void 0&&(Te=!1),w.addEventListener($.toString(),ae,Te);else if(w.attachEvent)w.attachEvent(ve($.toString()),ae);else if(w.addListener&&w.removeListener)w.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return U}function X(){function w(U){return $.call(w.src,w.listener,U)}const $=ee;return w}function le(w,$,U,ae,Te){if(Array.isArray($))for(var Ie=0;Ie<$.length;Ie++)le(w,$[Ie],U,ae,Te);else ae=s(ae)?!!ae.capture:!!ae,U=Le(U),w&&w[re]?(w=w.i,Ie=String($).toString(),Ie in w.g&&($=w.g[Ie],U=J($,U,ae,Te),U>-1&&(q($[U]),Array.prototype.splice.call($,U,1),$.length==0&&(delete w.g[Ie],w.h--)))):w&&(w=Ne(w))&&($=w.g[$.toString()],w=-1,$&&(w=J($,U,ae,Te)),(U=w>-1?$[w]:null)&&de(U))}function de(w){if(typeof w!="number"&&w&&!w.da){var $=w.src;if($&&$[re])oe($.i,w);else{var U=w.type,ae=w.proxy;$.removeEventListener?$.removeEventListener(U,ae,w.capture):$.detachEvent?$.detachEvent(ve(U),ae):$.addListener&&$.removeListener&&$.removeListener(ae),(U=Ne($))?(oe(U,w),U.h==0&&(U.src=null,$[ne]=null)):q(w)}}}function ve(w){return w in xe?xe[w]:xe[w]="on"+w}function ee(w,$){if(w.da)w=!0;else{$=new z($,this);const U=w.listener,ae=w.ha||w.src;w.fa&&de(w),w=U.call(ae,$)}return w}function Ne(w){return w=w[ne],w instanceof G?w:null}var Re="__closure_events_fn_"+(Math.random()*1e9>>>0);function Le(w){return typeof w=="function"?w:(w[Re]||(w[Re]=function($){return w.handleEvent($)}),w[Re])}function Ae(){D.call(this),this.i=new G(this),this.M=this,this.G=null}h(Ae,D),Ae.prototype[re]=!0,Ae.prototype.removeEventListener=function(w,$,U,ae){le(this,w,$,U,ae)};function ge(w,$){var U,ae=w.G;if(ae)for(U=[];ae;ae=ae.G)U.push(ae);if(w=w.M,ae=$.type||$,typeof $=="string")$=new C($,w);else if($ instanceof C)$.target=$.target||w;else{var Te=$;$=new C(ae,w),V($,Te)}Te=!0;let Ie,Je;if(U)for(Je=U.length-1;Je>=0;Je--)Ie=$.g=U[Je],Te=we(Ie,ae,!0,$)&&Te;if(Ie=$.g=w,Te=we(Ie,ae,!0,$)&&Te,Te=we(Ie,ae,!1,$)&&Te,U)for(Je=0;Je<U.length;Je++)Ie=$.g=U[Je],Te=we(Ie,ae,!1,$)&&Te}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var w=this.i;for(const $ in w.g){const U=w.g[$];for(let ae=0;ae<U.length;ae++)q(U[ae]);delete w.g[$],w.h--}}this.G=null},Ae.prototype.J=function(w,$,U,ae){return this.i.add(String(w),$,!1,U,ae)},Ae.prototype.K=function(w,$,U,ae){return this.i.add(String(w),$,!0,U,ae)};function we(w,$,U,ae){if($=w.i.g[String($)],!$)return!0;$=$.concat();let Te=!0;for(let Ie=0;Ie<$.length;++Ie){const Je=$[Ie];if(Je&&!Je.da&&Je.capture==U){const Xt=Je.listener,vn=Je.ha||Je.src;Je.fa&&oe(w.i,Je),Te=Xt.call(vn,ae)!==!1&&Te}}return Te&&!ae.defaultPrevented}function De(w,$){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=c(w.handleEvent,w);else throw Error("Invalid listener argument");return Number($)>2147483647?-1:o.setTimeout(w,$||0)}function ze(w){w.g=De(()=>{w.g=null,w.i&&(w.i=!1,ze(w))},w.l);const $=w.h;w.h=null,w.m.apply(null,$)}class st extends D{constructor($,U){super(),this.m=$,this.l=U,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:ze(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(w){D.call(this),this.h=w,this.g={}}h(nt,D);var Ze=[];function _t(w){Z(w.g,function($,U){this.g.hasOwnProperty(U)&&de($)},w),w.g={}}nt.prototype.N=function(){nt.Z.N.call(this),_t(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tt=o.JSON.stringify,St=o.JSON.parse,Ct=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function at(){}function Jt(){}var Kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lt(){C.call(this,"d")}h(lt,C);function Oe(){C.call(this,"c")}h(Oe,C);var Mt={},mt=null;function er(){return mt=mt||new Ae}Mt.Ia="serverreachability";function $t(w){C.call(this,Mt.Ia,w)}h($t,C);function Vr(w){const $=er();ge($,new $t($))}Mt.STAT_EVENT="statevent";function hn(w,$){C.call(this,Mt.STAT_EVENT,w),this.stat=$}h(hn,C);function Dt(w){const $=er();ge($,new hn($,w))}Mt.Ja="timingevent";function bt(w,$){C.call(this,Mt.Ja,w),this.size=$}h(bt,C);function Ft(w,$){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},$)}function gt(){this.g=!0}gt.prototype.ua=function(){this.g=!1};function Nt(w,$,U,ae,Te,Ie){w.info(function(){if(w.g)if(Ie){var Je="",Xt=Ie.split("&");for(let xr=0;xr<Xt.length;xr++){var vn=Xt[xr].split("=");if(vn.length>1){const En=vn[0];vn=vn[1];const Gi=En.split("_");Je=Gi.length>=2&&Gi[1]=="type"?Je+(En+"="+vn+"&"):Je+(En+"=redacted&")}}}else Je=null;else Je=Ie;return"XMLHTTP REQ ("+ae+") [attempt "+Te+"]: "+$+`
`+U+`
`+Je})}function sr(w,$,U,ae,Te,Ie,Je){w.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+Te+"]: "+$+`
`+U+`
`+Ie+" "+Je})}function lr(w,$,U,ae){w.info(function(){return"XMLHTTP TEXT ("+$+"): "+Yn(w,U)+(ae?" "+ae:"")})}function it(w,$){w.info(function(){return"TIMEOUT: "+$})}gt.prototype.info=function(){};function Yn(w,$){if(!w.g)return $;if(!$)return null;try{const Ie=JSON.parse($);if(Ie){for(w=0;w<Ie.length;w++)if(Array.isArray(Ie[w])){var U=Ie[w];if(!(U.length<2)){var ae=U[1];if(Array.isArray(ae)&&!(ae.length<1)){var Te=ae[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(let Je=1;Je<ae.length;Je++)ae[Je]=""}}}}return Tt(Ie)}catch{return $}}var Rn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ln;function Jr(){}h(Jr,at),Jr.prototype.g=function(){return new XMLHttpRequest},ln=new Jr;function fn(w){return encodeURIComponent(String(w))}function xt(w){var $=1;w=w.split(":");const U=[];for(;$>0&&w.length;)U.push(w.shift()),$--;return w.length&&U.push(w.join(":")),U}function tr(w,$,U,ae){this.j=w,this.i=$,this.l=U,this.S=ae||1,this.V=new nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}var yr={},cn={};function un(w,$,U){w.M=1,w.A=ga(Wr($)),w.u=U,w.R=!0,Dn(w,null)}function Dn(w,$){w.F=Date.now(),fs(w),w.B=Wr(w.A);var U=w.B,ae=w.S;Array.isArray(ae)||(ae=[String(ae)]),Cm(U.i,"t",ae),w.C=0,U=w.j.L,w.h=new Ar,w.g=dt(w.j,U?$:null,!w.u),w.P>0&&(w.O=new st(c(w.Y,w,w.g),w.P)),$=w.V,U=w.g,ae=w.ba;var Te="readystatechange";Array.isArray(Te)||(Te&&(Ze[0]=Te.toString()),Te=Ze);for(let Ie=0;Ie<Te.length;Ie++){const Je=he(U,Te[Ie],ae||$.handleEvent,!1,$.h||$);if(!Je)break;$.g[Je.key]=Je}$=w.J?ce(w.J):{},w.u?(w.v||(w.v="POST"),$["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,$)):(w.v="GET",w.g.ea(w.B,w.v,null,$)),Vr(),Nt(w.i,w.v,w.B,w.l,w.S,w.u)}tr.prototype.ba=function(w){w=w.target;const $=this.O;$&&co(w)==3?$.j():this.Y(w)},tr.prototype.Y=function(w){try{if(w==this.g)e:{const Xt=co(this.g),vn=this.g.ya(),xr=this.g.ca();if(!(Xt<3)&&(Xt!=3||this.g&&(this.h.h||this.g.la()||md(this.g)))){this.K||Xt!=4||vn==7||(vn==8||xr<=0?Vr(3):Vr(2)),Fl(this);var $=this.g.ca();this.X=$;var U=pn(this);if(this.o=$==200,sr(this.i,this.v,this.B,this.l,this.S,Xt,$),this.o){if(this.U&&!this.L){t:{if(this.g){var ae,Te=this.g;if((ae=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ae)){var Ie=ae;break t}}Ie=null}if(w=Ie)lr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vc(this,w);else{this.o=!1,this.m=3,Dt(12),el(this),ps(this);break e}}if(this.R){w=!0;let En;for(;!this.K&&this.C<U.length;)if(En=Wn(this,U),En==cn){Xt==4&&(this.m=4,Dt(14),w=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(En==yr){this.m=4,Dt(15),lr(this.i,this.l,U,"[Invalid Chunk]"),w=!1;break}else lr(this.i,this.l,En,null),Vc(this,En);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||U.length!=0||this.h.h||(this.m=1,Dt(16),w=!1),this.o=this.o&&w,!w)lr(this.i,this.l,U,"[Invalid Chunked Response]"),el(this),ps(this);else if(U.length>0&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.aa&&!Je.P&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),vd(Je),Je.P=!0,Dt(11))}}else lr(this.i,this.l,U,null),Vc(this,U);Xt==4&&el(this),this.o&&!this.K&&(Xt==4?fe(this.j,this):(this.o=!1,fs(this)))}else Kc(this.g),$==400&&U.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),el(this),ps(this)}}}catch{}finally{}};function pn(w){if(!Dr(w))return w.g.la();const $=md(w.g);if($==="")return"";let U="";const ae=$.length,Te=co(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return el(w),ps(w),"";w.h.i=new o.TextDecoder}for(let Ie=0;Ie<ae;Ie++)w.h.h=!0,U+=w.h.i.decode($[Ie],{stream:!(Te&&Ie==ae-1)});return $.length=0,w.h.g+=U,w.C=0,w.h.g}function Dr(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function Wn(w,$){var U=w.C,ae=$.indexOf(`
`,U);return ae==-1?cn:(U=Number($.substring(U,ae)),isNaN(U)?yr:(ae+=1,ae+U>$.length?cn:($=$.slice(ae,ae+U),w.C=ae+U,$)))}tr.prototype.cancel=function(){this.K=!0,el(this)};function fs(w){w.T=Date.now()+w.H,Uc(w,w.H)}function Uc(w,$){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Ft(c(w.aa,w),$)}function Fl(w){w.D&&(o.clearTimeout(w.D),w.D=null)}tr.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(it(this.i,this.B),this.M!=2&&(Vr(),Dt(17)),el(this),this.m=2,ps(this)):Uc(this,this.T-w)};function ps(w){w.j.I==0||w.K||fe(w.j,w)}function el(w){Fl(w);var $=w.O;$&&typeof $.dispose=="function"&&$.dispose(),w.O=null,_t(w.V),w.g&&($=w.g,w.g=null,$.abort(),$.dispose())}function Vc(w,$){try{var U=w.j;if(U.I!=0&&(U.g==w||ld(U.h,w))){if(!w.L&&ld(U.h,w)&&U.I==3){try{var ae=U.Ba.g.parse($)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var Te=ae;if(Te[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<w.F)W(U),Hl(U);else break e;tl(U),Dt(18)}}else U.xa=Te[1],0<U.xa-U.K&&Te[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=Ft(c(U.Va,U),6e3));sd(U.h)<=1&&U.ta&&(U.ta=void 0)}else Pe(U,11)}else if((w.L||U.g==w)&&W(U),!L($))for(Te=U.Ba.g.parse($),$=0;$<Te.length;$++){let xr=Te[$];const En=xr[0];if(!(En<=U.K))if(U.K=En,xr=xr[1],U.I==2)if(xr[0]=="c"){U.M=xr[1],U.ba=xr[2];const Gi=xr[3];Gi!=null&&(U.ka=Gi,U.j.info("VER="+U.ka));const Va=xr[4];Va!=null&&(U.za=Va,U.j.info("SVER="+U.za));const Ln=xr[5];Ln!=null&&typeof Ln=="number"&&Ln>0&&(ae=1.5*Ln,U.O=ae,U.j.info("backChannelRequestTimeoutMs_="+ae)),ae=U;const ya=w.g;if(ya){const bs=ya.g?ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var Ie=ae.h;Ie.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(zc(Ie,Ie.h),Ie.h=null))}if(ae.G){const Xc=ya.g?ya.g.getResponseHeader("X-HTTP-Session-Id"):null;Xc&&(ae.wa=Xc,Lr(ae.J,ae.G,Xc))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-w.F,U.j.info("Handshake RTT: "+U.T+"ms")),ae=U;var Je=w;if(ae.na=We(ae,ae.L?ae.ba:null,ae.W),Je.L){Nf(ae.h,Je);var Xt=Je,vn=ae.O;vn&&(Xt.H=vn),Xt.D&&(Fl(Xt),fs(Xt)),ae.g=Je}else Rf(ae);U.i.length>0&&Yc(U)}else xr[0]!="stop"&&xr[0]!="close"||Pe(U,7);else U.I==3&&(xr[0]=="stop"||xr[0]=="close"?xr[0]=="stop"?Pe(U,7):Wl(U):xr[0]!="noop"&&U.l&&U.l.qa(xr),U.A=0)}}Vr(4)}catch{}}var Em=class{constructor(w,$){this.g=w,this.map=$}};function Ef(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fa(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function sd(w){return w.h?1:w.g?w.g.size:0}function ld(w,$){return w.h?w.h==$:w.g?w.g.has($):!1}function zc(w,$){w.g?w.g.add($):w.h=$}function Nf(w,$){w.h&&w.h==$?w.h=null:w.g&&w.g.has($)&&w.g.delete($)}Ef.prototype.cancel=function(){if(this.i=Pf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Pf(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let $=w.i;for(const U of w.g.values())$=$.concat(U.G);return $}return f(w.i)}var Tf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(w,$){if(w){w=w.split("&");for(let U=0;U<w.length;U++){const ae=w[U].indexOf("=");let Te,Ie=null;ae>=0?(Te=w[U].substring(0,ae),Ie=w[U].substring(ae+1)):Te=w[U],$(Te,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function ms(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let $;w instanceof ms?(this.l=w.l,Bl(this,w.j),this.o=w.o,this.g=w.g,Ul(this,w.u),this.h=w.h,Oo(this,dd(w.i)),this.m=w.m):w&&($=String(w).match(Tf))?(this.l=!1,Bl(this,$[1]||"",!0),this.o=Ro($[2]||""),this.g=Ro($[3]||"",!0),Ul(this,$[4]),this.h=Ro($[5]||"",!0),Oo(this,$[6]||"",!0),this.m=Ro($[7]||"")):(this.l=!1,this.i=new Vl(null,this.l))}ms.prototype.toString=function(){const w=[];var $=this.j;$&&w.push(mn($,Nm,!0),":");var U=this.g;return(U||$=="file")&&(w.push("//"),($=this.o)&&w.push(mn($,Nm,!0),"@"),w.push(fn(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&w.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&w.push("/"),w.push(mn(U,U.charAt(0)=="/"?Jy:Qy,!0))),(U=this.i.toString())&&w.push("?",U),(U=this.m)&&w.push("#",mn(U,Pm)),w.join("")},ms.prototype.resolve=function(w){const $=Wr(this);let U=!!w.j;U?Bl($,w.j):U=!!w.o,U?$.o=w.o:U=!!w.g,U?$.g=w.g:U=w.u!=null;var ae=w.h;if(U)Ul($,w.u);else if(U=!!w.h){if(ae.charAt(0)!="/")if(this.g&&!this.h)ae="/"+ae;else{var Te=$.h.lastIndexOf("/");Te!=-1&&(ae=$.h.slice(0,Te+1)+ae)}if(Te=ae,Te==".."||Te==".")ae="";else if(Te.indexOf("./")!=-1||Te.indexOf("/.")!=-1){ae=Te.lastIndexOf("/",0)==0,Te=Te.split("/");const Ie=[];for(let Je=0;Je<Te.length;){const Xt=Te[Je++];Xt=="."?ae&&Je==Te.length&&Ie.push(""):Xt==".."?((Ie.length>1||Ie.length==1&&Ie[0]!="")&&Ie.pop(),ae&&Je==Te.length&&Ie.push("")):(Ie.push(Xt),ae=!0)}ae=Ie.join("/")}else ae=Te}return U?$.h=ae:U=w.i.toString()!=="",U?Oo($,dd(w.i)):U=!!w.m,U&&($.m=w.m),$};function Wr(w){return new ms(w)}function Bl(w,$,U){w.j=U?Ro($,!0):$,w.j&&(w.j=w.j.replace(/:$/,""))}function Ul(w,$){if($){if($=Number($),isNaN($)||$<0)throw Error("Bad port number "+$);w.u=$}else w.u=null}function Oo(w,$,U){$ instanceof Vl?(w.i=$,zl(w.i,w.l)):(U||($=mn($,gs)),w.i=new Vl($,w.l))}function Lr(w,$,U){w.i.set($,U)}function ga(w){return Lr(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function Ro(w,$){return w?$?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function mn(w,$,U){return typeof w=="string"?(w=encodeURI(w).replace($,jf),U&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function jf(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Nm=/[#\/\?@]/g,Qy=/[#\?:]/g,Jy=/[#\?]/g,gs=/[#\?@]/g,Pm=/#/g;function Vl(w,$){this.h=this.g=null,this.i=w||null,this.j=!!$}function va(w){w.g||(w.g=new Map,w.h=0,w.i&&cd(w.i,function($,U){w.add(decodeURIComponent($.replace(/\+/g," ")),U)}))}t=Vl.prototype,t.add=function(w,$){va(this),this.i=null,w=so(this,w);let U=this.g.get(w);return U||this.g.set(w,U=[]),U.push($),this.h+=1,this};function ud(w,$){va(w),$=so(w,$),w.g.has($)&&(w.i=null,w.h-=w.g.get($).length,w.g.delete($))}function Tm(w,$){return va(w),$=so(w,$),w.g.has($)}t.forEach=function(w,$){va(this),this.g.forEach(function(U,ae){U.forEach(function(Te){w.call($,Te,ae,this)},this)},this)};function jm(w,$){va(w);let U=[];if(typeof $=="string")Tm(w,$)&&(U=U.concat(w.g.get(so(w,$))));else for(w=Array.from(w.g.values()),$=0;$<w.length;$++)U=U.concat(w[$]);return U}t.set=function(w,$){return va(this),this.i=null,w=so(this,w),Tm(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[$]),this.h+=1,this},t.get=function(w,$){return w?(w=jm(this,w),w.length>0?String(w[0]):$):$};function Cm(w,$,U){ud(w,$),U.length>0&&(w.i=null,w.g.set(so(w,$),f(U)),w.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],$=Array.from(this.g.keys());for(let ae=0;ae<$.length;ae++){var U=$[ae];const Te=fn(U);U=jm(this,U);for(let Ie=0;Ie<U.length;Ie++){let Je=Te;U[Ie]!==""&&(Je+="="+fn(U[Ie])),w.push(Je)}}return this.i=w.join("&")};function dd(w){const $=new Vl;return $.i=w.i,w.g&&($.g=new Map(w.g),$.h=w.h),$}function so(w,$){return $=String($),w.j&&($=$.toLowerCase()),$}function zl(w,$){$&&!w.j&&(va(w),w.i=null,w.g.forEach(function(U,ae){const Te=ae.toLowerCase();ae!=Te&&(ud(this,ae),Cm(this,Te,U))},w)),w.j=$}function Zy(w,$){const U=new gt;if(o.Image){const ae=new Image;ae.onload=d(lo,U,"TestLoadImage: loaded",!0,$,ae),ae.onerror=d(lo,U,"TestLoadImage: error",!1,$,ae),ae.onabort=d(lo,U,"TestLoadImage: abort",!1,$,ae),ae.ontimeout=d(lo,U,"TestLoadImage: timeout",!1,$,ae),o.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=w}else $(!1)}function qc(w,$){const U=new gt,ae=new AbortController,Te=setTimeout(()=>{ae.abort(),lo(U,"TestPingServer: timeout",!1,$)},1e4);fetch(w,{signal:ae.signal}).then(Ie=>{clearTimeout(Te),Ie.ok?lo(U,"TestPingServer: ok",!0,$):lo(U,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(Te),lo(U,"TestPingServer: error",!1,$)})}function lo(w,$,U,ae,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),ae(U)}catch{}}function Yt(){this.g=new Ct}function Cf(w){this.i=w.Sb||null,this.h=w.ab||!1}h(Cf,at),Cf.prototype.g=function(){return new hd(this.i,this.h)};function hd(w,$){Ae.call(this),this.H=w,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(hd,Ae),t=hd.prototype,t.open=function(w,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=$,this.readyState=1,Ba(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const $={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&($.body=w),(this.H||o).fetch(new Request(this.D,$)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wc(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;km(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function km(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var $=w.value?w.value:new Uint8Array(0);($=this.B.decode($,{stream:!w.done}))&&(this.response=this.responseText+=$)}w.done?Wc(this):Ba(this),this.readyState==3&&km(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,Wc(this))},t.Na=function(w){this.g&&(this.response=w,Wc(this))},t.ga=function(){this.g&&Wc(this)};function Wc(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Ba(w)}t.setRequestHeader=function(w,$){this.A.append(w,$)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],$=this.h.entries();for(var U=$.next();!U.done;)U=U.value,w.push(U[0]+": "+U[1]),U=$.next();return w.join(`\r
`)};function Ba(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function vs(w){let $="";return Z(w,function(U,ae){$+=ae,$+=":",$+=U,$+=`\r
`}),$}function kf(w,$,U){e:{for(ae in U){var ae=!1;break e}ae=!0}ae||(U=vs(U),typeof w=="string"?U!=null&&fn(U):Lr(w,$,U))}function Sn(w){Ae.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Sn,Ae);var fd=/^https?$/i,If=["POST","PUT"];t=Sn.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,$,U,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);$=$?$.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ln.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open($,String(w),!0),this.B=!1}catch(Ie){ql(this,Ie);return}if(w=U||"",U=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var Te in ae)U.set(Te,ae[Te]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Ie of ae.keys())U.set(Ie,ae.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(U.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),Te=o.FormData&&w instanceof o.FormData,!(Array.prototype.indexOf.call(If,$,void 0)>=0)||ae||Te||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,Je]of U)this.g.setRequestHeader(Ie,Je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(Ie){ql(this,Ie)}};function ql(w,$){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=$,w.o=5,Hc(w),pd(w)}function Hc(w){w.A||(w.A=!0,ge(w,"complete"),ge(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,ge(this,"complete"),ge(this,"abort"),pd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pd(this,!0)),Sn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Gc(this):this.Xa())},t.Xa=function(){Gc(this)};function Gc(w){if(w.h&&typeof a<"u"){if(w.v&&co(w)==4)setTimeout(w.Ca.bind(w),0);else if(ge(w,"readystatechange"),co(w)==4){w.h=!1;try{const Ie=w.ca();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var U;if(!(U=$)){var ae;if(ae=Ie===0){let Je=String(w.D).match(Tf)[1]||null;!Je&&o.self&&o.self.location&&(Je=o.self.location.protocol.slice(0,-1)),ae=!fd.test(Je?Je.toLowerCase():"")}U=ae}if(U)ge(w,"complete"),ge(w,"success");else{w.o=6;try{var Te=co(w)>2?w.g.statusText:""}catch{Te=""}w.l=Te+" ["+w.ca()+"]",Hc(w)}}finally{pd(w)}}}}function pd(w,$){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const U=w.g;w.g=null,$||ge(w,"ready");try{U.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function co(w){return w.g?w.g.readyState:0}t.ca=function(){try{return co(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var $=this.g.responseText;return w&&$.indexOf(w)==0&&($=$.substring(w.length)),St($)}};function md(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Kc(w){const $={};w=(w.g&&co(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<w.length;ae++){if(L(w[ae]))continue;var U=xt(w[ae]);const Te=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Ie=$[Te]||[];$[Te]=Ie,Ie.push(U)}ye($,function(ae){return ae.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Do(w,$,U){return U&&U.internalChannelParams&&U.internalChannelParams[w]||$}function gd(w){this.za=0,this.i=[],this.j=new gt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Do("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Do("baseRetryDelayMs",5e3,w),this.Za=Do("retryDelaySeedMs",1e4,w),this.Ta=Do("forwardChannelMaxRetries",2,w),this.va=Do("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new Ef(w&&w.concurrentRequestLimit),this.Ba=new Yt,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gd.prototype,t.ka=8,t.I=1,t.connect=function(w,$,U,ae){Dt(0),this.W=w,this.H=$||{},U&&ae!==void 0&&(this.H.OSID=U,this.H.OAID=ae),this.F=this.X,this.J=We(this,null,this.W),Yc(this)};function Wl(w){if(Gl(w),w.I==3){var $=w.V++,U=Wr(w.J);if(Lr(U,"SID",w.M),Lr(U,"RID",$),Lr(U,"TYPE","terminate"),Ua(w,U),$=new tr(w,w.j,$),$.M=2,$.A=ga(Wr(U)),U=!1,o.navigator&&o.navigator.sendBeacon)try{U=o.navigator.sendBeacon($.A.toString(),"")}catch{}!U&&o.Image&&(new Image().src=$.A,U=!0),U||($.g=dt($.j,null),$.g.ea($.A)),$.F=Date.now(),fs($)}$e(w)}function Hl(w){w.g&&(vd(w),w.g.cancel(),w.g=null)}function Gl(w){Hl(w),w.v&&(o.clearTimeout(w.v),w.v=null),W(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&o.clearTimeout(w.m),w.m=null)}function Yc(w){if(!Fa(w.h)&&!w.m){w.m=!0;var $=w.Ea;N||E(),I||(N(),I=!0),P.add($,w),w.D=0}}function Im(w,$){return sd(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=$.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Ft(c(w.Ea,w,$),be(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const Te=new tr(this,this.j,w);let Ie=this.o;if(this.U&&(Ie?(Ie=ce(Ie),V(Ie,this.U)):Ie=this.U),this.u!==null||this.R||(Te.J=Ie,Ie=null),this.S)e:{for(var $=0,U=0;U<this.i.length;U++){t:{var ae=this.i[U];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if($+=ae,$>4096){$=U;break e}if($===4096||U===this.i.length-1){$=U+1;break e}}$=1e3}else $=1e3;$=Of(this,Te,$),U=Wr(this.J),Lr(U,"RID",w),Lr(U,"CVER",22),this.G&&Lr(U,"X-HTTP-Session-Id",this.G),Ua(this,U),Ie&&(this.R?$="headers="+fn(vs(Ie))+"&"+$:this.u&&kf(U,this.u,Ie)),zc(this.h,Te),this.Ra&&Lr(U,"TYPE","init"),this.S?(Lr(U,"$req",$),Lr(U,"SID","null"),Te.U=!0,un(Te,U,null)):un(Te,U,$),this.I=2}}else this.I==3&&(w?ys(this,w):this.i.length==0||Fa(this.h)||ys(this))};function ys(w,$){var U;$?U=$.l:U=w.V++;const ae=Wr(w.J);Lr(ae,"SID",w.M),Lr(ae,"RID",U),Lr(ae,"AID",w.K),Ua(w,ae),w.u&&w.o&&kf(ae,w.u,w.o),U=new tr(w,w.j,U,w.D+1),w.u===null&&(U.J=w.o),$&&(w.i=$.G.concat(w.i)),$=Of(w,U,1e3),U.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),zc(w.h,U),un(U,ae,$)}function Ua(w,$){w.H&&Z(w.H,function(U,ae){Lr($,ae,U)}),w.l&&Z({},function(U,ae){Lr($,ae,U)})}function Of(w,$,U){U=Math.min(w.i.length,U);const ae=w.l?c(w.l.Ka,w.l,w):null;e:{var Te=w.i;let Xt=-1;for(;;){const vn=["count="+U];Xt==-1?U>0?(Xt=Te[0].g,vn.push("ofs="+Xt)):Xt=0:vn.push("ofs="+Xt);let xr=!0;for(let En=0;En<U;En++){var Ie=Te[En].g;const Gi=Te[En].map;if(Ie-=Xt,Ie<0)Xt=Math.max(0,Te[En].g-100),xr=!1;else try{Ie="req"+Ie+"_"||"";try{var Je=Gi instanceof Map?Gi:Object.entries(Gi);for(const[Va,Ln]of Je){let ya=Ln;s(Ln)&&(ya=Tt(Ln)),vn.push(Ie+Va+"="+encodeURIComponent(ya))}}catch(Va){throw vn.push(Ie+"type="+encodeURIComponent("_badmap")),Va}}catch{ae&&ae(Gi)}}if(xr){Je=vn.join("&");break e}}Je=void 0}return w=w.i.splice(0,U),$.G=w,Je}function Rf(w){if(!w.g&&!w.v){w.Y=1;var $=w.Da;N||E(),I||(N(),I=!0),P.add($,w),w.A=0}}function tl(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Ft(c(w.Da,w),be(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,R(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Ft(c(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Hl(this),R(this))};function vd(w){w.B!=null&&(o.clearTimeout(w.B),w.B=null)}function R(w){w.g=new tr(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var $=Wr(w.na);Lr($,"RID","rpc"),Lr($,"SID",w.M),Lr($,"AID",w.K),Lr($,"CI",w.F?"0":"1"),!w.F&&w.ia&&Lr($,"TO",w.ia),Lr($,"TYPE","xmlhttp"),Ua(w,$),w.u&&w.o&&kf($,w.u,w.o),w.O&&(w.g.H=w.O);var U=w.g;w=w.ba,U.M=1,U.A=ga(Wr($)),U.u=null,U.R=!0,Dn(U,w)}t.Va=function(){this.C!=null&&(this.C=null,Hl(this),tl(this),Dt(19))};function W(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function fe(w,$){var U=null;if(w.g==$){W(w),vd(w),w.g=null;var ae=2}else if(ld(w.h,$))U=$.G,Nf(w.h,$),ae=1;else return;if(w.I!=0){if($.o)if(ae==1){U=$.u?$.u.length:0,$=Date.now()-$.F;var Te=w.D;ae=er(),ge(ae,new bt(ae,U)),Yc(w)}else Rf(w);else if(Te=$.m,Te==3||Te==0&&$.X>0||!(ae==1&&Im(w,$)||ae==2&&tl(w)))switch(U&&U.length>0&&($=w.h,$.i=$.i.concat(U)),Te){case 1:Pe(w,5);break;case 4:Pe(w,10);break;case 3:Pe(w,6);break;default:Pe(w,2)}}}function be(w,$){let U=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(U*=2),U*$}function Pe(w,$){if(w.j.info("Error code "+$),$==2){var U=c(w.bb,w),ae=w.Ua;const Te=!ae;ae=new ms(ae||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bl(ae,"https"),ga(ae),Te?Zy(ae.toString(),U):qc(ae.toString(),U)}else Dt(2);w.I=0,w.l&&w.l.pa($),$e(w),Gl(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function $e(w){if(w.I=0,w.ja=[],w.l){const $=Pf(w.h);($.length!=0||w.i.length!=0)&&(v(w.ja,$),v(w.ja,w.i),w.h.i.length=0,f(w.i),w.i.length=0),w.l.oa()}}function We(w,$,U){var ae=U instanceof ms?Wr(U):new ms(U);if(ae.g!="")$&&(ae.g=$+"."+ae.g),Ul(ae,ae.u);else{var Te=o.location;ae=Te.protocol,$=$?$+"."+Te.hostname:Te.hostname,Te=+Te.port;const Ie=new ms(null);ae&&Bl(Ie,ae),$&&(Ie.g=$),Te&&Ul(Ie,Te),U&&(Ie.h=U),ae=Ie}return U=w.G,$=w.wa,U&&$&&Lr(ae,U,$),Lr(ae,"VER",w.ka),Ua(w,ae),ae}function dt(w,$,U){if($&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return $=w.Aa&&!w.ma?new Sn(new Cf({ab:U})):new Sn(w.ma),$.Fa(w.L),$}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wt(){}t=wt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Bt(){}Bt.prototype.g=function(w,$){return new kt(w,$)};function kt(w,$){Ae.call(this),this.g=new gd($),this.l=w,this.h=$&&$.messageUrlParams||null,w=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(w?w["X-WebChannel-Content-Type"]=$.messageContentType:w={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.sa&&(w?w["X-WebChannel-Client-Profile"]=$.sa:w={"X-WebChannel-Client-Profile":$.sa}),this.g.U=w,(w=$&&$.Qb)&&!L(w)&&(this.g.u=w),this.A=$&&$.supportsCrossDomainXhr||!1,this.v=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!L($)&&(this.g.G=$,w=this.h,w!==null&&$ in w&&(w=this.h,$ in w&&delete w[$])),this.j=new gn(this)}h(kt,Ae),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Wl(this.g)},kt.prototype.o=function(w){var $=this.g;if(typeof w=="string"){var U={};U.__data__=w,w=U}else this.v&&(U={},U.__data__=Tt(w),w=U);$.i.push(new Em($.Ya++,w)),$.I==3&&Yc($)},kt.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,kt.Z.N.call(this)};function jr(w){lt.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var $=w.__sm__;if($){e:{for(const U in $){w=U;break e}w=void 0}(this.i=w)&&(w=this.i,$=$!==null&&w in $?$[w]:void 0),this.data=$}else this.data=w}h(jr,lt);function An(){Oe.call(this),this.status=1}h(An,Oe);function gn(w){this.g=w}h(gn,wt),gn.prototype.ra=function(){ge(this.g,"a")},gn.prototype.qa=function(w){ge(this.g,new jr(w))},gn.prototype.pa=function(w){ge(this.g,new An)},gn.prototype.oa=function(){ge(this.g,"b")},Bt.prototype.createWebChannel=Bt.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,dG=function(){return new Bt},uG=function(){return er()},cG=Mt,gC={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rn.NO_ERROR=0,Rn.TIMEOUT=8,Rn.HTTP_ERROR=6,i_=Rn,Rr.COMPLETE="complete",lG=Rr,Jt.EventType=Kt,Kt.OPEN="a",Kt.CLOSE="b",Kt.ERROR="c",Kt.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Y0=Jt,Sn.prototype.listenOnce=Sn.prototype.K,Sn.prototype.getLastError=Sn.prototype.Ha,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.ca,Sn.prototype.getResponseJson=Sn.prototype.La,Sn.prototype.getResponseText=Sn.prototype.la,Sn.prototype.send=Sn.prototype.ea,Sn.prototype.setWithCredentials=Sn.prototype.Fa,sG=Sn}).apply(typeof e2<"u"?e2:typeof self<"u"?self:typeof window<"u"?window:{});const RM="@firebase/firestore",DM="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ca.UNAUTHENTICATED=new Ca(null),Ca.GOOGLE_CREDENTIALS=new Ca("google-credentials-uid"),Ca.FIRST_PARTY=new Ca("first-party-uid"),Ca.MOCK_USER=new Ca("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new mO("@firebase/firestore");function eg(){return Kp.logLevel}function ut(t,...e){if(Kp.logLevel<=wr.DEBUG){const r=e.map(NO);Kp.debug(`Firestore (${Py}): ${t}`,...r)}}function Wu(t,...e){if(Kp.logLevel<=wr.ERROR){const r=e.map(NO);Kp.error(`Firestore (${Py}): ${t}`,...r)}}function Pv(t,...e){if(Kp.logLevel<=wr.WARN){const r=e.map(NO);Kp.warn(`Firestore (${Py}): ${t}`,...r)}}function NO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,hG(t,n,r)}function hG(t,e,r){let n=`FIRESTORE (${Py}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Wu(n),new Error(n)}function Xr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||hG(e,i,n)}function ir(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Zu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ca.UNAUTHENTICATED))}shutdown(){}}class Pge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Tge{constructor(e){this.t=e,this.currentUser=Ca.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Xr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new ju;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ju,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ju)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xr(typeof n.accessToken=="string",31837,{l:n}),new fG(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xr(e===null||typeof e=="string",2055,{h:e}),new Ca(e)}}class jge{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ca.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cge{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new jge(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ca.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kge{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Os(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Xr(this.o===void 0,3512);const n=a=>{a.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ut("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LM(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Xr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new LM(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ige(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Ige(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function _r(t,e){return t<e?-1:t>e?1:0}function vC(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return cP(i)===cP(a)?_r(i,a):cP(i)?1:-1}return _r(t.length,e.length)}const Oge=55296,Rge=57343;function cP(t){const e=t.charCodeAt(0);return e>=Oge&&e<=Rge}function Tv(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="__name__";class ic{constructor(e,r,n){r===void 0?r=0:r>e.length&&qt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&qt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ic.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ic?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=ic.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return _r(e.length,r.length)}static compareSegments(e,r){const n=ic.isNumericId(e),i=ic.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?ic.extractNumericId(e).compare(ic.extractNumericId(r)):vC(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kh.fromString(e.substring(4,e.length-2))}}class wn extends ic{construct(e,r,n){return new wn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new et(Be.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new wn(r)}static emptyPath(){return new wn([])}}const Dge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class da extends ic{construct(e,r,n){return new da(e,r,n)}static isValidIdentifier(e){return Dge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),da.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MM}static keyField(){return new da([MM])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new et(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new et(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new et(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new et(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new da(r)}static emptyPath(){return new da([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(wn.fromString(e))}static fromName(e){return new Rt(wn.fromString(e).popFirst(5))}static empty(){return new Rt(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t,e,r){if(!r)throw new et(Be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lge(t,e,r,n){if(e===!0&&n===!0)throw new et(Be.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function $M(t){if(!Rt.isDocumentKey(t))throw new et(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FM(t){if(Rt.isDocumentKey(t))throw new et(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mG(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qt(12329,{type:typeof t})}function jl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new et(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=gA(t);throw new et(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Mge(t,e){if(e<=0)throw new et(Be.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){const r={typeString:t};return e&&(r.value=e),r}function Rx(t,e){if(!mG(t))throw new et(Be.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new et(Be.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=-62135596800,UM=1e6;class Vn{static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*UM);return new Vn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new et(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new et(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<BM)throw new et(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UM}_compareTo(e){return this.seconds===e.seconds?_r(this.nanoseconds,e.nanoseconds):_r(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rx(e,Vn._jsonSchema))return new Vn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vn._jsonSchemaVersion="firestore/timestamp/1.0",Vn._jsonSchema={type:ji("string",Vn._jsonSchemaVersion),seconds:ji("number"),nanoseconds:ji("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{static fromTimestamp(e){return new rr(e)}static min(){return new rr(new Vn(0,0))}static max(){return new rr(new Vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=-1;function $ge(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=rr.fromTimestamp(n===1e9?new Vn(r+1,0):new Vn(r,n));return new Wh(i,Rt.empty(),e)}function Fge(t){return new Wh(t.readTime,t.key,ub)}class Wh{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Wh(rr.min(),Rt.empty(),ub)}static max(){return new Wh(rr.max(),Rt.empty(),ub)}}function Bge(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Rt.comparator(t.documentKey,e.documentKey),r!==0?r:_r(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(t){if(t.code!==Be.FAILED_PRECONDITION||t.message!==Uge)throw t;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new qe((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof qe?r:qe.resolve(r)}catch(r){return qe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.reject(r)}static resolve(e){return new qe((r,n)=>{r(e)})}static reject(e){return new qe((r,n)=>{n(e)})}static waitFor(e){return new qe((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=qe.resolve(!1);for(const n of e)r=r.next(i=>i?qe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new qe((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(d=>{o[c]=d,++s,s===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new qe((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function zge(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function jy(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vA.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=-1;function yA(t){return t==null}function dS(t){return t===0&&1/t==-1/0}function qge(t){return typeof t=="number"&&Number.isInteger(t)&&!dS(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="";function Wge(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=VM(e)),e=Hge(t.get(r),e);return VM(e)}function Hge(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case gG:r+="";break;default:r+=a}}return r}function VM(t){return t+gG+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ff(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function vG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,r){this.comparator=e,this.root=r||ua.EMPTY}insert(e,r){return new ti(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ua.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ua.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t2(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t2(this.root,e,this.comparator,!1)}getReverseIterator(){return new t2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t2(this.root,e,this.comparator,!0)}}class t2{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ua{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??ua.RED,this.left=i??ua.EMPTY,this.right=a??ua.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new ua(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ua.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ua.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ua.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ua.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qt(27949);return e+(this.isRed()?0:1)}}ua.EMPTY=null,ua.RED=!0,ua.BLACK=!1;ua.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new ua(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new qM(this.data.getIterator())}getIteratorFrom(e){return new qM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof zi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new zi(this.comparator);return r.data=e,r}}class qM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.fields=e,e.sort(da.comparator)}static empty(){return new es([])}unionWith(e){let r=new zi(da.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new es(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Tv(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yG("Invalid base64 string: "+a):a}}(e);return new ma(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new ma(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _r(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ma.EMPTY_BYTE_STRING=new ma("");const Gge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hh(t){if(Xr(!!t,39018),typeof t=="string"){let e=0;const r=Gge.exec(t);if(Xr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:mi(t.seconds),nanos:mi(t.nanos)}}function mi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gh(t){return typeof t=="string"?ma.fromBase64String(t):ma.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG="server_timestamp",xG="__type__",wG="__previous_value__",_G="__local_write_time__";function bA(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[xG])==null?void 0:n.stringValue)===bG}function xA(t){const e=t.mapValue.fields[wG];return bA(e)?xA(e):e}function db(t){const e=Hh(t.mapValue.fields[_G].timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kge{constructor(e,r,n,i,a,o,s,l,c,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const hS="(default)";class hb{constructor(e,r){this.projectId=e,this.database=r||hS}static empty(){return new hb("","")}get isDefaultDatabase(){return this.database===hS}isEqual(e){return e instanceof hb&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG="__type__",AG="__max__",r2={mapValue:{fields:{__type__:{stringValue:AG}}}},EG="__vector__",fS="value";function Kh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bA(t)?4:Xge(t)?9007199254740991:Yge(t)?10:11:qt(28295,{value:t})}function Ic(t,e){if(t===e)return!0;const r=Kh(t);if(r!==Kh(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return db(t).isEqual(db(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Hh(i.timestampValue),s=Hh(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Gh(i.bytesValue).isEqual(Gh(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return mi(i.geoPointValue.latitude)===mi(a.geoPointValue.latitude)&&mi(i.geoPointValue.longitude)===mi(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return mi(i.integerValue)===mi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=mi(i.doubleValue),s=mi(a.doubleValue);return o===s?dS(o)===dS(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Tv(t.arrayValue.values||[],e.arrayValue.values||[],Ic);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(zM(o)!==zM(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Ic(o[l],s[l])))return!1;return!0}(t,e);default:return qt(52216,{left:t})}}function fb(t,e){return(t.values||[]).find(r=>Ic(r,e))!==void 0}function jv(t,e){if(t===e)return 0;const r=Kh(t),n=Kh(e);if(r!==n)return _r(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return _r(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=mi(a.integerValue||a.doubleValue),l=mi(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return WM(t.timestampValue,e.timestampValue);case 4:return WM(db(t),db(e));case 5:return vC(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Gh(a),l=Gh(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const d=_r(s[c],l[c]);if(d!==0)return d}return _r(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=_r(mi(a.latitude),mi(o.latitude));return s!==0?s:_r(mi(a.longitude),mi(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HM(t.arrayValue,e.arrayValue);case 10:return function(a,o){var p,f,v,m;const s=a.fields||{},l=o.fields||{},c=(p=s[fS])==null?void 0:p.arrayValue,d=(f=l[fS])==null?void 0:f.arrayValue,h=_r(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((m=d==null?void 0:d.values)==null?void 0:m.length)||0);return h!==0?h:HM(c,d)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===r2.mapValue&&o===r2.mapValue)return 0;if(a===r2.mapValue)return 1;if(o===r2.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=vC(l[h],d[h]);if(p!==0)return p;const f=jv(s[l[h]],c[d[h]]);if(f!==0)return f}return _r(l.length,d.length)}(t.mapValue,e.mapValue);default:throw qt(23264,{he:r})}}function WM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _r(t,e);const r=Hh(t),n=Hh(e),i=_r(r.seconds,n.seconds);return i!==0?i:_r(r.nanos,n.nanos)}function HM(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=jv(r[i],n[i]);if(a)return a}return _r(r.length,n.length)}function Cv(t){return yC(t)}function yC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Hh(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Gh(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Rt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=yC(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${yC(r.fields[o])}`;return i+"}"}(t.mapValue):qt(61005,{value:t})}function a_(t){switch(Kh(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xA(t);return e?16+a_(e):16;case 5:return 2*t.stringValue.length;case 6:return Gh(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+a_(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return ff(n.fields,(a,o)=>{i+=a.length+a_(o)}),i}(t.mapValue);default:throw qt(13486,{value:t})}}function pS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bC(t){return!!t&&"integerValue"in t}function jO(t){return!!t&&"arrayValue"in t}function GM(t){return!!t&&"nullValue"in t}function KM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function o_(t){return!!t&&"mapValue"in t}function Yge(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[SG])==null?void 0:n.stringValue)===EG}function y1(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ff(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=y1(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=y1(t.arrayValue.values[r]);return e}return{...t}}function Xge(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.value=e}static empty(){return new wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!o_(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=y1(r)}setAll(e){let r=da.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=y1(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());o_(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ic(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];o_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ff(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new wo(y1(this.value))}}function NG(t){const e=[];return ff(t.fields,(r,n)=>{const i=new da([r]);if(o_(n)){const a=NG(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ia(e,0,rr.min(),rr.min(),rr.min(),wo.empty(),0)}static newFoundDocument(e,r,n,i){return new Ia(e,1,r,rr.min(),n,i,0)}static newNoDocument(e,r){return new Ia(e,2,r,rr.min(),rr.min(),wo.empty(),0)}static newUnknownDocument(e,r){return new Ia(e,3,r,rr.min(),rr.min(),wo.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(rr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ia&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ia(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,r){this.position=e,this.inclusive=r}}function YM(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Rt.comparator(Rt.fromName(o.referenceValue),r.key):n=jv(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function XM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ic(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,r="asc"){this.field=e,this.dir=r}}function Qge(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{}class Pi extends PG{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Zge(e,r,n):r==="array-contains"?new rve(e,n):r==="in"?new nve(e,n):r==="not-in"?new ive(e,n):r==="array-contains-any"?new ave(e,n):new Pi(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new eve(e,n):new tve(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(jv(r,this.value)):r!==null&&Kh(this.value)===Kh(r)&&this.matchesComparison(jv(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cl extends PG{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Cl(e,r)}matches(e){return TG(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TG(t){return t.op==="and"}function jG(t){return Jge(t)&&TG(t)}function Jge(t){for(const e of t.filters)if(e instanceof Cl)return!1;return!0}function xC(t){if(t instanceof Pi)return t.field.canonicalString()+t.op.toString()+Cv(t.value);if(jG(t))return t.filters.map(e=>xC(e)).join(",");{const e=t.filters.map(r=>xC(r)).join(",");return`${t.op}(${e})`}}function CG(t,e){return t instanceof Pi?function(n,i){return i instanceof Pi&&n.op===i.op&&n.field.isEqual(i.field)&&Ic(n.value,i.value)}(t,e):t instanceof Cl?function(n,i){return i instanceof Cl&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&CG(o,i.filters[s]),!0):!1}(t,e):void qt(19439)}function kG(t){return t instanceof Pi?function(r){return`${r.field.canonicalString()} ${r.op} ${Cv(r.value)}`}(t):t instanceof Cl?function(r){return r.op.toString()+" {"+r.getFilters().map(kG).join(" ,")+"}"}(t):"Filter"}class Zge extends Pi{constructor(e,r,n){super(e,r,n),this.key=Rt.fromName(n.referenceValue)}matches(e){const r=Rt.comparator(e.key,this.key);return this.matchesComparison(r)}}class eve extends Pi{constructor(e,r){super(e,"in",r),this.keys=IG("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class tve extends Pi{constructor(e,r){super(e,"not-in",r),this.keys=IG("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function IG(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Rt.fromName(n.referenceValue))}class rve extends Pi{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return jO(r)&&fb(r.arrayValue,this.value)}}class nve extends Pi{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&fb(this.value.arrayValue,r)}}class ive extends Pi{constructor(e,r){super(e,"not-in",r)}matches(e){if(fb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!fb(this.value.arrayValue,r)}}class ave extends Pi{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!jO(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>fb(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ove{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function QM(t,e=null,r=[],n=[],i=null,a=null,o=null){return new ove(t,e,r,n,i,a,o)}function CO(t){const e=ir(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>xC(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),yA(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Cv(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Cv(n)).join(",")),e.Te=r}return e.Te}function kO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Qge(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!CG(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XM(t.startAt,e.startAt)&&XM(t.endAt,e.endAt)}function wC(t){return Rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sve(t,e,r,n,i,a,o,s){return new pf(t,e,r,n,i,a,o,s)}function IO(t){return new pf(t)}function JM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OO(t){return t.collectionGroup!==null}function Fg(t){const e=ir(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new zi(da.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new pb(a,n))}),r.has(da.keyField().canonicalString())||e.Ie.push(new pb(da.keyField(),n))}return e.Ie}function Sc(t){const e=ir(t);return e.Ee||(e.Ee=lve(e,Fg(t))),e.Ee}function lve(t,e){if(t.limitType==="F")return QM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new pb(i.field,a)});const r=t.endAt?new kv(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new kv(t.startAt.position,t.startAt.inclusive):null;return QM(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function _C(t,e){const r=t.filters.concat([e]);return new pf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function mS(t,e,r){return new pf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function wA(t,e){return kO(Sc(t),Sc(e))&&t.limitType===e.limitType}function OG(t){return`${CO(Sc(t))}|lt:${t.limitType}`}function tg(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>kG(i)).join(", ")}]`),yA(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Cv(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Cv(i)).join(",")),`Target(${n})`}(Sc(t))}; limitType=${t.limitType})`}function _A(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Rt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Fg(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=YM(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,Fg(n),i)||n.endAt&&!function(o,s,l){const c=YM(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,Fg(n),i))}(t,e)}function cve(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RG(t){return(e,r)=>{let n=!1;for(const i of Fg(t)){const a=uve(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function uve(t,e,r){const n=t.field.isKeyField()?Rt.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?jv(l,c):qt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ff(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return vG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dve=new ti(Rt.comparator);function Hu(){return dve}const DG=new ti(Rt.comparator);function X0(...t){let e=DG;for(const r of t)e=e.insert(r.key,r);return e}function LG(t){let e=DG;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function sp(){return b1()}function MG(){return b1()}function b1(){return new pm(t=>t.toString(),(t,e)=>t.isEqual(e))}const hve=new ti(Rt.comparator),fve=new zi(Rt.comparator);function Sr(...t){let e=fve;for(const r of t)e=e.add(r);return e}const pve=new zi(_r);function mve(){return pve}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dS(e)?"-0":e}}function $G(t){return{integerValue:""+t}}function gve(t,e){return qge(e)?$G(e):RO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this._=void 0}}function vve(t,e,r){return t instanceof mb?function(i,a){const o={fields:{[xG]:{stringValue:bG},[_G]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&bA(a)&&(a=xA(a)),a&&(o.fields[wG]=a),{mapValue:o}}(r,e):t instanceof gb?BG(t,e):t instanceof vb?UG(t,e):function(i,a){const o=FG(i,a),s=ZM(o)+ZM(i.Ae);return bC(o)&&bC(i.Ae)?$G(s):RO(i.serializer,s)}(t,e)}function yve(t,e,r){return t instanceof gb?BG(t,e):t instanceof vb?UG(t,e):r}function FG(t,e){return t instanceof gS?function(n){return bC(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class mb extends SA{}class gb extends SA{constructor(e){super(),this.elements=e}}function BG(t,e){const r=VG(e);for(const n of t.elements)r.some(i=>Ic(i,n))||r.push(n);return{arrayValue:{values:r}}}class vb extends SA{constructor(e){super(),this.elements=e}}function UG(t,e){let r=VG(e);for(const n of t.elements)r=r.filter(i=>!Ic(i,n));return{arrayValue:{values:r}}}class gS extends SA{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function ZM(t){return mi(t.integerValue||t.doubleValue)}function VG(t){return jO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bve{constructor(e,r){this.field=e,this.transform=r}}function xve(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof gb&&i instanceof gb||n instanceof vb&&i instanceof vb?Tv(n.elements,i.elements,Ic):n instanceof gS&&i instanceof gS?Ic(n.Ae,i.Ae):n instanceof mb&&i instanceof mb}(t.transform,e.transform)}class wve{constructor(e,r){this.version=e,this.transformResults=r}}class Us{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Us}static exists(e){return new Us(void 0,e)}static updateTime(e){return new Us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function s_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class AA{}function zG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DO(t.key,Us.none()):new Dx(t.key,t.data,Us.none());{const r=t.data,n=wo.empty();let i=new zi(da.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new mf(t.key,n,new es(i.toArray()),Us.none())}}function _ve(t,e,r){t instanceof Dx?function(i,a,o){const s=i.value.clone(),l=t8(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof mf?function(i,a,o){if(!s_(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=t8(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(qG(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function x1(t,e,r,n){return t instanceof Dx?function(a,o,s,l){if(!s_(a.precondition,o))return s;const c=a.value.clone(),d=r8(a.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof mf?function(a,o,s,l){if(!s_(a.precondition,o))return s;const c=r8(a.fieldTransforms,l,o),d=o.data;return d.setAll(qG(a)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,o,s){return s_(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function Sve(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=FG(n.transform,i||null);a!=null&&(r===null&&(r=wo.empty()),r.set(n.field,a))}return r||null}function e8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Tv(n,i,(a,o)=>xve(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dx extends AA{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mf extends AA{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qG(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function t8(t,e,r){const n=new Map;Xr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,yve(o,s,r[i]))}return n}function r8(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,vve(a,o,e))}return n}class DO extends AA{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ave extends AA{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eve{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&_ve(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=x1(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=x1(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=MG();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=zG(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(rr.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Sr())}isEqual(e){return this.batchId===e.batchId&&Tv(this.mutations,e.mutations,(r,n)=>e8(r,n))&&Tv(this.baseMutations,e.baseMutations,(r,n)=>e8(r,n))}}class LO{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Xr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return hve}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new LO(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nve=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pve{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si,Ir;function Tve(t){switch(t){case Be.OK:return qt(64938);case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0;default:return qt(15467,{code:t})}}function WG(t){if(t===void 0)return Wu("GRPC error has no .code"),Be.UNKNOWN;switch(t){case Si.OK:return Be.OK;case Si.CANCELLED:return Be.CANCELLED;case Si.UNKNOWN:return Be.UNKNOWN;case Si.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case Si.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case Si.INTERNAL:return Be.INTERNAL;case Si.UNAVAILABLE:return Be.UNAVAILABLE;case Si.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case Si.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case Si.NOT_FOUND:return Be.NOT_FOUND;case Si.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case Si.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case Si.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case Si.ABORTED:return Be.ABORTED;case Si.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case Si.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case Si.DATA_LOSS:return Be.DATA_LOSS;default:return qt(39323,{code:t})}}(Ir=Si||(Si={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jve(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cve=new kh([4294967295,4294967295],0);function n8(t){const e=jve().encode(t),r=new oG;return r.update(e),new Uint8Array(r.digest())}function i8(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new kh([r,n],0),new kh([i,a],0)]}class MO{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Q0(`Invalid padding: ${r}`);if(n<0)throw new Q0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Q0(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Q0(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=kh.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(kh.fromNumber(n)));return i.compare(Cve)===1&&(i=new kh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=n8(e),[n,i]=i8(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new MO(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.ge===0)return;const r=n8(e),[n,i]=i8(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Q0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Lx.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new EA(rr.min(),i,new ti(_r),Hu(),Sr())}}class Lx{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Lx(n,r,Sr(),Sr(),Sr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class HG{constructor(e,r){this.targetId=e,this.Ce=r}}class GG{constructor(e,r,n=ma.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class a8{constructor(){this.ve=0,this.Fe=o8(),this.Me=ma.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Sr(),r=Sr(),n=Sr();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:qt(38017,{changeType:a})}}),new Lx(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=o8()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kve{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hu(),this.Je=n2(),this.He=n2(),this.Ye=new ti(_r)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:qt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(wC(a))if(n===0){const o=new Rt(a.path);this.et(r,o,Ia.newNoDocument(o,rr.min()))}else Xr(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Gh(n).toUint8Array()}catch(l){if(l instanceof yG)return Pv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new MO(o,i,a)}catch(l){return Pv(l instanceof Q0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const s=this.ot(o);if(s){if(a.current&&wC(s.target)){const l=new Rt(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ia.newNoDocument(l,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=Sr();this.He.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new EA(e,r,this.Ye,this.je,n);return this.je=Hu(),this.Je=n2(),this.He=n2(),this.Ye=new ti(_r),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new a8,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new zi(_r),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new zi(_r),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ut("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a8),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function n2(){return new ti(Rt.comparator)}function o8(){return new ti(Rt.comparator)}const Ive={asc:"ASCENDING",desc:"DESCENDING"},Ove={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rve={and:"AND",or:"OR"};class Dve{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function SC(t,e){return t.useProto3Json||yA(e)?e:{value:e}}function vS(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lve(t,e){return vS(t,e.toTimestamp())}function Ac(t){return Xr(!!t,49232),rr.fromTimestamp(function(r){const n=Hh(r);return new Vn(n.seconds,n.nanos)}(t))}function $O(t,e){return AC(t,e).canonicalString()}function AC(t,e){const r=function(i){return new wn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function YG(t){const e=wn.fromString(t);return Xr(eK(e),10190,{key:e.toString()}),e}function EC(t,e){return $O(t.databaseId,e.path)}function uP(t,e){const r=YG(e);if(r.get(1)!==t.databaseId.projectId)throw new et(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new et(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Rt(QG(r))}function XG(t,e){return $O(t.databaseId,e)}function Mve(t){const e=YG(t);return e.length===4?wn.emptyPath():QG(e)}function NC(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QG(t){return Xr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s8(t,e,r){return{name:EC(t,e),fields:r.value.mapValue.fields}}function $ve(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:qt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,d){return c.useProto3Json?(Xr(d===void 0||typeof d=="string",58123),ma.fromBase64String(d||"")):(Xr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ma.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const d=c.code===void 0?Be.UNKNOWN:WG(c.code);return new et(d,c.message||"")}(o);r=new GG(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=uP(t,n.document.name),a=Ac(n.document.updateTime),o=n.document.createTime?Ac(n.document.createTime):rr.min(),s=new wo({mapValue:{fields:n.document.fields}}),l=Ia.newFoundDocument(i,a,o,s),c=n.targetIds||[],d=n.removedTargetIds||[];r=new l_(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=uP(t,n.document),a=n.readTime?Ac(n.readTime):rr.min(),o=Ia.newNoDocument(i,a),s=n.removedTargetIds||[];r=new l_([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=uP(t,n.document),a=n.removedTargetIds||[];r=new l_([],a,i,null)}else{if(!("filter"in e))return qt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new Pve(i,a),s=n.targetId;r=new HG(s,o)}}return r}function Fve(t,e){let r;if(e instanceof Dx)r={update:s8(t,e.key,e.value)};else if(e instanceof DO)r={delete:EC(t,e.key)};else if(e instanceof mf)r={update:s8(t,e.key,e.data),updateMask:Kve(e.fieldMask)};else{if(!(e instanceof Ave))return qt(16599,{Vt:e.type});r={verify:EC(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof mb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof gb)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof vb)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof gS)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw qt(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Lve(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qt(27497)}(t,e.precondition)),r}function Bve(t,e){return t&&t.length>0?(Xr(e!==void 0,14353),t.map(r=>function(i,a){let o=i.updateTime?Ac(i.updateTime):Ac(a);return o.isEqual(rr.min())&&(o=Ac(a)),new wve(o,i.transformResults||[])}(r,e))):[]}function Uve(t,e){return{documents:[XG(t,e.path)]}}function Vve(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=XG(t,i);const a=function(c){if(c.length!==0)return ZG(Cl.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:rg(p.field),direction:Wve(p.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=SC(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:r,parent:i}}function zve(t){let e=Mve(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Xr(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const p=JG(h);return p instanceof Cl&&jG(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(p=>function(v){return new pb(ng(v.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(r.orderBy));let s=null;r.limit&&(s=function(h){let p;return p=typeof h=="object"?h.value:h,yA(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new kv(f,p)}(r.startAt));let c=null;return r.endAt&&(c=function(h){const p=!h.before,f=h.values||[];return new kv(f,p)}(r.endAt)),sve(e,i,o,a,s,"F",l,c)}function qve(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function JG(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ng(r.unaryFilter.field);return Pi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ng(r.unaryFilter.field);return Pi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ng(r.unaryFilter.field);return Pi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ng(r.unaryFilter.field);return Pi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}}(t):t.fieldFilter!==void 0?function(r){return Pi.create(ng(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Cl.create(r.compositeFilter.filters.map(n=>JG(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qt(1026)}}(r.compositeFilter.op))}(t):qt(30097,{filter:t})}function Wve(t){return Ive[t]}function Hve(t){return Ove[t]}function Gve(t){return Rve[t]}function rg(t){return{fieldPath:t.canonicalString()}}function ng(t){return da.fromServerFormat(t.fieldPath)}function ZG(t){return t instanceof Pi?function(r){if(r.op==="=="){if(KM(r.value))return{unaryFilter:{field:rg(r.field),op:"IS_NAN"}};if(GM(r.value))return{unaryFilter:{field:rg(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(KM(r.value))return{unaryFilter:{field:rg(r.field),op:"IS_NOT_NAN"}};if(GM(r.value))return{unaryFilter:{field:rg(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rg(r.field),op:Hve(r.op),value:r.value}}}(t):t instanceof Cl?function(r){const n=r.getFilters().map(i=>ZG(i));return n.length===1?n[0]:{compositeFilter:{op:Gve(r.op),filters:n}}}(t):qt(54877,{filter:t})}function Kve(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function eK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,r,n,i,a=rr.min(),o=rr.min(),s=ma.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ph(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ph(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ph(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ph(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yve{constructor(e){this.yt=e}}function Xve(t){const e=zve({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qve{constructor(){this.Cn=new Jve}addToCollectionParentIndex(e,r){return this.Cn.add(r),qe.resolve()}getCollectionParents(e,r){return qe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return qe.resolve()}deleteFieldIndex(e,r){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,r){return qe.resolve()}getDocumentsMatchingTarget(e,r){return qe.resolve(null)}getIndexType(e,r){return qe.resolve(0)}getFieldIndexes(e,r){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,r){return qe.resolve(Wh.min())}getMinOffsetFromCollectionGroup(e,r){return qe.resolve(Wh.min())}updateCollectionGroup(e,r,n){return qe.resolve()}updateIndexEntries(e,r){return qe.resolve()}}class Jve{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new zi(wn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new zi(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tK=41943040;class vo{static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(tK,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Iv(0)}static cr(){return new Iv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="LruGarbageCollector",Zve=1048576;function u8([t,e],[r,n]){const i=_r(t,r);return i===0?_r(e,n):i}class eye{constructor(e){this.Ir=e,this.buffer=new zi(u8),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();u8(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class tye{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(c8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){jy(r)?ut(c8,"Ignoring IndexedDB error during garbage collection: ",r):await Ty(r)}await this.Vr(3e5)})}}class rye{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return qe.resolve(vA.ce);const n=new eye(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(l8)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l8):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,s,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,s=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(c=Date.now(),eg()<=wr.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function nye(t,e){return new rye(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iye{constructor(){this.changes=new pm(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ia.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?qe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aye{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oye{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&x1(n.mutation,i,es.empty(),Vn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Sr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Sr()){const i=sp();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=X0();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=sp();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Sr()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=Hu();const o=b1(),s=function(){return b1()}();return r.forEach((l,c)=>{const d=n.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof mf)?a=a.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),x1(d.mutation,c,d.mutation.getFieldMask(),Vn.now())):o.set(c.key,es.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,d)=>o.set(c,d)),r.forEach((c,d)=>s.set(c,new aye(d,o.get(c)??null))),s))}recalculateAndSaveOverlays(e,r){const n=b1();let i=new ti((o,s)=>o-s),a=Sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let d=n.get(l)||es.empty();d=s.applyToLocalView(c,d),n.set(l,d);const h=(i.get(s.batchId)||Sr()).add(l);i=i.insert(s.batchId,h)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,d=l.value,h=MG();d.forEach(p=>{if(!a.has(p)){const f=zG(r.get(p),n.get(p));f!==null&&h.set(p,f),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return qe.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):OO(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):qe.resolve(sp());let s=ub,l=a;return o.next(c=>qe.forEach(c,(d,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),a.get(d)?qe.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Sr())).next(d=>({batchId:s,changes:LG(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Rt(r)).next(n=>{let i=X0();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=X0();return this.indexManager.getCollectionParents(e,a).next(s=>qe.forEach(s,l=>{const c=function(h,p){return new pf(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ia.newInvalidDocument(d)))});let s=X0();return o.forEach((l,c)=>{const d=a.get(l);d!==void 0&&x1(d.mutation,c,es.empty(),Vn.now()),_A(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sye{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return qe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ac(i.createTime)}}(r)),qe.resolve()}getNamedQuery(e,r){return qe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:Xve(i.bundledQuery),readTime:Ac(i.readTime)}}(r)),qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lye{constructor(){this.overlays=new ti(Rt.comparator),this.qr=new Map}getOverlay(e,r){return qe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=sp();return qe.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),qe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),qe.resolve()}getOverlaysForCollection(e,r,n){const i=sp(),a=r.length+1,o=new Rt(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return qe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ti((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let d=a.get(c.largestBatchId);d===null&&(d=sp(),a=a.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const s=sp(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>s.set(c,d)),!(s.size()>=i)););return qe.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Nve(r,n));let a=this.qr.get(r);a===void 0&&(a=Sr(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cye{constructor(){this.sessionToken=ma.EMPTY_BYTE_STRING}getSessionToken(e){return qe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.Qr=new zi(Yi.$r),this.Ur=new zi(Yi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Yi(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Yi(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Rt(new wn([])),n=new Yi(r,e),i=new Yi(r,e+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Rt(new wn([])),n=new Yi(r,e),i=new Yi(r,e+1);let a=Sr();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Yi(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Yi{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Rt.comparator(e.key,r.key)||_r(e.Yr,r.Yr)}static Kr(e,r){return _r(e.Yr,r.Yr)||Rt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uye{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new zi(Yi.$r)}checkEmpty(e){return qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Eve(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Yi(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return qe.resolve(o)}lookupMutationBatch(e,r){return qe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return qe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(this.mutationQueue.length===0?TO:this.tr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Yi(r,0),i=new Yi(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const s=this.Xr(o.Yr);a.push(s)}),qe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new zi(_r);return r.forEach(i=>{const a=new Yi(i,0),o=new Yi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],s=>{n=n.add(s.Yr)})}),qe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Rt.isDocumentKey(a)||(a=a.child(""));const o=new Yi(new Rt(a),0);let s=new zi(_r);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Yr)),!0)},o),qe.resolve(this.ti(s))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Xr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return qe.forEach(r.mutations,i=>{const a=new Yi(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Yi(r,0),i=this.Zr.firstAfterOrEqual(n);return qe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,qe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dye{constructor(e){this.ri=e,this.docs=function(){return new ti(Rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return qe.resolve(n?n.document.mutableCopy():Ia.newInvalidDocument(r))}getEntries(e,r){let n=Hu();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ia.newInvalidDocument(i))}),qe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Hu();const o=r.path,s=new Rt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Bge(Fge(d),n)<=0||(i.has(d.key)||_A(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return qe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){qt(9500)}ii(e,r){return qe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new hye(this)}getSize(e){return qe.resolve(this.size)}}class hye extends iye{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),qe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fye{constructor(e){this.persistence=e,this.si=new pm(r=>CO(r),kO),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.oi=0,this._i=new FO,this.targetCount=0,this.ai=Iv.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),qe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Iv(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,qe.resolve()}updateTargetData(e,r){return this.Pr(r),qe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),qe.waitFor(a).next(()=>i)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return qe.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),qe.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),qe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),qe.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return qe.resolve(n)}containsKey(e,r){return qe.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,r){this.ui={},this.overlays={},this.ci=new vA(0),this.li=!1,this.li=!0,this.hi=new cye,this.referenceDelegate=e(this),this.Pi=new fye(this),this.indexManager=new Qve,this.remoteDocumentCache=function(i){return new dye(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Yve(r),this.Ii=new sye(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new lye,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new uye(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ut("MemoryPersistence","Starting transaction:",e);const i=new pye(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return qe.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class pye extends Vge{constructor(e){super(),this.currentSequenceNumber=e}}class BO{constructor(e){this.persistence=e,this.Ri=new FO,this.Vi=null}static mi(e){return new BO(e)}get fi(){if(this.Vi)return this.Vi;throw qt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),qe.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),qe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),qe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.fi,n=>{const i=Rt.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,rr.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return qe.or([()=>qe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class yS{constructor(e,r){this.persistence=e,this.pi=new pm(n=>Wge(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=nye(this,r)}static mi(e,r){return new yS(e,r)}Ei(){}di(e){return qe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return qe.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?qe.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(s=>{s||(n++,a.removeEntry(o,rr.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),qe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),qe.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),qe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),qe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=a_(e.data.value)),r}br(e,r,n){return qe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return qe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Sr(),i=Sr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new UO(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mye{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gye{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Vhe()?8:zge(Ma())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new mye;return this.Ss(e,r,o).next(s=>{if(a.result=s,this.Vs)return this.bs(e,r,o,s.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(eg()<=wr.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",tg(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),qe.resolve()):(eg()<=wr.DEBUG&&ut("QueryEngine","Query:",tg(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(eg()<=wr.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",tg(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sc(r))):qe.resolve())}ys(e,r){if(JM(r))return qe.resolve(null);let n=Sc(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=mS(r,null,"F"),n=Sc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Sr(...a);return this.ps.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(r,s);return this.Cs(r,c,o,l.readTime)?this.ys(e,mS(r,null,"F")):this.vs(e,c,r,l)}))})))}ws(e,r,n,i){return JM(r)||i.isEqual(rr.min())?qe.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?qe.resolve(null):(eg()<=wr.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tg(r)),this.vs(e,o,r,$ge(i,ub)).next(s=>s))})}Ds(e,r){let n=new zi(RG(e));return r.forEach((i,a)=>{_A(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return eg()<=wr.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",tg(r)),this.ps.getDocumentsMatchingQuery(e,r,Wh.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="LocalStore",vye=3e8;class yye{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new ti(_r),this.xs=new pm(a=>CO(a),kO),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oye(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function bye(t,e,r,n){return new yye(t,e,r,n)}async function nK(t,e){const r=ir(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Sr();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of a){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:s}))})})}function xye(t,e){const r=ir(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,c,d){const h=c.batch,p=h.keys();let f=qe.resolve();return p.forEach(v=>{f=f.next(()=>d.getEntry(l,v)).next(m=>{const g=c.docVersions.get(v);Xr(g!==null,48541),m.version.compareTo(g)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),d.addEntry(m)))})}),f.next(()=>s.mutationQueue.removeMutationBatch(l,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Sr();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function iK(t){const e=ir(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function wye(t,e){const r=ir(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;s.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let f=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(ma.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,n)),i=i.insert(h,f),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=vye?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,f,d)&&s.push(r.Pi.updateTargetData(a,f))});let l=Hu(),c=Sr();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),s.push(_ye(a,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!n.isEqual(rr.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(d)}return qe.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.Ms=i,a))}function _ye(t,e,r){let n=Sr(),i=Sr();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Hu();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(rr.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ut(VO,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function Sye(t,e){const r=ir(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=TO),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Aye(t,e){const r=ir(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,qe.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new ph(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function PC(t,e,r){const n=ir(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jy(o))throw o;ut(VO,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function d8(t,e,r){const n=ir(t);let i=rr.min(),a=Sr();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ir(l),p=h.xs.get(d);return p!==void 0?qe.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,d)}(n,o,Sc(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:rr.min(),r?a:Sr())).next(s=>(Eye(n,cve(e),s),{documents:s,Qs:a})))}function Eye(t,e,r){let n=t.Os.get(e)||rr.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class h8{constructor(){this.activeTargetIds=mve()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nye{constructor(){this.Mo=new h8,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h8,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pye{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="ConnectivityMonitor";class p8{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(f8,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(f8,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i2=null;function TC(){return i2===null?i2=function(){return 268435456+Math.round(2147483648*Math.random())}():i2++,"0x"+i2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="RestConnection",Tye={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jye{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===hS?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=TC(),s=this.zo(e,r.toUriEncodedString());ut(dP,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:c}=new URL(s),d=Ay(c);return this.Jo(e,s,l,n,d).then(h=>(ut(dP,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Pv(dP,`RPC '${e}' ${o} failed with error: `,h,"url: ",s,"request:",n),h})}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Py}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=Tye[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cye{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="WebChannelConnection";class kye extends jye{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=TC();return new Promise((s,l)=>{const c=new sG;c.setWithCredentials(!0),c.listenOnce(lG.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case i_.NO_ERROR:const h=c.getResponseJson();ut(_a,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case i_.TIMEOUT:ut(_a,`RPC '${e}' ${o} timed out`),l(new et(Be.DEADLINE_EXCEEDED,"Request time out"));break;case i_.HTTP_ERROR:const p=c.getStatus();if(ut(_a,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f==null?void 0:f.error;if(v&&v.status&&v.message){const m=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(x)>=0?x:Be.UNKNOWN}(v.status);l(new et(m,v.message))}else l(new et(Be.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new et(Be.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ut(_a,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);ut(_a,`RPC '${e}' ${o} sending request:`,i),c.send(r,"POST",d,n,15)})}T_(e,r,n){const i=TC(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dG(),s=uG(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=a.join("");ut(_a,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,f=!1;const v=new Cye({Yo:g=>{f?ut(_a,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(p||(ut(_a,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),ut(_a,`RPC '${e}' stream ${i} sending:`,g),h.send(g))},Zo:()=>h.close()}),m=(g,y,x)=>{g.listen(y,_=>{try{x(_)}catch(A){setTimeout(()=>{throw A},0)}})};return m(h,Y0.EventType.OPEN,()=>{f||(ut(_a,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),m(h,Y0.EventType.CLOSE,()=>{f||(f=!0,ut(_a,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(h))}),m(h,Y0.EventType.ERROR,g=>{f||(f=!0,Pv(_a,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),v.a_(new et(Be.UNAVAILABLE,"The operation could not be completed")))}),m(h,Y0.EventType.MESSAGE,g=>{var y;if(!f){const x=g.data[0];Xr(!!x,16349);const _=x,A=(_==null?void 0:_.error)||((y=_[0])==null?void 0:y.error);if(A){ut(_a,`RPC '${e}' stream ${i} received error:`,A);const N=A.status;let I=function(k){const D=Si[k];if(D!==void 0)return WG(D)}(N),P=A.message;I===void 0&&(I=Be.INTERNAL,P="Unknown error status: "+N+" with message "+A.message),f=!0,v.a_(new et(I,P)),h.close()}else ut(_a,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}}),m(s,cG.STAT_EVENT,g=>{g.stat===gC.PROXY?ut(_a,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===gC.NOPROXY&&ut(_a,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function hP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){return new Dve(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="PersistentStream";class oK{constructor(e,r,n,i,a,o,s,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aK(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Be.RESOURCE_EXHAUSTED?(Wu(r.toString()),Wu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new et(Be.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ut(m8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ut(m8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Iye extends oK{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=$ve(this.serializer,e),n=function(a){if(!("targetChange"in a))return rr.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?rr.min():o.readTime?Ac(o.readTime):rr.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=NC(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=wC(l)?{documents:Uve(a,l)}:{query:Vve(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=KG(a,o.resumeToken);const c=SC(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(rr.min())>0){s.readTime=vS(a,o.snapshotVersion.toTimestamp());const c=SC(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=qve(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=NC(this.serializer),r.removeTarget=e,this.q_(r)}}class Oye extends oK{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Xr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Bve(e.writeResults,e.commitTime),n=Ac(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=NC(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Fve(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rye{}class Dye extends Rye{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new et(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,AC(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new et(Be.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ho(e,AC(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(Be.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Lye{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wu(r),this.aa=!1):ut("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="RemoteStore";class Mye{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{mm(this)&&(ut(Yp,"Restarting streams for network reachability change."),await async function(l){const c=ir(l);c.Ea.add(4),await Mx(c),c.Ra.set("Unknown"),c.Ea.delete(4),await PA(c)}(this))})}),this.Ra=new Lye(n,i)}}async function PA(t){if(mm(t))for(const e of t.da)await e(!0)}async function Mx(t){for(const e of t.da)await e(!1)}function sK(t,e){const r=ir(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),HO(r)?WO(r):Cy(r).O_()&&qO(r,e))}function zO(t,e){const r=ir(t),n=Cy(r);r.Ia.delete(e),n.O_()&&lK(r,e),r.Ia.size===0&&(n.O_()?n.L_():mm(r)&&r.Ra.set("Unknown"))}function qO(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Cy(t).Y_(e)}function lK(t,e){t.Va.Ue(e),Cy(t).Z_(e)}function WO(t){t.Va=new kve({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cy(t).start(),t.Ra.ua()}function HO(t){return mm(t)&&!Cy(t).x_()&&t.Ia.size>0}function mm(t){return ir(t).Ea.size===0}function cK(t){t.Va=void 0}async function $ye(t){t.Ra.set("Online")}async function Fye(t){t.Ia.forEach((e,r)=>{qO(t,e)})}async function Bye(t,e){cK(t),HO(t)?(t.Ra.ha(e),WO(t)):t.Ra.set("Unknown")}async function Uye(t,e,r){if(t.Ra.set("Online"),e instanceof GG&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(n){ut(Yp,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await bS(t,n)}else if(e instanceof l_?t.Va.Ze(e):e instanceof HG?t.Va.st(e):t.Va.tt(e),!r.isEqual(rr.min()))try{const n=await iK(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.Ia.get(c);d&&a.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const d=a.Ia.get(l);if(!d)return;a.Ia.set(l,d.withResumeToken(ma.EMPTY_BYTE_STRING,d.snapshotVersion)),lK(a,l);const h=new ph(d.target,l,c,d.sequenceNumber);qO(a,h)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ut(Yp,"Failed to raise snapshot:",n),await bS(t,n)}}async function bS(t,e,r){if(!jy(e))throw e;t.Ea.add(1),await Mx(t),t.Ra.set("Offline"),r||(r=()=>iK(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ut(Yp,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await PA(t)})}function uK(t,e){return e().catch(r=>bS(t,r,e))}async function TA(t){const e=ir(t),r=Yh(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:TO;for(;Vye(e);)try{const i=await Sye(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,zye(e,i)}catch(i){await bS(e,i)}dK(e)&&hK(e)}function Vye(t){return mm(t)&&t.Ta.length<10}function zye(t,e){t.Ta.push(e);const r=Yh(t);r.O_()&&r.X_&&r.ea(e.mutations)}function dK(t){return mm(t)&&!Yh(t).x_()&&t.Ta.length>0}function hK(t){Yh(t).start()}async function qye(t){Yh(t).ra()}async function Wye(t){const e=Yh(t);for(const r of t.Ta)e.ea(r.mutations)}async function Hye(t,e,r){const n=t.Ta.shift(),i=LO.from(n,e,r);await uK(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await TA(t)}async function Gye(t,e){e&&Yh(t).X_&&await async function(n,i){if(function(o){return Tve(o)&&o!==Be.ABORTED}(i.code)){const a=n.Ta.shift();Yh(n).B_(),await uK(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await TA(n)}}(t,e),dK(t)&&hK(t)}async function g8(t,e){const r=ir(t);r.asyncQueue.verifyOperationInProgress(),ut(Yp,"RemoteStore received new credentials");const n=mm(r);r.Ea.add(3),await Mx(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await PA(r)}async function Kye(t,e){const r=ir(t);e?(r.Ea.delete(2),await PA(r)):e||(r.Ea.add(2),await Mx(r),r.Ra.set("Unknown"))}function Cy(t){return t.ma||(t.ma=function(r,n,i){const a=ir(r);return a.sa(),new Iye(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:$ye.bind(null,t),t_:Fye.bind(null,t),r_:Bye.bind(null,t),H_:Uye.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),HO(t)?WO(t):t.Ra.set("Unknown")):(await t.ma.stop(),cK(t))})),t.ma}function Yh(t){return t.fa||(t.fa=function(r,n,i){const a=ir(r);return a.sa(),new Oye(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:qye.bind(null,t),r_:Gye.bind(null,t),ta:Wye.bind(null,t),na:Hye.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await TA(t)):(await t.fa.stop(),t.Ta.length>0&&(ut(Yp,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ju,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new GO(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KO(t,e){if(Wu("AsyncQueue",`${e}: ${t}`),jy(t))return new et(Be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{static emptySet(e){return new Bg(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Rt.comparator(r.key,n.key):(r,n)=>Rt.comparator(r.key,n.key),this.keyedMap=X0(),this.sortedSet=new ti(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Bg)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Bg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.ga=new ti(Rt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):qt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ov{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Ov(e,r,Bg.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yye{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Xye{constructor(){this.queries=y8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ir(r),a=i.queries;i.queries=y8(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(n)})})(this,new et(Be.ABORTED,"Firestore shutting down"))}}function y8(){return new pm(t=>OG(t),wA)}async function fK(t,e){const r=ir(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new Yye,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=KO(o,`Initialization of query '${tg(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&YO(r)}async function pK(t,e){const r=ir(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Qye(t,e){const r=ir(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(n=!0);o.wa=i}}n&&YO(r)}function Jye(t,e,r){const n=ir(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function YO(t){t.Ca.forEach(e=>{e.next()})}var jC,b8;(b8=jC||(jC={})).Ma="default",b8.Cache="cache";class mK{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ov(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Ov.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e){this.key=e}}class vK{constructor(e){this.key=e}}class Zye{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Sr(),this.mutatedKeys=Sr(),this.eu=RG(e),this.tu=new Bg(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new v8,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),f=_A(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;p&&f?p.data.isEqual(f.data)?v!==m&&(n.track({type:3,doc:f}),g=!0):this.su(p,f)||(n.track({type:2,doc:f}),g=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(s=!0)):!p&&f?(n.track({type:0,doc:f}),g=!0):p&&!f&&(n.track({type:1,doc:p}),g=!0,(l||c)&&(s=!0)),g&&(f?(o=o.add(f),a=m?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:s,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(f,v){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{Rt:g})}};return m(f)-m(v)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Ov(this.query,e.tu,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v8,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Sr(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new vK(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new gK(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Sr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Ov.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const XO="SyncEngine";class e0e{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class t0e{constructor(e){this.key=e,this.hu=!1}}class r0e{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new pm(s=>OG(s),wA),this.Iu=new Map,this.Eu=new Set,this.du=new ti(Rt.comparator),this.Au=new Map,this.Ru=new FO,this.Vu={},this.mu=new Map,this.fu=Iv.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n0e(t,e,r=!0){const n=SK(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await yK(n,e,r,!0),i}async function i0e(t,e){const r=SK(t);await yK(r,e,!0,!1)}async function yK(t,e,r,n){const i=await Aye(t.localStore,Sc(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await a0e(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&sK(t.remoteStore,i),s}async function a0e(t,e,r,n,i){t.pu=(h,p,f)=>async function(m,g,y,x){let _=g.view.ru(y);_.Cs&&(_=await d8(m.localStore,g.query,!1).then(({documents:P})=>g.view.ru(P,_)));const A=x&&x.targetChanges.get(g.targetId),N=x&&x.targetMismatches.get(g.targetId)!=null,I=g.view.applyChanges(_,m.isPrimaryClient,A,N);return w8(m,g.targetId,I.au),I.snapshot}(t,h,p,f);const a=await d8(t.localStore,e,!0),o=new Zye(e,a.Qs),s=o.ru(a.documents),l=Lx.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);w8(t,r,c.au);const d=new e0e(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function o0e(t,e,r){const n=ir(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!wA(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await PC(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&zO(n.remoteStore,i.targetId),CC(n,i.targetId)}).catch(Ty)):(CC(n,i.targetId),await PC(n.localStore,i.targetId,!0))}async function s0e(t,e){const r=ir(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),zO(r.remoteStore,n.targetId))}async function l0e(t,e,r){const n=m0e(t);try{const i=await function(o,s){const l=ir(o),c=Vn.now(),d=s.reduce((f,v)=>f.add(v.key),Sr());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=Hu(),m=Sr();return l.Ns.getEntries(f,d).next(g=>{v=g,v.forEach((y,x)=>{x.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,v)).next(g=>{h=g;const y=[];for(const x of s){const _=Sve(x,h.get(x.key).overlayedDocument);_!=null&&y.push(new mf(x.key,_,NG(_.value.mapValue),Us.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,y,s)}).next(g=>{p=g;const y=g.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,y)})}).then(()=>({batchId:p.batchId,changes:LG(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new ti(_r)),c=c.insert(s,l),o.Vu[o.currentUser.toKey()]=c}(n,i.batchId,r),await $x(n,i.changes),await TA(n.remoteStore)}catch(i){const a=KO(i,"Failed to persist write");r.reject(a)}}async function bK(t,e){const r=ir(t);try{const n=await wye(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(Xr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Xr(o.hu,14607):i.removedDocuments.size>0&&(Xr(o.hu,42227),o.hu=!1))}),await $x(r,n,e)}catch(n){await Ty(n)}}function x8(t,e,r){const n=ir(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=ir(o);l.onlineState=s;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(s)&&(c=!0)}),c&&YO(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function c0e(t,e,r){const n=ir(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new ti(Rt.comparator);o=o.insert(a,Ia.newNoDocument(a,rr.min()));const s=Sr().add(a),l=new EA(rr.min(),new Map,new ti(_r),o,s);await bK(n,l),n.du=n.du.remove(a),n.Au.delete(e),QO(n)}else await PC(n.localStore,e,!1).then(()=>CC(n,e,r)).catch(Ty)}async function u0e(t,e){const r=ir(t),n=e.batch.batchId;try{const i=await xye(r.localStore,e);wK(r,n,null),xK(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await $x(r,i)}catch(i){await Ty(i)}}async function d0e(t,e,r){const n=ir(t);try{const i=await function(o,s){const l=ir(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,s).next(h=>(Xr(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(n.localStore,e);wK(n,e,r),xK(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await $x(n,i)}catch(i){await Ty(i)}}function xK(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function wK(t,e,r){const n=ir(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function CC(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||_K(t,n)})}function _K(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(zO(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),QO(t))}function w8(t,e,r){for(const n of r)n instanceof gK?(t.Ru.addReference(n.key,e),h0e(t,n)):n instanceof vK?(ut(XO,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||_K(t,n.key)):qt(19791,{wu:n})}function h0e(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ut(XO,"New document in limbo: "+r),t.Eu.add(n),QO(t))}function QO(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Rt(wn.fromString(e)),n=t.fu.next();t.Au.set(n,new t0e(r)),t.du=t.du.insert(r,n),sK(t.remoteStore,new ph(Sc(IO(r.path)),n,"TargetPurposeLimboResolution",vA.ce))}}async function $x(t,e,r){const n=ir(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((s,l)=>{o.push(n.pu(l,e,r).then(c=>{var d;if((c||r)&&n.isPrimaryClient){const h=c?!c.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=UO.As(l.targetId,c);a.push(h)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(l,c){const d=ir(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>qe.forEach(c,p=>qe.forEach(p.Es,f=>d.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>qe.forEach(p.ds,f=>d.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!jy(h))throw h;ut(VO,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const f=d.Ms.get(p),v=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(p,m)}}}(n.localStore,a))}async function f0e(t,e){const r=ir(t);if(!r.currentUser.isEqual(e)){ut(XO,"User change. New user:",e.toKey());const n=await nK(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(s=>{s.forEach(l=>{l.reject(new et(Be.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await $x(r,n.Ls)}}function p0e(t,e){const r=ir(t),n=r.Au.get(e);if(n&&n.hu)return Sr().add(n.key);{let i=Sr();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const s=r.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function SK(t){const e=ir(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p0e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c0e.bind(null,e),e.Pu.H_=Qye.bind(null,e.eventManager),e.Pu.yu=Jye.bind(null,e.eventManager),e}function m0e(t){const e=ir(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u0e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d0e.bind(null,e),e}class xS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=NA(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return bye(this.persistence,new gye,e.initialUser,this.serializer)}Cu(e){return new rK(BO.mi,this.serializer)}Du(e){return new Nye}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xS.provider={build:()=>new xS};class g0e extends xS{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Xr(this.persistence.referenceDelegate instanceof yS,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new tye(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new rK(n=>yS.mi(n,r),this.serializer)}}class kC{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>x8(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=f0e.bind(null,this.syncEngine),await Kye(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xye}()}createDatastore(e){const r=NA(e.databaseInfo.databaseId),n=function(a){return new kye(a)}(e.databaseInfo);return function(a,o,s,l){return new Dye(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new Mye(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>x8(this.syncEngine,r,0),function(){return p8.v()?new p8:new Pye}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,d){const h=new r0e(i,a,o,s,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=ir(i);ut(Yp,"RemoteStore shutting down."),a.Ea.add(5),await Mx(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}kC.provider={build:()=>new kC};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="FirestoreClient";class v0e{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ca.UNAUTHENTICATED,this.clientId=PO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ut(Xh,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ut(Xh,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ju;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=KO(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function fP(t,e){t.asyncQueue.verifyOperationInProgress(),ut(Xh,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await nK(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _8(t,e){t.asyncQueue.verifyOperationInProgress();const r=await y0e(t);ut(Xh,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>g8(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>g8(e.remoteStore,i)),t._onlineComponents=e}async function y0e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ut(Xh,"Using user provided OfflineComponentProvider");try{await fP(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Be.FAILED_PRECONDITION||i.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Pv("Error using user provided cache. Falling back to memory cache: "+r),await fP(t,new xS)}}else ut(Xh,"Using default OfflineComponentProvider"),await fP(t,new g0e(void 0));return t._offlineComponents}async function EK(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ut(Xh,"Using user provided OnlineComponentProvider"),await _8(t,t._uninitializedComponentsProvider._online)):(ut(Xh,"Using default OnlineComponentProvider"),await _8(t,new kC))),t._onlineComponents}function b0e(t){return EK(t).then(e=>e.syncEngine)}async function NK(t){const e=await EK(t),r=e.eventManager;return r.onListen=n0e.bind(null,e.syncEngine),r.onUnlisten=o0e.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=i0e.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=s0e.bind(null,e.syncEngine),r}function x0e(t,e,r={}){const n=new ju;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const d=new AK({next:p=>{d.Nu(),o.enqueueAndForget(()=>pK(a,h));const f=p.docs.has(s);!f&&p.fromCache?c.reject(new et(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?c.reject(new et(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new mK(IO(s.path),d,{includeMetadataChanges:!0,qa:!0});return fK(a,h)}(await NK(t),t.asyncQueue,e,r,n)),n.promise}function w0e(t,e,r={}){const n=new ju;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const d=new AK({next:p=>{d.Nu(),o.enqueueAndForget(()=>pK(a,h)),p.fromCache&&l.source==="server"?c.reject(new et(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new mK(s,d,{includeMetadataChanges:!0,qa:!0});return fK(a,h)}(await NK(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK="firestore.googleapis.com",A8=!0;class E8{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TK,this.ssl=A8}else this.host=e.host,this.ssl=e.ssl??A8;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tK;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zve)throw new et(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lge("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PK(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new et(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new et(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new et(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jA{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E8({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E8(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Nge;switch(n.type){case"firstParty":return new Cge(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new et(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=S8.get(r);n&&(ut("ComponentProvider","Removing Datastore"),S8.delete(r),n.terminate())}(this),Promise.resolve()}}function _0e(t,e,r,n={}){var c;t=jl(t,jA);const i=Ay(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${r}`;i&&(yH(`https://${s}`),bH("Firestore",!0)),a.host!==TK&&a.host!==s&&Pv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:n};if(!qp(l,o)&&(t._setSettings(l),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=Ca.MOCK_USER;else{d=Ohe(n.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new et(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ca(p)}t._authCredentials=new Pge(new fG(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class xi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ih(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xi(this.firestore,e,this._key)}toJSON(){return{type:xi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Rx(r,xi._jsonSchema))return new xi(e,n||null,new Rt(wn.fromString(r.referencePath)))}}xi._jsonSchemaVersion="firestore/documentReference/1.0",xi._jsonSchema={type:ji("string",xi._jsonSchemaVersion),referencePath:ji("string")};class Ih extends Mc{constructor(e,r,n){super(e,r,IO(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xi(this.firestore,null,new Rt(e))}withConverter(e){return new Ih(this.firestore,e,this._path)}}function ra(t,e,...r){if(t=_i(t),pG("collection","path",e),t instanceof jA){const n=wn.fromString(e,...r);return FM(n),new Ih(t,null,n)}{if(!(t instanceof xi||t instanceof Ih))throw new et(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wn.fromString(e,...r));return FM(n),new Ih(t.firestore,null,n)}}function So(t,e,...r){if(t=_i(t),arguments.length===1&&(e=PO.newId()),pG("doc","path",e),t instanceof jA){const n=wn.fromString(e,...r);return $M(n),new xi(t,null,new Rt(n))}{if(!(t instanceof xi||t instanceof Ih))throw new et(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wn.fromString(e,...r));return $M(n),new xi(t.firestore,t instanceof Ih?t.converter:null,new Rt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="AsyncQueue";class P8{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aK(this,"async_queue_retry"),this._c=()=>{const n=hP();n&&ut(N8,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=hP();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=hP();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ju;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jy(e))throw e;ut(N8,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Wu("INTERNAL UNHANDLED ERROR: ",T8(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=GO.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&qt(47125,{Pc:T8(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function T8(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gm extends jA{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new P8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P8(e),this._firestoreClient=void 0,await e}}}function S0e(t,e){const r=typeof t=="object"?t:SH(),n=typeof t=="string"?t:hS,i=vO(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=khe("firestore");a&&_0e(i,...a)}return i}function JO(t){if(t._terminated)throw new et(Be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||A0e(t),t._firestoreClient}function A0e(t){var n,i,a;const e=t._freezeSettings(),r=function(s,l,c,d){return new Kge(s,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,PK(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new v0e(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(ma.fromBase64String(e))}catch(r){throw new et(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Rs(ma.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rx(e,Rs._jsonSchema))return Rs.fromBase64String(e.bytes)}}Rs._jsonSchemaVersion="firestore/bytes/1.0",Rs._jsonSchema={type:ji("string",Rs._jsonSchemaVersion),bytes:ji("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new et(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new da(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new et(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new et(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _r(this._lat,e._lat)||_r(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ec._jsonSchemaVersion}}static fromJSON(e){if(Rx(e,Ec._jsonSchema))return new Ec(e.latitude,e.longitude)}}Ec._jsonSchemaVersion="firestore/geoPoint/1.0",Ec._jsonSchema={type:ji("string",Ec._jsonSchemaVersion),latitude:ji("number"),longitude:ji("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rx(e,Nc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Nc(e.vectorValues);throw new et(Be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nc._jsonSchemaVersion="firestore/vectorValue/1.0",Nc._jsonSchema={type:ji("string",Nc._jsonSchemaVersion),vectorValues:ji("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0e=/^__.*__$/;class N0e{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new mf(e,this.data,this.fieldMask,r,this.fieldTransforms):new Dx(e,this.data,r,this.fieldTransforms)}}class jK{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new mf(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function CK(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{Ac:t})}}class ZO{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ZO({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wS(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CK(this.Ac)&&E0e.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class P0e{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||NA(e)}Cc(e,r,n,i=!1){return new ZO({Ac:e,methodName:r,Dc:n,path:da.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fx(t){const e=t._freezeSettings(),r=NA(t._databaseId);return new P0e(t._databaseId,!!e.ignoreUndefinedProperties,r)}function kK(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);t3("Data must be an object, but it was:",o,n);const s=OK(n,o);let l,c;if(a.merge)l=new es(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const p=IC(e,h,r);if(!o.contains(p))throw new et(Be.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);DK(d,p)||d.push(p)}l=new es(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new N0e(new wo(s),l,c)}class IA extends kA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof IA}}class e3 extends kA{_toFieldTransform(e){return new bve(e.path,new mb)}isEqual(e){return e instanceof e3}}function T0e(t,e,r,n){const i=t.Cc(1,e,r);t3("Data must be an object, but it was:",i,n);const a=[],o=wo.empty();ff(n,(l,c)=>{const d=r3(e,l,r);c=_i(c);const h=i.yc(d);if(c instanceof IA)a.push(d);else{const p=Bx(c,h);p!=null&&(a.push(d),o.set(d,p))}});const s=new es(a);return new jK(o,s,i.fieldTransforms)}function j0e(t,e,r,n,i,a){const o=t.Cc(1,e,r),s=[IC(e,n,r)],l=[i];if(a.length%2!=0)throw new et(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(IC(e,a[p])),l.push(a[p+1]);const c=[],d=wo.empty();for(let p=s.length-1;p>=0;--p)if(!DK(c,s[p])){const f=s[p];let v=l[p];v=_i(v);const m=o.yc(f);if(v instanceof IA)c.push(f);else{const g=Bx(v,m);g!=null&&(c.push(f),d.set(f,g))}}const h=new es(c);return new jK(d,h,o.fieldTransforms)}function IK(t,e,r,n=!1){return Bx(r,t.Cc(n?4:3,e))}function Bx(t,e){if(RK(t=_i(t)))return t3("Unsupported field value:",e,t),OK(t,e);if(t instanceof kA)return function(n,i){if(!CK(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Bx(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=_i(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return gve(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Vn.fromDate(n);return{timestampValue:vS(i.serializer,a)}}if(n instanceof Vn){const a=new Vn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vS(i.serializer,a)}}if(n instanceof Ec)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rs)return{bytesValue:KG(i.serializer,n._byteString)};if(n instanceof xi){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$O(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Nc)return function(o,s){return{mapValue:{fields:{[SG]:{stringValue:EG},[fS]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw s.Sc("VectorValues must only contain numeric values.");return RO(s.serializer,c)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${gA(n)}`)}(t,e)}function OK(t,e){const r={};return vG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ff(t,(n,i)=>{const a=Bx(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function RK(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof Ec||t instanceof Rs||t instanceof xi||t instanceof kA||t instanceof Nc)}function t3(t,e,r){if(!RK(r)||!mG(r)){const n=gA(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function IC(t,e,r){if((e=_i(e))instanceof CA)return e._internalPath;if(typeof e=="string")return r3(t,e);throw wS("Field path arguments must be of type string or ",t,!1,void 0,r)}const C0e=new RegExp("[~\\*/\\[\\]]");function r3(t,e,r){if(e.search(C0e)>=0)throw wS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new CA(...e.split("."))._internalPath}catch{throw wS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function wS(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new et(Be.INVALID_ARGUMENT,s+t+l)}function DK(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k0e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(OA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class k0e extends n3{data(){return super.data()}}function OA(t,e){return typeof e=="string"?r3(t,e):e instanceof CA?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new et(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i3{}class Ux extends i3{}function vm(t,e,...r){let n=[];e instanceof i3&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof a3).length,s=a.filter(l=>l instanceof RA).length;if(o>1||o>0&&s>0)throw new et(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class RA extends Ux{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new RA(e,r,n)}_apply(e){const r=this._parse(e);return MK(e._query,r),new Mc(e.firestore,e.converter,_C(e._query,r))}_parse(e){const r=Fx(e.firestore);return function(a,o,s,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new et(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){C8(h,d);const v=[];for(const m of h)v.push(j8(l,a,m));p={arrayValue:{values:v}}}else p=j8(l,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||C8(h,d),p=IK(s,o,h,d==="in"||d==="not-in");return Pi.create(c,d,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Cu(t,e,r){const n=e,i=OA("where",t);return RA._create(i,n,r)}class a3 extends i3{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new a3(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Cl.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)MK(o,l),o=_C(o,l)}(e._query,r),new Mc(e.firestore,e.converter,_C(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o3 extends Ux{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new o3(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new et(Be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new et(Be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pb(a,o)}(e._query,this._field,this._direction);return new Mc(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new pf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Qh(t,e="asc"){const r=e,n=OA("orderBy",t);return o3._create(n,r)}class s3 extends Ux{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new s3(e,r,n)}_apply(e){return new Mc(e.firestore,e.converter,mS(e._query,this._limit,this._limitType))}}function yb(t){return Mge("limit",t),s3._create("limit",t,"F")}class l3 extends Ux{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new l3(e,r,n)}_apply(e){const r=LK(e,this.type,this._docOrFields,this._inclusive);return new Mc(e.firestore,e.converter,function(i,a){return new pf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,r))}}function O0e(...t){return l3._create("startAt",t,!0)}class c3 extends Ux{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new c3(e,r,n)}_apply(e){const r=LK(e,this.type,this._docOrFields,this._inclusive);return new Mc(e.firestore,e.converter,function(i,a){return new pf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)}(e._query,r))}}function R0e(...t){return c3._create("endAt",t,!0)}function LK(t,e,r,n){if(r[0]=_i(r[0]),r[0]instanceof n3)return function(a,o,s,l,c){if(!l)throw new et(Be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const d=[];for(const h of Fg(a))if(h.field.isKeyField())d.push(pS(o,l.key));else{const p=l.data.field(h.field);if(bA(p))throw new et(Be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const f=h.field.canonicalString();throw new et(Be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}d.push(p)}return new kv(d,c)}(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=Fx(t.firestore);return function(o,s,l,c,d,h){const p=o.explicitOrderBy;if(d.length>p.length)throw new et(Be.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let v=0;v<d.length;v++){const m=d[v];if(p[v].field.isKeyField()){if(typeof m!="string")throw new et(Be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof m}`);if(!OO(o)&&m.indexOf("/")!==-1)throw new et(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${m}' contains a slash.`);const g=o.path.child(wn.fromString(m));if(!Rt.isDocumentKey(g))throw new et(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);const y=new Rt(g);f.push(pS(s,y))}else{const g=IK(l,c,m);f.push(g)}}return new kv(f,h)}(t._query,t.firestore._databaseId,i,e,r,n)}}function j8(t,e,r){if(typeof(r=_i(r))=="string"){if(r==="")throw new et(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OO(e)&&r.indexOf("/")!==-1)throw new et(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wn.fromString(r));if(!Rt.isDocumentKey(n))throw new et(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return pS(t,new Rt(n))}if(r instanceof xi)return pS(t,r._key);throw new et(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gA(r)}.`)}function C8(t,e){if(!Array.isArray(t)||t.length===0)throw new et(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MK(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new et(Be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class D0e{convertValue(e,r="none"){switch(Kh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Gh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ff(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[fS].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>mi(o.doubleValue));return new Nc(r)}convertGeoPoint(e){return new Ec(mi(e.latitude),mi(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=xA(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(db(e));default:return null}}convertTimestamp(e){const r=Hh(e);return new Vn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wn.fromString(e);Xr(eK(n),9688,{name:e});const i=new hb(n.get(1),n.get(3)),a=new Rt(n.popFirst(5));return i.isEqual(r)||Wu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $K(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class J0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pp extends n3{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new c_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(OA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Pp._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Pp._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pp._jsonSchema={type:ji("string",Pp._jsonSchemaVersion),bundleSource:ji("string","DocumentSnapshot"),bundleName:ji("string"),bundle:ji("string")};class c_ extends Pp{data(e={}){return super.data(e)}}class Ug{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new J0(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new c_(this._firestore,this._userDataWriter,n.key,n,new J0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new et(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new c_(i._firestore,i._userDataWriter,s.doc.key,s.doc,new J0(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new c_(i._firestore,i._userDataWriter,s.doc.key,s.doc,new J0(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),d=o.indexOf(s.doc.key)),{type:L0e(s.type),doc:l,oldIndex:c,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ug._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=PO.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function L0e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){t=jl(t,xi);const e=jl(t.firestore,gm);return x0e(JO(e),t._key).then(r=>$0e(e,t,r))}Ug._jsonSchemaVersion="firestore/querySnapshot/1.0",Ug._jsonSchema={type:ji("string",Ug._jsonSchemaVersion),bundleSource:ji("string","QuerySnapshot"),bundleName:ji("string"),bundle:ji("string")};class FK extends D0e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new xi(this.firestore,null,r)}}function Ys(t){t=jl(t,Mc);const e=jl(t.firestore,gm),r=JO(e),n=new FK(e);return I0e(t._query),w0e(r,t._query).then(i=>new Ug(e,n,t,i))}function Rv(t,e,r){t=jl(t,xi);const n=jl(t.firestore,gm),i=$K(t.converter,e,r);return DA(n,[kK(Fx(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Us.none())])}function OC(t,e,r,...n){t=jl(t,xi);const i=jl(t.firestore,gm),a=Fx(i);let o;return o=typeof(e=_i(e))=="string"||e instanceof CA?j0e(a,"updateDoc",t._key,e,r,n):T0e(a,"updateDoc",t._key,e),DA(i,[o.toMutation(t._key,Us.exists(!0))])}function M0e(t){return DA(jl(t.firestore,gm),[new DO(t._key,Us.none())])}function Vx(t,e){const r=jl(t.firestore,gm),n=So(t),i=$K(t.converter,e);return DA(r,[kK(Fx(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Us.exists(!1))]).then(()=>n)}function DA(t,e){return function(n,i){const a=new ju;return n.asyncQueue.enqueueAndForget(async()=>l0e(await b0e(n),i,a)),a.promise}(JO(t),e)}function $0e(t,e,r){const n=r.docs.get(e._key),i=new FK(t);return new Pp(t,i,e._key,n,new J0(r.hasPendingWrites,r.fromCache),e.converter)}function Qa(){return new e3("serverTimestamp")}(function(e,r=!0){(function(i){Py=i})(Ey),Ev(new Wp("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new gm(new Tge(n.getProvider("auth-internal")),new kge(o,n.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new et(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hb(c.options.projectId,d)}(o,i),o);return a={useFetchStreams:r,...a},s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Ch(RM,DM,e),Ch(RM,DM,"esm2020")})();const F0e={apiKey:"AIzaSyAStGKJqRedz12n8JUSfW1eKlPXKsFRHFA",authDomain:"optify-definitivo.firebaseapp.com",projectId:"optify-definitivo",storageBucket:"optify-definitivo.firebasestorage.app",messagingSenderId:"1083748361977",appId:"1:1083748361977:web:faf62042d761fddad26428"},BK=_H(F0e),nn=S0e(BK),Z0=_ge(BK),B0e=["diegkamor@gmail.com"],_S=t=>t?B0e.includes(t.toLowerCase()):!1,U0e=async(t,e)=>{try{if(_S(e))return!0;const n=So(nn,"admins",t),i=await bb(n);if(i.exists()){const a=i.data();return(a==null?void 0:a.isAdmin)===!0}return!1}catch(r){return console.error("Erro ao verificar status de admin:",r),!1}},k8={free:{funcionarios:1,permissoes:{},isSubscriber:!1,isActive:!1},standard:{funcionarios:5,permissoes:{},isSubscriber:!0,isActive:!0},medium:{funcionarios:10,permissoes:{},isSubscriber:!0,isActive:!0},ultimate:{funcionarios:50,permissoes:{},isSubscriber:!0,isActive:!0}};class Vg{static cleanData(e){return Object.fromEntries(Object.entries(e).filter(([r,n])=>n!==void 0))}static async createOrUpdateUserProfile(e,r){try{const n=So(nn,"users",e),i=await bb(n),a=k8[r.plano||"free"];if(i.exists()){const o=this.cleanData({email:r.email,name:r.name||r.displayName,displayName:r.displayName,photoURL:r.photoURL,plano:r.plano||"free",funcionariosPermitidos:a.funcionarios,permissoes:a.permissoes,isSubscriber:a.isSubscriber,isActive:a.isActive,updatedAt:Qa()});await OC(n,o)}else{const o=this.cleanData({id:e,email:r.email,name:r.name||r.displayName,displayName:r.displayName,photoURL:r.photoURL,plano:r.plano||"free",funcionariosPermitidos:a.funcionarios,permissoes:a.permissoes,isSubscriber:a.isSubscriber,isActive:a.isActive,isAdmin:!1,subscriptionStartDate:null,subscriptionEndDate:null,subscriptionMonths:null,createdAt:Qa(),updatedAt:Qa()});await Rv(n,o)}console.log(`✅ Perfil do usuário ${r.email} criado/atualizado no Firestore`)}catch(n){throw console.error("❌ Erro ao criar/atualizar perfil do usuário:",n),n}}static async getUserProfile(e){try{const r=So(nn,"users",e),n=await bb(r);if(n.exists()){const i=n.data();return{id:e,email:i.email,name:i.name,displayName:i.displayName,photoURL:i.photoURL,plano:i.plano||"free",funcionariosPermitidos:i.funcionariosPermitidos||1,permissoes:i.permissoes||{},isSubscriber:i.isSubscriber||!1,isActive:i.isActive||!1,isAdmin:i.isAdmin||!1,subscriptionStartDate:i.subscriptionStartDate,subscriptionEndDate:i.subscriptionEndDate,subscriptionMonths:i.subscriptionMonths,createdAt:i.createdAt,updatedAt:i.updatedAt}}return null}catch(r){throw console.error("❌ Erro ao buscar perfil do usuário:",r),r}}static async updateUserPlan(e,r,n){try{const i=So(nn,"users",e),a=k8[r],o={plano:r,funcionariosPermitidos:a.funcionarios,permissoes:a.permissoes,isSubscriber:a.isSubscriber,isActive:a.isActive,updatedAt:Qa()};if(r!=="free"){if(o.isSubscriber=!0,o.isActive=!0,n&&n>0){const l=new Date,c=new Date;c.setMonth(c.getMonth()+n),o.subscriptionStartDate=l,o.subscriptionEndDate=c,o.subscriptionMonths=n}}else o.isSubscriber=!1,o.isActive=!1,o.subscriptionStartDate=null,o.subscriptionEndDate=null,o.subscriptionMonths=null;const s=this.cleanData(o);await OC(i,s),console.log(`✅ Plano do usuário atualizado para ${r} no Firestore`)}catch(i){throw console.error("❌ Erro ao atualizar plano do usuário:",i),i}}}const UK=j.createContext(void 0),qr=()=>{const t=j.useContext(UK);if(t===void 0)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return t},V0e=({children:t})=>{const[e,r]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState(!1);j.useEffect(()=>cme(Z0,async p=>{var f;if(r(p),p)try{await Vg.getUserProfile(p.uid)||(await Vg.createOrUpdateUserProfile(p.uid,{email:p.email||"",name:p.displayName||((f=p.email)==null?void 0:f.split("@")[0])||"Usuário",displayName:p.displayName,plano:"free"}),console.log(`✅ Perfil criado para usuário existente: ${p.email}`));const m=await U0e(p.uid,p.email);p.email==="diegkamor@gmail.com"?o(!0):o(m)}catch(v){console.error("Erro ao verificar/criar perfil do usuário:",v),p.email==="diegkamor@gmail.com"?o(!0):o(!1)}else o(!1);i(!1)}),[]);const d={user:e,loading:n,isAdmin:a,signIn:async(h,p)=>{try{await ime(Z0,h,p)}catch(f){throw console.error("Erro ao fazer login:",f),f}},signUp:async(h,p,f)=>{try{const{user:v}=await nme(Z0,h,p);f&&await ome(v,{displayName:f}),await Vg.createOrUpdateUserProfile(v.uid,{email:v.email||h,name:f,displayName:f,plano:"free"}),console.log(`✅ Usuário ${h} criado com sucesso no Firestore`)}catch(v){throw console.error("Erro ao criar conta:",v),v}},logout:async()=>{try{await ume(Z0)}catch(h){throw console.error("Erro ao fazer logout:",h),h}}};return u.jsx(UK.Provider,{value:d,children:t})},Sa=({children:t,requireAdmin:e=!1})=>{const{user:r,loading:n,isAdmin:i}=qr();return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):r?u.jsx(u.Fragment,{children:t}):u.jsx(uH,{to:"/login",replace:!0})},u3={free:{maxEmployees:1,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!1,payments:!1,reports:!1,reportsAdvanced:!1,balances:!1,history:!1,chineseCpa:!1,advancedPanel:!1,dutchuingBot:!1,advancedIntegrations:!1,customApi:!1,prioritySupport:!1,dedicatedSupport:!1}},standard:{maxEmployees:5,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!1,payments:!1,reports:!0,reportsAdvanced:!1,balances:!1,history:!1,chineseCpa:!1,advancedPanel:!1,dutchuingBot:!1,advancedIntegrations:!1,customApi:!1,prioritySupport:!1,dedicatedSupport:!1}},medium:{maxEmployees:10,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!0,payments:!0,reports:!0,reportsAdvanced:!0,balances:!0,history:!0,chineseCpa:!1,advancedPanel:!1,dutchuingBot:!1,advancedIntegrations:!1,customApi:!1,prioritySupport:!1,dedicatedSupport:!1}},ultimate:{maxEmployees:50,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!0,payments:!0,reports:!0,reportsAdvanced:!0,balances:!0,history:!0,chineseCpa:!0,advancedPanel:!0,dutchuingBot:!0,advancedIntegrations:!0,customApi:!0,prioritySupport:!0,dedicatedSupport:!0}}},z0e=[{id:"free",name:"Free",description:"Plano gratuito para testar o sistema",monthlyPrice:0,annualPrice:0,annualDiscount:0,maxEmployees:1},{id:"standard",name:"Standard",description:"Ideal para pequenos negócios",monthlyPrice:1,annualPrice:10.2,annualDiscount:15,maxEmployees:5},{id:"medium",name:"Medium",description:"Plano mais popular para médias empresas",monthlyPrice:49.9,annualPrice:509.16,annualDiscount:15,maxEmployees:10,isPopular:!0},{id:"ultimate",name:"Ultimate",description:"Acesso total com recursos avançados",monthlyPrice:99.9,annualPrice:1018.32,annualDiscount:15,maxEmployees:50}],Mi=(t,e)=>{const r=u3[t];return r?r.features[e]:!1},q0e=(t,e)=>{const r=u3[t];return r?e<r.maxEmployees:!1},W0e=t=>{const e=u3[t];return(e==null?void 0:e.maxEmployees)||0},I8=t=>z0e.find(e=>e.id===t)||null,VK=(t,e)=>{const n={pagamentos:"payments",relatorios:"reports",saldos:"balances",historico:"history",admin:"advancedPanel"}[e.toLowerCase()];return n?Mi(t,n):!0},H0e=t=>Mi(t,"calendarPrevious"),E0=new Map,gf=()=>{const{user:t}=qr(),e=()=>t!=null&&t.uid&&E0.get(t.uid)||"free",[r,n]=j.useState(e),[i,a]=j.useState(null),[o,s]=j.useState(!0),[l,c]=j.useState(0),[d,h]=j.useState(0);j.useEffect(()=>{(async()=>{if(!t){s(!1);return}try{E0.has(t.uid)||s(!0);const N=await Vg.getUserProfile(t.uid),I=(N==null?void 0:N.plano)||"free";E0.set(t.uid,I),n(I),s(!1)}catch(A){console.error("Erro ao buscar plano do usuário:",A),E0.has(t.uid)||n("free"),s(!1)}})()},[t,d]),j.useEffect(()=>{const _=A=>{const{userId:N,newPlan:I}=A.detail;t&&N===t.uid&&(E0.set(N,I),n(I),h(P=>P+1))};return window.addEventListener("planChanged",_),()=>{window.removeEventListener("planChanged",_)}},[t]),j.useEffect(()=>{const _=I8(r);if(_){const A={maxEmployees:_.maxEmployees,features:{dashboard:Mi(r,"dashboard"),dailySummary:Mi(r,"dailySummary"),calendar:Mi(r,"calendar"),calendarPrevious:Mi(r,"calendarPrevious"),payments:Mi(r,"payments"),reports:Mi(r,"reports"),reportsAdvanced:Mi(r,"reportsAdvanced"),balances:Mi(r,"balances"),history:Mi(r,"history"),chineseCpa:Mi(r,"chineseCpa"),advancedPanel:Mi(r,"advancedPanel"),dutchuingBot:Mi(r,"dutchuingBot"),advancedIntegrations:Mi(r,"advancedIntegrations"),customApi:Mi(r,"customApi"),prioritySupport:Mi(r,"prioritySupport"),dedicatedSupport:Mi(r,"dedicatedSupport")}};a(A)}},[r]);const p=_=>_==="advancedPanel"&&_S(t==null?void 0:t.email)?!0:Mi(r,_),f=()=>q0e(r,l),v=()=>W0e(r),m=_=>_.toLowerCase()==="admin"&&_S(t==null?void 0:t.email)?!0:VK(r,_),g=()=>H0e(r),y=I8(r);return{currentPlan:r,limitations:i,loading:o,employeeCount:l,setEmployeeCount:c,planInfo:y,canAccess:p,canAddMoreEmployees:f,getEmployeeLimitForPlan:v,canAccessPageRoute:m,canEditPreviousCalendarDays:g,refreshPlan:()=>{h(_=>_+1)}}},rt=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:yt("rounded-2xl border border-border/50 bg-card text-card-foreground shadow-soft backdrop-blur-sm",t),...e}));rt.displayName="Card";const G0e=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:yt("flex flex-col space-y-1.5 p-6",t),...e}));G0e.displayName="CardHeader";const K0e=j.forwardRef(({className:t,...e},r)=>u.jsx("h3",{ref:r,className:yt("text-2xl font-semibold leading-none tracking-tight",t),...e}));K0e.displayName="CardTitle";const Y0e=j.forwardRef(({className:t,...e},r)=>u.jsx("p",{ref:r,className:yt("text-sm text-muted-foreground",t),...e}));Y0e.displayName="CardDescription";const X0e=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:yt("p-6 pt-0",t),...e}));X0e.displayName="CardContent";const Q0e=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:yt("flex items-center p-6 pt-0",t),...e}));Q0e.displayName="CardFooter";const xb=Ex("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"gradient-primary text-primary-foreground hover:shadow-glow hover:scale-105",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:scale-105",outline:"border-2 border-primary/50 bg-transparent text-primary hover:bg-primary/10 hover:border-primary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:scale-105",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline",success:"gradient-success text-success-foreground hover:shadow-glow hover:scale-105",glass:"glass text-foreground hover:bg-primary/10"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-lg px-4",lg:"h-13 rounded-xl px-10 text-base",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),He=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?$oe:"button";return u.jsx(o,{className:yt(xb({variant:e,size:r,className:t})),ref:a,...i})});He.displayName="Button";const J0e=Ex("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mr({className:t,variant:e,...r}){return u.jsx("div",{className:yt(J0e({variant:e}),t),...r})}const N0=({children:t,requiredFeature:e,pageName:r})=>{const{user:n}=qr(),i=Wi(),{currentPlan:a}=gf();if(!n)return u.jsx(uH,{to:"/login",replace:!0});let o=VK(a,e);return e==="advancedPanel"&&_S(n==null?void 0:n.email)&&(o=!0),e==="advancedPanel"&&(o=!0),o?u.jsx(u.Fragment,{children:t}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-background/95 p-4",children:u.jsx(rt,{className:"w-full max-w-2xl p-8 text-center shadow-2xl",children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"p-4 rounded-full bg-gradient-primary/10",children:u.jsx(nA,{className:"h-12 w-12 text-primary"})})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Funcionalidade Bloqueada"}),u.jsxs("p",{className:"text-muted-foreground text-lg",children:[r," está disponível apenas em planos superiores"]})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Plano atual:"}),u.jsx(mr,{variant:"outline",className:"capitalize",children:a})]}),u.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Com planos superiores você terá:"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),u.jsx("span",{children:"Relatórios avançados"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),u.jsx("span",{children:"Histórico completo"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),u.jsx("span",{children:"Controle de saldos"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),u.jsx("span",{children:"Mais funcionários"})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[u.jsxs(He,{onClick:()=>i("/planos"),className:"flex items-center gap-2 bg-gradient-primary",children:[u.jsx(wv,{className:"h-4 w-4"}),"Ver Planos Disponíveis"]}),u.jsxs(He,{variant:"outline",onClick:()=>i("/dashboard"),className:"flex items-center gap-2",children:[u.jsx(X2,{className:"h-4 w-4"}),"Voltar ao Dashboard"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Faça upgrade agora e desbloqueie todas as funcionalidades avançadas"})]})})})},Z0e={async listActivePlans(){const t=ra(nn,"plans"),e=vm(t,Cu("active","==",!0),Qh("order","asc"));return(await Ys(e)).docs.map(n=>({id:n.id,...n.data()}))}};function e1e(){return wy({queryKey:["plans","active"],queryFn:()=>Z0e.listActivePlans(),staleTime:1e3*60*5})}var LA="Collapsible",[t1e,zK]=ds(LA),[r1e,d3]=t1e(LA),qK=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...s}=t,[l,c]=El({prop:n,defaultProp:i??!1,onChange:o,caller:LA});return u.jsx(r1e,{scope:r,disabled:a,contentId:wl(),open:l,onOpenToggle:j.useCallback(()=>c(d=>!d),[c]),children:u.jsx(Wt.div,{"data-state":f3(l),"data-disabled":a?"":void 0,...s,ref:e})})});qK.displayName=LA;var WK="CollapsibleTrigger",HK=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=d3(WK,r);return u.jsx(Wt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":f3(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:jt(t.onClick,i.onOpenToggle)})});HK.displayName=WK;var h3="CollapsibleContent",GK=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=d3(h3,t.__scopeCollapsible);return u.jsx(Dc,{present:r||i.open,children:({present:a})=>u.jsx(n1e,{...n,ref:e,present:a})})});GK.displayName=h3;var n1e=j.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,o=d3(h3,r),[s,l]=j.useState(n),c=j.useRef(null),d=Or(e,c),h=j.useRef(0),p=h.current,f=j.useRef(0),v=f.current,m=o.open||s,g=j.useRef(m),y=j.useRef(void 0);return j.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),ta(()=>{const x=c.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const _=x.getBoundingClientRect();h.current=_.height,f.current=_.width,g.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),l(n)}},[o.open,n]),u.jsx(Wt.div,{"data-state":f3(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:m&&i})});function f3(t){return t?"open":"closed"}var i1e=qK,a1e=HK,o1e=GK,s1e=j.createContext(void 0);function MA(t){const e=j.useContext(s1e);return t||e||"ltr"}var Rl="Accordion",l1e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[p3,c1e,u1e]=J5(Rl),[$A,QJe]=ds(Rl,[u1e,zK]),m3=zK(),KK=ue.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return u.jsx(p3.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?u.jsx(p1e,{...a,ref:e}):u.jsx(f1e,{...i,ref:e})})});KK.displayName=Rl;var[YK,d1e]=$A(Rl),[XK,h1e]=$A(Rl,{collapsible:!1}),f1e=ue.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...o}=t,[s,l]=El({prop:r,defaultProp:n??"",onChange:i,caller:Rl});return u.jsx(YK,{scope:t.__scopeAccordion,value:ue.useMemo(()=>s?[s]:[],[s]),onItemOpen:l,onItemClose:ue.useCallback(()=>a&&l(""),[a,l]),children:u.jsx(XK,{scope:t.__scopeAccordion,collapsible:a,children:u.jsx(QK,{...o,ref:e})})})}),p1e=ue.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[o,s]=El({prop:r,defaultProp:n??[],onChange:i,caller:Rl}),l=ue.useCallback(d=>s((h=[])=>[...h,d]),[s]),c=ue.useCallback(d=>s((h=[])=>h.filter(p=>p!==d)),[s]);return u.jsx(YK,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:u.jsx(XK,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(QK,{...a,ref:e})})})}),[m1e,FA]=$A(Rl),QK=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...o}=t,s=ue.useRef(null),l=Or(s,e),c=c1e(r),h=MA(i)==="ltr",p=jt(t.onKeyDown,f=>{var E;if(!l1e.includes(f.key))return;const v=f.target,m=c().filter(k=>{var D;return!((D=k.ref.current)!=null&&D.disabled)}),g=m.findIndex(k=>k.ref.current===v),y=m.length;if(g===-1)return;f.preventDefault();let x=g;const _=0,A=y-1,N=()=>{x=g+1,x>A&&(x=_)},I=()=>{x=g-1,x<_&&(x=A)};switch(f.key){case"Home":x=_;break;case"End":x=A;break;case"ArrowRight":a==="horizontal"&&(h?N():I());break;case"ArrowDown":a==="vertical"&&N();break;case"ArrowLeft":a==="horizontal"&&(h?I():N());break;case"ArrowUp":a==="vertical"&&I();break}const P=x%y;(E=m[P].ref.current)==null||E.focus()});return u.jsx(m1e,{scope:r,disabled:n,direction:i,orientation:a,children:u.jsx(p3.Slot,{scope:r,children:u.jsx(Wt.div,{...o,"data-orientation":a,ref:l,onKeyDown:n?void 0:p})})})}),SS="AccordionItem",[g1e,g3]=$A(SS),JK=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=FA(SS,r),o=d1e(SS,r),s=m3(r),l=wl(),c=n&&o.value.includes(n)||!1,d=a.disabled||t.disabled;return u.jsx(g1e,{scope:r,open:c,disabled:d,triggerId:l,children:u.jsx(i1e,{"data-orientation":a.orientation,"data-state":iY(c),...s,...i,ref:e,disabled:d,open:c,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});JK.displayName=SS;var ZK="AccordionHeader",eY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=FA(Rl,r),a=g3(ZK,r);return u.jsx(Wt.h3,{"data-orientation":i.orientation,"data-state":iY(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});eY.displayName=ZK;var RC="AccordionTrigger",tY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=FA(Rl,r),a=g3(RC,r),o=h1e(RC,r),s=m3(r);return u.jsx(p3.ItemSlot,{scope:r,children:u.jsx(a1e,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...s,...n,ref:e})})});tY.displayName=RC;var rY="AccordionContent",nY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=FA(Rl,r),a=g3(rY,r),o=m3(r);return u.jsx(o1e,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});nY.displayName=rY;function iY(t){return t?"open":"closed"}var v1e=KK,y1e=JK,b1e=eY,aY=tY,oY=nY;const x1e=v1e,cu=j.forwardRef(({className:t,...e},r)=>u.jsx(y1e,{ref:r,className:yt("border-b",t),...e}));cu.displayName="AccordionItem";const uu=j.forwardRef(({className:t,children:e,...r},n)=>u.jsx(b1e,{className:"flex",children:u.jsxs(aY,{ref:n,className:yt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,u.jsx(WI,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));uu.displayName=aY.displayName;const du=j.forwardRef(({className:t,children:e,...r},n)=>u.jsx(oY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:u.jsx("div",{className:yt("pb-4 pt-0",t),children:e})}));du.displayName=oY.displayName;const w1e=()=>{const t=Wi(),{user:e}=qr();j.useEffect(()=>{e&&t("/dashboard")},[e,t]),j.useEffect(()=>{const d={threshold:.2,rootMargin:"0px 0px -100px 0px"},h=new IntersectionObserver(f=>{f.forEach(v=>{v.isIntersecting&&v.target.classList.add("is-visible")})},d);return document.querySelectorAll(".animate-fade-in-scroll").forEach(f=>h.observe(f)),()=>h.disconnect()},[]);const r=[{icon:Ti,title:"Gestão de Operações Completa",description:"Controle total sobre receitas, despesas e lucros em tempo real"},{icon:Zo,title:"Gestão de Funcionários",description:"Cadastre, acompanhe e gerencie sua equipe de forma eficiente"},{icon:Bp,title:"Seguro e Confiável",description:"Seus dados protegidos com a melhor tecnologia de segurança"},{icon:K_,title:"Relatórios Inteligentes",description:"Insights poderosos para tomar decisões estratégicas"}],n=["Sem custos ocultos","Suporte 24/7","Interface intuitiva","Relatórios em tempo real","Integração completa","Dados seguros"],i=[{label:"Gestão de Funcionários",icon:Zo},{label:"Transações em Tempo Real",icon:qse},{label:"Relatórios e Exportações",icon:qq},{label:"Calendário de Pagamentos",icon:xv},{label:"Fechamento Diário Automático",icon:Rse},{label:"Segurança e Privacidade",icon:nA},{label:"Plataformas Personalizadas",icon:YN},{label:"Painéis Analíticos",icon:Ti}],{data:a,isLoading:o}=e1e(),s=[{name:"Free",price:0,period:"Grátis",badge:"Comece grátis",icon:YN,highlight:!1,features:["Até 1 funcionário","Dashboard básico","Resumo do dia","Visualização de transações","Funcionalidades básicas"]},{name:"Standard",price:1,period:"/mês",badge:void 0,icon:Bp,highlight:!1,features:["Até 5 funcionários","Dashboard básico","Resumo do dia","Relatórios básicos","Suporte por email"]},{name:"Medium",price:49.9,period:"/mês",badge:"Mais popular",icon:K_,highlight:!0,features:["Até 10 funcionários","Pagamentos","Saldos de contas","Histórico completo","Relatórios avançados","Calendário anterior"]},{name:"Ultimate",price:99.9,period:"/mês",badge:"Para equipes",icon:wv,highlight:!1,features:["Funcionários ilimitados","Todas as funcionalidades","Prioridade no suporte","Recursos exclusivos","Integrações avançadas","API personalizada","Painel avançado","Suporte dedicado"]}],l=(a&&a.length>0?a:s).map(d=>({...d,period:d.period||"/mês",icon:d.icon||(d.highlight||d.popular||/pro|medium/i.test(d.name)?wv:/enterprise|ultimate|business/i.test(d.name)?kse:YN),highlight:!!(d.highlight||d.popular),badge:d.badge||(d.popular?"Mais popular":void 0)})),c=d=>{const h=document.getElementById(d);h&&h.scrollIntoView({behavior:"smooth",block:"start"})};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),u.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),u.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),u.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),u.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),u.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),u.jsx("header",{className:"sticky top-0 z-20 border-b border-border/50 backdrop-blur-sm/60 bg-background/60",children:u.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("svg",{className:"w-10 h-10 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),u.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),u.jsx("path",{d:"M2 9h20"})]}),u.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Optify"})]}),u.jsxs("nav",{className:"hidden md:flex items-center justify-center gap-6 text-sm ml-24",children:[u.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>c("features"),children:"Funcionalidades"}),u.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>c("plans"),children:"Planos"}),u.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>c("faq"),children:"FAQ"}),u.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>c("contact"),children:"Contato"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(He,{variant:"ghost",onClick:()=>t("/login"),children:"Entrar"}),u.jsx(He,{onClick:()=>t("/signup"),children:"Começar Agora"})]})]})}),u.jsx("section",{id:"hero",className:"relative z-10 container mx-auto px-4 py-20 md:py-32",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsxs("svg",{className:"w-16 h-16 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),u.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),u.jsx("path",{d:"M2 9h20"})]}),u.jsx("h2",{className:"text-5xl md:text-7xl font-bold leading-tight",children:u.jsx("span",{className:"gradient-primary bg-clip-text text-transparent",children:"Optify"})})]}),u.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto",children:"Transforme a gestão das suas operações. Gerencie funcionários, pagamentos e relatórios em um só lugar."}),u.jsx("div",{className:"glass rounded-xl p-4 max-w-lg mx-auto border border-primary/20",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),u.jsxs("span",{className:"text-muted-foreground",children:[u.jsx("span",{className:"text-primary font-semibold",children:"7 dias grátis"})," com o plano Ultimate"]}),u.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]})}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(He,{size:"lg",className:"text-xl px-12 py-6",onClick:()=>t("/signup"),children:"Começar Teste Gratuito"}),u.jsx(He,{size:"lg",variant:"outline",className:"text-xl px-12 py-6",onClick:()=>c("plans"),children:"Ver Planos"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-w-2xl mx-auto pt-8",children:n.map((d,h)=>u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(Fp,{className:"h-4 w-4 text-success flex-shrink-0"}),u.jsx("span",{children:d})]},h))})]})}),u.jsx("section",{id:"features",className:"relative z-10 container mx-auto px-4 py-20",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((d,h)=>u.jsxs("div",{className:"glass p-6 rounded-xl hover:shadow-glow transition-all animate-fade-in",style:{animationDelay:`${h*.1}s`},children:[u.jsx("div",{className:"p-3 bg-primary/10 rounded-lg w-fit mb-4",children:u.jsx(d.icon,{className:"h-6 w-6 text-primary"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.title}),u.jsx("p",{className:"text-muted-foreground",children:d.description})]},h))})}),u.jsx("section",{className:"relative z-10 container mx-auto px-4 py-8",children:u.jsx("div",{className:"overflow-hidden rounded-xl border border-border/50",children:u.jsx("div",{className:"marquee flex gap-6 py-6",children:[...Array(2)].flatMap(()=>i).map((d,h)=>u.jsxs("div",{className:"glass px-4 py-3 rounded-lg flex items-center gap-2 card-hover whitespace-nowrap",children:[u.jsx(d.icon,{className:"h-5 w-5 text-primary"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:d.label})]},h))})})}),u.jsx("section",{className:"relative z-10 container mx-auto px-4 py-16",children:u.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in-scroll",children:u.jsxs("div",{className:"glass rounded-2xl p-8 md:p-12 text-center border border-primary/20",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),u.jsxs("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:[u.jsx("span",{className:"text-primary",children:"7 dias grátis"})," com o plano Ultimate"]}),u.jsx("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Experimente todas as funcionalidades premium sem compromisso. Acesse recursos ilimitados, suporte prioritário e muito mais."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),u.jsx("span",{children:"Funcionários ilimitados"})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),u.jsx("span",{children:"Suporte prioritário 24h"})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),u.jsx("span",{children:"Recursos exclusivos"})]})]}),u.jsxs(He,{size:"lg",className:"text-xl px-12 py-6",onClick:()=>t("/signup"),children:["Começar Teste Gratuito",u.jsx(X2,{className:"ml-2 h-5 w-5"})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Sem cartão de crédito • Cancele quando quiser"})]})})}),u.jsxs("section",{id:"plans",className:"relative z-10 container mx-auto px-4 py-20",children:[u.jsxs("div",{className:"text-center mb-12 animate-fade-in-scroll",children:[u.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Planos para cada estágio"}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Escolha o plano ideal e comece agora mesmo"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto animate-fade-in-scroll",children:l.map((d,h)=>u.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-border hover:shadow-glow transition-all",children:u.jsxs("div",{className:`glass p-6 ${d.badge?"pt-12":""} h-full flex flex-col`,children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:`w-12 h-12 rounded-full mx-auto mb-3 flex items-center justify-center ${d.name==="Free"?"bg-gray-500/20":d.name==="Standard"?"bg-blue-500/20":d.name==="Medium"?"bg-green-500/20":"bg-purple-500/20"}`,children:u.jsx(d.icon,{className:`h-6 w-6 ${d.name==="Free"?"text-gray-400":d.name==="Standard"?"text-blue-400":d.name==="Medium"?"text-green-400":"text-purple-400"}`})}),u.jsx("h4",{className:"text-xl font-bold mb-1",children:d.name}),d.name==="Free"&&u.jsx("div",{className:"text-2xl font-bold text-green-400",children:"Grátis"})]}),d.name!=="Free"&&u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"text-3xl font-extrabold",children:["R$ ",d.price.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),u.jsx("div",{className:"text-muted-foreground",children:d.period})]}),u.jsx("ul",{className:"space-y-3 mb-8 flex-grow",children:(d.features||[]).map((p,f)=>u.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Fp,{className:"h-4 w-4 text-success flex-shrink-0"}),u.jsx("span",{className:"text-muted-foreground",children:p})]},f))})]})},h))}),u.jsx("div",{className:"text-center mt-16 mb-8",children:u.jsxs(He,{size:"lg",className:"text-xl px-12 py-6 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:()=>t("/signup"),children:["Começar 7 dias grátis",u.jsx(X2,{className:"ml-2 h-5 w-5"})]})})]}),u.jsx("section",{id:"metrics",className:"relative z-10 container mx-auto px-4 py-12",children:u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-6xl mx-auto animate-fade-in-scroll",children:[{label:"Usuários ativos",value:"250+"},{label:"Transações/mês",value:"120K+"},{label:"Tempo economizado",value:"80h+"},{label:"Satisfação",value:"98%+"}].map((d,h)=>u.jsxs("div",{className:"glass rounded-xl p-6 text-center card-hover",children:[u.jsx("div",{className:"text-3xl font-extrabold mb-1",children:d.value}),u.jsx("div",{className:"text-sm text-muted-foreground",children:d.label})]},h))})}),u.jsxs("section",{id:"faq",className:"relative z-10 container mx-auto px-4 py-20",children:[u.jsxs("div",{className:"text-center mb-10 animate-fade-in-scroll",children:[u.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Perguntas frequentes"}),u.jsx("p",{className:"text-muted-foreground",children:"Tudo o que você precisa saber para começar"})]}),u.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in-scroll",children:u.jsxs(x1e,{type:"single",collapsible:!0,className:"space-y-3",children:[u.jsxs(cu,{value:"item-1",className:"glass rounded-xl px-4",children:[u.jsx(uu,{children:"Posso começar grátis e mudar depois?"}),u.jsx(du,{children:"Sim. Você pode começar no plano gratuito e migrar para outro quando quiser. Não há taxas de cancelamento ou multas."})]}),u.jsxs(cu,{value:"item-2",className:"glass rounded-xl px-4",children:[u.jsx(uu,{children:"Como funciona o fechamento diário?"}),u.jsx(du,{children:"Todos os dias às 00:00 salvamos automaticamente um resumo das transações no seu histórico. Você também pode fazer fechamentos manuais quando necessário."})]}),u.jsxs(cu,{value:"item-3",className:"glass rounded-xl px-4",children:[u.jsx(uu,{children:"Quais são os planos disponíveis?"}),u.jsx(du,{children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Free:"})," Até 1 funcionário, dashboard básico, resumo do dia e visualização de transações."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Standard:"})," Até 5 funcionários, relatórios básicos e suporte por email."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Medium:"})," Até 10 funcionários, pagamentos, saldos, histórico completo e relatórios avançados."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Ultimate:"})," Funcionários ilimitados, todas as funcionalidades, suporte prioritário e recursos exclusivos."]})]})})]}),u.jsxs(cu,{value:"item-4",className:"glass rounded-xl px-4",children:[u.jsx(uu,{children:"Como faço para cancelar minha assinatura?"}),u.jsx(du,{children:"Você pode cancelar sua assinatura a qualquer momento através do seu painel de controle. Não há taxas de cancelamento e você continuará tendo acesso até o final do período pago."})]}),u.jsxs(cu,{value:"item-5",className:"glass rounded-xl px-4",children:[u.jsx(uu,{children:"Posso importar dados de outros sistemas?"}),u.jsx(du,{children:"Sim! Oferecemos importação em CSV/Excel para funcionários e transações. Nossa equipe também pode ajudar com migrações de dados mais complexas nos planos pagos."})]}),u.jsxs(cu,{value:"item-6",className:"glass rounded-xl px-4",children:[u.jsx(uu,{children:"Há limite de transações por mês?"}),u.jsx(du,{children:"O plano Free tem limite de 50 transações por mês. Os planos pagos têm limites mais altos ou ilimitados, dependendo do plano escolhido."})]}),u.jsxs(cu,{value:"item-7",className:"glass rounded-xl px-4",children:[u.jsx(uu,{children:"Como funciona o suporte técnico?"}),u.jsx(du,{children:"Oferecemos suporte via WhatsApp para todos os planos. Planos pagos têm suporte prioritário e resposta mais rápida. O plano Ultimate inclui suporte dedicado."})]}),u.jsxs(cu,{value:"item-8",className:"glass rounded-xl px-4",children:[u.jsx(uu,{children:"Meus dados estão seguros?"}),u.jsx(du,{children:"Sim. Utilizamos criptografia de ponta a ponta e seguimos as melhores práticas de segurança da indústria para proteger seus dados e informações financeiras."})]})]})})]}),u.jsxs("section",{id:"contact",className:"relative z-10 container mx-auto px-4 py-20",children:[u.jsxs("div",{className:"text-center mb-10 animate-fade-in-scroll",children:[u.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Fale com a gente"}),u.jsx("p",{className:"text-muted-foreground",children:"Entre em contato pelos nossos canais oficiais"})]}),u.jsxs("div",{className:"max-w-3xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-6 animate-fade-in-scroll",children:[u.jsxs("a",{href:"https://wa.me/556295536121",target:"_blank",rel:"noreferrer",className:"glass rounded-xl p-6 flex items-center gap-3 hover:shadow-glow transition-all",children:[u.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold",children:"WhatsApp"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Atendimento rápido"})]})]}),u.jsxs("a",{href:"https://instagram.com/optify",target:"_blank",rel:"noreferrer",className:"glass rounded-xl p-6 flex items-center gap-3 hover:shadow-glow transition-all",children:[u.jsx($se,{className:"h-6 w-6 text-white"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold",children:"Instagram"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Acompanhe as novidades"})]})]})]})]}),u.jsx("section",{className:"relative z-10 container mx-auto px-4 py-20",children:u.jsxs("div",{className:"glass rounded-2xl p-8 md:p-12 text-center border border-primary/20 max-w-4xl mx-auto space-y-6 animate-fade-in-scroll",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("svg",{className:"w-16 h-16 text-primary animate-pulse",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),u.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),u.jsx("path",{d:"M2 9h20"})]})}),u.jsxs("h3",{className:"text-4xl md:text-5xl font-bold leading-tight",children:[u.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"Pronto para transformar"}),u.jsx("br",{}),u.jsx("span",{className:"text-foreground",children:"a gestão das suas operações?"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Junte-se a centenas de usuários que já usam o Optify para revolucionar sua gestão"}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:"250+"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Usuários ativos"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:"98%"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Satisfação"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:"24h"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Suporte"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[u.jsxs(He,{size:"lg",className:"text-lg px-10 py-6 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:()=>t("/signup"),children:["Começar Teste Gratuito",u.jsx(X2,{className:"ml-2 h-5 w-5"})]}),u.jsx(He,{size:"lg",variant:"outline",className:"text-lg px-10 py-6 border-primary/50 hover:border-primary hover:bg-primary/10 transition-all duration-300",onClick:()=>t("/login"),children:"Já tenho conta"})]}),u.jsx("p",{className:"text-sm text-muted-foreground pt-4",children:"Sem compromisso • Comece grátis • Cancele quando quiser"})]})}),u.jsx("footer",{className:"relative z-10 border-t border-border/50 backdrop-blur-sm mt-20",children:u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2025 Optify. Todos os direitos reservados."}),u.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[u.jsx("a",{href:"/termos",className:"hover:text-primary transition-colors",children:"Termos"}),u.jsx("a",{href:"/privacidade",className:"hover:text-primary transition-colors",children:"Privacidade"}),u.jsx("a",{href:"/suporte",className:"hover:text-primary transition-colors",children:"Suporte"})]})]})})})]})},Vt=j.forwardRef(({className:t,type:e,...r},n)=>u.jsx("input",{type:e,className:yt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Vt.displayName="Input";var _1e="Label",sY=j.forwardRef((t,e)=>u.jsx(Wt.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));sY.displayName=_1e;var lY=sY;const S1e=Ex("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ot=j.forwardRef(({className:t,...e},r)=>u.jsx(lY,{ref:r,className:yt(S1e(),t),...e}));ot.displayName=lY.displayName;const A1e=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[i,a]=j.useState(!1),o=Wi(),{signIn:s,user:l}=qr();if(l)return o("/dashboard"),null;const c=async d=>{d.preventDefault(),a(!0);try{await s(t,r),Ge.success("Login realizado com sucesso!"),o("/dashboard")}catch{Ge.error("Erro ao fazer login. Tente novamente.")}finally{a(!1)}};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[u.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),u.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),u.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),u.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),u.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),u.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),u.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("button",{onClick:()=>o("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:u.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),u.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),u.jsx("path",{d:"M2 9h20"})]})}),u.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),u.jsx("button",{onClick:()=>o("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:u.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Entre na sua conta e gerencie suas operações"}),u.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"Email"}),u.jsx(Vt,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:d=>e(d.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"password",className:"text-sm font-medium text-foreground",children:"Senha"}),u.jsx(Vt,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:d=>n(d.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),u.jsx(He,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:i,children:i?u.jsxs(u.Fragment,{children:[u.jsx(Np,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"})]}),u.jsxs("div",{className:"mt-6 text-center text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Não tem uma conta? "}),u.jsx("button",{onClick:()=>o("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Cadastre-se"})]}),u.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg text-xs text-muted-foreground",children:[u.jsx("p",{className:"font-semibold mb-1",children:"Teste com:"}),u.jsx("p",{children:"Email: admin@optify.com"}),u.jsx("p",{children:"Senha: qualquer senha"})]})]})]})},E1e=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[i,a]=j.useState(""),[o,s]=j.useState(!1),l=Wi(),{signUp:c,user:d}=qr();if(d)return l("/dashboard"),null;const h=async p=>{if(p.preventDefault(),r!==i){Ge.error("As senhas não coincidem");return}s(!0);try{await c(t,r,""),Ge.success("Cadastro realizado com sucesso!"),l("/basic-info")}catch(f){const v=(f==null?void 0:f.code)||"";v==="auth/email-already-in-use"?(Ge.error("Este e-mail já está em uso. Faça login ou use outro e-mail."),setTimeout(()=>l("/login"),300)):v==="auth/invalid-email"?Ge.error("E-mail inválido. Verifique e tente novamente."):v==="auth/weak-password"?Ge.error("Senha fraca. Use pelo menos 6 caracteres."):Ge.error("Erro ao criar conta. Tente novamente.")}finally{s(!1)}};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[u.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),u.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),u.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),u.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),u.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),u.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),u.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("button",{onClick:()=>l("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:u.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),u.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),u.jsx("path",{d:"M2 9h20"})]})}),u.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),u.jsx("button",{onClick:()=>l("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:u.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Crie sua conta e gerencie suas operações"}),u.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"Email"}),u.jsx(Vt,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:p=>e(p.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"password",className:"text-sm font-medium text-foreground",children:"Senha"}),u.jsx(Vt,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:p=>n(p.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,minLength:6})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"confirmPassword",className:"text-sm font-medium text-foreground",children:"Confirmar senha"}),u.jsx(Vt,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:i,onChange:p=>a(p.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,minLength:6})]}),u.jsx(He,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:o,children:o?u.jsxs(u.Fragment,{children:[u.jsx(Np,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar conta"})]}),u.jsxs("div",{className:"mt-6 text-center text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Já tem uma conta? "}),u.jsx("button",{onClick:()=>l("/login"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Faça login"})]})]})]})};class Tr{static async saveToUserSubcollection(e,r,n,i){try{const a=So(nn,this.usersCollection,e,r,n),o={...i,createdAt:Qa(),updatedAt:Qa()};await Rv(a,o)}catch(a){throw console.error(`Erro ao salvar em ${r}:`,a),new Error(`Falha ao salvar dados em ${r}`)}}static async getFromUserSubcollection(e,r,n){var i,a;try{const o=So(nn,this.usersCollection,e,r,n),s=await bb(o);if(s.exists()){const l=s.data();return{...l,createdAt:((i=l.createdAt)==null?void 0:i.toDate())||new Date,updatedAt:((a=l.updatedAt)==null?void 0:a.toDate())||new Date}}return null}catch(o){throw console.error(`Erro ao buscar de ${r}:`,o),new Error(`Falha ao buscar dados de ${r}`)}}static async updateUserSubcollection(e,r,n,i){try{const a=So(nn,this.usersCollection,e,r,n),o=Object.fromEntries(Object.entries(i).filter(([l,c])=>c!==void 0));(await bb(a)).exists()?await OC(a,{...o,updatedAt:Qa()}):await Rv(a,{...o,createdAt:Qa(),updatedAt:Qa()})}catch(a){throw console.error(`Erro ao atualizar ${r}:`,a),new Error(`Falha ao atualizar dados de ${r}`)}}static async getAllFromUserSubcollection(e,r,n=[]){try{const i=ra(nn,this.usersCollection,e,r),a=vm(i,...n);return(await Ys(a)).docs.map(s=>{var l,c;return{id:s.id,...s.data(),createdAt:((l=s.data().createdAt)==null?void 0:l.toDate())||new Date,updatedAt:((c=s.data().updatedAt)==null?void 0:c.toDate())||new Date}})}catch(i){throw console.error(`Erro ao buscar todos de ${r}:`,i),new Error(`Falha ao buscar dados de ${r}`)}}static async addToUserSubcollection(e,r,n){try{console.log(`UserSubcollectionsService.addToUserSubcollection - salvando em ${r}:`,{userId:e,data:n});const i=ra(nn,this.usersCollection,e,r),a={...n,createdAt:Qa(),updatedAt:Qa()};console.log("Dados com timestamps:",a);const o=await Vx(i,a);return console.log(`Documento criado com ID: ${o.id}`),o.id}catch(i){throw console.error(`Erro ao adicionar em ${r}:`,i),new Error(`Falha ao adicionar dados em ${r}`)}}static async deleteFromUserSubcollection(e,r,n){try{const i=So(nn,this.usersCollection,e,r,n);await M0e(i)}catch(i){throw console.error(`Erro ao deletar de ${r}:`,i),new Error(`Falha ao deletar dados de ${r}`)}}}kr(Tr,"usersCollection","users");const Fr={PROFILE:"profile",CONFIG:"config",EMPLOYEES:"employees",PLATFORMS:"platforms",TRANSACTIONS:"transactions",DAILY_SUMMARIES:"dailySummaries",ACCOUNTS:"accounts",PAYMENTS:"payments",GOALS:"goals",REPORTS:"reports"};async function N1e(t){const e=Object.values(Fr);for(const r of e)try{r===Fr.PROFILE?await Tr.deleteFromUserSubcollection(t,r,"basic"):r===Fr.CONFIG&&await Tr.deleteFromUserSubcollection(t,r,"initial");const n=await Tr.getAllFromUserSubcollection(t,r);await Promise.all(n.map(i=>i!=null&&i.id?Tr.deleteFromUserSubcollection(t,r,i.id):Promise.resolve()))}catch(n){console.warn(`Falha parcial ao deletar subcoleção ${r} do usuário ${t}:`,n)}}class cY{static async saveBasicInfo(e,r){return Tr.saveToUserSubcollection(e,Fr.PROFILE,this.docId,r)}static async getUserBasicInfo(e){return Tr.getFromUserSubcollection(e,Fr.PROFILE,this.docId)}static async updateBasicInfo(e,r){return Tr.updateUserSubcollection(e,Fr.PROFILE,this.docId,r)}}kr(cY,"docId","basic");const P1e=()=>{const[t,e]=j.useState(""),[r,n]=j.useState(""),[i,a]=j.useState(!1),o=Wi(),{user:s}=qr(),l=async c=>{if(c.preventDefault(),!t.trim()||!r.trim()){Ge.error("Por favor, preencha todos os campos");return}a(!0);try{if(!(s!=null&&s.uid)){Ge.error("Usuário não autenticado");return}await cY.saveBasicInfo(s.uid,{name:t,phone:r}),Ge.success("Informações básicas salvas!"),o("/initial-setup")}catch{Ge.error("Erro ao salvar informações. Tente novamente.")}finally{a(!1)}};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-96 h-96 bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-float-slow"}),u.jsx("div",{className:"absolute w-96 h-96 bg-secondary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-float-reverse"}),u.jsx("div",{className:"absolute w-64 h-64 bg-primary/10 rounded-full blur-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-float-center"})]}),u.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),u.jsx("div",{className:"absolute top-40 right-32 w-1 h-1 bg-secondary rounded-full animate-bounce delay-700"}),u.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-1000"}),u.jsx("div",{className:"absolute bottom-20 right-20 w-2 h-2 bg-secondary rounded-full animate-bounce delay-500"}),u.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("button",{onClick:()=>o("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:u.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),u.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),u.jsx("path",{d:"M2 9h20"})]})}),u.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),u.jsx("button",{onClick:()=>o("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:u.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Complete suas informações básicas"}),u.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),u.jsxs("form",{onSubmit:l,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(ot,{htmlFor:"name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[u.jsx(Zq,{className:"w-4 h-4"}),"Nome completo"]}),u.jsx(Vt,{id:"name",type:"text",placeholder:"Digite seu nome completo",value:t,onChange:c=>e(c.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"phone",className:"text-sm font-medium text-foreground",children:"Telefone"}),u.jsx(Vt,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:r,onChange:c=>n(c.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),u.jsx(He,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:i,children:i?"Salvando...":"Continuar"})]}),u.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:u.jsx("p",{children:"Passo 1 de 2 - Informações básicas"})})]})]})};class AS{static async saveInitialSetup(e,r){return Tr.saveToUserSubcollection(e,Fr.CONFIG,this.docId,r)}static async getUserConfig(e){return Tr.getFromUserSubcollection(e,Fr.CONFIG,this.docId)}static async updateUserPlan(e,r){return Tr.updateUserSubcollection(e,Fr.CONFIG,this.docId,{currentPlan:r})}static async updateMonthlyGoal(e,r){return Tr.updateUserSubcollection(e,Fr.CONFIG,this.docId,{monthlyGoal:r})}static async updateSelectedPlatforms(e,r){return Tr.updateUserSubcollection(e,Fr.CONFIG,this.docId,{selectedPlatforms:r})}}kr(AS,"docId","initial");class wb{static async createEmployee(e,r){return console.log("UserEmployeeService.createEmployee - dados recebidos:",{userId:e,employeeData:r}),Tr.addToUserSubcollection(e,Fr.EMPLOYEES,r)}static async getEmployees(e){console.log("UserEmployeeService.getEmployees - buscando funcionários para userId:",e);const r=await Tr.getAllFromUserSubcollection(e,Fr.EMPLOYEES,[Qh("createdAt","desc")]);return console.log("Funcionários encontrados:",r),r}static async getActiveEmployees(e){return Tr.getAllFromUserSubcollection(e,Fr.EMPLOYEES,[Cu("status","==","active"),Qh("createdAt","desc")])}static async updateEmployee(e,r,n){return Tr.updateUserSubcollection(e,Fr.EMPLOYEES,r,n)}static async deleteEmployee(e,r){return Tr.deleteFromUserSubcollection(e,Fr.EMPLOYEES,r)}}class ku{static async createPlatform(e,r){return Tr.addToUserSubcollection(e,Fr.PLATFORMS,r)}static async getPlatforms(e){return Tr.getAllFromUserSubcollection(e,Fr.PLATFORMS,[Qh("name","asc")])}static async getActivePlatforms(e){return Tr.getAllFromUserSubcollection(e,Fr.PLATFORMS,[Cu("isActive","==",!0),Qh("name","asc")])}static async updatePlatform(e,r,n){return Tr.updateUserSubcollection(e,Fr.PLATFORMS,r,n)}static async deletePlatform(e,r){return Tr.deleteFromUserSubcollection(e,Fr.PLATFORMS,r)}}class Dv{static async createTransaction(e,r){return Tr.addToUserSubcollection(e,Fr.TRANSACTIONS,r)}static async getTransactions(e,r=100){return Tr.getAllFromUserSubcollection(e,Fr.TRANSACTIONS,[yb(r)])}static async getTransactionsByDateRange(e,r,n){console.log("UserTransactionService.getTransactionsByDateRange - userId:",e),console.log("UserTransactionService.getTransactionsByDateRange - startDate:",r),console.log("UserTransactionService.getTransactionsByDateRange - endDate:",n);const i=await Tr.getAllFromUserSubcollection(e,Fr.TRANSACTIONS,[Cu("date",">=",r),Cu("date","<=",n)]);return console.log("UserTransactionService.getTransactionsByDateRange - transactions found:",i),i}static async getTransactionsByEmployee(e,r){return Tr.getAllFromUserSubcollection(e,Fr.TRANSACTIONS,[Cu("employeeId","==",r)])}static async updateTransaction(e,r,n){return Tr.updateUserSubcollection(e,Fr.TRANSACTIONS,r,n)}static async deleteTransaction(e,r){return Tr.deleteFromUserSubcollection(e,Fr.TRANSACTIONS,r)}}class Is{static async createDailySummary(e,r){return Tr.addToUserSubcollection(e,Fr.DAILY_SUMMARIES,r)}static async getAllDailySummaries(e){console.log("UserDailySummaryService.getAllDailySummaries - userId:",e);const r=await Tr.getAllFromUserSubcollection(e,Fr.DAILY_SUMMARIES,[]);return console.log("UserDailySummaryService.getAllDailySummaries - summaries found:",r),r}static async updateDailySummary(e,r,n){return Tr.updateUserSubcollection(e,Fr.DAILY_SUMMARIES,r,n)}static async deleteDailySummary(e,r){return Tr.deleteFromUserSubcollection(e,Fr.DAILY_SUMMARIES,r)}static async getDailySummaries(e,r=30){return Tr.getAllFromUserSubcollection(e,Fr.DAILY_SUMMARIES,[Qh("date","desc"),yb(r)])}static async getDailySummaryByDate(e,r){const n=await Tr.getAllFromUserSubcollection(e,Fr.DAILY_SUMMARIES,[Cu("date","==",r),yb(1)]);return n.length>0?n[0]:null}}const T1e=()=>{const[t,e]=j.useState(""),[r,n]=j.useState([]),[i,a]=j.useState(!1),o=Wi(),{user:s}=qr(),l=[{name:"Pixbet",color:"rgb(173, 216, 230)"},{name:"Betano",color:"rgb(255, 102, 0)"},{name:"Mcgames",color:"rgb(220, 20, 60)"},{name:"Kto",color:"rgb(200, 0, 0)"},{name:"Realsbet",color:"rgb(0, 255, 200)"},{name:"Vaidebet",color:"rgb(255, 215, 0)"},{name:"Sportingbet",color:"rgb(70, 130, 180)"},{name:"Superbet",color:"rgb(255, 51, 102)"},{name:"Betao",color:"rgb(255, 165, 80)"},{name:"Bet365",color:"rgb(0, 128, 64)"},{name:"Esportivabet",color:"rgb(255, 140, 0)"},{name:"Hiperbet",color:"rgb(220, 0, 0)"},{name:"Luvabet",color:"rgb(173, 255, 47)"},{name:"Cassinopix",color:"rgb(135, 206, 235)"},{name:"Multibet",color:"rgb(72, 61, 139)"}],c=h=>{n(p=>p.includes(h)?p.filter(f=>f!==h):[...p,h])},d=async h=>{if(h.preventDefault(),!t||r.length===0){Ge.error("Por favor, defina sua meta mensal e selecione pelo menos uma plataforma");return}a(!0);try{if(!(s!=null&&s.uid)){Ge.error("Usuário não autenticado");return}await AS.saveInitialSetup(s.uid,{monthlyGoal:Number(t),selectedPlatforms:r,setupCompleted:!0});const p=await ku.getPlatforms(s.uid),f={};(p||[]).forEach(m=>{f[(m.name||"").toLowerCase()]=m});const v=r.map(async m=>{const g=l.find(A=>A.name===m),y=(g==null?void 0:g.color)||"#FF5C00",x=m.toLowerCase(),_=f[x];return _!=null&&_.id?ku.updatePlatform(s.uid,_.id,{isActive:!0,color:y}):ku.createPlatform(s.uid,{name:m,color:y,isActive:!0})});await Promise.all(v),Ge.success("Configuração inicial concluída!"),o("/dashboard")}catch{Ge.error("Erro ao salvar configurações. Tente novamente.")}finally{a(!1)}};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-96 h-96 bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-float-slow"}),u.jsx("div",{className:"absolute w-96 h-96 bg-secondary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-float-reverse"}),u.jsx("div",{className:"absolute w-64 h-64 bg-primary/10 rounded-full blur-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-float-center"})]}),u.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),u.jsx("div",{className:"absolute top-40 right-32 w-1 h-1 bg-secondary rounded-full animate-bounce delay-700"}),u.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-1000"}),u.jsx("div",{className:"absolute bottom-20 right-20 w-2 h-2 bg-secondary rounded-full animate-bounce delay-500"}),u.jsxs("div",{className:"w-full max-w-2xl p-8 relative z-10",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("button",{onClick:()=>o("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:u.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),u.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),u.jsx("path",{d:"M2 9h20"})]})}),u.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),u.jsx("button",{onClick:()=>o("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:u.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Configure suas preferências"}),u.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),u.jsxs("form",{onSubmit:d,className:"space-y-8",children:[u.jsxs(rt,{className:"p-6 border border-primary/20 bg-card/80 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(GI,{className:"w-6 h-6 text-primary"}),u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Meta Mensal"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"monthlyGoal",className:"text-sm font-medium text-foreground",children:"Defina sua meta de lucro mensal (R$)"}),u.jsx(Vt,{id:"monthlyGoal",type:"number",placeholder:"Ex: 5000",value:t,onChange:h=>e(h.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,min:"1"})]})]}),u.jsxs(rt,{className:"p-6 border border-primary/20 bg-card/80 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-6 h-6 rounded bg-primary flex items-center justify-center",children:u.jsx(hr,{className:"w-4 h-4 text-primary-foreground"})}),u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Plataformas Principais"})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Selecione as plataformas que você mais utiliza. Elas aparecerão na aba Saldos."}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.map(h=>u.jsx("button",{type:"button",onClick:()=>c(h.name),className:`p-3 rounded-lg border-2 transition-all duration-200 text-sm font-medium ${r.includes(h.name)?"border-primary bg-primary/10 text-primary":"border-border/50 bg-background/50 text-foreground hover:border-primary/50"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color}}),h.name]})},h.name))}),u.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[r.length," plataforma(s) selecionada(s)"]})]}),u.jsx(He,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:i,children:i?"Configurando...":"Finalizar Configuração"}),u.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:u.jsx("p",{children:"Passo 2 de 2 - Configurações avançadas"})})]})]})]})};var pP="focusScope.autoFocusOnMount",mP="focusScope.autoFocusOnUnmount",O8={bubbles:!1,cancelable:!0},j1e="FocusScope",BA=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=j.useState(null),c=Ks(i),d=Ks(a),h=j.useRef(null),p=Or(e,m=>l(m)),f=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let m=function(_){if(f.paused||!s)return;const A=_.target;s.contains(A)?h.current=A:Bd(h.current,{select:!0})},g=function(_){if(f.paused||!s)return;const A=_.relatedTarget;A!==null&&(s.contains(A)||Bd(h.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&Bd(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const x=new MutationObserver(y);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),x.disconnect()}}},[n,s,f.paused]),j.useEffect(()=>{if(s){D8.add(f);const m=document.activeElement;if(!s.contains(m)){const y=new CustomEvent(pP,O8);s.addEventListener(pP,c),s.dispatchEvent(y),y.defaultPrevented||(C1e(D1e(uY(s)),{select:!0}),document.activeElement===m&&Bd(s))}return()=>{s.removeEventListener(pP,c),setTimeout(()=>{const y=new CustomEvent(mP,O8);s.addEventListener(mP,d),s.dispatchEvent(y),y.defaultPrevented||Bd(m??document.body,{select:!0}),s.removeEventListener(mP,d),D8.remove(f)},0)}}},[s,c,d,f]);const v=j.useCallback(m=>{if(!r&&!n||f.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const x=m.currentTarget,[_,A]=k1e(x);_&&A?!m.shiftKey&&y===A?(m.preventDefault(),r&&Bd(_,{select:!0})):m.shiftKey&&y===_&&(m.preventDefault(),r&&Bd(A,{select:!0})):y===x&&m.preventDefault()}},[r,n,f.paused]);return u.jsx(Wt.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});BA.displayName=j1e;function C1e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Bd(n,{select:e}),document.activeElement!==r)return}function k1e(t){const e=uY(t),r=R8(e,t),n=R8(e.reverse(),t);return[r,n]}function uY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function R8(t,e){for(const r of t)if(!I1e(r,{upTo:e}))return r}function I1e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O1e(t){return t instanceof HTMLInputElement&&"select"in t}function Bd(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&O1e(t)&&e&&t.select()}}var D8=R1e();function R1e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=L8(t,e),t.unshift(e)},remove(e){var r;t=L8(t,e),(r=t[0])==null||r.resume()}}}function L8(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function D1e(t){return t.filter(e=>e.tagName!=="A")}var gP=0;function v3(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??M8()),document.body.insertAdjacentElement("beforeend",t[1]??M8()),gP++,()=>{gP===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gP--}},[])}function M8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var uc=function(){return uc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},uc.apply(this,arguments)};function dY(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function L1e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var u_="right-scroll-bar-position",d_="width-before-scroll-bar",M1e="with-scroll-bars-hidden",$1e="--removed-body-scroll-bar-size";function vP(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function F1e(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var B1e=typeof window<"u"?j.useLayoutEffect:j.useEffect,$8=new WeakMap;function U1e(t,e){var r=F1e(null,function(n){return t.forEach(function(i){return vP(i,n)})});return B1e(function(){var n=$8.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||vP(s,null)}),a.forEach(function(s){i.has(s)||vP(s,o)})}$8.set(r,t)},[t]),r}function V1e(t){return t}function z1e(t,e){e===void 0&&(e=V1e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return i}function q1e(t){t===void 0&&(t={});var e=z1e(null);return e.options=uc({async:!0,ssr:!1},t),e}var hY=function(t){var e=t.sideCar,r=dY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,uc({},r))};hY.isSideCarExport=!0;function W1e(t,e){return t.useMedium(e),hY}var fY=q1e(),yP=function(){},UA=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:yP,onWheelCapture:yP,onTouchMoveCapture:yP}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,f=t.noRelative,v=t.noIsolation,m=t.inert,g=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,_=t.gapMode,A=dY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,I=U1e([r,e]),P=uc(uc({},A),i);return j.createElement(j.Fragment,null,d&&j.createElement(N,{sideCar:fY,removeScrollBar:c,shards:h,noRelative:f,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:_}),o?j.cloneElement(j.Children.only(s),uc(uc({},P),{ref:I})):j.createElement(x,uc({},P,{className:l,ref:I}),s))});UA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};UA.classNames={fullWidth:d_,zeroRight:u_};var H1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function G1e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=H1e();return e&&t.setAttribute("nonce",e),t}function K1e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Y1e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var X1e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=G1e())&&(K1e(e,r),Y1e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Q1e=function(){var t=X1e();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},pY=function(){var t=Q1e(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},J1e={left:0,top:0,right:0,gap:0},bP=function(t){return parseInt(t||"",10)||0},Z1e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[bP(r),bP(n),bP(i)]},ebe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return J1e;var e=Z1e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},tbe=pY(),zg="data-scroll-locked",rbe=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(M1e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(zg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(u_,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(d_,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(u_," .").concat(u_,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(d_," .").concat(d_,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zg,`] {
    `).concat($1e,": ").concat(s,`px;
  }
`)},F8=function(){var t=parseInt(document.body.getAttribute(zg)||"0",10);return isFinite(t)?t:0},nbe=function(){j.useEffect(function(){return document.body.setAttribute(zg,(F8()+1).toString()),function(){var t=F8()-1;t<=0?document.body.removeAttribute(zg):document.body.setAttribute(zg,t.toString())}},[])},ibe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;nbe();var a=j.useMemo(function(){return ebe(i)},[i]);return j.createElement(tbe,{styles:rbe(a,!e,i,r?"":"!important")})},DC=!1;if(typeof window<"u")try{var a2=Object.defineProperty({},"passive",{get:function(){return DC=!0,!0}});window.addEventListener("test",a2,a2),window.removeEventListener("test",a2,a2)}catch{DC=!1}var $m=DC?{passive:!1}:!1,abe=function(t){return t.tagName==="TEXTAREA"},mY=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!abe(t)&&r[e]==="visible")},obe=function(t){return mY(t,"overflowY")},sbe=function(t){return mY(t,"overflowX")},B8=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=gY(t,n);if(i){var a=vY(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},lbe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},cbe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},gY=function(t,e){return t==="v"?obe(e):sbe(e)},vY=function(t,e){return t==="v"?lbe(e):cbe(e)},ube=function(t,e){return t==="h"&&e==="rtl"?-1:1},dbe=function(t,e,r,n,i){var a=ube(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),c=!1,d=o>0,h=0,p=0;do{if(!s)break;var f=vY(t,s),v=f[0],m=f[1],g=f[2],y=m-g-a*v;(v||y)&&gY(t,s)&&(h+=y,p+=v);var x=s.parentNode;s=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(c=!0),c},o2=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},U8=function(t){return[t.deltaX,t.deltaY]},V8=function(t){return t&&"current"in t?t.current:t},hbe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fbe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pbe=0,Fm=[];function mbe(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(pbe++)[0],a=j.useState(pY)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=L1e([t.lockRef.current],(t.shards||[]).map(V8),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=j.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=o2(m),x=r.current,_="deltaX"in m?m.deltaX:x[0]-y[0],A="deltaY"in m?m.deltaY:x[1]-y[1],N,I=m.target,P=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in m&&P==="h"&&I.type==="range")return!1;var E=B8(P,I);if(!E)return!0;if(E?N=P:(N=P==="v"?"h":"v",E=B8(P,I)),!E)return!1;if(!n.current&&"changedTouches"in m&&(_||A)&&(n.current=N),!N)return!0;var k=n.current||N;return dbe(k,g,m,k==="h"?_:A,!0)},[]),l=j.useCallback(function(m){var g=m;if(!(!Fm.length||Fm[Fm.length-1]!==a)){var y="deltaY"in g?U8(g):o2(g),x=e.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&hbe(N.delta,y)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var _=(o.current.shards||[]).map(V8).filter(Boolean).filter(function(N){return N.contains(g.target)}),A=_.length>0?s(g,_[0]):!o.current.noIsolation;A&&g.cancelable&&g.preventDefault()}}},[]),c=j.useCallback(function(m,g,y,x){var _={name:m,delta:g,target:y,should:x,shadowParent:gbe(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(A){return A!==_})},1)},[]),d=j.useCallback(function(m){r.current=o2(m),n.current=void 0},[]),h=j.useCallback(function(m){c(m.type,U8(m),m.target,s(m,t.lockRef.current))},[]),p=j.useCallback(function(m){c(m.type,o2(m),m.target,s(m,t.lockRef.current))},[]);j.useEffect(function(){return Fm.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,$m),document.addEventListener("touchmove",l,$m),document.addEventListener("touchstart",d,$m),function(){Fm=Fm.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,$m),document.removeEventListener("touchmove",l,$m),document.removeEventListener("touchstart",d,$m)}},[]);var f=t.removeScrollBar,v=t.inert;return j.createElement(j.Fragment,null,v?j.createElement(a,{styles:fbe(i)}):null,f?j.createElement(ibe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function gbe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vbe=W1e(fY,mbe);var VA=j.forwardRef(function(t,e){return j.createElement(UA,uc({},t,{ref:e,sideCar:vbe}))});VA.classNames=UA.classNames;var ybe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bm=new WeakMap,s2=new WeakMap,l2={},xP=0,yY=function(t){return t&&(t.host||yY(t.parentNode))},bbe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=yY(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},xbe=function(t,e,r,n){var i=bbe(e,Array.isArray(t)?t:[t]);l2[r]||(l2[r]=new WeakMap);var a=l2[r],o=[],s=new Set,l=new Set(i),c=function(h){!h||s.has(h)||(s.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(s.has(p))d(p);else try{var f=p.getAttribute(n),v=f!==null&&f!=="false",m=(Bm.get(p)||0)+1,g=(a.get(p)||0)+1;Bm.set(p,m),a.set(p,g),o.push(p),m===1&&v&&s2.set(p,!0),g===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(e),s.clear(),xP++,function(){o.forEach(function(h){var p=Bm.get(h)-1,f=a.get(h)-1;Bm.set(h,p),a.set(h,f),p||(s2.has(h)||h.removeAttribute(n),s2.delete(h)),f||h.removeAttribute(r)}),xP--,xP||(Bm=new WeakMap,Bm=new WeakMap,s2=new WeakMap,l2={})}},y3=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=ybe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),xbe(n,i,r,"aria-hidden")):function(){return null}},zA="Dialog",[bY,xY]=ds(zA),[wbe,Dl]=bY(zA),wY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=j.useRef(null),l=j.useRef(null),[c,d]=El({prop:n,defaultProp:i??!1,onChange:a,caller:zA});return u.jsx(wbe,{scope:e,triggerRef:s,contentRef:l,contentId:wl(),titleId:wl(),descriptionId:wl(),open:c,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};wY.displayName=zA;var _Y="DialogTrigger",SY=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Dl(_Y,r),a=Or(e,i.triggerRef);return u.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":w3(i.open),...n,ref:a,onClick:jt(t.onClick,i.onOpenToggle)})});SY.displayName=_Y;var b3="DialogPortal",[_be,AY]=bY(b3,{forceMount:void 0}),EY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Dl(b3,e);return u.jsx(_be,{scope:e,forceMount:r,children:j.Children.map(n,o=>u.jsx(Dc,{present:r||a.open,children:u.jsx(Sx,{asChild:!0,container:i,children:o})}))})};EY.displayName=b3;var ES="DialogOverlay",NY=j.forwardRef((t,e)=>{const r=AY(ES,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Dl(ES,t.__scopeDialog);return a.modal?u.jsx(Dc,{present:n||a.open,children:u.jsx(Abe,{...i,ref:e})}):null});NY.displayName=ES;var Sbe=$p("DialogOverlay.RemoveScroll"),Abe=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Dl(ES,r);return u.jsx(VA,{as:Sbe,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Wt.div,{"data-state":w3(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Xp="DialogContent",PY=j.forwardRef((t,e)=>{const r=AY(Xp,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Dl(Xp,t.__scopeDialog);return u.jsx(Dc,{present:n||a.open,children:a.modal?u.jsx(Ebe,{...i,ref:e}):u.jsx(Nbe,{...i,ref:e})})});PY.displayName=Xp;var Ebe=j.forwardRef((t,e)=>{const r=Dl(Xp,t.__scopeDialog),n=j.useRef(null),i=Or(e,r.contentRef,n);return j.useEffect(()=>{const a=n.current;if(a)return y3(a)},[]),u.jsx(TY,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:jt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:jt(t.onFocusOutside,a=>a.preventDefault())})}),Nbe=j.forwardRef((t,e)=>{const r=Dl(Xp,t.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return u.jsx(TY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),TY=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=Dl(Xp,r),l=j.useRef(null),c=Or(e,l);return v3(),u.jsxs(u.Fragment,{children:[u.jsx(BA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(my,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":w3(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Tbe,{titleId:s.titleId}),u.jsx(Cbe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),x3="DialogTitle",jY=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Dl(x3,r);return u.jsx(Wt.h2,{id:i.titleId,...n,ref:e})});jY.displayName=x3;var CY="DialogDescription",kY=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Dl(CY,r);return u.jsx(Wt.p,{id:i.descriptionId,...n,ref:e})});kY.displayName=CY;var IY="DialogClose",OY=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Dl(IY,r);return u.jsx(Wt.button,{type:"button",...n,ref:e,onClick:jt(t.onClick,()=>i.onOpenChange(!1))})});OY.displayName=IY;function w3(t){return t?"open":"closed"}var RY="DialogTitleWarning",[Pbe,DY]=Loe(RY,{contentName:Xp,titleName:x3,docsSlug:"dialog"}),Tbe=({titleId:t})=>{const e=DY(RY),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},jbe="DialogDescriptionWarning",Cbe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DY(jbe).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},LY=wY,MY=SY,$Y=EY,_3=NY,S3=PY,A3=jY,E3=kY,N3=OY,FY="AlertDialog",[kbe,JJe]=ds(FY,[xY]),td=xY(),BY=t=>{const{__scopeAlertDialog:e,...r}=t,n=td(e);return u.jsx(LY,{...n,...r,modal:!0})};BY.displayName=FY;var Ibe="AlertDialogTrigger",UY=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return u.jsx(MY,{...i,...n,ref:e})});UY.displayName=Ibe;var Obe="AlertDialogPortal",VY=t=>{const{__scopeAlertDialog:e,...r}=t,n=td(e);return u.jsx($Y,{...n,...r})};VY.displayName=Obe;var Rbe="AlertDialogOverlay",zY=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return u.jsx(_3,{...i,...n,ref:e})});zY.displayName=Rbe;var qg="AlertDialogContent",[Dbe,Lbe]=kbe(qg),Mbe=vq("AlertDialogContent"),qY=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=td(r),o=j.useRef(null),s=Or(e,o),l=j.useRef(null);return u.jsx(Pbe,{contentName:qg,titleName:WY,docsSlug:"alert-dialog",children:u.jsx(Dbe,{scope:r,cancelRef:l,children:u.jsxs(S3,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:jt(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(Mbe,{children:n}),u.jsx(Fbe,{contentRef:o})]})})})});qY.displayName=qg;var WY="AlertDialogTitle",HY=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return u.jsx(A3,{...i,...n,ref:e})});HY.displayName=WY;var GY="AlertDialogDescription",KY=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return u.jsx(E3,{...i,...n,ref:e})});KY.displayName=GY;var $be="AlertDialogAction",YY=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return u.jsx(N3,{...i,...n,ref:e})});YY.displayName=$be;var XY="AlertDialogCancel",QY=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Lbe(XY,r),a=td(r),o=Or(e,i);return u.jsx(N3,{...a,...n,ref:o})});QY.displayName=XY;var Fbe=({contentRef:t})=>{const e=`\`${qg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qg}\` by passing a \`${GY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Bbe=BY,Ube=UY,Vbe=VY,JY=zY,ZY=qY,eX=YY,tX=QY,rX=HY,nX=KY;const Qp=Bbe,ky=Ube,zbe=Vbe,iX=j.forwardRef(({className:t,...e},r)=>u.jsx(JY,{className:yt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));iX.displayName=JY.displayName;const Jh=j.forwardRef(({className:t,...e},r)=>u.jsxs(zbe,{children:[u.jsx(iX,{}),u.jsx(ZY,{ref:r,className:yt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Jh.displayName=ZY.displayName;const Zh=({className:t,...e})=>u.jsx("div",{className:yt("flex flex-col space-y-2 text-center sm:text-left",t),...e});Zh.displayName="AlertDialogHeader";const ef=({className:t,...e})=>u.jsx("div",{className:yt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ef.displayName="AlertDialogFooter";const tf=j.forwardRef(({className:t,...e},r)=>u.jsx(rX,{ref:r,className:yt("text-lg font-semibold",t),...e}));tf.displayName=rX.displayName;const rf=j.forwardRef(({className:t,...e},r)=>u.jsx(nX,{ref:r,className:yt("text-sm text-muted-foreground",t),...e}));rf.displayName=nX.displayName;const nf=j.forwardRef(({className:t,...e},r)=>u.jsx(eX,{ref:r,className:yt(xb(),t),...e}));nf.displayName=eX.displayName;const af=j.forwardRef(({className:t,...e},r)=>u.jsx(tX,{ref:r,className:yt(xb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));af.displayName=tX.displayName;const $a=({children:t})=>{const e=Wi(),r=df(),{user:n,isAdmin:i,logout:a}=qr(),{canAccess:o,currentPlan:s}=gf(),l=[{icon:Fse,label:"Dashboard",path:"/dashboard",requiredFeature:"dashboard"},{icon:Zo,label:"Funcionários",path:"/gestao-funcionarios",requiredFeature:"dashboard"},{icon:_v,label:"Pagamentos",path:"/pagamentos",requiredFeature:"payments"},{icon:rA,label:"Resumo do Dia",path:"/resumo-dia",requiredFeature:"dailySummary"},{icon:Ise,label:"Saldos",path:"/saldos",requiredFeature:"balances"},{icon:Ti,label:"Relatórios",path:"/relatorios",requiredFeature:"reports"},{icon:xv,label:"Histórico",path:"/historico",requiredFeature:"history"},{icon:wv,label:"Planos",path:"/planos",requiredFeature:"dashboard"},{icon:Mse,label:"Afiliados",path:"/afiliados",requiredFeature:"dashboard"}].filter(p=>o(p.requiredFeature)),c=[{icon:Yq,label:"Perfil",path:"/perfil"},{icon:Qq,label:"Configurações",path:"/settings"},...i||(n==null?void 0:n.email)==="diegkamor@gmail.com"?[{icon:Bp,label:"Admin",path:"/admin",requiredFeature:"advancedPanel"}]:[]],d=p=>r.pathname===p,h=()=>{a(),e("/"),Ge.success("Logout realizado com sucesso!")};return u.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[u.jsxs("aside",{className:"w-72 bg-sidebar border-r border-sidebar-border flex flex-col shadow-xl fixed left-0 top-0 h-screen z-50",children:[u.jsxs("div",{className:"p-8 border-b border-sidebar-border/50",children:[u.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-3 mb-4",children:[u.jsxs("svg",{className:"w-10 h-10 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),u.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),u.jsx("path",{d:"M2 9h20"})]}),u.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Optify"})]}),u.jsxs("div",{className:"px-4 py-2 rounded-xl bg-primary/10 border border-primary/20",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Plano Atual"}),u.jsx("p",{className:"text-sm font-bold text-primary capitalize",children:s})]})]}),u.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:l.map(p=>u.jsxs("button",{onClick:()=>e(p.path),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all group ${d(p.path)?"bg-gradient-primary text-primary-foreground shadow-glow scale-105":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground hover:scale-105"}`,children:[u.jsx(p.icon,{className:`h-5 w-5 ${d(p.path)?"":"group-hover:scale-110 transition-transform"}`}),u.jsx("span",{className:"text-sm font-semibold",children:p.label})]},p.path))}),u.jsxs("div",{className:"p-3 border-t border-sidebar-border/50 space-y-1",children:[c.map(p=>u.jsxs("button",{onClick:()=>e(p.path),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-xl transition-all ${d(p.path)?"bg-gradient-primary text-primary-foreground shadow-glow":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground"}`,children:[u.jsx(p.icon,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-semibold",children:p.label})]},p.path)),u.jsxs(Qp,{children:[u.jsx(ky,{asChild:!0,children:u.jsxs(He,{variant:"ghost",className:"w-full justify-start gap-3 px-4 py-2.5 text-destructive hover:text-destructive hover:bg-destructive/10 rounded-xl",children:[u.jsx(Bse,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-semibold",children:"Sair"})]})}),u.jsxs(Jh,{className:"bg-card border-border",children:[u.jsxs(Zh,{children:[u.jsx(tf,{className:"text-foreground",children:"Confirmar Logout"}),u.jsx(rf,{className:"text-muted-foreground",children:"Tem certeza que deseja sair da sua conta? Você precisará fazer login novamente para acessar o sistema."})]}),u.jsxs(ef,{children:[u.jsx(af,{className:"bg-muted hover:bg-muted/80 text-foreground border-border",children:"Cancelar"}),u.jsx(nf,{onClick:h,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Sair da Conta"})]})]})]})]})]}),u.jsx("main",{className:"flex-1 overflow-y-auto bg-gradient-to-br from-background to-background/95 ml-72",children:u.jsx("div",{className:"p-8 max-w-[1600px] mx-auto",children:t})})]})},e1=({title:t,value:e,icon:r,trend:n,className:i,valueColor:a="default",onClick:o,clickable:s=!1})=>u.jsxs(rt,{className:yt("p-6 card-hover relative overflow-hidden group hover:shadow-glow transition-all duration-300",s&&"cursor-pointer hover:scale-105 transition-transform",i),onClick:o,children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-primary opacity-0 group-hover:opacity-5 transition-opacity"}),u.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:t}),u.jsx("p",{className:yt("text-4xl font-bold",a==="positive"&&"text-success",a==="negative"&&"text-destructive",a==="default"&&"text-foreground"),children:e}),n&&u.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-semibold px-3 py-1 rounded-full ${n.isPositive?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[n.isPositive?"+":"",n.value,"% vs. anterior"]})]}),u.jsx("div",{className:"p-4 bg-gradient-primary rounded-2xl shadow-glow",children:u.jsx(r,{className:"h-7 w-7 text-primary-foreground"})})]})]}),_l=LY,Wg=MY,qbe=$Y,aX=j.forwardRef(({className:t,...e},r)=>u.jsx(_3,{ref:r,className:yt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));aX.displayName=_3.displayName;const Vs=j.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(qbe,{children:[u.jsx(aX,{}),u.jsxs(S3,{ref:n,className:yt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,u.jsxs(N3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(eW,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vs.displayName=S3.displayName;const zs=({className:t,...e})=>u.jsx("div",{className:yt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});zs.displayName="DialogHeader";const qs=j.forwardRef(({className:t,...e},r)=>u.jsx(A3,{ref:r,className:yt("text-lg font-semibold leading-none tracking-tight",t),...e}));qs.displayName=A3.displayName;const Wbe=j.forwardRef(({className:t,...e},r)=>u.jsx(E3,{ref:r,className:yt("text-sm text-muted-foreground",t),...e}));Wbe.displayName=E3.displayName;const rd=t=>wy({queryKey:["firebase-employees",t],queryFn:()=>wb.getEmployees(t),enabled:!!t}),oX=()=>{const t=qi();return hs({mutationFn:e=>{if(console.log("useCreateEmployee - dados recebidos:",e),e.userId){const{userId:r,...n}=e;return wb.createEmployee(r,n)}return wb.createEmployee(e.userId,e.data)},onSuccess:()=>{console.log("useCreateEmployee - funcionário criado com sucesso, invalidando queries"),t.invalidateQueries({queryKey:["firebase-employees"]})},onError:e=>{console.error("useCreateEmployee - erro ao criar funcionário:",e)}})},sX=()=>{const t=qi();return hs({mutationFn:({userId:e,id:r,data:n})=>wb.updateEmployee(e,r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-employees"]})}})},Hbe=()=>{const t=qi();return hs({mutationFn:({userId:e,id:r})=>wb.deleteEmployee(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-employees"]})}})},Iy=t=>wy({queryKey:["firebase-platforms",t],queryFn:()=>ku.getPlatforms(t),enabled:!!t}),Gbe=()=>{const t=qi();return hs({mutationFn:({userId:e,name:r,color:n})=>ku.createPlatform(e,{name:r,color:n,isActive:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},Kbe=()=>{const t=qi();return hs({mutationFn:({userId:e,id:r,data:n})=>ku.updatePlatform(e,r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},Ybe=()=>{const t=qi();return hs({mutationFn:({userId:e,id:r})=>ku.deletePlatform(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},as=(t,e,r)=>wy({queryKey:["firebase-transactions",t,e,r],queryFn:()=>(console.log("useTransactions - userId:",t),console.log("useTransactions - startDate:",e),console.log("useTransactions - endDate:",r),e&&r?(console.log("useTransactions - Calling getTransactionsByDateRange"),Dv.getTransactionsByDateRange(t,e,r)):(console.log("useTransactions - Calling getTransactions"),Dv.getTransactions(t))),enabled:!!t}),P3=()=>{const t=qi();return hs({mutationFn:e=>{const{userId:r,...n}=e||{};return Dv.createTransaction(r,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-transactions"]})}})},T3=()=>{const t=qi(),{user:e}=qr();return hs({mutationFn:r=>Dv.deleteTransaction((e==null?void 0:e.uid)||"",r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-transactions"]}),t.invalidateQueries({queryKey:["firebase-employees"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-platforms"]}),t.refetchQueries()}})},Xbe=()=>{const t=qi(),{user:e}=qr();return hs({mutationFn:({id:r,data:n})=>Dv.updateTransaction((e==null?void 0:e.uid)||"",r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-transactions"]}),t.invalidateQueries({queryKey:["firebase-employees"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-platforms"]}),t.refetchQueries()}})},Qbe=()=>{const t=qi();return hs({mutationFn:async e=>{if((await ku.getPlatforms(e)).length>0)return;const i=[{name:"Pixbet",color:"#ADD8E6"},{name:"Betano",color:"#FF6600"},{name:"Mcgames",color:"#DC143C"},{name:"Kto",color:"#C80000"},{name:"Realsbet",color:"#00FFC8"},{name:"Vaidebet",color:"#FFD700"},{name:"Sportingbet",color:"#4682B4"},{name:"Superbet",color:"#FF3366"},{name:"Betao",color:"#FFA550"},{name:"Bet365",color:"#008040"},{name:"Esportivabet",color:"#FF8C00"},{name:"Hiperbet",color:"#DC0000"},{name:"Luvabet",color:"#ADFF2F"},{name:"Cassinopix",color:"#87CEEB"},{name:"Multibet",color:"#483D8B"}].map(a=>ku.createPlatform(e,{name:a.name,color:a.color,isActive:!0}));await Promise.all(i)},onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},zx=t=>wy({queryKey:["firebase-all-daily-summaries",t],queryFn:async()=>{console.log("useAllDailySummaries - userId:",t);const e=await Is.getAllDailySummaries(t);return console.log("useAllDailySummaries - summaries found:",e),e},enabled:!!t}),Jbe=()=>{const t=qi(),{user:e}=qr();return hs({mutationFn:({summaryId:r,summaryData:n})=>Is.updateDailySummary((e==null?void 0:e.uid)||"",r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]})}})},Zbe=()=>{const t=qi(),{user:e}=qr();return hs({mutationFn:r=>Is.deleteDailySummary((e==null?void 0:e.uid)||"",r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]})}})},exe=()=>{const t=qi(),{user:e}=qr(),[r,n]=j.useState(""),[i,a]=j.useState(!1),{data:o}=wy({queryKey:["user-config",e==null?void 0:e.uid],queryFn:async()=>e!=null&&e.uid?AS.getUserConfig(e.uid):null,enabled:!!(e!=null&&e.uid)}),[s,l]=j.useState((o==null?void 0:o.monthlyGoal)||1e4);ue.useEffect(()=>{o!=null&&o.monthlyGoal&&l(o.monthlyGoal)},[o]);const c=new Date,d=new Date(c.getFullYear(),c.getMonth(),1),h=new Date(c.getFullYear(),c.getMonth()+1,0),p=d.toISOString().split("T")[0],f=h.toISOString().split("T")[0],{data:v=[]}=as((e==null?void 0:e.uid)||"",p,f),{data:m=[]}=zx((e==null?void 0:e.uid)||""),g=c.getFullYear(),y=c.getMonth(),x=m.filter(D=>{const C=new Date(D.date);return C.getFullYear()===g&&C.getMonth()===y}),_=x.reduce((D,C)=>D+(C.profit||C.margin||0),0),A=new Set(x.map(D=>D.date)),N=v.filter(D=>!A.has(D.date)),I=N.reduce((D,C)=>{const O=C.type==="withdraw"?C.amount:-C.amount;return D+O},0),P=_+I,E=async()=>{const D=Number(r);if(D<=0){Ge.error("A meta deve ser maior que zero");return}try{e!=null&&e.uid&&await AS.updateMonthlyGoal(e.uid,D),l(D),Ge.success("Meta atualizada!"),a(!1),n(""),t.invalidateQueries({queryKey:["user-config",e==null?void 0:e.uid]})}catch(C){console.error("Erro ao atualizar meta:",C),Ge.error("Erro ao atualizar meta. Tente novamente.")}},k=s>0?Math.min(P/s*100,100):0;return console.log("MonthlyGoalCard Debug:",{monthlyProfit:P,monthlyGoal:s,progress:k,monthlyTransactions:v.length,monthlySummaries:x.length,monthlyRevenueFromSummaries:_,openTransactions:N.length,monthlyRevenueFromTransactions:I,startDate:p,endDate:f}),console.log("MonthlyGoalCard - Fechamentos Diários:"),x.forEach((D,C)=>{console.log(`  ${C+1}. Data: ${D.date}, Profit: ${D.profit||D.margin||0}`)}),console.log("MonthlyGoalCard - Transações Abertas:"),N.forEach((D,C)=>{const O=D.type==="withdraw"?D.amount:-D.amount;console.log(`  ${C+1}. Data: ${D.date}, Tipo: ${D.type}, Valor: ${D.amount}, Profit: ${O}`)}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Meta Mensal"}),u.jsxs("p",{className:"text-3xl font-bold",children:["R$ ",s.toLocaleString("pt-BR")]})]}),u.jsxs(_l,{open:i,onOpenChange:a,children:[u.jsx(Wg,{asChild:!0,children:u.jsx("button",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow hover:shadow-glow-lg transition-all duration-300 cursor-pointer",children:u.jsx(GI,{className:"h-6 w-6 text-primary-foreground"})})}),u.jsxs(Vs,{children:[u.jsx(zs,{children:u.jsx(qs,{children:"Alterar Meta Mensal"})}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Nova Meta (R$)"}),u.jsx(Vt,{type:"number",step:"0.01",placeholder:"0,00",value:r,onChange:D=>n(D.target.value)})]}),u.jsx(He,{className:"w-full",onClick:E,children:"Salvar Meta"})]})]})]})]}),u.jsxs("div",{className:"space-y-3 mb-4",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),u.jsxs("span",{className:"font-semibold text-primary",children:[k.toFixed(1),"%"]})]}),u.jsxs("div",{className:"relative w-full h-4 bg-muted rounded-full overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 h-full gradient-primary transition-all duration-1000 ease-out rounded-full",style:{width:`${Math.min(k,100)}%`,minWidth:k>0?"2px":"0px"}}),k>100&&u.jsx("div",{className:"absolute top-0 left-0 h-full gradient-success transition-all duration-1000 ease-out rounded-full w-full"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",P.toLocaleString("pt-BR")," de R$ ",s.toLocaleString("pt-BR")]})]})]})},j3="America/Sao_Paulo",txe=()=>{if(typeof Intl<"u"&&Intl.DateTimeFormat){const t=Intl.DateTimeFormat;Intl.DateTimeFormat=function(e,r){return t(e,{...r,timeZone:(r==null?void 0:r.timeZone)||j3})}}},ac=()=>{const t=new Date;return new Date(t.toLocaleString("en-US",{timeZone:j3}))},C3=()=>{const t=new Date,e=new Date(t.toLocaleString("en-US",{timeZone:j3})),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${i}`};function z8(t,[e,r]){return Math.min(r,Math.max(e,t))}function lX(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var rxe=[" ","Enter","ArrowUp","ArrowDown"],nxe=[" ","Enter"],Jp="Select",[qA,WA,ixe]=J5(Jp),[Oy,ZJe]=ds(Jp,[ixe,by]),HA=by(),[axe,vf]=Oy(Jp),[oxe,sxe]=Oy(Jp),cX=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:f,form:v}=t,m=HA(e),[g,y]=j.useState(null),[x,_]=j.useState(null),[A,N]=j.useState(!1),I=MA(c),[P,E]=El({prop:n,defaultProp:i??!1,onChange:a,caller:Jp}),[k,D]=El({prop:o,defaultProp:s,onChange:l,caller:Jp}),C=j.useRef(null),O=g?v||!!g.closest("form"):!0,[L,z]=j.useState(new Set),re=Array.from(L).map(Y=>Y.props.value).join(";");return u.jsx(OW,{...m,children:u.jsxs(axe,{required:f,scope:e,trigger:g,onTriggerChange:y,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:A,onValueNodeHasChildrenChange:N,contentId:wl(),value:k,onValueChange:D,open:P,onOpenChange:E,dir:I,triggerPointerDownPosRef:C,disabled:p,children:[u.jsx(qA.Provider,{scope:e,children:u.jsx(oxe,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(Y=>{z(K=>new Set(K).add(Y))},[]),onNativeOptionRemove:j.useCallback(Y=>{z(K=>{const q=new Set(K);return q.delete(Y),q})},[]),children:r})}),O?u.jsxs(OX,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:k,onChange:Y=>D(Y.target.value),disabled:p,form:v,children:[k===void 0?u.jsx("option",{value:""}):null,Array.from(L)]},re):null]})})};cX.displayName=Jp;var uX="SelectTrigger",dX=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=HA(r),o=vf(uX,r),s=o.disabled||n,l=Or(e,o.onTriggerChange),c=WA(r),d=j.useRef("touch"),[h,p,f]=DX(m=>{const g=c().filter(_=>!_.disabled),y=g.find(_=>_.value===o.value),x=LX(g,m,y);x!==void 0&&o.onValueChange(x.value)}),v=m=>{s||(o.onOpenChange(!0),f()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(lA,{asChild:!0,...a,children:u.jsx(Wt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":RX(o.value)?"":void 0,...i,ref:l,onClick:jt(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:jt(i.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:jt(i.onKeyDown,m=>{const g=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&rxe.includes(m.key)&&(v(),m.preventDefault())})})})});dX.displayName=uX;var hX="SelectValue",fX=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,l=vf(hX,r),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,h=Or(e,l.onValueNodeChange);return ta(()=>{c(d)},[c,d]),u.jsx(Wt.span,{...s,ref:h,style:{pointerEvents:"none"},children:RX(l.value)?u.jsx(u.Fragment,{children:o}):a})});fX.displayName=hX;var lxe="SelectIcon",pX=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return u.jsx(Wt.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});pX.displayName=lxe;var cxe="SelectPortal",mX=t=>u.jsx(Sx,{asChild:!0,...t});mX.displayName=cxe;var Zp="SelectContent",gX=j.forwardRef((t,e)=>{const r=vf(Zp,t.__scopeSelect),[n,i]=j.useState();if(ta(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?hm.createPortal(u.jsx(vX,{scope:t.__scopeSelect,children:u.jsx(qA.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(yX,{...t,ref:e})});gX.displayName=Zp;var cl=10,[vX,yf]=Oy(Zp),uxe="SelectContentImpl",dxe=$p("SelectContent.RemoveScroll"),yX=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:g,...y}=t,x=vf(Zp,r),[_,A]=j.useState(null),[N,I]=j.useState(null),P=Or(e,ne=>A(ne)),[E,k]=j.useState(null),[D,C]=j.useState(null),O=WA(r),[L,z]=j.useState(!1),re=j.useRef(!1);j.useEffect(()=>{if(_)return y3(_)},[_]),v3();const Y=j.useCallback(ne=>{const[xe,...he]=O().map(le=>le.ref.current),[T]=he.slice(-1),X=document.activeElement;for(const le of ne)if(le===X||(le==null||le.scrollIntoView({block:"nearest"}),le===xe&&N&&(N.scrollTop=0),le===T&&N&&(N.scrollTop=N.scrollHeight),le==null||le.focus(),document.activeElement!==X))return},[O,N]),K=j.useCallback(()=>Y([E,_]),[Y,E,_]);j.useEffect(()=>{L&&K()},[L,K]);const{onOpenChange:q,triggerPointerDownPosRef:Z}=x;j.useEffect(()=>{if(_){let ne={x:0,y:0};const xe=T=>{var X,le;ne={x:Math.abs(Math.round(T.pageX)-(((X=Z.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(T.pageY)-(((le=Z.current)==null?void 0:le.y)??0))}},he=T=>{ne.x<=10&&ne.y<=10?T.preventDefault():_.contains(T.target)||q(!1),document.removeEventListener("pointermove",xe),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",he,{capture:!0})}}},[_,q,Z]),j.useEffect(()=>{const ne=()=>q(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[q]);const[ye,ce]=DX(ne=>{const xe=O().filter(X=>!X.disabled),he=xe.find(X=>X.ref.current===document.activeElement),T=LX(xe,ne,he);T&&setTimeout(()=>T.ref.current.focus())}),F=j.useCallback((ne,xe,he)=>{const T=!re.current&&!he;(x.value!==void 0&&x.value===xe||T)&&(k(ne),T&&(re.current=!0))},[x.value]),V=j.useCallback(()=>_==null?void 0:_.focus(),[_]),G=j.useCallback((ne,xe,he)=>{const T=!re.current&&!he;(x.value!==void 0&&x.value===xe||T)&&C(ne)},[x.value]),oe=n==="popper"?LC:bX,J=oe===LC?{side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return u.jsx(vX,{scope:r,content:_,viewport:N,onViewportChange:I,itemRefCallback:F,selectedItem:E,onItemLeave:V,itemTextRefCallback:G,focusSelectedItem:K,selectedItemText:D,position:n,isPositioned:L,searchRef:ye,children:u.jsx(VA,{as:dxe,allowPinchZoom:!0,children:u.jsx(BA,{asChild:!0,trapped:x.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:jt(i,ne=>{var xe;(xe=x.trigger)==null||xe.focus({preventScroll:!0}),ne.preventDefault()}),children:u.jsx(my,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(oe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ne=>ne.preventDefault(),...y,...J,onPlaced:()=>z(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:jt(y.onKeyDown,ne=>{const xe=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!xe&&ne.key.length===1&&ce(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let T=O().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const X=ne.target,le=T.indexOf(X);T=T.slice(le+1)}setTimeout(()=>Y(T)),ne.preventDefault()}})})})})})})});yX.displayName=uxe;var hxe="SelectItemAlignedPosition",bX=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=vf(Zp,r),o=yf(Zp,r),[s,l]=j.useState(null),[c,d]=j.useState(null),h=Or(e,P=>d(P)),p=WA(r),f=j.useRef(!1),v=j.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=o,_=j.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&y){const P=a.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(a.dir!=="rtl"){const X=D.left-E.left,le=k.left-X,de=P.left-le,ve=P.width+de,ee=Math.max(ve,E.width),Ne=window.innerWidth-cl,Re=z8(le,[cl,Math.max(cl,Ne-ee)]);s.style.minWidth=ve+"px",s.style.left=Re+"px"}else{const X=E.right-D.right,le=window.innerWidth-k.right-X,de=window.innerWidth-P.right-le,ve=P.width+de,ee=Math.max(ve,E.width),Ne=window.innerWidth-cl,Re=z8(le,[cl,Math.max(cl,Ne-ee)]);s.style.minWidth=ve+"px",s.style.right=Re+"px"}const C=p(),O=window.innerHeight-cl*2,L=m.scrollHeight,z=window.getComputedStyle(c),re=parseInt(z.borderTopWidth,10),Y=parseInt(z.paddingTop,10),K=parseInt(z.borderBottomWidth,10),q=parseInt(z.paddingBottom,10),Z=re+Y+L+q+K,ye=Math.min(g.offsetHeight*5,Z),ce=window.getComputedStyle(m),F=parseInt(ce.paddingTop,10),V=parseInt(ce.paddingBottom,10),G=P.top+P.height/2-cl,oe=O-G,J=g.offsetHeight/2,ne=g.offsetTop+J,xe=re+Y+ne,he=Z-xe;if(xe<=G){const X=C.length>0&&g===C[C.length-1].ref.current;s.style.bottom="0px";const le=c.clientHeight-m.offsetTop-m.offsetHeight,de=Math.max(oe,J+(X?V:0)+le+K),ve=xe+de;s.style.height=ve+"px"}else{const X=C.length>0&&g===C[0].ref.current;s.style.top="0px";const de=Math.max(G,re+m.offsetTop+(X?F:0)+J)+he;s.style.height=de+"px",m.scrollTop=xe-G+m.offsetTop}s.style.margin=`${cl}px 0`,s.style.minHeight=ye+"px",s.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,a.trigger,a.valueNode,s,c,m,g,y,a.dir,n]);ta(()=>_(),[_]);const[A,N]=j.useState();ta(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const I=j.useCallback(P=>{P&&v.current===!0&&(_(),x==null||x(),v.current=!1)},[_,x]);return u.jsx(pxe,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:f,onScrollButtonChange:I,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(Wt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});bX.displayName=hxe;var fxe="SelectPopperPosition",LC=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=cl,...a}=t,o=HA(r);return u.jsx(iO,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});LC.displayName=fxe;var[pxe,k3]=Oy(Zp,{}),MC="SelectViewport",xX=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=yf(MC,r),o=k3(MC,r),s=Or(e,a.onViewportChange),l=j.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(qA.Slot,{scope:r,children:u.jsx(Wt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:jt(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const f=Math.abs(l.current-d.scrollTop);if(f>0){const v=window.innerHeight-cl*2,m=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(m,g);if(y<v){const x=y+f,_=Math.min(v,x),A=x-_;h.style.height=_+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});xX.displayName=MC;var wX="SelectGroup",[mxe,gxe]=Oy(wX),vxe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=wl();return u.jsx(mxe,{scope:r,id:i,children:u.jsx(Wt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});vxe.displayName=wX;var _X="SelectLabel",SX=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=gxe(_X,r);return u.jsx(Wt.div,{id:i.id,...n,ref:e})});SX.displayName=_X;var NS="SelectItem",[yxe,AX]=Oy(NS),EX=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=vf(NS,r),l=yf(NS,r),c=s.value===n,[d,h]=j.useState(a??""),[p,f]=j.useState(!1),v=Or(e,x=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,x,n,i)}),m=wl(),g=j.useRef("touch"),y=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(yxe,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:j.useCallback(x=>{h(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(qA.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:u.jsx(Wt.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:jt(o.onFocus,()=>f(!0)),onBlur:jt(o.onBlur,()=>f(!1)),onClick:jt(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:jt(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:jt(o.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:jt(o.onPointerMove,x=>{var _;g.current=x.pointerType,i?(_=l.onItemLeave)==null||_.call(l):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(o.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:jt(o.onKeyDown,x=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&x.key===" "||(nxe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});EX.displayName=NS;var t1="SelectItemText",NX=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=vf(t1,r),s=yf(t1,r),l=AX(t1,r),c=sxe(t1,r),[d,h]=j.useState(null),p=Or(e,y=>h(y),l.onItemTextChange,y=>{var x;return(x=s.itemTextRefCallback)==null?void 0:x.call(s,y,l.value,l.disabled)}),f=d==null?void 0:d.textContent,v=j.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return ta(()=>(m(v),()=>g(v)),[m,g,v]),u.jsxs(u.Fragment,{children:[u.jsx(Wt.span,{id:l.textId,...a,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?hm.createPortal(a.children,o.valueNode):null]})});NX.displayName=t1;var PX="SelectItemIndicator",TX=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return AX(PX,r).isSelected?u.jsx(Wt.span,{"aria-hidden":!0,...n,ref:e}):null});TX.displayName=PX;var $C="SelectScrollUpButton",jX=j.forwardRef((t,e)=>{const r=yf($C,t.__scopeSelect),n=k3($C,t.__scopeSelect),[i,a]=j.useState(!1),o=Or(e,n.onScrollButtonChange);return ta(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(kX,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});jX.displayName=$C;var FC="SelectScrollDownButton",CX=j.forwardRef((t,e)=>{const r=yf(FC,t.__scopeSelect),n=k3(FC,t.__scopeSelect),[i,a]=j.useState(!1),o=Or(e,n.onScrollButtonChange);return ta(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(kX,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});CX.displayName=FC;var kX=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=yf("SelectScrollButton",r),o=j.useRef(null),s=WA(r),l=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>l(),[l]),ta(()=>{var d;const c=s().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),u.jsx(Wt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:jt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:jt(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:jt(i.onPointerLeave,()=>{l()})})}),bxe="SelectSeparator",IX=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(Wt.div,{"aria-hidden":!0,...n,ref:e})});IX.displayName=bxe;var BC="SelectArrow",xxe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=HA(r),a=vf(BC,r),o=yf(BC,r);return a.open&&o.position==="popper"?u.jsx(aO,{...i,...n,ref:e}):null});xxe.displayName=BC;var wxe="SelectBubbleInput",OX=j.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=j.useRef(null),a=Or(n,i),o=lX(e);return j.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(s,e),s.dispatchEvent(h)}},[o,e]),u.jsx(Wt.select,{...r,style:{..._q,...r.style},ref:a,defaultValue:e})});OX.displayName=wxe;function RX(t){return t===""||t===void 0}function DX(t){const e=Ks(t),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(o=>{const s=r.current+o;e(s),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),a=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function LX(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=_xe(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function _xe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Sxe=cX,MX=dX,Axe=fX,Exe=pX,Nxe=mX,$X=gX,Pxe=xX,FX=SX,BX=EX,Txe=NX,jxe=TX,UX=jX,VX=CX,zX=IX;const ci=Sxe,ui=Axe,Qn=j.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(MX,{ref:n,className:yt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,u.jsx(Exe,{asChild:!0,children:u.jsx(WI,{className:"h-4 w-4 opacity-50"})})]}));Qn.displayName=MX.displayName;const qX=j.forwardRef(({className:t,...e},r)=>u.jsx(UX,{ref:r,className:yt("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Ose,{className:"h-4 w-4"})}));qX.displayName=UX.displayName;const WX=j.forwardRef(({className:t,...e},r)=>u.jsx(VX,{ref:r,className:yt("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(WI,{className:"h-4 w-4"})}));WX.displayName=VX.displayName;const Jn=j.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>u.jsx(Nxe,{children:u.jsxs($X,{ref:i,className:yt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(qX,{}),u.jsx(Pxe,{className:yt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(WX,{})]})}));Jn.displayName=$X.displayName;const Cxe=j.forwardRef(({className:t,...e},r)=>u.jsx(FX,{ref:r,className:yt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Cxe.displayName=FX.displayName;const $r=j.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(BX,{ref:n,className:yt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(jxe,{children:u.jsx(hr,{className:"h-4 w-4"})})}),u.jsx(Txe,{children:e})]}));$r.displayName=BX.displayName;const kxe=j.forwardRef(({className:t,...e},r)=>u.jsx(zX,{ref:r,className:yt("-mx-1 my-1 h-px bg-muted",t),...e}));kxe.displayName=zX.displayName;function Ur(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ls(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Xa(t,e){const r=Ur(t);return isNaN(e)?ls(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function kl(t,e){const r=Ur(t);if(isNaN(e))return ls(t,NaN);if(!e)return r;const n=r.getDate(),i=ls(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const I3=6048e5,Ixe=864e5;let Oxe={};function qx(){return Oxe}function Oc(t,e){var s,l,c,d;const r=qx(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ur(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function em(t){return Oc(t,{weekStartsOn:1})}function HX(t){const e=Ur(t),r=e.getFullYear(),n=ls(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=em(n),a=ls(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=em(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Lv(t){const e=Ur(t);return e.setHours(0,0,0,0),e}function PS(t){const e=Ur(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function fc(t,e){const r=Lv(t),n=Lv(e),i=+r-PS(r),a=+n-PS(n);return Math.round((i-a)/Ixe)}function Rxe(t){const e=HX(t),r=ls(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),em(r)}function UC(t,e){const r=e*7;return Xa(t,r)}function Dxe(t,e){return kl(t,e*12)}function Lxe(t){let e;return t.forEach(function(r){const n=Ur(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Mxe(t){let e;return t.forEach(r=>{const n=Ur(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Ao(t,e){const r=Lv(t),n=Lv(e);return+r==+n}function O3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $xe(t){if(!O3(t)&&typeof t!="number")return!1;const e=Ur(t);return!isNaN(Number(e))}function _b(t,e){const r=Ur(t),n=Ur(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Fxe(t,e,r){const n=Oc(t,r),i=Oc(e,r),a=+n-PS(n),o=+i-PS(i);return Math.round((a-o)/I3)}function R3(t){const e=Ur(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Co(t){const e=Ur(t);return e.setDate(1),e.setHours(0,0,0,0),e}function GX(t){const e=Ur(t),r=ls(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function D3(t,e){var s,l,c,d;const r=qx(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ur(t),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function KX(t){return D3(t,{weekStartsOn:1})}const Bxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uxe=(t,e,r)=>{let n;const i=Bxe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Iu(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Vxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wxe={date:Iu({formats:Vxe,defaultWidth:"full"}),time:Iu({formats:zxe,defaultWidth:"full"}),dateTime:Iu({formats:qxe,defaultWidth:"full"})},Hxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gxe=(t,e,r,n)=>Hxe[t];function Ja(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Kxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ewe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},twe={ordinalNumber:ewe,era:Ja({values:Kxe,defaultWidth:"wide"}),quarter:Ja({values:Yxe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ja({values:Xxe,defaultWidth:"wide"}),day:Ja({values:Qxe,defaultWidth:"wide"}),dayPeriod:Ja({values:Jxe,defaultWidth:"wide",formattingValues:Zxe,defaultFormattingWidth:"wide"})};function Za(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?nwe(s,h=>h.test(o)):rwe(s,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function rwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function nwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function L3(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const iwe=/^(\d+)(th|st|nd|rd)?/i,awe=/\d+/i,owe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},swe={any:[/^b/i,/^(a|c)/i]},lwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cwe={any:[/1/i,/2/i,/3/i,/4/i]},uwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gwe={ordinalNumber:L3({matchPattern:iwe,parsePattern:awe,valueCallback:t=>parseInt(t,10)}),era:Za({matchPatterns:owe,defaultMatchWidth:"wide",parsePatterns:swe,defaultParseWidth:"any"}),quarter:Za({matchPatterns:lwe,defaultMatchWidth:"wide",parsePatterns:cwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Za({matchPatterns:uwe,defaultMatchWidth:"wide",parsePatterns:dwe,defaultParseWidth:"any"}),day:Za({matchPatterns:hwe,defaultMatchWidth:"wide",parsePatterns:fwe,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:pwe,defaultMatchWidth:"any",parsePatterns:mwe,defaultParseWidth:"any"})},YX={code:"en-US",formatDistance:Uxe,formatLong:Wxe,formatRelative:Gxe,localize:twe,match:gwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vwe(t){const e=Ur(t);return fc(e,GX(e))+1}function XX(t){const e=Ur(t),r=+em(e)-+Rxe(e);return Math.round(r/I3)+1}function QX(t,e){var d,h,p,f;const r=Ur(t),n=r.getFullYear(),i=qx(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(p=i.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,o=ls(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Oc(o,e),l=ls(t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=Oc(l,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function ywe(t,e){var s,l,c,d;const r=qx(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=QX(t,e),a=ls(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Oc(a,e)}function JX(t,e){const r=Ur(t),n=+Oc(r,e)-+ywe(r,e);return Math.round(n/I3)+1}function tn(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Dd={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return tn(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):tn(r+1,2)},d(t,e){return tn(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return tn(t.getHours()%12||12,e.length)},H(t,e){return tn(t.getHours(),e.length)},m(t,e){return tn(t.getMinutes(),e.length)},s(t,e){return tn(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return tn(i,e.length)}},Um={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q8={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Dd.y(t,e)},Y:function(t,e,r,n){const i=QX(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return tn(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):tn(a,e.length)},R:function(t,e){const r=HX(t);return tn(r,e.length)},u:function(t,e){const r=t.getFullYear();return tn(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return tn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return tn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Dd.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return tn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=JX(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):tn(i,e.length)},I:function(t,e,r){const n=XX(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):tn(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Dd.d(t,e)},D:function(t,e,r){const n=vwe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):tn(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return tn(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return tn(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return tn(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Um.noon:n===0?i=Um.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Um.evening:n>=12?i=Um.afternoon:n>=4?i=Um.morning:i=Um.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Dd.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Dd.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):tn(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):tn(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dd.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Dd.s(t,e)},S:function(t,e){return Dd.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return H8(n);case"XXXX":case"XX":return Kf(n);case"XXXXX":case"XXX":default:return Kf(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return H8(n);case"xxxx":case"xx":return Kf(n);case"xxxxx":case"xxx":default:return Kf(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W8(n,":");case"OOOO":default:return"GMT"+Kf(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W8(n,":");case"zzzz":default:return"GMT"+Kf(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return tn(n,e.length)},T:function(t,e,r){const n=t.getTime();return tn(n,e.length)}};function W8(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+tn(a,2)}function H8(t,e){return t%60===0?(t>0?"-":"+")+tn(Math.abs(t)/60,2):Kf(t,e)}function Kf(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=tn(Math.trunc(n/60),2),a=tn(n%60,2);return r+i+e+a}const G8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ZX=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bwe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return G8(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",G8(n,e)).replace("{{time}}",ZX(i,e))},xwe={p:ZX,P:bwe},wwe=/^D+$/,_we=/^Y+$/,Swe=["D","DD","YY","YYYY"];function Awe(t){return wwe.test(t)}function Ewe(t){return _we.test(t)}function Nwe(t,e,r){const n=Pwe(t,e,r);if(console.warn(n),Swe.includes(t))throw new RangeError(n)}function Pwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Twe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cwe=/^'([^]*?)'?$/,kwe=/''/g,Iwe=/[a-zA-Z]/;function fa(t,e,r){var d,h,p,f,v,m,g,y;const n=qx(),i=(r==null?void 0:r.locale)??n.locale??YX,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,s=Ur(t);if(!$xe(s))throw new RangeError("Invalid time value");let l=e.match(jwe).map(x=>{const _=x[0];if(_==="p"||_==="P"){const A=xwe[_];return A(x,i.formatLong)}return x}).join("").match(Twe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const _=x[0];if(_==="'")return{isToken:!1,value:Owe(x)};if(q8[_])return{isToken:!0,value:x};if(_.match(Iwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const _=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Ewe(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Awe(_))&&Nwe(_,e,String(t));const A=q8[_[0]];return A(s,_,i.localize,c)}).join("")}function Owe(t){const e=t.match(Cwe);return e?e[1].replace(kwe,"'"):t}function Rwe(t){const e=Ur(t),r=e.getFullYear(),n=e.getMonth(),i=ls(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Dwe(t){return Math.trunc(+Ur(t)/1e3)}function Lwe(t){const e=Ur(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Mwe(t,e){return Fxe(Lwe(t),Co(t),e)+1}function VC(t,e){const r=Ur(t),n=Ur(e);return r.getTime()>n.getTime()}function eQ(t,e){const r=Ur(t),n=Ur(e);return+r<+n}function M3(t,e){const r=Ur(t),n=Ur(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function $we(t,e){const r=Ur(t),n=Ur(e);return r.getFullYear()===n.getFullYear()}function wP(t,e){return Xa(t,-e)}function _P(t,e){const r=Ur(t),n=r.getFullYear(),i=r.getDate(),a=ls(t,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const o=Rwe(a);return r.setMonth(e,Math.min(i,o)),r}function K8(t,e){const r=Ur(t);return isNaN(+r)?ls(t,NaN):(r.setFullYear(e),r)}const Fwe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Bwe=(t,e,r)=>{let n;const i=Fwe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"daqui a "+n:"há "+n:n},Uwe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},Vwe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},zwe={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qwe={date:Iu({formats:Uwe,defaultWidth:"full"}),time:Iu({formats:Vwe,defaultWidth:"full"}),dateTime:Iu({formats:zwe,defaultWidth:"full"})},Wwe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Hwe=(t,e,r,n)=>{const i=Wwe[t];return typeof i=="function"?i(e):i},Gwe={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},Kwe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Ywe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Xwe={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sáb"],abbreviated:["dom","seg","ter","qua","qui","sex","sáb"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Qwe={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"}},Jwe={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},Zwe=(t,e)=>Number(t)+"º",e2e={ordinalNumber:Zwe,era:Ja({values:Gwe,defaultWidth:"wide"}),quarter:Ja({values:Kwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ja({values:Ywe,defaultWidth:"wide"}),day:Ja({values:Xwe,defaultWidth:"wide"}),dayPeriod:Ja({values:Qwe,defaultWidth:"wide",formattingValues:Jwe,defaultFormattingWidth:"wide"})},t2e=/^(\d+)(º|ª)?/i,r2e=/\d+/i,n2e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},i2e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},a2e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º|ª)? trimestre/i},o2e={any:[/1/i,/2/i,/3/i,/4/i]},s2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},l2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},c2e={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,wide:/^(domingo|segunda-?\s?feira|terça-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[áa]bado)/i},u2e={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[áa]/i]},d2e={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i},h2e={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[ãa]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},f2e={ordinalNumber:L3({matchPattern:t2e,parsePattern:r2e,valueCallback:t=>parseInt(t,10)}),era:Za({matchPatterns:n2e,defaultMatchWidth:"wide",parsePatterns:i2e,defaultParseWidth:"any"}),quarter:Za({matchPatterns:a2e,defaultMatchWidth:"wide",parsePatterns:o2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Za({matchPatterns:s2e,defaultMatchWidth:"wide",parsePatterns:l2e,defaultParseWidth:"any"}),day:Za({matchPatterns:c2e,defaultMatchWidth:"wide",parsePatterns:u2e,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:d2e,defaultMatchWidth:"any",parsePatterns:h2e,defaultParseWidth:"any"})},SP={code:"pt",formatDistance:Bwe,formatLong:qwe,formatRelative:Hwe,localize:e2e,match:f2e,options:{weekStartsOn:1,firstWeekContainsDate:4}},p2e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},m2e=(t,e,r)=>{let n;const i=p2e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},g2e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},v2e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},y2e={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b2e={date:Iu({formats:g2e,defaultWidth:"full"}),time:Iu({formats:v2e,defaultWidth:"full"}),dateTime:Iu({formats:y2e,defaultWidth:"full"})},x2e={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},w2e=(t,e,r,n)=>{const i=x2e[t];return typeof i=="function"?i(e):i},_2e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},S2e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},A2e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},E2e={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},N2e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},P2e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},T2e=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"ª":r+"º"},j2e={ordinalNumber:T2e,era:Ja({values:_2e,defaultWidth:"wide"}),quarter:Ja({values:S2e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ja({values:A2e,defaultWidth:"wide"}),day:Ja({values:E2e,defaultWidth:"wide"}),dayPeriod:Ja({values:N2e,defaultWidth:"wide",formattingValues:P2e,defaultFormattingWidth:"wide"})},C2e=/^(\d+)[ºªo]?/i,k2e=/\d+/i,I2e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},O2e={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},R2e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},D2e={any:[/1/i,/2/i,/3/i,/4/i]},L2e={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},M2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},$2e={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},F2e={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},B2e={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},U2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},V2e={ordinalNumber:L3({matchPattern:C2e,parsePattern:k2e,valueCallback:t=>parseInt(t,10)}),era:Za({matchPatterns:I2e,defaultMatchWidth:"wide",parsePatterns:O2e,defaultParseWidth:"any"}),quarter:Za({matchPatterns:R2e,defaultMatchWidth:"wide",parsePatterns:D2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Za({matchPatterns:L2e,defaultMatchWidth:"wide",parsePatterns:M2e,defaultParseWidth:"any"}),day:Za({matchPatterns:$2e,defaultMatchWidth:"wide",parsePatterns:F2e,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:B2e,defaultMatchWidth:"any",parsePatterns:U2e,defaultParseWidth:"any"})},tQ={code:"pt-BR",formatDistance:m2e,formatLong:b2e,formatRelative:w2e,localize:j2e,match:V2e,options:{weekStartsOn:0,firstWeekContainsDate:1}},z2e=({date:t})=>{const{user:e}=qr(),[r,n]=j.useState(""),[i,a]=j.useState(""),[o,s]=j.useState(""),[l,c]=j.useState(""),d=fa(t,"yyyy-MM-dd"),{data:h=[]}=Iy((e==null?void 0:e.uid)||""),{data:p=[]}=as((e==null?void 0:e.uid)||""),f=p.filter(A=>A.date===d),v=P3(),m=T3(),g=async(A,N,I)=>{if(!(e!=null&&e.uid)||!N||!I){Ge.error("Preencha todos os campos");return}try{const P={userId:e.uid,employeeId:"",platformId:I,type:A,amount:Number(N),date:d};console.log("Creating transaction for date:",d,P),console.log("Transaction data being sent:",JSON.stringify(P,null,2));const E=await v.mutateAsync(P);console.log("Transaction created successfully with ID:",E),Ge.success(`${A==="deposit"?"Depósito":"Saque"} registrado com sucesso!`),A==="deposit"?(n(""),s("")):(a(""),c(""))}catch(P){console.error("Erro ao criar transação:",P),console.error("Error details:",P),Ge.error("Erro ao registrar transação: "+P.message)}},y=async A=>{try{await m.mutateAsync(A),Ge.success("Transação excluída com sucesso!")}catch(N){console.error("Erro ao excluir transação:",N),Ge.error("Erro ao excluir transação")}},x=A=>{const N=h.find(I=>I.id===A);return(N==null?void 0:N.name)||"N/A"},_=A=>{const N=h.find(I=>I.id===A);return(N==null?void 0:N.color)||"#666"};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Transações - ",fa(t,"dd 'de' MMMM 'de' yyyy",{locale:tQ})]}),u.jsx("p",{className:"text-muted-foreground",children:"Gerencie as movimentações deste dia"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ti,{className:"h-5 w-5 text-success"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Registrar Depósito"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"deposit-amount",children:"Valor (R$)"}),u.jsx(Vt,{id:"deposit-amount",type:"number",step:"0.01",placeholder:"0,00",value:r,onChange:A=>n(A.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"deposit-platform",children:"Plataforma"}),u.jsxs(ci,{value:o,onValueChange:s,children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Selecione..."})}),u.jsx(Jn,{children:h.map(A=>u.jsx($r,{value:A.id,children:A.name},A.id))})]})]}),u.jsxs(He,{onClick:()=>g("deposit",r,o),className:"w-full gap-2",disabled:!r||!o||v.isPending,children:[u.jsx(Ti,{className:"h-4 w-4"}),"Registrar Depósito"]})]}),u.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Vh,{className:"h-5 w-5 text-destructive"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Registrar Saque"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"withdraw-amount",children:"Valor (R$)"}),u.jsx(Vt,{id:"withdraw-amount",type:"number",step:"0.01",placeholder:"0,00",value:i,onChange:A=>a(A.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"withdraw-platform",children:"Plataforma"}),u.jsxs(ci,{value:l,onValueChange:c,children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Selecione..."})}),u.jsx(Jn,{children:h.map(A=>u.jsx($r,{value:A.id,children:A.name},A.id))})]})]}),u.jsxs(He,{onClick:()=>g("withdraw",i,l),className:"w-full gap-2",disabled:!i||!l||v.isPending,children:[u.jsx(Vh,{className:"h-4 w-4"}),"Registrar Saque"]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Transações do Dia"}),f.length===0?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação registrada para este dia"}):u.jsx("div",{className:"space-y-2",children:f.map(A=>{var N,I;return u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(mr,{variant:A.type==="deposit"?"default":"destructive",style:{backgroundColor:_(A.platformId)},children:A.type==="deposit"?"Receita":"Despesa"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:x(A.platformId)}),u.jsx("div",{className:"text-sm text-muted-foreground",children:fa(new Date(((I=(N=A.createdAt)==null?void 0:N.toDate)==null?void 0:I.call(N))||A.date),"HH:mm")})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:`font-bold ${A.type==="deposit"?"text-success":"text-destructive"}`,children:[A.type==="deposit"?"+":"-","R$ ",Number(A.amount).toLocaleString("pt-BR")]}),u.jsx(He,{variant:"ghost",size:"icon",onClick:()=>y(A.id),className:"text-destructive hover:text-destructive",children:u.jsx(Uh,{className:"h-4 w-4"})})]})]},A.id)})})]}),f.length>0&&u.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[u.jsx("h4",{className:"font-semibold mb-2",children:"Resumo do Dia"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Depósitos"}),u.jsxs("div",{className:"font-bold text-success",children:["R$ ",f.filter(A=>A.type==="deposit").reduce((A,N)=>A+Number(N.amount),0).toLocaleString("pt-BR")]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Saques"}),u.jsxs("div",{className:"font-bold text-destructive",children:["R$ ",f.filter(A=>A.type==="withdraw").reduce((A,N)=>A+Number(N.amount),0).toLocaleString("pt-BR")]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Lucro"}),u.jsxs("div",{className:`font-bold ${f.reduce((A,N)=>A+(N.type==="withdraw"?N.amount:-N.amount),0)>=0?"text-success":"text-destructive"}`,children:["R$ ",f.reduce((A,N)=>A+(N.type==="withdraw"?N.amount:-N.amount),0).toLocaleString("pt-BR")]})]})]})]})]})},q2e=()=>{const[t,e]=j.useState(ac()),[r,n]=j.useState(null),{user:i}=qr(),{canEditPreviousCalendarDays:a}=gf(),{data:o=[]}=zx((i==null?void 0:i.uid)||""),{data:s=[]}=as((i==null?void 0:i.uid)||"");console.log("MonthlyCalendar - Historical Summaries:",o),console.log("MonthlyCalendar - Historical Summaries length:",(o==null?void 0:o.length)||0),console.log("MonthlyCalendar - All Transactions:",s),console.log("MonthlyCalendar - All Transactions length:",(s==null?void 0:s.length)||0),console.log("MonthlyCalendar - Current Date:",t),console.log("MonthlyCalendar - User ID:",i==null?void 0:i.uid);const l=j.useMemo(()=>{const y=new Map;return console.log("Calculating daily profits..."),o.forEach(x=>{let _;typeof x.date=="string"?_=x.date:x.date&&x.date.toDate?_=fa(x.date.toDate(),"yyyy-MM-dd"):_=fa(new Date(x.date),"yyyy-MM-dd"),console.log(`Adding historical profit for ${_}: ${x.profit||x.margin}`),y.set(_,x.profit||x.margin||0)}),s.forEach(x=>{const _=x.date;console.log(`Processing transaction for date ${_}:`,x);const A=x.type==="withdraw"?x.amount:-x.amount;if(y.has(_)){const N=y.get(_)||0,I=N+A;console.log(`Adding to existing profit for ${_}: ${N} + ${A} = ${I}`),y.set(_,I)}else console.log(`Creating new profit for ${_}: ${A}`),y.set(_,A)}),console.log("Final daily profits Map:",Array.from(y.entries())),y},[o,s]),c=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],d=y=>{const x=y.getFullYear(),_=y.getMonth(),A=new Date(x,_,1),I=new Date(x,_+1,0).getDate(),P=A.getDay();return{daysInMonth:I,startingDayOfWeek:P}},{daysInMonth:h,startingDayOfWeek:p}=d(t),f=()=>{e(new Date(t.getFullYear(),t.getMonth()-1))},v=()=>{e(new Date(t.getFullYear(),t.getMonth()+1))},m=y=>{const x=new Date(t.getFullYear(),t.getMonth(),y),_=fa(x,"yyyy-MM-dd");console.log(`Looking for profit for day ${y}, date string: ${_}`);const A=l.get(_);return console.log(`Profit found for day ${y}:`,A),A},g=y=>{const x=new Date(t.getFullYear(),t.getMonth(),y),_=new Date;if(_.setHours(0,0,0,0),!a()&&x.getTime()!==_.getTime()){const A=x<_?"Edição de dias passados disponível apenas no plano Medium ou superior. Faça upgrade para acessar esta funcionalidade.":"Edição de dias futuros disponível apenas no plano Medium ou superior. Faça upgrade para acessar esta funcionalidade.";Ge.error(A);return}n(x)};return u.jsxs(u.Fragment,{children:[u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold",children:[c[t.getMonth()]," ",t.getFullYear()]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(He,{variant:"outline",onClick:()=>{console.log("=== DEBUG INFO ==="),console.log("User ID:",i==null?void 0:i.uid),console.log("Historical Summaries:",o),console.log("All Transactions:",s),console.log("Daily Profits Map:",Array.from(l.entries())),console.log("==================")},children:"Debug"}),u.jsx(He,{variant:"outline",size:"icon",onClick:f,children:u.jsx(Wq,{className:"h-4 w-4"})}),u.jsx(He,{variant:"outline",size:"icon",onClick:v,children:u.jsx(HI,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(y=>u.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground p-2",children:y},y)),Array.from({length:p}).map((y,x)=>u.jsx("div",{},`empty-${x}`)),Array.from({length:h}).map((y,x)=>{const _=x+1,A=m(_),N=new Date(t.getFullYear(),t.getMonth(),_),I=new Date;I.setHours(0,0,0,0);const P=N.getTime()===I.getTime(),E=N<I,k=N>I,D=!a()&&(E||k);return u.jsxs("button",{onClick:()=>g(_),className:`
                  min-h-[80px] p-3 rounded-lg border transition-all hover:shadow-md relative group
                  ${P?"border-primary border-2":"border-border"}
                  ${E&&A!==void 0?"bg-muted/50":"bg-card"}
                  hover:bg-accent
                `,children:[u.jsx("div",{className:"absolute top-2 right-2 text-lg font-bold text-primary group-hover:text-black transition-colors duration-200",children:_}),D&&u.jsx("div",{className:"absolute top-2 left-2",children:u.jsx(nA,{className:"h-3 w-3 text-muted-foreground"})}),A!==void 0&&u.jsxs("div",{className:"flex flex-col items-center justify-center h-full pt-4",children:[u.jsx("div",{className:"text-xs text-muted-foreground",children:"BRL"}),u.jsxs("div",{className:`text-sm font-bold ${A>=0?"text-success":"text-destructive"}`,children:[A>=0?"+":"","R$ ",A.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},_)})]})]}),u.jsx(_l,{open:!!r,onOpenChange:y=>!y&&n(null),children:u.jsxs(Vs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsx(zs,{children:u.jsxs(qs,{children:["Transações - ",r==null?void 0:r.toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})]})}),r&&u.jsx(z2e,{date:r})]})})]})};class Wo{static startDailyClosureService(e){this.stopDailyClosureService();const r=this.getNextMidnightInSaoPaulo(),n=r.getTime()-new Date().getTime();console.log("🕛 Serviço de fechamento diário iniciado"),console.log(`📅 Próximo fechamento em: ${r.toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})}`),this.closureInterval=setTimeout(()=>{this.processDailyClosure(e),this.closureInterval=setInterval(()=>{this.processDailyClosure(e)},24*60*60*1e3)},n)}static stopDailyClosureService(){this.closureInterval&&(clearTimeout(this.closureInterval),clearInterval(this.closureInterval),this.closureInterval=null,console.log("🛑 Serviço de fechamento diário parado"))}static async processManualClosure(e,r){const n=r||this.getCurrentDateInSaoPaulo();await this.processDailyClosure(e,n)}static async processDailyClosure(e,r){if(this.isProcessing){console.log("⚠️ Fechamento diário já está sendo processado");return}this.isProcessing=!0;const n=r||this.getCurrentDateInSaoPaulo();try{console.log(`🔄 Iniciando fechamento diário para ${n}`);const i=await Dv.getTransactionsByDateRange(e,n,n);if(i.length===0){console.log("📝 Nenhuma transação encontrada para o dia"),this.isProcessing=!1;return}const a=await this.calculateDailySummary(e,n,i),o=await this.getExistingSummary(e,n);o?(console.log("📝 Atualizando resumo existente"),await Is.updateDailySummary(e,o.id,a)):(console.log("📝 Criando novo resumo diário"),await Is.createDailySummary(e,a)),console.log(`✅ Fechamento diário concluído para ${n}`),console.log(`📊 Resumo: ${a.totalDeposits} depósitos, ${a.totalWithdraws} saques, ${a.totalProfit} lucro`)}catch(i){console.error("❌ Erro no fechamento diário:",i)}finally{this.isProcessing=!1}}static async calculateDailySummary(e,r,n){const i=n.filter(c=>c.type==="deposit").reduce((c,d)=>c+(d.amount||0),0),a=n.filter(c=>c.type==="withdraw").reduce((c,d)=>c+(d.amount||0),0),o=a-i,s=n.reduce((c,d)=>{const h=d.employeeId;return c[h]||(c[h]={employeeId:h,employeeName:"Funcionário não encontrado",deposits:0,withdraws:0,profit:0,transactionCount:0}),d.type==="deposit"?c[h].deposits+=d.amount||0:c[h].withdraws+=d.amount||0,c[h].transactionCount++,c},{});Object.values(s).forEach(c=>{c.profit=c.withdraws-c.deposits});const l=Object.values(s);return{date:r,totalDeposits:i,totalWithdraws:a,totalProfit:o,transactionCount:n.length,employeeSummaries:l}}static async getExistingSummary(e,r){try{return(await Is.getDailySummaries(e)).find(i=>i.date===r)||null}catch(n){return console.error("Erro ao buscar resumo existente:",n),null}}static getNextMidnightInSaoPaulo(){const e=new Date,r=new Date(e.toLocaleString("en-US",{timeZone:"America/Sao_Paulo"})),n=new Date(r);return n.setDate(n.getDate()+1),n.setHours(0,0,0,0),new Date(n.toLocaleString("en-US",{timeZone:"UTC"}))}static getCurrentDateInSaoPaulo(){return new Date().toLocaleDateString("en-CA",{timeZone:"America/Sao_Paulo"})}static isServiceActive(){return this.closureInterval!==null}static getNextClosureInfo(){return{nextClosure:this.getNextMidnightInSaoPaulo(),isActive:this.isServiceActive()}}}kr(Wo,"closureInterval",null),kr(Wo,"isProcessing",!1);const W2e=()=>{const{user:t}=qr(),[e,r]=j.useState(!1),[n,i]=j.useState(null);return j.useEffect(()=>{if(t!=null&&t.uid){console.log("🚀 Iniciando serviço de fechamento diário para usuário:",t.uid),Wo.startDailyClosureService(t.uid),r(Wo.isServiceActive());const{nextClosure:l}=Wo.getNextClosureInfo();i(l);const c=setInterval(()=>{r(Wo.isServiceActive());const{nextClosure:d}=Wo.getNextClosureInfo();i(d)},6e4);return()=>{clearInterval(c),Wo.stopDailyClosureService(),console.log("🛑 Serviço de fechamento diário parado")}}},[t==null?void 0:t.uid]),{isServiceActive:e,nextClosure:n,processManualClosure:async l=>{if(!(t!=null&&t.uid)){Ge.error("Usuário não autenticado");return}try{Ge.loading("Processando fechamento diário...",{id:"daily-closure"}),await Wo.processManualClosure(t.uid,l),Ge.success("Fechamento diário processado com sucesso!",{id:"daily-closure"})}catch(c){console.error("Erro no fechamento manual:",c),Ge.error("Erro ao processar fechamento diário",{id:"daily-closure"})}},stopService:()=>{Wo.stopDailyClosureService(),r(!1),i(null),Ge.info("Serviço de fechamento diário parado")},restartService:()=>{if(t!=null&&t.uid){Wo.startDailyClosureService(t.uid),r(Wo.isServiceActive());const{nextClosure:l}=Wo.getNextClosureInfo();i(l),Ge.success("Serviço de fechamento diário reiniciado")}}}},H2e=()=>{var Z,ye;const{user:t}=qr(),e=Wi();W2e();const{data:r=[],isLoading:n,error:i}=rd((t==null?void 0:t.uid)||""),a=C3(),o=new Date(ac().getTime()-7*24*60*60*1e3).toISOString().split("T")[0],s=new Date(ac().getFullYear(),ac().getMonth(),1).toISOString().split("T")[0],l=new Date(ac().getFullYear(),ac().getMonth()+1,0).toISOString().split("T")[0],{data:c=[],isLoading:d,error:h}=as((t==null?void 0:t.uid)||"",a,a),{data:p=[],isLoading:f}=as((t==null?void 0:t.uid)||"",o,a),{data:v=[],isLoading:m}=as((t==null?void 0:t.uid)||"",s,l),{data:g=[]}=zx((t==null?void 0:t.uid)||"");console.log("Dashboard Debug:",{user:t==null?void 0:t.uid,employees:r.length,todayTransactions:c.length,today:a,employeesLoading:n,transactionsLoading:d,employeesError:i,transactionsError:h});const y=((Z=c==null?void 0:c.filter(ce=>ce.type==="deposit"))==null?void 0:Z.reduce((ce,F)=>ce+(F.amount||0),0))||0,_=(((ye=c==null?void 0:c.filter(ce=>ce.type==="withdraw"))==null?void 0:ye.reduce((ce,F)=>ce+(F.amount||0),0))||0)-y,A=(r==null?void 0:r.filter(ce=>ce.status==="active"))||[];c!=null&&c.length;const N=ac().getFullYear(),I=ac().getMonth(),P=g.filter(ce=>{const F=new Date(ce.date);return F.getFullYear()===N&&F.getMonth()===I}),E=P.reduce((ce,F)=>ce+(F.profit||F.margin||0),0),k=new Set(P.map(ce=>ce.date)),D=v.filter(ce=>!k.has(ce.date)),C=D.reduce((ce,F)=>{const V=F.type==="withdraw"?F.amount:-F.amount;return ce+V},0);console.log("Dashboard - Transações Abertas (não fechadas):",{totalMonthlyTransactions:v.length,closedDates:Array.from(k),openTransactions:D.length,monthlyRevenueFromTransactions:C});const O=E+C;console.log("Dashboard - Cálculo Receita Mensal:",{currentYear:N,currentMonth:I,monthlySummaries:P.length,monthlyRevenueFromSummaries:E,monthlyTransactions:v.length,monthlyRevenueFromTransactions:C,monthlyRevenue:O}),console.log("Dashboard - Fechamentos Diários Detalhados:"),P.forEach((ce,F)=>{console.log(`  ${F+1}. Data: ${ce.date}, Profit: ${ce.profit||ce.margin||0}`)}),console.log("Dashboard - Transações Abertas Detalhadas:"),D.forEach((ce,F)=>{const V=ce.type==="withdraw"?ce.amount:-ce.amount;console.log(`  ${F+1}. Data: ${ce.date}, Tipo: ${ce.type}, Valor: ${ce.amount}, Profit: ${V}`)}),A.length*1e4;const L=[{title:"Receita Hoje",value:`R$ ${_.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:_v,valueColor:_>=0?"positive":"negative",clickable:!0,onClick:()=>e("/resumo-dia")},{title:"Receita do Mês",value:`R$ ${O.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:O>=0?Ti:Vh,valueColor:O>=0?"positive":"negative",clickable:!0,onClick:()=>e("/relatorios")},{title:"Funcionários Ativos",value:A.length.toString(),icon:Zo,valueColor:"default",clickable:!0,onClick:()=>e("/gestao-funcionarios")},{title:"Transações do Mês",value:v.length.toString(),icon:rA,valueColor:"default",clickable:!0,onClick:()=>{e("/relatorios"),setTimeout(()=>{const ce=document.getElementById("weekly-chart-section");ce&&ce.scrollIntoView({behavior:"smooth",block:"start"})},500)}}];(()=>{const ce=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],F=[];for(let V=6;V>=0;V--){const G=new Date;G.setDate(G.getDate()-V);const oe=G.toISOString().split("T")[0],J=p.filter(T=>{var le,de;return new Date(((de=(le=T.createdAt)==null?void 0:le.toDate)==null?void 0:de.call(le))||T.createdAt).toISOString().split("T")[0]===oe}),ne=J.filter(T=>T.type==="withdraw").reduce((T,X)=>T+(Number(X.amount)||0),0),xe=J.filter(T=>T.type==="deposit").reduce((T,X)=>T+(Number(X.amount)||0),0),he=F.length>0?F[F.length-1].lucroAcumulado+ne-xe:ne-xe;F.push({name:ce[G.getDay()],receita:ne,despesa:xe,lucro:ne-xe,lucroAcumulado:he,date:oe,isToday:V===0})}return F})();const re=()=>{const ce=[];return p.sort((F,V)=>{var G,oe,J,ne;return new Date(((oe=(G=V.createdAt)==null?void 0:G.toDate)==null?void 0:oe.call(G))||V.createdAt).getTime()-new Date(((ne=(J=F.createdAt)==null?void 0:J.toDate)==null?void 0:ne.call(J))||F.createdAt).getTime()}).slice(0,5).forEach(F=>{var oe,J;const V=r.find(ne=>ne.id===F.employeeId),G=Y(new Date(((J=(oe=F.createdAt)==null?void 0:oe.toDate)==null?void 0:J.call(oe))||F.createdAt));F.type==="withdraw"?ce.push({id:`transaction-${F.id}`,action:"Pagamento recebido",employee:(V==null?void 0:V.name)||"Funcionário não encontrado",value:`R$ ${Number(F.amount||0).toLocaleString("pt-BR")}`,time:G,type:"payment",icon:_v}):F.type==="deposit"&&ce.push({id:`transaction-${F.id}`,action:"Pagamento pendente",employee:(V==null?void 0:V.name)||"Funcionário não encontrado",value:`R$ ${Number(F.amount||0).toLocaleString("pt-BR")}`,time:G,type:"pending",icon:tA})}),r.sort((F,V)=>{var G,oe,J,ne;return new Date(((oe=(G=V.createdAt)==null?void 0:G.toDate)==null?void 0:oe.call(G))||V.createdAt).getTime()-new Date(((ne=(J=F.createdAt)==null?void 0:J.toDate)==null?void 0:ne.call(J))||F.createdAt).getTime()}).slice(0,2).forEach(F=>{var G,oe;const V=Y(new Date(((oe=(G=F.createdAt)==null?void 0:G.toDate)==null?void 0:oe.call(G))||F.createdAt));ce.push({id:`employee-${F.id}`,action:"Novo funcionário",employee:F.name,value:"",time:V,type:"employee",icon:Jq})}),ce.sort((F,V)=>{const G=K(F.time),oe=K(V.time);return G-oe}).slice(0,5)},Y=ce=>{const V=Math.floor((new Date-ce)/(1e3*60));if(V<1)return"Agora mesmo";if(V<60)return`${V} min atrás`;const G=Math.floor(V/60);if(G<24)return`${G} hora${G>1?"s":""} atrás`;const oe=Math.floor(G/24);return`${oe} dia${oe>1?"s":""} atrás`},K=ce=>ce==="Agora mesmo"?0:ce.includes("min")?parseInt(ce):ce.includes("hora")?parseInt(ce)*60:ce.includes("dia")?parseInt(ce)*24*60:999999,q=re();return u.jsx($a,{children:u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard"}),u.jsx("p",{className:"text-muted-foreground",children:"Visão geral do seu negócio"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:L.map(ce=>u.jsx(e1,{title:ce.title,value:ce.value,icon:ce.icon,valueColor:ce.valueColor,clickable:ce.clickable,onClick:ce.onClick},ce.title))}),u.jsx(exe,{}),u.jsx(q2e,{}),u.jsxs(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Atividades Recentes"}),u.jsx("div",{className:"space-y-4",children:q.length>0?q.map(ce=>{const F=ce.icon;return u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("div",{className:`p-2 rounded-full ${ce.type==="payment"?"bg-success/10":ce.type==="pending"?"bg-warning/10":"bg-primary/10"}`,children:u.jsx(F,{className:`h-4 w-4 ${ce.type==="payment"?"text-success":ce.type==="pending"?"text-warning":"text-primary"}`})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:ce.action}),u.jsx("p",{className:"text-sm text-muted-foreground",children:ce.employee})]})]}),u.jsxs("div",{className:"text-right",children:[ce.value&&u.jsx("p",{className:`font-semibold ${ce.type==="payment"?"text-success":ce.type==="pending"?"text-warning":"text-foreground"}`,children:ce.value}),u.jsx("p",{className:"text-xs text-muted-foreground",children:ce.time})]})]},ce.id)}):u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(Zo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"Nenhuma atividade recente"}),u.jsx("p",{className:"text-sm",children:"As atividades aparecerão aqui conforme você usa o sistema"})]})})]})]})})},G2e="modulepreload",K2e=function(t){return"/"+t},Y8={},Oh=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=K2e(l),l in Y8)return;Y8[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":G2e,c||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},Y2e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oh(async()=>{const{default:n}=await Promise.resolve().then(()=>Ry);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class $3 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class X8 extends $3{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Q8 extends $3{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class J8 extends $3{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zC;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(zC||(zC={}));var X2e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};class Q2e{constructor(e,{headers:r={},customFetch:n,region:i=zC.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Y2e(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return X2e(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const p=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h,signal:s}).catch(g=>{throw g.name==="AbortError"?g:new X8(g)}),f=p.headers.get("x-relay-error");if(f&&f==="true")throw new Q8(p);if(!p.ok)throw new J8(p);let v=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return v==="application/json"?m=yield p.json():v==="application/octet-stream"?m=yield p.blob():v==="text/event-stream"?m=p:v==="multipart/form-data"?m=yield p.formData():m=yield p.text(),{data:m,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new X8(i)}:{data:null,error:i,response:i instanceof J8||i instanceof Q8?i.context:void 0}}})}}var xo={},F3={},GA={},Wx={},KA={},YA={},J2e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mv=J2e();const Z2e=Mv.fetch,rQ=Mv.fetch.bind(Mv),nQ=Mv.Headers,e_e=Mv.Request,t_e=Mv.Response,Ry=Object.freeze(Object.defineProperty({__proto__:null,Headers:nQ,Request:e_e,Response:t_e,default:rQ,fetch:Z2e},Symbol.toStringTag,{value:"Module"})),r_e=iie(Ry);var XA={};Object.defineProperty(XA,"__esModule",{value:!0});let n_e=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};XA.default=n_e;var iQ=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(YA,"__esModule",{value:!0});const i_e=iQ(r_e),a_e=iQ(XA);let o_e=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=i_e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,c;let d=null,h=null,p=null,f=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=x:h=JSON.parse(x))}const g=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,f=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const g=await a.text();try{d=JSON.parse(g),Array.isArray(d)&&a.status===404&&(h=[],d=null,f=200,v="OK")}catch{a.status===404&&g===""?(f=204,v="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,v="OK"),d&&this.shouldThrowOnError)throw new a_e.default(d)}return{error:d,data:h,count:p,status:f,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};YA.default=o_e;var s_e=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(KA,"__esModule",{value:!0});const l_e=s_e(YA);let c_e=class extends l_e.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};KA.default=c_e;var u_e=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wx,"__esModule",{value:!0});const d_e=u_e(KA);let h_e=class extends d_e.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Wx.default=h_e;var f_e=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(GA,"__esModule",{value:!0});const P0=f_e(Wx);let p_e=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new P0.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new P0.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new P0.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new P0.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new P0.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};GA.default=p_e;var aQ=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(F3,"__esModule",{value:!0});const m_e=aQ(GA),g_e=aQ(Wx);let v_e=class oQ{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new m_e.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new oQ(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{l.searchParams.append(h,p)})):(s="POST",c=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new g_e.default({method:s,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};F3.default=v_e;var Dy=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xo,"__esModule",{value:!0});xo.PostgrestError=xo.PostgrestBuilder=xo.PostgrestTransformBuilder=xo.PostgrestFilterBuilder=xo.PostgrestQueryBuilder=xo.PostgrestClient=void 0;const sQ=Dy(F3);xo.PostgrestClient=sQ.default;const lQ=Dy(GA);xo.PostgrestQueryBuilder=lQ.default;const cQ=Dy(Wx);xo.PostgrestFilterBuilder=cQ.default;const uQ=Dy(KA);xo.PostgrestTransformBuilder=uQ.default;const dQ=Dy(YA);xo.PostgrestBuilder=dQ.default;const hQ=Dy(XA);xo.PostgrestError=hQ.default;var y_e=xo.default={PostgrestClient:sQ.default,PostgrestQueryBuilder:lQ.default,PostgrestFilterBuilder:cQ.default,PostgrestTransformBuilder:uQ.default,PostgrestBuilder:dQ.default,PostgrestError:hQ.default};const{PostgrestClient:b_e,PostgrestQueryBuilder:aZe,PostgrestFilterBuilder:oZe,PostgrestTransformBuilder:sZe,PostgrestBuilder:lZe,PostgrestError:cZe}=y_e;class x_e{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const w_e="2.15.5",__e=`realtime-js/${w_e}`,S_e="1.0.0",qC=1e4,A_e=1e3,E_e=100;var w1;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(w1||(w1={}));var $i;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})($i||($i={}));var pl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pl||(pl={}));var WC;(function(t){t.websocket="websocket"})(WC||(WC={}));var tp;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(tp||(tp={}));class N_e{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+a));o=o+a;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class fQ{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Tn||(Tn={}));const Z8=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=P_e(o,t,e,i),a),{})},P_e=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?pQ(a,o):HC(o)},pQ=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return k_e(e,r)}switch(t){case Tn.bool:return T_e(e);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return j_e(e);case Tn.json:case Tn.jsonb:return C_e(e);case Tn.timestamp:return I_e(e);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return HC(e);default:return HC(e)}},HC=t=>t,T_e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},j_e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},C_e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},k_e=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>pQ(e,s))}return t},I_e=t=>typeof t=="string"?t.replace(" ","T"):t,mQ=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class AP{constructor(e,r,n={},i=qC){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var e$;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(e$||(e$={}));class _1{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_1.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=_1.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_1.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},l={};return this.map(a,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=a[c];if(h){const p=d.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),v=d.filter(g=>f.indexOf(g.presence_ref)<0),m=h.filter(g=>p.indexOf(g.presence_ref)<0);v.length>0&&(s[c]=v),m.length>0&&(l[c]=m)}else s[c]=d}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const d=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),d.length>0){const h=e[s].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);e[s].unshift(...p)}n(s,d,l)}),this.map(o,(s,l)=>{let c=e[s];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var t$;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(t$||(t$={}));var S1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(S1||(S1={}));var fu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(fu||(fu={}));class B3{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=$i.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new AP(this,pl.join,this.params,this.timeout),this.rejoinTimer=new fQ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$i.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$i.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=$i.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$i.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=$i.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pl.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new _1(this),this.broadcastEndpointURL=mQ(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==$i.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[S1.PRESENCE]&&this.bindings[S1.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(fu.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(fu.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){e==null||e(fu.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<g;x++){const _=m[x],{filter:{event:A,schema:N,table:I,filter:P}}=_,E=f&&f[x];if(E&&E.event===A&&E.schema===N&&E.table===I&&E.filter===P)y.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=$i.errored,e==null||e(fu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(fu.SUBSCRIBED);return}}).receive("error",f=>{this.state=$i.errored,e==null||e(fu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(fu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===$i.joined&&e===S1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$i.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new AP(this,pl.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$i.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new AP(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>E_e){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=pl;if(n&&[s,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,m,g;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=f.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(p,n)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var v,m,g,y,x,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const A=f.id,N=(v=f.filter)===null||v===void 0?void 0:v.event;return A&&((m=r.ids)===null||m===void 0?void 0:m.includes(A))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const A=(x=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return A==="*"||A===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:m,table:g,commit_timestamp:y,type:x,errors:_}=v;p=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(v))}f.callback(p,n)})}_isClosed(){return this.state===$i.closed}_isJoined(){return this.state===$i.joined}_isJoining(){return this.state===$i.joining}_isLeaving(){return this.state===$i.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&B3.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pl.close,{},e)}_onError(e){this._on(pl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$i.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Z8(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Z8(e.columns,e.old_record)),r}}const EP=()=>{},c2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},O_e=[1e3,2e3,5e3,1e4],R_e=1e4,D_e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L_e{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qC,this.transport=null,this.heartbeatIntervalMs=c2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=EP,this.ref=0,this.reconnectTimer=null,this.logger=EP,this.conn=null,this.sendBuffer=[],this.serializer=new N_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Oh(async()=>{const{default:s}=await Promise.resolve().then(()=>Ry);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${WC.websocket}`,this.httpEndpoint=mQ(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=x_e.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:S_e}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case w1.connecting:return tp.Connecting;case w1.open:return tp.Open;case w1.closing:return tp.Closing;default:return tp.Closed}}isConnected(){return this.connectionState()===tp.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new B3(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(A_e,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},c2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(pl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([D_e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:__e};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(pl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fQ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},c2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,s,l,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:qC,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:c2.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:EP,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>O_e[h-1]||R_e,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class U3 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ei(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class M_e extends U3{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class GC extends U3{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var $_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};const gQ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oh(async()=>{const{default:n}=await Promise.resolve().then(()=>Ry);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},F_e=()=>$_e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oh(()=>Promise.resolve().then(()=>Ry),void 0)).Response:Response}),KC=t=>{if(Array.isArray(t))return t.map(r=>KC(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=KC(n)}),e},B_e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ym=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};const NP=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),U_e=(t,e,r)=>ym(void 0,void 0,void 0,function*(){const n=yield F_e();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new M_e(NP(i),a,o))}).catch(i=>{e(new GC(NP(i),i))}):e(new GC(NP(t),t))}),V_e=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(B_e(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Hx(t,e,r,n,i,a){return ym(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,V_e(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>U_e(l,s,n))})})}function TS(t,e,r,n){return ym(this,void 0,void 0,function*(){return Hx(t,"GET",e,r,n)})}function rc(t,e,r,n,i){return ym(this,void 0,void 0,function*(){return Hx(t,"POST",e,n,i,r)})}function YC(t,e,r,n,i){return ym(this,void 0,void 0,function*(){return Hx(t,"PUT",e,n,i,r)})}function z_e(t,e,r,n){return ym(this,void 0,void 0,function*(){return Hx(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vQ(t,e,r,n,i){return ym(this,void 0,void 0,function*(){return Hx(t,"DELETE",e,n,i,r)})}var q_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};class W_e{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return q_e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ei(e))return{data:null,error:e};throw e}})}}var H_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};class G_e{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new W_e(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return H_e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ei(e))return{data:null,error:e};throw e}})}}var fo=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};const K_e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},r$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Y_e{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=gQ(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return fo(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},r$),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?YC:rc)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ei(a))return{data:null,error:a};throw a}})}upload(e,r,n){return fo(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return fo(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:r$.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield YC(this.fetch,s.toString(),l,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ei(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return fo(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield rc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new U3("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}update(e,r,n){return fo(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return fo(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}copy(e,r,n){return fo(this,void 0,void 0,function*(){try{return{data:{path:(yield rc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return fo(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield rc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return fo(this,void 0,void 0,function*(){try{const i=yield rc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>TS(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new G_e(l,this.shouldThrowOnError)}info(e){return fo(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield TS(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:KC(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}exists(e){return fo(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield z_e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n)&&n instanceof GC){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(e){return fo(this,void 0,void 0,function*(){try{return{data:yield vQ(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}})}list(e,r,n){return fo(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},K_e),r),{prefix:e||""});return{data:yield rc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}listV2(e,r){return fo(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield rc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const X_e="2.12.2",Q_e={"X-Client-Info":`storage-js/${X_e}`};var Vm=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};class J_e{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Q_e),r),this.fetch=gQ(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Vm(this,void 0,void 0,function*(){try{return{data:yield TS(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ei(e))return{data:null,error:e};throw e}})}getBucket(e){return Vm(this,void 0,void 0,function*(){try{return{data:yield TS(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Vm(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Vm(this,void 0,void 0,function*(){try{return{data:yield YC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Vm(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Vm(this,void 0,void 0,function*(){try{return{data:yield vQ(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}})}}class Z_e extends J_e{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new Y_e(this.url,this.headers,e,this.fetch)}}const eSe="2.58.0";let r1="";typeof Deno<"u"?r1="deno":typeof document<"u"?r1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r1="react-native":r1="node";const tSe={"X-Client-Info":`supabase-js-${r1}/${eSe}`},rSe={headers:tSe},nSe={schema:"public"},iSe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aSe={};var oSe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};const sSe=t=>{let e;return t?e=t:typeof fetch>"u"?e=rQ:e=fetch,(...r)=>e(...r)},lSe=()=>typeof Headers>"u"?nQ:Headers,cSe=(t,e,r)=>{const n=sSe(r),i=lSe();return(a,o)=>oSe(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},o),{headers:c}))})};var uSe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};function dSe(t){return t.endsWith("/")?t:t+"/"}function hSe(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:c,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),s),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>uSe(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function fSe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dSe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yQ="2.72.0",ig=30*1e3,XC=3,PP=XC*ig,pSe="http://localhost:9999",mSe="supabase.auth.token",gSe={"X-Client-Info":`gotrue-js/${yQ}`},QC="X-Supabase-Api-Version",bQ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vSe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ySe=10*60*1e3;class V3 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function or(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bSe extends V3{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xSe(t){return or(t)&&t.name==="AuthApiError"}class xQ extends V3{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class bf extends V3{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ud extends bf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wSe(t){return or(t)&&t.name==="AuthSessionMissingError"}class T0 extends bf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class u2 extends bf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class d2 extends bf{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _Se(t){return or(t)&&t.name==="AuthImplicitGrantRedirectError"}class n$ extends bf{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JC extends bf{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function TP(t){return or(t)&&t.name==="AuthRetryableFetchError"}class i$ extends bf{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ZC extends bf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),a$=` 	
\r=`.split(""),SSe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<a$.length;e+=1)t[a$[e].charCodeAt(0)]=-2;for(let e=0;e<jS.length;e+=1)t[jS[e].charCodeAt(0)]=e;return t})();function o$(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(jS[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(jS[n]),e.queuedBits-=6}}function wQ(t,e,r){const n=SSe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function s$(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{NSe(o,n,r)};for(let o=0;o<t.length;o+=1)wQ(t.charCodeAt(o),i,a);return e.join("")}function ASe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ESe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ASe(n,e)}}function NSe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function PSe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)wQ(t.charCodeAt(i),r,n);return new Uint8Array(e)}function TSe(t){const e=[];return ESe(t,r=>e.push(r)),new Uint8Array(e)}function jSe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>o$(i,r,n)),o$(null,r,n),e.join("")}function CSe(t){return Math.round(Date.now()/1e3)+t}function kSe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ps=()=>typeof window<"u"&&typeof document<"u",Bf={tested:!1,writable:!1},_Q=()=>{if(!Ps())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bf.tested)return Bf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bf.tested=!0,Bf.writable=!0}catch{Bf.tested=!0,Bf.writable=!1}return Bf.writable};function ISe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const SQ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oh(async()=>{const{default:n}=await Promise.resolve().then(()=>Ry);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},OSe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ag=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Uf=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ld=async(t,e)=>{await t.removeItem(e)};class QA{constructor(){this.promise=new QA.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}QA.promiseConstructor=Promise;function jP(t){const e=t.split(".");if(e.length!==3)throw new ZC("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!vSe.test(e[n]))throw new ZC("JWT not in base64url format");return{header:JSON.parse(s$(e[0])),payload:JSON.parse(s$(e[1])),signature:PSe(e[2]),raw:{header:e[0],payload:e[1]}}}async function RSe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function DSe(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function LSe(t){return("0"+t.toString(16)).substr(-2)}function MSe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,LSe).join("")}async function $Se(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function FSe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await $Se(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zm(t,e,r=!1){const n=MSe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ag(t,`${e}-code-verifier`,i);const a=await FSe(n);return[a,n===a?"plain":"s256"]}const BSe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function USe(t){const e=t.headers.get(QC);if(!e||!e.match(BSe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VSe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zSe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qSe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qm(t){if(!qSe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function CP(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function l$(t){return JSON.parse(JSON.stringify(t))}var WSe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Yf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HSe=[502,503,504];async function c$(t){var e;if(!OSe(t))throw new JC(Yf(t),0);if(HSe.includes(t.status))throw new JC(Yf(t),t.status);let r;try{r=await t.json()}catch(a){throw new xQ(Yf(a),a)}let n;const i=USe(t);if(i&&i.getTime()>=bQ["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new i$(Yf(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ud}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new i$(Yf(r),t.status,r.weak_password.reasons);throw new bSe(Yf(r),t.status||500,n)}const GSe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function gr(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[QC]||(a[QC]=bQ["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await KSe(t,e,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function KSe(t,e,r,n,i,a){const o=GSe(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new JC(Yf(l),0)}if(s.ok||await c$(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await c$(l)}}function Zl(t){var e;let r=null;JSe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=CSe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function u$(t){const e=Zl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jd(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function YSe(t){return{data:t,error:null}}function XSe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=WSe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function QSe(t){return t}function JSe(t){return t.access_token&&t.refresh_token&&t.expires_in}const kP=["global","local","others"];var ZSe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class e5e{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=SQ(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=kP[0]){if(kP.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kP.join(", ")}`);try{return await gr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await gr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jd})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ZSe(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await gr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:XSe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(or(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await gr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jd})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await gr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:QSe});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(or(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){qm(e);try{return await gr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jd})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){qm(e);try{return await gr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Jd})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){qm(e);try{return await gr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jd})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){qm(e.userId);try{const{data:r,error:n}=await gr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(or(r))return{data:null,error:r};throw r}}async _deleteFactor(e){qm(e.userId),qm(e.id);try{return{data:await gr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}}function d$(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function t5e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wm={debug:!!(globalThis&&_Q()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AQ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class r5e extends AQ{}async function n5e(t,e,r){Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Wm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new r5e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wm.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function EQ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function i5e(t){return parseInt(t,16)}function a5e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function o5e(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=EQ(t.address),v=d?`${d}://${n}`:n,m=t.statement?`${t.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${f}

${m}`;let y=`URI: ${h}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}y+=x}return`${g}
${y}`}t5e();const s5e={url:pSe,storageKey:mSe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gSe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function h$(t,e,r){return await r()}const Hm={};class Sb{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sb.nextInstanceID,Sb.nextInstanceID+=1,this.instanceID>0&&Ps()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},s5e),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new e5e({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=SQ(i.fetch),this.lock=i.lock||h$,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ps()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=n5e:this.lock=h$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_Q()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d$(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=d$(this.memoryStorage)),Ps()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Hm[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Hm[this.storageKey]=Object.assign(Object.assign({},Hm[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Hm[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hm[this.storageKey]=Object.assign(Object.assign({},Hm[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yQ}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ISe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ps()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_Se(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return or(r)?{error:r}:{error:new xQ("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zl}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:h,options:p}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await zm(this.storage,this.storageKey)),a=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:Zl})}else if("phone"in e){const{phone:d,password:h,options:p}=e;a=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Zl})}else throw new u2("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:u$})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:u$})}else throw new u2("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new T0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,s,l,c,d,h,p;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:m,wallet:g,statement:y,options:x}=e;let _;if(Ps())if(typeof g=="object")_=g;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const A=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),N=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=EQ(N[0]);let P=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const k=await _.request({method:"eth_chainId"});P=i5e(k)}const E={domain:A.host,address:I,statement:y,uri:A.href,version:"1",chainId:P,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=o5e(E),v=await _.request({method:"personal_sign",params:[a5e(f),I]})}try{const{data:m,error:g}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Zl});if(g)throw g;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new T0}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:g})}catch(m){if(or(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var r,n,i,a,o,s,l,c,d,h,p,f;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:g,wallet:y,statement:x,options:_}=e;let A;if(Ps())if(typeof y=="object")A=y;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))A=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=y}const N=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const I=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let P;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")P=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)P=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)v=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),m=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const I=await A.signMessage(new TextEncoder().encode(v),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=I}}try{const{data:g,error:y}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:jSe(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Zl});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new T0}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(or(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const r=await Uf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Zl});if(await Ld(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new T0}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(or(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await gr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zl}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new T0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await zm(this.storage,this.storageKey));const{error:h}=await gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:d}=await gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new u2("You must provide either an email or phone number.")}catch(s){if(or(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await gr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Zl});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await zm(this.storage,this.storageKey)),await gr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:YSe})}catch(a){if(or(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ud;const{error:i}=await gr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(or(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await gr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await gr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new u2("You must provide either an email or phone number and a type")}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Uf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<PP:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Uf(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=CP()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await gr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jd}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ud}:await gr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Jd})})}catch(r){if(or(r))return wSe(r)&&(await this._removeSession(),await Ld(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ud;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await zm(this.storage,this.storageKey));const{data:c,error:d}=await gr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Jd});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ud;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=jP(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(or(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ud;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ps())throw new d2("No browser detected.");if(e.error||e.error_description||e.error_code)throw new d2(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new n$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new d2("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new n$("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=e;if(!a||!s||!o||!c)throw new d2("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(s);let p=d+h;l&&(p=parseInt(l));const f=p-d;f*1e3<=ig&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(or(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Uf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(xSe(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await Ld(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=kSe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await zm(this.storage,this.storageKey,!0));try{return await gr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(or(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,d;const{data:h,error:p}=a;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await gr(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ps()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(or(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await gr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await DSe(async i=>(i>0&&await RSe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await gr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zl})),(i,a)=>{const o=200*Math.pow(2,i);return a&&TP(a)&&Date.now()+o-n<ig})}catch(n){if(this._debug(r,"error",n),or(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ps()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Uf(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Uf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ag(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:CP()}else if(i&&!i.user&&!i.user){const o=await Uf(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ld(this.storage,this.storageKey+"-user"),await ag(this.storage,this.storageKey,i)):i.user=CP()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<PP;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${PP}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),TP(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ud;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new QA;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ud;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),or(a)){const o={session:null,error:a};return TP(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ag(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=l$(i);await ag(this.storage,this.storageKey,a)}else{const i=l$(r);await ag(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ld(this.storage,this.storageKey),await Ld(this.storage,this.storageKey+"-code-verifier"),await Ld(this.storage,this.storageKey+"-user"),this.userStorage&&await Ld(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ps()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ig);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ig);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ig}ms, refresh threshold is ${XC} ticks`),i<=XC&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof AQ)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ps()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await zm(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await gr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await gr(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:s}=await gr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await gr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=jP(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+ySe>i)return n;const{data:a,error:o}=await gr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};n=f.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=jP(n);r!=null&&r.allowExpired||VSe(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:i,signature:o},error:null}}const d=zSe(i.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,TSe(`${s}.${l}`)))throw new ZC("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}}Sb.nextInstanceID=0;const l5e=Sb;class c5e extends l5e{constructor(e){super(e)}}var u5e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})};class d5e{constructor(e,r,n){var i,a,o;this.supabaseUrl=e,this.supabaseKey=r;const s=fSe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:nSe,realtime:aSe,auth:Object.assign(Object.assign({},iSe),{storageKey:l}),global:rSe},d=hSe(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=cSe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new b_e(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Z_e(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Q2e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return u5e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c5e({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new L_e(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const h5e=(t,e,r)=>new d5e(t,e,r);function f5e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}f5e()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p5e="https://jfesttwhhxkdhdukragt.supabase.co",m5e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmZXN0dHdoaHhrZGhkdWtyYWd0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2OTUwNTIsImV4cCI6MjA3NTI3MTA1Mn0.gMf-lnIAOFF1EOK_tCLlF7_kFsNpakdQGuxuOBPIkgU",A1=h5e(p5e,m5e,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),NQ=async()=>{try{const{data:{user:t}}=await A1.auth.getUser();if(!t){console.error("Usuário não autenticado");return}console.log("Gerando funcionários para o usuário:",t.id);const e=[{name:"João Silva",cpf:"123.456.789-00",email:"joao.silva@exemplo.com",phone:"(11) 99999-1111",birth_date:"1990-05-15",pay_day:5,salary:3500,status:"active"},{name:"Maria Santos",cpf:"987.654.321-00",email:"maria.santos@exemplo.com",phone:"(11) 99999-2222",birth_date:"1988-12-03",pay_day:10,salary:4200,status:"active"},{name:"Pedro Costa",cpf:"456.789.123-00",email:"pedro.costa@exemplo.com",phone:"(11) 99999-3333",birth_date:"1992-08-20",pay_day:15,salary:2800,status:"active"},{name:"Ana Oliveira",cpf:"789.123.456-00",email:"ana.oliveira@exemplo.com",phone:"(11) 99999-4444",birth_date:"1995-03-12",pay_day:20,salary:3100,status:"active"},{name:"Carlos Ferreira",cpf:"321.654.987-00",email:"carlos.ferreira@exemplo.com",phone:"(11) 99999-5555",birth_date:"1987-11-25",pay_day:25,salary:3800,status:"active"}],{data:r,error:n}=await A1.from("employees").insert(e.map(i=>({...i,user_id:t.id}))).select();if(n){console.error("Erro ao inserir funcionários:",n);return}return console.log("✅ Funcionários criados com sucesso:",r),await g5e(t.id,r),r}catch(t){console.error("Erro ao gerar dados de teste:",t)}},g5e=async(t,e)=>{try{const{data:r}=await A1.from("platforms").select("*").eq("user_id",t);if(!r||r.length===0){const o=[{name:"Bet365",color:"#00AB4E"},{name:"Betano",color:"#1E90FF"},{name:"BetVip",color:"#FF5C00"},{name:"Sportingbet",color:"#8B5CF6"}],{data:s}=await A1.from("platforms").insert(o.map(l=>({...l,user_id:t}))).select();s&&r.push(...s)}const n=[],i=new Date;for(let o=0;o<30;o++){const s=new Date(i);s.setDate(s.getDate()-o);const l=Math.floor(Math.random()*4)+2;for(let c=0;c<l;c++){const d=e[Math.floor(Math.random()*e.length)],h=r[Math.floor(Math.random()*r.length)],p=Math.random()>.4?"deposit":"withdraw",f=Math.floor(Math.random()*5e3)+100;n.push({user_id:t,employee_id:d.id,platform_id:h.id,type:p,amount:f,description:`${p==="deposit"?"Depósito":"Saque"} - ${h.name}`,transaction_date:s.toISOString().split("T")[0]})}}const{error:a}=await A1.from("transactions").insert(n);if(a){console.error("Erro ao inserir transações:",a);return}console.log(`✅ ${n.length} transações criadas com sucesso`)}catch(r){console.error("Erro ao gerar transações de teste:",r)}};window.generateTestData=NQ;const f$=()=>{const{user:t}=qr(),e=oX();rd((t==null?void 0:t.uid)||"");const{canAddMoreEmployees:r}=gf(),[n,i]=j.useState(!1),[a,o]=j.useState({name:"",cpf:"",email:"",phone:"",birthDate:"",salary:0}),[s,l]=j.useState({}),c=()=>{const v={};return a.name.trim()||(v.name="Nome é obrigatório"),a.cpf.trim()&&!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(a.cpf)&&(v.cpf="CPF deve estar no formato 000.000.000-00"),a.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(v.email="E-mail inválido"),a.phone.trim()&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(a.phone)&&(v.phone="Telefone deve estar no formato (00) 00000-0000"),l(v),Object.keys(v).length===0},d=v=>v.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),h=v=>{const m=v.replace(/\D/g,"");return m.length<=10?m.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):m.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},p=(v,m)=>{let g=m;v==="cpf"?g=d(m):v==="phone"&&(g=h(m)),o(y=>({...y,[v]:g})),s[v]&&l(y=>({...y,[v]:void 0}))},f=async v=>{if(v.preventDefault(),!(t!=null&&t.uid)){Ge.error("Usuário não autenticado");return}if(!r()){Ge.error("Você atingiu o limite de funcionários do seu plano. Faça upgrade para adicionar mais funcionários.");return}if(!c()){Ge.error("Por favor, corrija os erros no formulário");return}try{const m={userId:t.uid,name:a.name.trim(),cpf:a.cpf.trim()||"",email:a.email.trim()||"",phone:a.phone.trim()||"",birthDate:a.birthDate||"",salary:a.salary||0,status:"active"};console.log("Criando funcionário com dados:",m),await e.mutateAsync(m),Ge.success("Funcionário cadastrado com sucesso!"),i(!1),o({name:"",cpf:"",email:"",phone:"",birthDate:"",salary:0})}catch(m){console.error("Erro ao cadastrar funcionário:",m),Ge.error("Erro ao cadastrar funcionário. Tente novamente.")}};return u.jsxs(_l,{open:n,onOpenChange:i,children:[u.jsx(Wg,{asChild:!0,children:u.jsxs(He,{className:"gap-2",children:[u.jsx(G_,{className:"h-4 w-4"}),"Cadastrar Funcionário"]})}),u.jsxs(Vs,{className:"sm:max-w-[500px]",children:[u.jsxs(zs,{children:[u.jsx(qs,{children:"Cadastrar Novo Funcionário"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Preencha as informações do funcionário. Apenas o nome é obrigatório."})]}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"name",children:"Nome Completo *"}),u.jsx(Vt,{id:"name",value:a.name,onChange:v=>p("name",v.target.value),placeholder:"Digite o nome completo",className:s.name?"border-destructive":""}),s.name&&u.jsx("p",{className:"text-sm text-destructive",children:s.name})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"cpf",children:"CPF"}),u.jsx(Vt,{id:"cpf",value:a.cpf,onChange:v=>p("cpf",v.target.value),placeholder:"000.000.000-00 (opcional)",maxLength:14,className:s.cpf?"border-destructive":""}),s.cpf&&u.jsx("p",{className:"text-sm text-destructive",children:s.cpf})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"email",children:"E-mail"}),u.jsx(Vt,{id:"email",type:"email",value:a.email,onChange:v=>p("email",v.target.value),placeholder:"exemplo@email.com (opcional)",className:s.email?"border-destructive":""}),s.email&&u.jsx("p",{className:"text-sm text-destructive",children:s.email})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"phone",children:"Telefone"}),u.jsx(Vt,{id:"phone",value:a.phone,onChange:v=>p("phone",v.target.value),placeholder:"(00) 00000-0000 (opcional)",maxLength:15,className:s.phone?"border-destructive":""}),s.phone&&u.jsx("p",{className:"text-sm text-destructive",children:s.phone})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"birthDate",children:"Data de Nascimento"}),u.jsx(Vt,{id:"birthDate",type:"date",value:a.birthDate,onChange:v=>p("birthDate",v.target.value),className:s.birthDate?"border-destructive":""}),s.birthDate&&u.jsx("p",{className:"text-sm text-destructive",children:s.birthDate})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"salary",children:"Salário (R$)"}),u.jsx(Vt,{id:"salary",type:"number",value:a.salary,onChange:v=>p("salary",v.target.value),placeholder:"0",min:"0",step:"0.01"})]}),u.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[u.jsx(He,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),u.jsx(He,{type:"submit",disabled:e.isPending,children:e.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Np,{className:"h-4 w-4 mr-2 animate-spin"}),"Cadastrando..."]}):"Cadastrar"})]})]})]})]})},v5e=Ex("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),E1=j.forwardRef(({className:t,variant:e,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:yt(v5e({variant:e}),t),...r}));E1.displayName="Alert";const y5e=j.forwardRef(({className:t,...e},r)=>u.jsx("h5",{ref:r,className:yt("mb-1 font-medium leading-none tracking-tight",t),...e}));y5e.displayName="AlertTitle";const N1=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:yt("text-sm [&_p]:leading-relaxed",t),...e}));N1.displayName="AlertDescription";const b5e=({currentCount:t,showUpgrade:e=!0})=>{const r=Wi(),{getEmployeeLimitForPlan:n,currentPlan:i,planInfo:a}=gf(),o=n(),s=t>=o,l=o-t;return!s&&l>1?null:u.jsxs(E1,{variant:s?"destructive":"default",className:"mb-4",children:[u.jsx(zse,{className:"h-4 w-4"}),u.jsxs(N1,{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-3",children:u.jsx("div",{children:s?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-semibold",children:"Limite de funcionários atingido!"}),u.jsxs("p",{className:"text-sm",children:["Você atingiu o limite de ",o," funcionário",o>1?"s":""," do plano"," ",u.jsx(mr,{variant:"outline",className:"capitalize ml-1",children:i})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-semibold",children:"Limite de funcionários quase atingido"}),u.jsxs("p",{className:"text-sm",children:["Você pode adicionar apenas mais ",l," funcionário",l>1?"s":""]})]})})}),e&&u.jsxs(He,{size:"sm",onClick:()=>r("/planos"),className:"flex items-center gap-2",variant:s?"default":"outline",children:[u.jsx(wv,{className:"h-4 w-4"}),s?"Fazer Upgrade":"Ver Planos"]})]})]})},x5e=()=>{const t=Wi(),e=qi(),{user:r}=qr();gf();const[n,i]=j.useState(""),[a,o]=j.useState(!1),[s,l]=j.useState([]),[c,d]=j.useState("idle"),[h,p]=j.useState({success:0,errors:0,details:[]}),f=j.useRef(null),[v,m]=j.useState(!1),g=async()=>{m(!0);try{await NQ(),e.invalidateQueries({queryKey:["employees"]}),e.invalidateQueries({queryKey:["platforms"]}),e.invalidateQueries({queryKey:["transactions"]}),Ge.success("Dados de teste gerados com sucesso!")}catch(Y){Ge.error("Erro ao gerar dados de teste"),console.error(Y)}finally{m(!1)}},{data:y=[],isLoading:x}=rd((r==null?void 0:r.uid)||""),_=oX(),A=Y=>{const K=new FileReader;K.onload=q=>{var V;const ye=((V=q.target)==null?void 0:V.result).split(`
`),ce=ye[0].split(",").map(G=>G.trim().toLowerCase()),F=ye.slice(1).map(G=>{const oe=G.split(",").map(ne=>ne.trim()),J={};return ce.forEach((ne,xe)=>{const he=oe[xe]||"";switch(ne){case"nome":case"name":J.name=he;break;case"cpf":J.cpf=he;break;case"email":case"e-mail":J.email=he;break;case"telefone":case"phone":J.phone=he;break;case"data_nascimento":case"birth_date":case"nascimento":J.birthDate=he;break;case"salario":case"salary":J.salary=parseFloat(he)||0;break;case"dia_pagamento":case"pay_day":case"pagamento":J.payDay=parseInt(he)||1;break;case"status":J.status=he.toLowerCase()==="ativo"||he.toLowerCase()==="active"?"active":"inactive";break}}),J}).filter(G=>G.name);l(F),d("idle")},K.readAsText(Y)},N=Y=>{Ge.error("Importação de Excel ainda não implementada. Use arquivo CSV.")},I=Y=>{var Z,ye;const K=(Z=Y.target.files)==null?void 0:Z[0];if(!K)return;const q=(ye=K.name.split(".").pop())==null?void 0:ye.toLowerCase();if(q==="csv")A(K);else if(q==="xlsx"||q==="xls")N();else{Ge.error("Formato de arquivo não suportado. Use CSV ou Excel.");return}},P=async()=>{if(!(r!=null&&r.uid)||s.length===0)return;d("processing");const Y={success:0,errors:0,details:[]};for(const K of s)try{await _.mutateAsync({userId:r.uid,name:K.name,cpf:K.cpf||"",email:K.email||"",phone:K.phone||"",birthDate:K.birthDate||"",salary:K.salary||0,payDay:K.payDay||1,status:K.status||"active"}),Y.success++,Y.details.push(`✅ ${K.name} - Criado com sucesso`)}catch(q){Y.errors++,Y.details.push(`❌ ${K.name} - Erro: ${q}`)}p(Y),d(Y.errors===0?"success":"error"),Y.success>0&&Ge.success(`${Y.success} funcionário(s) importado(s) com sucesso!`),Y.errors>0&&Ge.error(`${Y.errors} funcionário(s) falharam na importação.`)},E=()=>{l([]),d("idle"),p({success:0,errors:0,details:[]}),f.current&&(f.current.value="")},k=new Date().toISOString().split("T")[0],{data:D=[]}=as((r==null?void 0:r.uid)||"",k,k),C=y.filter(Y=>(Y.name||"").toLowerCase().includes(n.toLowerCase())||(Y.cpf||"").includes(n)||Y.email&&Y.email.toLowerCase().includes(n.toLowerCase())),O=D.filter(Y=>Y.type==="deposit").reduce((Y,K)=>Y+(K.amount||0),0),L=D.filter(Y=>Y.type==="withdraw").reduce((Y,K)=>Y+(K.amount||0),0),z=L-O,re=Y=>{const K=D.filter(ye=>ye.employeeId===Y.id),q=K.filter(ye=>ye.type==="deposit").reduce((ye,ce)=>ye+Number(ce.amount),0);return K.filter(ye=>ye.type==="withdraw").reduce((ye,ce)=>ye+Number(ce.amount),0)-q};return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Gestão de Funcionários"}),u.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua equipe e transações"})]}),u.jsxs("div",{className:"flex gap-2",children:[y.length===0&&u.jsxs(He,{variant:"outline",className:"gap-2",onClick:g,disabled:v,children:[u.jsx(Vse,{className:"h-4 w-4"}),v?"Gerando...":"Dados de Teste"]}),u.jsx(f$,{})]})]}),u.jsx(b5e,{currentCount:y.length}),u.jsx(rt,{className:"p-4 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(iA,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Vt,{placeholder:"Buscar por nome, CPF ou email...",value:n,onChange:Y=>i(Y.target.value),className:"pl-10"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(_l,{open:a,onOpenChange:o,children:[u.jsx(Wg,{asChild:!0,children:u.jsxs(He,{variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[u.jsx(XN,{className:"h-4 w-4"}),"Importar CSV/Excel"]})}),u.jsxs(Vs,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[u.jsx(zs,{children:u.jsxs(qs,{className:"flex items-center gap-2",children:[u.jsx(rA,{className:"h-5 w-5"}),"Importar Funcionários"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[u.jsx("input",{ref:f,type:"file",accept:".csv,.xlsx,.xls",onChange:I,className:"hidden"}),u.jsx(XN,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Selecione um arquivo CSV ou Excel"}),u.jsxs(He,{variant:"outline",onClick:()=>{var Y;return(Y=f.current)==null?void 0:Y.click()},className:"gap-2",children:[u.jsx(XN,{className:"h-4 w-4"}),"Escolher Arquivo"]})]}),u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold mb-2",children:"Formato esperado do CSV:"}),u.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Colunas suportadas:"})," nome, cpf, email, telefone, data_nascimento, salario, dia_pagamento, status"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Obrigatório:"})," nome"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Opcional:"})," todos os outros campos"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Status:"}),' "ativo" ou "inativo" (padrão: ativo)']})]})]}),s.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h4",{className:"font-semibold",children:["Preview (",s.length," funcionário(s) encontrado(s))"]}),u.jsx(He,{variant:"outline",size:"sm",onClick:E,children:"Limpar"})]}),u.jsxs("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:[u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-muted/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-2 text-left",children:"Nome"}),u.jsx("th",{className:"p-2 text-left",children:"CPF"}),u.jsx("th",{className:"p-2 text-left",children:"Email"}),u.jsx("th",{className:"p-2 text-left",children:"Status"})]})}),u.jsx("tbody",{children:s.slice(0,10).map((Y,K)=>u.jsxs("tr",{className:"border-t",children:[u.jsx("td",{className:"p-2",children:Y.name}),u.jsx("td",{className:"p-2",children:Y.cpf||"-"}),u.jsx("td",{className:"p-2",children:Y.email||"-"}),u.jsx("td",{className:"p-2",children:u.jsx(mr,{variant:Y.status==="active"?"default":"secondary",children:Y.status==="active"?"Ativo":"Inativo"})})]},K))})]}),s.length>10&&u.jsxs("div",{className:"p-2 text-center text-sm text-muted-foreground",children:["... e mais ",s.length-10," funcionário(s)"]})]}),u.jsx(He,{onClick:P,disabled:c==="processing",className:"w-full gap-2",children:c==="processing"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Importando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Fp,{className:"h-4 w-4"}),"Importar ",s.length," Funcionário(s)"]})})]}),c!=="idle"&&h.details.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[c==="success"?u.jsx(Fp,{className:"h-5 w-5 text-green-500"}):c==="error"?u.jsx(Xq,{className:"h-5 w-5 text-red-500"}):u.jsx(Hq,{className:"h-5 w-5 text-yellow-500"}),u.jsx("h4",{className:"font-semibold",children:"Resultado da Importação"})]}),u.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex gap-4 mb-3",children:[u.jsxs("div",{className:"text-green-600",children:[u.jsx("strong",{children:h.success})," sucesso(s)"]}),u.jsxs("div",{className:"text-red-600",children:[u.jsx("strong",{children:h.errors})," erro(s)"]})]}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:h.details.map((Y,K)=>u.jsx("div",{className:"text-sm",children:Y},K))})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(He,{variant:"outline",onClick:E,className:"flex-1",children:"Nova Importação"}),u.jsx(He,{onClick:()=>o(!1),className:"flex-1",children:"Fechar"})]})]})]})]})]})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(rt,{className:"p-6 shadow-card card-hover hover:shadow-glow transition-all duration-300",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Funcionários"}),u.jsx("p",{className:"text-3xl font-bold",children:y.length})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(Zo,{className:"h-6 w-6 text-primary-foreground"})})]})}),u.jsx(rt,{className:"p-6 shadow-card card-hover cursor-pointer hover:shadow-glow transition-all duration-300",onClick:()=>t("/relatorios"),children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-white mb-2",children:"Total de Depósitos do Dia"}),u.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["R$ ",O.toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(Kq,{className:"h-6 w-6 text-primary-foreground"})})]})}),u.jsx(rt,{className:"p-6 shadow-card card-hover cursor-pointer hover:shadow-glow transition-all duration-300",onClick:()=>t("/relatorios"),children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques do Dia"}),u.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["R$ ",L.toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(Gq,{className:"h-6 w-6 text-primary-foreground"})})]})}),u.jsx(rt,{className:"p-6 shadow-card card-hover cursor-pointer hover:shadow-glow transition-all duration-300",onClick:()=>t("/relatorios"),children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Lucro do Dia"}),u.jsxs("p",{className:`text-3xl font-bold ${z>=0?"text-success":"text-destructive"}`,children:[z>=0?"+":"","R$ ",z.toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:z>=0?u.jsx(Ti,{className:"h-6 w-6 text-primary-foreground"}):u.jsx(Vh,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),x?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):C.length===0?u.jsxs(rt,{className:"p-12 text-center shadow-card",children:[u.jsx(Zo,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-lg font-semibold mb-2",children:"Nenhum funcionário encontrado"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:n?"Tente buscar com outros termos":"Comece cadastrando seu primeiro funcionário"}),!n&&u.jsx(f$,{})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(Y=>{const K=re(Y),q=K>=0;return u.jsx(rt,{className:`p-6 shadow-card card-hover cursor-pointer group transition-all duration-300 ${Y.status==="inactive"?"opacity-60 grayscale-[0.3] border-dashed border-2 border-muted-foreground/30":""}`,onClick:()=>t(`/gestao-funcionarios/${Y.id}`),children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:`text-xl font-bold mb-1 group-hover:text-primary transition-colors ${Y.status==="inactive"?"text-muted-foreground line-through":""}`,children:Y.name}),u.jsx("p",{className:`text-sm ${Y.status==="inactive"?"text-muted-foreground/70":"text-muted-foreground"}`,children:Y.cpf})]}),u.jsx(mr,{variant:Y.status==="active"?"default":"secondary",className:Y.status==="inactive"?"bg-red-500 hover:bg-red-600 text-white":"",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${Y.status==="active","bg-white"}`}),Y.status==="active"?"Ativo":"Inativo"]})})]}),u.jsx("div",{className:"pt-4",children:u.jsx("div",{className:`p-4 rounded-xl border-2 ${Y.status==="inactive"?"bg-muted/20 border-muted/30":q?"bg-success/10 border-success/20":"bg-destructive/10 border-destructive/20"}`,children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Lucro do Dia"}),u.jsx("div",{className:"flex items-center gap-2",children:Y.status==="inactive"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-5 w-5 rounded-full bg-muted-foreground/50 flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),u.jsx("span",{className:"text-2xl font-bold text-muted-foreground",children:"R$ 0"})]}):q?u.jsxs(u.Fragment,{children:[u.jsx(Ti,{className:"h-5 w-5 text-success"}),u.jsxs("span",{className:"text-2xl font-bold text-success",children:["+R$ ",Math.abs(K).toLocaleString("pt-BR")]})]}):u.jsxs(u.Fragment,{children:[u.jsx(Vh,{className:"h-5 w-5 text-destructive"}),u.jsxs("span",{className:"text-2xl font-bold text-destructive",children:["-R$ ",Math.abs(K).toLocaleString("pt-BR")]})]})})]})})})}),u.jsx("div",{className:"flex items-center justify-end pt-2",children:u.jsxs(He,{variant:"ghost",size:"sm",className:`gap-2 transition-all ${Y.status==="inactive"?"text-muted-foreground/70 hover:text-muted-foreground":"group-hover:gap-3"}`,children:["Ver Detalhes",u.jsx(HI,{className:"h-4 w-4"})]})})]})},Y.id)})})]})})},w5e=()=>{const{user:t}=qr(),{data:e=[]}=rd((t==null?void 0:t.uid)||""),r=sX(),[n,i]=j.useState({}),[a,o]=j.useState({}),[s,l]=j.useState({}),[c,d]=j.useState({}),h=j.useRef({}),[p,f]=j.useState("name"),[v,m]=j.useState("asc");j.useEffect(()=>{const O={};e.forEach(L=>{O[L.id]=L.salary||0}),i(O)},[e]),j.useEffect(()=>()=>{Object.values(h.current).forEach(O=>{O&&clearTimeout(O)})},[]);const x=[...e].sort((O,L)=>{let z,re;switch(p){case"name":z=O.name.toLowerCase(),re=L.name.toLowerCase();break;case"salary":z=n[O.id]||O.salary||0,re=n[L.id]||L.salary||0;break;case"payDay":z=O.payDay||1,re=L.payDay||1;break;default:return 0}return z<re?v==="asc"?-1:1:z>re?v==="asc"?1:-1:0}).map(O=>({id:O.id,employeeId:O.id,employeeName:O.name,amount:n[O.id]||O.salary||0,status:Math.random()>.5?"paid":"pending",dueDate:new Date().toISOString(),paidDate:Math.random()>.5?new Date().toISOString():void 0})),_=async(O,L)=>{if(t!=null&&t.uid){l(z=>({...z,[O]:!0}));try{await r.mutateAsync({userId:t.uid,id:O,data:{salary:L,updatedAt:new Date}}),Ge.success("Salário atualizado com sucesso!")}catch(z){console.error("Erro ao atualizar salário:",z),Ge.error("Erro ao atualizar salário. Tente novamente.")}finally{l(z=>({...z,[O]:!1}))}}},A=(O,L)=>{const z=parseFloat(L)||0;i(re=>({...re,[O]:z})),h.current[O]&&clearTimeout(h.current[O]),h.current[O]=setTimeout(()=>{_(O,z)},2e3)},N=O=>{d(L=>({...L,[O]:!0}))},I=O=>{d(L=>({...L,[O]:!1}))},P=O=>{p===O?m(v==="asc"?"desc":"asc"):(f(O),m("asc"))},E=O=>{o(L=>({...L,[O]:L[O]==="paid"?"pending":"paid"})),Ge.success("Status atualizado!")},k=O=>a[O.id]||O.status,D=x.filter(O=>k(O)==="pending").reduce((O,L)=>O+L.amount,0),C=x.filter(O=>k(O)==="paid").reduce((O,L)=>O+L.amount,0);return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Pagamentos"}),u.jsx("p",{className:"text-muted-foreground",children:"Gerencie os pagamentos dos funcionários"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total a Pagar"}),u.jsxs("p",{className:"text-3xl font-bold text-warning",children:["R$ ",D.toLocaleString("pt-BR")]})]}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total Pago"}),u.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",C.toLocaleString("pt-BR")]})]}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total Geral"}),u.jsxs("p",{className:"text-3xl font-bold",children:["R$ ",(D+C).toLocaleString("pt-BR")]})]})]}),u.jsx(rt,{className:"p-4 shadow-card",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Ordenar por:"}),u.jsxs(ci,{value:p,onValueChange:O=>f(O),children:[u.jsx(Qn,{className:"w-40",children:u.jsx(ui,{})}),u.jsxs(Jn,{children:[u.jsx($r,{value:"name",children:"Nome"}),u.jsx($r,{value:"salary",children:"Salário"}),u.jsx($r,{value:"payDay",children:"Dia do Pagamento"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Ordem:"}),u.jsxs(ci,{value:v,onValueChange:O=>m(O),children:[u.jsx(Qn,{className:"w-32",children:u.jsx(ui,{})}),u.jsxs(Jn,{children:[u.jsx($r,{value:"asc",children:"Crescente"}),u.jsx($r,{value:"desc",children:"Decrescente"})]})]})]})]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[x.length," funcionário(s) encontrado(s)"]})]})}),u.jsx(rt,{className:"shadow-card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-4 font-semibold",children:u.jsxs("button",{onClick:()=>P("name"),className:"flex items-center gap-2 hover:text-primary transition-colors cursor-pointer",children:["Funcionário",p==="name"&&u.jsx("span",{className:"text-primary text-xs",children:v==="asc"?"↑":"↓"})]})}),u.jsx("th",{className:"text-left p-4 font-semibold",children:u.jsxs("button",{onClick:()=>P("salary"),className:"flex items-center gap-2 hover:text-primary transition-colors cursor-pointer",children:["Valor",p==="salary"&&u.jsx("span",{className:"text-primary text-xs",children:v==="asc"?"↑":"↓"})]})}),u.jsx("th",{className:"text-left p-4 font-semibold",children:u.jsxs("button",{onClick:()=>P("payDay"),className:"flex items-center gap-2 hover:text-primary transition-colors cursor-pointer",children:["Vencimento",p==="payDay"&&u.jsx("span",{className:"text-primary text-xs",children:v==="asc"?"↑":"↓"})]})}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Ações"})]})}),u.jsx("tbody",{children:x.map(O=>u.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[u.jsx("td",{className:"p-4 font-medium",children:O.employeeName}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"relative",children:[u.jsx(Vt,{type:"number",value:c[O.employeeId]&&(n[O.employeeId]||0)===0?"":n[O.employeeId]||0,className:"w-32 pr-8",placeholder:"0,00",onChange:L=>A(O.employeeId,L.target.value),onFocus:()=>N(O.employeeId),onBlur:()=>I(O.employeeId)}),s[O.employeeId]&&u.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})})]})}),u.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(O.dueDate).toLocaleDateString("pt-BR")}),u.jsx("td",{className:"p-4",children:u.jsx(mr,{variant:k(O)==="paid"?"default":"secondary",children:k(O)==="paid"?"Pago":"Pendente"})}),u.jsx("td",{className:"p-4",children:u.jsx(He,{size:"sm",variant:k(O)==="paid"?"outline":"default",onClick:()=>E(O.id),children:k(O)==="paid"?"Marcar como Pendente":"Marcar como Pago"})})]},O.id))})]})})}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx(He,{variant:"outline",children:"Exportar"}),u.jsx(He,{variant:"success",children:"Processar Pagamentos"})]})]})})};var Ht=function(){return Ht=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ht.apply(this,arguments)};function _5e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function PQ(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Gx(t){return t.mode==="multiple"}function Kx(t){return t.mode==="range"}function JA(t){return t.mode==="single"}var S5e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function A5e(t,e){return fa(t,"LLLL y",e)}function E5e(t,e){return fa(t,"d",e)}function N5e(t,e){return fa(t,"LLLL",e)}function P5e(t){return"".concat(t)}function T5e(t,e){return fa(t,"cccccc",e)}function j5e(t,e){return fa(t,"yyyy",e)}var C5e=Object.freeze({__proto__:null,formatCaption:A5e,formatDay:E5e,formatMonthCaption:N5e,formatWeekNumber:P5e,formatWeekdayName:T5e,formatYearCaption:j5e}),k5e=function(t,e,r){return fa(t,"do MMMM (EEEE)",r)},I5e=function(){return"Month: "},O5e=function(){return"Go to next month"},R5e=function(){return"Go to previous month"},D5e=function(t,e){return fa(t,"cccc",e)},L5e=function(t){return"Week n. ".concat(t)},M5e=function(){return"Year: "},$5e=Object.freeze({__proto__:null,labelDay:k5e,labelMonthDropdown:I5e,labelNext:O5e,labelPrevious:R5e,labelWeekNumber:L5e,labelWeekday:D5e,labelYearDropdown:M5e});function F5e(){var t="buttons",e=S5e,r=YX,n={},i={},a=1,o={},s=new Date;return{captionLayout:t,classNames:e,formatters:C5e,labels:$5e,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:o,today:s,mode:"default"}}function B5e(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,a=t.fromDate,o=t.toDate;return n?a=Co(n):e&&(a=new Date(e,0,1)),i?o=R3(i):r&&(o=new Date(r,11,31)),{fromDate:a?Lv(a):void 0,toDate:o?Lv(o):void 0}}var TQ=j.createContext(void 0);function U5e(t){var e,r=t.initialProps,n=F5e(),i=B5e(r),a=i.fromDate,o=i.toDate,s=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;s!=="buttons"&&(!a||!o)&&(s="buttons");var l;(JA(r)||Gx(r)||Kx(r))&&(l=r.onSelect);var c=Ht(Ht(Ht({},n),r),{captionLayout:s,classNames:Ht(Ht({},n.classNames),r.classNames),components:Ht({},r.components),formatters:Ht(Ht({},n.formatters),r.formatters),fromDate:a,labels:Ht(Ht({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ht(Ht({},n.modifiers),r.modifiers),modifiersClassNames:Ht(Ht({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:Ht(Ht({},n.styles),r.styles),toDate:o});return u.jsx(TQ.Provider,{value:c,children:t.children})}function On(){var t=j.useContext(TQ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function jQ(t){var e=On(),r=e.locale,n=e.classNames,i=e.styles,a=e.formatters.formatCaption;return u.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function V5e(t){return u.jsx("svg",Ht({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function CQ(t){var e,r,n=t.onChange,i=t.value,a=t.children,o=t.caption,s=t.className,l=t.style,c=On(),d=(r=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:V5e;return u.jsxs("div",{className:s,style:l,children:[u.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:n,children:a}),u.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,u.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function z5e(t){var e,r=On(),n=r.fromDate,i=r.toDate,a=r.styles,o=r.locale,s=r.formatters.formatMonthCaption,l=r.classNames,c=r.components,d=r.labels.labelMonthDropdown;if(!n)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});var h=[];if($we(n,i))for(var p=Co(n),f=n.getMonth();f<=i.getMonth();f++)h.push(_P(p,f));else for(var p=Co(new Date),f=0;f<=11;f++)h.push(_P(p,f));var v=function(g){var y=Number(g.target.value),x=_P(Co(t.displayMonth),y);t.onChange(x)},m=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:CQ;return u.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:a.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:s(t.displayMonth,{locale:o}),children:h.map(function(g){return u.jsx("option",{value:g.getMonth(),children:s(g,{locale:o})},g.getMonth())})})}function q5e(t){var e,r=t.displayMonth,n=On(),i=n.fromDate,a=n.toDate,o=n.locale,s=n.styles,l=n.classNames,c=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,p=[];if(!i)return u.jsx(u.Fragment,{});if(!a)return u.jsx(u.Fragment,{});for(var f=i.getFullYear(),v=a.getFullYear(),m=f;m<=v;m++)p.push(K8(GX(new Date),m));var g=function(x){var _=K8(Co(r),Number(x.target.value));t.onChange(_)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:CQ;return u.jsx(y,{name:"years","aria-label":h(),className:l.dropdown_year,style:s.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:o}),children:p.map(function(x){return u.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function W5e(t,e){var r=j.useState(t),n=r[0],i=r[1],a=e===void 0?n:e;return[a,i]}function H5e(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,a=t.toDate,o=t.fromDate,s=t.numberOfMonths,l=s===void 0?1:s;if(a&&_b(a,i)<0){var c=-1*(l-1);i=kl(a,c)}return o&&_b(i,o)<0&&(i=o),Co(i)}function G5e(){var t=On(),e=H5e(t),r=W5e(e,t.month),n=r[0],i=r[1],a=function(o){var s;if(!t.disableNavigation){var l=Co(o);i(l),(s=t.onMonthChange)===null||s===void 0||s.call(t,l)}};return[n,a]}function K5e(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=Co(t),a=Co(kl(i,n)),o=_b(a,i),s=[],l=0;l<o;l++){var c=kl(i,l);s.push(c)}return r&&(s=s.reverse()),s}function Y5e(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=n?a:1,s=Co(t);if(!r)return kl(s,o);var l=_b(r,t);if(!(l<a))return kl(s,o)}}function X5e(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=n?a:1,s=Co(t);if(!r)return kl(s,-o);var l=_b(s,r);if(!(l<=0))return kl(s,-o)}}var kQ=j.createContext(void 0);function Q5e(t){var e=On(),r=G5e(),n=r[0],i=r[1],a=K5e(n,e),o=Y5e(n,e),s=X5e(n,e),l=function(h){return a.some(function(p){return M3(h,p)})},c=function(h,p){l(h)||(p&&eQ(h,p)?i(kl(h,1+e.numberOfMonths*-1)):i(h))},d={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:c,previousMonth:s,nextMonth:o,isDateDisplayed:l};return u.jsx(kQ.Provider,{value:d,children:t.children})}function Yx(){var t=j.useContext(kQ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function p$(t){var e,r=On(),n=r.classNames,i=r.styles,a=r.components,o=Yx().goToMonth,s=function(d){o(kl(d,t.displayIndex?-t.displayIndex:0))},l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:jQ,c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[u.jsx("div",{className:n.vhidden,children:c}),u.jsx(z5e,{onChange:s,displayMonth:t.displayMonth}),u.jsx(q5e,{onChange:s,displayMonth:t.displayMonth})]})}function J5e(t){return u.jsx("svg",Ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Z5e(t){return u.jsx("svg",Ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var CS=j.forwardRef(function(t,e){var r=On(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var o=a.join(" "),s=Ht(Ht({},i.button_reset),i.button);return t.style&&Object.assign(s,t.style),u.jsx("button",Ht({},t,{ref:e,type:"button",className:o,style:s}))});function eAe(t){var e,r,n=On(),i=n.dir,a=n.locale,o=n.classNames,s=n.styles,l=n.labels,c=l.labelPrevious,d=l.labelNext,h=n.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var p=c(t.previousMonth,{locale:a}),f=[o.nav_button,o.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:a}),m=[o.nav_button,o.nav_button_next].join(" "),g=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:Z5e,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:J5e;return u.jsxs("div",{className:o.nav,style:s.nav,children:[!t.hidePrevious&&u.jsx(CS,{name:"previous-month","aria-label":p,className:f,style:s.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?u.jsx(g,{className:o.nav_icon,style:s.nav_icon}):u.jsx(y,{className:o.nav_icon,style:s.nav_icon})}),!t.hideNext&&u.jsx(CS,{name:"next-month","aria-label":v,className:m,style:s.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?u.jsx(y,{className:o.nav_icon,style:s.nav_icon}):u.jsx(g,{className:o.nav_icon,style:s.nav_icon})})]})}function m$(t){var e=On().numberOfMonths,r=Yx(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,o=r.displayMonths,s=o.findIndex(function(v){return M3(t.displayMonth,v)}),l=s===0,c=s===o.length-1,d=e>1&&(l||!c),h=e>1&&(c||!l),p=function(){n&&a(n)},f=function(){i&&a(i)};return u.jsx(eAe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:i,previousMonth:n,onPreviousClick:p,onNextClick:f})}function tAe(t){var e,r=On(),n=r.classNames,i=r.disableNavigation,a=r.styles,o=r.captionLayout,s=r.components,l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:jQ,c;return i?c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=u.jsx(p$,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=u.jsxs(u.Fragment,{children:[u.jsx(p$,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(m$,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(m$,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:n.caption,style:a.caption,children:c})}function rAe(t){var e=On(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?u.jsx("tfoot",{className:i,style:n.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:r})})}):u.jsx(u.Fragment,{})}function nAe(t,e,r){for(var n=r?em(new Date):Oc(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var o=Xa(n,a);i.push(o)}return i}function iAe(){var t=On(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,o=t.ISOWeek,s=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=nAe(i,a,o);return u.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&u.jsx("td",{style:r.head_cell,className:e.head_cell}),c.map(function(d,h){return u.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":l(d,{locale:i}),children:s(d,{locale:i})},h)})]})}function aAe(){var t,e=On(),r=e.classNames,n=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:iAe;return u.jsx("thead",{style:n.head,className:r.head,children:u.jsx(a,{})})}function oAe(t){var e=On(),r=e.locale,n=e.formatters.formatDay;return u.jsx(u.Fragment,{children:n(t.date,{locale:r})})}var z3=j.createContext(void 0);function sAe(t){if(!Gx(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(z3.Provider,{value:e,children:t.children})}return u.jsx(lAe,{initialProps:t.initialProps,children:t.children})}function lAe(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,a=e.max,o=function(c,d,h){var p,f;(p=e.onDayClick)===null||p===void 0||p.call(e,c,d,h);var v=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var m=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!m){var g=n?PQ([],n):[];if(d.selected){var y=g.findIndex(function(x){return Ao(c,x)});g.splice(y,1)}else g.push(c);(f=e.onSelect)===null||f===void 0||f.call(e,g,c,d,h)}}},s={disabled:[]};n&&s.disabled.push(function(c){var d=a&&n.length>a-1,h=n.some(function(p){return Ao(p,c)});return!!(d&&!h)});var l={selected:n,onDayClick:o,modifiers:s};return u.jsx(z3.Provider,{value:l,children:r})}function q3(){var t=j.useContext(z3);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function cAe(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?Ao(i,t)&&Ao(n,t)?void 0:Ao(i,t)?{from:i,to:void 0}:Ao(n,t)?void 0:VC(n,t)?{from:t,to:i}:{from:n,to:t}:i?VC(t,i)?{from:i,to:t}:{from:t,to:i}:n?eQ(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var W3=j.createContext(void 0);function uAe(t){if(!Kx(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(W3.Provider,{value:e,children:t.children})}return u.jsx(dAe,{initialProps:t.initialProps,children:t.children})}function dAe(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},a=i.from,o=i.to,s=e.min,l=e.max,c=function(f,v,m){var g,y;(g=e.onDayClick)===null||g===void 0||g.call(e,f,v,m);var x=cAe(f,n);(y=e.onSelect)===null||y===void 0||y.call(e,x,f,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],Ao(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),s&&(a&&!o&&d.disabled.push({after:wP(a,s-1),before:Xa(a,s-1)}),a&&o&&d.disabled.push({after:a,before:Xa(a,s-1)}),!a&&o&&d.disabled.push({after:wP(o,s-1),before:Xa(o,s-1)})),l){if(a&&!o&&(d.disabled.push({before:Xa(a,-l+1)}),d.disabled.push({after:Xa(a,l-1)})),a&&o){var h=fc(o,a)+1,p=l-h;d.disabled.push({before:wP(a,p)}),d.disabled.push({after:Xa(o,p)})}!a&&o&&(d.disabled.push({before:Xa(o,-l+1)}),d.disabled.push({after:Xa(o,l-1)}))}return u.jsx(W3.Provider,{value:{selected:n,onDayClick:c,modifiers:d},children:r})}function H3(){var t=j.useContext(W3);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function h_(t){return Array.isArray(t)?PQ([],t):t!==void 0?[t]:[]}function hAe(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=h_(i)}),e}var Il;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Il||(Il={}));var fAe=Il.Selected,iu=Il.Disabled,pAe=Il.Hidden,mAe=Il.Today,IP=Il.RangeEnd,OP=Il.RangeMiddle,RP=Il.RangeStart,gAe=Il.Outside;function vAe(t,e,r){var n,i=(n={},n[fAe]=h_(t.selected),n[iu]=h_(t.disabled),n[pAe]=h_(t.hidden),n[mAe]=[t.today],n[IP]=[],n[OP]=[],n[RP]=[],n[gAe]=[],n);return t.fromDate&&i[iu].push({before:t.fromDate}),t.toDate&&i[iu].push({after:t.toDate}),Gx(t)?i[iu]=i[iu].concat(e.modifiers[iu]):Kx(t)&&(i[iu]=i[iu].concat(r.modifiers[iu]),i[RP]=r.modifiers[RP],i[OP]=r.modifiers[OP],i[IP]=r.modifiers[IP]),i}var IQ=j.createContext(void 0);function yAe(t){var e=On(),r=q3(),n=H3(),i=vAe(e,r,n),a=hAe(e.modifiers),o=Ht(Ht({},i),a);return u.jsx(IQ.Provider,{value:o,children:t.children})}function OQ(){var t=j.useContext(IQ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function bAe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function xAe(t){return!!(t&&typeof t=="object"&&"from"in t)}function wAe(t){return!!(t&&typeof t=="object"&&"after"in t)}function _Ae(t){return!!(t&&typeof t=="object"&&"before"in t)}function SAe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function AAe(t,e){var r,n=e.from,i=e.to;if(n&&i){var a=fc(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var o=fc(t,n)>=0&&fc(i,t)>=0;return o}return i?Ao(i,t):n?Ao(n,t):!1}function EAe(t){return O3(t)}function NAe(t){return Array.isArray(t)&&t.every(O3)}function PAe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(EAe(r))return Ao(t,r);if(NAe(r))return r.includes(t);if(xAe(r))return AAe(t,r);if(SAe(r))return r.dayOfWeek.includes(t.getDay());if(bAe(r)){var n=fc(r.before,t),i=fc(r.after,t),a=n>0,o=i<0,s=VC(r.before,r.after);return s?o&&a:a||o}return wAe(r)?fc(t,r.after)>0:_Ae(r)?fc(r.before,t)>0:typeof r=="function"?r(t):!1})}function G3(t,e,r){var n=Object.keys(e).reduce(function(a,o){var s=e[o];return PAe(t,s)&&a.push(o),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!M3(t,r)&&(i.outside=!0),i}function TAe(t,e){for(var r=Co(t[0]),n=R3(t[t.length-1]),i,a,o=r;o<=n;){var s=G3(o,e),l=!s.disabled&&!s.hidden;if(!l){o=Xa(o,1);continue}if(s.selected)return o;s.today&&!a&&(a=o),i||(i=o),o=Xa(o,1)}return a||i}var jAe=365;function RQ(t,e){var r=e.moveBy,n=e.direction,i=e.context,a=e.modifiers,o=e.retry,s=o===void 0?{count:0,lastFocused:t}:o,l=i.weekStartsOn,c=i.fromDate,d=i.toDate,h=i.locale,p={day:Xa,week:UC,month:kl,year:Dxe,startOfWeek:function(g){return i.ISOWeek?em(g):Oc(g,{locale:h,weekStartsOn:l})},endOfWeek:function(g){return i.ISOWeek?KX(g):D3(g,{locale:h,weekStartsOn:l})}},f=p[r](t,n==="after"?1:-1);n==="before"&&c?f=Lxe([c,f]):n==="after"&&d&&(f=Mxe([d,f]));var v=!0;if(a){var m=G3(f,a);v=!m.disabled&&!m.hidden}return v?f:s.count>jAe?s.lastFocused:RQ(f,{moveBy:r,direction:n,context:i,modifiers:a,retry:Ht(Ht({},s),{count:s.count+1})})}var DQ=j.createContext(void 0);function CAe(t){var e=Yx(),r=OQ(),n=j.useState(),i=n[0],a=n[1],o=j.useState(),s=o[0],l=o[1],c=TAe(e.displayMonths,r),d=i??(s&&e.isDateDisplayed(s))?s:c,h=function(){l(i),a(void 0)},p=function(g){a(g)},f=On(),v=function(g,y){if(i){var x=RQ(i,{moveBy:g,direction:y,context:f,modifiers:r});Ao(i,x)||(e.goToDate(x,i),p(x))}},m={focusedDay:i,focusTarget:d,blur:h,focus:p,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return u.jsx(DQ.Provider,{value:m,children:t.children})}function K3(){var t=j.useContext(DQ);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function kAe(t,e){var r=OQ(),n=G3(t,r,e);return n}var Y3=j.createContext(void 0);function IAe(t){if(!JA(t.initialProps)){var e={selected:void 0};return u.jsx(Y3.Provider,{value:e,children:t.children})}return u.jsx(OAe,{initialProps:t.initialProps,children:t.children})}function OAe(t){var e=t.initialProps,r=t.children,n=function(a,o,s){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,a,o,s),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,a,o,s);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,o,s)},i={selected:e.selected,onDayClick:n};return u.jsx(Y3.Provider,{value:i,children:r})}function LQ(){var t=j.useContext(Y3);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function RAe(t,e){var r=On(),n=LQ(),i=q3(),a=H3(),o=K3(),s=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,p=o.focus,f=o.focusMonthBefore,v=o.focusMonthAfter,m=o.focusYearBefore,g=o.focusYearAfter,y=o.focusStartOfWeek,x=o.focusEndOfWeek,_=function(K){var q,Z,ye,ce;JA(r)?(q=n.onDayClick)===null||q===void 0||q.call(n,t,e,K):Gx(r)?(Z=i.onDayClick)===null||Z===void 0||Z.call(i,t,e,K):Kx(r)?(ye=a.onDayClick)===null||ye===void 0||ye.call(a,t,e,K):(ce=r.onDayClick)===null||ce===void 0||ce.call(r,t,e,K)},A=function(K){var q;p(t),(q=r.onDayFocus)===null||q===void 0||q.call(r,t,e,K)},N=function(K){var q;h(),(q=r.onDayBlur)===null||q===void 0||q.call(r,t,e,K)},I=function(K){var q;(q=r.onDayMouseEnter)===null||q===void 0||q.call(r,t,e,K)},P=function(K){var q;(q=r.onDayMouseLeave)===null||q===void 0||q.call(r,t,e,K)},E=function(K){var q;(q=r.onDayPointerEnter)===null||q===void 0||q.call(r,t,e,K)},k=function(K){var q;(q=r.onDayPointerLeave)===null||q===void 0||q.call(r,t,e,K)},D=function(K){var q;(q=r.onDayTouchCancel)===null||q===void 0||q.call(r,t,e,K)},C=function(K){var q;(q=r.onDayTouchEnd)===null||q===void 0||q.call(r,t,e,K)},O=function(K){var q;(q=r.onDayTouchMove)===null||q===void 0||q.call(r,t,e,K)},L=function(K){var q;(q=r.onDayTouchStart)===null||q===void 0||q.call(r,t,e,K)},z=function(K){var q;(q=r.onDayKeyUp)===null||q===void 0||q.call(r,t,e,K)},re=function(K){var q;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?s():l();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?l():s();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),c();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),d();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?m():f();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?g():v();break;case"Home":K.preventDefault(),K.stopPropagation(),y();break;case"End":K.preventDefault(),K.stopPropagation(),x();break}(q=r.onDayKeyDown)===null||q===void 0||q.call(r,t,e,K)},Y={onClick:_,onFocus:A,onBlur:N,onKeyDown:re,onKeyUp:z,onMouseEnter:I,onMouseLeave:P,onPointerEnter:E,onPointerLeave:k,onTouchCancel:D,onTouchEnd:C,onTouchMove:O,onTouchStart:L};return Y}function DAe(){var t=On(),e=LQ(),r=q3(),n=H3(),i=JA(t)?e.selected:Gx(t)?r.selected:Kx(t)?n.selected:void 0;return i}function LAe(t){return Object.values(Il).includes(t)}function MAe(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(LAe(n)){var a=t.classNames["day_".concat(n)];a&&r.push(a)}}),r}function $Ae(t,e){var r=Ht({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=Ht(Ht({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function FAe(t,e,r){var n,i,a,o=On(),s=K3(),l=kAe(t,e),c=RAe(t,l),d=DAe(),h=!!(o.onDayClick||o.mode!=="default");j.useEffect(function(){var I;l.outside||s.focusedDay&&h&&Ao(s.focusedDay,t)&&((I=r.current)===null||I===void 0||I.focus())},[s.focusedDay,t,r,h,l.outside]);var p=MAe(o,l).join(" "),f=$Ae(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),m=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:oAe,g=u.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),y={style:f,className:p,children:g,role:"gridcell"},x=s.focusTarget&&Ao(s.focusTarget,t)&&!l.outside,_=s.focusedDay&&Ao(s.focusedDay,t),A=Ht(Ht(Ht({},y),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=_||x?0:-1,n)),c),N={isButton:h,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:A,divProps:y};return N}function BAe(t){var e=j.useRef(null),r=FAe(t.date,t.displayMonth,e);return r.isHidden?u.jsx("div",{role:"gridcell"}):r.isButton?u.jsx(CS,Ht({name:"day",ref:e},r.buttonProps)):u.jsx("div",Ht({},r.divProps))}function UAe(t){var e=t.number,r=t.dates,n=On(),i=n.onWeekNumberClick,a=n.styles,o=n.classNames,s=n.locale,l=n.labels.labelWeekNumber,c=n.formatters.formatWeekNumber,d=c(Number(e),{locale:s});if(!i)return u.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var h=l(Number(e),{locale:s}),p=function(f){i(e,r,f)};return u.jsx(CS,{name:"week-number","aria-label":h,className:o.weeknumber,style:a.weeknumber,onClick:p,children:d})}function VAe(t){var e,r,n=On(),i=n.styles,a=n.classNames,o=n.showWeekNumber,s=n.components,l=(e=s==null?void 0:s.Day)!==null&&e!==void 0?e:BAe,c=(r=s==null?void 0:s.WeekNumber)!==null&&r!==void 0?r:UAe,d;return o&&(d=u.jsx("td",{className:a.cell,style:i.cell,children:u.jsx(c,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:a.row,style:i.row,children:[d,t.dates.map(function(h){return u.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:u.jsx(l,{displayMonth:t.displayMonth,date:h})},Dwe(h))})]})}function g$(t,e,r){for(var n=r!=null&&r.ISOWeek?KX(e):D3(e,r),i=r!=null&&r.ISOWeek?em(t):Oc(t,r),a=fc(n,i),o=[],s=0;s<=a;s++)o.push(Xa(i,s));var l=o.reduce(function(c,d){var h=r!=null&&r.ISOWeek?XX(d):JX(d,r),p=c.find(function(f){return f.weekNumber===h});return p?(p.dates.push(d),c):(c.push({weekNumber:h,dates:[d]}),c)},[]);return l}function zAe(t,e){var r=g$(Co(t),R3(t),e);if(e!=null&&e.useFixedWeeks){var n=Mwe(t,e);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],o=UC(a,6-n),s=g$(UC(a,1),o,e);r.push.apply(r,s)}}return r}function qAe(t){var e,r,n,i=On(),a=i.locale,o=i.classNames,s=i.styles,l=i.hideHead,c=i.fixedWeeks,d=i.components,h=i.weekStartsOn,p=i.firstWeekContainsDate,f=i.ISOWeek,v=zAe(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:f,locale:a,weekStartsOn:h,firstWeekContainsDate:p}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:aAe,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:VAe,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:rAe;return u.jsxs("table",{id:t.id,className:o.table,style:s.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&u.jsx(m,{}),u.jsx("tbody",{className:o.tbody,style:s.tbody,children:v.map(function(x){return u.jsx(g,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),u.jsx(y,{displayMonth:t.displayMonth})]})}function WAe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var HAe=WAe()?j.useLayoutEffect:j.useEffect,DP=!1,GAe=0;function v$(){return"react-day-picker-".concat(++GAe)}function KAe(t){var e,r=t??(DP?v$():null),n=j.useState(r),i=n[0],a=n[1];return HAe(function(){i===null&&a(v$())},[]),j.useEffect(function(){DP===!1&&(DP=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function YAe(t){var e,r,n=On(),i=n.dir,a=n.classNames,o=n.styles,s=n.components,l=Yx().displayMonths,c=KAe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,h=[a.month],p=o.month,f=t.displayIndex===0,v=t.displayIndex===l.length-1,m=!f&&!v;i==="rtl"&&(e=[f,v],v=e[0],f=e[1]),f&&(h.push(a.caption_start),p=Ht(Ht({},p),o.caption_start)),v&&(h.push(a.caption_end),p=Ht(Ht({},p),o.caption_end)),m&&(h.push(a.caption_between),p=Ht(Ht({},p),o.caption_between));var g=(r=s==null?void 0:s.Caption)!==null&&r!==void 0?r:tAe;return u.jsxs("div",{className:h.join(" "),style:p,children:[u.jsx(g,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(qAe,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function XAe(t){var e=On(),r=e.classNames,n=e.styles;return u.jsx("div",{className:r.months,style:n.months,children:t.children})}function QAe(t){var e,r,n=t.initialProps,i=On(),a=K3(),o=Yx(),s=j.useState(!1),l=s[0],c=s[1];j.useEffect(function(){i.initialFocus&&a.focusTarget&&(l||(a.focus(a.focusTarget),c(!0)))},[i.initialFocus,l,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var h=Ht(Ht({},i.styles.root),i.style),p=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var g;return Ht(Ht({},v),(g={},g[m]=n[m],g))},{}),f=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:XAe;return u.jsx("div",Ht({className:d.join(" "),style:h,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:u.jsx(f,{children:o.displayMonths.map(function(v,m){return u.jsx(YAe,{displayIndex:m,displayMonth:v},m)})})}))}function JAe(t){var e=t.children,r=_5e(t,["children"]);return u.jsx(U5e,{initialProps:r,children:u.jsx(Q5e,{children:u.jsx(IAe,{initialProps:r,children:u.jsx(sAe,{initialProps:r,children:u.jsx(uAe,{initialProps:r,children:u.jsx(yAe,{children:u.jsx(CAe,{children:e})})})})})})})}function ZAe(t){return u.jsx(JAe,Ht({},t,{children:u.jsx(QAe,{initialProps:t})}))}function MQ({className:t,classNames:e,showOutsideDays:r=!0,...n}){return u.jsx(ZAe,{showOutsideDays:r,className:yt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:yt(xb({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:yt(xb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>u.jsx(Wq,{className:"h-4 w-4"}),IconRight:({...i})=>u.jsx(HI,{className:"h-4 w-4"})},...n})}MQ.displayName="Calendar";var ZA="Popover",[$Q,uZe]=ds(ZA,[by]),Xx=by(),[eEe,xf]=$Q(ZA),FQ=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=Xx(e),l=j.useRef(null),[c,d]=j.useState(!1),[h,p]=El({prop:n,defaultProp:i??!1,onChange:a,caller:ZA});return u.jsx(OW,{...s,children:u.jsx(eEe,{scope:e,contentId:wl(),triggerRef:l,open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:c,onCustomAnchorAdd:j.useCallback(()=>d(!0),[]),onCustomAnchorRemove:j.useCallback(()=>d(!1),[]),modal:o,children:r})})};FQ.displayName=ZA;var BQ="PopoverAnchor",tEe=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=xf(BQ,r),a=Xx(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return j.useEffect(()=>(o(),()=>s()),[o,s]),u.jsx(lA,{...a,...n,ref:e})});tEe.displayName=BQ;var UQ="PopoverTrigger",VQ=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=xf(UQ,r),a=Xx(r),o=Or(e,i.triggerRef),s=u.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":GQ(i.open),...n,ref:o,onClick:jt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:u.jsx(lA,{asChild:!0,...a,children:s})});VQ.displayName=UQ;var X3="PopoverPortal",[rEe,nEe]=$Q(X3,{forceMount:void 0}),zQ=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=xf(X3,e);return u.jsx(rEe,{scope:e,forceMount:r,children:u.jsx(Dc,{present:r||a.open,children:u.jsx(Sx,{asChild:!0,container:i,children:n})})})};zQ.displayName=X3;var $v="PopoverContent",qQ=j.forwardRef((t,e)=>{const r=nEe($v,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=xf($v,t.__scopePopover);return u.jsx(Dc,{present:n||a.open,children:a.modal?u.jsx(aEe,{...i,ref:e}):u.jsx(oEe,{...i,ref:e})})});qQ.displayName=$v;var iEe=$p("PopoverContent.RemoveScroll"),aEe=j.forwardRef((t,e)=>{const r=xf($v,t.__scopePopover),n=j.useRef(null),i=Or(e,n),a=j.useRef(!1);return j.useEffect(()=>{const o=n.current;if(o)return y3(o)},[]),u.jsx(VA,{as:iEe,allowPinchZoom:!0,children:u.jsx(WQ,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:jt(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:jt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),oEe=j.forwardRef((t,e)=>{const r=xf($v,t.__scopePopover),n=j.useRef(!1),i=j.useRef(!1);return u.jsx(WQ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),WQ=j.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=t,p=xf($v,r),f=Xx(r);return v3(),u.jsx(BA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(my,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:u.jsx(iO,{"data-state":GQ(p.open),role:"dialog",id:p.contentId,...f,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HQ="PopoverClose",sEe=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=xf(HQ,r);return u.jsx(Wt.button,{type:"button",...n,ref:e,onClick:jt(t.onClick,()=>i.onOpenChange(!1))})});sEe.displayName=HQ;var lEe="PopoverArrow",cEe=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Xx(r);return u.jsx(aO,{...i,...n,ref:e})});cEe.displayName=lEe;function GQ(t){return t?"open":"closed"}var uEe=FQ,dEe=VQ,hEe=zQ,KQ=qQ;const fEe=uEe,pEe=dEe,YQ=j.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>u.jsx(hEe,{children:u.jsx(KQ,{ref:i,align:e,sideOffset:r,className:yt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));YQ.displayName=KQ.displayName;var mEe=Array.isArray,ko=mEe,gEe=typeof Da=="object"&&Da&&Da.Object===Object&&Da,XQ=gEe,vEe=XQ,yEe=typeof self=="object"&&self&&self.Object===Object&&self,bEe=vEe||yEe||Function("return this")(),$c=bEe,xEe=$c,wEe=xEe.Symbol,Qx=wEe,y$=Qx,QQ=Object.prototype,_Ee=QQ.hasOwnProperty,SEe=QQ.toString,j0=y$?y$.toStringTag:void 0;function AEe(t){var e=_Ee.call(t,j0),r=t[j0];try{t[j0]=void 0;var n=!0}catch{}var i=SEe.call(t);return n&&(e?t[j0]=r:delete t[j0]),i}var EEe=AEe,NEe=Object.prototype,PEe=NEe.toString;function TEe(t){return PEe.call(t)}var jEe=TEe,b$=Qx,CEe=EEe,kEe=jEe,IEe="[object Null]",OEe="[object Undefined]",x$=b$?b$.toStringTag:void 0;function REe(t){return t==null?t===void 0?OEe:IEe:x$&&x$ in Object(t)?CEe(t):kEe(t)}var nd=REe;function DEe(t){return t!=null&&typeof t=="object"}var id=DEe,LEe=nd,MEe=id,$Ee="[object Symbol]";function FEe(t){return typeof t=="symbol"||MEe(t)&&LEe(t)==$Ee}var Ly=FEe,BEe=ko,UEe=Ly,VEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zEe=/^\w*$/;function qEe(t,e){if(BEe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||UEe(t)?!0:zEe.test(t)||!VEe.test(t)||e!=null&&t in Object(e)}var Q3=qEe;function WEe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wf=WEe;const My=Qr(wf);var HEe=nd,GEe=wf,KEe="[object AsyncFunction]",YEe="[object Function]",XEe="[object GeneratorFunction]",QEe="[object Proxy]";function JEe(t){if(!GEe(t))return!1;var e=HEe(t);return e==YEe||e==XEe||e==KEe||e==QEe}var J3=JEe;const Zt=Qr(J3);var ZEe=$c,eNe=ZEe["__core-js_shared__"],tNe=eNe,LP=tNe,w$=function(){var t=/[^.]+$/.exec(LP&&LP.keys&&LP.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function rNe(t){return!!w$&&w$ in t}var nNe=rNe,iNe=Function.prototype,aNe=iNe.toString;function oNe(t){if(t!=null){try{return aNe.call(t)}catch{}try{return t+""}catch{}}return""}var JQ=oNe,sNe=J3,lNe=nNe,cNe=wf,uNe=JQ,dNe=/[\\^$.*+?()[\]{}|]/g,hNe=/^\[object .+?Constructor\]$/,fNe=Function.prototype,pNe=Object.prototype,mNe=fNe.toString,gNe=pNe.hasOwnProperty,vNe=RegExp("^"+mNe.call(gNe).replace(dNe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yNe(t){if(!cNe(t)||lNe(t))return!1;var e=sNe(t)?vNe:hNe;return e.test(uNe(t))}var bNe=yNe;function xNe(t,e){return t==null?void 0:t[e]}var wNe=xNe,_Ne=bNe,SNe=wNe;function ANe(t,e){var r=SNe(t,e);return _Ne(r)?r:void 0}var bm=ANe,ENe=bm,NNe=ENe(Object,"create"),eE=NNe,_$=eE;function PNe(){this.__data__=_$?_$(null):{},this.size=0}var TNe=PNe;function jNe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var CNe=jNe,kNe=eE,INe="__lodash_hash_undefined__",ONe=Object.prototype,RNe=ONe.hasOwnProperty;function DNe(t){var e=this.__data__;if(kNe){var r=e[t];return r===INe?void 0:r}return RNe.call(e,t)?e[t]:void 0}var LNe=DNe,MNe=eE,$Ne=Object.prototype,FNe=$Ne.hasOwnProperty;function BNe(t){var e=this.__data__;return MNe?e[t]!==void 0:FNe.call(e,t)}var UNe=BNe,VNe=eE,zNe="__lodash_hash_undefined__";function qNe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=VNe&&e===void 0?zNe:e,this}var WNe=qNe,HNe=TNe,GNe=CNe,KNe=LNe,YNe=UNe,XNe=WNe;function $y(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$y.prototype.clear=HNe;$y.prototype.delete=GNe;$y.prototype.get=KNe;$y.prototype.has=YNe;$y.prototype.set=XNe;var QNe=$y;function JNe(){this.__data__=[],this.size=0}var ZNe=JNe;function ePe(t,e){return t===e||t!==t&&e!==e}var Z3=ePe,tPe=Z3;function rPe(t,e){for(var r=t.length;r--;)if(tPe(t[r][0],e))return r;return-1}var tE=rPe,nPe=tE,iPe=Array.prototype,aPe=iPe.splice;function oPe(t){var e=this.__data__,r=nPe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():aPe.call(e,r,1),--this.size,!0}var sPe=oPe,lPe=tE;function cPe(t){var e=this.__data__,r=lPe(e,t);return r<0?void 0:e[r][1]}var uPe=cPe,dPe=tE;function hPe(t){return dPe(this.__data__,t)>-1}var fPe=hPe,pPe=tE;function mPe(t,e){var r=this.__data__,n=pPe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var gPe=mPe,vPe=ZNe,yPe=sPe,bPe=uPe,xPe=fPe,wPe=gPe;function Fy(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fy.prototype.clear=vPe;Fy.prototype.delete=yPe;Fy.prototype.get=bPe;Fy.prototype.has=xPe;Fy.prototype.set=wPe;var rE=Fy,_Pe=bm,SPe=$c,APe=_Pe(SPe,"Map"),eR=APe,S$=QNe,EPe=rE,NPe=eR;function PPe(){this.size=0,this.__data__={hash:new S$,map:new(NPe||EPe),string:new S$}}var TPe=PPe;function jPe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var CPe=jPe,kPe=CPe;function IPe(t,e){var r=t.__data__;return kPe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var nE=IPe,OPe=nE;function RPe(t){var e=OPe(this,t).delete(t);return this.size-=e?1:0,e}var DPe=RPe,LPe=nE;function MPe(t){return LPe(this,t).get(t)}var $Pe=MPe,FPe=nE;function BPe(t){return FPe(this,t).has(t)}var UPe=BPe,VPe=nE;function zPe(t,e){var r=VPe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var qPe=zPe,WPe=TPe,HPe=DPe,GPe=$Pe,KPe=UPe,YPe=qPe;function By(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}By.prototype.clear=WPe;By.prototype.delete=HPe;By.prototype.get=GPe;By.prototype.has=KPe;By.prototype.set=YPe;var tR=By,ZQ=tR,XPe="Expected a function";function rR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(XPe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(rR.Cache||ZQ),r}rR.Cache=ZQ;var eJ=rR;const QPe=Qr(eJ);var JPe=eJ,ZPe=500;function eTe(t){var e=JPe(t,function(n){return r.size===ZPe&&r.clear(),n}),r=e.cache;return e}var tTe=eTe,rTe=tTe,nTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iTe=/\\(\\)?/g,aTe=rTe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nTe,function(r,n,i,a){e.push(i?a.replace(iTe,"$1"):n||r)}),e}),oTe=aTe;function sTe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var nR=sTe,A$=Qx,lTe=nR,cTe=ko,uTe=Ly,dTe=1/0,E$=A$?A$.prototype:void 0,N$=E$?E$.toString:void 0;function tJ(t){if(typeof t=="string")return t;if(cTe(t))return lTe(t,tJ)+"";if(uTe(t))return N$?N$.call(t):"";var e=t+"";return e=="0"&&1/t==-dTe?"-0":e}var hTe=tJ,fTe=hTe;function pTe(t){return t==null?"":fTe(t)}var rJ=pTe,mTe=ko,gTe=Q3,vTe=oTe,yTe=rJ;function bTe(t,e){return mTe(t)?t:gTe(t,e)?[t]:vTe(yTe(t))}var nJ=bTe,xTe=Ly,wTe=1/0;function _Te(t){if(typeof t=="string"||xTe(t))return t;var e=t+"";return e=="0"&&1/t==-wTe?"-0":e}var iE=_Te,STe=nJ,ATe=iE;function ETe(t,e){e=STe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[ATe(e[r++])];return r&&r==n?t:void 0}var iR=ETe,NTe=iR;function PTe(t,e,r){var n=t==null?void 0:NTe(t,e);return n===void 0?r:n}var iJ=PTe;const os=Qr(iJ);function TTe(t){return t==null}var jTe=TTe;const vr=Qr(jTe);var CTe=nd,kTe=ko,ITe=id,OTe="[object String]";function RTe(t){return typeof t=="string"||!kTe(t)&&ITe(t)&&CTe(t)==OTe}var DTe=RTe;const tm=Qr(DTe);var aJ={exports:{}},sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR=Symbol.for("react.element"),oR=Symbol.for("react.portal"),aE=Symbol.for("react.fragment"),oE=Symbol.for("react.strict_mode"),sE=Symbol.for("react.profiler"),lE=Symbol.for("react.provider"),cE=Symbol.for("react.context"),LTe=Symbol.for("react.server_context"),uE=Symbol.for("react.forward_ref"),dE=Symbol.for("react.suspense"),hE=Symbol.for("react.suspense_list"),fE=Symbol.for("react.memo"),pE=Symbol.for("react.lazy"),MTe=Symbol.for("react.offscreen"),oJ;oJ=Symbol.for("react.module.reference");function Js(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case aR:switch(t=t.type,t){case aE:case sE:case oE:case dE:case hE:return t;default:switch(t=t&&t.$$typeof,t){case LTe:case cE:case uE:case pE:case fE:case lE:return t;default:return e}}case oR:return e}}}sn.ContextConsumer=cE;sn.ContextProvider=lE;sn.Element=aR;sn.ForwardRef=uE;sn.Fragment=aE;sn.Lazy=pE;sn.Memo=fE;sn.Portal=oR;sn.Profiler=sE;sn.StrictMode=oE;sn.Suspense=dE;sn.SuspenseList=hE;sn.isAsyncMode=function(){return!1};sn.isConcurrentMode=function(){return!1};sn.isContextConsumer=function(t){return Js(t)===cE};sn.isContextProvider=function(t){return Js(t)===lE};sn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===aR};sn.isForwardRef=function(t){return Js(t)===uE};sn.isFragment=function(t){return Js(t)===aE};sn.isLazy=function(t){return Js(t)===pE};sn.isMemo=function(t){return Js(t)===fE};sn.isPortal=function(t){return Js(t)===oR};sn.isProfiler=function(t){return Js(t)===sE};sn.isStrictMode=function(t){return Js(t)===oE};sn.isSuspense=function(t){return Js(t)===dE};sn.isSuspenseList=function(t){return Js(t)===hE};sn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===aE||t===sE||t===oE||t===dE||t===hE||t===MTe||typeof t=="object"&&t!==null&&(t.$$typeof===pE||t.$$typeof===fE||t.$$typeof===lE||t.$$typeof===cE||t.$$typeof===uE||t.$$typeof===oJ||t.getModuleId!==void 0)};sn.typeOf=Js;aJ.exports=sn;var $Te=aJ.exports,FTe=nd,BTe=id,UTe="[object Number]";function VTe(t){return typeof t=="number"||BTe(t)&&FTe(t)==UTe}var sJ=VTe;const zTe=Qr(sJ);var qTe=sJ;function WTe(t){return qTe(t)&&t!=+t}var HTe=WTe;const Jx=Qr(HTe);var eo=function(e){return e===0?0:e>0?1:-1},lp=function(e){return tm(e)&&e.indexOf("%")===e.length-1},Qe=function(e){return zTe(e)&&!Jx(e)},GTe=function(e){return vr(e)},Vi=function(e){return Qe(e)||tm(e)},KTe=0,Zx=function(e){var r=++KTe;return"".concat(e||"").concat(r)},to=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(e)&&!tm(e))return n;var a;if(lp(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Jx(a)&&(a=n),i&&a>r&&(a=r),a},Zd=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},YTe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},qd=function(e,r){return Qe(e)&&Qe(r)?function(n){return e+n*(r-e)}:function(){return r}};function ek(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):os(n,e))===r})}var XTe=function(e,r){return Qe(e)&&Qe(r)?e-r:tm(e)&&tm(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Hg(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function tk(t){"@babel/helpers - typeof";return tk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tk(t)}var QTe=["viewBox","children"],JTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],P$=["points","pathLength"],MP={svg:QTe,polygon:P$,polyline:P$},sR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kS=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!My(n))return null;var i={};return Object.keys(n).forEach(function(a){sR.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},ZTe=function(e,r,n){return function(i){return e(r,n,i),null}},rm=function(e,r,n){if(!My(e)||tk(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];sR.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=ZTe(o,r,n))}),i},eje=["children"],tje=["children"];function T$(t,e){if(t==null)return{};var r=rje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var j$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ou=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},C$=null,$P=null,lR=function t(e){if(e===C$&&Array.isArray($P))return $P;var r=[];return j.Children.forEach(e,function(n){vr(n)||($Te.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),$P=r,C$=e,r};function Ws(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ou(i)}):n=[Ou(e)],lR(t).forEach(function(i){var a=os(i,"type.displayName")||os(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Yo(t,e){var r=Ws(t,e);return r&&r[0]}var k$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Qe(n)||n<=0||!Qe(i)||i<=0)},nje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ije=function(e){return e&&e.type&&tm(e.type)&&nje.indexOf(e.type)>=0},aje=function(e,r,n,i){var a,o=(a=MP==null?void 0:MP[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Zt(e)&&(i&&o.includes(r)||JTe.includes(r))||n&&sR.includes(r)},Gt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!My(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;aje((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},rk=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return I$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!I$(a,o))return!1}return!0},I$=function(e,r){if(vr(e)&&vr(r))return!0;if(!vr(e)&&!vr(r)){var n=e.props||{},i=n.children,a=T$(n,eje),o=r.props||{},s=o.children,l=T$(o,tje);return i&&s?Hg(a,l)&&rk(i,s):!i&&!s?Hg(a,l):!1}return!1},O$=function(e,r){var n=[],i={};return lR(e).forEach(function(a,o){if(ije(a))n.push(a);else if(a){var s=Ou(a.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var h=c(a,s,o);n.push(h),i[s]=!0}}}),n},oje=function(e){var r=e&&e.type;return r&&j$[r]?j$[r]:null},sje=function(e,r){return lR(r).indexOf(e)},lje=["children","width","height","viewBox","className","style","title","desc"];function nk(){return nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nk.apply(this,arguments)}function cje(t,e){if(t==null)return{};var r=uje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ik(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=cje(t,lje),d=i||{width:r,height:n,x:0,y:0},h=fr("recharts-surface",a);return ue.createElement("svg",nk({},Gt(c,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ue.createElement("title",null,s),ue.createElement("desc",null,l),e)}var dje=["children","className"];function ak(){return ak=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ak.apply(this,arguments)}function hje(t,e){if(t==null)return{};var r=fje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var an=ue.forwardRef(function(t,e){var r=t.children,n=t.className,i=hje(t,dje),a=fr("recharts-layer",n);return ue.createElement("g",ak({className:a},Gt(i,!0),{ref:e}),r)}),Sl=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function pje(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var mje=pje,gje=mje;function vje(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:gje(t,e,r)}var yje=vje,bje="\\ud800-\\udfff",xje="\\u0300-\\u036f",wje="\\ufe20-\\ufe2f",_je="\\u20d0-\\u20ff",Sje=xje+wje+_je,Aje="\\ufe0e\\ufe0f",Eje="\\u200d",Nje=RegExp("["+Eje+bje+Sje+Aje+"]");function Pje(t){return Nje.test(t)}var lJ=Pje;function Tje(t){return t.split("")}var jje=Tje,cJ="\\ud800-\\udfff",Cje="\\u0300-\\u036f",kje="\\ufe20-\\ufe2f",Ije="\\u20d0-\\u20ff",Oje=Cje+kje+Ije,Rje="\\ufe0e\\ufe0f",Dje="["+cJ+"]",ok="["+Oje+"]",sk="\\ud83c[\\udffb-\\udfff]",Lje="(?:"+ok+"|"+sk+")",uJ="[^"+cJ+"]",dJ="(?:\\ud83c[\\udde6-\\uddff]){2}",hJ="[\\ud800-\\udbff][\\udc00-\\udfff]",Mje="\\u200d",fJ=Lje+"?",pJ="["+Rje+"]?",$je="(?:"+Mje+"(?:"+[uJ,dJ,hJ].join("|")+")"+pJ+fJ+")*",Fje=pJ+fJ+$je,Bje="(?:"+[uJ+ok+"?",ok,dJ,hJ,Dje].join("|")+")",Uje=RegExp(sk+"(?="+sk+")|"+Bje+Fje,"g");function Vje(t){return t.match(Uje)||[]}var zje=Vje,qje=jje,Wje=lJ,Hje=zje;function Gje(t){return Wje(t)?Hje(t):qje(t)}var Kje=Gje,Yje=yje,Xje=lJ,Qje=Kje,Jje=rJ;function Zje(t){return function(e){e=Jje(e);var r=Xje(e)?Qje(e):void 0,n=r?r[0]:e.charAt(0),i=r?Yje(r,1).join(""):e.slice(1);return n[t]()+i}}var eCe=Zje,tCe=eCe,rCe=tCe("toUpperCase"),nCe=rCe;const mE=Qr(nCe);function Cn(t){return function(){return t}}const mJ=Math.cos,IS=Math.sin,Ll=Math.sqrt,OS=Math.PI,gE=2*OS,lk=Math.PI,ck=2*lk,Xf=1e-6,iCe=ck-Xf;function gJ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function aCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gJ;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class oCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gJ:aCe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,d=o-e,h=s-r,p=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Xf)if(!(Math.abs(h*l-c*d)>Xf)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,v=i-s,m=l*l+c*c,g=f*f+v*v,y=Math.sqrt(m),x=Math.sqrt(p),_=a*Math.tan((lk-Math.acos((m+p-g)/(2*y*x)))/2),A=_/x,N=_/y;Math.abs(A-1)>Xf&&this._append`L${e+A*d},${r+A*h}`,this._append`A${a},${a},0,0,${+(h*f>d*v)},${this._x1=e+N*l},${this._y1=r+N*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,d=r+l,h=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Xf||Math.abs(this._y1-d)>Xf)&&this._append`L${c},${d}`,n&&(p<0&&(p=p%ck+ck),p>iCe?this._append`A${n},${n},0,1,${h},${e-s},${r-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=d}`:p>Xf&&this._append`A${n},${n},0,${+(p>=lk)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function cR(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new oCe(e)}function uR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vJ(t){this._context=t}vJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vE(t){return new vJ(t)}function yJ(t){return t[0]}function bJ(t){return t[1]}function xJ(t,e){var r=Cn(!0),n=null,i=vE,a=null,o=cR(s);t=typeof t=="function"?t:t===void 0?yJ:Cn(t),e=typeof e=="function"?e:e===void 0?bJ:Cn(e);function s(l){var c,d=(l=uR(l)).length,h,p=!1,f;for(n==null&&(a=i(f=o())),c=0;c<=d;++c)!(c<d&&r(h=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(h,c,l),+e(h,c,l));if(f)return a=null,f+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Cn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Cn(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Cn(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function h2(t,e,r){var n=null,i=Cn(!0),a=null,o=vE,s=null,l=cR(c);t=typeof t=="function"?t:t===void 0?yJ:Cn(+t),e=typeof e=="function"?e:Cn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?bJ:Cn(+r);function c(h){var p,f,v,m=(h=uR(h)).length,g,y=!1,x,_=new Array(m),A=new Array(m);for(a==null&&(s=o(x=l())),p=0;p<=m;++p){if(!(p<m&&i(g=h[p],p,h))===y)if(y=!y)f=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=f;--v)s.point(_[v],A[v]);s.lineEnd(),s.areaEnd()}y&&(_[p]=+t(g,p,h),A[p]=+e(g,p,h),s.point(n?+n(g,p,h):_[p],r?+r(g,p,h):A[p]))}if(x)return s=null,x+""||null}function d(){return xJ().defined(i).curve(o).context(a)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:Cn(+h),n=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Cn(+h),c):t},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Cn(+h),c):n},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:Cn(+h),r=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Cn(+h),c):e},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Cn(+h),c):r},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(r)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Cn(!!h),c):i},c.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),c):o},c.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),c):a},c}class wJ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function sCe(t){return new wJ(t,!0)}function lCe(t){return new wJ(t,!1)}const dR={draw(t,e){const r=Ll(e/OS);t.moveTo(r,0),t.arc(0,0,r,0,gE)}},cCe={draw(t,e){const r=Ll(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},_J=Ll(1/3),uCe=_J*2,dCe={draw(t,e){const r=Ll(e/uCe),n=r*_J;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},hCe={draw(t,e){const r=Ll(e),n=-r/2;t.rect(n,n,r,r)}},fCe=.8908130915292852,SJ=IS(OS/10)/IS(7*OS/10),pCe=IS(gE/10)*SJ,mCe=-mJ(gE/10)*SJ,gCe={draw(t,e){const r=Ll(e*fCe),n=pCe*r,i=mCe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=gE*a/5,s=mJ(o),l=IS(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},FP=Ll(3),vCe={draw(t,e){const r=-Ll(e/(FP*3));t.moveTo(0,r*2),t.lineTo(-FP*r,-r),t.lineTo(FP*r,-r),t.closePath()}},As=-.5,Es=Ll(3)/2,uk=1/Ll(12),yCe=(uk/2+1)*3,bCe={draw(t,e){const r=Ll(e/yCe),n=r/2,i=r*uk,a=n,o=r*uk+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(As*n-Es*i,Es*n+As*i),t.lineTo(As*a-Es*o,Es*a+As*o),t.lineTo(As*s-Es*l,Es*s+As*l),t.lineTo(As*n+Es*i,As*i-Es*n),t.lineTo(As*a+Es*o,As*o-Es*a),t.lineTo(As*s+Es*l,As*l-Es*s),t.closePath()}};function xCe(t,e){let r=null,n=cR(i);t=typeof t=="function"?t:Cn(t||dR),e=typeof e=="function"?e:Cn(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Cn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Cn(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function RS(){}function DS(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function AJ(t){this._context=t}AJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:DS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:DS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wCe(t){return new AJ(t)}function EJ(t){this._context=t}EJ.prototype={areaStart:RS,areaEnd:RS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:DS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Ce(t){return new EJ(t)}function NJ(t){this._context=t}NJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:DS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SCe(t){return new NJ(t)}function PJ(t){this._context=t}PJ.prototype={areaStart:RS,areaEnd:RS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ACe(t){return new PJ(t)}function R$(t){return t<0?-1:1}function D$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(R$(a)+R$(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function L$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function BP(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function LS(t){this._context=t}LS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:BP(this,this._t0,L$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,BP(this,L$(this,r=D$(this,t,e)),r);break;default:BP(this,this._t0,r=D$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function TJ(t){this._context=new jJ(t)}(TJ.prototype=Object.create(LS.prototype)).point=function(t,e){LS.prototype.point.call(this,e,t)};function jJ(t){this._context=t}jJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function ECe(t){return new LS(t)}function NCe(t){return new TJ(t)}function CJ(t){this._context=t}CJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=M$(t),i=M$(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function M$(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function PCe(t){return new CJ(t)}function yE(t,e){this._context=t,this._t=e}yE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function TCe(t){return new yE(t,.5)}function jCe(t){return new yE(t,0)}function CCe(t){return new yE(t,1)}function Fv(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function dk(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function kCe(t,e){return t[e]}function ICe(t){const e=[];return e.key=t,e}function OCe(){var t=Cn([]),e=dk,r=Fv,n=kCe;function i(a){var o=Array.from(t.apply(this,arguments),ICe),s,l=o.length,c=-1,d;for(const h of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(h,o[s].key,c,a)]).data=h;for(s=0,d=uR(e(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Cn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Cn(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?dk:typeof a=="function"?a:Cn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Fv,i):r},i}function RCe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Fv(t,e)}}function DCe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Fv(t,e)}}function LCe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var d=t[e[s]],h=d[n][1]||0,p=d[n-1][1]||0,f=(h-p)/2,v=0;v<s;++v){var m=t[e[v]],g=m[n][1]||0,y=m[n-1][1]||0;f+=g-y}l+=h,c+=f*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Fv(t,e)}}function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}var MCe=["type","size","sizeType"];function hk(){return hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hk.apply(this,arguments)}function $$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(r),!0).forEach(function(n){$Ce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ce(t,e,r){return e=FCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FCe(t){var e=BCe(t,"string");return Ab(e)=="symbol"?e:e+""}function BCe(t,e){if(Ab(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ab(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UCe(t,e){if(t==null)return{};var r=VCe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kJ={symbolCircle:dR,symbolCross:cCe,symbolDiamond:dCe,symbolSquare:hCe,symbolStar:gCe,symbolTriangle:vCe,symbolWye:bCe},zCe=Math.PI/180,qCe=function(e){var r="symbol".concat(mE(e));return kJ[r]||dR},WCe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*zCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},HCe=function(e,r){kJ["symbol".concat(mE(e))]=r},hR=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=UCe(e,MCe),c=F$(F$({},l),{},{type:n,size:a,sizeType:s}),d=function(){var g=qCe(n),y=xCe().type(g).size(WCe(a,s,n));return y()},h=c.className,p=c.cx,f=c.cy,v=Gt(c,!0);return p===+p&&f===+f&&a===+a?ue.createElement("path",hk({},v,{className:fr("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(f,")"),d:d()})):null};hR.registerSymbol=HCe;function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function fk(){return fk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fk.apply(this,arguments)}function B$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GCe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(r),!0).forEach(function(n){Eb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OJ(n.key),n)}}function XCe(t,e,r){return e&&YCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QCe(t,e,r){return e=MS(e),JCe(t,IJ()?Reflect.construct(e,r||[],MS(t).constructor):e.apply(t,r))}function JCe(t,e){if(e&&(Bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZCe(t)}function ZCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IJ=function(){return!!t})()}function MS(t){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},MS(t)}function eke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pk(t,e)}function pk(t,e){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pk(t,e)}function Eb(t,e,r){return e=OJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OJ(t){var e=tke(t,"string");return Bv(e)=="symbol"?e:e+""}function tke(t,e){if(Bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ns=32,fR=function(t){function e(){return KCe(this,e),QCe(this,e,arguments)}return eke(e,t),XCe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ns/2,o=Ns/6,s=Ns/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ue.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ns,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ue.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ns,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ue.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ns/8,"h").concat(Ns,"v").concat(Ns*3/4,"h").concat(-Ns,"z"),className:"recharts-legend-icon"});if(ue.isValidElement(n.legendIcon)){var c=GCe({},n);return delete c.legendIcon,ue.cloneElement(n.legendIcon,c)}return ue.createElement(hR,{fill:l,cx:a,cy:a,size:Ns,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Ns,height:Ns},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,v){var m=f.formatter||l,g=fr(Eb(Eb({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=Zt(f.value)?null:f.value;Sl(!Zt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=f.inactive?c:f.color;return ue.createElement("li",fk({className:g,style:h,key:"legend-item-".concat(v)},rm(n.props,f,v)),ue.createElement(ik,{width:o,height:o,viewBox:d,style:p},n.renderIcon(f)),ue.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(y,f,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ue.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);Eb(fR,"displayName","Legend");Eb(fR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rke=rE;function nke(){this.__data__=new rke,this.size=0}var ike=nke;function ake(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var oke=ake;function ske(t){return this.__data__.get(t)}var lke=ske;function cke(t){return this.__data__.has(t)}var uke=cke,dke=rE,hke=eR,fke=tR,pke=200;function mke(t,e){var r=this.__data__;if(r instanceof dke){var n=r.__data__;if(!hke||n.length<pke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new fke(n)}return r.set(t,e),this.size=r.size,this}var gke=mke,vke=rE,yke=ike,bke=oke,xke=lke,wke=uke,_ke=gke;function Uy(t){var e=this.__data__=new vke(t);this.size=e.size}Uy.prototype.clear=yke;Uy.prototype.delete=bke;Uy.prototype.get=xke;Uy.prototype.has=wke;Uy.prototype.set=_ke;var RJ=Uy,Ske="__lodash_hash_undefined__";function Ake(t){return this.__data__.set(t,Ske),this}var Eke=Ake;function Nke(t){return this.__data__.has(t)}var Pke=Nke,Tke=tR,jke=Eke,Cke=Pke;function $S(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Tke;++e<r;)this.add(t[e])}$S.prototype.add=$S.prototype.push=jke;$S.prototype.has=Cke;var DJ=$S;function kke(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var LJ=kke;function Ike(t,e){return t.has(e)}var MJ=Ike,Oke=DJ,Rke=LJ,Dke=MJ,Lke=1,Mke=2;function $ke(t,e,r,n,i,a){var o=r&Lke,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),d=a.get(e);if(c&&d)return c==e&&d==t;var h=-1,p=!0,f=r&Mke?new Oke:void 0;for(a.set(t,e),a.set(e,t);++h<s;){var v=t[h],m=e[h];if(n)var g=o?n(m,v,h,e,t,a):n(v,m,h,t,e,a);if(g!==void 0){if(g)continue;p=!1;break}if(f){if(!Rke(e,function(y,x){if(!Dke(f,x)&&(v===y||i(v,y,r,n,a)))return f.push(x)})){p=!1;break}}else if(!(v===m||i(v,m,r,n,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var $J=$ke,Fke=$c,Bke=Fke.Uint8Array,Uke=Bke;function Vke(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var zke=Vke;function qke(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var pR=qke,U$=Qx,V$=Uke,Wke=Z3,Hke=$J,Gke=zke,Kke=pR,Yke=1,Xke=2,Qke="[object Boolean]",Jke="[object Date]",Zke="[object Error]",e4e="[object Map]",t4e="[object Number]",r4e="[object RegExp]",n4e="[object Set]",i4e="[object String]",a4e="[object Symbol]",o4e="[object ArrayBuffer]",s4e="[object DataView]",z$=U$?U$.prototype:void 0,UP=z$?z$.valueOf:void 0;function l4e(t,e,r,n,i,a,o){switch(r){case s4e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case o4e:return!(t.byteLength!=e.byteLength||!a(new V$(t),new V$(e)));case Qke:case Jke:case t4e:return Wke(+t,+e);case Zke:return t.name==e.name&&t.message==e.message;case r4e:case i4e:return t==e+"";case e4e:var s=Gke;case n4e:var l=n&Yke;if(s||(s=Kke),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=Xke,o.set(t,e);var d=Hke(s(t),s(e),n,i,a,o);return o.delete(t),d;case a4e:if(UP)return UP.call(t)==UP.call(e)}return!1}var c4e=l4e;function u4e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var FJ=u4e,d4e=FJ,h4e=ko;function f4e(t,e,r){var n=e(t);return h4e(t)?n:d4e(n,r(t))}var p4e=f4e;function m4e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var g4e=m4e;function v4e(){return[]}var y4e=v4e,b4e=g4e,x4e=y4e,w4e=Object.prototype,_4e=w4e.propertyIsEnumerable,q$=Object.getOwnPropertySymbols,S4e=q$?function(t){return t==null?[]:(t=Object(t),b4e(q$(t),function(e){return _4e.call(t,e)}))}:x4e,A4e=S4e;function E4e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var N4e=E4e,P4e=nd,T4e=id,j4e="[object Arguments]";function C4e(t){return T4e(t)&&P4e(t)==j4e}var k4e=C4e,W$=k4e,I4e=id,BJ=Object.prototype,O4e=BJ.hasOwnProperty,R4e=BJ.propertyIsEnumerable,D4e=W$(function(){return arguments}())?W$:function(t){return I4e(t)&&O4e.call(t,"callee")&&!R4e.call(t,"callee")},mR=D4e,FS={exports:{}};function L4e(){return!1}var M4e=L4e;FS.exports;(function(t,e){var r=$c,n=M4e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(FS,FS.exports);var UJ=FS.exports,$4e=9007199254740991,F4e=/^(?:0|[1-9]\d*)$/;function B4e(t,e){var r=typeof t;return e=e??$4e,!!e&&(r=="number"||r!="symbol"&&F4e.test(t))&&t>-1&&t%1==0&&t<e}var gR=B4e,U4e=9007199254740991;function V4e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=U4e}var vR=V4e,z4e=nd,q4e=vR,W4e=id,H4e="[object Arguments]",G4e="[object Array]",K4e="[object Boolean]",Y4e="[object Date]",X4e="[object Error]",Q4e="[object Function]",J4e="[object Map]",Z4e="[object Number]",eIe="[object Object]",tIe="[object RegExp]",rIe="[object Set]",nIe="[object String]",iIe="[object WeakMap]",aIe="[object ArrayBuffer]",oIe="[object DataView]",sIe="[object Float32Array]",lIe="[object Float64Array]",cIe="[object Int8Array]",uIe="[object Int16Array]",dIe="[object Int32Array]",hIe="[object Uint8Array]",fIe="[object Uint8ClampedArray]",pIe="[object Uint16Array]",mIe="[object Uint32Array]",Bn={};Bn[sIe]=Bn[lIe]=Bn[cIe]=Bn[uIe]=Bn[dIe]=Bn[hIe]=Bn[fIe]=Bn[pIe]=Bn[mIe]=!0;Bn[H4e]=Bn[G4e]=Bn[aIe]=Bn[K4e]=Bn[oIe]=Bn[Y4e]=Bn[X4e]=Bn[Q4e]=Bn[J4e]=Bn[Z4e]=Bn[eIe]=Bn[tIe]=Bn[rIe]=Bn[nIe]=Bn[iIe]=!1;function gIe(t){return W4e(t)&&q4e(t.length)&&!!Bn[z4e(t)]}var vIe=gIe;function yIe(t){return function(e){return t(e)}}var VJ=yIe,BS={exports:{}};BS.exports;(function(t,e){var r=XQ,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(BS,BS.exports);var bIe=BS.exports,xIe=vIe,wIe=VJ,H$=bIe,G$=H$&&H$.isTypedArray,_Ie=G$?wIe(G$):xIe,zJ=_Ie,SIe=N4e,AIe=mR,EIe=ko,NIe=UJ,PIe=gR,TIe=zJ,jIe=Object.prototype,CIe=jIe.hasOwnProperty;function kIe(t,e){var r=EIe(t),n=!r&&AIe(t),i=!r&&!n&&NIe(t),a=!r&&!n&&!i&&TIe(t),o=r||n||i||a,s=o?SIe(t.length,String):[],l=s.length;for(var c in t)(e||CIe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||PIe(c,l)))&&s.push(c);return s}var IIe=kIe,OIe=Object.prototype;function RIe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||OIe;return t===r}var DIe=RIe;function LIe(t,e){return function(r){return t(e(r))}}var qJ=LIe,MIe=qJ,$Ie=MIe(Object.keys,Object),FIe=$Ie,BIe=DIe,UIe=FIe,VIe=Object.prototype,zIe=VIe.hasOwnProperty;function qIe(t){if(!BIe(t))return UIe(t);var e=[];for(var r in Object(t))zIe.call(t,r)&&r!="constructor"&&e.push(r);return e}var WIe=qIe,HIe=J3,GIe=vR;function KIe(t){return t!=null&&GIe(t.length)&&!HIe(t)}var ew=KIe,YIe=IIe,XIe=WIe,QIe=ew;function JIe(t){return QIe(t)?YIe(t):XIe(t)}var bE=JIe,ZIe=p4e,eOe=A4e,tOe=bE;function rOe(t){return ZIe(t,tOe,eOe)}var nOe=rOe,K$=nOe,iOe=1,aOe=Object.prototype,oOe=aOe.hasOwnProperty;function sOe(t,e,r,n,i,a){var o=r&iOe,s=K$(t),l=s.length,c=K$(e),d=c.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var p=s[h];if(!(o?p in e:oOe.call(e,p)))return!1}var f=a.get(t),v=a.get(e);if(f&&v)return f==e&&v==t;var m=!0;a.set(t,e),a.set(e,t);for(var g=o;++h<l;){p=s[h];var y=t[p],x=e[p];if(n)var _=o?n(x,y,p,e,t,a):n(y,x,p,t,e,a);if(!(_===void 0?y===x||i(y,x,r,n,a):_)){m=!1;break}g||(g=p=="constructor")}if(m&&!g){var A=t.constructor,N=e.constructor;A!=N&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof N=="function"&&N instanceof N)&&(m=!1)}return a.delete(t),a.delete(e),m}var lOe=sOe,cOe=bm,uOe=$c,dOe=cOe(uOe,"DataView"),hOe=dOe,fOe=bm,pOe=$c,mOe=fOe(pOe,"Promise"),gOe=mOe,vOe=bm,yOe=$c,bOe=vOe(yOe,"Set"),WJ=bOe,xOe=bm,wOe=$c,_Oe=xOe(wOe,"WeakMap"),SOe=_Oe,mk=hOe,gk=eR,vk=gOe,yk=WJ,bk=SOe,HJ=nd,Vy=JQ,Y$="[object Map]",AOe="[object Object]",X$="[object Promise]",Q$="[object Set]",J$="[object WeakMap]",Z$="[object DataView]",EOe=Vy(mk),NOe=Vy(gk),POe=Vy(vk),TOe=Vy(yk),jOe=Vy(bk),Qf=HJ;(mk&&Qf(new mk(new ArrayBuffer(1)))!=Z$||gk&&Qf(new gk)!=Y$||vk&&Qf(vk.resolve())!=X$||yk&&Qf(new yk)!=Q$||bk&&Qf(new bk)!=J$)&&(Qf=function(t){var e=HJ(t),r=e==AOe?t.constructor:void 0,n=r?Vy(r):"";if(n)switch(n){case EOe:return Z$;case NOe:return Y$;case POe:return X$;case TOe:return Q$;case jOe:return J$}return e});var COe=Qf,VP=RJ,kOe=$J,IOe=c4e,OOe=lOe,eF=COe,tF=ko,rF=UJ,ROe=zJ,DOe=1,nF="[object Arguments]",iF="[object Array]",f2="[object Object]",LOe=Object.prototype,aF=LOe.hasOwnProperty;function MOe(t,e,r,n,i,a){var o=tF(t),s=tF(e),l=o?iF:eF(t),c=s?iF:eF(e);l=l==nF?f2:l,c=c==nF?f2:c;var d=l==f2,h=c==f2,p=l==c;if(p&&rF(t)){if(!rF(e))return!1;o=!0,d=!1}if(p&&!d)return a||(a=new VP),o||ROe(t)?kOe(t,e,r,n,i,a):IOe(t,e,l,r,n,i,a);if(!(r&DOe)){var f=d&&aF.call(t,"__wrapped__"),v=h&&aF.call(e,"__wrapped__");if(f||v){var m=f?t.value():t,g=v?e.value():e;return a||(a=new VP),i(m,g,r,n,a)}}return p?(a||(a=new VP),OOe(t,e,r,n,i,a)):!1}var $Oe=MOe,FOe=$Oe,oF=id;function GJ(t,e,r,n,i){return t===e?!0:t==null||e==null||!oF(t)&&!oF(e)?t!==t&&e!==e:FOe(t,e,r,n,GJ,i)}var yR=GJ,BOe=RJ,UOe=yR,VOe=1,zOe=2;function qOe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var h=new BOe;if(n)var p=n(c,d,l,t,e,h);if(!(p===void 0?UOe(d,c,VOe|zOe,n,h):p))return!1}}return!0}var WOe=qOe,HOe=wf;function GOe(t){return t===t&&!HOe(t)}var KJ=GOe,KOe=KJ,YOe=bE;function XOe(t){for(var e=YOe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,KOe(i)]}return e}var QOe=XOe;function JOe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var YJ=JOe,ZOe=WOe,e3e=QOe,t3e=YJ;function r3e(t){var e=e3e(t);return e.length==1&&e[0][2]?t3e(e[0][0],e[0][1]):function(r){return r===t||ZOe(r,t,e)}}var n3e=r3e;function i3e(t,e){return t!=null&&e in Object(t)}var a3e=i3e,o3e=nJ,s3e=mR,l3e=ko,c3e=gR,u3e=vR,d3e=iE;function h3e(t,e,r){e=o3e(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=d3e(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&u3e(i)&&c3e(o,i)&&(l3e(t)||s3e(t)))}var f3e=h3e,p3e=a3e,m3e=f3e;function g3e(t,e){return t!=null&&m3e(t,e,p3e)}var v3e=g3e,y3e=yR,b3e=iJ,x3e=v3e,w3e=Q3,_3e=KJ,S3e=YJ,A3e=iE,E3e=1,N3e=2;function P3e(t,e){return w3e(t)&&_3e(e)?S3e(A3e(t),e):function(r){var n=b3e(r,t);return n===void 0&&n===e?x3e(r,t):y3e(e,n,E3e|N3e)}}var T3e=P3e;function j3e(t){return t}var zy=j3e;function C3e(t){return function(e){return e==null?void 0:e[t]}}var k3e=C3e,I3e=iR;function O3e(t){return function(e){return I3e(e,t)}}var R3e=O3e,D3e=k3e,L3e=R3e,M3e=Q3,$3e=iE;function F3e(t){return M3e(t)?D3e($3e(t)):L3e(t)}var B3e=F3e,U3e=n3e,V3e=T3e,z3e=zy,q3e=ko,W3e=B3e;function H3e(t){return typeof t=="function"?t:t==null?z3e:typeof t=="object"?q3e(t)?V3e(t[0],t[1]):U3e(t):W3e(t)}var Fc=H3e;function G3e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var XJ=G3e;function K3e(t){return t!==t}var Y3e=K3e;function X3e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Q3e=X3e,J3e=XJ,Z3e=Y3e,eRe=Q3e;function tRe(t,e,r){return e===e?eRe(t,e,r):J3e(t,Z3e,r)}var rRe=tRe,nRe=rRe;function iRe(t,e){var r=t==null?0:t.length;return!!r&&nRe(t,e,0)>-1}var aRe=iRe;function oRe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var sRe=oRe;function lRe(){}var cRe=lRe,zP=WJ,uRe=cRe,dRe=pR,hRe=1/0,fRe=zP&&1/dRe(new zP([,-0]))[1]==hRe?function(t){return new zP(t)}:uRe,pRe=fRe,mRe=DJ,gRe=aRe,vRe=sRe,yRe=MJ,bRe=pRe,xRe=pR,wRe=200;function _Re(t,e,r){var n=-1,i=gRe,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=vRe;else if(a>=wRe){var c=e?null:bRe(t);if(c)return xRe(c);o=!1,i=yRe,l=new mRe}else l=e?[]:s;e:for(;++n<a;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue e;e&&l.push(h),s.push(d)}else i(l,h,r)||(l!==s&&l.push(h),s.push(d))}return s}var SRe=_Re,ARe=Fc,ERe=SRe;function NRe(t,e){return t&&t.length?ERe(t,ARe(e)):[]}var PRe=NRe;const sF=Qr(PRe);function QJ(t,e,r){return e===!0?sF(t,r):Zt(e)?sF(t,e):t}function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}var TRe=["ref"];function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function au(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(n){xE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZJ(n.key),n)}}function CRe(t,e,r){return e&&cF(t.prototype,e),r&&cF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kRe(t,e,r){return e=US(e),IRe(t,JJ()?Reflect.construct(e,r||[],US(t).constructor):e.apply(t,r))}function IRe(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ORe(t)}function ORe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JJ=function(){return!!t})()}function US(t){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},US(t)}function RRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xk(t,e)}function xk(t,e){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xk(t,e)}function xE(t,e,r){return e=ZJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZJ(t){var e=DRe(t,"string");return Uv(e)=="symbol"?e:e+""}function DRe(t,e){if(Uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LRe(t,e){if(t==null)return{};var r=MRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $Re(t){return t.value}function FRe(t,e){if(ue.isValidElement(t))return ue.cloneElement(t,e);if(typeof t=="function")return ue.createElement(t,e);e.ref;var r=LRe(e,TRe);return ue.createElement(fR,r)}var uF=1,Gg=function(t){function e(){var r;jRe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kRe(this,e,[].concat(i)),xE(r,"lastBoundingBox",{width:-1,height:-1}),r}return RRe(e,t),CRe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>uF||Math.abs(i.height-this.lastBoundingBox.height)>uF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?au({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,h,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();h={left:((c||0)-f.width)/2}}else h=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return au(au({},h),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,h=au(au({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ue.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){n.wrapperNode=f}},FRe(a,au(au({},this.props),{},{payload:QJ(d,c,$Re)})))}}],[{key:"getWithHeight",value:function(n,i){var a=au(au({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Qe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(j.PureComponent);xE(Gg,"displayName","Legend");xE(Gg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var dF=Qx,BRe=mR,URe=ko,hF=dF?dF.isConcatSpreadable:void 0;function VRe(t){return URe(t)||BRe(t)||!!(hF&&t&&t[hF])}var zRe=VRe,qRe=FJ,WRe=zRe;function eZ(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=WRe),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?eZ(s,e-1,r,n,i):qRe(i,s):n||(i[i.length]=s)}return i}var tZ=eZ;function HRe(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var GRe=HRe,KRe=GRe,YRe=KRe(),XRe=YRe,QRe=XRe,JRe=bE;function ZRe(t,e){return t&&QRe(t,e,JRe)}var rZ=ZRe,eDe=ew;function tDe(t,e){return function(r,n){if(r==null)return r;if(!eDe(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var rDe=tDe,nDe=rZ,iDe=rDe,aDe=iDe(nDe),bR=aDe,oDe=bR,sDe=ew;function lDe(t,e){var r=-1,n=sDe(t)?Array(t.length):[];return oDe(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var nZ=lDe;function cDe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var uDe=cDe,fF=Ly;function dDe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=fF(t),o=e!==void 0,s=e===null,l=e===e,c=fF(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var hDe=dDe,fDe=hDe;function pDe(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=fDe(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var mDe=pDe,qP=nR,gDe=iR,vDe=Fc,yDe=nZ,bDe=uDe,xDe=VJ,wDe=mDe,_De=zy,SDe=ko;function ADe(t,e,r){e.length?e=qP(e,function(a){return SDe(a)?function(o){return gDe(o,a.length===1?a[0]:a)}:a}):e=[_De];var n=-1;e=qP(e,xDe(vDe));var i=yDe(t,function(a,o,s){var l=qP(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return bDe(i,function(a,o){return wDe(a,o,r)})}var EDe=ADe;function NDe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var PDe=NDe,TDe=PDe,pF=Math.max;function jDe(t,e,r){return e=pF(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=pF(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),TDe(t,this,s)}}var CDe=jDe;function kDe(t){return function(){return t}}var IDe=kDe,ODe=bm,RDe=function(){try{var t=ODe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),iZ=RDe,DDe=IDe,mF=iZ,LDe=zy,MDe=mF?function(t,e){return mF(t,"toString",{configurable:!0,enumerable:!1,value:DDe(e),writable:!0})}:LDe,$De=MDe,FDe=800,BDe=16,UDe=Date.now;function VDe(t){var e=0,r=0;return function(){var n=UDe(),i=BDe-(n-r);if(r=n,i>0){if(++e>=FDe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zDe=VDe,qDe=$De,WDe=zDe,HDe=WDe(qDe),GDe=HDe,KDe=zy,YDe=CDe,XDe=GDe;function QDe(t,e){return XDe(YDe(t,e,KDe),t+"")}var JDe=QDe,ZDe=Z3,e6e=ew,t6e=gR,r6e=wf;function n6e(t,e,r){if(!r6e(r))return!1;var n=typeof e;return(n=="number"?e6e(r)&&t6e(e,r.length):n=="string"&&e in r)?ZDe(r[e],t):!1}var wE=n6e,i6e=tZ,a6e=EDe,o6e=JDe,gF=wE,s6e=o6e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&gF(t,e[0],e[1])?e=[]:r>2&&gF(e[0],e[1],e[2])&&(e=[e[0]]),a6e(t,i6e(e,1),[])}),l6e=s6e;const xR=Qr(l6e);function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function wk(){return wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wk.apply(this,arguments)}function c6e(t,e){return f6e(t)||h6e(t,e)||d6e(t,e)||u6e()}function u6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6e(t,e){if(t){if(typeof t=="string")return vF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vF(t,e)}}function vF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function f6e(t){if(Array.isArray(t))return t}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){p6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p6e(t,e,r){return e=m6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m6e(t){var e=g6e(t,"string");return Nb(e)=="symbol"?e:e+""}function g6e(t,e){if(Nb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v6e(t){return Array.isArray(t)&&Vi(t[0])&&Vi(t[1])?t.join(" ~ "):t}var y6e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,h=e.formatter,p=e.itemSorter,f=e.wrapperClassName,v=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,_=function(){if(d&&d.length){var O={padding:0,margin:0},L=(p?xR(d,p):d).map(function(z,re){if(z.type==="none")return null;var Y=WP({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),K=z.formatter||h||v6e,q=z.value,Z=z.name,ye=q,ce=Z;if(K&&ye!=null&&ce!=null){var F=K(q,Z,z,re,d);if(Array.isArray(F)){var V=c6e(F,2);ye=V[0],ce=V[1]}else ye=F}return ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:Y},Vi(ce)?ue.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,Vi(ce)?ue.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ue.createElement("span",{className:"recharts-tooltip-item-value"},ye),ue.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return ue.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},A=WP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=WP({margin:0},c),I=!vr(m),P=I?m:"",E=fr("recharts-default-tooltip",f),k=fr("recharts-tooltip-label",v);I&&g&&d!==void 0&&d!==null&&(P=g(m,d));var D=x?{role:"status","aria-live":"assertive"}:{};return ue.createElement("div",wk({className:E,style:A},D),ue.createElement("p",{className:k,style:N},ue.isValidElement(P)?P:"".concat(P)),_())};function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function p2(t,e,r){return e=b6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b6e(t){var e=x6e(t,"string");return Pb(e)=="symbol"?e:e+""}function x6e(t,e){if(Pb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C0="recharts-tooltip-wrapper",w6e={visibility:"hidden"};function _6e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return fr(C0,p2(p2(p2(p2({},"".concat(C0,"-right"),Qe(r)&&e&&Qe(e.x)&&r>=e.x),"".concat(C0,"-left"),Qe(r)&&e&&Qe(e.x)&&r<e.x),"".concat(C0,"-bottom"),Qe(n)&&e&&Qe(e.y)&&n>=e.y),"".concat(C0,"-top"),Qe(n)&&e&&Qe(e.y)&&n<e.y))}function bF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Qe(a[n]))return a[n];var d=r[n]-s-i,h=r[n]+i;if(e[n])return o[n]?d:h;if(o[n]){var p=d,f=l[n];return p<f?Math.max(h,l[n]):Math.max(d,l[n])}var v=h+s,m=l[n]+c;return v>m?Math.max(d,l[n]):Math.max(h,l[n])}function S6e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function A6e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,d,h;return o.height>0&&o.width>0&&r?(d=bF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),h=bF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=S6e({translateX:d,translateY:h,useTranslate3d:s})):c=w6e,{cssProperties:c,cssClasses:_6e({translateX:d,translateY:h,coordinate:r})}}function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){Sk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oZ(n.key),n)}}function P6e(t,e,r){return e&&N6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T6e(t,e,r){return e=VS(e),j6e(t,aZ()?Reflect.construct(e,r||[],VS(t).constructor):e.apply(t,r))}function j6e(t,e){if(e&&(Vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C6e(t)}function C6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aZ=function(){return!!t})()}function VS(t){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},VS(t)}function k6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_k(t,e)}function _k(t,e){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_k(t,e)}function Sk(t,e,r){return e=oZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oZ(t){var e=I6e(t,"string");return Vv(e)=="symbol"?e:e+""}function I6e(t,e){if(Vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _F=1,O6e=function(t){function e(){var r;E6e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=T6e(this,e,[].concat(i)),Sk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Sk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return k6e(e,t),P6e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>_F||Math.abs(n.height-this.state.lastBoundingBox.height)>_F)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,f=i.offset,v=i.position,m=i.reverseDirection,g=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,_=A6e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:f,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),A=_.cssClasses,N=_.cssProperties,I=wF(wF({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},x);return ue.createElement("div",{tabIndex:-1,className:A,style:I,ref:function(E){n.wrapperNode=E}},c)}}])}(j.PureComponent),R6e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ru={isSsr:R6e(),get:function(e){return Ru[e]},set:function(e,r){if(typeof e=="string")Ru[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Ru[i]=e[i]})}}};function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(n){wR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lZ(n.key),n)}}function M6e(t,e,r){return e&&L6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $6e(t,e,r){return e=zS(e),F6e(t,sZ()?Reflect.construct(e,r||[],zS(t).constructor):e.apply(t,r))}function F6e(t,e){if(e&&(zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B6e(t)}function B6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sZ=function(){return!!t})()}function zS(t){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zS(t)}function U6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ak(t,e)}function Ak(t,e){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ak(t,e)}function wR(t,e,r){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZ(t){var e=V6e(t,"string");return zv(e)=="symbol"?e:e+""}function V6e(t,e){if(zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z6e(t){return t.dataKey}function q6e(t,e){return ue.isValidElement(t)?ue.cloneElement(t,e):typeof t=="function"?ue.createElement(t,e):ue.createElement(y6e,e)}var yo=function(t){function e(){return D6e(this,e),$6e(this,e,arguments)}return U6e(e,t),M6e(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,h=i.filterNull,p=i.isAnimationActive,f=i.offset,v=i.payload,m=i.payloadUniqBy,g=i.position,y=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,A=i.wrapperStyle,N=v??[];h&&N.length&&(N=QJ(v.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),m,z6e));var I=N.length>0;return ue.createElement(O6e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:d,hasPayload:I,offset:f,position:g,reverseDirection:y,useTranslate3d:x,viewBox:_,wrapperStyle:A},q6e(c,AF(AF({},this.props),{},{payload:N})))}}])}(j.PureComponent);wR(yo,"displayName","Tooltip");wR(yo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ru.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var W6e=$c,H6e=function(){return W6e.Date.now()},G6e=H6e,K6e=/\s/;function Y6e(t){for(var e=t.length;e--&&K6e.test(t.charAt(e)););return e}var X6e=Y6e,Q6e=X6e,J6e=/^\s+/;function Z6e(t){return t&&t.slice(0,Q6e(t)+1).replace(J6e,"")}var eLe=Z6e,tLe=eLe,EF=wf,rLe=Ly,NF=NaN,nLe=/^[-+]0x[0-9a-f]+$/i,iLe=/^0b[01]+$/i,aLe=/^0o[0-7]+$/i,oLe=parseInt;function sLe(t){if(typeof t=="number")return t;if(rLe(t))return NF;if(EF(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=EF(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=tLe(t);var r=iLe.test(t);return r||aLe.test(t)?oLe(t.slice(2),r?2:8):nLe.test(t)?NF:+t}var cZ=sLe,lLe=wf,HP=G6e,PF=cZ,cLe="Expected a function",uLe=Math.max,dLe=Math.min;function hLe(t,e,r){var n,i,a,o,s,l,c=0,d=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(cLe);e=PF(e)||0,lLe(r)&&(d=!!r.leading,h="maxWait"in r,a=h?uLe(PF(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function f(I){var P=n,E=i;return n=i=void 0,c=I,o=t.apply(E,P),o}function v(I){return c=I,s=setTimeout(y,e),d?f(I):o}function m(I){var P=I-l,E=I-c,k=e-P;return h?dLe(k,a-E):k}function g(I){var P=I-l,E=I-c;return l===void 0||P>=e||P<0||h&&E>=a}function y(){var I=HP();if(g(I))return x(I);s=setTimeout(y,m(I))}function x(I){return s=void 0,p&&n?f(I):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function A(){return s===void 0?o:x(HP())}function N(){var I=HP(),P=g(I);if(n=arguments,i=this,l=I,P){if(s===void 0)return v(l);if(h)return clearTimeout(s),s=setTimeout(y,e),f(l)}return s===void 0&&(s=setTimeout(y,e)),o}return N.cancel=_,N.flush=A,N}var fLe=hLe,pLe=fLe,mLe=wf,gLe="Expected a function";function vLe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(gLe);return mLe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),pLe(t,e,{leading:n,maxWait:e,trailing:i})}var yLe=vLe;const uZ=Qr(yLe);function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){bLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bLe(t,e,r){return e=xLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xLe(t){var e=wLe(t,"string");return Tb(e)=="symbol"?e:e+""}function wLe(t,e){if(Tb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Le(t,e){return NLe(t)||ELe(t,e)||ALe(t,e)||SLe()}function SLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ALe(t,e){if(t){if(typeof t=="string")return jF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jF(t,e)}}function jF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ELe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function NLe(t){if(Array.isArray(t))return t}var P1=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,d=c===void 0?0:c,h=t.minHeight,p=t.maxHeight,f=t.children,v=t.debounce,m=v===void 0?0:v,g=t.id,y=t.className,x=t.onResize,_=t.style,A=_===void 0?{}:_,N=j.useRef(null),I=j.useRef();I.current=x,j.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var P=j.useState({containerWidth:i.width,containerHeight:i.height}),E=_Le(P,2),k=E[0],D=E[1],C=j.useCallback(function(L,z){D(function(re){var Y=Math.round(L),K=Math.round(z);return re.containerWidth===Y&&re.containerHeight===K?re:{containerWidth:Y,containerHeight:K}})},[]);j.useEffect(function(){var L=function(Z){var ye,ce=Z[0].contentRect,F=ce.width,V=ce.height;C(F,V),(ye=I.current)===null||ye===void 0||ye.call(I,F,V)};m>0&&(L=uZ(L,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),re=N.current.getBoundingClientRect(),Y=re.width,K=re.height;return C(Y,K),z.observe(N.current),function(){z.disconnect()}},[C,m]);var O=j.useMemo(function(){var L=k.containerWidth,z=k.containerHeight;if(L<0||z<0)return null;Sl(lp(o)||lp(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Sl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var re=lp(o)?L:o,Y=lp(l)?z:l;r&&r>0&&(re?Y=re/r:Y&&(re=Y*r),p&&Y>p&&(Y=p)),Sl(re>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,re,Y,o,l,d,h,r);var K=!Array.isArray(f)&&Ou(f.type).endsWith("Chart");return ue.Children.map(f,function(q){return ue.isValidElement(q)?j.cloneElement(q,m2({width:re,height:Y},K?{style:m2({height:"100%",width:"100%",maxHeight:Y,maxWidth:re},q.props.style)}:{})):q})},[r,f,l,p,h,d,k,o]);return ue.createElement("div",{id:g?"".concat(g):void 0,className:fr("recharts-responsive-container",y),style:m2(m2({},A),{},{width:o,height:l,minWidth:d,minHeight:h,maxHeight:p}),ref:N},O)}),_E=function(e){return null};_E.displayName="Cell";function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){PLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PLe(t,e,r){return e=TLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TLe(t){var e=jLe(t,"string");return jb(e)=="symbol"?e:e+""}function jLe(t,e){if(jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gm={widthCache:{},cacheCount:0},CLe=2e3,kLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kF="recharts_measurement_span";function ILe(t){var e=Ek({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var T1=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ru.isSsr)return{width:0,height:0};var n=ILe(r),i=JSON.stringify({text:e,copyStyle:n});if(Gm.widthCache[i])return Gm.widthCache[i];try{var a=document.getElementById(kF);a||(a=document.createElement("span"),a.setAttribute("id",kF),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Ek(Ek({},kLe),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Gm.widthCache[i]=l,++Gm.cacheCount>CLe&&(Gm.cacheCount=0,Gm.widthCache={}),l}catch{return{width:0,height:0}}},OLe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function qS(t,e){return MLe(t)||LLe(t,e)||DLe(t,e)||RLe()}function RLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DLe(t,e){if(t){if(typeof t=="string")return IF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IF(t,e)}}function IF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function MLe(t){if(Array.isArray(t))return t}function $Le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BLe(n.key),n)}}function FLe(t,e,r){return e&&OF(t.prototype,e),r&&OF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BLe(t){var e=ULe(t,"string");return Cb(e)=="symbol"?e:e+""}function ULe(t,e){if(Cb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zLe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qLe=Object.keys(dZ),_g="NaN";function WLe(t,e){return t*dZ[e]}var g2=function(){function t(e,r){$Le(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!VLe.test(r)&&(this.num=NaN,this.unit=""),qLe.includes(r)&&(this.num=WLe(e,r),this.unit="px")}return FLe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=zLe.exec(r))!==null&&n!==void 0?n:[],a=qS(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function hZ(t){if(t.includes(_g))return _g;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=RF.exec(e))!==null&&r!==void 0?r:[],i=qS(n,4),a=i[1],o=i[2],s=i[3],l=g2.parse(a??""),c=g2.parse(s??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return _g;e=e.replace(RF,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=DF.exec(e))!==null&&h!==void 0?h:[],f=qS(p,4),v=f[1],m=f[2],g=f[3],y=g2.parse(v??""),x=g2.parse(g??""),_=m==="+"?y.add(x):y.subtract(x);if(_.isNaN())return _g;e=e.replace(DF,_.toString())}return e}var LF=/\(([^()]*)\)/;function HLe(t){for(var e=t;e.includes("(");){var r=LF.exec(e),n=qS(r,2),i=n[1];e=e.replace(LF,hZ(i))}return e}function GLe(t){var e=t.replace(/\s+/g,"");return e=HLe(e),e=hZ(e),e}function KLe(t){try{return GLe(t)}catch{return _g}}function GP(t){var e=KLe(t.slice(5,-1));return e===_g?"":e}var YLe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XLe=["dx","dy","angle","className","breakAll"];function Nk(){return Nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nk.apply(this,arguments)}function MF(t,e){if(t==null)return{};var r=QLe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $F(t,e){return tMe(t)||eMe(t,e)||ZLe(t,e)||JLe()}function JLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZLe(t,e){if(t){if(typeof t=="string")return FF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FF(t,e)}}function FF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function tMe(t){if(Array.isArray(t))return t}var fZ=/[ \f\n\r\t\v\u2028\u2029]+/,pZ=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];vr(r)||(n?a=r.toString().split(""):a=r.toString().split(fZ));var o=a.map(function(l){return{word:l,width:T1(l,i).width}}),s=n?0:T1(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},rMe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,d=Qe(o),h=s,p=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re.reduce(function(Y,K){var q=K.word,Z=K.width,ye=Y[Y.length-1];if(ye&&(i==null||a||ye.width+Z+n<Number(i)))ye.words.push(q),ye.width+=Z+n;else{var ce={words:[q],width:Z};Y.push(ce)}return Y},[])},f=p(r),v=function(re){return re.reduce(function(Y,K){return Y.width>K.width?Y:K})};if(!d)return f;for(var m="…",g=function(re){var Y=h.slice(0,re),K=pZ({breakAll:c,style:l,children:Y+m}).wordsWithComputedWidth,q=p(K),Z=q.length>o||v(q).width>Number(i);return[Z,q]},y=0,x=h.length-1,_=0,A;y<=x&&_<=h.length-1;){var N=Math.floor((y+x)/2),I=N-1,P=g(I),E=$F(P,2),k=E[0],D=E[1],C=g(N),O=$F(C,1),L=O[0];if(!k&&!L&&(y=N+1),k&&L&&(x=N-1),!k&&L){A=D;break}_++}return A||f},BF=function(e){var r=vr(e)?[]:e.toString().split(fZ);return[{words:r}]},nMe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Ru.isSsr){var l,c,d=pZ({breakAll:o,children:i,style:a});if(d){var h=d.wordsWithComputedWidth,p=d.spaceWidth;l=h,c=p}else return BF(i);return rMe({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return BF(i)},UF="#808080",nm=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,p=e.textAnchor,f=p===void 0?"start":p,v=e.verticalAnchor,m=v===void 0?"end":v,g=e.fill,y=g===void 0?UF:g,x=MF(e,YLe),_=j.useMemo(function(){return nMe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:h,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,h,x.style,x.width]),A=x.dx,N=x.dy,I=x.angle,P=x.className,E=x.breakAll,k=MF(x,XLe);if(!Vi(n)||!Vi(a))return null;var D=n+(Qe(A)?A:0),C=a+(Qe(N)?N:0),O;switch(m){case"start":O=GP("calc(".concat(c,")"));break;case"middle":O=GP("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:O=GP("calc(".concat(_.length-1," * -").concat(s,")"));break}var L=[];if(h){var z=_[0].width,re=x.width;L.push("scale(".concat((Qe(re)?re/z:1)/z,")"))}return I&&L.push("rotate(".concat(I,", ").concat(D,", ").concat(C,")")),L.length&&(k.transform=L.join(" ")),ue.createElement("text",Nk({},Gt(k,!0),{x:D,y:C,className:fr("recharts-text",P),textAnchor:f,fill:y.includes("url")?UF:y}),_.map(function(Y,K){var q=Y.words.join(E?"":" ");return ue.createElement("tspan",{x:D,dy:K===0?O:s,key:"".concat(q,"-").concat(K)},q)}))};function Rh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _R(t){let e,r,n;t.length!==2?(e=Rh,r=(s,l)=>Rh(t(s),l),n=(s,l)=>t(s)-l):(e=t===Rh||t===iMe?t:aMe,r=t,n=t);function i(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;r(s[h],l)<0?c=h+1:d=h}while(c<d)}return c}function a(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;r(s[h],l)<=0?c=h+1:d=h}while(c<d)}return c}function o(s,l,c=0,d=s.length){const h=i(s,l,c,d-1);return h>c&&n(s[h-1],l)>-n(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function aMe(){return 0}function mZ(t){return t===null?NaN:+t}function*oMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const sMe=_R(Rh),tw=sMe.right;_R(mZ).center;class VF extends Map{constructor(e,r=uMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(zF(this,e))}has(e){return super.has(zF(this,e))}set(e,r){return super.set(lMe(this,e),r)}delete(e){return super.delete(cMe(this,e))}}function zF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function lMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function cMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function uMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dMe(t=Rh){if(t===Rh)return gZ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function gZ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hMe=Math.sqrt(50),fMe=Math.sqrt(10),pMe=Math.sqrt(2);function WS(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=hMe?10:a>=fMe?5:a>=pMe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?WS(t,e,r*2):[s,l,c]}function Pk(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?WS(e,t,r):WS(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Tk(t,e,r){return e=+e,t=+t,r=+r,WS(t,e,r)[2]}function jk(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Tk(e,t,r):Tk(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function qF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function WF(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vZ(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?gZ:dMe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,d=Math.log(l),h=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*h*(l-h)/l)*(c-l/2<0?-1:1),f=Math.max(r,Math.floor(e-c*h/l+p)),v=Math.min(n,Math.floor(e+(l-c)*h/l+p));vZ(t,e,f,v,i)}const a=t[e];let o=r,s=n;for(k0(t,r,e),i(t[n],a)>0&&k0(t,r,n);o<s;){for(k0(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?k0(t,r,s):(++s,k0(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function k0(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function mMe(t,e,r){if(t=Float64Array.from(oMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return WF(t);if(e>=1)return qF(t);var n,i=(n-1)*e,a=Math.floor(i),o=qF(vZ(t,a).subarray(0,a+1)),s=WF(t.subarray(a+1));return o+(s-o)*(i-a)}}function gMe(t,e,r=mZ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function vMe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Zs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ad(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ck=Symbol("implicit");function SR(){var t=new VF,e=[],r=[],n=Ck;function i(a){let o=t.get(a);if(o===void 0){if(n!==Ck)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new VF;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return SR(e,r).unknown(n)},Zs.apply(i,arguments),i}function kb(){var t=SR().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,d=.5;delete t.unknown;function h(){var p=e().length,f=i<n,v=f?i:n,m=f?n:i;a=(m-v)/Math.max(1,p-l+c*2),s&&(a=Math.floor(a)),v+=(m-v-a*(p-l))*d,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var g=vMe(p).map(function(y){return v+a*y});return r(f?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,h()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),h()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,h()):c},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),h()):d},t.copy=function(){return kb(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Zs.apply(h(),arguments)}function yZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yZ(e())},t}function j1(){return yZ(kb.apply(null,arguments).paddingInner(1))}function AR(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function bZ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function rw(){}var Ib=.7,HS=1/Ib,Kg="\\s*([+-]?\\d+)\\s*",Ob="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yMe=/^#([0-9a-f]{3,8})$/,bMe=new RegExp(`^rgb\\(${Kg},${Kg},${Kg}\\)$`),xMe=new RegExp(`^rgb\\(${Pc},${Pc},${Pc}\\)$`),wMe=new RegExp(`^rgba\\(${Kg},${Kg},${Kg},${Ob}\\)$`),_Me=new RegExp(`^rgba\\(${Pc},${Pc},${Pc},${Ob}\\)$`),SMe=new RegExp(`^hsl\\(${Ob},${Pc},${Pc}\\)$`),AMe=new RegExp(`^hsla\\(${Ob},${Pc},${Pc},${Ob}\\)$`),HF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AR(rw,Rb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GF,formatHex:GF,formatHex8:EMe,formatHsl:NMe,formatRgb:KF,toString:KF});function GF(){return this.rgb().formatHex()}function EMe(){return this.rgb().formatHex8()}function NMe(){return xZ(this).formatHsl()}function KF(){return this.rgb().formatRgb()}function Rb(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=yMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?YF(e):r===3?new Eo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?v2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?v2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bMe.exec(t))?new Eo(e[1],e[2],e[3],1):(e=xMe.exec(t))?new Eo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wMe.exec(t))?v2(e[1],e[2],e[3],e[4]):(e=_Me.exec(t))?v2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=SMe.exec(t))?JF(e[1],e[2]/100,e[3]/100,1):(e=AMe.exec(t))?JF(e[1],e[2]/100,e[3]/100,e[4]):HF.hasOwnProperty(t)?YF(HF[t]):t==="transparent"?new Eo(NaN,NaN,NaN,0):null}function YF(t){return new Eo(t>>16&255,t>>8&255,t&255,1)}function v2(t,e,r,n){return n<=0&&(t=e=r=NaN),new Eo(t,e,r,n)}function PMe(t){return t instanceof rw||(t=Rb(t)),t?(t=t.rgb(),new Eo(t.r,t.g,t.b,t.opacity)):new Eo}function kk(t,e,r,n){return arguments.length===1?PMe(t):new Eo(t,e,r,n??1)}function Eo(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}AR(Eo,kk,bZ(rw,{brighter(t){return t=t==null?HS:Math.pow(HS,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ib:Math.pow(Ib,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Eo(Tp(this.r),Tp(this.g),Tp(this.b),GS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XF,formatHex:XF,formatHex8:TMe,formatRgb:QF,toString:QF}));function XF(){return`#${cp(this.r)}${cp(this.g)}${cp(this.b)}`}function TMe(){return`#${cp(this.r)}${cp(this.g)}${cp(this.b)}${cp((isNaN(this.opacity)?1:this.opacity)*255)}`}function QF(){const t=GS(this.opacity);return`${t===1?"rgb(":"rgba("}${Tp(this.r)}, ${Tp(this.g)}, ${Tp(this.b)}${t===1?")":`, ${t})`}`}function GS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cp(t){return t=Tp(t),(t<16?"0":"")+t.toString(16)}function JF(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new vl(t,e,r,n)}function xZ(t){if(t instanceof vl)return new vl(t.h,t.s,t.l,t.opacity);if(t instanceof rw||(t=Rb(t)),!t)return new vl;if(t instanceof vl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new vl(o,s,l,t.opacity)}function jMe(t,e,r,n){return arguments.length===1?xZ(t):new vl(t,e,r,n??1)}function vl(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}AR(vl,jMe,bZ(rw,{brighter(t){return t=t==null?HS:Math.pow(HS,t),new vl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ib:Math.pow(Ib,t),new vl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Eo(KP(t>=240?t-240:t+120,i,n),KP(t,i,n),KP(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new vl(ZF(this.h),y2(this.s),y2(this.l),GS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=GS(this.opacity);return`${t===1?"hsl(":"hsla("}${ZF(this.h)}, ${y2(this.s)*100}%, ${y2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZF(t){return t=(t||0)%360,t<0?t+360:t}function y2(t){return Math.max(0,Math.min(1,t||0))}function KP(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ER=t=>()=>t;function CMe(t,e){return function(r){return t+r*e}}function kMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function IMe(t){return(t=+t)==1?wZ:function(e,r){return r-e?kMe(e,r,t):ER(isNaN(e)?r:e)}}function wZ(t,e){var r=e-t;return r?CMe(t,r):ER(isNaN(t)?e:t)}const e7=function t(e){var r=IMe(e);function n(i,a){var o=r((i=kk(i)).r,(a=kk(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=wZ(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=t,n}(1);function OMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function RMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function DMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=qy(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function LMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function KS(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function MMe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=qy(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Ik=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,YP=new RegExp(Ik.source,"g");function $Me(t){return function(){return t}}function FMe(t){return function(e){return t(e)+""}}function BMe(t,e){var r=Ik.lastIndex=YP.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Ik.exec(t))&&(i=YP.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:KS(n,i)})),r=YP.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?FMe(l[0].x):$Me(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)s[(h=l[d]).i]=h.x(c);return s.join("")})}function qy(t,e){var r=typeof e,n;return e==null||r==="boolean"?ER(e):(r==="number"?KS:r==="string"?(n=Rb(e))?(e=n,e7):BMe:e instanceof Rb?e7:e instanceof Date?LMe:RMe(e)?OMe:Array.isArray(e)?DMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?MMe:KS)(t,e)}function NR(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function UMe(t,e){e===void 0&&(e=t,t=qy);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function VMe(t){return function(){return t}}function YS(t){return+t}var t7=[0,1];function ro(t){return t}function Ok(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:VMe(isNaN(e)?NaN:.5)}function zMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function qMe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=Ok(i,n),a=r(o,a)):(n=Ok(n,i),a=r(a,o)),function(s){return a(n(s))}}function WMe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Ok(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=tw(t,s,1,n)-1;return a[l](i[l](s))}}function nw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function SE(){var t=t7,e=t7,r=qy,n,i,a,o=ro,s,l,c;function d(){var p=Math.min(t.length,e.length);return o!==ro&&(o=zMe(t[0],t[p-1])),s=p>2?WMe:qMe,l=c=null,h}function h(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(n),e,r)))(n(o(p)))}return h.invert=function(p){return o(i((c||(c=s(e,t.map(n),KS)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,YS),d()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=NR,d()},h.clamp=function(p){return arguments.length?(o=p?!0:ro,d()):o!==ro},h.interpolate=function(p){return arguments.length?(r=p,d()):r},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,f){return n=p,i=f,d()}}function PR(){return SE()(ro,ro)}function HMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function XS(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function qv(t){return t=XS(Math.abs(t)),t?t[1]:NaN}function GMe(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function KMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var YMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Db(t){if(!(e=YMe.exec(t)))throw new Error("invalid format: "+t);var e;return new TR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Db.prototype=TR.prototype;function TR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XMe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var _Z;function QMe(t,e){var r=XS(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(_Z=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+XS(t,Math.max(0,e+a-1))[0]}function r7(t,e){var r=XS(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const n7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:HMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>r7(t*100,e),r:r7,s:QMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function i7(t){return t}var a7=Array.prototype.map,o7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function JMe(t){var e=t.grouping===void 0||t.thousands===void 0?i7:GMe(a7.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?i7:KMe(a7.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=Db(h);var p=h.fill,f=h.align,v=h.sign,m=h.symbol,g=h.zero,y=h.width,x=h.comma,_=h.precision,A=h.trim,N=h.type;N==="n"?(x=!0,N="g"):n7[N]||(_===void 0&&(_=12),A=!0,N="g"),(g||p==="0"&&f==="=")&&(g=!0,p="0",f="=");var I=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=m==="$"?n:/[%p]/.test(N)?o:"",E=n7[N],k=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(C){var O=I,L=P,z,re,Y;if(N==="c")L=E(C)+L,C="";else{C=+C;var K=C<0||1/C<0;if(C=isNaN(C)?l:E(Math.abs(C),_),A&&(C=XMe(C)),K&&+C==0&&v!=="+"&&(K=!1),O=(K?v==="("?v:s:v==="-"||v==="("?"":v)+O,L=(N==="s"?o7[8+_Z/3]:"")+L+(K&&v==="("?")":""),k){for(z=-1,re=C.length;++z<re;)if(Y=C.charCodeAt(z),48>Y||Y>57){L=(Y===46?i+C.slice(z+1):C.slice(z))+L,C=C.slice(0,z);break}}}x&&!g&&(C=e(C,1/0));var q=O.length+C.length+L.length,Z=q<y?new Array(y-q+1).join(p):"";switch(x&&g&&(C=e(Z+C,Z.length?y-L.length:1/0),Z=""),f){case"<":C=O+C+L+Z;break;case"=":C=O+Z+C+L;break;case"^":C=Z.slice(0,q=Z.length>>1)+O+C+L+Z.slice(q);break;default:C=Z+O+C+L;break}return a(C)}return D.toString=function(){return h+""},D}function d(h,p){var f=c((h=Db(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(qv(p)/3)))*3,m=Math.pow(10,-v),g=o7[8+v/3];return function(y){return f(m*y)+g}}return{format:c,formatPrefix:d}}var b2,jR,SZ;ZMe({thousands:",",grouping:[3],currency:["$",""]});function ZMe(t){return b2=JMe(t),jR=b2.format,SZ=b2.formatPrefix,b2}function e8e(t){return Math.max(0,-qv(Math.abs(t)))}function t8e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qv(e)/3)))*3-qv(Math.abs(t)))}function r8e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qv(e)-qv(t))+1}function AZ(t,e,r,n){var i=jk(t,e,r),a;switch(n=Db(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=t8e(i,o))&&(n.precision=a),SZ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=r8e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=e8e(i))&&(n.precision=a-(n.type==="%")*2);break}}return jR(n)}function _f(t){var e=t.domain;return t.ticks=function(r){var n=e();return Pk(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return AZ(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);d-- >0;){if(c=Tk(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function QS(){var t=PR();return t.copy=function(){return nw(t,QS())},Zs.apply(t,arguments),_f(t)}function EZ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,YS),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return EZ(t).unknown(e)},t=arguments.length?Array.from(t,YS):[0,1],_f(r)}function NZ(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function s7(t){return Math.log(t)}function l7(t){return Math.exp(t)}function n8e(t){return-Math.log(-t)}function i8e(t){return-Math.exp(-t)}function a8e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function o8e(t){return t===10?a8e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function s8e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function c7(t){return(e,r)=>-t(-e,r)}function CR(t){const e=t(s7,l7),r=e.domain;let n=10,i,a;function o(){return i=s8e(n),a=o8e(n),r()[0]<0?(i=c7(i),a=c7(a),t(n8e,i8e)):t(s7,l7),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const h=d<c;h&&([c,d]=[d,c]);let p=i(c),f=i(d),v,m;const g=s==null?10:+s;let y=[];if(!(n%1)&&f-p<g){if(p=Math.floor(p),f=Math.ceil(f),c>0){for(;p<=f;++p)for(v=1;v<n;++v)if(m=p<0?v/a(-p):v*a(p),!(m<c)){if(m>d)break;y.push(m)}}else for(;p<=f;++p)for(v=n-1;v>=1;--v)if(m=p>0?v/a(-p):v*a(p),!(m<c)){if(m>d)break;y.push(m)}y.length*2<g&&(y=Pk(c,d,g))}else y=Pk(p,f,Math.min(f-p,g)).map(a);return h?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Db(l)).precision==null&&(l.trim=!0),l=jR(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=c?l(d):""}},e.nice=()=>r(NZ(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function PZ(){const t=CR(SE()).domain([1,10]);return t.copy=()=>nw(t,PZ()).base(t.base()),Zs.apply(t,arguments),t}function u7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function d7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kR(t){var e=1,r=t(u7(e),d7(e));return r.constant=function(n){return arguments.length?t(u7(e=+n),d7(e)):e},_f(r)}function TZ(){var t=kR(SE());return t.copy=function(){return nw(t,TZ()).constant(t.constant())},Zs.apply(t,arguments)}function h7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function l8e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function c8e(t){return t<0?-t*t:t*t}function IR(t){var e=t(ro,ro),r=1;function n(){return r===1?t(ro,ro):r===.5?t(l8e,c8e):t(h7(r),h7(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},_f(e)}function OR(){var t=IR(SE());return t.copy=function(){return nw(t,OR()).exponent(t.exponent())},Zs.apply(t,arguments),t}function u8e(){return OR.apply(null,arguments).exponent(.5)}function f7(t){return Math.sign(t)*t*t}function d8e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jZ(){var t=PR(),e=[0,1],r=!1,n;function i(a){var o=d8e(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(f7(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,YS)).map(f7)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jZ(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Zs.apply(i,arguments),_f(i)}function CZ(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=gMe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[tw(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Rh),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return CZ().domain(t).range(e).unknown(n)},Zs.apply(a,arguments)}function kZ(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[tw(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return kZ().domain([t,e]).range(i).unknown(a)},Zs.apply(_f(o),arguments)}function IZ(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[tw(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return IZ().domain(t).range(e).unknown(r)},Zs.apply(i,arguments)}const XP=new Date,QP=new Date;function Hi(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>Hi(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(XP.setTime(+a),QP.setTime(+o),t(XP),t(QP),Math.floor(r(XP,QP))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const JS=Hi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);JS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Hi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):JS);JS.range;const Au=1e3,Fs=Au*60,Eu=Fs*60,Gu=Eu*24,RR=Gu*7,p7=Gu*30,JP=Gu*365,up=Hi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Au)},(t,e)=>(e-t)/Au,t=>t.getUTCSeconds());up.range;const DR=Hi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Au)},(t,e)=>{t.setTime(+t+e*Fs)},(t,e)=>(e-t)/Fs,t=>t.getMinutes());DR.range;const LR=Hi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fs)},(t,e)=>(e-t)/Fs,t=>t.getUTCMinutes());LR.range;const MR=Hi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Au-t.getMinutes()*Fs)},(t,e)=>{t.setTime(+t+e*Eu)},(t,e)=>(e-t)/Eu,t=>t.getHours());MR.range;const $R=Hi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Eu)},(t,e)=>(e-t)/Eu,t=>t.getUTCHours());$R.range;const iw=Hi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fs)/Gu,t=>t.getDate()-1);iw.range;const AE=Hi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gu,t=>t.getUTCDate()-1);AE.range;const OZ=Hi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gu,t=>Math.floor(t/Gu));OZ.range;function xm(t){return Hi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Fs)/RR)}const EE=xm(0),ZS=xm(1),h8e=xm(2),f8e=xm(3),Wv=xm(4),p8e=xm(5),m8e=xm(6);EE.range;ZS.range;h8e.range;f8e.range;Wv.range;p8e.range;m8e.range;function wm(t){return Hi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/RR)}const NE=wm(0),e5=wm(1),g8e=wm(2),v8e=wm(3),Hv=wm(4),y8e=wm(5),b8e=wm(6);NE.range;e5.range;g8e.range;v8e.range;Hv.range;y8e.range;b8e.range;const FR=Hi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FR.range;const BR=Hi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());BR.range;const Ku=Hi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ku.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ku.range;const Yu=Hi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Yu.range;function RZ(t,e,r,n,i,a){const o=[[up,1,Au],[up,5,5*Au],[up,15,15*Au],[up,30,30*Au],[a,1,Fs],[a,5,5*Fs],[a,15,15*Fs],[a,30,30*Fs],[i,1,Eu],[i,3,3*Eu],[i,6,6*Eu],[i,12,12*Eu],[n,1,Gu],[n,2,2*Gu],[r,1,RR],[e,1,p7],[e,3,3*p7],[t,1,JP]];function s(c,d,h){const p=d<c;p&&([c,d]=[d,c]);const f=h&&typeof h.range=="function"?h:l(c,d,h),v=f?f.range(c,+d+1):[];return p?v.reverse():v}function l(c,d,h){const p=Math.abs(d-c)/h,f=_R(([,,g])=>g).right(o,p);if(f===o.length)return t.every(jk(c/JP,d/JP,h));if(f===0)return JS.every(Math.max(jk(c,d,h),1));const[v,m]=o[p/o[f-1][2]<o[f][2]/p?f-1:f];return v.every(m)}return[s,l]}const[x8e,w8e]=RZ(Yu,BR,NE,OZ,$R,LR),[_8e,S8e]=RZ(Ku,FR,EE,iw,MR,DR);function ZP(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function I0(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function A8e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=O0(i),d=R0(i),h=O0(a),p=R0(a),f=O0(o),v=R0(o),m=O0(s),g=R0(s),y=O0(l),x=R0(l),_={a:K,A:q,b:Z,B:ye,c:null,d:x7,e:x7,f:G8e,g:n$e,G:a$e,H:q8e,I:W8e,j:H8e,L:DZ,m:K8e,M:Y8e,p:ce,q:F,Q:S7,s:A7,S:X8e,u:Q8e,U:J8e,V:Z8e,w:e$e,W:t$e,x:null,X:null,y:r$e,Y:i$e,Z:o$e,"%":_7},A={a:V,A:G,b:oe,B:J,c:null,d:w7,e:w7,f:u$e,g:x$e,G:_$e,H:s$e,I:l$e,j:c$e,L:MZ,m:d$e,M:h$e,p:ne,q:xe,Q:S7,s:A7,S:f$e,u:p$e,U:m$e,V:g$e,w:v$e,W:y$e,x:null,X:null,y:b$e,Y:w$e,Z:S$e,"%":_7},N={a:D,A:C,b:O,B:L,c:z,d:y7,e:y7,f:B8e,g:v7,G:g7,H:b7,I:b7,j:L8e,L:F8e,m:D8e,M:M8e,p:k,q:R8e,Q:V8e,s:z8e,S:$8e,u:j8e,U:C8e,V:k8e,w:T8e,W:I8e,x:re,X:Y,y:v7,Y:g7,Z:O8e,"%":U8e};_.x=I(r,_),_.X=I(n,_),_.c=I(e,_),A.x=I(r,A),A.X=I(n,A),A.c=I(e,A);function I(he,T){return function(X){var le=[],de=-1,ve=0,ee=he.length,Ne,Re,Le;for(X instanceof Date||(X=new Date(+X));++de<ee;)he.charCodeAt(de)===37&&(le.push(he.slice(ve,de)),(Re=m7[Ne=he.charAt(++de)])!=null?Ne=he.charAt(++de):Re=Ne==="e"?" ":"0",(Le=T[Ne])&&(Ne=Le(X,Re)),le.push(Ne),ve=de+1);return le.push(he.slice(ve,de)),le.join("")}}function P(he,T){return function(X){var le=I0(1900,void 0,1),de=E(le,he,X+="",0),ve,ee;if(de!=X.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(T&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(ve=eT(I0(le.y,0,1)),ee=ve.getUTCDay(),ve=ee>4||ee===0?e5.ceil(ve):e5(ve),ve=AE.offset(ve,(le.V-1)*7),le.y=ve.getUTCFullYear(),le.m=ve.getUTCMonth(),le.d=ve.getUTCDate()+(le.w+6)%7):(ve=ZP(I0(le.y,0,1)),ee=ve.getDay(),ve=ee>4||ee===0?ZS.ceil(ve):ZS(ve),ve=iw.offset(ve,(le.V-1)*7),le.y=ve.getFullYear(),le.m=ve.getMonth(),le.d=ve.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),ee="Z"in le?eT(I0(le.y,0,1)).getUTCDay():ZP(I0(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(ee+5)%7:le.w+le.U*7-(ee+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,eT(le)):ZP(le)}}function E(he,T,X,le){for(var de=0,ve=T.length,ee=X.length,Ne,Re;de<ve;){if(le>=ee)return-1;if(Ne=T.charCodeAt(de++),Ne===37){if(Ne=T.charAt(de++),Re=N[Ne in m7?T.charAt(de++):Ne],!Re||(le=Re(he,X,le))<0)return-1}else if(Ne!=X.charCodeAt(le++))return-1}return le}function k(he,T,X){var le=c.exec(T.slice(X));return le?(he.p=d.get(le[0].toLowerCase()),X+le[0].length):-1}function D(he,T,X){var le=f.exec(T.slice(X));return le?(he.w=v.get(le[0].toLowerCase()),X+le[0].length):-1}function C(he,T,X){var le=h.exec(T.slice(X));return le?(he.w=p.get(le[0].toLowerCase()),X+le[0].length):-1}function O(he,T,X){var le=y.exec(T.slice(X));return le?(he.m=x.get(le[0].toLowerCase()),X+le[0].length):-1}function L(he,T,X){var le=m.exec(T.slice(X));return le?(he.m=g.get(le[0].toLowerCase()),X+le[0].length):-1}function z(he,T,X){return E(he,e,T,X)}function re(he,T,X){return E(he,r,T,X)}function Y(he,T,X){return E(he,n,T,X)}function K(he){return o[he.getDay()]}function q(he){return a[he.getDay()]}function Z(he){return l[he.getMonth()]}function ye(he){return s[he.getMonth()]}function ce(he){return i[+(he.getHours()>=12)]}function F(he){return 1+~~(he.getMonth()/3)}function V(he){return o[he.getUTCDay()]}function G(he){return a[he.getUTCDay()]}function oe(he){return l[he.getUTCMonth()]}function J(he){return s[he.getUTCMonth()]}function ne(he){return i[+(he.getUTCHours()>=12)]}function xe(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var T=I(he+="",_);return T.toString=function(){return he},T},parse:function(he){var T=P(he+="",!1);return T.toString=function(){return he},T},utcFormat:function(he){var T=I(he+="",A);return T.toString=function(){return he},T},utcParse:function(he){var T=P(he+="",!0);return T.toString=function(){return he},T}}}var m7={"-":"",_:" ",0:"0"},na=/^\s*\d+/,E8e=/^%/,N8e=/[\\^$*+?|[\]().{}]/g;function zr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function P8e(t){return t.replace(N8e,"\\$&")}function O0(t){return new RegExp("^(?:"+t.map(P8e).join("|")+")","i")}function R0(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function T8e(t,e,r){var n=na.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function j8e(t,e,r){var n=na.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function C8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function k8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function I8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function g7(t,e,r){var n=na.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function v7(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function O8e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function R8e(t,e,r){var n=na.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function D8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function y7(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function L8e(t,e,r){var n=na.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function b7(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function M8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function $8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function F8e(t,e,r){var n=na.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function B8e(t,e,r){var n=na.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function U8e(t,e,r){var n=E8e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function V8e(t,e,r){var n=na.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function z8e(t,e,r){var n=na.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function x7(t,e){return zr(t.getDate(),e,2)}function q8e(t,e){return zr(t.getHours(),e,2)}function W8e(t,e){return zr(t.getHours()%12||12,e,2)}function H8e(t,e){return zr(1+iw.count(Ku(t),t),e,3)}function DZ(t,e){return zr(t.getMilliseconds(),e,3)}function G8e(t,e){return DZ(t,e)+"000"}function K8e(t,e){return zr(t.getMonth()+1,e,2)}function Y8e(t,e){return zr(t.getMinutes(),e,2)}function X8e(t,e){return zr(t.getSeconds(),e,2)}function Q8e(t){var e=t.getDay();return e===0?7:e}function J8e(t,e){return zr(EE.count(Ku(t)-1,t),e,2)}function LZ(t){var e=t.getDay();return e>=4||e===0?Wv(t):Wv.ceil(t)}function Z8e(t,e){return t=LZ(t),zr(Wv.count(Ku(t),t)+(Ku(t).getDay()===4),e,2)}function e$e(t){return t.getDay()}function t$e(t,e){return zr(ZS.count(Ku(t)-1,t),e,2)}function r$e(t,e){return zr(t.getFullYear()%100,e,2)}function n$e(t,e){return t=LZ(t),zr(t.getFullYear()%100,e,2)}function i$e(t,e){return zr(t.getFullYear()%1e4,e,4)}function a$e(t,e){var r=t.getDay();return t=r>=4||r===0?Wv(t):Wv.ceil(t),zr(t.getFullYear()%1e4,e,4)}function o$e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zr(e/60|0,"0",2)+zr(e%60,"0",2)}function w7(t,e){return zr(t.getUTCDate(),e,2)}function s$e(t,e){return zr(t.getUTCHours(),e,2)}function l$e(t,e){return zr(t.getUTCHours()%12||12,e,2)}function c$e(t,e){return zr(1+AE.count(Yu(t),t),e,3)}function MZ(t,e){return zr(t.getUTCMilliseconds(),e,3)}function u$e(t,e){return MZ(t,e)+"000"}function d$e(t,e){return zr(t.getUTCMonth()+1,e,2)}function h$e(t,e){return zr(t.getUTCMinutes(),e,2)}function f$e(t,e){return zr(t.getUTCSeconds(),e,2)}function p$e(t){var e=t.getUTCDay();return e===0?7:e}function m$e(t,e){return zr(NE.count(Yu(t)-1,t),e,2)}function $Z(t){var e=t.getUTCDay();return e>=4||e===0?Hv(t):Hv.ceil(t)}function g$e(t,e){return t=$Z(t),zr(Hv.count(Yu(t),t)+(Yu(t).getUTCDay()===4),e,2)}function v$e(t){return t.getUTCDay()}function y$e(t,e){return zr(e5.count(Yu(t)-1,t),e,2)}function b$e(t,e){return zr(t.getUTCFullYear()%100,e,2)}function x$e(t,e){return t=$Z(t),zr(t.getUTCFullYear()%100,e,2)}function w$e(t,e){return zr(t.getUTCFullYear()%1e4,e,4)}function _$e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Hv(t):Hv.ceil(t),zr(t.getUTCFullYear()%1e4,e,4)}function S$e(){return"+0000"}function _7(){return"%"}function S7(t){return+t}function A7(t){return Math.floor(+t/1e3)}var Km,FZ,BZ;A$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A$e(t){return Km=A8e(t),FZ=Km.format,Km.parse,BZ=Km.utcFormat,Km.utcParse,Km}function E$e(t){return new Date(t)}function N$e(t){return t instanceof Date?+t:+new Date(+t)}function UR(t,e,r,n,i,a,o,s,l,c){var d=PR(),h=d.invert,p=d.domain,f=c(".%L"),v=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),x=c("%b %d"),_=c("%B"),A=c("%Y");function N(I){return(l(I)<I?f:s(I)<I?v:o(I)<I?m:a(I)<I?g:n(I)<I?i(I)<I?y:x:r(I)<I?_:A)(I)}return d.invert=function(I){return new Date(h(I))},d.domain=function(I){return arguments.length?p(Array.from(I,N$e)):p().map(E$e)},d.ticks=function(I){var P=p();return t(P[0],P[P.length-1],I??10)},d.tickFormat=function(I,P){return P==null?N:c(P)},d.nice=function(I){var P=p();return(!I||typeof I.range!="function")&&(I=e(P[0],P[P.length-1],I??10)),I?p(NZ(P,I)):d},d.copy=function(){return nw(d,UR(t,e,r,n,i,a,o,s,l,c))},d}function P$e(){return Zs.apply(UR(_8e,S8e,Ku,FR,EE,iw,MR,DR,up,FZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T$e(){return Zs.apply(UR(x8e,w8e,Yu,BR,NE,AE,$R,LR,up,BZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function PE(){var t=0,e=1,r,n,i,a,o=ro,s=!1,l;function c(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(a(h)-r)*i,s?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(h){return arguments.length?(s=!!h,c):s},c.interpolator=function(h){return arguments.length?(o=h,c):o};function d(h){return function(p){var f,v;return arguments.length?([f,v]=p,o=h(f,v),c):[o(0),o(1)]}}return c.range=d(qy),c.rangeRound=d(NR),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),c}}function Sf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UZ(){var t=_f(PE()(ro));return t.copy=function(){return Sf(t,UZ())},ad.apply(t,arguments)}function VZ(){var t=CR(PE()).domain([1,10]);return t.copy=function(){return Sf(t,VZ()).base(t.base())},ad.apply(t,arguments)}function zZ(){var t=kR(PE());return t.copy=function(){return Sf(t,zZ()).constant(t.constant())},ad.apply(t,arguments)}function VR(){var t=IR(PE());return t.copy=function(){return Sf(t,VR()).exponent(t.exponent())},ad.apply(t,arguments)}function j$e(){return VR.apply(null,arguments).exponent(.5)}function qZ(){var t=[],e=ro;function r(n){if(n!=null&&!isNaN(n=+n))return e((tw(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Rh),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>mMe(t,a/n))},r.copy=function(){return qZ(e).domain(t)},ad.apply(r,arguments)}function TE(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=ro,d,h=!1,p;function f(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-a)*(n*m<n*a?s:l),c(h?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e,r]=m,i=d(t=+t),a=d(e=+e),o=d(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,f):[t,e,r]},f.clamp=function(m){return arguments.length?(h=!!m,f):h},f.interpolator=function(m){return arguments.length?(c=m,f):c};function v(m){return function(g){var y,x,_;return arguments.length?([y,x,_]=g,c=UMe(m,[y,x,_]),f):[c(0),c(.5),c(1)]}}return f.range=v(qy),f.rangeRound=v(NR),f.unknown=function(m){return arguments.length?(p=m,f):p},function(m){return d=m,i=m(t),a=m(e),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,f}}function WZ(){var t=_f(TE()(ro));return t.copy=function(){return Sf(t,WZ())},ad.apply(t,arguments)}function HZ(){var t=CR(TE()).domain([.1,1,10]);return t.copy=function(){return Sf(t,HZ()).base(t.base())},ad.apply(t,arguments)}function GZ(){var t=kR(TE());return t.copy=function(){return Sf(t,GZ()).constant(t.constant())},ad.apply(t,arguments)}function zR(){var t=IR(TE());return t.copy=function(){return Sf(t,zR()).exponent(t.exponent())},ad.apply(t,arguments)}function C$e(){return zR.apply(null,arguments).exponent(.5)}const E7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kb,scaleDiverging:WZ,scaleDivergingLog:HZ,scaleDivergingPow:zR,scaleDivergingSqrt:C$e,scaleDivergingSymlog:GZ,scaleIdentity:EZ,scaleImplicit:Ck,scaleLinear:QS,scaleLog:PZ,scaleOrdinal:SR,scalePoint:j1,scalePow:OR,scaleQuantile:CZ,scaleQuantize:kZ,scaleRadial:jZ,scaleSequential:UZ,scaleSequentialLog:VZ,scaleSequentialPow:VR,scaleSequentialQuantile:qZ,scaleSequentialSqrt:j$e,scaleSequentialSymlog:zZ,scaleSqrt:u8e,scaleSymlog:TZ,scaleThreshold:IZ,scaleTime:P$e,scaleUtc:T$e,tickFormat:AZ},Symbol.toStringTag,{value:"Module"}));var k$e=Ly;function I$e(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!k$e(o):r(o,s)))var s=o,l=a}return l}var jE=I$e;function O$e(t,e){return t>e}var KZ=O$e,R$e=jE,D$e=KZ,L$e=zy;function M$e(t){return t&&t.length?R$e(t,L$e,D$e):void 0}var $$e=M$e;const CE=Qr($$e);function F$e(t,e){return t<e}var YZ=F$e,B$e=jE,U$e=YZ,V$e=zy;function z$e(t){return t&&t.length?B$e(t,V$e,U$e):void 0}var q$e=z$e;const kE=Qr(q$e);var W$e=nR,H$e=Fc,G$e=nZ,K$e=ko;function Y$e(t,e){var r=K$e(t)?W$e:G$e;return r(t,H$e(e))}var X$e=Y$e,Q$e=tZ,J$e=X$e;function Z$e(t,e){return Q$e(J$e(t,e),1)}var eFe=Z$e;const tFe=Qr(eFe);var rFe=yR;function nFe(t,e){return rFe(t,e)}var iFe=nFe;const IE=Qr(iFe);var Wy=1e9,aFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WR,Kn=!0,Xs="[DecimalError] ",jp=Xs+"Invalid argument: ",qR=Xs+"Exponent out of range: ",Hy=Math.floor,Jf=Math.pow,oFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qo,Xi=1e7,Un=7,XZ=9007199254740991,t5=Hy(XZ/Un),ft={};ft.absoluteValue=ft.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ft.comparedTo=ft.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Un;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ft.dividedBy=ft.div=function(t){return Du(this,new this.constructor(t))};ft.dividedToIntegerBy=ft.idiv=function(t){var e=this,r=e.constructor;return _n(Du(e,new r(t),0,1),r.precision)};ft.equals=ft.eq=function(t){return!this.cmp(t)};ft.exponent=function(){return Ci(this)};ft.greaterThan=ft.gt=function(t){return this.cmp(t)>0};ft.greaterThanOrEqualTo=ft.gte=function(t){return this.cmp(t)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(t){return this.cmp(t)<0};ft.lessThanOrEqualTo=ft.lte=function(t){return this.cmp(t)<1};ft.logarithm=ft.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Qo))throw Error(Xs+"NaN");if(r.s<1)throw Error(Xs+(r.s?"NaN":"-Infinity"));return r.eq(Qo)?new n(0):(Kn=!1,e=Du(Lb(r,a),Lb(t,a),a),Kn=!0,_n(e,i))};ft.minus=ft.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZZ(e,t):QZ(e,(t.s=-t.s,t))};ft.modulo=ft.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Xs+"NaN");return r.s?(Kn=!1,e=Du(r,t,0,1).times(t),Kn=!0,r.minus(e)):_n(new n(r),i)};ft.naturalExponential=ft.exp=function(){return JZ(this)};ft.naturalLogarithm=ft.ln=function(){return Lb(this)};ft.negated=ft.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ft.plus=ft.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?QZ(e,t):ZZ(e,(t.s=-t.s,t))};ft.precision=ft.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(jp+t);if(e=Ci(i)+1,n=i.d.length-1,r=n*Un+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ft.squareRoot=ft.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Xs+"NaN")}for(t=Ci(s),Kn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=pc(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Hy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Du(s,a,o+2)).times(.5),pc(a.d).slice(0,o)===(e=pc(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(_n(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Kn=!0,_n(n,r)};ft.times=ft.mul=function(t){var e,r,n,i,a,o,s,l,c,d=this,h=d.constructor,p=d.d,f=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,l=p.length,c=f.length,l<c&&(a=p,p=f,f=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+f[n]*p[i-n-1]+e,a[i--]=s%Xi|0,e=s/Xi|0;a[i]=(a[i]+e)%Xi|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Kn?_n(t,h.precision):t};ft.toDecimalPlaces=ft.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Rc(t,0,Wy),e===void 0?e=n.rounding:Rc(e,0,8),_n(r,t+Ci(r)+1,e))};ft.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=im(n,!0):(Rc(t,0,Wy),e===void 0?e=i.rounding:Rc(e,0,8),n=_n(new i(n),t+1,e),r=im(n,!0,t+1)),r};ft.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?im(i):(Rc(t,0,Wy),e===void 0?e=a.rounding:Rc(e,0,8),n=_n(new a(i),t+Ci(i)+1,e),r=im(n.abs(),!1,t+Ci(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ft.toInteger=ft.toint=function(){var t=this,e=t.constructor;return _n(new e(t),Ci(t)+1,e.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Qo);if(s=new l(s),!s.s){if(t.s<1)throw Error(Xs+"Infinity");return s}if(s.eq(Qo))return s;if(n=l.precision,t.eq(Qo))return _n(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=d<0?-d:d)<=XZ){for(i=new l(Qo),e=Math.ceil(n/Un+4),Kn=!1;r%2&&(i=i.times(s),P7(i.d,e)),r=Hy(r/2),r!==0;)s=s.times(s),P7(s.d,e);return Kn=!0,t.s<0?new l(Qo).div(i):_n(i,n)}}else if(a<0)throw Error(Xs+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Kn=!1,i=t.times(Lb(s,n+c)),Kn=!0,i=JZ(i),i.s=a,i};ft.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ci(i),n=im(i,r<=a.toExpNeg||r>=a.toExpPos)):(Rc(t,1,Wy),e===void 0?e=a.rounding:Rc(e,0,8),i=_n(new a(i),t,e),r=Ci(i),n=im(i,t<=r||r<=a.toExpNeg,t)),n};ft.toSignificantDigits=ft.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Rc(t,1,Wy),e===void 0?e=n.rounding:Rc(e,0,8)),_n(new n(r),t,e)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ci(t),r=t.constructor;return im(t,e<=r.toExpNeg||e>=r.toExpPos)};function QZ(t,e){var r,n,i,a,o,s,l,c,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Kn?_n(e,h):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(h/Un),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Xi|0,l[a]%=Xi;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Kn?_n(e,h):e}function Rc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(jp+t)}function pc(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Un-n.length,r&&(a+=Wd(r)),a+=n;o=t[e],n=o+"",r=Un-n.length,r&&(a+=Wd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Du=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Xi|0,o=a/Xi|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Xi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,d,h,p,f,v,m,g,y,x,_,A,N,I,P,E,k=n.constructor,D=n.s==i.s?1:-1,C=n.d,O=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(Xs+"Division by zero");for(l=n.e-i.e,P=O.length,N=C.length,f=new k(D),v=f.d=[],c=0;O[c]==(C[c]||0);)++c;if(O[c]>(C[c]||0)&&--l,a==null?x=a=k.precision:o?x=a+(Ci(n)-Ci(i))+1:x=a,x<0)return new k(0);if(x=x/Un+2|0,c=0,P==1)for(d=0,O=O[0],x++;(c<N||d)&&x--;c++)_=d*Xi+(C[c]||0),v[c]=_/O|0,d=_%O|0;else{for(d=Xi/(O[0]+1)|0,d>1&&(O=t(O,d),C=t(C,d),P=O.length,N=C.length),A=P,m=C.slice(0,P),g=m.length;g<P;)m[g++]=0;E=O.slice(),E.unshift(0),I=O[0],O[1]>=Xi/2&&++I;do d=0,s=e(O,m,P,g),s<0?(y=m[0],P!=g&&(y=y*Xi+(m[1]||0)),d=y/I|0,d>1?(d>=Xi&&(d=Xi-1),h=t(O,d),p=h.length,g=m.length,s=e(h,m,p,g),s==1&&(d--,r(h,P<p?E:O,p))):(d==0&&(s=d=1),h=O.slice()),p=h.length,p<g&&h.unshift(0),r(m,h,g),s==-1&&(g=m.length,s=e(O,m,P,g),s<1&&(d++,r(m,P<g?E:O,g))),g=m.length):s===0&&(d++,m=[0]),v[c++]=d,s&&m[0]?m[g++]=C[A]||0:(m=[C[A]],g=1);while((A++<N||m[0]!==void 0)&&x--)}return v[0]||v.shift(),f.e=l,_n(f,o?a+Ci(f)+1:a)}}();function JZ(t,e){var r,n,i,a,o,s,l=0,c=0,d=t.constructor,h=d.precision;if(Ci(t)>16)throw Error(qR+Ci(t));if(!t.s)return new d(Qo);for(e==null?(Kn=!1,s=h):s=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(Jf(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new d(Qo),d.precision=s;;){if(i=_n(i.times(t),s),r=r.times(++l),o=a.plus(Du(i,r,s)),pc(o.d).slice(0,s)===pc(a.d).slice(0,s)){for(;c--;)a=_n(a.times(a),s);return d.precision=h,e==null?(Kn=!0,_n(a,h)):a}a=o}}function Ci(t){for(var e=t.e*Un,r=t.d[0];r>=10;r/=10)e++;return e}function tT(t,e,r){if(e>t.LN10.sd())throw Kn=!0,r&&(t.precision=r),Error(Xs+"LN10 precision limit exceeded");return _n(new t(t.LN10),e)}function Wd(t){for(var e="";t--;)e+="0";return e}function Lb(t,e){var r,n,i,a,o,s,l,c,d,h=1,p=10,f=t,v=f.d,m=f.constructor,g=m.precision;if(f.s<1)throw Error(Xs+(f.s?"NaN":"-Infinity"));if(f.eq(Qo))return new m(0);if(e==null?(Kn=!1,c=g):c=e,f.eq(10))return e==null&&(Kn=!0),tT(m,c);if(c+=p,m.precision=c,r=pc(v),n=r.charAt(0),a=Ci(f),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=pc(f.d),n=r.charAt(0),h++;a=Ci(f),n>1?(f=new m("0."+r),a++):f=new m(n+"."+r.slice(1))}else return l=tT(m,c+2,g).times(a+""),f=Lb(new m(n+"."+r.slice(1)),c-p).plus(l),m.precision=g,e==null?(Kn=!0,_n(f,g)):f;for(s=o=f=Du(f.minus(Qo),f.plus(Qo),c),d=_n(f.times(f),c),i=3;;){if(o=_n(o.times(d),c),l=s.plus(Du(o,new m(i),c)),pc(l.d).slice(0,c)===pc(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(tT(m,c+2,g).times(a+""))),s=Du(s,new m(h),c),m.precision=g,e==null?(Kn=!0,_n(s,g)):s;s=l,i+=2}}function N7(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Hy(r/Un),t.d=[],n=(r+1)%Un,r<0&&(n+=Un),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Un;n<i;)t.d.push(+e.slice(n,n+=Un));e=e.slice(n),n=Un-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Kn&&(t.e>t5||t.e<-t5))throw Error(qR+r)}else t.s=0,t.e=0,t.d=[0];return t}function _n(t,e,r){var n,i,a,o,s,l,c,d,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Un,i=e,c=h[d=0];else{if(d=Math.ceil((n+1)/Un),a=h.length,d>=a)return t;for(c=a=h[d],o=1;a>=10;a/=10)o++;n%=Un,i=n-Un+o}if(r!==void 0&&(a=Jf(10,o-i-1),s=c/a%10|0,l=e<0||h[d+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Jf(10,o-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return l?(a=Ci(t),h.length=1,e=e-a-1,h[0]=Jf(10,(Un-e%Un)%Un),t.e=Hy(-e/Un)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=Jf(10,Un-n),h[d]=i>0?(c/Jf(10,o-i)%Jf(10,i)|0)*a:0),l)for(;;)if(d==0){(h[0]+=a)==Xi&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=Xi)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Kn&&(t.e>t5||t.e<-t5))throw Error(qR+Ci(t));return t}function ZZ(t,e){var r,n,i,a,o,s,l,c,d,h,p=t.constructor,f=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Kn?_n(e,f):e;if(l=t.d,h=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,s=h.length):(r=h,n=c,s=l.length),i=Math.max(Math.ceil(f/Un),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=h.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}o=0}for(d&&(r=l,l=h,h=r,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=Xi-1;--l[a],l[i]+=Xi}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Kn?_n(e,f):e):new p(0)}function im(t,e,r){var n,i=Ci(t),a=pc(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Wd(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Wd(-i-1)+a,r&&(n=r-o)>0&&(a+=Wd(n))):i>=o?(a+=Wd(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Wd(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Wd(n))),t.s<0?"-"+a:a}function P7(t,e){if(t.length>e)return t.length=e,!0}function eee(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(jp+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return N7(o,a.toString())}else if(typeof a!="string")throw Error(jp+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,oFe.test(a))N7(o,a);else throw Error(jp+a)}if(i.prototype=ft,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eee,i.config=i.set=sFe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function sFe(t){if(!t||typeof t!="object")throw Error(Xs+"Object expected");var e,r,n,i=["precision",1,Wy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Hy(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(jp+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jp+r+": "+n);return this}var WR=eee(aFe);Qo=new WR(1);const dn=WR;function lFe(t){return hFe(t)||dFe(t)||uFe(t)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(t,e){if(t){if(typeof t=="string")return Rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(t,e)}}function dFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hFe(t){if(Array.isArray(t))return Rk(t)}function Rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fFe=function(e){return e},tee={"@@functional/placeholder":!0},ree=function(e){return e===tee},T7=function(e){return function r(){return arguments.length===0||arguments.length===1&&ree(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},pFe=function t(e,r){return e===1?r:T7(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==tee}).length;return o>=e?r.apply(void 0,i):t(e-o,T7(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(h){return ree(h)?l.shift():h});return r.apply(void 0,lFe(d).concat(l))}))})},OE=function(e){return pFe(e.length,e)},Dk=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},mFe=OE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),gFe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return fFe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Lk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nee=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function vFe(t){var e;return t===0?e=1:e=Math.floor(new dn(t).abs().log(10).toNumber())+1,e}function yFe(t,e,r){for(var n=new dn(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var bFe=OE(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),xFe=OE(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),wFe=OE(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const RE={rangeStep:yFe,getDigitCount:vFe,interpolateNumber:bFe,uninterpolateNumber:xFe,uninterpolateTruncation:wFe};function Mk(t){return AFe(t)||SFe(t)||iee(t)||_Fe()}function _Fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function AFe(t){if(Array.isArray(t))return $k(t)}function Mb(t,e){return PFe(t)||NFe(t,e)||iee(t,e)||EFe()}function EFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iee(t,e){if(t){if(typeof t=="string")return $k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(t,e)}}function $k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NFe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function PFe(t){if(Array.isArray(t))return t}function aee(t){var e=Mb(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function oee(t,e,r){if(t.lte(0))return new dn(0);var n=RE.getDigitCount(t.toNumber()),i=new dn(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new dn(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new dn(Math.ceil(l))}function TFe(t,e,r){var n=1,i=new dn(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new dn(10).pow(RE.getDigitCount(t)-1),i=new dn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new dn(Math.floor(t)))}else t===0?i=new dn(Math.floor((e-1)/2)):r||(i=new dn(Math.floor(t)));var o=Math.floor((e-1)/2),s=gFe(mFe(function(l){return i.add(new dn(l-o).mul(n)).toNumber()}),Dk);return s(0,e)}function see(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new dn(0),tickMin:new dn(0),tickMax:new dn(0)};var a=oee(new dn(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new dn(0):(o=new dn(t).add(e).div(2),o=o.sub(new dn(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new dn(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?see(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new dn(s).mul(a)),tickMax:o.add(new dn(l).mul(a))})}function jFe(t){var e=Mb(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=aee([r,n]),l=Mb(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var h=d===1/0?[c].concat(Mk(Dk(0,i-1).map(function(){return 1/0}))):[].concat(Mk(Dk(0,i-1).map(function(){return-1/0})),[d]);return r>n?Lk(h):h}if(c===d)return TFe(c,i,a);var p=see(c,d,o,a),f=p.step,v=p.tickMin,m=p.tickMax,g=RE.rangeStep(v,m.add(new dn(.1).mul(f)),f);return r>n?Lk(g):g}function CFe(t,e){var r=Mb(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=aee([n,i]),s=Mb(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(e,2),h=oee(new dn(c).sub(l).div(d-1),a,0),p=[].concat(Mk(RE.rangeStep(new dn(l),new dn(c).sub(new dn(.99).mul(h)),h)),[c]);return n>i?Lk(p):p}var kFe=nee(jFe),IFe=nee(CFe),OFe="Invariant failed";function am(t,e){throw new Error(OFe)}var RFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function r5(){return r5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r5.apply(this,arguments)}function DFe(t,e){return FFe(t)||$Fe(t,e)||MFe(t,e)||LFe()}function LFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MFe(t,e){if(t){if(typeof t=="string")return j7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j7(t,e)}}function j7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Fe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function FFe(t){if(Array.isArray(t))return t}function BFe(t,e){if(t==null)return{};var r=UFe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uee(n.key),n)}}function qFe(t,e,r){return e&&zFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WFe(t,e,r){return e=n5(e),HFe(t,lee()?Reflect.construct(e,r||[],n5(t).constructor):e.apply(t,r))}function HFe(t,e){if(e&&(Gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GFe(t)}function GFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lee=function(){return!!t})()}function n5(t){return n5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n5(t)}function KFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fk(t,e)}function Fk(t,e){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fk(t,e)}function cee(t,e,r){return e=uee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uee(t){var e=YFe(t,"string");return Gv(e)=="symbol"?e:e+""}function YFe(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DE=function(t){function e(){return VFe(this,e),WFe(this,e,arguments)}return KFe(e,t),qFe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,p=BFe(n,RFe),f=Gt(p,!1);this.props.direction==="x"&&d.type!=="number"&&am();var v=l.map(function(m){var g=c(m,s),y=g.x,x=g.y,_=g.value,A=g.errorVal;if(!A)return null;var N=[],I,P;if(Array.isArray(A)){var E=DFe(A,2);I=E[0],P=E[1]}else I=P=A;if(a==="vertical"){var k=d.scale,D=x+i,C=D+o,O=D-o,L=k(_-I),z=k(_+P);N.push({x1:z,y1:C,x2:z,y2:O}),N.push({x1:L,y1:D,x2:z,y2:D}),N.push({x1:L,y1:C,x2:L,y2:O})}else if(a==="horizontal"){var re=h.scale,Y=y+i,K=Y-o,q=Y+o,Z=re(_-I),ye=re(_+P);N.push({x1:K,y1:ye,x2:q,y2:ye}),N.push({x1:Y,y1:Z,x2:Y,y2:ye}),N.push({x1:K,y1:Z,x2:q,y2:Z})}return ue.createElement(an,r5({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},f),N.map(function(ce){return ue.createElement("line",r5({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return ue.createElement(an,{className:"recharts-errorBars"},v)}}])}(ue.Component);cee(DE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cee(DE,"displayName","ErrorBar");function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}function C7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(r),!0).forEach(function(n){XFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XFe(t,e,r){return e=QFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QFe(t){var e=JFe(t,"string");return $b(e)=="symbol"?e:e+""}function JFe(t,e){if($b(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($b(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dee=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Yo(r,Gg);if(!o)return null;var s=Gg.defaultProps,l=s!==void 0?Vf(Vf({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(d,h){var p=h.item,f=h.props,v=f.sectors||f.data||[];return d.concat(v.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(d){var h=d.item,p=h.type.defaultProps,f=p!==void 0?Vf(Vf({},p),h.props):{},v=f.dataKey,m=f.name,g=f.legendType,y=f.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:HR(h),value:m||v,payload:f}}),Vf(Vf(Vf({},l),Gg.getWithHeight(o,i)),{},{payload:c,item:o})};function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function k7(t){return r7e(t)||t7e(t)||e7e(t)||ZFe()}function ZFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7e(t,e){if(t){if(typeof t=="string")return Bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(t,e)}}function t7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r7e(t){if(Array.isArray(t))return Bk(t)}function Bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I7(Object(r),!0).forEach(function(n){Yg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yg(t,e,r){return e=n7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n7e(t){var e=i7e(t,"string");return Fb(e)=="symbol"?e:e+""}function i7e(t,e){if(Fb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ra(t,e,r){return vr(t)||vr(e)?r:Vi(e)?os(t,e,r):Zt(e)?e(t):r}function C1(t,e,r,n){var i=tFe(t,function(s){return Ra(s,e)});if(r==="number"){var a=i.filter(function(s){return Qe(s)||parseFloat(s)});return a.length?[kE(a),CE(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!vr(s)}):i;return o.map(function(s){return Vi(s)||s instanceof Date?s:""})}var a7e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,h=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,f=void 0;if(eo(h-d)!==eo(p-h)){var v=[];if(eo(p-h)===eo(l[1]-l[0])){f=p;var m=h+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{f=d;var g=p+l[1]-l[0];v[0]=Math.min(h,(g+h)/2),v[1]=Math.max(h,(g+h)/2)}var y=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[c].index;break}}else{var x=Math.min(d,p),_=Math.max(d,p);if(e>(x+h)/2&&e<=(_+h)/2){o=i[c].index;break}}}else for(var A=0;A<s;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<s-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===s-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},HR=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?li(li({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},o7e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var d=a[s[l]].stackGroups,h=Object.keys(d),p=0,f=h.length;p<f;p++){var v=d[h[p]],m=v.items,g=v.cateAxisId,y=m.filter(function(P){return Ou(P.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,_=x!==void 0?li(li({},x),y[0].props):y[0].props,A=_.barSize,N=_[g];o[N]||(o[N]=[]);var I=vr(A)?r:A;o[N].push({item:y[0],stackList:y.slice(1),barSize:vr(I)?void 0:to(I,n,0)})}}return o},s7e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=to(r,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,f=i/l,v=o.reduce(function(A,N){return A+N.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&f>0&&(p=!0,f*=.9,v=l*f);var m=(i-v)/2>>0,g={offset:m-c,size:0};d=o.reduce(function(A,N){var I={item:N.item,position:{offset:g.offset+g.size+c,size:p?f:N.barSize}},P=[].concat(k7(A),[I]);return g=P[P.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){P.push({item:E,position:g})}),P},h)}else{var y=to(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var x=(i-2*y-(l-1)*c)/l;x>1&&(x>>=0);var _=s===+s?Math.min(x,s):x;d=o.reduce(function(A,N,I){var P=[].concat(k7(A),[{item:N.item,position:{offset:y+(x+c)*I+(x-_)/2,size:_}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){P.push({item:E,position:P[P.length-1].position})}),P},h)}return d},l7e=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=dee({children:a,legendWidth:l});if(c){var d=i||{},h=d.width,p=d.height,f=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&f!=="center"&&Qe(e[f]))return li(li({},e),{},Yg({},f,e[f]+(h||0)));if((m==="horizontal"||m==="vertical"&&f==="center")&&v!=="middle"&&Qe(e[v]))return li(li({},e),{},Yg({},v,e[v]+(p||0)))}return e},c7e=function(e,r,n){return vr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},hee=function(e,r,n,i,a){var o=r.props.children,s=Ws(o,DE).filter(function(c){return c7e(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var h=Ra(d,n);if(vr(h))return c;var p=Array.isArray(h)?[kE(h),CE(h)]:[h,h],f=l.reduce(function(v,m){var g=Ra(d,m,0),y=p[0]-Math.abs(Array.isArray(g)?g[0]:g),x=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},u7e=function(e,r,n,i,a){var o=r.map(function(s){return hee(e,s,n,a,i)}).filter(function(s){return!vr(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},fee=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&hee(e,l,c,i)||C1(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var d=0,h=c.length;d<h;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},pee=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},mee=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Nu=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?eo(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var p=a?a.indexOf(h):h;return{coordinate:i(p)+c,value:h,offset:c}});return d.filter(function(h){return!Jx(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+c,value:h,index:p,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,p){return{coordinate:i(h)+c,value:a?a[h]:h,index:p,offset:c}})},rT=new WeakMap,x2=function(e,r){if(typeof r!="function")return e;rT.has(e)||rT.set(e,new WeakMap);var n=rT.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},gee=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:kb(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:QS(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:j1(),realScaleType:"point"}:a==="category"?{scale:kb(),realScaleType:"band"}:{scale:QS(),realScaleType:"linear"};if(tm(i)){var l="scale".concat(mE(i));return{scale:(E7[l]||j1)(),realScaleType:E7[l]?l:"point"}}return Zt(i)?{scale:i}:{scale:j1(),realScaleType:"point"}},O7=1e-4,vee=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-O7,o=Math.max(i[0],i[1])+O7,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},d7e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},h7e=function(e,r){if(!r||r.length!==2||!Qe(r[0])||!Qe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Qe(e[0])||e[0]<n)&&(a[0]=n),(!Qe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},f7e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Jx(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},p7e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Jx(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},m7e={sign:f7e,expand:RCe,none:Fv,silhouette:DCe,wiggle:LCe,positive:p7e},g7e=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=m7e[n],o=OCe().keys(i).value(function(s,l){return+Ra(s,l,0)}).order(dk).offset(a);return o(e)},v7e=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(h,p){var f,v=(f=p.type)!==null&&f!==void 0&&f.defaultProps?li(li({},p.type.defaultProps),p.props):p.props,m=v.stackId,g=v.hide;if(g)return h;var y=v[n],x=h[y]||{hasStack:!1,stackGroups:{}};if(Vi(m)){var _=x.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),x.hasStack=!0,x.stackGroups[m]=_}else x.stackGroups[Zx("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return li(li({},h),{},Yg({},y,x))},l),d={};return Object.keys(c).reduce(function(h,p){var f=c[p];if(f.hasStack){var v={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(m,g){var y=f.stackGroups[g];return li(li({},m),{},Yg({},g,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:g7e(e,y.items,a)}))},v)}return li(li({},h),{},Yg({},p,f))},d)},yee=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=kFe(c,a,s);return e.domain([kE(d),CE(d)]),{niceTicks:d}}if(a&&i==="number"){var h=e.domain(),p=IFe(h,a,s);return{niceTicks:p}}return null},R7=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Ra(o,r.dataKey,r.domain[s]);return vr(l)?null:r.scale(l)-a/2+i},y7e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},b7e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?li(li({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Vi(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},x7e=function(e){return e.reduce(function(r,n){return[kE(n.concat([r[0]]).filter(Qe)),CE(n.concat([r[1]]).filter(Qe))]},[1/0,-1/0])},bee=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,d){var h=x7e(d.slice(r,n+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},D7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uk=function(e,r,n){if(Zt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Qe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(D7.test(e[0])){var a=+D7.exec(e[0])[1];i[0]=r[0]-a}else Zt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Qe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(L7.test(e[1])){var o=+L7.exec(e[1])[1];i[1]=r[1]+o}else Zt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},i5=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=xR(r,function(h){return h.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],d=a[s-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},M7=function(e,r,n){return!e||!e.length||IE(e,os(n,"type.defaultProps.domain"))?r:e},xee=function(e,r){var n=e.type.defaultProps?li(li({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return li(li({},Gt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:HR(e),value:Ra(r,i),type:l,payload:r,chartType:c,hide:d})};function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function $7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(r),!0).forEach(function(n){wee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wee(t,e,r){return e=w7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w7e(t){var e=_7e(t,"string");return Bb(e)=="symbol"?e:e+""}function _7e(t,e){if(Bb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S7e(t,e){return P7e(t)||N7e(t,e)||E7e(t,e)||A7e()}function A7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7e(t,e){if(t){if(typeof t=="string")return F7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F7(t,e)}}function F7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function P7e(t){if(Array.isArray(t))return t}var a5=Math.PI/180,T7e=function(e){return e*180/Math.PI},In=function(e,r,n,i){return{x:e+Math.cos(-a5*i)*n,y:r+Math.sin(-a5*i)*n}},_ee=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},j7e=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,c=e.endAngle,d=to(e.cx,o,o/2),h=to(e.cy,s,s/2),p=_ee(o,s,n),f=to(e.innerRadius,p,0),v=to(e.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(g,y){var x=r[y],_=x.domain,A=x.reversed,N;if(vr(x.range))i==="angleAxis"?N=[l,c]:i==="radiusAxis"&&(N=[f,v]),A&&(N=[N[1],N[0]]);else{N=x.range;var I=N,P=S7e(I,2);l=P[0],c=P[1]}var E=gee(x,a),k=E.realScaleType,D=E.scale;D.domain(_).range(N),vee(D);var C=yee(D,pu(pu({},x),{},{realScaleType:k})),O=pu(pu(pu({},x),C),{},{range:N,radius:v,realScaleType:k,scale:D,cx:d,cy:h,innerRadius:f,outerRadius:v,startAngle:l,endAngle:c});return pu(pu({},g),{},wee({},y,O))},{})},C7e=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},k7e=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=C7e({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:T7e(c),angleInRadian:c}},I7e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},O7e=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},B7=function(e,r){var n=e.x,i=e.y,a=k7e({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=I7e(r),h=d.startAngle,p=d.endAngle,f=s,v;if(h<=p){for(;f>p;)f-=360;for(;f<h;)f+=360;v=f>=h&&f<=p}else{for(;f>h;)f-=360;for(;f<p;)f+=360;v=f>=p&&f<=h}return v?pu(pu({},r),{},{radius:o,angle:O7e(f,r)}):null},See=function(e){return!j.isValidElement(e)&&!Zt(e)&&typeof e!="boolean"?e.className:""};function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}var R7e=["offset"];function D7e(t){return F7e(t)||$7e(t)||M7e(t)||L7e()}function L7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M7e(t,e){if(t){if(typeof t=="string")return Vk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(t,e)}}function $7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F7e(t){if(Array.isArray(t))return Vk(t)}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B7e(t,e){if(t==null)return{};var r=U7e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function U7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(r),!0).forEach(function(n){V7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V7e(t,e,r){return e=z7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z7e(t){var e=q7e(t,"string");return Ub(e)=="symbol"?e:e+""}function q7e(t,e){if(Ub(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ub(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}var W7e=function(e){var r=e.value,n=e.formatter,i=vr(e.children)?r:e.children;return Zt(n)?n(i):i},H7e=function(e,r){var n=eo(r-e),i=Math.min(Math.abs(r-e),360);return n*i},G7e=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,d=l.cy,h=l.innerRadius,p=l.outerRadius,f=l.startAngle,v=l.endAngle,m=l.clockWise,g=(h+p)/2,y=H7e(f,v),x=y>=0?1:-1,_,A;i==="insideStart"?(_=f+x*o,A=m):i==="insideEnd"?(_=v-x*o,A=!m):i==="end"&&(_=v+x*o,A=m),A=y<=0?A:!A;var N=In(c,d,g,_),I=In(c,d,g,_+(A?1:-1)*359),P="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(A?0:1,`,
    `).concat(I.x,",").concat(I.y),E=vr(e.id)?Zx("recharts-radial-line-"):e.id;return ue.createElement("text",Vb({},n,{dominantBaseline:"central",className:fr("recharts-radial-bar-label",s)}),ue.createElement("defs",null,ue.createElement("path",{id:E,d:P})),ue.createElement("textPath",{xlinkHref:"#".concat(E)},r))},K7e=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,h=a.endAngle,p=(d+h)/2;if(i==="outside"){var f=In(o,s,c+n,p),v=f.x,m=f.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,y=In(o,s,g,p),x=y.x,_=y.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Y7e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,d=o.height,h=d>=0?1:-1,p=h*i,f=h>0?"end":"start",v=h>0?"start":"end",m=c>=0?1:-1,g=m*i,y=m>0?"end":"start",x=m>0?"start":"end";if(a==="top"){var _={x:s+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:f};return Li(Li({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var A={x:s+c/2,y:l+d+p,textAnchor:"middle",verticalAnchor:v};return Li(Li({},A),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(a==="left"){var N={x:s-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Li(Li({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(a==="right"){var I={x:s+c+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Li(Li({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:d}:{})}var P=n?{width:c,height:d}:{};return a==="insideLeft"?Li({x:s+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},P):a==="insideRight"?Li({x:s+c-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},P):a==="insideTop"?Li({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},P):a==="insideBottom"?Li({x:s+c/2,y:l+d-p,textAnchor:"middle",verticalAnchor:f},P):a==="insideTopLeft"?Li({x:s+g,y:l+p,textAnchor:x,verticalAnchor:v},P):a==="insideTopRight"?Li({x:s+c-g,y:l+p,textAnchor:y,verticalAnchor:v},P):a==="insideBottomLeft"?Li({x:s+g,y:l+d-p,textAnchor:x,verticalAnchor:f},P):a==="insideBottomRight"?Li({x:s+c-g,y:l+d-p,textAnchor:y,verticalAnchor:f},P):My(a)&&(Qe(a.x)||lp(a.x))&&(Qe(a.y)||lp(a.y))?Li({x:s+to(a.x,c),y:l+to(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):Li({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},X7e=function(e){return"cx"in e&&Qe(e.cx)};function Zi(t){var e=t.offset,r=e===void 0?5:e,n=B7e(t,R7e),i=Li({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,d=i.className,h=d===void 0?"":d,p=i.textBreakAll;if(!a||vr(s)&&vr(l)&&!j.isValidElement(c)&&!Zt(c))return null;if(j.isValidElement(c))return j.cloneElement(c,i);var f;if(Zt(c)){if(f=j.createElement(c,i),j.isValidElement(f))return f}else f=W7e(i);var v=X7e(a),m=Gt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return G7e(i,f,m);var g=v?K7e(i):Y7e(i);return ue.createElement(nm,Vb({className:fr("recharts-label",h)},m,g,{breakAll:p}),f)}Zi.displayName="Label";var Aee=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,h=e.x,p=e.y,f=e.top,v=e.left,m=e.width,g=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(Qe(m)&&Qe(g)){if(Qe(h)&&Qe(p))return{x:h,y:p,width:m,height:g};if(Qe(f)&&Qe(v))return{x:f,y:v,width:m,height:g}}return Qe(h)&&Qe(p)?{x:h,y:p,width:0,height:0}:Qe(r)&&Qe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},Q7e=function(e,r){return e?e===!0?ue.createElement(Zi,{key:"label-implicit",viewBox:r}):Vi(e)?ue.createElement(Zi,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===Zi?j.cloneElement(e,{key:"label-implicit",viewBox:r}):ue.createElement(Zi,{key:"label-implicit",content:e,viewBox:r}):Zt(e)?ue.createElement(Zi,{key:"label-implicit",content:e,viewBox:r}):My(e)?ue.createElement(Zi,Vb({viewBox:r},e,{key:"label-implicit"})):null:null},J7e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Aee(e),o=Ws(i,Zi).map(function(l,c){return j.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=Q7e(e.label,r||a);return[s].concat(D7e(o))};Zi.parseViewBox=Aee;Zi.renderCallByParent=J7e;function Z7e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var e9e=Z7e;const t9e=Qr(e9e);function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}var r9e=["valueAccessor"],n9e=["data","dataKey","clockWise","id","textBreakAll"];function i9e(t){return l9e(t)||s9e(t)||o9e(t)||a9e()}function a9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o9e(t,e){if(t){if(typeof t=="string")return zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zk(t,e)}}function s9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l9e(t){if(Array.isArray(t))return zk(t)}function zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o5(){return o5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o5.apply(this,arguments)}function V7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(r),!0).forEach(function(n){c9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c9e(t,e,r){return e=u9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u9e(t){var e=d9e(t,"string");return zb(e)=="symbol"?e:e+""}function d9e(t,e){if(zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q7(t,e){if(t==null)return{};var r=h9e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var f9e=function(e){return Array.isArray(e.value)?t9e(e.value):e.value};function Dh(t){var e=t.valueAccessor,r=e===void 0?f9e:e,n=q7(t,r9e),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=q7(n,n9e);return!i||!i.length?null:ue.createElement(an,{className:"recharts-label-list"},i.map(function(d,h){var p=vr(a)?r(d,h):Ra(d&&d.payload,a),f=vr(s)?{}:{id:"".concat(s,"-").concat(h)};return ue.createElement(Zi,o5({},Gt(d,!0),c,f,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:Zi.parseViewBox(vr(o)?d:z7(z7({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Dh.displayName="LabelList";function p9e(t,e){return t?t===!0?ue.createElement(Dh,{key:"labelList-implicit",data:e}):ue.isValidElement(t)||Zt(t)?ue.createElement(Dh,{key:"labelList-implicit",data:e,content:t}):My(t)?ue.createElement(Dh,o5({data:e},t,{key:"labelList-implicit"})):null:null}function m9e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ws(n,Dh).map(function(o,s){return j.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=p9e(t.label,e);return[a].concat(i9e(i))}Dh.renderCallByParent=m9e;function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}function qk(){return qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qk.apply(this,arguments)}function W7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W7(Object(r),!0).forEach(function(n){g9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g9e(t,e,r){return e=v9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v9e(t){var e=y9e(t,"string");return qb(e)=="symbol"?e:e+""}function y9e(t,e){if(qb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b9e=function(e,r){var n=eo(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},w2=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(s?1:-1)+i,h=Math.asin(l/d)/a5,p=c?a:a+o*h,f=In(r,n,d,p),v=In(r,n,i,p),m=c?a-o*h:a,g=In(r,n,d*Math.cos(h*a5),m);return{center:f,circleTangency:v,lineTangency:g,theta:h}},Eee=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=b9e(o,s),c=o+l,d=In(r,n,a,o),h=In(r,n,a,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var f=In(r,n,i,o),v=In(r,n,i,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},x9e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,h=eo(d-c),p=w2({cx:r,cy:n,radius:a,angle:c,sign:h,cornerRadius:o,cornerIsExternal:l}),f=p.circleTangency,v=p.lineTangency,m=p.theta,g=w2({cx:r,cy:n,radius:a,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:l}),y=g.circleTangency,x=g.lineTangency,_=g.theta,A=l?Math.abs(c-d):Math.abs(c-d)-m-_;if(A<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Eee({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var I=w2({cx:r,cy:n,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=I.circleTangency,E=I.lineTangency,k=I.theta,D=w2({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=D.circleTangency,O=D.lineTangency,L=D.theta,z=l?Math.abs(c-d):Math.abs(c-d)-k-L;if(z<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},w9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Nee=function(e){var r=H7(H7({},w9e),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,p=r.className;if(o<a||d===h)return null;var f=fr("recharts-sector",p),v=o-a,m=to(s,v,0,!0),g;return m>0&&Math.abs(d-h)<360?g=x9e({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}):g=Eee({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h}),ue.createElement("path",qk({},Gt(r,!0),{className:f,d:g,role:"img"}))};function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}function Wk(){return Wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wk.apply(this,arguments)}function G7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G7(Object(r),!0).forEach(function(n){_9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _9e(t,e,r){return e=S9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S9e(t){var e=A9e(t,"string");return Wb(e)=="symbol"?e:e+""}function A9e(t,e){if(Wb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y7={curveBasisClosed:_Ce,curveBasisOpen:SCe,curveBasis:wCe,curveBumpX:sCe,curveBumpY:lCe,curveLinearClosed:ACe,curveLinear:vE,curveMonotoneX:ECe,curveMonotoneY:NCe,curveNatural:PCe,curveStep:TCe,curveStepAfter:CCe,curveStepBefore:jCe},_2=function(e){return e.x===+e.x&&e.y===+e.y},D0=function(e){return e.x},L0=function(e){return e.y},E9e=function(e,r){if(Zt(e))return e;var n="curve".concat(mE(e));return(n==="curveMonotone"||n==="curveBump")&&r?Y7["".concat(n).concat(r==="vertical"?"Y":"X")]:Y7[n]||vE},N9e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=E9e(n,s),h=c?a.filter(function(m){return _2(m)}):a,p;if(Array.isArray(o)){var f=c?o.filter(function(m){return _2(m)}):o,v=h.map(function(m,g){return K7(K7({},m),{},{base:f[g]})});return s==="vertical"?p=h2().y(L0).x1(D0).x0(function(m){return m.base.x}):p=h2().x(D0).y1(L0).y0(function(m){return m.base.y}),p.defined(_2).curve(d),p(v)}return s==="vertical"&&Qe(o)?p=h2().y(L0).x1(D0).x0(o):Qe(o)?p=h2().x(D0).y1(L0).y0(o):p=xJ().x(D0).y(L0),p.defined(_2).curve(d),p(h)},Hk=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?N9e(e):i;return j.createElement("path",Wk({},Gt(e,!1),kS(e),{className:fr("recharts-curve",r),d:o,ref:a}))},Pee={exports:{}},P9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",T9e=P9e,j9e=T9e;function Tee(){}function jee(){}jee.resetWarningCache=Tee;var C9e=function(){function t(n,i,a,o,s,l){if(l!==j9e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jee,resetWarningCache:Tee};return r.PropTypes=r,r};Pee.exports=C9e();var k9e=Pee.exports;const Kr=Qr(k9e);var I9e=Object.getOwnPropertyNames,O9e=Object.getOwnPropertySymbols,R9e=Object.prototype.hasOwnProperty;function X7(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function S2(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function Q7(t){return I9e(t).concat(O9e(t))}var D9e=Object.hasOwn||function(t,e){return R9e.call(t,e)};function _m(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var L9e="__v",M9e="__o",$9e="_owner",J7=Object.getOwnPropertyDescriptor,Z7=Object.keys;function F9e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function B9e(t,e){return _m(t.getTime(),e.getTime())}function U9e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function V9e(t,e){return t===e}function e9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=e.entries(),d=!1,h=0;(s=c.next())&&!s.done;){if(i[h]){h++;continue}var p=o.value,f=s.value;if(r.equals(p[0],f[0],l,h,t,e,r)&&r.equals(p[1],f[1],p[0],f[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;l++}return!0}var z9e=_m;function q9e(t,e,r){var n=Z7(t),i=n.length;if(Z7(e).length!==i)return!1;for(;i-- >0;)if(!Cee(t,e,r,n[i]))return!1;return!0}function M0(t,e,r){var n=Q7(t),i=n.length;if(Q7(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!Cee(t,e,r,a)||(o=J7(t,a),s=J7(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function W9e(t,e){return _m(t.valueOf(),e.valueOf())}function H9e(t,e){return t.source===e.source&&t.flags===e.flags}function t9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function G9e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function K9e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Cee(t,e,r,n){return(n===$9e||n===M9e||n===L9e)&&(t.$$typeof||e.$$typeof)?!0:D9e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Y9e="[object Arguments]",X9e="[object Boolean]",Q9e="[object Date]",J9e="[object Error]",Z9e="[object Map]",eBe="[object Number]",tBe="[object Object]",rBe="[object RegExp]",nBe="[object Set]",iBe="[object String]",aBe="[object URL]",oBe=Array.isArray,r9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,n9=Object.assign,sBe=Object.prototype.toString.call.bind(Object.prototype.toString);function lBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var y=typeof v;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?o(v,m,g):y==="function"?i(v,m,g):!1;var x=v.constructor;if(x!==m.constructor)return!1;if(x===Object)return s(v,m,g);if(oBe(v))return e(v,m,g);if(r9!=null&&r9(v))return h(v,m,g);if(x===Date)return r(v,m,g);if(x===RegExp)return c(v,m,g);if(x===Map)return a(v,m,g);if(x===Set)return d(v,m,g);var _=sBe(v);return _===Q9e?r(v,m,g):_===rBe?c(v,m,g):_===Z9e?a(v,m,g):_===nBe?d(v,m,g):_===tBe?typeof v.then!="function"&&typeof m.then!="function"&&s(v,m,g):_===aBe?p(v,m,g):_===J9e?n(v,m,g):_===Y9e?s(v,m,g):_===X9e||_===eBe||_===iBe?l(v,m,g):!1}}function cBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?M0:F9e,areDatesEqual:B9e,areErrorsEqual:U9e,areFunctionsEqual:V9e,areMapsEqual:n?X7(e9,M0):e9,areNumbersEqual:z9e,areObjectsEqual:n?M0:q9e,arePrimitiveWrappersEqual:W9e,areRegExpsEqual:H9e,areSetsEqual:n?X7(t9,M0):t9,areTypedArraysEqual:n?M0:G9e,areUrlsEqual:K9e};if(r&&(i=n9({},i,r(i))),e){var a=S2(i.areArraysEqual),o=S2(i.areMapsEqual),s=S2(i.areObjectsEqual),l=S2(i.areSetsEqual);i=n9({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function uBe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function dBe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var d=n(),h=d.cache,p=h===void 0?e?new WeakMap:void 0:h,f=d.meta;return r(l,c,{cache:p,equals:i,meta:f,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var hBe=Af();Af({strict:!0});Af({circular:!0});Af({circular:!0,strict:!0});Af({createInternalComparator:function(){return _m}});Af({strict:!0,createInternalComparator:function(){return _m}});Af({circular:!0,createInternalComparator:function(){return _m}});Af({circular:!0,createInternalComparator:function(){return _m},strict:!0});function Af(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=cBe(t),l=lBe(s),c=n?n(l):uBe(l);return dBe({circular:r,comparator:l,createState:i,equals:c,strict:o})}function fBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function i9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):fBe(i)};requestAnimationFrame(n)}function Gk(t){"@babel/helpers - typeof";return Gk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gk(t)}function pBe(t){return yBe(t)||vBe(t)||gBe(t)||mBe()}function mBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gBe(t,e){if(t){if(typeof t=="string")return a9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a9(t,e)}}function a9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yBe(t){if(Array.isArray(t))return t}function bBe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=pBe(o),l=s[0],c=s.slice(1);if(typeof l=="number"){i9(i.bind(null,c),l);return}i(l),i9(i.bind(null,c));return}Gk(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}function o9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o9(Object(r),!0).forEach(function(n){kee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kee(t,e,r){return e=xBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xBe(t){var e=wBe(t,"string");return Hb(e)==="symbol"?e:String(e)}function wBe(t,e){if(Hb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Be=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},SBe=function(e){return e},ABe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},k1=function(e,r){return Object.keys(r).reduce(function(n,i){return s9(s9({},n),{},kee({},i,e(i,r[i])))},{})},l9=function(e,r,n){return e.map(function(i){return"".concat(ABe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function EBe(t,e){return TBe(t)||PBe(t,e)||Iee(t,e)||NBe()}function NBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function TBe(t){if(Array.isArray(t))return t}function jBe(t){return IBe(t)||kBe(t)||Iee(t)||CBe()}function CBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iee(t,e){if(t){if(typeof t=="string")return Kk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kk(t,e)}}function kBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IBe(t){if(Array.isArray(t))return Kk(t)}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s5=1e-4,Oee=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Ree=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},c9=function(e,r){return function(n){var i=Oee(e,r);return Ree(i,n)}},OBe=function(e,r){return function(n){var i=Oee(e,r),a=[].concat(jBe(i.map(function(o,s){return o*s}).slice(1)),[0]);return Ree(a,n)}},u9=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=EBe(c,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var h=c9(i,o),p=c9(a,s),f=OBe(i,o),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var x=y>1?1:y,_=x,A=0;A<8;++A){var N=h(_)-x,I=f(_);if(Math.abs(N-x)<s5||I<s5)return p(_);_=v(_-N/I)}return p(_)};return m.isStepper=!1,m},RBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(d,h,p){var f=-(d-h)*n,v=p*a,m=p+(f-v)*s/1e3,g=p*s/1e3+d;return Math.abs(g-h)<s5&&Math.abs(m)<s5?[h,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},DBe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u9(i);case"spring":return RBe();default:if(i.split("(")[0]==="cubic-bezier")return u9(i)}return typeof i=="function"?i:null};function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function d9(t){return $Be(t)||MBe(t)||Dee(t)||LBe()}function LBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Be(t){if(Array.isArray(t))return Xk(t)}function h9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h9(Object(r),!0).forEach(function(n){Yk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yk(t,e,r){return e=FBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FBe(t){var e=BBe(t,"string");return Gb(e)==="symbol"?e:String(e)}function BBe(t,e){if(Gb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UBe(t,e){return qBe(t)||zBe(t,e)||Dee(t,e)||VBe()}function VBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(t,e){if(t){if(typeof t=="string")return Xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(t,e)}}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function qBe(t){if(Array.isArray(t))return t}var l5=function(e,r,n){return e+(r-e)*n},Qk=function(e){var r=e.from,n=e.to;return r!==n},WBe=function t(e,r,n){var i=k1(function(a,o){if(Qk(o)){var s=e(o.from,o.to,o.velocity),l=UBe(s,2),c=l[0],d=l[1];return sa(sa({},o),{},{from:c,velocity:d})}return o},r);return n<1?k1(function(a,o){return Qk(o)?sa(sa({},o),{},{velocity:l5(o.velocity,i[a].velocity,n),from:l5(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const HBe=function(t,e,r,n,i){var a=_Be(t,e),o=a.reduce(function(g,y){return sa(sa({},g),{},Yk({},y,[t[y],e[y]]))},{}),s=a.reduce(function(g,y){return sa(sa({},g),{},Yk({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,d,h=function(){return null},p=function(){return k1(function(y,x){return x.from},s)},f=function(){return!Object.values(s).filter(Qk).length},v=function(y){c||(c=y);var x=y-c,_=x/r.dt;s=WBe(r,s,_),i(sa(sa(sa({},t),e),p())),c=y,f()||(l=requestAnimationFrame(h))},m=function(y){d||(d=y);var x=(y-d)/n,_=k1(function(N,I){return l5.apply(void 0,d9(I).concat([r(x)]))},o);if(i(sa(sa(sa({},t),e),_)),x<1)l=requestAnimationFrame(h);else{var A=k1(function(N,I){return l5.apply(void 0,d9(I).concat([r(1)]))},o);i(sa(sa(sa({},t),e),A))}};return h=r.isStepper?v:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}var GBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function KBe(t,e){if(t==null)return{};var r=YBe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YBe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function nT(t){return ZBe(t)||JBe(t)||QBe(t)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QBe(t,e){if(t){if(typeof t=="string")return Jk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jk(t,e)}}function JBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZBe(t){if(Array.isArray(t))return Jk(t)}function Jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f9(Object(r),!0).forEach(function(n){n1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n1(t,e,r){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lee(n.key),n)}}function rUe(t,e,r){return e&&tUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lee(t){var e=nUe(t,"string");return Kv(e)==="symbol"?e:String(e)}function nUe(t,e){if(Kv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zk(t,e)}function Zk(t,e){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zk(t,e)}function aUe(t){var e=oUe();return function(){var n=c5(t),i;if(e){var a=c5(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return e4(this,i)}}function e4(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t4(t)}function t4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c5(t){return c5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c5(t)}var Xu=function(t){iUe(r,t);var e=aUe(r);function r(n,i){var a;eUe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,d=o.to,h=o.steps,p=o.children,f=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(t4(a)),a.changeStyle=a.changeStyle.bind(t4(a)),!s||f<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:d}),e4(a);if(h&&h.length)a.state={style:h[0].style};else if(c){if(typeof p=="function")return a.state={style:c},e4(a);a.state={style:l?n1({},l,c):c}}else a.state={style:{}};return a}return rUe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,h=a.from,p=this.state.style;if(s){if(!o){var f={style:l?n1({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(f);return}if(!(hBe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?h:i.to;if(this.state&&p){var g={style:l?n1({},l,m):m};(l&&p[l]!==m||!l&&p!==m)&&this.setState(g)}this.runAnimation(sl(sl({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,f=HBe(o,s,DBe(c),l,this.changeStyle),v=function(){a.stopJSAnimation=f()};this.manager.start([p,d,v,l,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,h=c.duration,p=h===void 0?0:h,f=function(m,g,y){if(y===0)return m;var x=g.duration,_=g.easing,A=_===void 0?"ease":_,N=g.style,I=g.properties,P=g.onAnimationEnd,E=y>0?o[y-1]:g,k=I||Object.keys(N);if(typeof A=="function"||A==="spring")return[].concat(nT(m),[a.runJSAnimation.bind(a,{from:E.style,to:N,duration:x,easing:A}),x]);var D=l9(k,x,A),C=sl(sl(sl({},E.style),N),{},{transition:D});return[].concat(nT(m),[C,x,P]).filter(SBe)};return this.manager.start([l].concat(nT(o.reduce(f,[d,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=bBe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,f=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var m=s?n1({},s,l):l,g=l9(Object.keys(m),o,c);v.start([d,a,sl(sl({},m),{},{transition:g}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=KBe(i,GBe),c=j.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||c===0||o<=0)return a;var h=function(f){var v=f.props,m=v.style,g=m===void 0?{}:m,y=v.className,x=j.cloneElement(f,sl(sl({},l),{},{style:sl(sl({},g),d),className:y}));return x};return c===1?h(j.Children.only(a)):ue.createElement("div",null,j.Children.map(a,function(p){return h(p)}))}}]),r}(j.PureComponent);Xu.displayName="Animate";Xu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xu.propTypes={from:Kr.oneOfType([Kr.object,Kr.string]),to:Kr.oneOfType([Kr.object,Kr.string]),attributeName:Kr.string,duration:Kr.number,begin:Kr.number,easing:Kr.oneOfType([Kr.string,Kr.func]),steps:Kr.arrayOf(Kr.shape({duration:Kr.number.isRequired,style:Kr.object.isRequired,easing:Kr.oneOfType([Kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Kr.func]),properties:Kr.arrayOf("string"),onAnimationEnd:Kr.func})),children:Kr.oneOfType([Kr.node,Kr.func]),isActive:Kr.bool,canBegin:Kr.bool,onAnimationEnd:Kr.func,shouldReAnimate:Kr.bool,onAnimationStart:Kr.func,onAnimationReStart:Kr.func};function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function u5(){return u5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u5.apply(this,arguments)}function sUe(t,e){return dUe(t)||uUe(t,e)||cUe(t,e)||lUe()}function lUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cUe(t,e){if(t){if(typeof t=="string")return p9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p9(t,e)}}function p9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function dUe(t){if(Array.isArray(t))return t}function m9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(r),!0).forEach(function(n){hUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hUe(t,e,r){return e=fUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fUe(t){var e=pUe(t,"string");return Kb(e)=="symbol"?e:e+""}function pUe(t,e){if(Kb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v9=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,f=4;p<f;p++)h[p]=a[p]>o?o:a[p];d="M".concat(e,",").concat(r+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(r)),d+="L ".concat(e+n-l*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*h[1])),d+="L ".concat(e+n,",").concat(r+i-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+n-l*h[2],",").concat(r+i)),d+="L ".concat(e+l*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*h[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);d="M ".concat(e,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*v,`
            L `).concat(e+n,",").concat(r+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n-l*v,",").concat(r+i,`
            L `).concat(e+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},mUe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),d=Math.max(a,a+s),h=Math.min(o,o+l),p=Math.max(o,o+l);return n>=c&&n<=d&&i>=h&&i<=p}return!1},gUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GR=function(e){var r=g9(g9({},gUe),e),n=j.useRef(),i=j.useState(-1),a=sUe(i,2),o=a[0],s=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&s(A)}catch{}},[]);var l=r.x,c=r.y,d=r.width,h=r.height,p=r.radius,f=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var _=fr("recharts-rectangle",f);return x?ue.createElement(Xu,{canBegin:o>0,from:{width:d,height:h,x:l,y:c},to:{width:d,height:h,x:l,y:c},duration:m,animationEasing:v,isActive:x},function(A){var N=A.width,I=A.height,P=A.x,E=A.y;return ue.createElement(Xu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},ue.createElement("path",u5({},Gt(r,!0),{className:_,d:v9(P,E,N,I,p),ref:n})))}):ue.createElement("path",u5({},Gt(r,!0),{className:_,d:v9(l,c,d,h,p)}))},vUe=["points","className","baseLinePoints","connectNulls"];function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sg.apply(this,arguments)}function yUe(t,e){if(t==null)return{};var r=bUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function y9(t){return SUe(t)||_Ue(t)||wUe(t)||xUe()}function xUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wUe(t,e){if(t){if(typeof t=="string")return r4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r4(t,e)}}function _Ue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SUe(t){if(Array.isArray(t))return r4(t)}function r4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b9=function(e){return e&&e.x===+e.x&&e.y===+e.y},AUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){b9(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),b9(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},I1=function(e,r){var n=AUe(e);r&&(n=[n.reduce(function(a,o){return[].concat(y9(a),y9(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},EUe=function(e,r,n){var i=I1(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(I1(r.reverse(),n).slice(1))},NUe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=yUe(e,vUe);if(!r||!r.length)return null;var s=fr("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=EUe(r,i,a);return ue.createElement("g",{className:s},ue.createElement("path",Sg({},Gt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?ue.createElement("path",Sg({},Gt(o,!0),{fill:"none",d:I1(r,a)})):null,l?ue.createElement("path",Sg({},Gt(o,!0),{fill:"none",d:I1(i,a)})):null)}var d=I1(r,a);return ue.createElement("path",Sg({},Gt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function n4(){return n4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n4.apply(this,arguments)}var KR=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=fr("recharts-dot",a);return r===+r&&n===+n&&i===+i?j.createElement("circle",n4({},Gt(e,!1),kS(e),{className:o,cx:r,cy:n,r:i})):null};function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}var PUe=["x","y","top","left","width","height","className"];function i4(){return i4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i4.apply(this,arguments)}function x9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TUe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(r),!0).forEach(function(n){jUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jUe(t,e,r){return e=CUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CUe(t){var e=kUe(t,"string");return Yb(e)=="symbol"?e:e+""}function kUe(t,e){if(Yb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IUe(t,e){if(t==null)return{};var r=OUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var RUe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},DUe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,d=e.width,h=d===void 0?0:d,p=e.height,f=p===void 0?0:p,v=e.className,m=IUe(e,PUe),g=TUe({x:n,y:a,top:s,left:c,width:h,height:f},m);return!Qe(n)||!Qe(a)||!Qe(h)||!Qe(f)||!Qe(s)||!Qe(c)?null:ue.createElement("path",i4({},Gt(g,!0),{className:fr("recharts-cross",v),d:RUe(n,a,h,f,s,c)}))},LUe=jE,MUe=KZ,$Ue=Fc;function FUe(t,e){return t&&t.length?LUe(t,$Ue(e),MUe):void 0}var BUe=FUe;const UUe=Qr(BUe);var VUe=jE,zUe=Fc,qUe=YZ;function WUe(t,e){return t&&t.length?VUe(t,zUe(e),qUe):void 0}var HUe=WUe;const GUe=Qr(HUe);var KUe=["cx","cy","angle","ticks","axisLine"],YUe=["ticks","tick","angle","tickFormatter","stroke"];function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O1.apply(this,arguments)}function w9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w9(Object(r),!0).forEach(function(n){LE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _9(t,e){if(t==null)return{};var r=XUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$ee(n.key),n)}}function JUe(t,e,r){return e&&S9(t.prototype,e),r&&S9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZUe(t,e,r){return e=d5(e),eVe(t,Mee()?Reflect.construct(e,r||[],d5(t).constructor):e.apply(t,r))}function eVe(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tVe(t)}function tVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mee=function(){return!!t})()}function d5(t){return d5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d5(t)}function rVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a4(t,e)}function a4(t,e){return a4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a4(t,e)}function LE(t,e,r){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ee(t){var e=nVe(t,"string");return Yv(e)=="symbol"?e:e+""}function nVe(t,e){if(Yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ME=function(t){function e(){return QUe(this,e),ZUe(this,e,arguments)}return rVe(e,t),JUe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return In(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=UUe(s,function(d){return d.coordinate||0}),c=GUe(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=_9(n,KUe),d=s.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),h=In(i,a,d[0],o),p=In(i,a,d[1],o),f=zf(zf(zf({},Gt(c,!1)),{},{fill:"none"},Gt(l,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return ue.createElement("line",O1({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,d=_9(i,YUe),h=this.getTickTextAnchor(),p=Gt(d,!1),f=Gt(o,!1),v=a.map(function(m,g){var y=n.getTickValueCoord(m),x=zf(zf(zf(zf({textAnchor:h,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:c},f),{},{index:g},y),{},{payload:m});return ue.createElement(an,O1({className:fr("recharts-polar-radius-axis-tick",See(o)),key:"tick-".concat(m.coordinate)},rm(n.props,m,g)),e.renderTickItem(o,x,l?l(m.value,g):m.value))});return ue.createElement(an,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:ue.createElement(an,{className:fr("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Zi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return ue.isValidElement(n)?o=ue.cloneElement(n,i):Zt(n)?o=n(i):o=ue.createElement(nm,O1({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(j.PureComponent);LE(ME,"displayName","PolarRadiusAxis");LE(ME,"axisType","radiusAxis");LE(ME,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rp.apply(this,arguments)}function A9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(r),!0).forEach(function(n){$E(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bee(n.key),n)}}function aVe(t,e,r){return e&&E9(t.prototype,e),r&&E9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oVe(t,e,r){return e=h5(e),sVe(t,Fee()?Reflect.construct(e,r||[],h5(t).constructor):e.apply(t,r))}function sVe(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lVe(t)}function lVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fee=function(){return!!t})()}function h5(t){return h5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h5(t)}function cVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o4(t,e)}function o4(t,e){return o4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o4(t,e)}function $E(t,e,r){return e=Bee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bee(t){var e=uVe(t,"string");return Xv(e)=="symbol"?e:e+""}function uVe(t,e){if(Xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dVe=Math.PI/180,N9=1e-5,FE=function(t){function e(){return iVe(this,e),oVe(this,e,arguments)}return cVe(e,t),aVe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,d=c||8,h=In(a,o,s,n.coordinate),p=In(a,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*dVe),o;return a>N9?o=i==="outer"?"start":"end":a<-N9?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=qf(qf({},Gt(this.props,!1)),{},{fill:"none"},Gt(s,!1));if(l==="circle")return ue.createElement(KR,rp({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var d=this.props.ticks,h=d.map(function(p){return In(i,a,o,p.coordinate)});return ue.createElement(NUe,rp({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Gt(this.props,!1),h=Gt(o,!1),p=qf(qf({},d),{},{fill:"none"},Gt(s,!1)),f=a.map(function(v,m){var g=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),x=qf(qf(qf({textAnchor:y},d),{},{stroke:"none",fill:c},h),{},{index:m,payload:v,x:g.x2,y:g.y2});return ue.createElement(an,rp({className:fr("recharts-polar-angle-axis-tick",See(o)),key:"tick-".concat(v.coordinate)},rm(n.props,v,m)),s&&ue.createElement("line",rp({className:"recharts-polar-angle-axis-tick-line"},p,g)),o&&e.renderTickItem(o,x,l?l(v.value,m):v.value))});return ue.createElement(an,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:ue.createElement(an,{className:fr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return ue.isValidElement(n)?o=ue.cloneElement(n,i):Zt(n)?o=n(i):o=ue.createElement(nm,rp({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(j.PureComponent);$E(FE,"displayName","PolarAngleAxis");$E(FE,"axisType","angleAxis");$E(FE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var hVe=qJ,fVe=hVe(Object.getPrototypeOf,Object),pVe=fVe,mVe=nd,gVe=pVe,vVe=id,yVe="[object Object]",bVe=Function.prototype,xVe=Object.prototype,Uee=bVe.toString,wVe=xVe.hasOwnProperty,_Ve=Uee.call(Object);function SVe(t){if(!vVe(t)||mVe(t)!=yVe)return!1;var e=gVe(t);if(e===null)return!0;var r=wVe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Uee.call(r)==_Ve}var AVe=SVe;const EVe=Qr(AVe);var NVe=nd,PVe=id,TVe="[object Boolean]";function jVe(t){return t===!0||t===!1||PVe(t)&&NVe(t)==TVe}var CVe=jVe;const kVe=Qr(CVe);function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function f5(){return f5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f5.apply(this,arguments)}function IVe(t,e){return LVe(t)||DVe(t,e)||RVe(t,e)||OVe()}function OVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RVe(t,e){if(t){if(typeof t=="string")return P9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P9(t,e)}}function P9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function LVe(t){if(Array.isArray(t))return t}function T9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T9(Object(r),!0).forEach(function(n){MVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MVe(t,e,r){return e=$Ve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Ve(t){var e=FVe(t,"string");return Xb(e)=="symbol"?e:e+""}function FVe(t,e){if(Xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C9=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},BVe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UVe=function(e){var r=j9(j9({},BVe),e),n=j.useRef(),i=j.useState(-1),a=IVe(i,2),o=a[0],s=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,h=r.lowerWidth,p=r.height,f=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||h!==+h||p!==+p||d===0&&h===0||p===0)return null;var x=fr("recharts-trapezoid",f);return y?ue.createElement(Xu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:d,lowerWidth:h,height:p,x:l,y:c},duration:m,animationEasing:v,isActive:y},function(_){var A=_.upperWidth,N=_.lowerWidth,I=_.height,P=_.x,E=_.y;return ue.createElement(Xu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},ue.createElement("path",f5({},Gt(r,!0),{className:x,d:C9(P,E,A,N,I),ref:n})))}):ue.createElement("g",null,ue.createElement("path",f5({},Gt(r,!0),{className:x,d:C9(l,c,d,h,p)})))},VVe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}function zVe(t,e){if(t==null)return{};var r=qVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k9(Object(r),!0).forEach(function(n){WVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WVe(t,e,r){return e=HVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HVe(t){var e=GVe(t,"string");return Qb(e)=="symbol"?e:e+""}function GVe(t,e){if(Qb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KVe(t,e){return p5(p5({},e),t)}function YVe(t,e){return t==="symbols"}function I9(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ue.createElement(GR,r);case"trapezoid":return ue.createElement(UVe,r);case"sector":return ue.createElement(Nee,r);case"symbols":if(YVe(e))return ue.createElement(hR,r);break;default:return null}}function XVe(t){return j.isValidElement(t)?t.props:t}function Vee(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?KVe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=zVe(t,VVe),c;if(j.isValidElement(e))c=j.cloneElement(e,p5(p5({},l),XVe(e)));else if(Zt(e))c=e(l);else if(EVe(e)&&!kVe(e)){var d=i(e,l);c=ue.createElement(I9,{shapeType:r,elementProps:d})}else{var h=l;c=ue.createElement(I9,{shapeType:r,elementProps:h})}return s?ue.createElement(an,{className:o},c):c}function BE(t,e){return e!=null&&"trapezoids"in t.props}function UE(t,e){return e!=null&&"sectors"in t.props}function Jb(t,e){return e!=null&&"points"in t.props}function QVe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function JVe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ZVe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function eze(t,e){var r;return BE(t,e)?r=QVe:UE(t,e)?r=JVe:Jb(t,e)&&(r=ZVe),r}function tze(t,e){var r;return BE(t,e)?r="trapezoids":UE(t,e)?r="sectors":Jb(t,e)&&(r="points"),r}function rze(t,e){if(BE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(UE(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Jb(t,e)?e.payload:{}}function nze(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=tze(r,e),a=rze(r,e),o=n.filter(function(l,c){var d=IE(a,l),h=r.props[i].filter(function(v){var m=eze(r,e);return m(v,e)}),p=r.props[i].indexOf(h[h.length-1]),f=c===p;return d&&f}),s=n.indexOf(o[o.length-1]);return s}var f_;function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ag.apply(this,arguments)}function O9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(r),!0).forEach(function(n){Ds(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ize(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qee(n.key),n)}}function aze(t,e,r){return e&&R9(t.prototype,e),r&&R9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oze(t,e,r){return e=m5(e),sze(t,zee()?Reflect.construct(e,r||[],m5(t).constructor):e.apply(t,r))}function sze(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lze(t)}function lze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zee=function(){return!!t})()}function m5(t){return m5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m5(t)}function cze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s4(t,e)}function s4(t,e){return s4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s4(t,e)}function Ds(t,e,r){return e=qee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qee(t){var e=uze(t,"string");return Qv(e)=="symbol"?e:e+""}function uze(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var od=function(t){function e(r){var n;return ize(this,e),n=oze(this,e,[r]),Ds(n,"pieRef",null),Ds(n,"sectorRefs",[]),Ds(n,"id",Zx("recharts-pie-")),Ds(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Zt(i)&&i()}),Ds(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Zt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return cze(e,t),aze(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,d=Gt(this.props,!1),h=Gt(o,!1),p=Gt(s,!1),f=o&&o.offsetRadius||20,v=n.map(function(m,g){var y=(m.startAngle+m.endAngle)/2,x=In(m.cx,m.cy,m.outerRadius+f,y),_=jn(jn(jn(jn({},d),m),{},{stroke:"none"},h),{},{index:g,textAnchor:e.getTextAnchor(x.x,m.cx)},x),A=jn(jn(jn(jn({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:g,points:[In(m.cx,m.cy,m.outerRadius,y),x]}),N=l;return vr(l)&&vr(c)?N="value":vr(l)&&(N=c),ue.createElement(an,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},s&&e.renderLabelLineItem(s,A,"line"),e.renderLabelItem(o,_,Ra(m,N)))});return ue.createElement(an,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),p=l&&i.hasActiveIndex()?l:null,f=h?o:p,v=jn(jn({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return ue.createElement(an,Ag({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},rm(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),ue.createElement(Vee,Ag({option:f,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state,p=h.prevSectors,f=h.prevIsAnimationActive;return ue.createElement(Xu,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(_,A){var N=p&&p[A],I=A>0?os(_,"paddingAngle",0):0;if(N){var P=qd(N.endAngle-N.startAngle,_.endAngle-_.startAngle),E=jn(jn({},_),{},{startAngle:x+I,endAngle:x+P(m)+I});g.push(E),x=E.endAngle}else{var k=_.endAngle,D=_.startAngle,C=qd(0,k-D),O=C(m),L=jn(jn({},_),{},{startAngle:x+I,endAngle:x+O+I});g.push(L),x=L.endAngle}}),ue.createElement(an,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!IE(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,d=i.cy,h=i.innerRadius,p=i.outerRadius,f=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!Qe(c)||!Qe(d)||!Qe(h)||!Qe(p))return null;var m=fr("recharts-pie",s);return ue.createElement(an,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),Zi.renderCallByParent(this.props,null,!1),(!f||v)&&Dh.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(ue.isValidElement(n))return ue.cloneElement(n,i);if(Zt(n))return n(i);var o=fr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ue.createElement(Hk,Ag({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(ue.isValidElement(n))return ue.cloneElement(n,i);var o=a;if(Zt(n)&&(o=n(i),ue.isValidElement(o)))return o;var s=fr("recharts-pie-label-text",typeof n!="boolean"&&!Zt(n)?n.className:"");return ue.createElement(nm,Ag({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(j.PureComponent);f_=od;Ds(od,"displayName","Pie");Ds(od,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ru.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ds(od,"parseDeltaAngle",function(t,e){var r=eo(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ds(od,"getRealPieData",function(t){var e=t.data,r=t.children,n=Gt(t,!1),i=Ws(r,_E);return e&&e.length?e.map(function(a,o){return jn(jn(jn({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return jn(jn({},n),a.props)}):[]});Ds(od,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=_ee(i,a),s=n+to(t.cx,i,i/2),l=r+to(t.cy,a,a/2),c=to(t.innerRadius,o,0),d=to(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:h}});Ds(od,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?jn(jn({},e.type.defaultProps),e.props):e.props,i=f_.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,h=n.valueKey,p=n.tooltipType,f=Math.abs(n.minAngle),v=f_.parseCoordinateOfPie(n,r),m=f_.parseDeltaAngle(o,s),g=Math.abs(m),y=c;vr(c)&&vr(h)?(Sl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):vr(c)&&(Sl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var x=i.filter(function(E){return Ra(E,y,0)!==0}).length,_=(g>=360?x:x-1)*l,A=g-x*f-_,N=i.reduce(function(E,k){var D=Ra(k,y,0);return E+(Qe(D)?D:0)},0),I;if(N>0){var P;I=i.map(function(E,k){var D=Ra(E,y,0),C=Ra(E,d,k),O=(Qe(D)?D:0)/N,L;k?L=P.endAngle+eo(m)*l*(D!==0?1:0):L=o;var z=L+eo(m)*((D!==0?f:0)+O*A),re=(L+z)/2,Y=(v.innerRadius+v.outerRadius)/2,K=[{name:C,value:D,payload:E,dataKey:y,type:p}],q=In(v.cx,v.cy,Y,re);return P=jn(jn(jn({percent:O,cornerRadius:a,name:C,tooltipPayload:K,midAngle:re,middleRadius:Y,tooltipPosition:q},E),v),{},{value:Ra(E,y),startAngle:L,endAngle:z,payload:E,paddingAngle:eo(m)*l}),P})}return jn(jn({},v),{},{sectors:I,data:i})});var dze=Math.ceil,hze=Math.max;function fze(t,e,r,n){for(var i=-1,a=hze(dze((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var pze=fze,mze=cZ,D9=1/0,gze=17976931348623157e292;function vze(t){if(!t)return t===0?t:0;if(t=mze(t),t===D9||t===-D9){var e=t<0?-1:1;return e*gze}return t===t?t:0}var Wee=vze,yze=pze,bze=wE,iT=Wee;function xze(t){return function(e,r,n){return n&&typeof n!="number"&&bze(e,r,n)&&(r=n=void 0),e=iT(e),r===void 0?(r=e,e=0):r=iT(r),n=n===void 0?e<r?1:-1:iT(n),yze(e,r,n,t)}}var wze=xze,_ze=wze,Sze=_ze(),Aze=Sze;const g5=Qr(Aze);function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function L9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(r),!0).forEach(function(n){Hee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hee(t,e,r){return e=Eze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eze(t){var e=Nze(t,"string");return Zb(e)=="symbol"?e:e+""}function Nze(t,e){if(Zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pze=["Webkit","Moz","O","ms"],Tze=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Pze.reduce(function(a,o){return M9(M9({},a),{},Hee({},o+n,r))},{});return i[e]=r,i};function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function v5(){return v5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v5.apply(this,arguments)}function $9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(r),!0).forEach(function(n){Ho(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kee(n.key),n)}}function Cze(t,e,r){return e&&F9(t.prototype,e),r&&F9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kze(t,e,r){return e=y5(e),Ize(t,Gee()?Reflect.construct(e,r||[],y5(t).constructor):e.apply(t,r))}function Ize(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oze(t)}function Oze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gee=function(){return!!t})()}function y5(t){return y5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y5(t)}function Rze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l4(t,e)}function l4(t,e){return l4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l4(t,e)}function Ho(t,e,r){return e=Kee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kee(t){var e=Dze(t,"string");return Jv(e)=="symbol"?e:e+""}function Dze(t,e){if(Jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lze=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=j1().domain(g5(0,l)).range([a,a+o-s]),d=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},B9=function(e){return e.changedTouches&&!!e.changedTouches.length},Zv=function(t){function e(r){var n;return jze(this,e),n=kze(this,e,[r]),Ho(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ho(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ho(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Ho(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ho(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ho(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ho(n,"handleSlideDragStart",function(i){var a=B9(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Rze(e,t),Cze(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,h=Math.min(i,a),p=Math.max(i,a),f=e.getIndexInRange(o,h),v=e.getIndexInRange(o,p);return{startIndex:f-f%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Ra(a[n],s,n);return Zt(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,h=l.travellerWidth,p=l.startIndex,f=l.endIndex,v=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,c+d-h-s,c+d-h-o):m<0&&(m=Math.max(m,c-o,c-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==p||g.endIndex!==f)&&v&&v(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=B9(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],d=this.props,h=d.x,p=d.width,f=d.travellerWidth,v=d.onChange,m=d.gap,g=d.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,h+p-f-c):x<0&&(x=Math.max(x,h-c)),y[o]=c+x;var _=this.getIndex(y),A=_.startIndex,N=_.endIndex,I=function(){var E=g.length-1;return o==="startX"&&(s>l?A%m===0:N%m===0)||s<l&&N===E||o==="endX"&&(s>l?N%m===0:A%m===0)||s>l&&N===E};this.setState(Ho(Ho({},o,c+x),"brushMoveStartX",n.pageX),function(){v&&I()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],h=s.indexOf(d);if(h!==-1){var p=h+n;if(!(p===-1||p>=s.length)){var f=s[p];i==="startX"&&f>=c||i==="endX"&&f<=l||this.setState(Ho({},i,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return ue.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,h=j.Children.only(c);return h?ue.cloneElement(h,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,d=l.travellerWidth,h=l.height,p=l.traveller,f=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),x=aT(aT({},Gt(this.props,!1)),{},{x:y,y:c,width:d,height:h}),_=f||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return ue.createElement(an,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),s.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(n,i)+c,h=Math.max(Math.abs(i-n)-c,0);return ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:h,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,h=d.startX,p=d.endX,f=5,v={pointerEvents:"none",fill:c};return ue.createElement(an,{className:"recharts-brush-texts"},ue.createElement(nm,v5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-f,y:o+s/2},v),this.getTextOfTick(i)),ue.createElement(nm,v5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+l+f,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,d=n.height,h=n.alwaysShowText,p=this.state,f=p.startX,v=p.endX,m=p.isTextActive,g=p.isSlideMoving,y=p.isTravellerMoving,x=p.isTravellerFocused;if(!i||!i.length||!Qe(s)||!Qe(l)||!Qe(c)||!Qe(d)||c<=0||d<=0)return null;var _=fr("recharts-brush",a),A=ue.Children.count(o)===1,N=Tze("userSelect","none");return ue.createElement(an,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(f,v),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||x||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return ue.createElement(ue.Fragment,null,ue.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),ue.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),ue.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ue.isValidElement(n)?a=ue.cloneElement(n,i):Zt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,h=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return aT({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Lze({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(j.PureComponent);Ho(Zv,"displayName","Brush");Ho(Zv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Mze=bR;function $ze(t,e){var r;return Mze(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Fze=$ze,Bze=LJ,Uze=Fc,Vze=Fze,zze=ko,qze=wE;function Wze(t,e,r){var n=zze(t)?Bze:Vze;return r&&qze(t,e,r)&&(e=void 0),n(t,Uze(e))}var Hze=Wze;const Gze=Qr(Hze);var Tc=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},U9=iZ;function Kze(t,e,r){e=="__proto__"&&U9?U9(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Yze=Kze,Xze=Yze,Qze=rZ,Jze=Fc;function Zze(t,e){var r={};return e=Jze(e),Qze(t,function(n,i,a){Xze(r,i,e(n,i,a))}),r}var eqe=Zze;const tqe=Qr(eqe);function rqe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var nqe=rqe,iqe=bR;function aqe(t,e){var r=!0;return iqe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var oqe=aqe,sqe=nqe,lqe=oqe,cqe=Fc,uqe=ko,dqe=wE;function hqe(t,e,r){var n=uqe(t)?sqe:lqe;return r&&dqe(t,e,r)&&(e=void 0),n(t,cqe(e))}var fqe=hqe;const Yee=Qr(fqe);var pqe=["x","y"];function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function c4(){return c4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c4.apply(this,arguments)}function V9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(r),!0).forEach(function(n){mqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mqe(t,e,r){return e=gqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gqe(t){var e=vqe(t,"string");return ex(e)=="symbol"?e:e+""}function vqe(t,e){if(ex(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yqe(t,e){if(t==null)return{};var r=bqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xqe(t,e){var r=t.x,n=t.y,i=yqe(t,pqe),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),d=parseInt(c,10),h="".concat(e.width||i.width),p=parseInt(h,10);return $0($0($0($0($0({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function z9(t){return ue.createElement(Vee,c4({shapeType:"rectangle",propTransformer:xqe,activeClassName:"recharts-active-bar"},t))}var wqe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Qe(n)||GTe(n);return a?e(n,i):(a||am(),r)}},_qe=["value","background"],Xee;function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function Sqe(t,e){if(t==null)return{};var r=Aqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function b5(){return b5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b5.apply(this,arguments)}function q9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(r),!0).forEach(function(n){mh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jee(n.key),n)}}function Nqe(t,e,r){return e&&W9(t.prototype,e),r&&W9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pqe(t,e,r){return e=x5(e),Tqe(t,Qee()?Reflect.construct(e,r||[],x5(t).constructor):e.apply(t,r))}function Tqe(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jqe(t)}function jqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qee=function(){return!!t})()}function x5(t){return x5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x5(t)}function Cqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u4(t,e)}function u4(t,e){return u4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u4(t,e)}function mh(t,e,r){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jee(t){var e=kqe(t,"string");return ey(e)=="symbol"?e:e+""}function kqe(t,e){if(ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ls=function(t){function e(){var r;Eqe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Pqe(this,e,[].concat(i)),mh(r,"state",{isAnimationFinished:!1}),mh(r,"id",Zx("recharts-bar-")),mh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),mh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Cqe(e,t),Nqe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,d=Gt(this.props,!1);return n&&n.map(function(h,p){var f=p===l,v=f?c:o,m=Ai(Ai(Ai({},d),h),{},{isActive:f,option:v,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ue.createElement(an,b5({className:"recharts-bar-rectangle"},rm(i.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(p)}),ue.createElement(z9,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,h=i.animationId,p=this.state.prevData;return ue.createElement(Xu,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var v=f.t,m=a.map(function(g,y){var x=p&&p[y];if(x){var _=qd(x.x,g.x),A=qd(x.y,g.y),N=qd(x.width,g.width),I=qd(x.height,g.height);return Ai(Ai({},g),{},{x:_(v),y:A(v),width:N(v),height:I(v)})}if(o==="horizontal"){var P=qd(0,g.height),E=P(v);return Ai(Ai({},g),{},{y:g.y+g.height-E,height:E})}var k=qd(0,g.width),D=k(v);return Ai(Ai({},g),{},{width:D})});return ue.createElement(an,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!IE(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Gt(this.props.background,!1);return a.map(function(c,d){c.value;var h=c.background,p=Sqe(c,_qe);if(!h)return null;var f=Ai(Ai(Ai(Ai(Ai({},p),{},{fill:"#eee"},h),l),rm(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ue.createElement(z9,b5({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},f))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,h=Ws(d,DE);if(!h)return null;var p=c==="vertical"?o[0].height/2:o[0].width/2,f=function(g,y){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:Ra(g,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ue.createElement(an,v,h.map(function(m){return ue.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,h=n.width,p=n.height,f=n.isAnimationActive,v=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=fr("recharts-bar",o),x=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,A=x||_,N=vr(m)?this.id:m;return ue.createElement(an,{className:y},x||_?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(N)},ue.createElement("rect",{x:x?c:c-h/2,y:_?d:d-p/2,width:x?h:h*2,height:_?p:p*2}))):null,ue.createElement(an,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,N),(!f||g)&&Dh.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(j.PureComponent);Xee=Ls;mh(Ls,"displayName","Bar");mh(Ls,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ru.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mh(Ls,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,h=t.displayedData,p=t.offset,f=d7e(n,r);if(!f)return null;var v=e.layout,m=r.type.defaultProps,g=m!==void 0?Ai(Ai({},m),r.props):r.props,y=g.dataKey,x=g.children,_=g.minPointSize,A=v==="horizontal"?o:a,N=c?A.scale.domain():null,I=y7e({numericAxis:A}),P=Ws(x,_E),E=h.map(function(k,D){var C,O,L,z,re,Y;c?C=h7e(c[d+D],N):(C=Ra(k,y),Array.isArray(C)||(C=[I,C]));var K=wqe(_,Xee.defaultProps.minPointSize)(C[1],D);if(v==="horizontal"){var q,Z=[o.scale(C[0]),o.scale(C[1])],ye=Z[0],ce=Z[1];O=R7({axis:a,ticks:s,bandSize:i,offset:f.offset,entry:k,index:D}),L=(q=ce??ye)!==null&&q!==void 0?q:void 0,z=f.size;var F=ye-ce;if(re=Number.isNaN(F)?0:F,Y={x:O,y:o.y,width:z,height:o.height},Math.abs(K)>0&&Math.abs(re)<Math.abs(K)){var V=eo(re||K)*(Math.abs(K)-Math.abs(re));L-=V,re+=V}}else{var G=[a.scale(C[0]),a.scale(C[1])],oe=G[0],J=G[1];if(O=oe,L=R7({axis:o,ticks:l,bandSize:i,offset:f.offset,entry:k,index:D}),z=J-oe,re=f.size,Y={x:a.x,y:L,width:a.width,height:re},Math.abs(K)>0&&Math.abs(z)<Math.abs(K)){var ne=eo(z||K)*(Math.abs(K)-Math.abs(z));z+=ne}}return Ai(Ai(Ai({},k),{},{x:O,y:L,width:z,height:re,value:c?C:C[1],payload:k,background:Y},P&&P[D]&&P[D].props),{},{tooltipPayload:[xee(r,k)],tooltipPosition:{x:O+z/2,y:L+re/2}})});return Ai({data:E,layout:v},p)});function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function Iqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zee(n.key),n)}}function Oqe(t,e,r){return e&&H9(t.prototype,e),r&&H9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function G9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ml(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G9(Object(r),!0).forEach(function(n){VE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VE(t,e,r){return e=Zee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zee(t){var e=Rqe(t,"string");return tx(e)=="symbol"?e:e+""}function Rqe(t,e){if(tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dqe=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!Yo(c,Ls);return d.reduce(function(f,v){var m=r[v],g=m.orientation,y=m.domain,x=m.padding,_=x===void 0?{}:x,A=m.mirror,N=m.reversed,I="".concat(g).concat(A?"Mirror":""),P,E,k,D,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=y[1]-y[0],L=1/0,z=m.categoricalDomain.sort(XTe);if(z.forEach(function(G,oe){oe>0&&(L=Math.min((G||0)-(z[oe-1]||0),L))}),Number.isFinite(L)){var re=L/O,Y=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(P=re*Y/2),m.padding==="no-gap"){var K=to(e.barCategoryGap,re*Y),q=re*Y/2;P=q-K-(q-K)/Y*K}}}i==="xAxis"?E=[n.left+(_.left||0)+(P||0),n.left+n.width-(_.right||0)-(P||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(P||0),n.top+n.height-(_.bottom||0)-(P||0)]:E=m.range,N&&(E=[E[1],E[0]]);var Z=gee(m,a,p),ye=Z.scale,ce=Z.realScaleType;ye.domain(y).range(E),vee(ye);var F=yee(ye,ml(ml({},m),{},{realScaleType:ce}));i==="xAxis"?(C=g==="top"&&!A||g==="bottom"&&A,k=n.left,D=h[I]-C*m.height):i==="yAxis"&&(C=g==="left"&&!A||g==="right"&&A,k=h[I]-C*m.width,D=n.top);var V=ml(ml(ml({},m),F),{},{realScaleType:ce,x:k,y:D,scale:ye,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return V.bandSize=i5(V,F),!m.hide&&i==="xAxis"?h[I]+=(C?-1:1)*V.height:m.hide||(h[I]+=(C?-1:1)*V.width),ml(ml({},f),{},VE({},v,V))},{})},ete=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Lqe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return ete({x:r,y:n},{x:i,y:a})},tte=function(){function t(e){Iqe(this,t),this.scale=e}return Oqe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();VE(tte,"EPS",1e-4);var YR=function(e){var r=Object.keys(e).reduce(function(n,i){return ml(ml({},n),{},VE({},i,tte.create(e[i])))},{});return ml(ml({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return tqe(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return Yee(i,function(a,o){return r[o].isInRange(a)})}})};function Mqe(t){return(t%180+180)%180}var $qe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Mqe(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Fqe=Fc,Bqe=ew,Uqe=bE;function Vqe(t){return function(e,r,n){var i=Object(e);if(!Bqe(e)){var a=Fqe(r);e=Uqe(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var zqe=Vqe,qqe=Wee;function Wqe(t){var e=qqe(t),r=e%1;return e===e?r?e-r:e:0}var Hqe=Wqe,Gqe=XJ,Kqe=Fc,Yqe=Hqe,Xqe=Math.max;function Qqe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Yqe(r);return i<0&&(i=Xqe(n+i,0)),Gqe(t,Kqe(e),i)}var Jqe=Qqe,Zqe=zqe,eWe=Jqe,tWe=Zqe(eWe),rWe=tWe;const nWe=Qr(rWe);var iWe=QPe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XR=j.createContext(void 0),QR=j.createContext(void 0),rte=j.createContext(void 0),nte=j.createContext({}),ite=j.createContext(void 0),ate=j.createContext(0),ote=j.createContext(0),K9=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,d=iWe(a);return ue.createElement(XR.Provider,{value:n},ue.createElement(QR.Provider,{value:i},ue.createElement(nte.Provider,{value:a},ue.createElement(rte.Provider,{value:d},ue.createElement(ite.Provider,{value:o},ue.createElement(ate.Provider,{value:c},ue.createElement(ote.Provider,{value:l},s)))))))},aWe=function(){return j.useContext(ite)},ste=function(e){var r=j.useContext(XR);r==null&&am();var n=r[e];return n==null&&am(),n},oWe=function(){var e=j.useContext(XR);return Zd(e)},sWe=function(){var e=j.useContext(QR),r=nWe(e,function(n){return Yee(n.domain,Number.isFinite)});return r||Zd(e)},lte=function(e){var r=j.useContext(QR);r==null&&am();var n=r[e];return n==null&&am(),n},lWe=function(){var e=j.useContext(rte);return e},cWe=function(){return j.useContext(nte)},JR=function(){return j.useContext(ote)},ZR=function(){return j.useContext(ate)};function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function uWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ute(n.key),n)}}function hWe(t,e,r){return e&&dWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fWe(t,e,r){return e=w5(e),pWe(t,cte()?Reflect.construct(e,r||[],w5(t).constructor):e.apply(t,r))}function pWe(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mWe(t)}function mWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cte=function(){return!!t})()}function w5(t){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w5(t)}function gWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d4(t,e)}function d4(t,e){return d4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d4(t,e)}function Y9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y9(Object(r),!0).forEach(function(n){eD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eD(t,e,r){return e=ute(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ute(t){var e=vWe(t,"string");return ty(e)=="symbol"?e:e+""}function vWe(t,e){if(ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yWe(t,e){return _We(t)||wWe(t,e)||xWe(t,e)||bWe()}function bWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xWe(t,e){if(t){if(typeof t=="string")return Q9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q9(t,e)}}function Q9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _We(t){if(Array.isArray(t))return t}function h4(){return h4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h4.apply(this,arguments)}var SWe=function(e,r){var n;return ue.isValidElement(e)?n=ue.cloneElement(e,r):Zt(e)?n=e(r):n=ue.createElement("line",h4({},r,{className:"recharts-reference-line-line"})),n},AWe=function(e,r,n,i,a,o,s,l,c){var d=a.x,h=a.y,p=a.width,f=a.height;if(n){var v=c.y,m=e.y.apply(v,{position:o});if(Tc(c,"discard")&&!e.y.isInRange(m))return null;var g=[{x:d+p,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(r){var y=c.x,x=e.x.apply(y,{position:o});if(Tc(c,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:h+f},{x,y:h}];return s==="top"?_.reverse():_}if(i){var A=c.segment,N=A.map(function(I){return e.apply(I,{position:o})});return Tc(c,"discard")&&Gze(N,function(I){return!e.isInRange(I)})?null:N}return null};function EWe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=aWe(),d=ste(i),h=lte(a),p=lWe();if(!c||!p)return null;Sl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=YR({x:d.scale,y:h.scale}),v=Vi(e),m=Vi(r),g=n&&n.length===2,y=AWe(f,v,m,g,p,t.position,d.orientation,h.orientation,t);if(!y)return null;var x=yWe(y,2),_=x[0],A=_.x,N=_.y,I=x[1],P=I.x,E=I.y,k=Tc(t,"hidden")?"url(#".concat(c,")"):void 0,D=X9(X9({clipPath:k},Gt(t,!0)),{},{x1:A,y1:N,x2:P,y2:E});return ue.createElement(an,{className:fr("recharts-reference-line",s)},SWe(o,D),Zi.renderCallByParent(t,Lqe({x1:A,y1:N,x2:P,y2:E})))}var tD=function(t){function e(){return uWe(this,e),fWe(this,e,arguments)}return gWe(e,t),hWe(e,[{key:"render",value:function(){return ue.createElement(EWe,this.props)}}])}(ue.Component);eD(tD,"displayName","ReferenceLine");eD(tD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function f4(){return f4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f4.apply(this,arguments)}function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function J9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(r),!0).forEach(function(n){zE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hte(n.key),n)}}function TWe(t,e,r){return e&&PWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jWe(t,e,r){return e=_5(e),CWe(t,dte()?Reflect.construct(e,r||[],_5(t).constructor):e.apply(t,r))}function CWe(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kWe(t)}function kWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dte=function(){return!!t})()}function _5(t){return _5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_5(t)}function IWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p4(t,e)}function p4(t,e){return p4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p4(t,e)}function zE(t,e,r){return e=hte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hte(t){var e=OWe(t,"string");return ry(e)=="symbol"?e:e+""}function OWe(t,e){if(ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RWe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=YR({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Tc(e,"discard")&&!o.isInRange(s)?null:s},qE=function(t){function e(){return NWe(this,e),jWe(this,e,arguments)}return IWe(e,t),TWe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=Vi(i),d=Vi(a);if(Sl(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var h=RWe(this.props);if(!h)return null;var p=h.x,f=h.y,v=this.props,m=v.shape,g=v.className,y=Tc(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=Z9(Z9({clipPath:y},Gt(this.props,!0)),{},{cx:p,cy:f});return ue.createElement(an,{className:fr("recharts-reference-dot",g)},e.renderDot(m,x),Zi.renderCallByParent(this.props,{x:p-o,y:f-o,width:2*o,height:2*o}))}}])}(ue.Component);zE(qE,"displayName","ReferenceDot");zE(qE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zE(qE,"renderDot",function(t,e){var r;return ue.isValidElement(t)?r=ue.cloneElement(t,e):Zt(t)?r=t(e):r=ue.createElement(KR,f4({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function m4(){return m4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m4.apply(this,arguments)}function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function eB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(r),!0).forEach(function(n){WE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pte(n.key),n)}}function MWe(t,e,r){return e&&LWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $We(t,e,r){return e=S5(e),FWe(t,fte()?Reflect.construct(e,r||[],S5(t).constructor):e.apply(t,r))}function FWe(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BWe(t)}function BWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fte=function(){return!!t})()}function S5(t){return S5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S5(t)}function UWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g4(t,e)}function g4(t,e){return g4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g4(t,e)}function WE(t,e,r){return e=pte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pte(t){var e=VWe(t,"string");return ny(e)=="symbol"?e:e+""}function VWe(t,e){if(ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zWe=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var p=YR({x:d.scale,y:h.scale}),f={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return Tc(a,"discard")&&(!p.isInRange(f)||!p.isInRange(v))?null:ete(f,v)},HE=function(t){function e(){return DWe(this,e),$We(this,e,arguments)}return UWe(e,t),MWe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;Sl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Vi(i),p=Vi(a),f=Vi(o),v=Vi(s),m=this.props.shape;if(!h&&!p&&!f&&!v&&!m)return null;var g=zWe(h,p,f,v,this.props);if(!g&&!m)return null;var y=Tc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ue.createElement(an,{className:fr("recharts-reference-area",l)},e.renderRect(m,tB(tB({clipPath:y},Gt(this.props,!0)),g)),Zi.renderCallByParent(this.props,g))}}])}(ue.Component);WE(HE,"displayName","ReferenceArea");WE(HE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});WE(HE,"renderRect",function(t,e){var r;return ue.isValidElement(t)?r=ue.cloneElement(t,e):Zt(t)?r=t(e):r=ue.createElement(GR,m4({},e,{className:"recharts-reference-area-rect"})),r});function mte(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function qWe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return $qe(n,r)}function WWe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function A5(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function HWe(t,e){return mte(t,e+1)}function GWe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,d=o,h=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:mte(n,c)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},x=v.coordinate,_=l===0||A5(t,x,y,d,s);_||(l=0,d=o,c+=1),_&&(d=x+t*(y()/2+i),l+=c)},p;c<=a.length;)if(p=h(),p)return p.v;return[]}function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function rB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(r),!0).forEach(function(n){KWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KWe(t,e,r){return e=YWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YWe(t){var e=XWe(t,"string");return rx(e)=="symbol"?e:e+""}function XWe(t,e){if(rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QWe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(p){var f=a[p],v,m=function(){return v===void 0&&(v=r(f,p)),v};if(p===o-1){var g=t*(f.coordinate+t*m()/2-l);a[p]=f=ja(ja({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate})}else a[p]=f=ja(ja({},f),{},{tickCoord:f.coordinate});var y=A5(t,f.tickCoord,m,s,l);y&&(l=f.tickCoord-t*(m()/2+i),a[p]=ja(ja({},f),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return a}function JWe(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var d=n[s-1],h=r(d,s-1),p=t*(d.coordinate+t*h/2-c);o[s-1]=d=ja(ja({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var f=A5(t,d.tickCoord,function(){return h},l,c);f&&(c=d.tickCoord-t*(h/2+i),o[s-1]=ja(ja({},d),{},{isShow:!0}))}for(var v=a?s-1:s,m=function(x){var _=o[x],A,N=function(){return A===void 0&&(A=r(_,x)),A};if(x===0){var I=t*(_.coordinate-t*N()/2-l);o[x]=_=ja(ja({},_),{},{tickCoord:I<0?_.coordinate-I*t:_.coordinate})}else o[x]=_=ja(ja({},_),{},{tickCoord:_.coordinate});var P=A5(t,_.tickCoord,N,l,c);P&&(l=_.tickCoord+t*(N()/2+i),o[x]=ja(ja({},_),{},{isShow:!0}))},g=0;g<v;g++)m(g);return o}function rD(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(Qe(l)||Ru.isSsr)return HWe(i,typeof l=="number"&&Qe(l)?l:0);var p=[],f=s==="top"||s==="bottom"?"width":"height",v=d&&f==="width"?T1(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(_,A){var N=Zt(c)?c(_.value,A):_.value;return f==="width"?qWe(T1(N,{fontSize:e,letterSpacing:r}),v,h):T1(N,{fontSize:e,letterSpacing:r})[f]},g=i.length>=2?eo(i[1].coordinate-i[0].coordinate):1,y=WWe(a,g,f);return l==="equidistantPreserveStart"?GWe(g,y,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=JWe(g,y,m,i,o,l==="preserveStartEnd"):p=QWe(g,y,m,i,o),p.filter(function(x){return x.isShow}))}var ZWe=["viewBox"],eHe=["viewBox"],tHe=["ticks"];function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eg.apply(this,arguments)}function nB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(r),!0).forEach(function(n){nD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oT(t,e){if(t==null)return{};var r=rHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vte(n.key),n)}}function iHe(t,e,r){return e&&iB(t.prototype,e),r&&iB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aHe(t,e,r){return e=E5(e),oHe(t,gte()?Reflect.construct(e,r||[],E5(t).constructor):e.apply(t,r))}function oHe(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sHe(t)}function sHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gte=function(){return!!t})()}function E5(t){return E5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E5(t)}function lHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v4(t,e)}function v4(t,e){return v4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v4(t,e)}function nD(t,e,r){return e=vte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vte(t){var e=cHe(t,"string");return iy(e)=="symbol"?e:e+""}function cHe(t,e){if(iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gy=function(t){function e(r){var n;return nHe(this,e),n=aHe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return lHe(e,t),iHe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=oT(n,ZWe),s=this.props,l=s.viewBox,c=oT(s,eHe);return!Hg(a,l)||!Hg(o,c)||!Hg(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,h=i.mirror,p=i.tickMargin,f,v,m,g,y,x,_=h?-1:1,A=n.tickSize||d,N=Qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":f=v=n.coordinate,g=o+ +!h*l,m=g-_*A,x=m-_*p,y=N;break;case"left":m=g=n.coordinate,v=a+ +!h*s,f=v-_*A,y=f-_*p,x=N;break;case"right":m=g=n.coordinate,v=a+ +h*s,f=v+_*A,y=f+_*p,x=N;break;default:f=v=n.coordinate,g=o+ +h*l,m=g+_*A,x=m+_*p,y=N;break}return{line:{x1:f,y1:m,x2:v,y2:g},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,h=Di(Di(Di({},Gt(this.props,!1)),Gt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);h=Di(Di({},h),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var f=+(l==="left"&&!c||l==="right"&&c);h=Di(Di({},h),{},{x1:i+f*o,y1:a,x2:i+f*o,y2:a+s})}return ue.createElement("line",Eg({},h,{className:fr("recharts-cartesian-axis-line",os(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,h=s.tickFormatter,p=s.unit,f=rD(Di(Di({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Gt(this.props,!1),y=Gt(d,!1),x=Di(Di({},g),{},{fill:"none"},Gt(l,!1)),_=f.map(function(A,N){var I=o.getTickLineCoord(A),P=I.line,E=I.tick,k=Di(Di(Di(Di({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:c},y),E),{},{index:N,payload:A,visibleTicksCount:f.length,tickFormatter:h});return ue.createElement(an,Eg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},rm(o.props,A,N)),l&&ue.createElement("line",Eg({},x,P,{className:fr("recharts-cartesian-axis-tick-line",os(l,"className"))})),d&&e.renderTickItem(d,k,"".concat(Zt(h)?h(A.value,N):A.value).concat(p||"")))});return ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var h=this.props,p=h.ticks,f=oT(h,tHe),v=p;return Zt(l)&&(v=p&&p.length>0?l(this.props):l(f)),o<=0||s<=0||!v||!v.length?null:ue.createElement(an,{className:fr("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Zi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=fr(i.className,"recharts-cartesian-axis-tick-value");return ue.isValidElement(n)?o=ue.cloneElement(n,Di(Di({},i),{},{className:s})):Zt(n)?o=n(Di(Di({},i),{},{className:s})):o=ue.createElement(nm,Eg({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(j.Component);nD(Gy,"displayName","CartesianAxis");nD(Gy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uHe=["x1","y1","x2","y2","key"],dHe=["offset"];function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function aB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(r),!0).forEach(function(n){hHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hHe(t,e,r){return e=fHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fHe(t){var e=pHe(t,"string");return om(e)=="symbol"?e:e+""}function pHe(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dp.apply(this,arguments)}function oB(t,e){if(t==null)return{};var r=mHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gHe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return ue.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yte(t,e){var r;if(ue.isValidElement(t))r=ue.cloneElement(t,e);else if(Zt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=oB(e,uHe),c=Gt(l,!1);c.offset;var d=oB(c,dHe);r=ue.createElement("line",dp({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function vHe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Oa(Oa({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return yte(i,c)});return ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function yHe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Oa(Oa({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return yte(i,c)});return ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function bHe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,f){return p-f});i!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var v=!d[f+1],m=v?i+o-p:d[f+1]-p;if(m<=0)return null;var g=f%e.length;return ue.createElement("rect",{key:"react-".concat(f),y:p,x:n,height:m,width:a,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function xHe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,f){return p-f});a!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var v=!d[f+1],m=v?a+s-p:d[f+1]-p;if(m<=0)return null;var g=f%n.length;return ue.createElement("rect",{key:"react-".concat(f),x:p,y:o,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var wHe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return mee(rD(Oa(Oa(Oa({},Gy.defaultProps),n),{},{ticks:Nu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},_He=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return mee(rD(Oa(Oa(Oa({},Gy.defaultProps),n),{},{ticks:Nu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Ym={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function R1(t){var e,r,n,i,a,o,s=JR(),l=ZR(),c=cWe(),d=Oa(Oa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ym.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ym.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ym.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ym.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ym.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ym.verticalFill,x:Qe(t.x)?t.x:c.left,y:Qe(t.y)?t.y:c.top,width:Qe(t.width)?t.width:c.width,height:Qe(t.height)?t.height:c.height}),h=d.x,p=d.y,f=d.width,v=d.height,m=d.syncWithTicks,g=d.horizontalValues,y=d.verticalValues,x=oWe(),_=sWe();if(!Qe(f)||f<=0||!Qe(v)||v<=0||!Qe(h)||h!==+h||!Qe(p)||p!==+p)return null;var A=d.verticalCoordinatesGenerator||wHe,N=d.horizontalCoordinatesGenerator||_He,I=d.horizontalPoints,P=d.verticalPoints;if((!I||!I.length)&&Zt(N)){var E=g&&g.length,k=N({yAxis:_?Oa(Oa({},_),{},{ticks:E?g:_.ticks}):void 0,width:s,height:l,offset:c},E?!0:m);Sl(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(om(k),"]")),Array.isArray(k)&&(I=k)}if((!P||!P.length)&&Zt(A)){var D=y&&y.length,C=A({xAxis:x?Oa(Oa({},x),{},{ticks:D?y:x.ticks}):void 0,width:s,height:l,offset:c},D?!0:m);Sl(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(om(C),"]")),Array.isArray(C)&&(P=C)}return ue.createElement("g",{className:"recharts-cartesian-grid"},ue.createElement(gHe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ue.createElement(vHe,dp({},d,{offset:c,horizontalPoints:I,xAxis:x,yAxis:_})),ue.createElement(yHe,dp({},d,{offset:c,verticalPoints:P,xAxis:x,yAxis:_})),ue.createElement(bHe,dp({},d,{horizontalPoints:I})),ue.createElement(xHe,dp({},d,{verticalPoints:P})))}R1.displayName="CartesianGrid";function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function SHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wte(n.key),n)}}function EHe(t,e,r){return e&&AHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NHe(t,e,r){return e=N5(e),PHe(t,bte()?Reflect.construct(e,r||[],N5(t).constructor):e.apply(t,r))}function PHe(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return THe(t)}function THe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bte=function(){return!!t})()}function N5(t){return N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N5(t)}function jHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y4(t,e)}function y4(t,e){return y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y4(t,e)}function xte(t,e,r){return e=wte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wte(t){var e=CHe(t,"string");return ay(e)=="symbol"?e:e+""}function CHe(t,e){if(ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b4(){return b4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b4.apply(this,arguments)}function kHe(t){var e=t.xAxisId,r=JR(),n=ZR(),i=ste(e);return i==null?null:j.createElement(Gy,b4({},i,{className:fr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Nu(o,!0)}}))}var Cp=function(t){function e(){return SHe(this,e),NHe(this,e,arguments)}return jHe(e,t),EHe(e,[{key:"render",value:function(){return j.createElement(kHe,this.props)}}])}(j.Component);xte(Cp,"displayName","XAxis");xte(Cp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function IHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ate(n.key),n)}}function RHe(t,e,r){return e&&OHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DHe(t,e,r){return e=P5(e),LHe(t,_te()?Reflect.construct(e,r||[],P5(t).constructor):e.apply(t,r))}function LHe(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MHe(t)}function MHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_te=function(){return!!t})()}function P5(t){return P5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P5(t)}function $He(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x4(t,e)}function x4(t,e){return x4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x4(t,e)}function Ste(t,e,r){return e=Ate(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ate(t){var e=FHe(t,"string");return oy(e)=="symbol"?e:e+""}function FHe(t,e){if(oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w4(){return w4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w4.apply(this,arguments)}var BHe=function(e){var r=e.yAxisId,n=JR(),i=ZR(),a=lte(r);return a==null?null:j.createElement(Gy,w4({},a,{className:fr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Nu(s,!0)}}))},kp=function(t){function e(){return IHe(this,e),DHe(this,e,arguments)}return $He(e,t),RHe(e,[{key:"render",value:function(){return j.createElement(BHe,this.props)}}])}(j.Component);Ste(kp,"displayName","YAxis");Ste(kp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sB(t){return qHe(t)||zHe(t)||VHe(t)||UHe()}function UHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VHe(t,e){if(t){if(typeof t=="string")return _4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _4(t,e)}}function zHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qHe(t){if(Array.isArray(t))return _4(t)}function _4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var S4=function(e,r,n,i,a){var o=Ws(e,tD),s=Ws(e,qE),l=[].concat(sB(o),sB(s)),c=Ws(e,HE),d="".concat(i,"Id"),h=i[0],p=r;if(l.length&&(p=l.reduce(function(m,g){if(g.props[d]===n&&Tc(g.props,"extendDomain")&&Qe(g.props[h])){var y=g.props[h];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},p)),c.length){var f="".concat(h,"1"),v="".concat(h,"2");p=c.reduce(function(m,g){if(g.props[d]===n&&Tc(g.props,"extendDomain")&&Qe(g.props[f])&&Qe(g.props[v])){var y=g.props[f],x=g.props[v];return[Math.min(m[0],y,x),Math.max(m[1],y,x)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,g){return Qe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},p)),p},Ete={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new i(d,h||l,p),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],f]:l._events[v].push(f):(l._events[v]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,f=h.length,v=new Array(f);p<f;p++)v[p]=h[p].fn;return v},s.prototype.listenerCount=function(c){var d=r?r+c:c,h=this._events[d];return h?h.fn?1:h.length:0},s.prototype.emit=function(c,d,h,p,f,v){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,x,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,h),!0;case 4:return g.fn.call(g.context,d,h,p),!0;case 5:return g.fn.call(g.context,d,h,p,f),!0;case 6:return g.fn.call(g.context,d,h,p,f,v),!0}for(_=1,x=new Array(y-1);_<y;_++)x[_-1]=arguments[_];g.fn.apply(g.context,x)}else{var A=g.length,N;for(_=0;_<A;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),y){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,h);break;case 4:g[_].fn.call(g[_].context,d,h,p);break;default:if(!x)for(N=1,x=new Array(y-1);N<y;N++)x[N-1]=arguments[N];g[_].fn.apply(g[_].context,x)}}return!0},s.prototype.on=function(c,d,h){return a(this,c,d,h,!1)},s.prototype.once=function(c,d,h){return a(this,c,d,h,!0)},s.prototype.removeListener=function(c,d,h,p){var f=r?r+c:c;if(!this._events[f])return this;if(!d)return o(this,f),this;var v=this._events[f];if(v.fn)v.fn===d&&(!p||v.once)&&(!h||v.context===h)&&o(this,f);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==d||p&&!v[m].once||h&&v[m].context!==h)&&g.push(v[m]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(Ete);var WHe=Ete.exports;const HHe=Qr(WHe);var sT=new HHe,lT="recharts.syncMouseEvents";function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function GHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nte(n.key),n)}}function YHe(t,e,r){return e&&KHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cT(t,e,r){return e=Nte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nte(t){var e=XHe(t,"string");return nx(e)=="symbol"?e:e+""}function XHe(t,e){if(nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QHe=function(){function t(){GHe(this,t),cT(this,"activeIndex",0),cT(this,"coordinateList",[]),cT(this,"layout","horizontal")}return YHe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,d=r.offset,h=d===void 0?null:d,p=r.mouseHandlerCallback,f=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+l+c,p=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function JHe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Qe(n)&&Qe(i))return!0}return!1}function ZHe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Pte(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=In(e,r,n,i),s=In(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function eGe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,h=e.angle,p=In(s,l,c,h),f=In(s,l,d,h);n=p.x,i=p.y,a=f.x,o=f.y}else return Pte(e);return[{x:n,y:i},{x:a,y:o}]}function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function lB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(r),!0).forEach(function(n){tGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tGe(t,e,r){return e=rGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rGe(t){var e=nGe(t,"string");return ix(e)=="symbol"?e:e+""}function nGe(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iGe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var v,m=Hk;if(p==="ScatterChart")v=o,m=DUe;else if(p==="BarChart")v=ZHe(h,o,l,d),m=GR;else if(h==="radial"){var g=Pte(o),y=g.cx,x=g.cy,_=g.radius,A=g.startAngle,N=g.endAngle;v={cx:y,cy:x,startAngle:A,endAngle:N,innerRadius:_,outerRadius:_},m=Nee}else v={points:eGe(h,o,l)},m=Hk;var I=A2(A2(A2(A2({stroke:"#ccc",pointerEvents:"none"},l),v),Gt(f,!1)),{},{payload:s,payloadIndex:c,className:fr("recharts-tooltip-cursor",f.className)});return j.isValidElement(f)?j.cloneElement(f,I):j.createElement(m,I)}var aGe=["item"],oGe=["children","className","width","height","style","compact","title","desc"];function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(this,arguments)}function cB(t,e){return cGe(t)||lGe(t,e)||jte(t,e)||sGe()}function sGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function cGe(t){if(Array.isArray(t))return t}function uB(t,e){if(t==null)return{};var r=uGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hGe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cte(n.key),n)}}function fGe(t,e,r){return e&&hGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pGe(t,e,r){return e=T5(e),mGe(t,Tte()?Reflect.construct(e,r||[],T5(t).constructor):e.apply(t,r))}function mGe(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gGe(t)}function gGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tte=function(){return!!t})()}function T5(t){return T5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T5(t)}function vGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A4(t,e)}function A4(t,e){return A4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A4(t,e)}function ly(t){return xGe(t)||bGe(t)||jte(t)||yGe()}function yGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jte(t,e){if(t){if(typeof t=="string")return E4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E4(t,e)}}function bGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xGe(t){if(Array.isArray(t))return E4(t)}function E4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ut(t,e,r){return e=Cte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cte(t){var e=wGe(t,"string");return sy(e)=="symbol"?e:e+""}function wGe(t,e){if(sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ge={xAxis:["bottom","top"],yAxis:["left","right"]},SGe={width:"100%",height:"100%"},kte={x:0,y:0};function E2(t){return t}var AGe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},EGe=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Fe(Fe(Fe({},i),In(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return Fe(Fe(Fe({},i),In(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return kte},GE=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(ly(s),ly(c)):s},[]);return o.length>0?o:e&&e.length&&Qe(i)&&Qe(a)?e.slice(i,a+1):[]};function Ite(t){return t==="number"?[0,"auto"]:void 0}var N4=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=GE(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var d,h=(d=c.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?s:h;p=ek(f,o.dataKey,i)}else p=h&&h[n]||s[n];return p?[].concat(ly(l),[xee(c,p)]):l},[])},hB=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=AGe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=a7e(o,s,c,l);if(d>=0&&c){var h=c[d]&&c[d].value,p=N4(e,r,d,h),f=EGe(n,s,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:p,activeCoordinate:f}}return null},NGe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,h=e.children,p=e.stackOffset,f=pee(d,a);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?Fe(Fe({},m.type.defaultProps),m.props):m.props,x=y.type,_=y.dataKey,A=y.allowDataOverflow,N=y.allowDuplicatedCategory,I=y.scale,P=y.ticks,E=y.includeHidden,k=y[o];if(v[k])return v;var D=GE(e.data,{graphicalItems:i.filter(function(F){var V,G=o in F.props?F.props[o]:(V=F.type.defaultProps)===null||V===void 0?void 0:V[o];return G===k}),dataStartIndex:l,dataEndIndex:c}),C=D.length,O,L,z;JHe(y.domain,A,x)&&(O=Uk(y.domain,null,A),f&&(x==="number"||I!=="auto")&&(z=C1(D,_,"category")));var re=Ite(x);if(!O||O.length===0){var Y,K=(Y=y.domain)!==null&&Y!==void 0?Y:re;if(_){if(O=C1(D,_,x),x==="category"&&f){var q=YTe(O);N&&q?(L=O,O=g5(0,C)):N||(O=M7(K,O,m).reduce(function(F,V){return F.indexOf(V)>=0?F:[].concat(ly(F),[V])},[]))}else if(x==="category")N?O=O.filter(function(F){return F!==""&&!vr(F)}):O=M7(K,O,m).reduce(function(F,V){return F.indexOf(V)>=0||V===""||vr(V)?F:[].concat(ly(F),[V])},[]);else if(x==="number"){var Z=u7e(D,i.filter(function(F){var V,G,oe=o in F.props?F.props[o]:(V=F.type.defaultProps)===null||V===void 0?void 0:V[o],J="hide"in F.props?F.props.hide:(G=F.type.defaultProps)===null||G===void 0?void 0:G.hide;return oe===k&&(E||!J)}),_,a,d);Z&&(O=Z)}f&&(x==="number"||I!=="auto")&&(z=C1(D,_,"category"))}else f?O=g5(0,C):s&&s[k]&&s[k].hasStack&&x==="number"?O=p==="expand"?[0,1]:bee(s[k].stackGroups,l,c):O=fee(D,i.filter(function(F){var V=o in F.props?F.props[o]:F.type.defaultProps[o],G="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return V===k&&(E||!G)}),x,d,!0);if(x==="number")O=S4(h,O,k,a,P),K&&(O=Uk(K,O,A));else if(x==="category"&&K){var ye=K,ce=O.every(function(F){return ye.indexOf(F)>=0});ce&&(O=ye)}}return Fe(Fe({},v),{},Ut({},k,Fe(Fe({},y),{},{axisType:a,domain:O,categoricalDomain:z,duplicateDomain:L,originalDomain:(g=y.domain)!==null&&g!==void 0?g:re,isCategorical:f,layout:d})))},{})},PGe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,h=e.children,p=GE(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),f=p.length,v=pee(d,a),m=-1;return n.reduce(function(g,y){var x=y.type.defaultProps!==void 0?Fe(Fe({},y.type.defaultProps),y.props):y.props,_=x[o],A=Ite("number");if(!g[_]){m++;var N;return v?N=g5(0,f):s&&s[_]&&s[_].hasStack?(N=bee(s[_].stackGroups,l,c),N=S4(h,N,_,a)):(N=Uk(A,fee(p,n.filter(function(I){var P,E,k=o in I.props?I.props[o]:(P=I.type.defaultProps)===null||P===void 0?void 0:P[o],D="hide"in I.props?I.props.hide:(E=I.type.defaultProps)===null||E===void 0?void 0:E.hide;return k===_&&!D}),"number",d),i.defaultProps.allowDataOverflow),N=S4(h,N,_,a)),Fe(Fe({},g),{},Ut({},_,Fe(Fe({axisType:a},i.defaultProps),{},{hide:!0,orientation:os(_Ge,"".concat(a,".").concat(m%2),null),domain:N,originalDomain:A,isCategorical:v,layout:d})))}return g},{})},TGe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),p=Ws(d,a),f={};return p&&p.length?f=NGe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(f=PGe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),f},jGe=function(e){var r=Zd(e),n=Nu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xR(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:i5(r,n)}},fB=function(e){var r=e.children,n=e.defaultShowTooltip,i=Yo(r,Zv),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},CGe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ou(r&&r.type);return n&&n.indexOf("Bar")>=0})},pB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kGe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,h=n.children,p=n.margin||{},f=Yo(h,Zv),v=Yo(h,Gg),m=Object.keys(l).reduce(function(N,I){var P=l[I],E=P.orientation;return!P.mirror&&!P.hide?Fe(Fe({},N),{},Ut({},E,N[E]+P.width)):N},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(N,I){var P=o[I],E=P.orientation;return!P.mirror&&!P.hide?Fe(Fe({},N),{},Ut({},E,os(N,"".concat(E))+P.height)):N},{top:p.top||0,bottom:p.bottom||0}),y=Fe(Fe({},g),m),x=y.bottom;f&&(y.bottom+=f.props.height||Zv.defaultProps.height),v&&r&&(y=l7e(y,i,n,r));var _=c-y.left-y.right,A=d-y.top-y.bottom;return Fe(Fe({brushBottom:x},y),{},{width:Math.max(_,0),height:Math.max(A,0)})},IGe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Ote=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,p=function(y,x){var _=x.graphicalItems,A=x.stackGroups,N=x.offset,I=x.updateId,P=x.dataStartIndex,E=x.dataEndIndex,k=y.barSize,D=y.layout,C=y.barGap,O=y.barCategoryGap,L=y.maxBarSize,z=pB(D),re=z.numericAxisName,Y=z.cateAxisName,K=CGe(_),q=[];return _.forEach(function(Z,ye){var ce=GE(y.data,{graphicalItems:[Z],dataStartIndex:P,dataEndIndex:E}),F=Z.type.defaultProps!==void 0?Fe(Fe({},Z.type.defaultProps),Z.props):Z.props,V=F.dataKey,G=F.maxBarSize,oe=F["".concat(re,"Id")],J=F["".concat(Y,"Id")],ne={},xe=l.reduce(function(we,De){var ze=x["".concat(De.axisType,"Map")],st=F["".concat(De.axisType,"Id")];ze&&ze[st]||De.axisType==="zAxis"||am();var nt=ze[st];return Fe(Fe({},we),{},Ut(Ut({},De.axisType,nt),"".concat(De.axisType,"Ticks"),Nu(nt)))},ne),he=xe[Y],T=xe["".concat(Y,"Ticks")],X=A&&A[oe]&&A[oe].hasStack&&b7e(Z,A[oe].stackGroups),le=Ou(Z.type).indexOf("Bar")>=0,de=i5(he,T),ve=[],ee=K&&o7e({barSize:k,stackGroups:A,totalSize:IGe(xe,Y)});if(le){var Ne,Re,Le=vr(G)?L:G,Ae=(Ne=(Re=i5(he,T,!0))!==null&&Re!==void 0?Re:Le)!==null&&Ne!==void 0?Ne:0;ve=s7e({barGap:C,barCategoryGap:O,bandSize:Ae!==de?Ae:de,sizeList:ee[J],maxBarSize:Le}),Ae!==de&&(ve=ve.map(function(we){return Fe(Fe({},we),{},{position:Fe(Fe({},we.position),{},{offset:we.position.offset-Ae/2})})}))}var ge=Z&&Z.type&&Z.type.getComposedData;ge&&q.push({props:Fe(Fe({},ge(Fe(Fe({},xe),{},{displayedData:ce,props:y,dataKey:V,item:Z,bandSize:de,barPosition:ve,offset:N,stackedData:X,layout:D,dataStartIndex:P,dataEndIndex:E}))),{},Ut(Ut(Ut({key:Z.key||"item-".concat(ye)},re,xe[re]),Y,xe[Y]),"animationId",I)),childIndex:sje(Z,y.children),item:Z})}),q},f=function(y,x){var _=y.props,A=y.dataStartIndex,N=y.dataEndIndex,I=y.updateId;if(!k$({props:_}))return null;var P=_.children,E=_.layout,k=_.stackOffset,D=_.data,C=_.reverseStackOrder,O=pB(E),L=O.numericAxisName,z=O.cateAxisName,re=Ws(P,n),Y=v7e(D,re,"".concat(L,"Id"),"".concat(z,"Id"),k,C),K=l.reduce(function(F,V){var G="".concat(V.axisType,"Map");return Fe(Fe({},F),{},Ut({},G,TGe(_,Fe(Fe({},V),{},{graphicalItems:re,stackGroups:V.axisType===L&&Y,dataStartIndex:A,dataEndIndex:N}))))},{}),q=kGe(Fe(Fe({},K),{},{props:_,graphicalItems:re}),x==null?void 0:x.legendBBox);Object.keys(K).forEach(function(F){K[F]=d(_,K[F],q,F.replace("Map",""),r)});var Z=K["".concat(z,"Map")],ye=jGe(Z),ce=p(_,Fe(Fe({},K),{},{dataStartIndex:A,dataEndIndex:N,updateId:I,graphicalItems:re,stackGroups:Y,offset:q}));return Fe(Fe({formattedGraphicalItems:ce,graphicalItems:re,offset:q,stackGroups:Y},ye),K)},v=function(g){function y(x){var _,A,N;return dGe(this,y),N=pGe(this,y,[x]),Ut(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ut(N,"accessibilityManager",new QHe),Ut(N,"handleLegendBBoxUpdate",function(I){if(I){var P=N.state,E=P.dataStartIndex,k=P.dataEndIndex,D=P.updateId;N.setState(Fe({legendBBox:I},f({props:N.props,dataStartIndex:E,dataEndIndex:k,updateId:D},Fe(Fe({},N.state),{},{legendBBox:I}))))}}),Ut(N,"handleReceiveSyncEvent",function(I,P,E){if(N.props.syncId===I){if(E===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),Ut(N,"handleBrushChange",function(I){var P=I.startIndex,E=I.endIndex;if(P!==N.state.dataStartIndex||E!==N.state.dataEndIndex){var k=N.state.updateId;N.setState(function(){return Fe({dataStartIndex:P,dataEndIndex:E},f({props:N.props,dataStartIndex:P,dataEndIndex:E,updateId:k},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:E})}}),Ut(N,"handleMouseEnter",function(I){var P=N.getMouseInfo(I);if(P){var E=Fe(Fe({},P),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var k=N.props.onMouseEnter;Zt(k)&&k(E,I)}}),Ut(N,"triggeredAfterMouseMove",function(I){var P=N.getMouseInfo(I),E=P?Fe(Fe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(E),N.triggerSyncEvent(E);var k=N.props.onMouseMove;Zt(k)&&k(E,I)}),Ut(N,"handleItemMouseEnter",function(I){N.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),Ut(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ut(N,"handleMouseMove",function(I){I.persist(),N.throttleTriggeredAfterMouseMove(I)}),Ut(N,"handleMouseLeave",function(I){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var E=N.props.onMouseLeave;Zt(E)&&E(P,I)}),Ut(N,"handleOuterEvent",function(I){var P=oje(I),E=os(N.props,"".concat(P));if(P&&Zt(E)){var k,D;/.*touch.*/i.test(P)?D=N.getMouseInfo(I.changedTouches[0]):D=N.getMouseInfo(I),E((k=D)!==null&&k!==void 0?k:{},I)}}),Ut(N,"handleClick",function(I){var P=N.getMouseInfo(I);if(P){var E=Fe(Fe({},P),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var k=N.props.onClick;Zt(k)&&k(E,I)}}),Ut(N,"handleMouseDown",function(I){var P=N.props.onMouseDown;if(Zt(P)){var E=N.getMouseInfo(I);P(E,I)}}),Ut(N,"handleMouseUp",function(I){var P=N.props.onMouseUp;if(Zt(P)){var E=N.getMouseInfo(I);P(E,I)}}),Ut(N,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),Ut(N,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseDown(I.changedTouches[0])}),Ut(N,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseUp(I.changedTouches[0])}),Ut(N,"handleDoubleClick",function(I){var P=N.props.onDoubleClick;if(Zt(P)){var E=N.getMouseInfo(I);P(E,I)}}),Ut(N,"handleContextMenu",function(I){var P=N.props.onContextMenu;if(Zt(P)){var E=N.getMouseInfo(I);P(E,I)}}),Ut(N,"triggerSyncEvent",function(I){N.props.syncId!==void 0&&sT.emit(lT,N.props.syncId,I,N.eventEmitterSymbol)}),Ut(N,"applySyncEvent",function(I){var P=N.props,E=P.layout,k=P.syncMethod,D=N.state.updateId,C=I.dataStartIndex,O=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)N.setState(Fe({dataStartIndex:C,dataEndIndex:O},f({props:N.props,dataStartIndex:C,dataEndIndex:O,updateId:D},N.state)));else if(I.activeTooltipIndex!==void 0){var L=I.chartX,z=I.chartY,re=I.activeTooltipIndex,Y=N.state,K=Y.offset,q=Y.tooltipTicks;if(!K)return;if(typeof k=="function")re=k(q,I);else if(k==="value"){re=-1;for(var Z=0;Z<q.length;Z++)if(q[Z].value===I.activeLabel){re=Z;break}}var ye=Fe(Fe({},K),{},{x:K.left,y:K.top}),ce=Math.min(L,ye.x+ye.width),F=Math.min(z,ye.y+ye.height),V=q[re]&&q[re].value,G=N4(N.state,N.props.data,re),oe=q[re]?{x:E==="horizontal"?q[re].coordinate:ce,y:E==="horizontal"?F:q[re].coordinate}:kte;N.setState(Fe(Fe({},I),{},{activeLabel:V,activeCoordinate:oe,activePayload:G,activeTooltipIndex:re}))}else N.setState(I)}),Ut(N,"renderCursor",function(I){var P,E=N.state,k=E.isTooltipActive,D=E.activeCoordinate,C=E.activePayload,O=E.offset,L=E.activeTooltipIndex,z=E.tooltipAxisBandSize,re=N.getTooltipEventType(),Y=(P=I.props.active)!==null&&P!==void 0?P:k,K=N.props.layout,q=I.key||"_recharts-cursor";return ue.createElement(iGe,{key:q,activeCoordinate:D,activePayload:C,activeTooltipIndex:L,chartName:r,element:I,isActive:Y,layout:K,offset:O,tooltipAxisBandSize:z,tooltipEventType:re})}),Ut(N,"renderPolarAxis",function(I,P,E){var k=os(I,"type.axisType"),D=os(N.state,"".concat(k,"Map")),C=I.type.defaultProps,O=C!==void 0?Fe(Fe({},C),I.props):I.props,L=D&&D[O["".concat(k,"Id")]];return j.cloneElement(I,Fe(Fe({},L),{},{className:fr(k,L.className),key:I.key||"".concat(P,"-").concat(E),ticks:Nu(L,!0)}))}),Ut(N,"renderPolarGrid",function(I){var P=I.props,E=P.radialLines,k=P.polarAngles,D=P.polarRadius,C=N.state,O=C.radiusAxisMap,L=C.angleAxisMap,z=Zd(O),re=Zd(L),Y=re.cx,K=re.cy,q=re.innerRadius,Z=re.outerRadius;return j.cloneElement(I,{polarAngles:Array.isArray(k)?k:Nu(re,!0).map(function(ye){return ye.coordinate}),polarRadius:Array.isArray(D)?D:Nu(z,!0).map(function(ye){return ye.coordinate}),cx:Y,cy:K,innerRadius:q,outerRadius:Z,key:I.key||"polar-grid",radialLines:E})}),Ut(N,"renderLegend",function(){var I=N.state.formattedGraphicalItems,P=N.props,E=P.children,k=P.width,D=P.height,C=N.props.margin||{},O=k-(C.left||0)-(C.right||0),L=dee({children:E,formattedGraphicalItems:I,legendWidth:O,legendContent:c});if(!L)return null;var z=L.item,re=uB(L,aGe);return j.cloneElement(z,Fe(Fe({},re),{},{chartWidth:k,chartHeight:D,margin:C,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ut(N,"renderTooltip",function(){var I,P=N.props,E=P.children,k=P.accessibilityLayer,D=Yo(E,yo);if(!D)return null;var C=N.state,O=C.isTooltipActive,L=C.activeCoordinate,z=C.activePayload,re=C.activeLabel,Y=C.offset,K=(I=D.props.active)!==null&&I!==void 0?I:O;return j.cloneElement(D,{viewBox:Fe(Fe({},Y),{},{x:Y.left,y:Y.top}),active:K,label:re,payload:K?z:[],coordinate:L,accessibilityLayer:k})}),Ut(N,"renderBrush",function(I){var P=N.props,E=P.margin,k=P.data,D=N.state,C=D.offset,O=D.dataStartIndex,L=D.dataEndIndex,z=D.updateId;return j.cloneElement(I,{key:I.key||"_recharts-brush",onChange:x2(N.handleBrushChange,I.props.onChange),data:k,x:Qe(I.props.x)?I.props.x:C.left,y:Qe(I.props.y)?I.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:Qe(I.props.width)?I.props.width:C.width,startIndex:O,endIndex:L,updateId:"brush-".concat(z)})}),Ut(N,"renderReferenceElement",function(I,P,E){if(!I)return null;var k=N,D=k.clipPathId,C=N.state,O=C.xAxisMap,L=C.yAxisMap,z=C.offset,re=I.type.defaultProps||{},Y=I.props,K=Y.xAxisId,q=K===void 0?re.xAxisId:K,Z=Y.yAxisId,ye=Z===void 0?re.yAxisId:Z;return j.cloneElement(I,{key:I.key||"".concat(P,"-").concat(E),xAxis:O[q],yAxis:L[ye],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:D})}),Ut(N,"renderActivePoints",function(I){var P=I.item,E=I.activePoint,k=I.basePoint,D=I.childIndex,C=I.isRange,O=[],L=P.props.key,z=P.item.type.defaultProps!==void 0?Fe(Fe({},P.item.type.defaultProps),P.item.props):P.item.props,re=z.activeDot,Y=z.dataKey,K=Fe(Fe({index:D,dataKey:Y,cx:E.x,cy:E.y,r:4,fill:HR(P.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Gt(re,!1)),kS(re));return O.push(y.renderActiveDot(re,K,"".concat(L,"-activePoint-").concat(D))),k?O.push(y.renderActiveDot(re,Fe(Fe({},K),{},{cx:k.x,cy:k.y}),"".concat(L,"-basePoint-").concat(D))):C&&O.push(null),O}),Ut(N,"renderGraphicChild",function(I,P,E){var k=N.filterFormatItem(I,P,E);if(!k)return null;var D=N.getTooltipEventType(),C=N.state,O=C.isTooltipActive,L=C.tooltipAxis,z=C.activeTooltipIndex,re=C.activeLabel,Y=N.props.children,K=Yo(Y,yo),q=k.props,Z=q.points,ye=q.isRange,ce=q.baseLine,F=k.item.type.defaultProps!==void 0?Fe(Fe({},k.item.type.defaultProps),k.item.props):k.item.props,V=F.activeDot,G=F.hide,oe=F.activeBar,J=F.activeShape,ne=!!(!G&&O&&K&&(V||oe||J)),xe={};D!=="axis"&&K&&K.props.trigger==="click"?xe={onClick:x2(N.handleItemMouseEnter,I.props.onClick)}:D!=="axis"&&(xe={onMouseLeave:x2(N.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:x2(N.handleItemMouseEnter,I.props.onMouseEnter)});var he=j.cloneElement(I,Fe(Fe({},k.props),xe));function T(De){return typeof L.dataKey=="function"?L.dataKey(De.payload):null}if(ne)if(z>=0){var X,le;if(L.dataKey&&!L.allowDuplicatedCategory){var de=typeof L.dataKey=="function"?T:"payload.".concat(L.dataKey.toString());X=ek(Z,de,re),le=ye&&ce&&ek(ce,de,re)}else X=Z==null?void 0:Z[z],le=ye&&ce&&ce[z];if(J||oe){var ve=I.props.activeIndex!==void 0?I.props.activeIndex:z;return[j.cloneElement(I,Fe(Fe(Fe({},k.props),xe),{},{activeIndex:ve})),null,null]}if(!vr(X))return[he].concat(ly(N.renderActivePoints({item:k,activePoint:X,basePoint:le,childIndex:z,isRange:ye})))}else{var ee,Ne=(ee=N.getItemByXY(N.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:he},Re=Ne.graphicalItem,Le=Re.item,Ae=Le===void 0?I:Le,ge=Re.childIndex,we=Fe(Fe(Fe({},k.props),xe),{},{activeIndex:ge});return[j.cloneElement(Ae,we),null,null]}return ye?[he,null,null]:[he,null]}),Ut(N,"renderCustomized",function(I,P,E){return j.cloneElement(I,Fe(Fe({key:"recharts-customized-".concat(E)},N.props),N.state))}),Ut(N,"renderMap",{CartesianGrid:{handler:E2,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:E2},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:E2},YAxis:{handler:E2},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Zx("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=uZ(N.triggeredAfterMouseMove,(A=x.throttleDelay)!==null&&A!==void 0?A:1e3/60),N.state={},N}return vGe(y,g),fGe(y,[{key:"componentDidMount",value:function(){var _,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,A=_.children,N=_.data,I=_.height,P=_.layout,E=Yo(A,yo);if(E){var k=E.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,C=N4(this.state,N,k,D),O=this.state.tooltipTicks[k].coordinate,L=(this.state.offset.top+I)/2,z=P==="horizontal",re=z?{x:O,y:L}:{y:O,x:L},Y=this.state.formattedGraphicalItems.find(function(q){var Z=q.item;return Z.type.name==="Scatter"});Y&&(re=Fe(Fe({},re),Y.props.points[k].tooltipPosition),C=Y.props.points[k].tooltipPayload);var K={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:D,activePayload:C,activeCoordinate:re};this.setState(K),this.renderCursor(E),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var N,I;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(_){rk([Yo(_.children,yo)],[Yo(this.props.children,yo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Yo(this.props.children,yo);if(_&&typeof _.props.shared=="boolean"){var A=_.props.shared?"axis":"item";return s.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var A=this.container,N=A.getBoundingClientRect(),I=OLe(N),P={chartX:Math.round(_.pageX-I.left),chartY:Math.round(_.pageY-I.top)},E=N.width/A.offsetWidth||1,k=this.inRange(P.chartX,P.chartY,E);if(!k)return null;var D=this.state,C=D.xAxisMap,O=D.yAxisMap,L=this.getTooltipEventType(),z=hB(this.state,this.props.data,this.props.layout,k);if(L!=="axis"&&C&&O){var re=Zd(C).scale,Y=Zd(O).scale,K=re&&re.invert?re.invert(P.chartX):null,q=Y&&Y.invert?Y.invert(P.chartY):null;return Fe(Fe({},P),{},{xValue:K,yValue:q},z)}return z?Fe(Fe({},P),z):null}},{key:"inRange",value:function(_,A){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,P=_/N,E=A/N;if(I==="horizontal"||I==="vertical"){var k=this.state.offset,D=P>=k.left&&P<=k.left+k.width&&E>=k.top&&E<=k.top+k.height;return D?{x:P,y:E}:null}var C=this.state,O=C.angleAxisMap,L=C.radiusAxisMap;if(O&&L){var z=Zd(O);return B7({x:P,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,A=this.getTooltipEventType(),N=Yo(_,yo),I={};N&&A==="axis"&&(N.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=kS(this.props,this.handleOuterEvent);return Fe(Fe({},P),I)}},{key:"addListener",value:function(){sT.on(lT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sT.removeListener(lT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,A,N){for(var I=this.state.formattedGraphicalItems,P=0,E=I.length;P<E;P++){var k=I[P];if(k.item===_||k.props.key===_.key||A===Ou(k.item.type)&&N===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,A=this.state.offset,N=A.left,I=A.top,P=A.height,E=A.width;return ue.createElement("defs",null,ue.createElement("clipPath",{id:_},ue.createElement("rect",{x:N,y:I,height:P,width:E})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(A,N){var I=cB(N,2),P=I[0],E=I[1];return Fe(Fe({},A),{},Ut({},P,E.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(A,N){var I=cB(N,2),P=I[0],E=I[1];return Fe(Fe({},A),{},Ut({},P,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(_){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(_){var A=this.state,N=A.formattedGraphicalItems,I=A.activeItem;if(N&&N.length)for(var P=0,E=N.length;P<E;P++){var k=N[P],D=k.props,C=k.item,O=C.type.defaultProps!==void 0?Fe(Fe({},C.type.defaultProps),C.props):C.props,L=Ou(C.type);if(L==="Bar"){var z=(D.data||[]).find(function(q){return mUe(_,q)});if(z)return{graphicalItem:k,payload:z}}else if(L==="RadialBar"){var re=(D.data||[]).find(function(q){return B7(_,q)});if(re)return{graphicalItem:k,payload:re}}else if(BE(k,I)||UE(k,I)||Jb(k,I)){var Y=nze({graphicalItem:k,activeTooltipItem:I,itemData:O.data}),K=O.activeIndex===void 0?Y:O.activeIndex;return{graphicalItem:Fe(Fe({},k),{},{childIndex:K}),payload:Jb(k,I)?O.data[Y]:k.props.data[Y]}}}return null}},{key:"render",value:function(){var _=this;if(!k$(this))return null;var A=this.props,N=A.children,I=A.className,P=A.width,E=A.height,k=A.style,D=A.compact,C=A.title,O=A.desc,L=uB(A,oGe),z=Gt(L,!1);if(D)return ue.createElement(K9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement(ik,Ng({},z,{width:P,height:E,title:C,desc:O}),this.renderClipPath(),O$(N,this.renderMap)));if(this.props.accessibilityLayer){var re,Y;z.tabIndex=(re=this.props.tabIndex)!==null&&re!==void 0?re:0,z.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",z.onKeyDown=function(q){_.accessibilityManager.keyboardEvent(q)},z.onFocus=function(){_.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return ue.createElement(K9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement("div",Ng({className:fr("recharts-wrapper",I),style:Fe({position:"relative",cursor:"default",width:P,height:E},k)},K,{ref:function(Z){_.container=Z}}),ue.createElement(ik,Ng({},z,{width:P,height:E,title:C,desc:O,style:SGe}),this.renderClipPath(),O$(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Ut(v,"displayName",r),Ut(v,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ut(v,"getDerivedStateFromProps",function(g,y){var x=g.dataKey,_=g.data,A=g.children,N=g.width,I=g.height,P=g.layout,E=g.stackOffset,k=g.margin,D=y.dataStartIndex,C=y.dataEndIndex;if(y.updateId===void 0){var O=fB(g);return Fe(Fe(Fe({},O),{},{updateId:0},f(Fe(Fe({props:g},O),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:_,prevWidth:N,prevHeight:I,prevLayout:P,prevStackOffset:E,prevMargin:k,prevChildren:A})}if(x!==y.prevDataKey||_!==y.prevData||N!==y.prevWidth||I!==y.prevHeight||P!==y.prevLayout||E!==y.prevStackOffset||!Hg(k,y.prevMargin)){var L=fB(g),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},re=Fe(Fe({},hB(y,_,P)),{},{updateId:y.updateId+1}),Y=Fe(Fe(Fe({},L),z),re);return Fe(Fe(Fe({},Y),f(Fe({props:g},Y),y)),{},{prevDataKey:x,prevData:_,prevWidth:N,prevHeight:I,prevLayout:P,prevStackOffset:E,prevMargin:k,prevChildren:A})}if(!rk(A,y.prevChildren)){var K,q,Z,ye,ce=Yo(A,Zv),F=ce&&(K=(q=ce.props)===null||q===void 0?void 0:q.startIndex)!==null&&K!==void 0?K:D,V=ce&&(Z=(ye=ce.props)===null||ye===void 0?void 0:ye.endIndex)!==null&&Z!==void 0?Z:C,G=F!==D||V!==C,oe=!vr(_),J=oe&&!G?y.updateId:y.updateId+1;return Fe(Fe({updateId:J},f(Fe(Fe({props:g},y),{},{updateId:J,dataStartIndex:F,dataEndIndex:V}),y)),{},{prevChildren:A,dataStartIndex:F,dataEndIndex:V})}return null}),Ut(v,"renderActiveDot",function(g,y,x){var _;return j.isValidElement(g)?_=j.cloneElement(g,y):Zt(g)?_=g(y):_=ue.createElement(KR,y),ue.createElement(an,{className:"recharts-active-dot",key:x},_)});var m=j.forwardRef(function(y,x){return ue.createElement(v,Ng({},y,{ref:x}))});return m.displayName=v.displayName,m},p_=Ote({chartName:"BarChart",GraphicalChild:Ls,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Cp},{axisType:"yAxis",AxisComp:kp}],formatAxisMap:Dqe}),OGe=Ote({chartName:"PieChart",GraphicalChild:od,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:FE},{axisType:"radiusAxis",AxisComp:ME}],formatAxisMap:j7e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const RGe=()=>{var xe,he;const{user:t}=qr(),[e]=dH(),r=Wi(),n=qi(),[i,a]=j.useState(ac()),[o,s]=j.useState(!1),[l,c]=j.useState(!1),[d,h]=j.useState(!1),[p,f]=j.useState([]),[v,m]=j.useState(""),[g,y]=j.useState(""),[x,_]=j.useState(""),[A,N]=j.useState(""),I=i.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");j.useEffect(()=>{const T=e.get("filter");y(T||"")},[e]);const{data:P=[]}=rd((t==null?void 0:t.uid)||""),{data:E=[]}=Iy((t==null?void 0:t.uid)||""),{data:k=[]}=as((t==null?void 0:t.uid)||""),D=T3(),C=k.filter(T=>(console.log("Comparando:",T.date,"===",I,"?",T.date===I),T.date===I));console.log("ResumoDia - selectedDateString:",I),console.log("ResumoDia - allTransactions:",k),console.log("ResumoDia - allTransactions dates:",k.map(T=>({id:T.id,date:T.date,type:T.type,amount:T.amount}))),console.log("ResumoDia - todayTransactions (filtradas):",C),j.useEffect(()=>{if(k.length>0&&p.length===0){const T=C3(),X=k.filter(le=>le.date===T);X.length>0&&(f(X),m(T),console.log("ResumoDia - Transações do dia original capturadas:",X),console.log("ResumoDia - Data original:",T))}},[k,p.length]);const L=(()=>{let T=C;switch(g){case"deposits":T=T.filter(X=>X.type==="deposit");break;case"withdraws":T=T.filter(X=>X.type==="withdraw");break}return x&&(T=T.filter(X=>X.platformId===x)),A&&(T=T.filter(X=>X.employeeId===A)),T})(),z=C.filter(T=>T.type==="deposit"),re=C.filter(T=>T.type==="withdraw"),Y=z.reduce((T,X)=>T+Number(X.amount||0),0),K=re.reduce((T,X)=>T+Number(X.amount||0),0),q=K-Y,Z=L.length;console.log("ResumoDia - Cálculos:"),console.log("- deposits:",z),console.log("- withdraws:",re),console.log("- totalDeposits:",Y),console.log("- totalWithdraws:",K),console.log("- profit:",q),console.log("- transactionCount:",Z);const ye=E.map(T=>{const X=C.filter(ee=>ee.platformId===T.id),le=X.filter(ee=>ee.type==="deposit").reduce((ee,Ne)=>ee+Number(Ne.amount||0),0),de=X.filter(ee=>ee.type==="withdraw").reduce((ee,Ne)=>ee+Number(Ne.amount||0),0),ve=de-le;return{name:T.name,color:T.color,deposits:le,withdraws:de,profit:ve,transactions:X.length}}).filter(T=>T.transactions>0).sort((T,X)=>X.profit-T.profit),ce=P.map(T=>{const X=C.filter(ee=>ee.employeeId===T.id),le=X.filter(ee=>ee.type==="deposit").reduce((ee,Ne)=>ee+Number(Ne.amount||0),0),de=X.filter(ee=>ee.type==="withdraw").reduce((ee,Ne)=>ee+Number(Ne.amount||0),0),ve=de-le;return{name:T.name,deposits:le,withdraws:de,profit:ve,transactions:X.length}}).filter(T=>T.transactions>0).sort((T,X)=>X.profit-T.profit),F=ye[0],V=ce[0],G=async()=>{try{const T=p.length>0?p:C,X=v||I,le=T.filter(we=>we.type==="deposit"),de=T.filter(we=>we.type==="withdraw"),ve=le.reduce((we,De)=>we+Number(De.amount||0),0),ee=de.reduce((we,De)=>we+Number(De.amount||0),0),Ne=ee-ve;if(console.log("Fechando dia - Data:",X),console.log("Fechando dia - Transações originais:",p),console.log("Fechando dia - Transações selecionadas:",T),console.log("Fechando dia - Total Deposits:",ve),console.log("Fechando dia - Total Withdraws:",ee),console.log("Fechando dia - Profit:",Ne),!(t!=null&&t.uid)){Ge.error("Usuário não autenticado");return}const Le=(await Is.getAllDailySummaries(t.uid)).find(we=>we.date===X);let Ae;Le?(Ae={date:X,totalDeposits:(Le.totalDeposits||0)+ve,totalWithdraws:(Le.totalWithdraws||0)+ee,profit:(Le.profit||Le.margin||0)+Ne,transactionCount:(Le.transactionCount||0)+T.length,transactionsSnapshot:[...Le.transactionsSnapshot||[],...T],byEmployee:[],margin:(Le.profit||Le.margin||0)+Ne,createdAt:Le.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente:",Ae),await Is.updateDailySummary(t.uid,Le.id,Ae)):(Ae={date:X,totalDeposits:ve,totalWithdraws:ee,profit:Ne,transactionCount:T.length,transactionsSnapshot:T,byEmployee:[],margin:Ne,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento:",Ae),await Is.createDailySummary(t.uid,Ae));const ge=T.map(we=>D.mutateAsync(we.id));await Promise.all(ge),Ge.success("Dia fechado com sucesso!"),c(!1),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(T){console.error("Erro ao fechar o dia:",T),Ge.error("Erro ao fechar o dia. Tente novamente.")}},oe=async T=>{try{if(console.log("=== INICIANDO SALVAMENTO EM OUTRA DATA ==="),console.log("Target Date recebida:",T),console.log("Transações do dia original:",p),console.log("Data original:",v),console.log("Transações do dia atual (selectedDate):",C),console.log("Total Deposits:",Y),console.log("Total Withdraws:",K),console.log("Profit calculado:",q),!(t!=null&&t.uid)){Ge.error("Usuário não autenticado");return}const X=T.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");console.log("Salvando em outra data - Target Date String:",X);const le=p.length>0?p:C,de=le.filter(De=>De.type==="deposit"),ve=le.filter(De=>De.type==="withdraw"),ee=de.reduce((De,ze)=>De+Number(ze.amount||0),0),Ne=ve.reduce((De,ze)=>De+Number(ze.amount||0),0),Re=Ne-ee;console.log("Dados a serem salvos:"),console.log("- transactionsToSave:",le),console.log("- totalDepositsToSave:",ee),console.log("- totalWithdrawsToSave:",Ne),console.log("- profitToSave:",Re);const Ae=(await Is.getAllDailySummaries(t.uid)).find(De=>De.date===X);let ge;Ae?(ge={date:X,totalDeposits:(Ae.totalDeposits||0)+ee,totalWithdraws:(Ae.totalWithdraws||0)+Ne,profit:(Ae.profit||Ae.margin||0)+Re,transactionCount:(Ae.transactionCount||0)+le.length,transactionsSnapshot:[...Ae.transactionsSnapshot||[],...le],byEmployee:[],margin:(Ae.profit||Ae.margin||0)+Re,createdAt:Ae.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente para data:",ge),await Is.updateDailySummary(t.uid,Ae.id,ge)):(ge={date:X,totalDeposits:ee,totalWithdraws:Ne,profit:Re,transactionCount:le.length,transactionsSnapshot:le,byEmployee:[],margin:Re,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento para data:",ge),await Is.createDailySummary(t.uid,ge)),console.log("Resumo salvo com sucesso na data:",X),console.log("Deletando transações do dia selecionado:",le);const we=le.map(De=>(console.log("Deletando transação:",De.id),D.mutateAsync(De.id)));await Promise.all(we),console.log("Todas as transações foram deletadas com sucesso"),n.invalidateQueries({queryKey:["firebase-transactions"]}),n.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),n.invalidateQueries({queryKey:["firebase-daily-summaries"]}),Ge.success(`Resumo salvo para ${fa(T,"dd/MM/yyyy",{locale:SP})}! Transações do dia atual foram apagadas.`),s(!1)}catch(X){console.error("Erro ao salvar em outra data:",X),Ge.error("Erro ao salvar em outra data. Tente novamente.")}},J=ye.map(T=>({name:T.name,value:T.profit,color:T.color})),ne=ce.map(T=>({name:T.name,receita:T.profit,depositos:T.deposits,saques:T.withdraws}));return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h1",{className:"text-4xl font-bold",children:"Resumo do Dia"}),g&&u.jsxs(mr,{variant:"secondary",className:"gap-1 bg-primary/10 text-primary border-primary/20",children:[u.jsx(GN,{className:"h-3 w-3"}),g==="deposits"&&"Depósitos",g==="withdraws"&&"Saques",g==="profit"&&"Lucro"]})]}),u.jsx("p",{className:"text-muted-foreground",children:fa(i,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:SP})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(fEe,{open:o,onOpenChange:s,children:[u.jsx(pEe,{asChild:!0,children:u.jsxs(He,{variant:"outline",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white border-orange-500",children:[u.jsx(xv,{className:"h-4 w-4"}),"Salvar em outra data"]})}),u.jsx(YQ,{className:"w-auto p-0",align:"end",children:u.jsx(MQ,{mode:"single",selected:i,onSelect:T=>{T&&(a(T),s(!1),h(!0))},initialFocus:!0})})]}),u.jsx(Qp,{open:d,onOpenChange:h,children:u.jsxs(Jh,{children:[u.jsxs(Zh,{children:[u.jsx(tf,{children:"Salvar em Outra Data"}),u.jsxs(rf,{children:["Tem certeza que deseja salvar o resumo do dia atual para ",i&&fa(i,"dd/MM/yyyy",{locale:SP}),"?",u.jsx("br",{}),u.jsx("br",{}),u.jsx("strong",{children:"Esta ação irá:"}),u.jsx("br",{}),"• Salvar todas as transações atuais para a data selecionada",u.jsx("br",{}),"• Apagar todas as transações do dia atual",u.jsx("br",{}),"• Permitir que você comece um novo dia",u.jsx("br",{}),u.jsx("br",{}),u.jsx("strong",{children:"Esta ação não pode ser desfeita."})]})]}),u.jsxs(ef,{children:[u.jsx(af,{children:"Cancelar"}),u.jsx(nf,{onClick:async()=>{i&&(console.log("Executando saveToAnotherDate com data:",i),await oe(i),h(!1))},children:"Salvar e Apagar Transações"})]})]})}),u.jsxs(Qp,{open:l,onOpenChange:c,children:[u.jsx(ky,{asChild:!0,children:u.jsxs(He,{variant:"destructive",className:"gap-2",children:[u.jsx(nA,{className:"h-4 w-4"}),"Fechar o Dia"]})}),u.jsxs(Jh,{children:[u.jsxs(Zh,{children:[u.jsx(tf,{children:"Fechar o Dia"}),u.jsx(rf,{children:"Tem certeza que deseja fechar o dia? Esta ação salvará todas as movimentações do dia e resetará as transações para um novo dia."})]}),u.jsxs(ef,{children:[u.jsx(af,{children:"Cancelar"}),u.jsx(nf,{onClick:G,children:"Fechar o Dia"})]})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Dia"}),u.jsxs("p",{className:`text-3xl font-bold ${q>=0?"text-success":"text-destructive"}`,children:["R$ ",q.toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(Ti,{className:"h-6 w-6 text-primary-foreground"})})]})}),u.jsx(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),u.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",Y.toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(xL,{className:"h-6 w-6 text-primary-foreground"})})]})}),u.jsx(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),u.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",K.toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(wL,{className:"h-6 w-6 text-primary-foreground"})})]})}),u.jsx(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),u.jsx("p",{className:"text-3xl font-bold",children:Z})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(GI,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[F&&u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(_L,{className:"h-6 w-6 text-yellow-500"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Plataforma do Dia"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:F.color}}),u.jsx("span",{className:"font-medium",children:F.name})]}),u.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",F.profit.toLocaleString("pt-BR")]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[F.transactions," transações • R$ ",F.deposits.toLocaleString("pt-BR")," depósitos • R$ ",F.withdraws.toLocaleString("pt-BR")," saques"]})]})]}),V&&u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(_L,{className:"h-6 w-6 text-yellow-500"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Funcionário do Dia"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"font-medium",children:V.name}),u.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",V.profit.toLocaleString("pt-BR")]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.transactions," transações • R$ ",V.deposits.toLocaleString("pt-BR")," depósitos • R$ ",V.withdraws.toLocaleString("pt-BR")," saques"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[J.length>0&&u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Receita por Plataforma"}),u.jsx(P1,{width:"100%",height:300,children:u.jsxs(OGe,{children:[u.jsx(od,{data:J,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:T,value:X})=>`${T}: R$ ${X.toLocaleString("pt-BR")}`,children:J.map((T,X)=>u.jsx(_E,{fill:T.color},`cell-${X}`))}),u.jsx(yo,{formatter:T=>[`R$ ${T.toLocaleString("pt-BR")}`,"Receita"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})]}),ne.length>0&&u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),u.jsx(P1,{width:"100%",height:300,children:u.jsxs(p_,{data:ne,children:[u.jsx(R1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),u.jsx(Cp,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),u.jsx(kp,{stroke:"hsl(var(--muted-foreground))"}),u.jsx(yo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),u.jsx(Ls,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]})]}),u.jsxs(rt,{className:"shadow-card overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("h3",{className:"text-lg font-semibold",children:["Transações do Dia",(g||x||A)&&u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",L.length," transação(ões) encontrada(s))"]})]})}),u.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Plataforma:"}),u.jsxs(ci,{value:x||"all",onValueChange:T=>_(T==="all"?"":T),children:[u.jsx(Qn,{className:"w-[160px]",children:u.jsx(ui,{placeholder:"Todas"})}),u.jsxs(Jn,{children:[u.jsx($r,{value:"all",children:"Todas as plataformas"}),E.map(T=>u.jsx($r,{value:T.id,children:T.name},T.id))]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Funcionário:"}),u.jsxs(ci,{value:A||"all",onValueChange:T=>N(T==="all"?"":T),children:[u.jsx(Qn,{className:"w-[160px]",children:u.jsx(ui,{placeholder:"Todos"})}),u.jsxs(Jn,{children:[u.jsx($r,{value:"all",children:"Todos os funcionários"}),P.map(T=>u.jsx($r,{value:T.id,children:T.name},T.id))]})]})]}),(g||x||A)&&u.jsx(He,{variant:"outline",size:"sm",onClick:()=>{y(""),_(""),N(""),r("/resumo-dia")},children:"Limpar Filtros"})]})]}),u.jsxs("div",{className:"space-y-4 mt-4",children:[(g||x||A)&&u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[u.jsx(GN,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm text-primary font-medium",children:"Filtros ativos:"}),u.jsxs("div",{className:"flex gap-2",children:[g&&u.jsxs(mr,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:[g==="deposits"&&"Depósitos",g==="withdraws"&&"Saques",g==="profit"&&"Lucro"]}),x&&u.jsxs(mr,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Plataforma: ",((xe=E.find(T=>T.id===x))==null?void 0:xe.name)||"N/A"]}),A&&u.jsxs(mr,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Funcionário: ",((he=P.find(T=>T.id===A))==null?void 0:he.name)||"N/A"]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs(He,{variant:g===""?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia"),className:"gap-2",children:[u.jsx(GN,{className:"h-3 w-3"}),"Todas",u.jsx(mr,{variant:"secondary",className:"ml-1",children:C.length})]}),u.jsxs(He,{variant:g==="deposits"?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia?filter=deposits"),className:"gap-2",children:[u.jsx(xL,{className:"h-3 w-3"}),"Depósitos",u.jsx(mr,{variant:"secondary",className:"ml-1",children:z.length})]}),u.jsxs(He,{variant:g==="withdraws"?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia?filter=withdraws"),className:"gap-2",children:[u.jsx(wL,{className:"h-3 w-3"}),"Saques",u.jsx(mr,{variant:"secondary",className:"ml-1",children:re.length})]}),u.jsxs(He,{variant:g==="profit"?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia?filter=profit"),className:"gap-2",children:[u.jsx(Ti,{className:"h-3 w-3"}),"Lucro",u.jsx(mr,{variant:"secondary",className:"ml-1",children:C.length})]})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-muted/50",children:[u.jsx("th",{className:"text-left p-4 font-semibold",children:"Funcionário"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Plataforma"}),u.jsx("th",{className:"text-center p-4 font-semibold",children:"Tipo"}),u.jsx("th",{className:"text-right p-4 font-semibold",children:"Valor"}),u.jsx("th",{className:"text-center p-4 font-semibold",children:"Horário"})]})}),u.jsxs("tbody",{children:[L.map(T=>{var de,ve;const X=P.find(ee=>ee.id===T.employeeId),le=E.find(ee=>ee.id===T.platformId);return u.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[u.jsx("td",{className:"p-4 font-medium",children:(X==null?void 0:X.name)||"N/A"}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[le&&u.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:le.color}}),(le==null?void 0:le.name)||"N/A"]})}),u.jsx("td",{className:"p-4 text-center",children:u.jsx(mr,{variant:T.type==="deposit"?"destructive":"default",children:T.type==="deposit"?"Depósito":"Saque"})}),u.jsxs("td",{className:`p-4 text-right font-semibold ${T.type==="deposit"?"text-destructive":"text-success"}`,children:[T.type==="deposit"?"-":"+","R$ ",Number(T.amount||0).toLocaleString("pt-BR")]}),u.jsx("td",{className:"p-4 text-center text-sm text-muted-foreground",children:new Date(((ve=(de=T.createdAt)==null?void 0:de.toDate)==null?void 0:ve.call(de))||T.createdAt).toLocaleTimeString("pt-BR")})]},T.id)}),L.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:g?u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{children:"Nenhuma transação encontrada para o filtro selecionado."}),u.jsx(He,{variant:"outline",size:"sm",onClick:()=>r("/resumo-dia"),children:"Ver todas as transações"})]}):"Nenhuma transação registrada para este dia."})})]})]})})]})]})})},DGe=()=>{qi();const{user:t}=qr(),[e,r]=j.useState({name:"",color:"#FF5C00"}),[n,i]=j.useState(null),[a,o]=j.useState(!1),[s,l]=j.useState(!1),[c,d]=j.useState(""),[h,p]=j.useState(null),[f,v]=j.useState({}),{data:m=[]}=rd((t==null?void 0:t.uid)||""),{data:g=[]}=Iy((t==null?void 0:t.uid)||""),{data:y=[]}=as((t==null?void 0:t.uid)||"","","");console.log("Saldos - Employees:",m.length),console.log("Saldos - Platforms:",g.length),console.log("Saldos - Transactions:",y.length),console.log("Saldos - All Transactions:",y),console.log("Saldos - Platforms IDs:",g.map(V=>({id:V.id,name:V.name}))),y.forEach((V,G)=>{console.log(`Transaction ${G}:`,{id:V.id,employeeId:V.employeeId,platformId:V.platformId,type:V.type,amount:V.amount,date:V.date})});const x=Gbe(),_=Kbe(),A=Ybe(),N=Qbe(),I=P3(),E=(()=>{const V={};return m.forEach(G=>{V[G.id]={name:G.name,platforms:{},total:0},g.forEach(oe=>{const J=y.filter(T=>T.employeeId===G.id&&T.platformId===oe.id);console.log(`Debug - Employee: ${G.name}, Platform: ${oe.name}, Transactions:`,J);const ne=J.filter(T=>T.type==="deposit").reduce((T,X)=>T+Number(X.amount||0),0),xe=J.filter(T=>T.type==="withdraw").reduce((T,X)=>T+Number(X.amount||0),0);console.log(`Debug - Deposits: ${ne}, Withdraws: ${xe}`);const he=ne-xe;V[G.id].platforms[oe.id]=Math.max(0,he),V[G.id].total+=Math.max(0,he)})}),Object.values(V)})();console.log("Saldos - Platform Balances:",E);const k=[...m].sort((V,G)=>V.name.localeCompare(G.name)),D=g.filter(V=>V.isActive!==!1),O=[...D.reduce((V,G)=>(V.find(J=>J.id===G.id||J.name===G.name)||V.push(G),V),[])].sort((V,G)=>{const oe=E.reduce((ne,xe)=>{var he;return ne+(Number((he=xe.platforms)==null?void 0:he[V.id])||0)},0),J=E.reduce((ne,xe)=>{var he;return ne+(Number((he=xe.platforms)==null?void 0:he[G.id])||0)},0);return Number(J)-Number(oe)}),L=E.reduce((V,G)=>V+(G.total||0),0),z=g.filter(V=>V.name.toLowerCase().includes(c.toLowerCase())),re=(V,G,oe)=>{const J=`${V}-${G}`;v({...f,[J]:{employeeId:V,platformId:G,value:oe.toString()}})},Y=async(V,G)=>{var ne;const oe=`${V}-${G}`,J=f[oe];if(J)try{const xe=Number(J.value),he=m.find(ve=>ve.id===V),T=E.find(ve=>ve.name===(he==null?void 0:he.name)),X=((ne=T==null?void 0:T.platforms)==null?void 0:ne[G])||0,le=xe-X;if(le!==0){const ve={userId:(t==null?void 0:t.uid)||"",employeeId:V,platformId:G,type:le>0?"deposit":"withdraw",amount:Math.abs(le),date:new Date().toISOString().split("T")[0],description:"Ajuste manual de saldo"};await I.mutateAsync(ve)}const de={...f};delete de[oe],v(de),Ge.success("Saldo atualizado!")}catch(xe){console.error("Erro ao atualizar saldo:",xe),Ge.error("Erro ao atualizar saldo")}},K=(V,G)=>{const oe=`${V}-${G}`,J={...f};delete J[oe],v(J)},q=async()=>{if(t!=null&&t.uid)try{await x.mutateAsync({userId:t.uid,name:e.name,color:e.color}),Ge.success("Casa de aposta criada!"),r({name:"",color:"#FF5C00"}),o(!1)}catch{Ge.error("Erro ao criar casa de aposta")}},Z=async()=>{if(n)try{await _.mutateAsync({userId:(t==null?void 0:t.uid)||"",id:n.id,data:{name:n.name,color:n.color}}),Ge.success("Casa de aposta atualizada!"),i(null)}catch{Ge.error("Erro ao atualizar casa de aposta")}},ye=async V=>{try{await A.mutateAsync({userId:(t==null?void 0:t.uid)||"",id:V}),Ge.success("Casa de aposta excluída!")}catch{Ge.error("Erro ao excluir casa de aposta")}},ce=async()=>{if(t!=null&&t.uid)try{await N.mutateAsync(t.uid),Ge.success("Plataformas padrão criadas com sucesso!")}catch{Ge.error("Erro ao criar plataformas padrão")}},F=async()=>{if(t!=null&&t.uid)try{const V=[{name:"Pixbet",color:"#ADD8E6"},{name:"Betano",color:"#FF6600"},{name:"Mcgames",color:"#DC143C"},{name:"Kto",color:"#C80000"},{name:"Realsbet",color:"#00FFC8"},{name:"Vaidebet",color:"#FFD700"},{name:"Sportingbet",color:"#4682B4"},{name:"Superbet",color:"#FF3366"},{name:"Betao",color:"#FFA550"},{name:"Bet365",color:"#008040"},{name:"Esportivabet",color:"#FF8C00"},{name:"Hiperbet",color:"#DC0000"},{name:"Luvabet",color:"#ADFF2F"},{name:"Cassinopix",color:"#87CEEB"},{name:"Multibet",color:"#483D8B"}],G=g.map(oe=>{const J=V.find(ne=>ne.name===oe.name);return J&&oe.color!==J.color?_.mutateAsync({userId:t.uid,id:oe.id,data:{color:J.color}}):Promise.resolve()});await Promise.all(G),Ge.success("Cores das plataformas atualizadas!")}catch{Ge.error("Erro ao atualizar cores das plataformas")}};return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Saldos"}),u.jsx("p",{className:"text-muted-foreground",children:"Gerencie contas e saldos por plataforma"})]}),u.jsxs("div",{className:"flex gap-2",children:[D.length===0&&u.jsxs(He,{onClick:ce,disabled:N.isPending,className:"gap-2",children:[u.jsx(G_,{className:"h-4 w-4"}),N.isPending?"Criando...":"Criar Plataformas Padrão"]}),D.length>0&&u.jsxs(He,{onClick:F,disabled:_.isPending,variant:"outline",className:"gap-2",children:[u.jsx(rb,{className:"h-4 w-4"}),_.isPending?"Atualizando...":"Atualizar Cores"]}),D.length>0&&u.jsxs(_l,{open:s,onOpenChange:l,children:[u.jsx(Wg,{asChild:!0,children:u.jsxs(He,{variant:"outline",className:"gap-2",children:[u.jsx(iA,{className:"h-4 w-4"}),"Pesquisar Plataforma"]})}),u.jsxs(Vs,{children:[u.jsx(zs,{children:u.jsx(qs,{children:"Pesquisar Plataforma"})}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Nome da Plataforma"}),u.jsx(Vt,{placeholder:"Digite o nome da plataforma...",value:c,onChange:V=>d(V.target.value)})]}),u.jsx("div",{className:"max-h-60 overflow-y-auto",children:z.map(V=>u.jsxs(He,{variant:"outline",className:"w-full justify-start mb-2",onClick:()=>{p(V),l(!1),d("")},children:[u.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:V.color}}),V.name]},V.id))})]})]})]}),u.jsxs(_l,{open:a,onOpenChange:o,children:[u.jsx(Wg,{asChild:!0,children:u.jsxs(He,{variant:"outline",className:"gap-2",children:[u.jsx(G_,{className:"h-4 w-4"}),"Criar Casa"]})}),u.jsxs(Vs,{children:[u.jsx(zs,{children:u.jsx(qs,{children:"Criar Casa de Aposta"})}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Nome"}),u.jsx(Vt,{value:e.name,onChange:V=>r({...e,name:V.target.value})})]}),u.jsxs("div",{children:[u.jsx(ot,{children:"Cor"}),u.jsx(Vt,{type:"color",value:e.color,onChange:V=>r({...e,color:V.target.value})})]}),u.jsx(He,{className:"w-full",onClick:q,disabled:!e.name.trim(),children:"Criar"})]})]})]})]})]}),u.jsxs(rt,{className:"p-6 shadow-card gradient-success",children:[u.jsx("p",{className:"text-sm text-success-foreground/80 mb-2",children:"Saldo Total"}),u.jsxs("p",{className:"text-4xl font-bold text-success-foreground",children:["R$ ",Number(L||0).toLocaleString("pt-BR")]})]}),u.jsxs(rt,{className:"shadow-card overflow-hidden",children:[u.jsxs("div",{className:"p-6 border-b",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Saldos por Plataforma"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Clique nos valores para editar. Os valores são salvos automaticamente ao sair do campo."}),h&&u.jsxs("div",{className:"mt-2 p-2 bg-muted rounded",children:[u.jsx("span",{className:"text-sm",children:"Filtrado por: "}),u.jsx("span",{className:"inline-block w-3 h-3 rounded mr-1",style:{backgroundColor:h.color}}),u.jsx("span",{className:"font-medium",children:h.name}),u.jsx(He,{variant:"ghost",size:"sm",onClick:()=>p(null),className:"ml-2 h-6 px-2",children:"Limpar filtro"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-muted/50",children:[u.jsx("th",{className:"text-left p-4 font-semibold sticky left-0 bg-background z-10",children:"Funcionário"}),u.jsx("th",{className:"text-center p-4 font-semibold sticky left-20 bg-background z-10",children:"Total por Funcionário"}),O.map(V=>{var G;return u.jsx("th",{className:"text-center p-4 font-semibold min-w-[120px]",style:{backgroundColor:V.color+"20"},children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-white font-medium",children:V.name}),u.jsxs(_l,{open:(n==null?void 0:n.id)===V.id,onOpenChange:oe=>!oe&&i(null),children:[u.jsx(Wg,{asChild:!0,children:u.jsx(He,{size:"icon",variant:"ghost",className:"h-6 w-6 text-white hover:bg-white/20",onClick:()=>i(V),children:u.jsx(rb,{className:"h-3 w-3"})})}),u.jsxs(Vs,{children:[u.jsx(zs,{children:u.jsx(qs,{children:"Editar Casa de Aposta"})}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Nome"}),u.jsx(Vt,{value:(n==null?void 0:n.name)||"",onChange:oe=>i({...n,name:oe.target.value})})]}),u.jsxs("div",{children:[u.jsx(ot,{children:"Cor"}),u.jsx(Vt,{type:"color",value:(n==null?void 0:n.color)||"#FF5C00",onChange:oe=>i({...n,color:oe.target.value})})]}),u.jsx(He,{className:"w-full",onClick:Z,disabled:!((G=n==null?void 0:n.name)!=null&&G.trim()),children:"Salvar"})]})]})]}),u.jsxs(Qp,{children:[u.jsx(ky,{asChild:!0,children:u.jsx(He,{size:"icon",variant:"ghost",className:"h-6 w-6 text-white hover:bg-white/20",children:u.jsx(Uh,{className:"h-3 w-3"})})}),u.jsxs(Jh,{children:[u.jsxs(Zh,{children:[u.jsx(tf,{children:"Excluir casa de aposta?"}),u.jsx(rf,{children:"Esta ação não pode ser desfeita. Todas as transações relacionadas a esta plataforma serão mantidas."})]}),u.jsxs(ef,{children:[u.jsx(af,{children:"Cancelar"}),u.jsx(nf,{onClick:()=>ye(V.id),children:"Excluir"})]})]})]})]})},V.id)})]})}),u.jsx("tbody",{children:k.map(V=>{const G=E.find(oe=>oe.name===V.name);return u.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[u.jsx("td",{className:"p-4 font-medium sticky left-0 bg-background z-10",children:V.name}),u.jsx("td",{className:"p-4 text-center font-bold sticky left-20 bg-background z-10",children:u.jsxs("span",{className:"text-success",children:["R$ ",((G==null?void 0:G.total)||0).toLocaleString("pt-BR")]})}),O.map(oe=>{var he;const J=`${V.id}-${oe.id}`,ne=f[J],xe=((he=G==null?void 0:G.platforms)==null?void 0:he[oe.id])||0;return u.jsx("td",{className:"p-4 text-center",children:ne?u.jsx("div",{className:"flex items-center gap-1",children:u.jsx(Vt,{type:"number",value:ne.value,onChange:T=>v({...f,[J]:{...ne,value:T.target.value}}),className:"w-20 h-8 text-center",onKeyDown:T=>{T.key==="Enter"?Y(V.id,oe.id):T.key==="Escape"&&K(V.id,oe.id)},onBlur:()=>Y(V.id,oe.id),autoFocus:!0})}):u.jsxs("span",{className:"text-success cursor-pointer hover:bg-muted/50 p-1 rounded",onClick:()=>re(V.id,oe.id,xe),children:["R$ ",xe.toLocaleString("pt-BR")]})},oe.id)})]},V.id)})})]})})]})]})})};function rn(t){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(t)}var Ol=Uint8Array,ts=Uint16Array,iD=Int32Array,aD=new Ol([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oD=new Ol([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mB=new Ol([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rte=function(t,e){for(var r=new ts(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new iD(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},Dte=Rte(aD,2),LGe=Dte.b,P4=Dte.r;LGe[28]=258,P4[258]=28;var MGe=Rte(oD,0),gB=MGe.r,T4=new ts(32768);for(var zn=0;zn<32768;++zn){var Md=(zn&43690)>>1|(zn&21845)<<1;Md=(Md&52428)>>2|(Md&13107)<<2,Md=(Md&61680)>>4|(Md&3855)<<4,T4[zn]=((Md&65280)>>8|(Md&255)<<8)>>1}var D1=function(t,e,r){for(var n=t.length,i=0,a=new ts(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new ts(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(r){s=new ts(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],d=e-t[i],h=o[t[i]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)s[T4[h]>>l]=c}else for(s=new ts(n),i=0;i<n;++i)t[i]&&(s[i]=T4[o[t[i]-1]++]>>15-t[i]);return s},sm=new Ol(288);for(var zn=0;zn<144;++zn)sm[zn]=8;for(var zn=144;zn<256;++zn)sm[zn]=9;for(var zn=256;zn<280;++zn)sm[zn]=7;for(var zn=280;zn<288;++zn)sm[zn]=8;var j5=new Ol(32);for(var zn=0;zn<32;++zn)j5[zn]=5;var $Ge=D1(sm,9,0),FGe=D1(j5,5,0),Lte=function(t){return(t+7)/8|0},BGe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ol(t.subarray(e,r))},ou=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},F0=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},uT=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:$te,l:0};if(i==1){var o=new Ol(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,I){return N.f-I.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],c=0,d=1,h=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=i-1;)s=r[r[c].f<r[h].f?c++:h++],l=r[c!=d&&r[c].f<r[h].f?c++:h++],r[d++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var f=new ts(p+1),v=j4(r[d-1],f,0);if(v>e){var n=0,m=0,g=v-e,y=1<<g;for(a.sort(function(I,P){return f[P.s]-f[I.s]||I.f-P.f});n<i;++n){var x=a[n].s;if(f[x]>e)m+=y-(1<<v-f[x]),f[x]=e;else break}for(m>>=g;m>0;){var _=a[n].s;f[_]<e?m-=1<<e-f[_]++-1:++n}for(;n>=0&&m;--n){var A=a[n].s;f[A]==e&&(--f[A],++m)}v=e}return{t:new Ol(f),l:v}},j4=function(t,e,r){return t.s==-1?Math.max(j4(t.l,e,r+1),j4(t.r,e,r+1)):e[t.s]=r},vB=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ts(++e),n=0,i=t[0],a=1,o=function(l){r[n++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:r.subarray(0,n),n:e}},B0=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Mte=function(t,e,r){var n=r.length,i=Lte(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},yB=function(t,e,r,n,i,a,o,s,l,c,d){ou(e,d++,r),++i[256];for(var h=uT(i,15),p=h.t,f=h.l,v=uT(a,15),m=v.t,g=v.l,y=vB(p),x=y.c,_=y.n,A=vB(m),N=A.c,I=A.n,P=new ts(19),E=0;E<x.length;++E)++P[x[E]&31];for(var E=0;E<N.length;++E)++P[N[E]&31];for(var k=uT(P,7),D=k.t,C=k.l,O=19;O>4&&!D[mB[O-1]];--O);var L=c+5<<3,z=B0(i,sm)+B0(a,j5)+o,re=B0(i,p)+B0(a,m)+o+14+3*O+B0(P,D)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&L<=z&&L<=re)return Mte(e,d,t.subarray(l,l+c));var Y,K,q,Z;if(ou(e,d,1+(re<z)),d+=2,re<z){Y=D1(p,f,0),K=p,q=D1(m,g,0),Z=m;var ye=D1(D,C,0);ou(e,d,_-257),ou(e,d+5,I-1),ou(e,d+10,O-4),d+=14;for(var E=0;E<O;++E)ou(e,d+3*E,D[mB[E]]);d+=3*O;for(var ce=[x,N],F=0;F<2;++F)for(var V=ce[F],E=0;E<V.length;++E){var G=V[E]&31;ou(e,d,ye[G]),d+=D[G],G>15&&(ou(e,d,V[E]>>5&127),d+=V[E]>>12)}}else Y=$Ge,K=sm,q=FGe,Z=j5;for(var E=0;E<s;++E){var oe=n[E];if(oe>255){var G=oe>>18&31;F0(e,d,Y[G+257]),d+=K[G+257],G>7&&(ou(e,d,oe>>23&31),d+=aD[G]);var J=oe&31;F0(e,d,q[J]),d+=Z[J],J>3&&(F0(e,d,oe>>5&8191),d+=oD[J])}else F0(e,d,Y[oe]),d+=K[oe]}return F0(e,d,Y[256]),d+K[256]},UGe=new iD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$te=new Ol(0),VGe=function(t,e,r,n,i,a){var o=a.z||t.length,s=new Ol(n+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(n,s.length-i),c=a.l,d=(a.r||0)&7;if(e){d&&(l[0]=a.r>>3);for(var h=UGe[e-1],p=h>>13,f=h&8191,v=(1<<r)-1,m=a.p||new ts(32768),g=a.h||new ts(v+1),y=Math.ceil(r/3),x=2*y,_=function(ve){return(t[ve]^t[ve+1]<<y^t[ve+2]<<x)&v},A=new iD(25e3),N=new ts(288),I=new ts(32),P=0,E=0,k=a.i||0,D=0,C=a.w||0,O=0;k+2<o;++k){var L=_(k),z=k&32767,re=g[L];if(m[z]=re,g[L]=z,C<=k){var Y=o-k;if((P>7e3||D>24576)&&(Y>423||!c)){d=yB(t,l,0,A,N,I,E,D,O,k-O,d),D=P=E=0,O=k;for(var K=0;K<286;++K)N[K]=0;for(var K=0;K<30;++K)I[K]=0}var q=2,Z=0,ye=f,ce=z-re&32767;if(Y>2&&L==_(k-ce))for(var F=Math.min(p,Y)-1,V=Math.min(32767,k),G=Math.min(258,Y);ce<=V&&--ye&&z!=re;){if(t[k+q]==t[k+q-ce]){for(var oe=0;oe<G&&t[k+oe]==t[k+oe-ce];++oe);if(oe>q){if(q=oe,Z=ce,oe>F)break;for(var J=Math.min(ce,oe-2),ne=0,K=0;K<J;++K){var xe=k-ce+K&32767,he=m[xe],T=xe-he&32767;T>ne&&(ne=T,re=xe)}}}z=re,re=m[z],ce+=z-re&32767}if(Z){A[D++]=268435456|P4[q]<<18|gB[Z];var X=P4[q]&31,le=gB[Z]&31;E+=aD[X]+oD[le],++N[257+X],++I[le],C=k+q,++P}else A[D++]=t[k],++N[t[k]]}}for(k=Math.max(k,C);k<o;++k)A[D++]=t[k],++N[t[k]];d=yB(t,l,c,A,N,I,E,D,O,k-O,d),c||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=g,a.p=m,a.i=k,a.w=C)}else{for(var k=a.w||0;k<o+c;k+=65535){var de=k+65535;de>=o&&(l[d/8|0]=c,de=o),d=Mte(l,d+1,t.subarray(k,de))}a.i=o}return BGe(s,0,n+Lte(d)+i)},Fte=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},zGe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Ol(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return VGe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Bte=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},qGe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Fte();i.p(e.dictionary),Bte(t,2,i.d())}};function C4(t,e){e||(e={});var r=Fte();r.p(t);var n=zGe(t,e,e.dictionary?6:2,4);return qGe(n,e),Bte(n,n.length-4,r.d()),n}var WGe=typeof TextDecoder<"u"&&new TextDecoder,HGe=0;try{WGe.decode($te,{stream:!0}),HGe=1}catch{}function GGe(t){if(Array.isArray(t))return t}function KGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function bB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function YGe(t,e){if(t){if(typeof t=="string")return bB(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bB(t,e):void 0}}function XGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xB(t,e){return GGe(t)||KGe(t,e)||YGe(t,e)||XGe()}function wB(t,e="utf8"){return new TextDecoder(e).decode(t)}const QGe=new TextEncoder;function JGe(t){return QGe.encode(t)}const ZGe=1024*8,eKe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),dT={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sD{constructor(e=ZGe,r={}){kr(this,"buffer");kr(this,"byteLength");kr(this,"byteOffset");kr(this,"length");kr(this,"offset");kr(this,"lastWrittenByte");kr(this,"littleEndian");kr(this,"_data");kr(this,"_mark");kr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof sD)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=dT[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===eKe&&r!=="uint8"&&r!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+n));s.reverse();const l=new dT[r](s.buffer);return this.offset+=n,l.reverse(),l}const o=new dT[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return wB(this.readBytes(e))}decodeText(e=1,r="utf8"){return wB(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(JGe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const tKe=4,_B=0,SB=1,rKe=2;function Ky(t){let e=t.length;for(;--e>=0;)t[e]=0}const nKe=0,Ute=1,iKe=2,aKe=3,oKe=258,lD=29,aw=256,ax=aw+1+lD,Xg=30,cD=19,Vte=2*ax+1,hp=15,hT=16,sKe=7,uD=256,zte=16,qte=17,Wte=18,k4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),m_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),lKe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Hte=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cKe=512,gu=new Array((ax+2)*2);Ky(gu);const L1=new Array(Xg*2);Ky(L1);const ox=new Array(cKe);Ky(ox);const sx=new Array(oKe-aKe+1);Ky(sx);const dD=new Array(lD);Ky(dD);const C5=new Array(Xg);Ky(C5);function fT(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let Gte,Kte,Yte;function pT(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Xte=t=>t<256?ox[t]:ox[256+(t>>>7)],lx=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},No=(t,e,r)=>{t.bi_valid>hT-r?(t.bi_buf|=e<<t.bi_valid&65535,lx(t,t.bi_buf),t.bi_buf=e>>hT-t.bi_valid,t.bi_valid+=r-hT):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},dc=(t,e,r)=>{No(t,r[e*2],r[e*2+1])},Qte=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},uKe=t=>{t.bi_valid===16?(lx(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},dKe=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,d,h,p,f,v,m=0;for(p=0;p<=hp;p++)t.bl_count[p]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<Vte;c++)d=t.heap[c],p=r[r[d*2+1]*2+1]+1,p>l&&(p=l,m++),r[d*2+1]=p,!(d>n)&&(t.bl_count[p]++,f=0,d>=s&&(f=o[d-s]),v=r[d*2],t.opt_len+=v*(p+f),a&&(t.static_len+=v*(i[d*2+1]+f)));if(m!==0){do{for(p=l-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(p=l;p!==0;p--)for(d=t.bl_count[p];d!==0;)h=t.heap[--c],!(h>n)&&(r[h*2+1]!==p&&(t.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),d--)}},Jte=(t,e,r)=>{const n=new Array(hp+1);let i=0,a,o;for(a=1;a<=hp;a++)i=i+r[a-1]<<1,n[a]=i;for(o=0;o<=e;o++){let s=t[o*2+1];s!==0&&(t[o*2]=Qte(n[s]++,s))}},hKe=()=>{let t,e,r,n,i;const a=new Array(hp+1);for(r=0,n=0;n<lD-1;n++)for(dD[n]=r,t=0;t<1<<k4[n];t++)sx[r++]=n;for(sx[r-1]=n,i=0,n=0;n<16;n++)for(C5[n]=i,t=0;t<1<<m_[n];t++)ox[i++]=n;for(i>>=7;n<Xg;n++)for(C5[n]=i<<7,t=0;t<1<<m_[n]-7;t++)ox[256+i++]=n;for(e=0;e<=hp;e++)a[e]=0;for(t=0;t<=143;)gu[t*2+1]=8,t++,a[8]++;for(;t<=255;)gu[t*2+1]=9,t++,a[9]++;for(;t<=279;)gu[t*2+1]=7,t++,a[7]++;for(;t<=287;)gu[t*2+1]=8,t++,a[8]++;for(Jte(gu,ax+1,a),t=0;t<Xg;t++)L1[t*2+1]=5,L1[t*2]=Qte(t,5);Gte=new fT(gu,k4,aw+1,ax,hp),Kte=new fT(L1,m_,0,Xg,hp),Yte=new fT(new Array(0),lKe,0,cD,sKe)},Zte=t=>{let e;for(e=0;e<ax;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Xg;e++)t.dyn_dtree[e*2]=0;for(e=0;e<cD;e++)t.bl_tree[e*2]=0;t.dyn_ltree[uD*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ere=t=>{t.bi_valid>8?lx(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},AB=(t,e,r,n)=>{const i=e*2,a=r*2;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},mT=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&AB(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!AB(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},EB=(t,e,r)=>{let n,i,a=0,o,s;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,i=t.pending_buf[t.sym_buf+a++],n===0?dc(t,i,e):(o=sx[i],dc(t,o+aw+1,e),s=k4[o],s!==0&&(i-=dD[o],No(t,i,s)),n--,o=Xte(n),dc(t,o,r),s=m_[o],s!==0&&(n-=C5[o],No(t,n,s)));while(a<t.sym_next);dc(t,uD,e)},I4=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems;let o,s,l=-1,c;for(t.heap_len=0,t.heap_max=Vte,o=0;o<a;o++)r[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):r[o*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[c*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)mT(t,r,o);c=a;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],mT(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=s,r[c*2]=r[o*2]+r[s*2],t.depth[c]=(t.depth[o]>=t.depth[s]?t.depth[o]:t.depth[s])+1,r[o*2+1]=r[s*2+1]=c,t.heap[1]=c++,mT(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],dKe(t,e),Jte(r,l,t.bl_count)},NB=(t,e,r)=>{let n,i=-1,a,o=e[0*2+1],s=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=o,o=e[(n+1)*2+1],!(++s<l&&a===o)&&(s<c?t.bl_tree[a*2]+=s:a!==0?(a!==i&&t.bl_tree[a*2]++,t.bl_tree[zte*2]++):s<=10?t.bl_tree[qte*2]++:t.bl_tree[Wte*2]++,s=0,i=a,o===0?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))},PB=(t,e,r)=>{let n,i=-1,a,o=e[0*2+1],s=0,l=7,c=4;for(o===0&&(l=138,c=3),n=0;n<=r;n++)if(a=o,o=e[(n+1)*2+1],!(++s<l&&a===o)){if(s<c)do dc(t,a,t.bl_tree);while(--s!==0);else a!==0?(a!==i&&(dc(t,a,t.bl_tree),s--),dc(t,zte,t.bl_tree),No(t,s-3,2)):s<=10?(dc(t,qte,t.bl_tree),No(t,s-3,3)):(dc(t,Wte,t.bl_tree),No(t,s-11,7));s=0,i=a,o===0?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}},fKe=t=>{let e;for(NB(t,t.dyn_ltree,t.l_desc.max_code),NB(t,t.dyn_dtree,t.d_desc.max_code),I4(t,t.bl_desc),e=cD-1;e>=3&&t.bl_tree[Hte[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},pKe=(t,e,r,n)=>{let i;for(No(t,e-257,5),No(t,r-1,5),No(t,n-4,4),i=0;i<n;i++)No(t,t.bl_tree[Hte[i]*2+1],3);PB(t,t.dyn_ltree,e-1),PB(t,t.dyn_dtree,r-1)},mKe=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return _B;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return SB;for(r=32;r<aw;r++)if(t.dyn_ltree[r*2]!==0)return SB;return _B};let TB=!1;const gKe=t=>{TB||(hKe(),TB=!0),t.l_desc=new pT(t.dyn_ltree,Gte),t.d_desc=new pT(t.dyn_dtree,Kte),t.bl_desc=new pT(t.bl_tree,Yte),t.bi_buf=0,t.bi_valid=0,Zte(t)},tre=(t,e,r,n)=>{No(t,(nKe<<1)+(n?1:0),3),ere(t),lx(t,r),lx(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},vKe=t=>{No(t,Ute<<1,3),dc(t,uD,gu),uKe(t)},yKe=(t,e,r,n)=>{let i,a,o=0;t.level>0?(t.strm.data_type===rKe&&(t.strm.data_type=mKe(t)),I4(t,t.l_desc),I4(t,t.d_desc),o=fKe(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?tre(t,e,r,n):t.strategy===tKe||a===i?(No(t,(Ute<<1)+(n?1:0),3),EB(t,gu,L1)):(No(t,(iKe<<1)+(n?1:0),3),pKe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),EB(t,t.dyn_ltree,t.dyn_dtree)),Zte(t),n&&ere(t)},bKe=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(sx[r]+aw+1)*2]++,t.dyn_dtree[Xte(e)*2]++),t.sym_next===t.sym_end);var xKe=gKe,wKe=tre,_Ke=yKe,SKe=bKe,AKe=vKe,EKe={_tr_init:xKe,_tr_stored_block:wKe,_tr_flush_block:_Ke,_tr_tally:SKe,_tr_align:AKe};const NKe=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var cx=NKe;const PKe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},TKe=new Uint32Array(PKe()),jKe=(t,e,r,n)=>{const i=TKe,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Ki=jKe,cy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ow={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:CKe,_tr_stored_block:O4,_tr_flush_block:kKe,_tr_tally:Lh,_tr_align:IKe}=EKe,{Z_NO_FLUSH:Mh,Z_PARTIAL_FLUSH:OKe,Z_FULL_FLUSH:RKe,Z_FINISH:Ms,Z_BLOCK:jB,Z_OK:ca,Z_STREAM_END:CB,Z_STREAM_ERROR:jc,Z_DATA_ERROR:DKe,Z_BUF_ERROR:gT,Z_DEFAULT_COMPRESSION:LKe,Z_FILTERED:MKe,Z_HUFFMAN_ONLY:N2,Z_RLE:$Ke,Z_FIXED:FKe,Z_DEFAULT_STRATEGY:BKe,Z_UNKNOWN:UKe,Z_DEFLATED:KE}=ow,VKe=9,zKe=15,qKe=8,WKe=29,HKe=256,R4=HKe+1+WKe,GKe=30,KKe=19,YKe=2*R4+1,XKe=15,Pr=3,gh=258,Cc=gh+Pr+1,QKe=32,uy=42,hD=57,D4=69,L4=73,M4=91,$4=103,fp=113,i1=666,no=1,Yy=2,lm=3,Xy=4,JKe=3,pp=(t,e)=>(t.msg=cy[e],e),kB=t=>t*2-(t>4?9:0),eh=t=>{let e=t.length;for(;--e>=0;)t[e]=0},ZKe=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e);e=i,n=e;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)};let eYe=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,$h=eYe;const Go=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},rs=(t,e)=>{kKe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Go(t.strm)},Hr=(t,e)=>{t.pending_buf[t.pending++]=e},U0=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},F4=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=cx(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Ki(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},rre=(t,e)=>{let r=t.max_chain_length,n=t.strstart,i,a,o=t.prev_length,s=t.nice_match;const l=t.strstart>t.w_size-Cc?t.strstart-(t.w_size-Cc):0,c=t.window,d=t.w_mask,h=t.prev,p=t.strstart+gh;let f=c[n+o-1],v=c[n+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do if(i=e,!(c[i+o]!==v||c[i+o-1]!==f||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<p);if(a=gh-(p-n),n=p-gh,a>o){if(t.match_start=e,o=a,a>=s)break;f=c[n+o-1],v=c[n+o]}}while((e=h[e&d])>l&&--r!==0);return o<=t.lookahead?o:t.lookahead},dy=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Cc)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),ZKe(t),n+=e),t.strm.avail_in===0)break;if(r=F4(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=Pr)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=$h(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=$h(t,t.ins_h,t.window[i+Pr-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Pr)););}while(t.lookahead<Cc&&t.strm.avail_in!==0)},nre=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,a,o=0,s=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&e!==Ms||e===Mh||n!==i+t.strm.avail_in)))break;o=e===Ms&&n===i+t.strm.avail_in?1:0,O4(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Go(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(F4(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(o===0);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Xy:e!==Mh&&e!==Ms&&t.strm.avail_in===0&&t.strstart===t.block_start?Yy:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(F4(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,r=a>t.w_size?t.w_size:a,i=t.strstart-t.block_start,(i>=r||(i||e===Ms)&&e!==Mh&&t.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,o=e===Ms&&t.strm.avail_in===0&&n===i?1:0,O4(t,t.block_start,n,o),t.block_start+=n,Go(t.strm)),o?lm:no)},vT=(t,e)=>{let r,n;for(;;){if(t.lookahead<Cc){if(dy(t),t.lookahead<Cc&&e===Mh)return no;if(t.lookahead===0)break}if(r=0,t.lookahead>=Pr&&(t.ins_h=$h(t,t.ins_h,t.window[t.strstart+Pr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Cc&&(t.match_length=rre(t,r)),t.match_length>=Pr)if(n=Lh(t,t.strstart-t.match_start,t.match_length-Pr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Pr){t.match_length--;do t.strstart++,t.ins_h=$h(t,t.ins_h,t.window[t.strstart+Pr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=$h(t,t.ins_h,t.window[t.strstart+1]);else n=Lh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(rs(t,!1),t.strm.avail_out===0))return no}return t.insert=t.strstart<Pr-1?t.strstart:Pr-1,e===Ms?(rs(t,!0),t.strm.avail_out===0?lm:Xy):t.sym_next&&(rs(t,!1),t.strm.avail_out===0)?no:Yy},Xm=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Cc){if(dy(t),t.lookahead<Cc&&e===Mh)return no;if(t.lookahead===0)break}if(r=0,t.lookahead>=Pr&&(t.ins_h=$h(t,t.ins_h,t.window[t.strstart+Pr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Pr-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Cc&&(t.match_length=rre(t,r),t.match_length<=5&&(t.strategy===MKe||t.match_length===Pr&&t.strstart-t.match_start>4096)&&(t.match_length=Pr-1)),t.prev_length>=Pr&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Pr,n=Lh(t,t.strstart-1-t.prev_match,t.prev_length-Pr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=$h(t,t.ins_h,t.window[t.strstart+Pr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Pr-1,t.strstart++,n&&(rs(t,!1),t.strm.avail_out===0))return no}else if(t.match_available){if(n=Lh(t,0,t.window[t.strstart-1]),n&&rs(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return no}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Lh(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Pr-1?t.strstart:Pr-1,e===Ms?(rs(t,!0),t.strm.avail_out===0?lm:Xy):t.sym_next&&(rs(t,!1),t.strm.avail_out===0)?no:Yy},tYe=(t,e)=>{let r,n,i,a;const o=t.window;for(;;){if(t.lookahead<=gh){if(dy(t),t.lookahead<=gh&&e===Mh)return no;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Pr&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){a=t.strstart+gh;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);t.match_length=gh-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Pr?(r=Lh(t,1,t.match_length-Pr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Lh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(rs(t,!1),t.strm.avail_out===0))return no}return t.insert=0,e===Ms?(rs(t,!0),t.strm.avail_out===0?lm:Xy):t.sym_next&&(rs(t,!1),t.strm.avail_out===0)?no:Yy},rYe=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(dy(t),t.lookahead===0)){if(e===Mh)return no;break}if(t.match_length=0,r=Lh(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(rs(t,!1),t.strm.avail_out===0))return no}return t.insert=0,e===Ms?(rs(t,!0),t.strm.avail_out===0?lm:Xy):t.sym_next&&(rs(t,!1),t.strm.avail_out===0)?no:Yy};function Jl(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const a1=[new Jl(0,0,0,0,nre),new Jl(4,4,8,4,vT),new Jl(4,5,16,8,vT),new Jl(4,6,32,32,vT),new Jl(4,4,16,16,Xm),new Jl(8,16,32,32,Xm),new Jl(8,16,128,128,Xm),new Jl(8,32,128,256,Xm),new Jl(32,128,258,1024,Xm),new Jl(32,258,258,4096,Xm)],nYe=t=>{t.window_size=2*t.w_size,eh(t.head),t.max_lazy_match=a1[t.level].max_lazy,t.good_match=a1[t.level].good_length,t.nice_match=a1[t.level].nice_length,t.max_chain_length=a1[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Pr-1,t.match_available=0,t.ins_h=0};function iYe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=KE,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(YKe*2),this.dyn_dtree=new Uint16Array((2*GKe+1)*2),this.bl_tree=new Uint16Array((2*KKe+1)*2),eh(this.dyn_ltree),eh(this.dyn_dtree),eh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(XKe+1),this.heap=new Uint16Array(2*R4+1),eh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*R4+1),eh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const sw=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==uy&&e.status!==hD&&e.status!==D4&&e.status!==L4&&e.status!==M4&&e.status!==$4&&e.status!==fp&&e.status!==i1?1:0},ire=t=>{if(sw(t))return pp(t,jc);t.total_in=t.total_out=0,t.data_type=UKe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?hD:e.wrap?uy:fp,t.adler=e.wrap===2?0:1,e.last_flush=-2,CKe(e),ca},are=t=>{const e=ire(t);return e===ca&&nYe(t.state),e},aYe=(t,e)=>sw(t)||t.state.wrap!==2?jc:(t.state.gzhead=e,ca),ore=(t,e,r,n,i,a)=>{if(!t)return jc;let o=1;if(e===LKe&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>VKe||r!==KE||n<8||n>15||e<0||e>9||a<0||a>FKe||n===8&&o!==1)return pp(t,jc);n===8&&(n=9);const s=new iYe;return t.state=s,s.strm=t,s.status=uy,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Pr-1)/Pr),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=e,s.strategy=a,s.method=r,are(t)},oYe=(t,e)=>ore(t,e,KE,zKe,qKe,BKe),sYe=(t,e)=>{if(sw(t)||e>jB||e<0)return t?pp(t,jc):jc;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===i1&&e!==Ms)return pp(t,t.avail_out===0?gT:jc);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(Go(t),t.avail_out===0)return r.last_flush=-1,ca}else if(t.avail_in===0&&kB(e)<=kB(n)&&e!==Ms)return pp(t,gT);if(r.status===i1&&t.avail_in!==0)return pp(t,gT);if(r.status===uy&&r.wrap===0&&(r.status=fp),r.status===uy){let i=KE+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=N2||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=QKe),i+=31-i%31,U0(r,i),r.strstart!==0&&(U0(r,t.adler>>>16),U0(r,t.adler&65535)),t.adler=1,r.status=fp,Go(t),r.pending!==0)return r.last_flush=-1,ca}if(r.status===hD){if(t.adler=0,Hr(r,31),Hr(r,139),Hr(r,8),r.gzhead)Hr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Hr(r,r.gzhead.time&255),Hr(r,r.gzhead.time>>8&255),Hr(r,r.gzhead.time>>16&255),Hr(r,r.gzhead.time>>24&255),Hr(r,r.level===9?2:r.strategy>=N2||r.level<2?4:0),Hr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Hr(r,r.gzhead.extra.length&255),Hr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Ki(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=D4;else if(Hr(r,0),Hr(r,0),Hr(r,0),Hr(r,0),Hr(r,0),Hr(r,r.level===9?2:r.strategy>=N2||r.level<2?4:0),Hr(r,JKe),r.status=fp,Go(t),r.pending!==0)return r.last_flush=-1,ca}if(r.status===D4){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let s=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=s,Go(t),r.pending!==0)return r.last_flush=-1,ca;i=0,a-=s}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=L4}if(r.status===L4){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),Go(t),r.pending!==0)return r.last_flush=-1,ca;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,Hr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=M4}if(r.status===M4){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),Go(t),r.pending!==0)return r.last_flush=-1,ca;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,Hr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i))}r.status=$4}if(r.status===$4){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Go(t),r.pending!==0))return r.last_flush=-1,ca;Hr(r,t.adler&255),Hr(r,t.adler>>8&255),t.adler=0}if(r.status=fp,Go(t),r.pending!==0)return r.last_flush=-1,ca}if(t.avail_in!==0||r.lookahead!==0||e!==Mh&&r.status!==i1){let i=r.level===0?nre(r,e):r.strategy===N2?rYe(r,e):r.strategy===$Ke?tYe(r,e):a1[r.level].func(r,e);if((i===lm||i===Xy)&&(r.status=i1),i===no||i===lm)return t.avail_out===0&&(r.last_flush=-1),ca;if(i===Yy&&(e===OKe?IKe(r):e!==jB&&(O4(r,0,0,!1),e===RKe&&(eh(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Go(t),t.avail_out===0))return r.last_flush=-1,ca}return e!==Ms?ca:r.wrap<=0?CB:(r.wrap===2?(Hr(r,t.adler&255),Hr(r,t.adler>>8&255),Hr(r,t.adler>>16&255),Hr(r,t.adler>>24&255),Hr(r,t.total_in&255),Hr(r,t.total_in>>8&255),Hr(r,t.total_in>>16&255),Hr(r,t.total_in>>24&255)):(U0(r,t.adler>>>16),U0(r,t.adler&65535)),Go(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?ca:CB)},lYe=t=>{if(sw(t))return jc;const e=t.state.status;return t.state=null,e===fp?pp(t,DKe):ca},cYe=(t,e)=>{let r=e.length;if(sw(t))return jc;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==uy||n.lookahead)return jc;if(i===1&&(t.adler=cx(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(eh(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(r-n.w_size,r),0),e=l,r=n.w_size}const a=t.avail_in,o=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,dy(n);n.lookahead>=Pr;){let l=n.strstart,c=n.lookahead-(Pr-1);do n.ins_h=$h(n,n.ins_h,n.window[l+Pr-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=Pr-1,dy(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Pr-1,n.match_available=0,t.next_in=o,t.input=s,t.avail_in=a,n.wrap=i,ca};var uYe=oYe,dYe=ore,hYe=are,fYe=ire,pYe=aYe,mYe=sYe,gYe=lYe,vYe=cYe,yYe="pako deflate (from Nodeca project)",M1={deflateInit:uYe,deflateInit2:dYe,deflateReset:hYe,deflateResetKeep:fYe,deflateSetHeader:pYe,deflate:mYe,deflateEnd:gYe,deflateSetDictionary:vYe,deflateInfo:yYe};const bYe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var xYe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)bYe(r,n)&&(t[n]=r[n])}}return t},wYe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},YE={assign:xYe,flattenChunks:wYe};let sre=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{sre=!1}const ux=new Uint8Array(256);for(let t=0;t<256;t++)ux[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ux[254]=ux[254]=1;var _Ye=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,s=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const SYe=(t,e)=>{if(e<65534&&t.subarray&&sre)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var AYe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let s=ux[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|t[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return SYe(a,i)},EYe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ux[t[r]]>e?r:e},dx={string2buf:_Ye,buf2string:AYe,utf8border:EYe};function NYe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lre=NYe;const cre=Object.prototype.toString,{Z_NO_FLUSH:PYe,Z_SYNC_FLUSH:TYe,Z_FULL_FLUSH:jYe,Z_FINISH:CYe,Z_OK:k5,Z_STREAM_END:kYe,Z_DEFAULT_COMPRESSION:IYe,Z_DEFAULT_STRATEGY:OYe,Z_DEFLATED:RYe}=ow;function fD(t){this.options=YE.assign({level:IYe,method:RYe,chunkSize:16384,windowBits:15,memLevel:8,strategy:OYe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lre,this.strm.avail_out=0;let r=M1.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==k5)throw new Error(cy[r]);if(e.header&&M1.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=dx.string2buf(e.dictionary):cre.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=M1.deflateSetDictionary(this.strm,n),r!==k5)throw new Error(cy[r]);this._dict_set=!0}}fD.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?CYe:PYe,typeof t=="string"?r.input=dx.string2buf(t):cre.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===TYe||a===jYe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=M1.deflate(r,a),i===kYe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=M1.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===k5;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};fD.prototype.onData=function(t){this.chunks.push(t)};fD.prototype.onEnd=function(t){t===k5&&(this.result=YE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const P2=16209,DYe=16191;var LYe=function(e,r){let n,i,a,o,s,l,c,d,h,p,f,v,m,g,y,x,_,A,N,I,P,E,k,D;const C=e.state;n=e.next_in,k=e.input,i=n+(e.avail_in-5),a=e.next_out,D=e.output,o=a-(r-e.avail_out),s=a+(e.avail_out-257),l=C.dmax,c=C.wsize,d=C.whave,h=C.wnext,p=C.window,f=C.hold,v=C.bits,m=C.lencode,g=C.distcode,y=(1<<C.lenbits)-1,x=(1<<C.distbits)-1;e:do{v<15&&(f+=k[n++]<<v,v+=8,f+=k[n++]<<v,v+=8),_=m[f&y];t:for(;;){if(A=_>>>24,f>>>=A,v-=A,A=_>>>16&255,A===0)D[a++]=_&65535;else if(A&16){N=_&65535,A&=15,A&&(v<A&&(f+=k[n++]<<v,v+=8),N+=f&(1<<A)-1,f>>>=A,v-=A),v<15&&(f+=k[n++]<<v,v+=8,f+=k[n++]<<v,v+=8),_=g[f&x];r:for(;;){if(A=_>>>24,f>>>=A,v-=A,A=_>>>16&255,A&16){if(I=_&65535,A&=15,v<A&&(f+=k[n++]<<v,v+=8,v<A&&(f+=k[n++]<<v,v+=8)),I+=f&(1<<A)-1,I>l){e.msg="invalid distance too far back",C.mode=P2;break e}if(f>>>=A,v-=A,A=a-o,I>A){if(A=I-A,A>d&&C.sane){e.msg="invalid distance too far back",C.mode=P2;break e}if(P=0,E=p,h===0){if(P+=c-A,A<N){N-=A;do D[a++]=p[P++];while(--A);P=a-I,E=D}}else if(h<A){if(P+=c+h-A,A-=h,A<N){N-=A;do D[a++]=p[P++];while(--A);if(P=0,h<N){A=h,N-=A;do D[a++]=p[P++];while(--A);P=a-I,E=D}}}else if(P+=h-A,A<N){N-=A;do D[a++]=p[P++];while(--A);P=a-I,E=D}for(;N>2;)D[a++]=E[P++],D[a++]=E[P++],D[a++]=E[P++],N-=3;N&&(D[a++]=E[P++],N>1&&(D[a++]=E[P++]))}else{P=a-I;do D[a++]=D[P++],D[a++]=D[P++],D[a++]=D[P++],N-=3;while(N>2);N&&(D[a++]=D[P++],N>1&&(D[a++]=D[P++]))}}else if(A&64){e.msg="invalid distance code",C.mode=P2;break e}else{_=g[(_&65535)+(f&(1<<A)-1)];continue r}break}}else if(A&64)if(A&32){C.mode=DYe;break e}else{e.msg="invalid literal/length code",C.mode=P2;break e}else{_=m[(_&65535)+(f&(1<<A)-1)];continue t}break}}while(n<i&&a<s);N=v>>3,n-=N,v-=N<<3,f&=(1<<v)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<s?257+(s-a):257-(a-s),C.hold=f,C.bits=v};const Qm=15,IB=852,OB=592,RB=0,yT=1,DB=2,MYe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$Ye=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),FYe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),BYe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),UYe=(t,e,r,n,i,a,o,s)=>{const l=s.bits;let c=0,d=0,h=0,p=0,f=0,v=0,m=0,g=0,y=0,x=0,_,A,N,I,P,E=null,k;const D=new Uint16Array(Qm+1),C=new Uint16Array(Qm+1);let O=null,L,z,re;for(c=0;c<=Qm;c++)D[c]=0;for(d=0;d<n;d++)D[e[r+d]]++;for(f=l,p=Qm;p>=1&&D[p]===0;p--);if(f>p&&(f=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(h=1;h<p&&D[h]===0;h++);for(f<h&&(f=h),g=1,c=1;c<=Qm;c++)if(g<<=1,g-=D[c],g<0)return-1;if(g>0&&(t===RB||p!==1))return-1;for(C[1]=0,c=1;c<Qm;c++)C[c+1]=C[c]+D[c];for(d=0;d<n;d++)e[r+d]!==0&&(o[C[e[r+d]]++]=d);if(t===RB?(E=O=o,k=20):t===yT?(E=MYe,O=$Ye,k=257):(E=FYe,O=BYe,k=0),x=0,d=0,c=h,P=a,v=f,m=0,N=-1,y=1<<f,I=y-1,t===yT&&y>IB||t===DB&&y>OB)return 1;for(;;){L=c-m,o[d]+1<k?(z=0,re=o[d]):o[d]>=k?(z=O[o[d]-k],re=E[o[d]-k]):(z=96,re=0),_=1<<c-m,A=1<<v,h=A;do A-=_,i[P+(x>>m)+A]=L<<24|z<<16|re|0;while(A!==0);for(_=1<<c-1;x&_;)_>>=1;if(_!==0?(x&=_-1,x+=_):x=0,d++,--D[c]===0){if(c===p)break;c=e[r+o[d]]}if(c>f&&(x&I)!==N){for(m===0&&(m=f),P+=h,v=c-m,g=1<<v;v+m<p&&(g-=D[v+m],!(g<=0));)v++,g<<=1;if(y+=1<<v,t===yT&&y>IB||t===DB&&y>OB)return 1;N=x&I,i[N]=f<<24|v<<16|P-a|0}}return x!==0&&(i[P+x]=c-m<<24|64<<16|0),s.bits=f,0};var $1=UYe;const VYe=0,ure=1,dre=2,{Z_FINISH:LB,Z_BLOCK:zYe,Z_TREES:T2,Z_OK:cm,Z_STREAM_END:qYe,Z_NEED_DICT:WYe,Z_STREAM_ERROR:Qs,Z_DATA_ERROR:hre,Z_MEM_ERROR:fre,Z_BUF_ERROR:HYe,Z_DEFLATED:MB}=ow,XE=16180,$B=16181,FB=16182,BB=16183,UB=16184,VB=16185,zB=16186,qB=16187,WB=16188,HB=16189,I5=16190,su=16191,bT=16192,GB=16193,xT=16194,KB=16195,YB=16196,XB=16197,QB=16198,j2=16199,C2=16200,JB=16201,ZB=16202,eU=16203,tU=16204,rU=16205,wT=16206,nU=16207,iU=16208,Hn=16209,pre=16210,mre=16211,GYe=852,KYe=592,YYe=15,XYe=YYe,aU=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function QYe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sm=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<XE||e.mode>mre?1:0},gre=t=>{if(Sm(t))return Qs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=XE,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(GYe),e.distcode=e.distdyn=new Int32Array(KYe),e.sane=1,e.back=-1,cm},vre=t=>{if(Sm(t))return Qs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,gre(t)},yre=(t,e)=>{let r;if(Sm(t))return Qs;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qs:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,vre(t))},bre=(t,e)=>{if(!t)return Qs;const r=new QYe;t.state=r,r.strm=t,r.window=null,r.mode=XE;const n=yre(t,e);return n!==cm&&(t.state=null),n},JYe=t=>bre(t,XYe);let oU=!0,_T,ST;const ZYe=t=>{if(oU){_T=new Int32Array(512),ST=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for($1(ure,t.lens,0,288,_T,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;$1(dre,t.lens,0,32,ST,0,t.work,{bits:5}),oU=!1}t.lencode=_T,t.lenbits=9,t.distcode=ST,t.distbits=5},xre=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},eXe=(t,e)=>{let r,n,i,a,o,s,l,c,d,h,p,f,v,m,g=0,y,x,_,A,N,I,P,E;const k=new Uint8Array(4);let D,C;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sm(t)||!t.output||!t.input&&t.avail_in!==0)return Qs;r=t.state,r.mode===su&&(r.mode=bT),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,c=r.hold,d=r.bits,h=s,p=l,E=cm;e:for(;;)switch(r.mode){case XE:if(r.wrap===0){r.mode=bT;break}for(;d<16;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=c&255,k[1]=c>>>8&255,r.check=Ki(r.check,k,2,0),c=0,d=0,r.mode=$B;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Hn;break}if((c&15)!==MB){t.msg="unknown compression method",r.mode=Hn;break}if(c>>>=4,d-=4,P=(c&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){t.msg="invalid window size",r.mode=Hn;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?HB:su,c=0,d=0;break;case $B:for(;d<16;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==MB){t.msg="unknown compression method",r.mode=Hn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Hn;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,r.check=Ki(r.check,k,2,0)),c=0,d=0,r.mode=FB;case FB:for(;d<32;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,r.check=Ki(r.check,k,4,0)),c=0,d=0,r.mode=BB;case BB:for(;d<16;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,r.check=Ki(r.check,k,2,0)),c=0,d=0,r.mode=UB;case UB:if(r.flags&1024){for(;d<16;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,r.check=Ki(r.check,k,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=VB;case VB:if(r.flags&1024&&(f=r.length,f>s&&(f=s),f&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),P)),r.flags&512&&r.wrap&4&&(r.check=Ki(r.check,n,f,a)),s-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=zB;case zB:if(r.flags&2048){if(s===0)break e;f=0;do P=n[a+f++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&f<s);if(r.flags&512&&r.wrap&4&&(r.check=Ki(r.check,n,f,a)),s-=f,a+=f,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=qB;case qB:if(r.flags&4096){if(s===0)break e;f=0;do P=n[a+f++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&f<s);if(r.flags&512&&r.wrap&4&&(r.check=Ki(r.check,n,f,a)),s-=f,a+=f,P)break e}else r.head&&(r.head.comment=null);r.mode=WB;case WB:if(r.flags&512){for(;d<16;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Hn;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=su;break;case HB:for(;d<32;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}t.adler=r.check=aU(c),c=0,d=0,r.mode=I5;case I5:if(r.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=c,r.bits=d,WYe;t.adler=r.check=1,r.mode=su;case su:if(e===zYe||e===T2)break e;case bT:if(r.last){c>>>=d&7,d-=d&7,r.mode=wT;break}for(;d<3;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=GB;break;case 1:if(ZYe(r),r.mode=j2,e===T2){c>>>=2,d-=2;break e}break;case 2:r.mode=YB;break;case 3:t.msg="invalid block type",r.mode=Hn}c>>>=2,d-=2;break;case GB:for(c>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Hn;break}if(r.length=c&65535,c=0,d=0,r.mode=xT,e===T2)break e;case xT:r.mode=KB;case KB:if(f=r.length,f){if(f>s&&(f=s),f>l&&(f=l),f===0)break e;i.set(n.subarray(a,a+f),o),s-=f,a+=f,l-=f,o+=f,r.length-=f;break}r.mode=su;break;case YB:for(;d<14;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Hn;break}r.have=0,r.mode=XB;case XB:for(;r.have<r.ncode;){for(;d<3;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}r.lens[O[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},E=$1(VYe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,E){t.msg="invalid code lengths set",r.mode=Hn;break}r.have=0,r.mode=QB;case QB:for(;r.have<r.nlen+r.ndist;){for(;g=r.lencode[c&(1<<r.lenbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=d);){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if(_<16)c>>>=y,d-=y,r.lens[r.have++]=_;else{if(_===16){for(C=y+2;d<C;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if(c>>>=y,d-=y,r.have===0){t.msg="invalid bit length repeat",r.mode=Hn;break}P=r.lens[r.have-1],f=3+(c&3),c>>>=2,d-=2}else if(_===17){for(C=y+3;d<C;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}c>>>=y,d-=y,P=0,f=3+(c&7),c>>>=3,d-=3}else{for(C=y+7;d<C;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}c>>>=y,d-=y,P=0,f=11+(c&127),c>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Hn;break}for(;f--;)r.lens[r.have++]=P}}if(r.mode===Hn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Hn;break}if(r.lenbits=9,D={bits:r.lenbits},E=$1(ure,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,E){t.msg="invalid literal/lengths set",r.mode=Hn;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},E=$1(dre,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,E){t.msg="invalid distances set",r.mode=Hn;break}if(r.mode=j2,e===T2)break e;case j2:r.mode=C2;case C2:if(s>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=c,r.bits=d,LYe(t,p),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,c=r.hold,d=r.bits,r.mode===su&&(r.back=-1);break}for(r.back=0;g=r.lencode[c&(1<<r.lenbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=d);){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if(x&&!(x&240)){for(A=y,N=x,I=_;g=r.lencode[I+((c&(1<<A+N)-1)>>A)],y=g>>>24,x=g>>>16&255,_=g&65535,!(A+y<=d);){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}c>>>=A,d-=A,r.back+=A}if(c>>>=y,d-=y,r.back+=y,r.length=_,x===0){r.mode=rU;break}if(x&32){r.back=-1,r.mode=su;break}if(x&64){t.msg="invalid literal/length code",r.mode=Hn;break}r.extra=x&15,r.mode=JB;case JB:if(r.extra){for(C=r.extra;d<C;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=ZB;case ZB:for(;g=r.distcode[c&(1<<r.distbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=d);){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if(!(x&240)){for(A=y,N=x,I=_;g=r.distcode[I+((c&(1<<A+N)-1)>>A)],y=g>>>24,x=g>>>16&255,_=g&65535,!(A+y<=d);){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}c>>>=A,d-=A,r.back+=A}if(c>>>=y,d-=y,r.back+=y,x&64){t.msg="invalid distance code",r.mode=Hn;break}r.offset=_,r.extra=x&15,r.mode=eU;case eU:if(r.extra){for(C=r.extra;d<C;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Hn;break}r.mode=tU;case tU:if(l===0)break e;if(f=p-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Hn;break}f>r.wnext?(f-=r.wnext,v=r.wsize-f):v=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,v=o-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[o++]=m[v++];while(--f);r.length===0&&(r.mode=C2);break;case rU:if(l===0)break e;i[o++]=r.length,l--,r.mode=C2;break;case wT:if(r.wrap){for(;d<32;){if(s===0)break e;s--,c|=n[a++]<<d,d+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Ki(r.check,i,p,o-p):cx(r.check,i,p,o-p)),p=l,r.wrap&4&&(r.flags?c:aU(c))!==r.check){t.msg="incorrect data check",r.mode=Hn;break}c=0,d=0}r.mode=nU;case nU:if(r.wrap&&r.flags){for(;d<32;){if(s===0)break e;s--,c+=n[a++]<<d,d+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Hn;break}c=0,d=0}r.mode=iU;case iU:E=qYe;break e;case Hn:E=hre;break e;case pre:return fre;case mre:default:return Qs}return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=c,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Hn&&(r.mode<wT||e!==LB))&&xre(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Ki(r.check,i,p,t.next_out-p):cx(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===su?128:0)+(r.mode===j2||r.mode===xT?256:0),(h===0&&p===0||e===LB)&&E===cm&&(E=HYe),E},tXe=t=>{if(Sm(t))return Qs;let e=t.state;return e.window&&(e.window=null),t.state=null,cm},rXe=(t,e)=>{if(Sm(t))return Qs;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,cm):Qs},nXe=(t,e)=>{const r=e.length;let n,i,a;return Sm(t)||(n=t.state,n.wrap!==0&&n.mode!==I5)?Qs:n.mode===I5&&(i=1,i=cx(i,e,r,0),i!==n.check)?hre:(a=xre(t,e,r,r),a?(n.mode=pre,fre):(n.havedict=1,cm))};var iXe=vre,aXe=yre,oXe=gre,sXe=JYe,lXe=bre,cXe=eXe,uXe=tXe,dXe=rXe,hXe=nXe,fXe="pako inflate (from Nodeca project)",vu={inflateReset:iXe,inflateReset2:aXe,inflateResetKeep:oXe,inflateInit:sXe,inflateInit2:lXe,inflate:cXe,inflateEnd:uXe,inflateGetHeader:dXe,inflateSetDictionary:hXe,inflateInfo:fXe};function pXe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mXe=pXe;const wre=Object.prototype.toString,{Z_NO_FLUSH:gXe,Z_FINISH:vXe,Z_OK:hx,Z_STREAM_END:AT,Z_NEED_DICT:ET,Z_STREAM_ERROR:yXe,Z_DATA_ERROR:sU,Z_MEM_ERROR:bXe}=ow;function lw(t){this.options=YE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lre,this.strm.avail_out=0;let r=vu.inflateInit2(this.strm,e.windowBits);if(r!==hx)throw new Error(cy[r]);if(this.header=new mXe,vu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=dx.string2buf(e.dictionary):wre.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=vu.inflateSetDictionary(this.strm,e.dictionary),r!==hx)))throw new Error(cy[r])}lw.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?vXe:gXe,wre.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=vu.inflate(r,o),a===ET&&i&&(a=vu.inflateSetDictionary(r,i),a===hx?a=vu.inflate(r,o):a===sU&&(a=ET));r.avail_in>0&&a===AT&&r.state.wrap>0&&t[r.next_in]!==0;)vu.inflateReset(r),a=vu.inflate(r,o);switch(a){case yXe:case sU:case ET:case bXe:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||a===AT))if(this.options.to==="string"){let l=dx.utf8border(r.output,r.next_out),c=r.next_out-l,d=dx.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===hx&&s===0)){if(a===AT)return a=vu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};lw.prototype.onData=function(t){this.chunks.push(t)};lw.prototype.onEnd=function(t){t===hx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=YE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function pD(t,e){const r=new lw(e);if(r.push(t),r.err)throw r.msg||cy[r.err];return r.result}function xXe(t,e){return e=e||{},e.raw=!0,pD(t,e)}var wXe=lw,_Xe=pD,SXe=xXe,AXe=pD,EXe=ow,NXe={Inflate:wXe,inflate:_Xe,inflateRaw:SXe,ungzip:AXe,constants:EXe};const{Inflate:PXe,inflate:TXe,inflateRaw:dZe,ungzip:hZe}=NXe;var lU=PXe,jXe=TXe;const _re=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;_re[t]=e}const cU=4294967295;function CXe(t,e,r){let n=t;for(let i=0;i<r;i++)n=_re[(n^e[i])&255]^n>>>8;return n}function kXe(t,e){return(CXe(cU,t,e)^cU)>>>0}function uU(t,e,r){const n=t.readUint32(),i=kXe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Sre(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Are(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function Ere(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function Nre(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function Pre(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+IXe(e[a-i],r[a],r[a-i])&255}}function IXe(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function OXe(t,e,r,n,i,a){switch(t){case 0:Sre(e,r,i);break;case 1:Are(e,r,i,a);break;case 2:Ere(e,r,n,i);break;case 3:Nre(e,r,n,i,a);break;case 4:Pre(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const RXe=new Uint16Array([255]),DXe=new Uint8Array(RXe.buffer),LXe=DXe[0]===255;function MXe(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,l=new Uint8Array(n*r*s);let c=0;for(let d=0;d<7;d++){const h=o[d],p=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(p<=0||f<=0)continue;const v=p*s,m=new Uint8Array(v);for(let g=0;g<f;g++){const y=e[c++],x=e.subarray(c,c+v);c+=v;const _=new Uint8Array(v);OXe(y,x,_,m,v,s),m.set(_);for(let A=0;A<p;A++){const N=h.x+A*h.xStep,I=h.y+g*h.yStep;if(!(N>=r||I>=n))for(let P=0;P<s;P++)l[(I*r+N)*s+P]=_[A*s+P]}}}if(a===16){const d=new Uint16Array(l.buffer);if(LXe)for(let h=0;h<d.length;h++)d[h]=$Xe(d[h]);return d}else return l}function $Xe(t){return(t&255)<<8|t>>8&255}const FXe=new Uint16Array([255]),BXe=new Uint8Array(FXe.buffer),UXe=BXe[0]===255,VXe=new Uint8Array(0);function dU(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*r),l=new Uint8Array(n*s);let c=VXe,d=0,h,p;for(let f=0;f<n;f++){switch(h=e.subarray(d+1,d+1+s),p=l.subarray(f*s,(f+1)*s),e[d]){case 0:Sre(h,p,s);break;case 1:Are(h,p,s,o);break;case 2:Ere(h,p,c,s);break;case 3:Nre(h,p,c,s,o);break;case 4:Pre(h,p,c,s,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}c=p,d+=s+1}if(a===16){const f=new Uint16Array(l.buffer);if(UXe)for(let v=0;v<f.length;v++)f[v]=zXe(f[v]);return f}else return l}function zXe(t){return(t&255)<<8|t>>8&255}const g_=Uint8Array.of(137,80,78,71,13,10,26,10);function hU(t){if(!qXe(t.readBytes(g_.length)))throw new Error("wrong PNG signature")}function qXe(t){if(t.length<g_.length)return!1;for(let e=0;e<g_.length;e++)if(t[e]!==g_[e])return!1;return!0}const WXe="tEXt",HXe=0,Tre=new TextDecoder("latin1");function GXe(t){if(YXe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const KXe=/^[\u0000-\u00FF]*$/;function YXe(t){if(!KXe.test(t))throw new Error("invalid latin1 text")}function XXe(t,e,r){const n=jre(e);t[n]=QXe(e,r-n.length-1)}function jre(t){for(t.mark();t.readByte()!==HXe;);const e=t.offset;t.reset();const r=Tre.decode(t.readBytes(e-t.offset-1));return t.skip(1),GXe(r),r}function QXe(t,e){return Tre.decode(t.readBytes(e))}const qo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},NT={UNKNOWN:-1,DEFLATE:0},fU={UNKNOWN:-1,ADAPTIVE:0},PT={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},k2={NONE:0,BACKGROUND:1,PREVIOUS:2},TT={SOURCE:0,OVER:1};class JXe extends sD{constructor(r,n={}){super(r);kr(this,"_checkCrc");kr(this,"_inflator");kr(this,"_png");kr(this,"_apng");kr(this,"_end");kr(this,"_hasPalette");kr(this,"_palette");kr(this,"_hasTransparency");kr(this,"_transparency");kr(this,"_compressionMethod");kr(this,"_filterMethod");kr(this,"_interlaceMethod");kr(this,"_colorType");kr(this,"_isAnimated");kr(this,"_numberOfFrames");kr(this,"_numberOfPlays");kr(this,"_frames");kr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new lU,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=NT.UNKNOWN,this._filterMethod=fU.UNKNOWN,this._interlaceMethod=PT.UNKNOWN,this._colorType=qo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(hU(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(hU(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case WXe:XXe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?uU(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?uU(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=ZXe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case qo.GREYSCALE:i=1;break;case qo.TRUECOLOUR:i=3;break;case qo.INDEXED_COLOUR:i=1;break;case qo.GREYSCALE_ALPHA:i=2;break;case qo.TRUECOLOUR_ALPHA:i=4;break;case qo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==NT.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case qo.GREYSCALE:case qo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case qo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case qo.UNKNOWN:case qo.GREYSCALE_ALPHA:case qo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=jre(this),i=this.readUint8();if(i!==NT.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:jXe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=dU({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case k2.NONE:break;case k2.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const s=(a*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[s+l]=0}break;case k2.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,s)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,c=(o*n.width+s)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case TT.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:l,frameIndex:c}=a(o,s);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[c+d]}break;case TT.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:l,frameIndex:c}=a(o,s);for(let d=0;d<this._png.channels;d++){const h=n.data[c+this._png.channels-1]/i,p=d%(this._png.channels-1)===0?1:n.data[c+d],f=Math.floor(h*p+(1-h)*r.data[l+d]);r.data[l+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==fU.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===PT.NO_INTERLACE)this._png.data=dU({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===PT.ADAM7)this._png.data=MXe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:k2.NONE,blendOp:TT.SOURCE,data:r}),this._inflator=new lU,this._writingDataChunks=!1}}function ZXe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var pU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(pU||(pU={}));function eQe(t,e){return new JXe(t,e).decode()}var Qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function jT(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var xn={log:jT,warn:function(t){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):jT.call(null,arguments))},error:function(t){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):jT(t))}};function CT(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Zf(n.response,e,r)},n.onerror=function(){xn.error("could not download file")},n.send()}function mU(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function I2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Zf=Qt.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Qt.URL||Qt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?mU(i.href)?CT(t,e,r):I2(i,i.target="_blank"):I2(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){I2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(mU(t))CT(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){I2(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:rn(a)!=="object"&&(xn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return CT(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Qt.HTMLElement)||Qt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(t)}else{var l=Qt.URL||Qt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Cre(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}var v_=Qt.atob.bind(Qt),gU=Qt.btoa.bind(Qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kT(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Aa(r,n,i,a,e[0],7,-680876936),a=Aa(a,r,n,i,e[1],12,-389564586),i=Aa(i,a,r,n,e[2],17,606105819),n=Aa(n,i,a,r,e[3],22,-1044525330),r=Aa(r,n,i,a,e[4],7,-176418897),a=Aa(a,r,n,i,e[5],12,1200080426),i=Aa(i,a,r,n,e[6],17,-1473231341),n=Aa(n,i,a,r,e[7],22,-45705983),r=Aa(r,n,i,a,e[8],7,1770035416),a=Aa(a,r,n,i,e[9],12,-1958414417),i=Aa(i,a,r,n,e[10],17,-42063),n=Aa(n,i,a,r,e[11],22,-1990404162),r=Aa(r,n,i,a,e[12],7,1804603682),a=Aa(a,r,n,i,e[13],12,-40341101),i=Aa(i,a,r,n,e[14],17,-1502002290),r=Ea(r,n=Aa(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ea(a,r,n,i,e[6],9,-1069501632),i=Ea(i,a,r,n,e[11],14,643717713),n=Ea(n,i,a,r,e[0],20,-373897302),r=Ea(r,n,i,a,e[5],5,-701558691),a=Ea(a,r,n,i,e[10],9,38016083),i=Ea(i,a,r,n,e[15],14,-660478335),n=Ea(n,i,a,r,e[4],20,-405537848),r=Ea(r,n,i,a,e[9],5,568446438),a=Ea(a,r,n,i,e[14],9,-1019803690),i=Ea(i,a,r,n,e[3],14,-187363961),n=Ea(n,i,a,r,e[8],20,1163531501),r=Ea(r,n,i,a,e[13],5,-1444681467),a=Ea(a,r,n,i,e[2],9,-51403784),i=Ea(i,a,r,n,e[7],14,1735328473),r=Na(r,n=Ea(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Na(a,r,n,i,e[8],11,-2022574463),i=Na(i,a,r,n,e[11],16,1839030562),n=Na(n,i,a,r,e[14],23,-35309556),r=Na(r,n,i,a,e[1],4,-1530992060),a=Na(a,r,n,i,e[4],11,1272893353),i=Na(i,a,r,n,e[7],16,-155497632),n=Na(n,i,a,r,e[10],23,-1094730640),r=Na(r,n,i,a,e[13],4,681279174),a=Na(a,r,n,i,e[0],11,-358537222),i=Na(i,a,r,n,e[3],16,-722521979),n=Na(n,i,a,r,e[6],23,76029189),r=Na(r,n,i,a,e[9],4,-640364487),a=Na(a,r,n,i,e[12],11,-421815835),i=Na(i,a,r,n,e[15],16,530742520),r=Pa(r,n=Na(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Pa(a,r,n,i,e[7],10,1126891415),i=Pa(i,a,r,n,e[14],15,-1416354905),n=Pa(n,i,a,r,e[5],21,-57434055),r=Pa(r,n,i,a,e[12],6,1700485571),a=Pa(a,r,n,i,e[3],10,-1894986606),i=Pa(i,a,r,n,e[10],15,-1051523),n=Pa(n,i,a,r,e[1],21,-2054922799),r=Pa(r,n,i,a,e[8],6,1873313359),a=Pa(a,r,n,i,e[15],10,-30611744),i=Pa(i,a,r,n,e[6],15,-1560198380),n=Pa(n,i,a,r,e[13],21,1309151649),r=Pa(r,n,i,a,e[4],6,-145523070),a=Pa(a,r,n,i,e[11],10,-1120210379),i=Pa(i,a,r,n,e[2],15,718787259),n=Pa(n,i,a,r,e[9],21,-343485551),t[0]=vh(r,t[0]),t[1]=vh(n,t[1]),t[2]=vh(i,t[2]),t[3]=vh(a,t[3])}function QE(t,e,r,n,i,a){return e=vh(vh(e,t),vh(n,a)),vh(e<<i|e>>>32-i,r)}function Aa(t,e,r,n,i,a,o){return QE(e&r|~e&n,t,e,i,a,o)}function Ea(t,e,r,n,i,a,o){return QE(e&n|r&~n,t,e,i,a,o)}function Na(t,e,r,n,i,a,o){return QE(e^r^n,t,e,i,a,o)}function Pa(t,e,r,n,i,a,o){return QE(r^(e|~n),t,e,i,a,o)}function kre(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)kT(n,tQe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(kT(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,kT(n,i),n}function tQe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var vU="0123456789abcdef".split("");function rQe(t){for(var e="",r=0;r<4;r++)e+=vU[t>>8*r+4&15]+vU[t>>8*r&15];return e}function nQe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function B4(t){return kre(t).map(nQe).join("")}var iQe=function(t){for(var e=0;e<t.length;e++)t[e]=rQe(t[e]);return t.join("")}(kre("hello"))!="5d41402abc4b2a76b9719d911017c592";function vh(t,e){if(iQe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function U4(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var d=s[l];c=(c+d+o.charCodeAt(l))%256,s[l]=s[c],s[c]=d}r=t,n=s}else s=n;var h=e.length,p=0,f=0,v="";for(l=0;l<h;l++)f=(f+(d=s[p=(p+1)%256]))%256,s[p]=s[f],s[f]=d,o=s[(s[p]+s[f])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var yU={print:4,modify:8,copy:16,"annot-forms":32};function og(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(yU.perm!==void 0)throw new Error("Invalid permission: "+s);i+=yU[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=B4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=U4(this.encryptionKey,this.padding)}function sg(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function bU(t){if(rn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(s){Qt.console&&xn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function O5(t){if(!(this instanceof O5))return new O5(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Ire(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function np(t,e,r,n,i){if(!(this instanceof np))return new np(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Ire.call(this,n,i)}function Pg(t,e,r,n,i){if(!(this instanceof Pg))return new Pg(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Ire.call(this,n,i)}function Ot(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,c="S",d=null;rn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=bU;var v="1.3",m=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(R){v=R};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var y=f.__private__.getPageFormat=function(R){return g[R]};i=i||"a4";var x="compat",_="advanced",A=x;function N(){this.saveGraphicsState(),ee(new it(Ct,0,0,-Ct,0,tl()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),c="n",A=_}function I(){this.restoreGraphicsState(),c="S",A=x}var P=f.__private__.combineFontStyleAndFontWeight=function(R,W){if(R=="bold"&&W=="normal"||R=="bold"&&W==400||R=="normal"&&W=="italic"||R=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(R=W==400||W==="normal"?R==="italic"?"italic":"normal":W!=700&&W!=="bold"||R!=="normal"?(W==700?"bold":W)+""+R:"bold"),R};f.advancedAPI=function(R){var W=A===x;return W&&N.call(this),typeof R!="function"||(R(this),W&&I.call(this)),this},f.compatAPI=function(R){var W=A===_;return W&&I.call(this),typeof R!="function"||(R(this),W&&N.call(this)),this},f.isAdvancedAPI=function(){return A===_};var E,k=function(R){if(A!==_)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=f.roundToPrecision=f.__private__.roundToPrecision=function(R,W){var fe=e||W;if(isNaN(R)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(fe).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof l=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return D(R,l)}:l==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return D(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return D(R,16)};var C=f.f2=f.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return D(R,2)},O=f.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return D(R,3)},L=f.scale=f.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return A===x?R*Ct:A===_?R:void 0},z=function(R){return L(function(W){return A===x?tl()-W:A===_?W:void 0}(R))};f.__private__.setPrecision=f.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var re,Y="00000000000000000000000000000000",K=f.__private__.getFileId=function(){return Y},q=f.__private__.setFileId=function(R){return Y=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(mn=new og(d.userPermissions,d.userPassword,d.ownerPassword,Y)),Y};f.setFileId=function(R){return q(R),this},f.getFileId=function(){return K()};var Z=f.__private__.convertDateToPDFDate=function(R){var W=R.getTimezoneOffset(),fe=W<0?"+":"-",be=Math.floor(Math.abs(W/60)),Pe=Math.abs(W%60),$e=[fe,G(be),"'",G(Pe),"'"].join("");return["D:",R.getFullYear(),G(R.getMonth()+1),G(R.getDate()),G(R.getHours()),G(R.getMinutes()),G(R.getSeconds()),$e].join("")},ye=f.__private__.convertPDFDateToDate=function(R){var W=parseInt(R.substr(2,4),10),fe=parseInt(R.substr(6,2),10)-1,be=parseInt(R.substr(8,2),10),Pe=parseInt(R.substr(10,2),10),$e=parseInt(R.substr(12,2),10),We=parseInt(R.substr(14,2),10);return new Date(W,fe,be,Pe,$e,We,0)},ce=f.__private__.setCreationDate=function(R){var W;if(R===void 0&&(R=new Date),R instanceof Date)W=Z(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=R}return re=W},F=f.__private__.getCreationDate=function(R){var W=re;return R==="jsDate"&&(W=ye(re)),W};f.setCreationDate=function(R){return ce(R),this},f.getCreationDate=function(R){return F(R)};var V,G=f.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},oe=f.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},J=0,ne=[],xe=[],he=0,T=[],X=[],le=!1,de=xe;f.__private__.setCustomOutputDestination=function(R){le=!0,de=R};var ve=function(R){le||(de=R)};f.__private__.resetCustomOutputDestination=function(){le=!1,de=xe};var ee=f.__private__.out=function(R){return R=R.toString(),he+=R.length+1,de.push(R),de},Ne=f.__private__.write=function(R){return ee(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},Re=f.__private__.getArrayBuffer=function(R){for(var W=R.length,fe=new ArrayBuffer(W),be=new Uint8Array(fe);W--;)be[W]=R.charCodeAt(W);return fe},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Le};var Ae=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(R){return Ae=A===_?R/Ct:R,this};var ge,we=f.__private__.getFontSize=f.getFontSize=function(){return A===x?Ae:Ae*Ct},De=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(R){return De=R,this},f.__private__.getR2L=f.getR2L=function(){return De};var ze,st=f.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))ge=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');ge=R}else ge=parseInt(R,10)};f.__private__.getZoomMode=function(){return ge};var nt,Ze=f.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');ze=R};f.__private__.getPageMode=function(){return ze};var _t=f.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');nt=R};f.__private__.getLayoutMode=function(){return nt},f.__private__.setDisplayMode=f.setDisplayMode=function(R,W,fe){return st(R),_t(W),Ze(fe),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(R){if(Object.keys(Tt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[R]},f.__private__.getDocumentProperties=function(){return Tt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(R){for(var W in Tt)Tt.hasOwnProperty(W)&&R[W]&&(Tt[W]=R[W]);return this},f.__private__.setDocumentProperty=function(R,W){if(Object.keys(Tt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[R]=W};var St,Ct,at,Jt,Kt,lt={},Oe={},Mt=[],mt={},er={},$t={},Vr={},hn=null,Dt=0,bt=[],Ft=new bU(f),gt=t.hotfixes||[],Nt={},sr={},lr=[],it=function R(W,fe,be,Pe,$e,We){if(!(this instanceof R))return new R(W,fe,be,Pe,$e,We);isNaN(W)&&(W=1),isNaN(fe)&&(fe=0),isNaN(be)&&(be=0),isNaN(Pe)&&(Pe=1),isNaN($e)&&($e=0),isNaN(We)&&(We=0),this._matrix=[W,fe,be,Pe,$e,We]};Object.defineProperty(it.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(it.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(it.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(it.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(it.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(it.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(it.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(it.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(it.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(it.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(it.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(it.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(it.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(it.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(it.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(it.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),it.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(R)},it.prototype.multiply=function(R){var W=R.sx*this.sx+R.shy*this.shx,fe=R.sx*this.shy+R.shy*this.sy,be=R.shx*this.sx+R.sy*this.shx,Pe=R.shx*this.shy+R.sy*this.sy,$e=R.tx*this.sx+R.ty*this.shx+this.tx,We=R.tx*this.shy+R.ty*this.sy+this.ty;return new it(W,fe,be,Pe,$e,We)},it.prototype.decompose=function(){var R=this.sx,W=this.shy,fe=this.shx,be=this.sy,Pe=this.tx,$e=this.ty,We=Math.sqrt(R*R+W*W),dt=(R/=We)*fe+(W/=We)*be;fe-=R*dt,be-=W*dt;var wt=Math.sqrt(fe*fe+be*be);return dt/=wt,R*(be/=wt)<W*(fe/=wt)&&(R=-R,W=-W,dt=-dt,We=-We),{scale:new it(We,0,0,wt,0,0),translate:new it(1,0,0,1,Pe,$e),rotate:new it(R,W,-W,R,0,0),skew:new it(1,0,dt,1,0,0)}},it.prototype.toString=function(R){return this.join(" ")},it.prototype.inversed=function(){var R=this.sx,W=this.shy,fe=this.shx,be=this.sy,Pe=this.tx,$e=this.ty,We=1/(R*be-W*fe),dt=be*We,wt=-W*We,Bt=-fe*We,kt=R*We;return new it(dt,wt,Bt,kt,-dt*Pe-Bt*$e,-wt*Pe-kt*$e)},it.prototype.applyToPoint=function(R){var W=R.x*this.sx+R.y*this.shx+this.tx,fe=R.x*this.shy+R.y*this.sy+this.ty;return new Do(W,fe)},it.prototype.applyToRectangle=function(R){var W=this.applyToPoint(R),fe=this.applyToPoint(new Do(R.x+R.w,R.y+R.h));return new gd(W.x,W.y,fe.x-W.x,fe.y-W.y)},it.prototype.clone=function(){var R=this.sx,W=this.shy,fe=this.shx,be=this.sy,Pe=this.tx,$e=this.ty;return new it(R,W,fe,be,Pe,$e)},f.Matrix=it;var Yn=f.matrixMult=function(R,W){return W.multiply(R)},Rn=new it(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Rn;var Rr=function(R,W){if(!er[R]){var fe=(W instanceof np?"Sh":"P")+(Object.keys(mt).length+1).toString(10);W.id=fe,er[R]=fe,mt[fe]=W,Ft.publish("addPattern",W)}};f.ShadingPattern=np,f.TilingPattern=Pg,f.addShadingPattern=function(R,W){return k("addShadingPattern()"),Rr(R,W),this},f.beginTilingPattern=function(R){k("beginTilingPattern()"),Hl(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},f.endTilingPattern=function(R,W){k("endTilingPattern()"),W.stream=X[V].join(`
`),Rr(R,W),Ft.publish("endTilingPattern",W),lr.pop().restore()};var ln,Jr=f.__private__.newObject=function(){var R=fn();return xt(R,!0),R},fn=f.__private__.newObjectDeferred=function(){return J++,ne[J]=function(){return he},J},xt=function(R,W){return W=typeof W=="boolean"&&W,ne[R]=he,W&&ee(R+" 0 obj"),R},tr=f.__private__.newAdditionalObject=function(){var R={objId:fn(),content:""};return T.push(R),R},Ar=fn(),yr=fn(),cn=f.__private__.decodeColorString=function(R){var W=R.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length!==5||W[4]!=="k"&&W[4]!=="K"||(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var fe=parseFloat(W[0]);W=[fe,fe,fe,"r"]}for(var be="#",Pe=0;Pe<3;Pe++)be+=("0"+Math.floor(255*parseFloat(W[Pe])).toString(16)).slice(-2);return be},un=f.__private__.encodeColorString=function(R){var W;typeof R=="string"&&(R={ch1:R});var fe=R.ch1,be=R.ch2,Pe=R.ch3,$e=R.ch4,We=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var dt=new Cre(fe);if(dt.ok)fe=dt.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var wt=parseInt(fe.substr(1),16);fe=wt>>16&255,be=wt>>8&255,Pe=255&wt}if(be===void 0||$e===void 0&&fe===be&&be===Pe)W=typeof fe=="string"?fe+" "+We[0]:R.precision===2?C(fe/255)+" "+We[0]:O(fe/255)+" "+We[0];else if($e===void 0||rn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",We[1]].join(" ");W=typeof fe=="string"?[fe,be,Pe,We[1]].join(" "):R.precision===2?[C(fe/255),C(be/255),C(Pe/255),We[1]].join(" "):[O(fe/255),O(be/255),O(Pe/255),We[1]].join(" ")}else W=typeof fe=="string"?[fe,be,Pe,$e,We[2]].join(" "):R.precision===2?[C(fe),C(be),C(Pe),C($e),We[2]].join(" "):[O(fe),O(be),O(Pe),O($e),We[2]].join(" ");return W},Dn=f.__private__.getFilters=function(){return o},pn=f.__private__.putStream=function(R){var W=(R=R||{}).data||"",fe=R.filters||Dn(),be=R.alreadyAppliedFilters||[],Pe=R.addLength1||!1,$e=W.length,We=R.objectId,dt=function($){return $};if(d!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(dt=mn.encryptor(We,0));var wt={};fe===!0&&(fe=["FlateEncode"]);var Bt=R.additionalKeyValues||[],kt=(wt=Ot.API.processDataByFilters!==void 0?Ot.API.processDataByFilters(W,fe):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(wt.data.length!==0&&(Bt.push({key:"Length",value:wt.data.length}),Pe===!0&&Bt.push({key:"Length1",value:$e})),kt.length!=0)if(kt.split("/").length-1==1)Bt.push({key:"Filter",value:kt});else{Bt.push({key:"Filter",value:"["+kt+"]"});for(var jr=0;jr<Bt.length;jr+=1)if(Bt[jr].key==="DecodeParms"){for(var An=[],gn=0;gn<wt.reverseChain.split("/").length-1;gn+=1)An.push("null");An.push(Bt[jr].value),Bt[jr].value="["+An.join(" ")+"]"}}ee("<<");for(var w=0;w<Bt.length;w++)ee("/"+Bt[w].key+" "+Bt[w].value);ee(">>"),wt.data.length!==0&&(ee("stream"),ee(dt(wt.data)),ee("endstream"))},Dr=f.__private__.putPage=function(R){var W=R.number,fe=R.data,be=R.objId,Pe=R.contentsObjId;xt(be,!0),ee("<</Type /Page"),ee("/Parent "+R.rootDictionaryObjId+" 0 R"),ee("/Resources "+R.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(E(R.mediaBox.bottomLeftX))+" "+parseFloat(E(R.mediaBox.bottomLeftY))+" "+E(R.mediaBox.topRightX)+" "+E(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&ee("/CropBox ["+E(R.cropBox.bottomLeftX)+" "+E(R.cropBox.bottomLeftY)+" "+E(R.cropBox.topRightX)+" "+E(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&ee("/BleedBox ["+E(R.bleedBox.bottomLeftX)+" "+E(R.bleedBox.bottomLeftY)+" "+E(R.bleedBox.topRightX)+" "+E(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&ee("/TrimBox ["+E(R.trimBox.bottomLeftX)+" "+E(R.trimBox.bottomLeftY)+" "+E(R.trimBox.topRightX)+" "+E(R.trimBox.topRightY)+"]"),R.artBox!==null&&ee("/ArtBox ["+E(R.artBox.bottomLeftX)+" "+E(R.artBox.bottomLeftY)+" "+E(R.artBox.topRightX)+" "+E(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&ee("/UserUnit "+R.userUnit),Ft.publish("putPage",{objId:be,pageContext:bt[W],pageNumber:W,page:fe}),ee("/Contents "+Pe+" 0 R"),ee(">>"),ee("endobj");var $e=fe.join(`
`);return A===_&&($e+=`
Q`),xt(Pe,!0),pn({data:$e,filters:Dn(),objectId:Pe}),ee("endobj"),be},Wn=f.__private__.putPages=function(){var R,W,fe=[];for(R=1;R<=Dt;R++)bt[R].objId=fn(),bt[R].contentsObjId=fn();for(R=1;R<=Dt;R++)fe.push(Dr({number:R,data:X[R],objId:bt[R].objId,contentsObjId:bt[R].contentsObjId,mediaBox:bt[R].mediaBox,cropBox:bt[R].cropBox,bleedBox:bt[R].bleedBox,trimBox:bt[R].trimBox,artBox:bt[R].artBox,userUnit:bt[R].userUnit,rootDictionaryObjId:Ar,resourceDictionaryObjId:yr}));xt(Ar,!0),ee("<</Type /Pages");var be="/Kids [";for(W=0;W<Dt;W++)be+=fe[W]+" 0 R ";ee(be+"]"),ee("/Count "+Dt),ee(">>"),ee("endobj"),Ft.publish("postPutPages")},fs=function(R){Ft.publish("putFont",{font:R,out:ee,newObject:Jr,putStream:pn}),R.isAlreadyPutted!==!0&&(R.objectNumber=Jr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+sg(R.postScriptName)),ee("/Subtype /Type1"),typeof R.encoding=="string"&&ee("/Encoding /"+R.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Uc=function(R){R.objectNumber=Jr();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[E(R.x),E(R.y),E(R.x+R.width),E(R.y+R.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var fe=R.pages[1].join(`
`);pn({data:fe,additionalKeyValues:W,objectId:R.objectNumber}),ee("endobj")},Fl=function(R,W){W||(W=21);var fe=Jr(),be=function(We,dt){var wt,Bt=[],kt=1/(dt-1);for(wt=0;wt<1;wt+=kt)Bt.push(wt);if(Bt.push(1),We[0].offset!=0){var jr={offset:0,color:We[0].color};We.unshift(jr)}if(We[We.length-1].offset!=1){var An={offset:1,color:We[We.length-1].color};We.push(An)}for(var gn="",w=0,$=0;$<Bt.length;$++){for(wt=Bt[$];wt>We[w+1].offset;)w++;var U=We[w].offset,ae=(wt-U)/(We[w+1].offset-U),Te=We[w].color,Ie=We[w+1].color;gn+=oe(Math.round((1-ae)*Te[0]+ae*Ie[0]).toString(16))+oe(Math.round((1-ae)*Te[1]+ae*Ie[1]).toString(16))+oe(Math.round((1-ae)*Te[2]+ae*Ie[2]).toString(16))}return gn.trim()}(R.colors,W),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+W+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pn({data:be,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),ee("endobj"),R.objectNumber=Jr(),ee("<< /ShadingType "+R.type),ee("/ColorSpace /DeviceRGB");var $e="/Coords ["+E(parseFloat(R.coords[0]))+" "+E(parseFloat(R.coords[1]))+" ";R.type===2?$e+=E(parseFloat(R.coords[2]))+" "+E(parseFloat(R.coords[3])):$e+=E(parseFloat(R.coords[2]))+" "+E(parseFloat(R.coords[3]))+" "+E(parseFloat(R.coords[4]))+" "+E(parseFloat(R.coords[5])),ee($e+="]"),R.matrix&&ee("/Matrix ["+R.matrix.toString()+"]"),ee("/Function "+fe+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},ps=function(R,W){var fe=fn(),be=Jr();W.push({resourcesOid:fe,objectOid:be}),R.objectNumber=be;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+R.boundingBox.map(E).join(" ")+"]"}),Pe.push({key:"XStep",value:E(R.xStep)}),Pe.push({key:"YStep",value:E(R.yStep)}),Pe.push({key:"Resources",value:fe+" 0 R"}),R.matrix&&Pe.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),pn({data:R.stream,additionalKeyValues:Pe,objectId:R.objectNumber}),ee("endobj")},el=function(R){for(var W in R.objectNumber=Jr(),ee("<<"),R)switch(W){case"opacity":ee("/ca "+C(R[W]));break;case"stroke-opacity":ee("/CA "+C(R[W]))}ee(">>"),ee("endobj")},Vc=function(R){xt(R.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var W in ee("/Font <<"),lt)lt.hasOwnProperty(W)&&(h===!1||h===!0&&p.hasOwnProperty(W))&&ee("/"+W+" "+lt[W].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(mt).length>0){for(var W in ee("/Shading <<"),mt)mt.hasOwnProperty(W)&&mt[W]instanceof np&&mt[W].objectNumber>=0&&ee("/"+W+" "+mt[W].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),ee(">>")}}(),function(W){if(Object.keys(mt).length>0){for(var fe in ee("/Pattern <<"),mt)mt.hasOwnProperty(fe)&&mt[fe]instanceof f.TilingPattern&&mt[fe].objectNumber>=0&&mt[fe].objectNumber<W&&ee("/"+fe+" "+mt[fe].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),ee(">>")}}(R.objectOid),function(){if(Object.keys($t).length>0){var W;for(W in ee("/ExtGState <<"),$t)$t.hasOwnProperty(W)&&$t[W].objectNumber>=0&&ee("/"+W+" "+$t[W].objectNumber+" 0 R");Ft.publish("putGStateDict"),ee(">>")}}(),function(){for(var W in ee("/XObject <<"),Nt)Nt.hasOwnProperty(W)&&Nt[W].objectNumber>=0&&ee("/"+W+" "+Nt[W].objectNumber+" 0 R");Ft.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},Em=function(R){Oe[R.fontName]=Oe[R.fontName]||{},Oe[R.fontName][R.fontStyle]=R.id},Ef=function(R,W,fe,be,Pe){var $e={id:"F"+(Object.keys(lt).length+1).toString(10),postScriptName:R,fontName:W,fontStyle:fe,encoding:be,isStandardFont:Pe||!1,metadata:{}};return Ft.publish("addFont",{font:$e,instance:this}),lt[$e.id]=$e,Em($e),$e.id},Fa=f.__private__.pdfEscape=f.pdfEscape=function(R,W){return function(fe,be){var Pe,$e,We,dt,wt,Bt,kt,jr,An;if(We=(be=be||{}).sourceEncoding||"Unicode",wt=be.outputEncoding,(be.autoencode||wt)&&lt[St].metadata&&lt[St].metadata[We]&&lt[St].metadata[We].encoding&&(dt=lt[St].metadata[We].encoding,!wt&&lt[St].encoding&&(wt=lt[St].encoding),!wt&&dt.codePages&&(wt=dt.codePages[0]),typeof wt=="string"&&(wt=dt[wt]),wt)){for(kt=!1,Bt=[],Pe=0,$e=fe.length;Pe<$e;Pe++)(jr=wt[fe.charCodeAt(Pe)])?Bt.push(String.fromCharCode(jr)):Bt.push(fe[Pe]),Bt[Pe].charCodeAt(0)>>8&&(kt=!0);fe=Bt.join("")}for(Pe=fe.length;kt===void 0&&Pe!==0;)fe.charCodeAt(Pe-1)>>8&&(kt=!0),Pe--;if(!kt)return fe;for(Bt=be.noBOM?[]:[254,255],Pe=0,$e=fe.length;Pe<$e;Pe++){if((An=(jr=fe.charCodeAt(Pe))>>8)>>8)throw new Error("Character at position "+Pe+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(An),Bt.push(jr-(An<<8))}return String.fromCharCode.apply(void 0,Bt)}(R,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sd=f.__private__.beginPage=function(R){X[++Dt]=[],bt[Dt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Nf(Dt),ve(X[V])},ld=function(R,W){var fe,be,Pe;switch(r=W||r,typeof R=="string"&&(fe=y(R.toLowerCase()),Array.isArray(fe)&&(be=fe[0],Pe=fe[1])),Array.isArray(R)&&(be=R[0]*Ct,Pe=R[1]*Ct),isNaN(be)&&(be=i[0],Pe=i[1]),(be>14400||Pe>14400)&&(xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Pe=Math.min(14400,Pe)),i=[be,Pe],r.substr(0,1)){case"l":Pe>be&&(i=[Pe,be]);break;case"p":be>Pe&&(i=[Pe,be])}sd(i),Cf(lo),ee(fd),co!==0&&ee(co+" J"),md!==0&&ee(md+" j"),Ft.publish("addPage",{pageNumber:Dt})},zc=function(R){R>0&&R<=Dt&&(X.splice(R,1),bt.splice(R,1),Dt--,V>Dt&&(V=Dt),this.setPage(V))},Nf=function(R){R>0&&R<=Dt&&(V=R)},Pf=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return X.length-1},Tf=function(R,W,fe){var be,Pe=void 0;return fe=fe||{},R=R!==void 0?R:lt[St].fontName,W=W!==void 0?W:lt[St].fontStyle,be=R.toLowerCase(),Oe[be]!==void 0&&Oe[be][W]!==void 0?Pe=Oe[be][W]:Oe[R]!==void 0&&Oe[R][W]!==void 0?Pe=Oe[R][W]:fe.disableWarning===!1&&xn.warn("Unable to look up font label for font '"+R+"', '"+W+"'. Refer to getFontList() for available fonts."),Pe||fe.noFallback||(Pe=Oe.times[W])==null&&(Pe=Oe.times.normal),Pe},cd=f.__private__.putInfo=function(){var R=Jr(),W=function(be){return be};for(var fe in d!==null&&(W=mn.encryptor(R,0)),ee("<<"),ee("/Producer ("+Fa(W("jsPDF "+Ot.version))+")"),Tt)Tt.hasOwnProperty(fe)&&Tt[fe]&&ee("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Fa(W(Tt[fe]))+")");ee("/CreationDate ("+Fa(W(re))+")"),ee(">>"),ee("endobj")},ms=f.__private__.putCatalog=function(R){var W=(R=R||{}).rootDictionaryObjId||Ar;switch(Jr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+W+" 0 R"),ge||(ge="fullwidth"),ge){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+ge;fe.substr(fe.length-1)==="%"&&(ge=parseInt(ge)/100),typeof ge=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+C(ge)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}ze&&ee("/PageMode /"+ze),Ft.publish("putCatalog"),ee(">>"),ee("endobj")},Wr=f.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(J+1)),ee("/Root "+J+" 0 R"),ee("/Info "+(J-1)+" 0 R"),d!==null&&ee("/Encrypt "+mn.oid+" 0 R"),ee("/ID [ <"+Y+"> <"+Y+"> ]"),ee(">>")},Bl=f.__private__.putHeader=function(){ee("%PDF-"+v),ee("%ºß¬à")},Ul=f.__private__.putXRef=function(){var R="0000000000";ee("xref"),ee("0 "+(J+1)),ee("0000000000 65535 f ");for(var W=1;W<=J;W++)typeof ne[W]=="function"?ee((R+ne[W]()).slice(-10)+" 00000 n "):ne[W]!==void 0?ee((R+ne[W]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Oo=f.__private__.buildDocument=function(){var R;J=0,he=0,xe=[],ne=[],T=[],Ar=fn(),yr=fn(),ve(xe),Ft.publish("buildDocument"),Bl(),Wn(),function(){Ft.publish("putAdditionalObjects");for(var fe=0;fe<T.length;fe++){var be=T[fe];xt(be.objId,!0),ee(be.content),ee("endobj")}Ft.publish("postPutAdditionalObjects")}(),R=[],function(){for(var fe in lt)lt.hasOwnProperty(fe)&&(h===!1||h===!0&&p.hasOwnProperty(fe))&&fs(lt[fe])}(),function(){var fe;for(fe in $t)$t.hasOwnProperty(fe)&&el($t[fe])}(),function(){for(var fe in Nt)Nt.hasOwnProperty(fe)&&Uc(Nt[fe])}(),function(fe){var be;for(be in mt)mt.hasOwnProperty(be)&&(mt[be]instanceof np?Fl(mt[be]):mt[be]instanceof Pg&&ps(mt[be],fe))}(R),Ft.publish("putResources"),R.forEach(Vc),Vc({resourcesOid:yr,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources"),d!==null&&(mn.oid=Jr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+mn.v),ee("/R "+mn.r),ee("/U <"+mn.toHexString(mn.U)+">"),ee("/O <"+mn.toHexString(mn.O)+">"),ee("/P "+mn.P),ee(">>"),ee("endobj")),cd(),ms();var W=he;return Ul(),Wr(),ee("startxref"),ee(""+W),ee("%%EOF"),ve(X[V]),xe.join(`
`)},Lr=f.__private__.getBlob=function(R){return new Blob([Re(R)],{type:"application/pdf"})},ga=f.output=f.__private__.output=(ln=function(R,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",R){case void 0:return Oo();case"save":f.save(W.filename);break;case"arraybuffer":return Re(Oo());case"blob":return Lr(Oo());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(Lr(Oo()))||void 0;xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",be=Oo();try{fe=gU(be)}catch{fe=gU(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+W.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Pe=W.pdfObjectUrl,$e="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",dt=Qt.open();return dt!==null&&dt.document.write(We),dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',Bt=Qt.open();if(Bt!==null){Bt.document.write(wt);var kt=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=W.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var jr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',An=Qt.open();if(An!==null&&(An.document.write(jr),An.document.title=W.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",W);default:return null}},ln.foo=function(){try{return ln.apply(this,arguments)}catch(fe){var R=fe.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var W="Error in function "+R.split(`
`)[0].split("<")[0]+": "+fe.message;if(!Qt.console)throw new Error(W);Qt.console.error(W,fe),Qt.alert&&alert(W)}},ln.foo.bar=ln,ln.foo),Ro=function(R){return Array.isArray(gt)===!0&&gt.indexOf(R)>-1};switch(n){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ct=n}var mn=null;ce(),q();var jf=f.__private__.getPageInfo=f.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[R].objId,pageNumber:R,pageContext:bt[R]}},Nm=f.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in bt)if(bt[W].objId===R)break;return jf(W)},Qy=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:bt[V].objId,pageNumber:V,pageContext:bt[V]}};f.addPage=function(){return ld.apply(this,arguments),this},f.setPage=function(){return Nf.apply(this,arguments),ve.call(this,X[V]),this},f.insertPage=function(R){return this.addPage(),this.movePage(V,R),this},f.movePage=function(R,W){var fe,be;if(R>W){fe=X[R],be=bt[R];for(var Pe=R;Pe>W;Pe--)X[Pe]=X[Pe-1],bt[Pe]=bt[Pe-1];X[W]=fe,bt[W]=be,this.setPage(W)}else if(R<W){fe=X[R],be=bt[R];for(var $e=R;$e<W;$e++)X[$e]=X[$e+1],bt[$e]=bt[$e+1];X[W]=fe,bt[W]=be,this.setPage(W)}return this},f.deletePage=function(){return zc.apply(this,arguments),this},f.__private__.text=f.text=function(R,W,fe,be,Pe){var $e,We,dt,wt,Bt,kt,jr,An,gn,w=(be=be||{}).scope||this;if(typeof R=="number"&&typeof W=="number"&&(typeof fe=="string"||Array.isArray(fe))){var $=fe;fe=W,W=R,R=$}if(arguments[3]instanceof it==0?(dt=arguments[4],wt=arguments[5],rn(jr=arguments[3])==="object"&&jr!==null||(typeof dt=="string"&&(wt=dt,dt=null),typeof jr=="string"&&(wt=jr,jr=null),typeof jr=="number"&&(dt=jr,jr=null),be={flags:jr,angle:dt,align:wt})):(k("The transform parameter of text() with a Matrix value"),gn=Pe),isNaN(W)||isNaN(fe)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return w;var U,ae="",Te=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:qc,Ie=w.internal.scaleFactor;function Je(Gr){return Gr=Gr.split("	").join(Array(be.TabLen||9).join(" ")),Fa(Gr,jr)}function Xt(Gr){for(var yn,hi=Gr.concat(),ki=[],Zc=hi.length;Zc--;)typeof(yn=hi.shift())=="string"?ki.push(yn):Array.isArray(Gr)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?ki.push(yn[0]):ki.push([yn[0],yn[1],yn[2]]);return ki}function vn(Gr,yn){var hi;if(typeof Gr=="string")hi=yn(Gr)[0];else if(Array.isArray(Gr)){for(var ki,Zc,l0=Gr.concat(),Dm=[],hw=l0.length;hw--;)typeof(ki=l0.shift())=="string"?Dm.push(yn(ki)[0]):Array.isArray(ki)&&typeof ki[0]=="string"&&(Zc=yn(ki[0],ki[1],ki[2]),Dm.push([Zc[0],Zc[1],Zc[2]]));hi=Dm}return hi}var xr=!1,En=!0;if(typeof R=="string")xr=!0;else if(Array.isArray(R)){var Gi=R.concat();We=[];for(var Va,Ln=Gi.length;Ln--;)(typeof(Va=Gi.shift())!="string"||Array.isArray(Va)&&typeof Va[0]!="string")&&(En=!1);xr=En}if(xr===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var ya=Ae/w.internal.scaleFactor,bs=ya*(Te-1);switch(be.baseline){case"bottom":fe-=bs;break;case"top":fe+=ya-bs;break;case"hanging":fe+=ya-2*bs;break;case"middle":fe+=ya/2-bs}if((kt=be.maxWidth||0)>0&&(typeof R=="string"?R=w.splitTextToSize(R,kt):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(Gr,yn){return Gr.concat(w.splitTextToSize(yn,kt))},[]))),$e={text:R,x:W,y:fe,options:be,mutex:{pdfEscape:Fa,activeFontKey:St,fonts:lt,activeFontSize:Ae}},Ft.publish("preProcessText",$e),R=$e.text,dt=(be=$e.options).angle,gn instanceof it==0&&dt&&typeof dt=="number"){dt*=Math.PI/180,be.rotationDirection===0&&(dt=-dt),A===_&&(dt=-dt);var Xc=Math.cos(dt),e0=Math.sin(dt);gn=new it(Xc,e0,-e0,Xc,0,0)}else dt&&dt instanceof it&&(gn=dt);A!==_||gn||(gn=Rn),(Bt=be.charSpace||Gc)!==void 0&&(ae+=E(L(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=be.horizontalScale)!==void 0&&(ae+=E(100*An)+` Tz
`),be.lang;var ri=-1,Qc=be.renderingMode!==void 0?be.renderingMode:be.stroke,Om=w.internal.getCurrentPageInfo().pageContext;switch(Qc){case 0:case!1:case"fill":ri=0;break;case 1:case!0:case"stroke":ri=1;break;case 2:case"fillThenStroke":ri=2;break;case 3:case"invisible":ri=3;break;case 4:case"fillAndAddForClipping":ri=4;break;case 5:case"strokeAndAddPathForClipping":ri=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ri=6;break;case 7:case"addToPathForClipping":ri=7}var uw=Om.usedRenderingMode!==void 0?Om.usedRenderingMode:-1;ri!==-1?ae+=ri+` Tr
`:uw!==-1&&(ae+=`0 Tr
`),ri!==-1&&(Om.usedRenderingMode=ri),wt=be.align||"left";var xs,Df=Ae*Te,t0=w.internal.pageSize.getWidth(),r0=lt[St];Bt=be.charSpace||Gc,kt=be.maxWidth||0,jr=Object.assign({autoencode:!0,noBOM:!0},be.flags);var yd=[],Lf=function(Gr){return w.getStringUnitWidth(Gr,{font:r0,charSpace:Bt,fontSize:Ae,doKerning:!1})*Ae/Ie};if(Object.prototype.toString.call(R)==="[object Array]"){var Lo;We=Xt(R),wt!=="left"&&(xs=We.map(Lf));var Mo,bd=0;if(wt==="right"){W-=xs[0],R=[],Ln=We.length;for(var Jc=0;Jc<Ln;Jc++)Jc===0?(Mo=Ba(W),Lo=vs(fe)):(Mo=L(bd-xs[Jc]),Lo=-Df),R.push([We[Jc],Mo,Lo]),bd=xs[Jc]}else if(wt==="center"){W-=xs[0]/2,R=[],Ln=We.length;for(var xd=0;xd<Ln;xd++)xd===0?(Mo=Ba(W),Lo=vs(fe)):(Mo=L((bd-xs[xd])/2),Lo=-Df),R.push([We[xd],Mo,Lo]),bd=xs[xd]}else if(wt==="left"){R=[],Ln=We.length;for(var n0=0;n0<Ln;n0++)R.push(We[n0])}else if(wt==="justify"&&r0.encoding==="Identity-H"){R=[],Ln=We.length,kt=kt!==0?kt:t0;for(var Rm=0,di=0;di<Ln;di++)if(Lo=di===0?vs(fe):-Df,Mo=di===0?Ba(W):Rm,di<Ln-1){var dw=L((kt-xs[di])/(We[di].split(" ").length-1)),Kl=We[di].split(" ");R.push([Kl[0]+" ",Mo,Lo]),Rm=0;for(var Yl=1;Yl<Kl.length;Yl++){var i0=(Lf(Kl[Yl-1]+" "+Kl[Yl])-Lf(Kl[Yl]))*Ie+dw;Yl==Kl.length-1?R.push([Kl[Yl],i0,0]):R.push([Kl[Yl]+" ",i0,0]),Rm-=i0}}else R.push([We[di],Mo,Lo]);R.push(["",Rm,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Ln=We.length,kt=kt!==0?kt:t0,di=0;di<Ln;di++){Lo=di===0?vs(fe):-Df,Mo=di===0?Ba(W):0;var a0=We[di].split(" ").length-1,o0=a0>0?(kt-xs[di])/a0:0;di<Ln-1?yd.push(E(L(o0))):yd.push(0),R.push([We[di],Mo,Lo])}}}(typeof be.R2L=="boolean"?be.R2L:De)===!0&&(R=vn(R,function(Gr,yn,hi){return[Gr.split("").reverse().join(""),yn,hi]})),$e={text:R,x:W,y:fe,options:be,mutex:{pdfEscape:Fa,activeFontKey:St,fonts:lt,activeFontSize:Ae}},Ft.publish("postProcessText",$e),R=$e.text,U=$e.mutex.isHex||!1;var s0=lt[St].encoding;s0!=="WinAnsiEncoding"&&s0!=="StandardEncoding"||(R=vn(R,function(Gr,yn,hi){return[Je(Gr),yn,hi]})),We=Xt(R),R=[];for(var wd,_d,Sd,Mf=Array.isArray(We[0])?1:0,Ad="",$f=function(Gr,yn,hi){var ki="";return hi instanceof it?(hi=typeof be.angle=="number"?Yn(hi,new it(1,0,0,1,Gr,yn)):Yn(new it(1,0,0,1,Gr,yn),hi),A===_&&(hi=Yn(new it(1,0,0,-1,0,0),hi)),ki=hi.join(" ")+` Tm
`):ki=E(Gr)+" "+E(yn)+` Td
`,ki},ws=0;ws<We.length;ws++){switch(Ad="",Mf){case 1:Sd=(U?"<":"(")+We[ws][0]+(U?">":")"),wd=parseFloat(We[ws][1]),_d=parseFloat(We[ws][2]);break;case 0:Sd=(U?"<":"(")+We[ws]+(U?">":")"),wd=Ba(W),_d=vs(fe)}yd!==void 0&&yd[ws]!==void 0&&(Ad=yd[ws]+` Tw
`),ws===0?R.push(Ad+$f(wd,_d,gn)+Sd):Mf===0?R.push(Ad+Sd):Mf===1&&R.push(Ad+$f(wd,_d,gn)+Sd)}R=Mf===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Xl=`BT
/`;return Xl+=St+" "+Ae+` Tf
`,Xl+=E(Ae*Te)+` TL
`,Xl+=ql+`
`,Xl+=ae,Xl+=R,ee(Xl+="ET"),p[St]=!0,w};var Jy=f.__private__.clip=f.clip=function(R){return ee(R==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Jy("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ee("n"),this};var gs=f.__private__.isValidStyle=function(R){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(W=!0),W};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(R){return gs(R)&&(c=R),this};var Pm=f.__private__.getStyle=f.getStyle=function(R){var W=c;switch(R){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=R}return W},Vl=f.close=function(){return ee("h"),this};f.stroke=function(){return ee("S"),this},f.fill=function(R){return va("f",R),this},f.fillEvenOdd=function(R){return va("f*",R),this},f.fillStroke=function(R){return va("B",R),this},f.fillStrokeEvenOdd=function(R){return va("B*",R),this};var va=function(R,W){rn(W)==="object"?jm(W,R):ee(R)},ud=function(R){R===null||A===_&&R===void 0||(R=Pm(R),ee(R))};function Tm(R,W,fe,be,Pe){var $e=new Pg(W||this.boundingBox,fe||this.xStep,be||this.yStep,this.gState,Pe||this.matrix);$e.stream=this.stream;var We=R+"$$"+this.cloneIndex+++"$$";return Rr(We,$e),$e}var jm=function(R,W){var fe=er[R.key],be=mt[fe];if(be instanceof np)ee("q"),ee(Cm(W)),be.gState&&f.setGState(be.gState),ee(R.matrix.toString()+" cm"),ee("/"+fe+" sh"),ee("Q");else if(be instanceof Pg){var Pe=new it(1,0,0,-1,0,tl());R.matrix&&(Pe=Pe.multiply(R.matrix||Rn),fe=Tm.call(be,R.key,R.boundingBox,R.xStep,R.yStep,Pe).id),ee("q"),ee("/Pattern cs"),ee("/"+fe+" scn"),be.gState&&f.setGState(be.gState),ee(W),ee("Q")}},Cm=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},dd=f.moveTo=function(R,W){return ee(E(L(R))+" "+E(z(W))+" m"),this},so=f.lineTo=function(R,W){return ee(E(L(R))+" "+E(z(W))+" l"),this},zl=f.curveTo=function(R,W,fe,be,Pe,$e){return ee([E(L(R)),E(z(W)),E(L(fe)),E(z(be)),E(L(Pe)),E(z($e)),"c"].join(" ")),this};f.__private__.line=f.line=function(R,W,fe,be,Pe){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(be)||!gs(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return A===x?this.lines([[fe-R,be-W]],R,W,[1,1],Pe||"S"):this.lines([[fe-R,be-W]],R,W,[1,1]).stroke()},f.__private__.lines=f.lines=function(R,W,fe,be,Pe,$e){var We,dt,wt,Bt,kt,jr,An,gn,w,$,U,ae;if(typeof R=="number"&&(ae=fe,fe=W,W=R,R=ae),be=be||[1,1],$e=$e||!1,isNaN(W)||isNaN(fe)||!Array.isArray(R)||!Array.isArray(be)||!gs(Pe)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dd(W,fe),We=be[0],dt=be[1],Bt=R.length,$=W,U=fe,wt=0;wt<Bt;wt++)(kt=R[wt]).length===2?($=kt[0]*We+$,U=kt[1]*dt+U,so($,U)):(jr=kt[0]*We+$,An=kt[1]*dt+U,gn=kt[2]*We+$,w=kt[3]*dt+U,$=kt[4]*We+$,U=kt[5]*dt+U,zl(jr,An,gn,w,$,U));return $e&&Vl(),ud(Pe),this},f.path=function(R){for(var W=0;W<R.length;W++){var fe=R[W],be=fe.c;switch(fe.op){case"m":dd(be[0],be[1]);break;case"l":so(be[0],be[1]);break;case"c":zl.apply(this,be);break;case"h":Vl()}}return this},f.__private__.rect=f.rect=function(R,W,fe,be,Pe){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(be)||!gs(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return A===x&&(be=-be),ee([E(L(R)),E(z(W)),E(L(fe)),E(L(be)),"re"].join(" ")),ud(Pe),this},f.__private__.triangle=f.triangle=function(R,W,fe,be,Pe,$e,We){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(be)||isNaN(Pe)||isNaN($e)||!gs(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-R,be-W],[Pe-fe,$e-be],[R-Pe,W-$e]],R,W,[1,1],We,!0),this},f.__private__.roundedRect=f.roundedRect=function(R,W,fe,be,Pe,$e,We){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(be)||isNaN(Pe)||isNaN($e)||!gs(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*fe),$e=Math.min($e,.5*be),this.lines([[fe-2*Pe,0],[Pe*dt,0,Pe,$e-$e*dt,Pe,$e],[0,be-2*$e],[0,$e*dt,-Pe*dt,$e,-Pe,$e],[2*Pe-fe,0],[-Pe*dt,0,-Pe,-$e*dt,-Pe,-$e],[0,2*$e-be],[0,-$e*dt,Pe*dt,-$e,Pe,-$e]],R+Pe,W,[1,1],We,!0),this},f.__private__.ellipse=f.ellipse=function(R,W,fe,be,Pe){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(be)||!gs(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*fe,We=4/3*(Math.SQRT2-1)*be;return dd(R+fe,W),zl(R+fe,W-We,R+$e,W-be,R,W-be),zl(R-$e,W-be,R-fe,W-We,R-fe,W),zl(R-fe,W+We,R-$e,W+be,R,W+be),zl(R+$e,W+be,R+fe,W+We,R+fe,W),ud(Pe),this},f.__private__.circle=f.circle=function(R,W,fe,be){if(isNaN(R)||isNaN(W)||isNaN(fe)||!gs(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,W,fe,fe,be)},f.setFont=function(R,W,fe){return fe&&(W=P(W,fe)),St=Tf(R,W,{disableWarning:!1}),this};var Zy=f.__private__.getFont=f.getFont=function(){return lt[Tf.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var R,W,fe={};for(R in Oe)if(Oe.hasOwnProperty(R))for(W in fe[R]=[],Oe[R])Oe[R].hasOwnProperty(W)&&fe[R].push(W);return fe},f.addFont=function(R,W,fe,be,Pe){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(fe=P(fe,be)),Ef.call(this,R,W,fe,Pe=Pe||"Identity-H")};var qc,lo=t.lineWidth||.200025,Yt=f.__private__.getLineWidth=f.getLineWidth=function(){return lo},Cf=f.__private__.setLineWidth=f.setLineWidth=function(R){return lo=R,ee(E(L(R))+" w"),this};f.__private__.setLineDash=Ot.API.setLineDash=Ot.API.setLineDashPattern=function(R,W){if(R=R||[],W=W||0,isNaN(W)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(fe){return E(L(fe))}).join(" "),W=E(L(W)),ee("["+R+"] "+W+" d"),this};var hd=f.__private__.getLineHeight=f.getLineHeight=function(){return Ae*qc};f.__private__.getLineHeight=f.getLineHeight=function(){return Ae*qc};var km=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(qc=R),this},Wc=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return qc};km(t.lineHeight);var Ba=f.__private__.getHorizontalCoordinate=function(R){return L(R)},vs=f.__private__.getVerticalCoordinate=function(R){return A===_?R:bt[V].mediaBox.topRightY-bt[V].mediaBox.bottomLeftY-L(R)},kf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(R){return E(Ba(R))},Sn=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(R){return E(vs(R))},fd=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return cn(fd)},f.__private__.setStrokeColor=f.setDrawColor=function(R,W,fe,be){return fd=un({ch1:R,ch2:W,ch3:fe,ch4:be,pdfColorType:"draw",precision:2}),ee(fd),this};var If=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return cn(If)},f.__private__.setFillColor=f.setFillColor=function(R,W,fe,be){return If=un({ch1:R,ch2:W,ch3:fe,ch4:be,pdfColorType:"fill",precision:2}),ee(If),this};var ql=t.textColor||"0 g",Hc=f.__private__.getTextColor=f.getTextColor=function(){return cn(ql)};f.__private__.setTextColor=f.setTextColor=function(R,W,fe,be){return ql=un({ch1:R,ch2:W,ch3:fe,ch4:be,pdfColorType:"text",precision:3}),this};var Gc=t.charSpace,pd=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Gc||0)};f.__private__.setCharSpace=f.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Gc=R,this};var co=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(R){var W=f.CapJoinStyles[R];if(W===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return co=W,ee(W+" J"),this};var md=0;f.__private__.setLineJoin=f.setLineJoin=function(R){var W=f.CapJoinStyles[R];if(W===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return md=W,ee(W+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(E(L(R))+" M"),this},f.GState=O5,f.setGState=function(R){(R=typeof R=="string"?$t[Vr[R]]:Kc(null,R)).equals(hn)||(ee("/"+R.id+" gs"),hn=R)};var Kc=function(R,W){if(!R||!Vr[R]){var fe=!1;for(var be in $t)if($t.hasOwnProperty(be)&&$t[be].equals(W)){fe=!0;break}if(fe)W=$t[be];else{var Pe="GS"+(Object.keys($t).length+1).toString(10);$t[Pe]=W,W.id=Pe}return R&&(Vr[R]=W.id),Ft.publish("addGState",W),W}};f.addGState=function(R,W){return Kc(R,W),this},f.saveGraphicsState=function(){return ee("q"),Mt.push({key:St,size:Ae,color:ql}),this},f.restoreGraphicsState=function(){ee("Q");var R=Mt.pop();return St=R.key,Ae=R.size,ql=R.color,hn=null,this},f.setCurrentTransformationMatrix=function(R){return ee(R.toString()+" cm"),this},f.comment=function(R){return ee("#"+R),this};var Do=function(R,W){var fe=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function($e){isNaN($e)||(fe=parseFloat($e))}});var be=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function($e){isNaN($e)||(be=parseFloat($e))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function($e){Pe=$e.toString()}}),this},gd=function(R,W,fe,be){Do.call(this,R,W),this.type="rect";var Pe=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(We){isNaN(We)||(Pe=parseFloat(We))}});var $e=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(We){isNaN(We)||($e=parseFloat(We))}}),this},Wl=function(){this.page=Dt,this.currentPage=V,this.pages=X.slice(0),this.pagesContext=bt.slice(0),this.x=at,this.y=Jt,this.matrix=Kt,this.width=Yc(V),this.height=ys(V),this.outputDestination=de,this.id="",this.objectNumber=-1};Wl.prototype.restore=function(){Dt=this.page,V=this.currentPage,bt=this.pagesContext,X=this.pages,at=this.x,Jt=this.y,Kt=this.matrix,Im(V,this.width),Ua(V,this.height),de=this.outputDestination};var Hl=function(R,W,fe,be,Pe){lr.push(new Wl),Dt=V=0,X=[],at=R,Jt=W,Kt=Pe,sd([fe,be])};for(var Gl in f.beginFormObject=function(R,W,fe,be,Pe){return Hl(R,W,fe,be,Pe),this},f.endFormObject=function(R){return function(W){if(sr[W])lr.pop().restore();else{var fe=new Wl,be="Xo"+(Object.keys(Nt).length+1).toString(10);fe.id=be,sr[W]=be,Nt[be]=fe,Ft.publish("addFormObject",fe),lr.pop().restore()}}(R),this},f.doFormObject=function(R,W){var fe=Nt[sr[R]];return ee("q"),ee(W.toString()+" cm"),ee("/"+fe.id+" Do"),ee("Q"),this},f.getFormObject=function(R){var W=Nt[sr[R]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},f.save=function(R,W){return R=R||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(Zf(Lr(Oo()),R),typeof Zf.unload=="function"&&Qt.setTimeout&&setTimeout(Zf.unload,911),this):new Promise(function(fe,be){try{var Pe=Zf(Lr(Oo()),R);typeof Zf.unload=="function"&&Qt.setTimeout&&setTimeout(Zf.unload,911),fe(Pe)}catch($e){be($e.message)}})},Ot.API)Ot.API.hasOwnProperty(Gl)&&(Gl==="events"&&Ot.API.events.length?function(R,W){var fe,be,Pe;for(Pe=W.length-1;Pe!==-1;Pe--)fe=W[Pe][0],be=W[Pe][1],R.subscribe.apply(R,[fe].concat(typeof be=="function"?[be]:be))}(Ft,Ot.API.events):f[Gl]=Ot.API[Gl]);function Yc(R){return bt[R].mediaBox.topRightX-bt[R].mediaBox.bottomLeftX}function Im(R,W){bt[R].mediaBox.topRightX=W+bt[R].mediaBox.bottomLeftX}function ys(R){return bt[R].mediaBox.topRightY-bt[R].mediaBox.bottomLeftY}function Ua(R,W){bt[R].mediaBox.topRightY=W+bt[R].mediaBox.bottomLeftY}var Of=f.getPageWidth=function(R){return Yc(R=R||V)/Ct},Rf=f.setPageWidth=function(R,W){Im(R,W*Ct)},tl=f.getPageHeight=function(R){return ys(R=R||V)/Ct},vd=f.setPageHeight=function(R,W){Ua(R,W*Ct)};return f.internal={pdfEscape:Fa,getStyle:Pm,getFont:Zy,getFontSize:we,getCharSpace:pd,getTextColor:Hc,getLineHeight:hd,getLineHeightFactor:Wc,getLineWidth:Yt,write:Ne,getHorizontalCoordinate:Ba,getVerticalCoordinate:vs,getCoordinateString:kf,getVerticalCoordinateString:Sn,collections:{},newObject:Jr,newAdditionalObject:tr,newObjectDeferred:fn,newObjectDeferredBegin:xt,getFilters:Dn,putStream:pn,events:Ft,scaleFactor:Ct,pageSize:{getWidth:function(){return Of(V)},setWidth:function(R){Rf(V,R)},getHeight:function(){return tl(V)},setHeight:function(R){vd(V,R)}},encryptionOptions:d,encryption:mn,getEncryptor:function(R){return d!==null?mn.encryptor(R,0):function(W){return W}},output:ga,getNumberOfPages:Pf,pages:X,out:ee,f2:C,f3:O,getPageInfo:jf,getPageInfoByObjId:Nm,getCurrentPageInfo:Qy,getPDFVersion:m,Point:Do,Rectangle:gd,Matrix:it,hasHotfix:Ro},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Of(V)},set:function(R){Rf(V,R)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return tl(V)},set:function(R){vd(V,R)},enumerable:!0,configurable:!0}),(function(R){for(var W=0,fe=Le.length;W<fe;W++){var be=Ef.call(this,R[W][0],R[W][1],R[W][2],Le[W][3],!0);h===!1&&(p[be]=!0);var Pe=R[W][0].split("-");Em({id:be,fontName:Pe[0],fontStyle:Pe[1]||""})}Ft.publish("addFonts",{fonts:lt,dictionary:Oe})}).call(f,Le),St="F1",ld(i,r),Ft.publish("initialized"),f}og.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},og.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},og.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},og.prototype.processOwnerPassword=function(t,e){return U4(B4(e).substr(0,5),t)},og.prototype.encryptor=function(t,e){var r=B4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return U4(r,n)}},O5.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||rn(t)!==rn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ot.API={events:[]},Ot.version="3.0.3";var oi=Ot.API,mD=1,Am=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nr=function(t){return t.toFixed(2)},$d=function(t){return t.toFixed(5)};oi.__acroform__={};var Io=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},xU=function(t){return t*mD},ec=function(t){var e=new Rre,r=vt.internal.getHeight(t)||0,n=vt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(nr(n)),Number(nr(r))],e},aQe=oi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},oQe=oi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},sQe=oi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},vi=oi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sQe(t,e-1)},yi=oi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aQe(t,e-1)},bi=oi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oQe(t,e-1)},lQe=oi.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+s)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(a)||0,[Number(nr(l.lowerLeft_X)),Number(nr(l.lowerLeft_Y)),Number(nr(l.upperRight_X)),Number(nr(l.upperRight_Y))]},cQe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=V4(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+nr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=ec(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},V4=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var a=r,o=vt.internal.getHeight(t)||0;o=o<0?-o:o;var s=vt.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(C,O,L){if(C+1<i.length){var z=O+" "+i[C+1][0];return O2(z,t,L).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var c,d,h=O2("3",t,a).height,p=t.multiline?o-a:(o-h)/2,f=p+=2,v=0,m=0,g=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+O2(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var y="",x=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var A=!1;if(i[_].length!==1&&g!==i[_].length-1){if((h+2)*(x+2)+2>o)continue e;y+=i[_][g],A=!0,m=_,_--}else{y=(y+=i[_][g]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(_),I=l(N,y,a),P=_>=i.length-1;if(I&&!P){y+=" ",g=0;continue}if(I||P){if(P)m=N;else if(t.multiline&&(h+2)*(x+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(x+2)+2>o)continue e;m=N}}for(var E="",k=v;k<=m;k++){var D=i[k];if(t.multiline){if(k===m){E+=D[g]+" ",g=(g+1)%D.length;continue}if(k===v){E+=D[D.length-1]+" ";continue}}E+=D[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=O2(E,t,a).width,t.textAlign){case"right":c=s-d-2;break;case"center":c=(s-d)/2;break;default:c=2}e+=nr(c)+" "+nr(f)+` Td
`,e+="("+Am(E)+`) Tj
`,e+=-nr(c)+` 0 Td
`,f=-(a+2),d=0,v=A?m:m+1,x++,y=""}break}return n.text=e,n.fontSize=a,n},O2=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},uQe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dQe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},hQe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ml.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(uQe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mD=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Dre,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&dQe(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],l=[],c=s.Rect;if(s.Rect&&(s.Rect=lQe(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=vt.createDefaultAppearanceStream(s),rn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=cQe(s);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var h="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var f=s.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var v=f[o];typeof v=="function"&&(v=v.call(i,s)),h+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(i,s)),h+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&function(m,g){for(var y in m)if(m.hasOwnProperty(y)){var x=y,_=m[y];g.internal.newObjectDeferredBegin(_.objId,!0),rn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete m[x]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ore=oi.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),rn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Am(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},IT=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Am(n(t))+")"},mc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};mc.prototype.toString=function(){return this.objId+" 0 R"},mc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},mc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:Ore(i,this.objId,this.scope)}):i instanceof mc?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var Rre=function(){mc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Io(Rre,mc);var Dre=function(){mc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Am(r(t))+")"}},set:function(r){t=r}})};Io(Dre,mc);var Ml=function t(){mc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vi(e,3)},set:function(y){y?this.F=yi(e,3):this.F=bi(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof R5)return;a="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Am(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/mD:c},set:function(y){c=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof R5||this instanceof Ip))return IT(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ji==0?IT(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof Ji==0?y.substr(0,1)==="("?Jm(y.substr(1,y.length-2)):Jm(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji==1?Jm(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ji==1?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ji==0?IT(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof Ji==0?y.substr(0,1)==="("?Jm(y.substr(1,y.length-2)):Jm(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji==1?Jm(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Ji==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,1)},set:function(y){y?this.Ff=yi(this.Ff,1):this.Ff=bi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,2)},set:function(y){y?this.Ff=yi(this.Ff,2):this.Ff=bi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,3)},set:function(y){y?this.Ff=yi(this.Ff,3):this.Ff=bi(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');g=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(g){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Io(Ml,mc);var Qg=function(){Ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ore(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,c=[];l=o.exec(a);)c.push(l[s]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,18)},set:function(r){r?this.Ff=yi(this.Ff,18):this.Ff=bi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=yi(this.Ff,19):this.Ff=bi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,20)},set:function(r){r?(this.Ff=yi(this.Ff,20),e.sort()):this.Ff=bi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,22)},set:function(r){r?this.Ff=yi(this.Ff,22):this.Ff=bi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(r){r?this.Ff=yi(this.Ff,23):this.Ff=bi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,27)},set:function(r){r?this.Ff=yi(this.Ff,27):this.Ff=bi(this.Ff,27)}}),this.hasAppearanceStream=!1};Io(Qg,Ml);var Jg=function(){Qg.call(this),this.fontName="helvetica",this.combo=!1};Io(Jg,Qg);var Zg=function(){Jg.call(this),this.combo=!0};Io(Zg,Jg);var y_=function(){Zg.call(this),this.edit=!0};Io(y_,Zg);var Ji=function(){Ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,15)},set:function(r){r?this.Ff=yi(this.Ff,15):this.Ff=bi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,16)},set:function(r){r?this.Ff=yi(this.Ff,16):this.Ff=bi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,17)},set:function(r){r?this.Ff=yi(this.Ff,17):this.Ff=bi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(r){r?this.Ff=yi(this.Ff,26):this.Ff=bi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Am(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){rn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Io(Ji,Ml);var b_=function(){Ji.call(this),this.pushButton=!0};Io(b_,Ji);var ev=function(){Ji.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Io(ev,Ji);var R5=function(){var t,e;Ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Am(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){rn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Io(R5,Ml),ev.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ev.prototype.createOption=function(t){var e=new R5;return e.Parent=this,e.optionName=t,this.Kids.push(e),fQe.call(this.scope,e),e};var x_=function(){Ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};Io(x_,Ji);var Ip=function(){Ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,13)},set:function(e){e?this.Ff=yi(this.Ff,13):this.Ff=bi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,21)},set:function(e){e?this.Ff=yi(this.Ff,21):this.Ff=bi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(e){e?this.Ff=yi(this.Ff,23):this.Ff=bi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,24)},set:function(e){e?this.Ff=yi(this.Ff,24):this.Ff=bi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,25)},set:function(e){e?this.Ff=yi(this.Ff,25):this.Ff=bi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(e){e?this.Ff=yi(this.Ff,26):this.Ff=bi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Io(Ip,Ml);var w_=function(){Ip.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,14)},set:function(t){t?this.Ff=yi(this.Ff,14):this.Ff=bi(this.Ff,14)}}),this.password=!0};Io(w_,Ip);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ec(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=V4(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+nr(vt.internal.getWidth(t))+" "+nr(vt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+nr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ec(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=vt.internal.getHeight(t),o=vt.internal.getWidth(t),s=V4(t,t.caption);return i.push("1 g"),i.push("0 0 "+nr(o)+" "+nr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+nr(o-1)+" "+nr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+nr(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ec(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+nr(vt.internal.getWidth(t))+" "+nr(vt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=vt.RadioButton.Circle.YesNormal,e.D[t]=vt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ec(t);e.scope=t.scope;var r=[],n=vt.internal.getWidth(t)<=vt.internal.getHeight(t)?vt.internal.getWidth(t)/4:vt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=vt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$d(vt.internal.getWidth(t)/2)+" "+$d(vt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ec(t);e.scope=t.scope;var r=[],n=vt.internal.getWidth(t)<=vt.internal.getHeight(t)?vt.internal.getWidth(t)/4:vt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*vt.internal.Bezier_C).toFixed(5)),o=Number((n*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$d(vt.internal.getWidth(t)/2)+" "+$d(vt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$d(vt.internal.getWidth(t)/2)+" "+$d(vt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ec(t);e.scope=t.scope;var r=[],n=vt.internal.getWidth(t)<=vt.internal.getHeight(t)?vt.internal.getWidth(t)/4:vt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$d(vt.internal.getWidth(t)/2)+" "+$d(vt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=vt.RadioButton.Cross.YesNormal,e.D[t]=vt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ec(t);e.scope=t.scope;var r=[],n=vt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+nr(vt.internal.getWidth(t)-2)+" "+nr(vt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(nr(n.x1.x)+" "+nr(n.x1.y)+" m"),r.push(nr(n.x2.x)+" "+nr(n.x2.y)+" l"),r.push(nr(n.x4.x)+" "+nr(n.x4.y)+" m"),r.push(nr(n.x3.x)+" "+nr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ec(t);e.scope=t.scope;var r=vt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+nr(vt.internal.getWidth(t))+" "+nr(vt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+nr(vt.internal.getWidth(t)-2)+" "+nr(vt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(nr(r.x1.x)+" "+nr(r.x1.y)+" m"),n.push(nr(r.x2.x)+" "+nr(r.x2.y)+" l"),n.push(nr(r.x4.x)+" "+nr(r.x4.y)+" m"),n.push(nr(r.x3.x)+" "+nr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ec(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+nr(vt.internal.getWidth(t))+" "+nr(vt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};vt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=vt.internal.getWidth(t),r=vt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},vt.internal.getWidth=function(t){var e=0;return rn(t)==="object"&&(e=xU(t.Rect[2])),e},vt.internal.getHeight=function(t){var e=0;return rn(t)==="object"&&(e=xU(t.Rect[3])),e};var fQe=oi.addField=function(t){if(hQe(this,t),!(t instanceof Ml))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};oi.AcroFormChoiceField=Qg,oi.AcroFormListBox=Jg,oi.AcroFormComboBox=Zg,oi.AcroFormEditBox=y_,oi.AcroFormButton=Ji,oi.AcroFormPushButton=b_,oi.AcroFormRadioButton=ev,oi.AcroFormCheckBox=x_,oi.AcroFormTextField=Ip,oi.AcroFormPasswordField=w_,oi.AcroFormAppearance=vt,oi.AcroForm={ChoiceField:Qg,ListBox:Jg,ComboBox:Zg,EditBox:y_,Button:Ji,PushButton:b_,RadioButton:ev,CheckBox:x_,TextField:Ip,PasswordField:w_,Appearance:vt},Ot.AcroForm={ChoiceField:Qg,ListBox:Jg,ComboBox:Zg,EditBox:y_,Button:Ji,PushButton:b_,RadioButton:ev,CheckBox:x_,TextField:Ip,PasswordField:w_,Appearance:vt};function Lre(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(C,O){var L,z,re,Y,K,q=r;if((O=O||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(I(C))for(K in n)for(re=n[K],L=0;L<re.length;L+=1){for(Y=!0,z=0;z<re[L].length;z+=1)if(re[L][z]!==void 0&&re[L][z]!==C[z]){Y=!1;break}if(Y===!0){q=K;break}}else for(K in n)for(re=n[K],L=0;L<re.length;L+=1){for(Y=!0,z=0;z<re[L].length;z+=1)if(re[L][z]!==void 0&&re[L][z]!==C.charCodeAt(z)){Y=!1;break}if(Y===!0){q=K;break}}return q===r&&O!==r&&(q=O),q},a=function C(O){for(var L=this.internal.write,z=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:O.width}),Y.push({key:"Height",value:O.height}),O.colorSpace===y.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===y.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var K="",q=0,Z=O.transparency.length;q<Z;q++)K+=O.transparency[q]+" "+O.transparency[q]+" ";Y.push({key:"Mask",value:"["+K+"]"})}O.sMask!==void 0&&Y.push({key:"SMask",value:O.objectId+1+" 0 R"});var ye=O.filter!==void 0?["/"+O.filter]:void 0;if(z({data:O.data,additionalKeyValues:Y,alreadyAppliedFilters:ye,objectId:O.objectId}),L("endobj"),"sMask"in O&&O.sMask!==void 0){var ce,F=(ce=O.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:O.bitsPerComponent,V={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:O.sMask};"filter"in O&&(V.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(O.width),V.filter=O.filter),C.call(this,V)}if(O.colorSpace===y.INDEXED){var G=this.internal.newObject();z({data:E(new Uint8Array(O.palette)),objectId:G}),L("endobj")}},o=function(){var C=this.internal.collections[e+"images"];for(var O in C)a.call(this,C[O])},s=function(){var C,O=this.internal.collections[e+"images"],L=this.internal.write;for(var z in O)L("/I"+(C=O[z]).index,C.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var C=this.internal.collections[e+"images"];return l.call(this),C},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(C){return typeof t["process"+C.toUpperCase()]=="function"},p=function(C){return rn(C)==="object"&&C.nodeType===1},f=function(C,O){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var L=""+C.getAttribute("src");if(L.indexOf("data:image/")===0)return v_(unescape(L).split("base64,").pop());var z=t.loadFile(L,!0);if(z!==void 0)return z}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var re;switch(O){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return v_(C.toDataURL(re,1).split("base64,").pop())}},v=function(C){var O=this.internal.collections[e+"images"];if(O){for(var L in O)if(C===O[L].alias)return O[L]}},m=function(C,O,L){return C||O||(C=-96,O=-96),C<0&&(C=-1*L.width*72/C/this.internal.scaleFactor),O<0&&(O=-1*L.height*72/O/this.internal.scaleFactor),C===0&&(C=O*L.width/L.height),O===0&&(O=C*L.height/L.width),[C,O]},g=function(C,O,L,z,re,Y){var K=m.call(this,L,z,re),q=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ye=c.call(this);if(L=K[0],z=K[1],ye[re.index]=re,Y){Y*=Math.PI/180;var ce=Math.cos(Y),F=Math.sin(Y),V=function(oe){return oe.toFixed(4)},G=[V(ce),V(F),V(-1*F),V(ce),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,q(C),Z(O+z),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([q(L),"0","0",q(z),"0","0","cm"].join(" "))):this.internal.write([q(L),"0","0",q(z),q(C),Z(O+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(C){var O,L,z=0;if(typeof C=="string")for(L=C.length,O=0;O<L;O++)z=(z<<5)-z+C.charCodeAt(O),z|=0;else if(I(C))for(L=C.byteLength/2,O=0;O<L;O++)z=(z<<5)-z+C[O],z|=0;return z},A=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var O=!0;return C.length===0&&(O=!1),C.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(O=!1),O},N=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var O=C.indexOf(",");return O<0?null:C.substring(0,O).trim().endsWith("base64")?C.substring(O+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var I=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},P=t.__addimage__.binaryStringToUint8Array=function(C){for(var O=C.length,L=new Uint8Array(O),z=0;z<O;z++)L[z]=C.charCodeAt(z);return L},E=t.__addimage__.arrayBufferToBinaryString=function(C){for(var O="",L=I(C)?C:new Uint8Array(C),z=0;z<L.length;z+=8192)O+=String.fromCharCode.apply(null,L.subarray(z,z+8192));return O};t.addImage=function(){var C,O,L,z,re,Y,K,q,Z;if(typeof arguments[1]=="number"?(O=r,L=arguments[1],z=arguments[2],re=arguments[3],Y=arguments[4],K=arguments[5],q=arguments[6],Z=arguments[7]):(O=arguments[1],L=arguments[2],z=arguments[3],re=arguments[4],Y=arguments[5],K=arguments[6],q=arguments[7],Z=arguments[8]),rn(C=arguments[0])==="object"&&!p(C)&&"imageData"in C){var ye=C;C=ye.imageData,O=ye.format||O||r,L=ye.x||L||0,z=ye.y||z||0,re=ye.w||ye.width||re,Y=ye.h||ye.height||Y,K=ye.alias||K,q=ye.compression||q,Z=ye.rotation||ye.angle||Z}var ce=this.internal.getFilters();if(q===void 0&&ce.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(L)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=k.call(this,C,O,K,q);return g.call(this,L,z,re,Y,F,Z),this};var k=function(C,O,L,z){var re,Y,K;if(typeof C=="string"&&i(C)===r){C=unescape(C);var q=D(C,!1);(q!==""||(q=t.loadFile(C,!0))!==void 0)&&(C=q)}if(p(C)&&(C=f(C,O)),O=i(C,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((K=L)==null||K.length===0)&&(L=function(Z){return typeof Z=="string"||I(Z)?_(Z):I(Z.data)?_(Z.data):null}(C)),(re=v.call(this,L))||(C instanceof Uint8Array||O==="RGBA"||(Y=C,C=P(C)),re=this["process"+O.toUpperCase()](C,d.call(this),L,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:x.NONE}(z),Y)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},D=t.__addimage__.convertBase64ToBinaryString=function(C,O){O=typeof O!="boolean"||O;var L,z="";if(typeof C=="string"){var re;L=(re=N(C))!==null&&re!==void 0?re:C;try{z=v_(L)}catch(Y){if(O)throw A(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(C){var O,L,z="";if(p(C)&&(C=f(C)),typeof C=="string"&&i(C)===r&&((z=D(C,!1))===""&&(z=t.loadFile(C)||""),C=z),L=i(C),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(C instanceof Uint8Array||(C=P(C)),!(O=this["process"+L.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=L,O}})(Ot.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ot.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,h=0;h<c.length&&!d;h++)switch((n=c[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),x=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+f(y(n.contents))+")",a+=" /Popup "+g.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(y(x))+") >>",m.content=a;var _=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",g.content=a,this.internal.write(m.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(v(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var I=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,s,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(c*d)}else s=l,o=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,s,o,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},s=t.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(m){var g=0,y=r,x="",_=0;for(g=0;g<m.length;g+=1)y[m.charCodeAt(g)]!==void 0?(_++,typeof(y=y[m.charCodeAt(g)])=="number"&&(x+=String.fromCharCode(y),y=r,_=0),g===m.length-1&&(y=r,x+=m.charAt(g-(_-1)),g-=_-1,_=0)):(y=r,x+=m.charAt(g-_),g-=_,_=0);return x};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,g,y){return o(m)?a(m)===!1?-1:!c(m)||!o(g)&&!o(y)||!o(y)&&s(g)||s(m)&&!o(g)||s(m)&&l(g)||s(m)&&s(g)?0:d(m)&&o(g)&&!s(g)&&o(y)&&c(y)?3:s(m)||!o(y)?1:2:-1},f=function(m){var g=0,y=0,x=0,_="",A="",N="",I=(m=m||"").split("\\s+"),P=[];for(g=0;g<I.length;g+=1){for(P.push(""),y=0;y<I[g].length;y+=1)_=I[g][y],A=I[g][y-1],N=I[g][y+1],o(_)?(x=p(_,A,N),P[g]+=x!==-1?String.fromCharCode(e[_.charCodeAt(0)][x]):_):P[g]+=_;P[g]=h(P[g])}return P.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var m,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(g)){var x=0;for(y=[],x=0;x<g.length;x+=1)Array.isArray(g[x])?y.push([f(g[x][0]),g[x][1],g[x][2]]):y.push([f(g[x])]);m=y}else m=f(g);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",v])}(Ot.API),Ot.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,v=0,m=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,A){return _.concat(g.splitTextToSize(A,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)f<(m=this.getStringUnitWidth(l[x],{font:h})*d)&&(f=m);return f!==0&&(v=l.length),{w:f/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,h,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,v,m,g,y=[],x=[],_=[],A={},N={},I=[],P=[],E=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,C=p.margins||Object.assign({width:this.getPageWidth()},e),O=typeof p.padding=="number"?p.padding:3,L=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=z,this.setFontSize(D),h==null)x=y=Object.keys(d[0]),_=y.map(function(){return"left"});else if(Array.isArray(h)&&rn(h[0])==="object")for(y=h.map(function(ye){return ye.name}),x=h.map(function(ye){return ye.prompt||ye.name||""}),_=h.map(function(ye){return ye.align||"left"}),f=0;f<h.length;f+=1)N[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(x=y=h,_=y.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<y.length;f+=1){for(A[g=y[f]]=d.map(function(ye){return ye[g]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=A[g],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)I.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[g]=Math.max.apply(null,I)+O+O,I=[]}if(k){var re={};for(f=0;f<y.length;f+=1)re[y[f]]={},re[y[f]].text=x[f],re[y[f]].align=_[f];var Y=s.call(this,re,N);P=y.map(function(ye){return new a(l,c,N[ye],Y,re[ye].text,void 0,re[ye].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var K=h.reduce(function(ye,ce){return ye[ce.name]=ce.align,ye},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var q=s.call(this,d[f],N);for(m=0;m<y.length;m+=1){var Z=d[f][y[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:m,data:Z},this),o.call(this,new a(l,c,N[y[m]],q,Z,f+2,K[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var v=l[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,v){return Math.max(f,v)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Ot.API);var Mre={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$re=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],z4=Lre($re),Fre=[100,200,300,400,500,600,700,800,900],pQe=Lre(Fre);function OT(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return Mre[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof z4[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function wU(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var mQe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_U={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function SU(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function AU(t){return t.trimLeft()}function gQe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function vQe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var R2,EU,NU,Zm,D2,PU,TU,jU,RT=["times"];function CU(t,e,r,n,i){var a=4,o=IU;switch(i){case Ot.API.image_compression.FAST:a=1,o=kU;break;case Ot.API.image_compression.MEDIUM:a=6,o=OU;break;case Ot.API.image_compression.SLOW:a=9,o=RU}t=function(l,c,d,h){for(var p,f=l.length/c,v=new Uint8Array(l.length+f),m=[yQe,kU,IU,OU,RU],g=0;g<f;g+=1){var y=g*c,x=l.subarray(y,y+c);if(h)v.set(h(x,d,p),y+g);else{for(var _=m.length,A=[],N=0;N<_;N+=1)A[N]=m[N](x,d,p);var I=xQe(A.concat());v.set(A[I],y+g)}p=x}return v}(t,e,Math.ceil(r*n/8),o);var s=C4(t,{level:a});return Ot.API.__addimage__.arrayBufferToBinaryString(s)}function yQe(t){var e=Array.apply([],t);return e.unshift(0),e}function kU(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function IU(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function OU(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,s=r&&r[a]||0;i[a+1]=t[a]+256-(o+s>>>1)&255}return i}function RU(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=bQe(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function bQe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function xQe(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function DT(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return Bre(t,i)>>a&o}function DU(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),s=(1<<n)-1,l=(e&s)<<o;(function(c,d,h){if(d+1<c.byteLength)c.setUint16(d,h,!1);else{var p=h>>8&255;c.setUint8(d,p)}})(t,a,Bre(t,a)&~(s<<o)&65535|l)}function Bre(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function wQe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var c=!0,d=[],h=0,p=null,f=0,v=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),f=m>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++],N=A>>6&1,I=1<<1+(7&A),P=s,E=l,k=!1;A>>7&&(k=!0,P=e,E=I,e+=3*I);var D=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}d.push({x:g,y,width:x,height:_,has_local_palette:k,palette_offset:P,palette_size:E,data_offset:D,data_length:e-D,transparent_index:p,interlaced:!!N,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,L){var z=this.frameInfo(O),re=z.width*z.height,Y=new Uint8Array(re);LU(t,z.data_offset,Y,re);var K=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var Z=z.width,ye=r-Z,ce=Z,F=4*(z.y*r+z.x),V=4*((z.y+z.height)*r+z.x),G=F,oe=4*ye;z.interlaced===!0&&(oe+=4*r*7);for(var J=8,ne=0,xe=Y.length;ne<xe;++ne){var he=Y[ne];if(ce===0&&(ce=Z,(G+=oe)>=V&&(oe=4*ye+4*r*(J-1),G=F+(Z+ye)*(J<<1),J>>=1)),he===q)G+=4;else{var T=t[K+3*he],X=t[K+3*he+1],le=t[K+3*he+2];L[G++]=le,L[G++]=X,L[G++]=T,L[G++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(O,L){var z=this.frameInfo(O),re=z.width*z.height,Y=new Uint8Array(re);LU(t,z.data_offset,Y,re);var K=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var Z=z.width,ye=r-Z,ce=Z,F=4*(z.y*r+z.x),V=4*((z.y+z.height)*r+z.x),G=F,oe=4*ye;z.interlaced===!0&&(oe+=4*r*7);for(var J=8,ne=0,xe=Y.length;ne<xe;++ne){var he=Y[ne];if(ce===0&&(ce=Z,(G+=oe)>=V&&(oe=4*ye+4*r*(J-1),G=F+(Z+ye)*(J<<1),J>>=1)),he===q)G+=4;else{var T=t[K+3*he],X=t[K+3*he+1],le=t[K+3*he+2];L[G++]=T,L[G++]=X,L[G++]=le,L[G++]=255}--ce}}}function LU(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,c=(1<<l)-1,d=0,h=0,p=0,f=t[e++],v=new Int32Array(4096),m=null;;){for(;d<16&&f!==0;)h|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<l)break;var g=h&c;if(h>>=l,d-=l,g!==a){if(g===o)break;for(var y=g<s?g:m,x=0,_=y;_>a;)_=v[_]>>8,++x;var A=_;if(p+x+(y!==g?1:0)>n)return void xn.log("Warning, gif stream longer than expected.");r[p++]=A;var N=p+=x;for(y!==g&&(r[p++]=A),_=y;x--;)_=v[_],r[--N]=255&_,_>>=8;m!==null&&s<4096&&(v[s++]=m<<8|A,s>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else s=o+1,c=(1<<(l=i+1))-1,m=null}return p!==n&&xn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function LT(t){var e,r,n,i,a,o=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),v=new Array(64),m=[],g=0,y=7,x=new Array(64),_=new Array(64),A=new Array(64),N=new Array(256),I=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(F,V){for(var G=0,oe=0,J=new Array,ne=1;ne<=16;ne++){for(var xe=1;xe<=F[ne];xe++)J[V[oe]]=[],J[V[oe]][0]=G,J[V[oe]][1]=ne,oe++,G++;G*=2}return J}function K(F){for(var V=F[0],G=F[1]-1;G>=0;)V&1<<G&&(g|=1<<y),G--,--y<0&&(g==255?(q(255),q(0)):q(g),y=7,g=0)}function q(F){m.push(F)}function Z(F){q(F>>8&255),q(255&F)}function ye(F,V,G,oe,J){for(var ne,xe=J[0],he=J[240],T=function(Ae,ge){var we,De,ze,st,nt,Ze,_t,Tt,St,Ct,at=0;for(St=0;St<8;++St){we=Ae[at],De=Ae[at+1],ze=Ae[at+2],st=Ae[at+3],nt=Ae[at+4],Ze=Ae[at+5],_t=Ae[at+6];var Jt=we+(Tt=Ae[at+7]),Kt=we-Tt,lt=De+_t,Oe=De-_t,Mt=ze+Ze,mt=ze-Ze,er=st+nt,$t=st-nt,Vr=Jt+er,hn=Jt-er,Dt=lt+Mt,bt=lt-Mt;Ae[at]=Vr+Dt,Ae[at+4]=Vr-Dt;var Ft=.707106781*(bt+hn);Ae[at+2]=hn+Ft,Ae[at+6]=hn-Ft;var gt=.382683433*((Vr=$t+mt)-(bt=Oe+Kt)),Nt=.5411961*Vr+gt,sr=1.306562965*bt+gt,lr=.707106781*(Dt=mt+Oe),it=Kt+lr,Yn=Kt-lr;Ae[at+5]=Yn+Nt,Ae[at+3]=Yn-Nt,Ae[at+1]=it+sr,Ae[at+7]=it-sr,at+=8}for(at=0,St=0;St<8;++St){we=Ae[at],De=Ae[at+8],ze=Ae[at+16],st=Ae[at+24],nt=Ae[at+32],Ze=Ae[at+40],_t=Ae[at+48];var Rn=we+(Tt=Ae[at+56]),Rr=we-Tt,ln=De+_t,Jr=De-_t,fn=ze+Ze,xt=ze-Ze,tr=st+nt,Ar=st-nt,yr=Rn+tr,cn=Rn-tr,un=ln+fn,Dn=ln-fn;Ae[at]=yr+un,Ae[at+32]=yr-un;var pn=.707106781*(Dn+cn);Ae[at+16]=cn+pn,Ae[at+48]=cn-pn;var Dr=.382683433*((yr=Ar+xt)-(Dn=Jr+Rr)),Wn=.5411961*yr+Dr,fs=1.306562965*Dn+Dr,Uc=.707106781*(un=xt+Jr),Fl=Rr+Uc,ps=Rr-Uc;Ae[at+40]=ps+Wn,Ae[at+24]=ps-Wn,Ae[at+8]=Fl+fs,Ae[at+56]=Fl-fs,at++}for(St=0;St<64;++St)Ct=Ae[St]*ge[St],f[St]=Ct>0?Ct+.5|0:Ct-.5|0;return f}(F,V),X=0;X<64;++X)v[P[X]]=T[X];var le=v[0]-G;G=v[0],le==0?K(oe[0]):(K(oe[p[ne=32767+le]]),K(h[ne]));for(var de=63;de>0&&v[de]==0;)de--;if(de==0)return K(xe),G;for(var ve,ee=1;ee<=de;){for(var Ne=ee;v[ee]==0&&ee<=de;)++ee;var Re=ee-Ne;if(Re>=16){ve=Re>>4;for(var Le=1;Le<=ve;++Le)K(he);Re&=15}ne=32767+v[ee],K(J[(Re<<4)+p[ne]]),K(h[ne]),ee++}return de!=63&&K(xe),G}function ce(F){F=Math.min(Math.max(F,1),100),a!=F&&(function(V){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var J=o((G[oe]*V+50)/100);J=Math.min(Math.max(J,1),255),s[P[oe]]=J}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var he=o((ne[xe]*V+50)/100);he=Math.min(Math.max(he,1),255),l[P[xe]]=he}for(var T=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],X=0,le=0;le<8;le++)for(var de=0;de<8;de++)c[X]=1/(s[P[X]]*T[le]*T[de]*8),d[X]=1/(l[P[X]]*T[le]*T[de]*8),X++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),a=F)}this.encode=function(F,V){V&&ce(V),m=new Array,g=0,y=7,Z(65496),Z(65504),Z(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),Z(1),Z(1),q(0),q(0),function(){Z(65499),Z(132),q(0);for(var De=0;De<64;De++)q(s[De]);q(1);for(var ze=0;ze<64;ze++)q(l[ze])}(),function(De,ze){Z(65472),Z(17),q(8),Z(ze),Z(De),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(F.width,F.height),function(){Z(65476),Z(418),q(0);for(var De=0;De<16;De++)q(E[De+1]);for(var ze=0;ze<=11;ze++)q(k[ze]);q(16);for(var st=0;st<16;st++)q(D[st+1]);for(var nt=0;nt<=161;nt++)q(C[nt]);q(1);for(var Ze=0;Ze<16;Ze++)q(O[Ze+1]);for(var _t=0;_t<=11;_t++)q(L[_t]);q(17);for(var Tt=0;Tt<16;Tt++)q(z[Tt+1]);for(var St=0;St<=161;St++)q(re[St])}(),Z(65498),Z(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var G=0,oe=0,J=0;g=0,y=7,this.encode.displayName="_encode_";for(var ne,xe,he,T,X,le,de,ve,ee,Ne=F.data,Re=F.width,Le=F.height,Ae=4*Re,ge=0;ge<Le;){for(ne=0;ne<Ae;){for(X=Ae*ge+ne,de=-1,ve=0,ee=0;ee<64;ee++)le=X+(ve=ee>>3)*Ae+(de=4*(7&ee)),ge+ve>=Le&&(le-=Ae*(ge+1+ve-Le)),ne+de>=Ae&&(le-=ne+de-Ae+4),xe=Ne[le++],he=Ne[le++],T=Ne[le++],x[ee]=(I[xe]+I[he+256|0]+I[T+512|0]>>16)-128,_[ee]=(I[xe+768|0]+I[he+1024|0]+I[T+1280|0]>>16)-128,A[ee]=(I[xe+1280|0]+I[he+1536|0]+I[T+1792|0]>>16)-128;G=ye(x,c,G,e,n),oe=ye(_,d,oe,r,i),J=ye(A,d,J,r,i),ne+=32}ge+=8}if(y>=0){var we=[];we[1]=y+1,we[0]=(1<<y+1)-1,K(we)}return Z(65497),new Uint8Array(m)},t=t||50,function(){for(var F=String.fromCharCode,V=0;V<256;V++)N[V]=F(V)}(),e=Y(E,k),r=Y(O,L),n=Y(D,C),i=Y(z,re),function(){for(var F=1,V=2,G=1;G<=15;G++){for(var oe=F;oe<V;oe++)p[32767+oe]=G,h[32767+oe]=[],h[32767+oe][1]=G,h[32767+oe][0]=oe;for(var J=-(V-1);J<=-F;J++)p[32767+J]=G,h[32767+J]=[],h[32767+J][1]=G,h[32767+J][0]=V-1+J;F<<=1,V<<=1}}(),function(){for(var F=0;F<256;F++)I[F]=19595*F,I[F+256|0]=38470*F,I[F+512|0]=7471*F+32768,I[F+768|0]=-11059*F,I[F+1024|0]=-21709*F,I[F+1280|0]=32768*F+8421375,I[F+1536|0]=-27439*F,I[F+1792|0]=-5329*F}(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ll(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function MU(t){function e(k){if(!k)throw Error("assert :P")}function r(k,D,C){for(var O=0;4>O;O++)if(k[D+O]!=C.charCodeAt(O))return!0;return!1}function n(k,D,C,O,L){for(var z=0;z<L;z++)k[D+z]=C[O+z]}function i(k,D,C,O){for(var L=0;L<O;L++)k[D+L]=C}function a(k){return new Int32Array(k)}function o(k,D){for(var C=[],O=0;O<k;O++)C.push(new D);return C}function s(k,D){var C=[];return function O(L,z,re){for(var Y=re[z],K=0;K<Y&&(L.push(re.length>z+1?[]:new D),!(re.length<z+1));K++)O(L[K],z+1,re)}(C,0,k),C}var l=function(){var k=this;function D(b,S){for(var M=1<<S-1>>>0;b&M;)M>>>=1;return M?(b&M-1)+M:b}function C(b,S,M,B,H){e(!(B%M));do b[S+(B-=M)]=H;while(0<B)}function O(b,S,M,B,H){if(e(2328>=H),512>=H)var Q=a(512);else if((Q=a(H))==null)return 0;return function(te,ie,se,pe,Se,ke){var me,Ee,je=ie,Me=1<<se,Ce=a(16),Ue=a(16);for(e(Se!=0),e(pe!=null),e(te!=null),e(0<se),Ee=0;Ee<Se;++Ee){if(15<pe[Ee])return 0;++Ce[pe[Ee]]}if(Ce[0]==Se)return 0;for(Ue[1]=0,me=1;15>me;++me){if(Ce[me]>1<<me)return 0;Ue[me+1]=Ue[me]+Ce[me]}for(Ee=0;Ee<Se;++Ee)me=pe[Ee],0<pe[Ee]&&(ke[Ue[me]++]=Ee);if(Ue[15]==1)return(pe=new L).g=0,pe.value=ke[0],C(te,je,1,Me,pe),Me;var Ve,Ye=-1,Ke=Me-1,It=0,pt=1,cr=1,At=1<<se;for(Ee=0,me=1,Se=2;me<=se;++me,Se<<=1){if(pt+=cr<<=1,0>(cr-=Ce[me]))return 0;for(;0<Ce[me];--Ce[me])(pe=new L).g=me,pe.value=ke[Ee++],C(te,je+It,Se,At,pe),It=D(It,me)}for(me=se+1,Se=2;15>=me;++me,Se<<=1){if(pt+=cr<<=1,0>(cr-=Ce[me]))return 0;for(;0<Ce[me];--Ce[me]){if(pe=new L,(It&Ke)!=Ye){for(je+=At,Ve=1<<(Ye=me)-se;15>Ye&&!(0>=(Ve-=Ce[Ye]));)++Ye,Ve<<=1;Me+=At=1<<(Ve=Ye-se),te[ie+(Ye=It&Ke)].g=Ve+se,te[ie+Ye].value=je-ie-Ye}pe.g=me-se,pe.value=ke[Ee++],C(te,je+(It>>se),Se,At,pe),It=D(It,me)}}return pt!=2*Ue[15]-1?0:Me}(b,S,M,B,H,Q)}function L(){this.value=this.g=0}function z(){this.value=this.g=0}function re(){this.G=o(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Lf,z)}function Y(b,S,M,B){e(b!=null),e(S!=null),e(2147483648>B),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=S,b.pa=M,b.Jd=S,b.Yc=M+B,b.Zc=4<=B?M+B-4+1:M,xe(b)}function K(b,S){for(var M=0;0<S--;)M|=T(b,128)<<S;return M}function q(b,S){var M=K(b,S);return he(b)?-M:M}function Z(b,S,M,B){var H,Q=0;for(e(b!=null),e(S!=null),e(4294967288>B),b.Sb=B,b.Ra=0,b.u=0,b.h=0,4<B&&(B=4),H=0;H<B;++H)Q+=S[M+H]<<8*H;b.Ra=Q,b.bb=B,b.oa=S,b.pa=M}function ye(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<bd-8>>>0,++b.bb,b.u-=8;oe(b)&&(b.h=1,b.u=0)}function ce(b,S){if(e(0<=S),!b.h&&S<=Mo){var M=G(b)&Lo[S];return b.u+=S,ye(b),M}return b.h=1,b.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(b){return b.Ra>>>(b.u&bd-1)>>>0}function oe(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>bd}function J(b,S){b.u=S,b.h=oe(b)}function ne(b){b.u>=Jc&&(e(b.u>=Jc),ye(b))}function xe(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function he(b){return K(b,1)}function T(b,S){var M=b.Ca;0>b.b&&xe(b);var B=b.b,H=M*S>>>8,Q=(b.I>>>B>H)+0;for(Q?(M-=H,b.I-=H+1<<B>>>0):M=H+1,B=M,H=0;256<=B;)H+=8,B>>=8;return B=7^H+xd[B],b.b-=B,b.Ca=(M<<B)-1,Q}function X(b,S,M){b[S+0]=M>>24&255,b[S+1]=M>>16&255,b[S+2]=M>>8&255,b[S+3]=255&M}function le(b,S){return b[S+0]|b[S+1]<<8}function de(b,S){return le(b,S)|b[S+2]<<16}function ve(b,S){return le(b,S)|le(b,S+2)<<16}function ee(b,S){var M=1<<S;return e(b!=null),e(0<S),b.X=a(M),b.X==null?0:(b.Mb=32-S,b.Xa=S,1)}function Ne(b,S){e(b!=null),e(S!=null),e(b.Xa==S.Xa),n(S.X,0,b.X,0,1<<S.Xa)}function Re(){this.X=[],this.Xa=this.Mb=0}function Le(b,S,M,B){e(M!=null),e(B!=null);var H=M[0],Q=B[0];return H==0&&(H=(b*Q+S/2)/S),Q==0&&(Q=(S*H+b/2)/b),0>=H||0>=Q?0:(M[0]=H,B[0]=Q,1)}function Ae(b,S){return b+(1<<S)-1>>>S}function ge(b,S){return((4278255360&b)+(4278255360&S)>>>0&4278255360)+((16711935&b)+(16711935&S)>>>0&16711935)>>>0}function we(b,S){k[S]=function(M,B,H,Q,te,ie,se){var pe;for(pe=0;pe<te;++pe){var Se=k[b](ie[se+pe-1],H,Q+pe);ie[se+pe]=ge(M[B+pe],Se)}}}function De(){this.ud=this.hd=this.jd=0}function ze(b,S){return((4278124286&(b^S))>>>1)+(b&S)>>>0}function st(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function nt(b,S){return st(b+(b-S+.5>>1))}function Ze(b,S,M){return Math.abs(S-M)-Math.abs(b-M)}function _t(b,S,M,B,H,Q,te){for(B=Q[te-1],M=0;M<H;++M)Q[te+M]=B=ge(b[S+M],B)}function Tt(b,S,M,B,H){var Q;for(Q=0;Q<M;++Q){var te=b[S+Q],ie=te>>8&255,se=16711935&(se=(se=16711935&te)+((ie<<16)+ie));B[H+Q]=(4278255360&te)+se>>>0}}function St(b,S){S.jd=255&b,S.hd=b>>8&255,S.ud=b>>16&255}function Ct(b,S,M,B,H,Q){var te;for(te=0;te<B;++te){var ie=S[M+te],se=ie>>>8,pe=ie,Se=255&(Se=(Se=ie>>>16)+((b.jd<<24>>24)*(se<<24>>24)>>>5));pe=255&(pe=(pe+=(b.hd<<24>>24)*(se<<24>>24)>>>5)+((b.ud<<24>>24)*(Se<<24>>24)>>>5)),H[Q+te]=(4278255360&ie)+(Se<<16)+pe}}function at(b,S,M,B,H){k[S]=function(Q,te,ie,se,pe,Se,ke,me,Ee){for(se=ke;se<me;++se)for(ke=0;ke<Ee;++ke)pe[Se++]=H(ie[B(Q[te++])])},k[b]=function(Q,te,ie,se,pe,Se,ke){var me=8>>Q.b,Ee=Q.Ea,je=Q.K[0],Me=Q.w;if(8>me)for(Q=(1<<Q.b)-1,Me=(1<<me)-1;te<ie;++te){var Ce,Ue=0;for(Ce=0;Ce<Ee;++Ce)Ce&Q||(Ue=B(se[pe++])),Se[ke++]=H(je[Ue&Me]),Ue>>=me}else k["VP8LMapColor"+M](se,pe,je,Me,Se,ke,te,ie,Ee)}}function Jt(b,S,M,B,H){for(M=S+M;S<M;){var Q=b[S++];B[H++]=Q>>16&255,B[H++]=Q>>8&255,B[H++]=255&Q}}function Kt(b,S,M,B,H){for(M=S+M;S<M;){var Q=b[S++];B[H++]=Q>>16&255,B[H++]=Q>>8&255,B[H++]=255&Q,B[H++]=Q>>24&255}}function lt(b,S,M,B,H){for(M=S+M;S<M;){var Q=(te=b[S++])>>16&240|te>>12&15,te=240&te|te>>28&15;B[H++]=Q,B[H++]=te}}function Oe(b,S,M,B,H){for(M=S+M;S<M;){var Q=(te=b[S++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;B[H++]=Q,B[H++]=te}}function Mt(b,S,M,B,H){for(M=S+M;S<M;){var Q=b[S++];B[H++]=255&Q,B[H++]=Q>>8&255,B[H++]=Q>>16&255}}function mt(b,S,M,B,H,Q){if(Q==0)for(M=S+M;S<M;)X(B,((Q=b[S++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),H+=32;else n(B,H,b,S,M)}function er(b,S){k[S][0]=k[b+"0"],k[S][1]=k[b+"1"],k[S][2]=k[b+"2"],k[S][3]=k[b+"3"],k[S][4]=k[b+"4"],k[S][5]=k[b+"5"],k[S][6]=k[b+"6"],k[S][7]=k[b+"7"],k[S][8]=k[b+"8"],k[S][9]=k[b+"9"],k[S][10]=k[b+"10"],k[S][11]=k[b+"11"],k[S][12]=k[b+"12"],k[S][13]=k[b+"13"],k[S][14]=k[b+"0"],k[S][15]=k[b+"0"]}function $t(b){return b==nN||b==iN||b==yw||b==aN}function Vr(){this.eb=[],this.size=this.A=this.fb=0}function hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vr,this.f.kb=new hn,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Nt(b,S){var M=b.T,B=S.ba.f.RGBA,H=B.eb,Q=B.fb+b.ka*B.A,te=Ss[S.ba.S],ie=b.y,se=b.O,pe=b.f,Se=b.N,ke=b.ea,me=b.W,Ee=S.cc,je=S.dc,Me=S.Mc,Ce=S.Nc,Ue=b.ka,Ve=b.ka+b.T,Ye=b.U,Ke=Ye+1>>1;for(Ue==0?te(ie,se,null,null,pe,Se,ke,me,pe,Se,ke,me,H,Q,null,null,Ye):(te(S.ec,S.fc,ie,se,Ee,je,Me,Ce,pe,Se,ke,me,H,Q-B.A,H,Q,Ye),++M);Ue+2<Ve;Ue+=2)Ee=pe,je=Se,Me=ke,Ce=me,Se+=b.Rc,me+=b.Rc,Q+=2*B.A,te(ie,(se+=2*b.fa)-b.fa,ie,se,Ee,je,Me,Ce,pe,Se,ke,me,H,Q-B.A,H,Q,Ye);return se+=b.fa,b.j+Ve<b.o?(n(S.ec,S.fc,ie,se,Ye),n(S.cc,S.dc,pe,Se,Ke),n(S.Mc,S.Nc,ke,me,Ke),M--):1&Ve||te(ie,se,null,null,pe,Se,ke,me,pe,Se,ke,me,H,Q+B.A,null,null,Ye),M}function sr(b,S,M){var B=b.F,H=[b.J];if(B!=null){var Q=b.U,te=S.ba.S,ie=te==vw||te==yw;S=S.ba.f.RGBA;var se=[0],pe=b.ka;se[0]=b.T,b.Kb&&(pe==0?--se[0]:(--pe,H[0]-=b.width),b.j+b.ka+b.T==b.o&&(se[0]=b.o-b.j-pe));var Se=S.eb;pe=S.fb+pe*S.A,b=ND(B,H[0],b.width,Q,se,Se,pe+(ie?0:3),S.A),e(M==se),b&&$t(te)&&c0(Se,pe,ie,Q,se,S.A)}return 0}function lr(b){var S=b.ma,M=S.ba.S,B=11>M,H=M==mw||M==gw||M==vw||M==rN||M==12||$t(M);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!t0(S.Oa,b,H?11:12))return 0;if(H&&$t(M)&&Je(),b.da)alert("todo:use_scaling");else{if(B){if(S.Ib=gt,b.Kb){if(M=b.U+1>>1,S.memory=a(b.U+2*M),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+b.U,S.Mc=S.cc,S.Nc=S.dc+M,S.Ib=Nt,Je()}}else alert("todo:EmitYUV");H&&(S.Jb=sr,B&&Te())}if(B&&!zD){for(b=0;256>b;++b)Lne[b]=89858*(b-128)+xw>>bw,Fne[b]=-22014*(b-128)+xw,$ne[b]=-45773*(b-128),Mne[b]=113618*(b-128)+xw>>bw;for(b=d0;b<lN;++b)S=76283*(b-16)+xw>>bw,Bne[b-d0]=ri(S,255),Une[b-d0]=ri(S+8>>4,15);zD=1}return 1}function it(b){var S=b.ma,M=b.U,B=b.T;return e(!(1&b.ka)),0>=M||0>=B?0:(M=S.Ib(b,S),S.Jb!=null&&S.Jb(b,S,M),S.Dc+=M,1)}function Yn(b){b.ma.memory=null}function Rn(b,S,M,B){return ce(b,8)!=47?0:(S[0]=ce(b,14)+1,M[0]=ce(b,14)+1,B[0]=ce(b,1),ce(b,3)!=0?0:!b.h)}function Rr(b,S){if(4>b)return b+1;var M=b-2>>1;return(2+(1&b)<<M)+ce(S,M)+1}function ln(b,S){return 120<S?S-120:1<=(M=((M=_ne[S-1])>>4)*b+(8-(15&M)))?M:1;var M}function Jr(b,S,M){var B=G(M),H=b[S+=255&B].g-8;return 0<H&&(J(M,M.u+8),B=G(M),S+=b[S].value,S+=B&(1<<H)-1),J(M,M.u+b[S].g),b[S].value}function fn(b,S,M){return M.g+=b.g,M.value+=b.value<<S>>>0,e(8>=M.g),b.g}function xt(b,S,M){var B=b.xc;return e((S=B==0?0:b.vc[b.md*(M>>B)+(S>>B)])<b.Wb),b.Ya[S]}function tr(b,S,M,B){var H=b.ab,Q=b.c*S,te=b.C;S=te+S;var ie=M,se=B;for(B=b.Ta,M=b.Ua;0<H--;){var pe=b.gc[H],Se=te,ke=S,me=ie,Ee=se,je=(se=B,ie=M,pe.Ea);switch(e(Se<ke),e(ke<=pe.nc),pe.hc){case 2:di(me,Ee,(ke-Se)*je,se,ie);break;case 0:var Me=Se,Ce=ke,Ue=se,Ve=ie,Ye=(At=pe).Ea;Me==0&&(n0(me,Ee,null,null,1,Ue,Ve),_t(me,Ee+1,0,0,Ye-1,Ue,Ve+1),Ee+=Ye,Ve+=Ye,++Me);for(var Ke=1<<At.b,It=Ke-1,pt=Ae(Ye,At.b),cr=At.K,At=At.w+(Me>>At.b)*pt;Me<Ce;){var Er=cr,Ii=At,ur=1;for(Rm(me,Ee,Ue,Ve-Ye,1,Ue,Ve);ur<Ye;){var Et=(ur&~It)+Ke;Et>Ye&&(Et=Ye),(0,a0[Er[Ii++]>>8&15])(me,Ee+ +ur,Ue,Ve+ur-Ye,Et-ur,Ue,Ve+ur),ur=Et}Ee+=Ye,Ve+=Ye,++Me&It||(At+=pt)}ke!=pe.nc&&n(se,ie-je,se,ie+(ke-Se-1)*je,je);break;case 1:for(je=me,Ce=Ee,Ye=(me=pe.Ea)-(Ve=me&~(Ue=(Ee=1<<pe.b)-1)),Me=Ae(me,pe.b),Ke=pe.K,pe=pe.w+(Se>>pe.b)*Me;Se<ke;){for(It=Ke,pt=pe,cr=new De,At=Ce+Ve,Er=Ce+me;Ce<At;)St(It[pt++],cr),o0(cr,je,Ce,Ee,se,ie),Ce+=Ee,ie+=Ee;Ce<Er&&(St(It[pt++],cr),o0(cr,je,Ce,Ye,se,ie),Ce+=Ye,ie+=Ye),++Se&Ue||(pe+=Me)}break;case 3:if(me==se&&Ee==ie&&0<pe.b){for(Ce=se,me=je=ie+(ke-Se)*je-(Ve=(ke-Se)*Ae(pe.Ea,pe.b)),Ee=se,Ue=ie,Me=[],Ve=(Ye=Ve)-1;0<=Ve;--Ve)Me[Ve]=Ee[Ue+Ve];for(Ve=Ye-1;0<=Ve;--Ve)Ce[me+Ve]=Me[Ve];dw(pe,Se,ke,se,je,se,ie)}else dw(pe,Se,ke,me,Ee,se,ie)}ie=B,se=M}se!=M&&n(B,M,ie,se,Q)}function Ar(b,S){var M=b.V,B=b.Ba+b.c*b.C,H=S-b.C;if(e(S<=b.l.o),e(16>=H),0<H){var Q=b.l,te=b.Ta,ie=b.Ua,se=Q.width;if(tr(b,H,M,B),H=ie=[ie],e((M=b.C)<(B=S)),e(Q.v<Q.va),B>Q.o&&(B=Q.o),M<Q.j){var pe=Q.j-M;M=Q.j,H[0]+=pe*se}if(M>=B?M=0:(H[0]+=4*Q.v,Q.ka=M-Q.j,Q.U=Q.va-Q.v,Q.T=B-M,M=1),M){if(ie=ie[0],11>(M=b.ca).S){var Se=M.f.RGBA,ke=(B=M.S,H=Q.U,Q=Q.T,pe=Se.eb,Se.A),me=Q;for(Se=Se.fb+b.Ma*Se.A;0<me--;){var Ee=te,je=ie,Me=H,Ce=pe,Ue=Se;switch(B){case pw:s0(Ee,je,Me,Ce,Ue);break;case mw:wd(Ee,je,Me,Ce,Ue);break;case nN:wd(Ee,je,Me,Ce,Ue),c0(Ce,Ue,0,Me,1,0);break;case OD:Mf(Ee,je,Me,Ce,Ue);break;case gw:mt(Ee,je,Me,Ce,Ue,1);break;case iN:mt(Ee,je,Me,Ce,Ue,1),c0(Ce,Ue,0,Me,1,0);break;case vw:mt(Ee,je,Me,Ce,Ue,0);break;case yw:mt(Ee,je,Me,Ce,Ue,0),c0(Ce,Ue,1,Me,1,0);break;case rN:_d(Ee,je,Me,Ce,Ue);break;case aN:_d(Ee,je,Me,Ce,Ue),ED(Ce,Ue,Me,1,0);break;case RD:Sd(Ee,je,Me,Ce,Ue);break;default:e(0)}ie+=se,Se+=ke}b.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=M.height)}}b.C=S,e(b.C<=b.i)}function yr(b){var S;if(0<b.ua)return 0;for(S=0;S<b.Wb;++S){var M=b.Ya[S].G,B=b.Ya[S].H;if(0<M[1][B[1]+0].g||0<M[2][B[2]+0].g||0<M[3][B[3]+0].g)return 0}return 1}function cn(b,S,M,B,H,Q){if(b.Z!=0){var te=b.qd,ie=b.rd;for(e(Nd[b.Z]!=null);S<M;++S)Nd[b.Z](te,ie,B,H,B,H,Q),te=B,ie=H,H+=Q;b.qd=te,b.rd=ie}}function un(b,S){var M=b.l.ma,B=M.Z==0||M.Z==1?b.l.j:b.C;if(B=b.C<B?B:b.C,e(S<=b.l.o),S>B){var H=b.l.width,Q=M.ca,te=M.tb+H*B,ie=b.V,se=b.Ba+b.c*B,pe=b.gc;e(b.ab==1),e(pe[0].hc==3),Yl(pe[0],B,S,ie,se,Q,te),cn(M,B,S,Q,te,H)}b.C=b.Ma=S}function Dn(b,S,M,B,H,Q,te){var ie=b.$/B,se=b.$%B,pe=b.m,Se=b.s,ke=M+b.$,me=ke;H=M+B*H;var Ee=M+B*Q,je=280+Se.ua,Me=b.Pb?ie:16777216,Ce=0<Se.ua?Se.Wa:null,Ue=Se.wc,Ve=ke<Ee?xt(Se,se,ie):null;e(b.C<Q),e(Ee<=H);var Ye=!1;e:for(;;){for(;Ye||ke<Ee;){var Ke=0;if(ie>=Me){var It=ke-M;e((Me=b).Pb),Me.wd=Me.m,Me.xd=It,0<Me.s.ua&&Ne(Me.s.Wa,Me.s.vb),Me=ie+Ane}if(se&Ue||(Ve=xt(Se,se,ie)),e(Ve!=null),Ve.Qb&&(S[ke]=Ve.qb,Ye=!0),!Ye)if(ne(pe),Ve.jc){Ke=pe,It=S;var pt=ke,cr=Ve.pd[G(Ke)&Lf-1];e(Ve.jc),256>cr.g?(J(Ke,Ke.u+cr.g),It[pt]=cr.value,Ke=0):(J(Ke,Ke.u+cr.g-256),e(256<=cr.value),Ke=cr.value),Ke==0&&(Ye=!0)}else Ke=Jr(Ve.G[0],Ve.H[0],pe);if(pe.h)break;if(Ye||256>Ke){if(!Ye)if(Ve.nd)S[ke]=(Ve.qb|Ke<<8)>>>0;else{if(ne(pe),Ye=Jr(Ve.G[1],Ve.H[1],pe),ne(pe),It=Jr(Ve.G[2],Ve.H[2],pe),pt=Jr(Ve.G[3],Ve.H[3],pe),pe.h)break;S[ke]=(pt<<24|Ye<<16|Ke<<8|It)>>>0}if(Ye=!1,++ke,++se>=B&&(se=0,++ie,te!=null&&ie<=Q&&!(ie%16)&&te(b,ie),Ce!=null))for(;me<ke;)Ke=S[me++],Ce.X[(506832829*Ke&4294967295)>>>Ce.Mb]=Ke}else if(280>Ke){if(Ke=Rr(Ke-256,pe),It=Jr(Ve.G[4],Ve.H[4],pe),ne(pe),It=ln(B,It=Rr(It,pe)),pe.h)break;if(ke-M<It||H-ke<Ke)break e;for(pt=0;pt<Ke;++pt)S[ke+pt]=S[ke+pt-It];for(ke+=Ke,se+=Ke;se>=B;)se-=B,++ie,te!=null&&ie<=Q&&!(ie%16)&&te(b,ie);if(e(ke<=H),se&Ue&&(Ve=xt(Se,se,ie)),Ce!=null)for(;me<ke;)Ke=S[me++],Ce.X[(506832829*Ke&4294967295)>>>Ce.Mb]=Ke}else{if(!(Ke<je))break e;for(Ye=Ke-280,e(Ce!=null);me<ke;)Ke=S[me++],Ce.X[(506832829*Ke&4294967295)>>>Ce.Mb]=Ke;Ke=ke,e(!(Ye>>>(It=Ce).Xa)),S[Ke]=It.X[Ye],Ye=!0}Ye||e(pe.h==oe(pe))}if(b.Pb&&pe.h&&ke<H)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ne(b.s.vb,b.s.Wa);else{if(pe.h)break e;te!=null&&te(b,ie>Q?Q:ie),b.a=0,b.$=ke-M}return 1}return b.a=3,0}function pn(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var S=b.Wa;S!=null&&(S.X=null),b.vb=null,e(b!=null)}function Dr(){var b=new wt;return b==null?null:(b.a=0,b.xb=MD,er("Predictor","VP8LPredictors"),er("Predictor","VP8LPredictors_C"),er("PredictorAdd","VP8LPredictorsAdd"),er("PredictorAdd","VP8LPredictorsAdd_C"),di=Tt,o0=Ct,s0=Jt,wd=Kt,_d=lt,Sd=Oe,Mf=Mt,k.VP8LMapColor32b=Kl,k.VP8LMapColor8b=i0,b)}function Wn(b,S,M,B,H){var Q=1,te=[b],ie=[S],se=B.m,pe=B.s,Se=null,ke=0;e:for(;;){if(M)for(;Q&&ce(se,1);){var me=te,Ee=ie,je=B,Me=1,Ce=je.m,Ue=je.gc[je.ab],Ve=ce(Ce,2);if(je.Oc&1<<Ve)Q=0;else{switch(je.Oc|=1<<Ve,Ue.hc=Ve,Ue.Ea=me[0],Ue.nc=Ee[0],Ue.K=[null],++je.ab,e(4>=je.ab),Ve){case 0:case 1:Ue.b=ce(Ce,3)+2,Me=Wn(Ae(Ue.Ea,Ue.b),Ae(Ue.nc,Ue.b),0,je,Ue.K),Ue.K=Ue.K[0];break;case 3:var Ye,Ke=ce(Ce,8)+1,It=16<Ke?0:4<Ke?1:2<Ke?2:3;if(me[0]=Ae(Ue.Ea,It),Ue.b=It,Ye=Me=Wn(Ke,1,0,je,Ue.K)){var pt,cr=Ke,At=Ue,Er=1<<(8>>At.b),Ii=a(Er);if(Ii==null)Ye=0;else{var ur=At.K[0],Et=At.w;for(Ii[0]=At.K[0][0],pt=1;pt<1*cr;++pt)Ii[pt]=ge(ur[Et+pt],Ii[pt-1]);for(;pt<4*Er;++pt)Ii[pt]=0;At.K[0]=null,At.K[0]=Ii,Ye=1}}Me=Ye;break;case 2:break;default:e(0)}Q=Me}}if(te=te[0],ie=ie[0],Q&&ce(se,1)&&!(Q=1<=(ke=ce(se,4))&&11>=ke)){B.a=3;break e}var tt;if(tt=Q)t:{var fi,ar,Cr,Mn=B,ia=te,za=ie,ni=ke,ba=M,qa=Mn.m,Oi=Mn.s,Mr=[null],Zr=1,ii=0,en=Sne[ni];r:for(;;){if(ba&&ce(qa,1)){var aa=ce(qa,3)+2,nl=Ae(ia,aa),pi=Ae(za,aa),uo=nl*pi;if(!Wn(nl,pi,0,Mn,Mr))break r;for(Mr=Mr[0],Oi.xc=aa,fi=0;fi<uo;++fi){var bn=Mr[fi]>>8&65535;Mr[fi]=bn,bn>=Zr&&(Zr=bn+1)}}if(qa.h)break r;for(ar=0;5>ar;++ar){var Ri=DD[ar];!ar&&0<ni&&(Ri+=1<<ni),ii<Ri&&(ii=Ri)}var Fo=o(Zr*en,L),Wa=Zr,Bo=o(Wa,re);if(Bo==null)var Uo=null;else e(65536>=Wa),Uo=Bo;var ho=a(ii);if(Uo==null||ho==null||Fo==null){Mn.a=1;break r}var Vo=Fo;for(fi=Cr=0;fi<Zr;++fi){var Nn=Uo[fi],zo=Nn.G,il=Nn.H,Ff=0,tu=1,oa=0;for(ar=0;5>ar;++ar){Ri=DD[ar],zo[ar]=Vo,il[ar]=Cr,!ar&&0<ni&&(Ri+=1<<ni);i:{var _w,cN=Ri,Sw=Mn,h0=ho,qne=Vo,Wne=Cr,uN=0,Pd=Sw.m,Hne=ce(Pd,1);if(i(h0,0,0,cN),Hne){var Gne=ce(Pd,1)+1,Kne=ce(Pd,1),HD=ce(Pd,Kne==0?1:8);h0[HD]=1,Gne==2&&(h0[HD=ce(Pd,8)]=1);var Aw=1}else{var GD=a(19),KD=ce(Pd,4)+4;if(19<KD){Sw.a=3;var Ew=0;break i}for(_w=0;_w<KD;++_w)GD[wne[_w]]=ce(Pd,3);var dN=void 0,f0=void 0,YD=Sw,Yne=GD,Nw=cN,XD=h0,hN=0,Td=YD.m,QD=8,JD=o(128,L);n:for(;O(JD,0,7,Yne,19);){if(ce(Td,1)){var Xne=2+2*ce(Td,3);if((dN=2+ce(Td,Xne))>Nw)break n}else dN=Nw;for(f0=0;f0<Nw&&dN--;){ne(Td);var ZD=JD[0+(127&G(Td))];J(Td,Td.u+ZD.g);var Lm=ZD.value;if(16>Lm)XD[f0++]=Lm,Lm!=0&&(QD=Lm);else{var Qne=Lm==16,e6=Lm-16,Jne=bne[e6],t6=ce(Td,yne[e6])+Jne;if(f0+t6>Nw)break n;for(var Zne=Qne?QD:0;0<t6--;)XD[f0++]=Zne}}hN=1;break n}hN||(YD.a=3),Aw=hN}(Aw=Aw&&!Pd.h)&&(uN=O(qne,Wne,8,h0,cN)),Aw&&uN!=0?Ew=uN:(Sw.a=3,Ew=0)}if(Ew==0)break r;if(tu&&xne[ar]==1&&(tu=Vo[Cr].g==0),Ff+=Vo[Cr].g,Cr+=Ew,3>=ar){var p0,fN=ho[0];for(p0=1;p0<Ri;++p0)ho[p0]>fN&&(fN=ho[p0]);oa+=fN}}if(Nn.nd=tu,Nn.Qb=0,tu&&(Nn.qb=(zo[3][il[3]+0].value<<24|zo[1][il[1]+0].value<<16|zo[2][il[2]+0].value)>>>0,Ff==0&&256>zo[0][il[0]+0].value&&(Nn.Qb=1,Nn.qb+=zo[0][il[0]+0].value<<8)),Nn.jc=!Nn.Qb&&6>oa,Nn.jc){var Pw,ru=Nn;for(Pw=0;Pw<Lf;++Pw){var jd=Pw,Cd=ru.pd[jd],Tw=ru.G[0][ru.H[0]+jd];256<=Tw.value?(Cd.g=Tw.g+256,Cd.value=Tw.value):(Cd.g=0,Cd.value=0,jd>>=fn(Tw,8,Cd),jd>>=fn(ru.G[1][ru.H[1]+jd],16,Cd),jd>>=fn(ru.G[2][ru.H[2]+jd],0,Cd),fn(ru.G[3][ru.H[3]+jd],24,Cd))}}}Oi.vc=Mr,Oi.Wb=Zr,Oi.Ya=Uo,Oi.yc=Fo,tt=1;break t}tt=0}if(!(Q=tt)){B.a=3;break e}if(0<ke){if(pe.ua=1<<ke,!ee(pe.Wa,ke)){B.a=1,Q=0;break e}}else pe.ua=0;var pN=B,r6=te,eie=ie,mN=pN.s,gN=mN.xc;if(pN.c=r6,pN.i=eie,mN.md=Ae(r6,gN),mN.wc=gN==0?-1:(1<<gN)-1,M){B.xb=kne;break e}if((Se=a(te*ie))==null){B.a=1,Q=0;break e}Q=(Q=Dn(B,Se,0,te,ie,ie,null))&&!se.h;break e}return Q?(H!=null?H[0]=Se:(e(Se==null),e(M)),B.$=0,M||pn(pe)):pn(pe),Q}function fs(b,S){var M=b.c*b.i,B=M+S+16*S;return e(b.c<=S),b.V=a(B),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+M+S,1)}function Uc(b,S){var M=b.C,B=S-M,H=b.V,Q=b.Ba+b.c*M;for(e(S<=b.l.o);0<B;){var te=16<B?16:B,ie=b.l.ma,se=b.l.width,pe=se*te,Se=ie.ca,ke=ie.tb+se*M,me=b.Ta,Ee=b.Ua;tr(b,te,H,Q),PD(me,Ee,Se,ke,pe),cn(ie,M,M+te,Se,ke,se),B-=te,H+=te*b.c,M+=te}e(M==S),b.C=b.Ma=S}function Fl(){this.ub=this.yd=this.td=this.Rb=0}function ps(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function el(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Vc(){this.Yb=function(){var b=[];return function S(M,B,H){for(var Q=H[B],te=0;te<Q&&(M.push(H.length>B+1?[]:0),!(H.length<B+1));te++)S(M[te],B+1,H)}(b,0,[3,11]),b}()}function Em(){this.jb=a(3),this.Wc=s([4,8],Vc),this.Xc=s([4,17],Vc)}function Ef(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Fa(){this.ld=this.La=this.dd=this.tc=0}function sd(){this.Na=this.la=0}function ld(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fa),this.Y=0,this.ya=Array(new zc),this.aa=0,this.l=new cd}function Pf(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Tf(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Fl,this.Kc=new ps,this.ed=new Ef,this.Qa=new el,this.Ic=this.$c=this.Aa=0,this.D=new Nf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,F),this.ia=0,this.pb=o(4,ld),this.Pa=new Em,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pf),this.Hd=0,this.rb=Array(new sd),this.sb=0,this.wa=Array(new Fa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zc),this.L=this.aa=0,this.gd=s([4,2],Fa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ms(){var b=new Tf;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,u0||(u0=Oo)),b}function Wr(b,S,M){return b.a==0&&(b.a=S,b.sc=M,b.cb=0),0}function Bl(b,S,M){return 3<=M&&b[S+0]==157&&b[S+1]==1&&b[S+2]==42}function Ul(b,S){if(b==null)return 0;if(b.a=0,b.sc="OK",S==null)return Wr(b,2,"null VP8Io passed to VP8GetHeaders()");var M=S.data,B=S.w,H=S.ha;if(4>H)return Wr(b,7,"Truncated header.");var Q=M[B+0]|M[B+1]<<8|M[B+2]<<16,te=b.Od;if(te.Rb=!(1&Q),te.td=Q>>1&7,te.yd=Q>>4&1,te.ub=Q>>5,3<te.td)return Wr(b,3,"Incorrect keyframe parameters.");if(!te.yd)return Wr(b,4,"Frame not displayable.");B+=3,H-=3;var ie=b.Kc;if(te.Rb){if(7>H)return Wr(b,7,"cannot parse picture header");if(!Bl(M,B,H))return Wr(b,3,"Bad code word");ie.c=16383&(M[B+4]<<8|M[B+3]),ie.Td=M[B+4]>>6,ie.i=16383&(M[B+6]<<8|M[B+5]),ie.Ud=M[B+6]>>6,B+=7,H-=7,b.za=ie.c+15>>4,b.Ub=ie.i+15>>4,S.width=ie.c,S.height=ie.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((Q=b.Pa).jb,0,255,Q.jb.length),e((Q=b.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(te.ub>H)return Wr(b,7,"bad partition length");Y(Q=b.m,M,B,te.ub),B+=te.ub,H-=te.ub,te.Rb&&(ie.Ld=he(Q),ie.Kd=he(Q)),ie=b.Qa;var se,pe=b.Pa;if(e(Q!=null),e(ie!=null),ie.Cb=he(Q),ie.Cb){if(ie.Bb=he(Q),he(Q)){for(ie.Fb=he(Q),se=0;4>se;++se)ie.Zb[se]=he(Q)?q(Q,7):0;for(se=0;4>se;++se)ie.Lb[se]=he(Q)?q(Q,6):0}if(ie.Bb)for(se=0;3>se;++se)pe.jb[se]=he(Q)?K(Q,8):255}else ie.Bb=0;if(Q.Ka)return Wr(b,3,"cannot parse segment header");if((ie=b.ed).zd=he(Q),ie.Tb=K(Q,6),ie.wb=K(Q,3),ie.Pc=he(Q),ie.Pc&&he(Q)){for(pe=0;4>pe;++pe)he(Q)&&(ie.vd[pe]=q(Q,6));for(pe=0;4>pe;++pe)he(Q)&&(ie.od[pe]=q(Q,6))}if(b.L=ie.Tb==0?0:ie.zd?1:2,Q.Ka)return Wr(b,3,"cannot parse filter header");var Se=H;if(H=se=B,B=se+Se,ie=Se,b.Xb=(1<<K(b.m,2))-1,Se<3*(pe=b.Xb))M=7;else{for(se+=3*pe,ie-=3*pe,Se=0;Se<pe;++Se){var ke=M[H+0]|M[H+1]<<8|M[H+2]<<16;ke>ie&&(ke=ie),Y(b.Jc[+Se],M,se,ke),se+=ke,ie-=ke,H+=3}Y(b.Jc[+pe],M,se,ie),M=se<B?0:5}if(M!=0)return Wr(b,M,"cannot parse partitions");for(M=K(se=b.m,7),H=he(se)?q(se,4):0,B=he(se)?q(se,4):0,ie=he(se)?q(se,4):0,pe=he(se)?q(se,4):0,se=he(se)?q(se,4):0,Se=b.Qa,ke=0;4>ke;++ke){if(Se.Cb){var me=Se.Zb[ke];Se.Fb||(me+=M)}else{if(0<ke){b.pb[ke]=b.pb[0];continue}me=M}var Ee=b.pb[ke];Ee.Sc[0]=oN[ri(me+H,127)],Ee.Sc[1]=sN[ri(me+0,127)],Ee.Eb[0]=2*oN[ri(me+B,127)],Ee.Eb[1]=101581*sN[ri(me+ie,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=oN[ri(me+pe,117)],Ee.Qc[1]=sN[ri(me+se,127)],Ee.lc=me+se}if(!te.Rb)return Wr(b,4,"Not a key frame.");for(he(Q),te=b.Pa,M=0;4>M;++M){for(H=0;8>H;++H)for(B=0;3>B;++B)for(ie=0;11>ie;++ie)pe=T(Q,jne[M][H][B][ie])?K(Q,8):Pne[M][H][B][ie],te.Wc[M][H].Yb[B][ie]=pe;for(H=0;17>H;++H)te.Xc[M][H]=te.Wc[M][Cne[H]]}return b.kc=he(Q),b.kc&&(b.Bd=K(Q,8)),b.cb=1}function Oo(b,S,M,B,H,Q,te){var ie=S[H].Yb[M];for(M=0;16>H;++H){if(!T(b,ie[M+0]))return H;for(;!T(b,ie[M+1]);)if(ie=S[++H].Yb[0],M=0,H==16)return 16;var se=S[H+1].Yb;if(T(b,ie[M+2])){var pe=b,Se=0;if(T(pe,(me=ie)[(ke=M)+3]))if(T(pe,me[ke+6])){for(ie=0,ke=2*(Se=T(pe,me[ke+8]))+(me=T(pe,me[ke+9+Se])),Se=0,me=Ene[ke];me[ie];++ie)Se+=Se+T(pe,me[ie]);Se+=3+(8<<ke)}else T(pe,me[ke+7])?(Se=7+2*T(pe,165),Se+=T(pe,145)):Se=5+T(pe,159);else Se=T(pe,me[ke+4])?3+T(pe,me[ke+5]):2;ie=se[2]}else Se=1,ie=se[1];se=te+Nne[H],0>(pe=b).b&&xe(pe);var ke,me=pe.b,Ee=(ke=pe.Ca>>1)-(pe.I>>me)>>31;--pe.b,pe.Ca+=Ee,pe.Ca|=1,pe.I-=(ke+1&Ee)<<me,Q[se]=((Se^Ee)-Ee)*B[(0<H)+0]}return 16}function Lr(b){var S=b.rb[b.sb-1];S.la=0,S.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function ga(b,S,M,B,H){H=b[S+M+32*B]+(H>>3),b[S+M+32*B]=-256&H?0>H?0:255:H}function Ro(b,S,M,B,H,Q){ga(b,S,0,M,B+H),ga(b,S,1,M,B+Q),ga(b,S,2,M,B-Q),ga(b,S,3,M,B-H)}function mn(b){return(20091*b>>16)+b}function jf(b,S,M,B){var H,Q=0,te=a(16);for(H=0;4>H;++H){var ie=b[S+0]+b[S+8],se=b[S+0]-b[S+8],pe=(35468*b[S+4]>>16)-mn(b[S+12]),Se=mn(b[S+4])+(35468*b[S+12]>>16);te[Q+0]=ie+Se,te[Q+1]=se+pe,te[Q+2]=se-pe,te[Q+3]=ie-Se,Q+=4,S++}for(H=Q=0;4>H;++H)ie=(b=te[Q+0]+4)+te[Q+8],se=b-te[Q+8],pe=(35468*te[Q+4]>>16)-mn(te[Q+12]),ga(M,B,0,0,ie+(Se=mn(te[Q+4])+(35468*te[Q+12]>>16))),ga(M,B,1,0,se+pe),ga(M,B,2,0,se-pe),ga(M,B,3,0,ie-Se),Q++,B+=32}function Nm(b,S,M,B){var H=b[S+0]+4,Q=35468*b[S+4]>>16,te=mn(b[S+4]),ie=35468*b[S+1]>>16;Ro(M,B,0,H+te,b=mn(b[S+1]),ie),Ro(M,B,1,H+Q,b,ie),Ro(M,B,2,H-Q,b,ie),Ro(M,B,3,H-te,b,ie)}function Qy(b,S,M,B,H){jf(b,S,M,B),H&&jf(b,S+16,M,B+4)}function Jy(b,S,M,B){$f(b,S+0,M,B,1),$f(b,S+32,M,B+128,1)}function gs(b,S,M,B){var H;for(b=b[S+0]+4,H=0;4>H;++H)for(S=0;4>S;++S)ga(M,B,S,H,b)}function Pm(b,S,M,B){b[S+0]&&Gr(b,S+0,M,B),b[S+16]&&Gr(b,S+16,M,B+4),b[S+32]&&Gr(b,S+32,M,B+128),b[S+48]&&Gr(b,S+48,M,B+128+4)}function Vl(b,S,M,B){var H,Q=a(16);for(H=0;4>H;++H){var te=b[S+0+H]+b[S+12+H],ie=b[S+4+H]+b[S+8+H],se=b[S+4+H]-b[S+8+H],pe=b[S+0+H]-b[S+12+H];Q[0+H]=te+ie,Q[8+H]=te-ie,Q[4+H]=pe+se,Q[12+H]=pe-se}for(H=0;4>H;++H)te=(b=Q[0+4*H]+3)+Q[3+4*H],ie=Q[1+4*H]+Q[2+4*H],se=Q[1+4*H]-Q[2+4*H],pe=b-Q[3+4*H],M[B+0]=te+ie>>3,M[B+16]=pe+se>>3,M[B+32]=te-ie>>3,M[B+48]=pe-se>>3,B+=64}function va(b,S,M){var B,H=S-32,Q=$o,te=255-b[H-1];for(B=0;B<M;++B){var ie,se=Q,pe=te+b[S-1];for(ie=0;ie<M;++ie)b[S+ie]=se[pe+b[H+ie]];S+=32}}function ud(b,S){va(b,S,4)}function Tm(b,S){va(b,S,8)}function jm(b,S){va(b,S,16)}function Cm(b,S){var M;for(M=0;16>M;++M)n(b,S+32*M,b,S-32,16)}function dd(b,S){var M;for(M=16;0<M;--M)i(b,S,b[S-1],16),S+=32}function so(b,S,M){var B;for(B=0;16>B;++B)i(S,M+32*B,b,16)}function zl(b,S){var M,B=16;for(M=0;16>M;++M)B+=b[S-1+32*M]+b[S+M-32];so(B>>5,b,S)}function Zy(b,S){var M,B=8;for(M=0;16>M;++M)B+=b[S-1+32*M];so(B>>4,b,S)}function qc(b,S){var M,B=8;for(M=0;16>M;++M)B+=b[S+M-32];so(B>>4,b,S)}function lo(b,S){so(128,b,S)}function Yt(b,S,M){return b+2*S+M+2>>2}function Cf(b,S){var M,B=S-32;for(B=new Uint8Array([Yt(b[B-1],b[B+0],b[B+1]),Yt(b[B+0],b[B+1],b[B+2]),Yt(b[B+1],b[B+2],b[B+3]),Yt(b[B+2],b[B+3],b[B+4])]),M=0;4>M;++M)n(b,S+32*M,B,0,B.length)}function hd(b,S){var M=b[S-1],B=b[S-1+32],H=b[S-1+64],Q=b[S-1+96];X(b,S+0,16843009*Yt(b[S-1-32],M,B)),X(b,S+32,16843009*Yt(M,B,H)),X(b,S+64,16843009*Yt(B,H,Q)),X(b,S+96,16843009*Yt(H,Q,Q))}function km(b,S){var M,B=4;for(M=0;4>M;++M)B+=b[S+M-32]+b[S-1+32*M];for(B>>=3,M=0;4>M;++M)i(b,S+32*M,B,4)}function Wc(b,S){var M=b[S-1+0],B=b[S-1+32],H=b[S-1+64],Q=b[S-1-32],te=b[S+0-32],ie=b[S+1-32],se=b[S+2-32],pe=b[S+3-32];b[S+0+96]=Yt(B,H,b[S-1+96]),b[S+1+96]=b[S+0+64]=Yt(M,B,H),b[S+2+96]=b[S+1+64]=b[S+0+32]=Yt(Q,M,B),b[S+3+96]=b[S+2+64]=b[S+1+32]=b[S+0+0]=Yt(te,Q,M),b[S+3+64]=b[S+2+32]=b[S+1+0]=Yt(ie,te,Q),b[S+3+32]=b[S+2+0]=Yt(se,ie,te),b[S+3+0]=Yt(pe,se,ie)}function Ba(b,S){var M=b[S+1-32],B=b[S+2-32],H=b[S+3-32],Q=b[S+4-32],te=b[S+5-32],ie=b[S+6-32],se=b[S+7-32];b[S+0+0]=Yt(b[S+0-32],M,B),b[S+1+0]=b[S+0+32]=Yt(M,B,H),b[S+2+0]=b[S+1+32]=b[S+0+64]=Yt(B,H,Q),b[S+3+0]=b[S+2+32]=b[S+1+64]=b[S+0+96]=Yt(H,Q,te),b[S+3+32]=b[S+2+64]=b[S+1+96]=Yt(Q,te,ie),b[S+3+64]=b[S+2+96]=Yt(te,ie,se),b[S+3+96]=Yt(ie,se,se)}function vs(b,S){var M=b[S-1+0],B=b[S-1+32],H=b[S-1+64],Q=b[S-1-32],te=b[S+0-32],ie=b[S+1-32],se=b[S+2-32],pe=b[S+3-32];b[S+0+0]=b[S+1+64]=Q+te+1>>1,b[S+1+0]=b[S+2+64]=te+ie+1>>1,b[S+2+0]=b[S+3+64]=ie+se+1>>1,b[S+3+0]=se+pe+1>>1,b[S+0+96]=Yt(H,B,M),b[S+0+64]=Yt(B,M,Q),b[S+0+32]=b[S+1+96]=Yt(M,Q,te),b[S+1+32]=b[S+2+96]=Yt(Q,te,ie),b[S+2+32]=b[S+3+96]=Yt(te,ie,se),b[S+3+32]=Yt(ie,se,pe)}function kf(b,S){var M=b[S+0-32],B=b[S+1-32],H=b[S+2-32],Q=b[S+3-32],te=b[S+4-32],ie=b[S+5-32],se=b[S+6-32],pe=b[S+7-32];b[S+0+0]=M+B+1>>1,b[S+1+0]=b[S+0+64]=B+H+1>>1,b[S+2+0]=b[S+1+64]=H+Q+1>>1,b[S+3+0]=b[S+2+64]=Q+te+1>>1,b[S+0+32]=Yt(M,B,H),b[S+1+32]=b[S+0+96]=Yt(B,H,Q),b[S+2+32]=b[S+1+96]=Yt(H,Q,te),b[S+3+32]=b[S+2+96]=Yt(Q,te,ie),b[S+3+64]=Yt(te,ie,se),b[S+3+96]=Yt(ie,se,pe)}function Sn(b,S){var M=b[S-1+0],B=b[S-1+32],H=b[S-1+64],Q=b[S-1+96];b[S+0+0]=M+B+1>>1,b[S+2+0]=b[S+0+32]=B+H+1>>1,b[S+2+32]=b[S+0+64]=H+Q+1>>1,b[S+1+0]=Yt(M,B,H),b[S+3+0]=b[S+1+32]=Yt(B,H,Q),b[S+3+32]=b[S+1+64]=Yt(H,Q,Q),b[S+3+64]=b[S+2+64]=b[S+0+96]=b[S+1+96]=b[S+2+96]=b[S+3+96]=Q}function fd(b,S){var M=b[S-1+0],B=b[S-1+32],H=b[S-1+64],Q=b[S-1+96],te=b[S-1-32],ie=b[S+0-32],se=b[S+1-32],pe=b[S+2-32];b[S+0+0]=b[S+2+32]=M+te+1>>1,b[S+0+32]=b[S+2+64]=B+M+1>>1,b[S+0+64]=b[S+2+96]=H+B+1>>1,b[S+0+96]=Q+H+1>>1,b[S+3+0]=Yt(ie,se,pe),b[S+2+0]=Yt(te,ie,se),b[S+1+0]=b[S+3+32]=Yt(M,te,ie),b[S+1+32]=b[S+3+64]=Yt(B,M,te),b[S+1+64]=b[S+3+96]=Yt(H,B,M),b[S+1+96]=Yt(Q,H,B)}function If(b,S){var M;for(M=0;8>M;++M)n(b,S+32*M,b,S-32,8)}function ql(b,S){var M;for(M=0;8>M;++M)i(b,S,b[S-1],8),S+=32}function Hc(b,S,M){var B;for(B=0;8>B;++B)i(S,M+32*B,b,8)}function Gc(b,S){var M,B=8;for(M=0;8>M;++M)B+=b[S+M-32]+b[S-1+32*M];Hc(B>>4,b,S)}function pd(b,S){var M,B=4;for(M=0;8>M;++M)B+=b[S+M-32];Hc(B>>3,b,S)}function co(b,S){var M,B=4;for(M=0;8>M;++M)B+=b[S-1+32*M];Hc(B>>3,b,S)}function md(b,S){Hc(128,b,S)}function Kc(b,S,M){var B=b[S-M],H=b[S+0],Q=3*(H-B)+tN[1020+b[S-2*M]-b[S+M]],te=fw[112+(Q+4>>3)];b[S-M]=$o[255+B+fw[112+(Q+3>>3)]],b[S+0]=$o[255+H-te]}function Do(b,S,M,B){var H=b[S+0],Q=b[S+M];return _s[255+b[S-2*M]-b[S-M]]>B||_s[255+Q-H]>B}function gd(b,S,M,B){return 4*_s[255+b[S-M]-b[S+0]]+_s[255+b[S-2*M]-b[S+M]]<=B}function Wl(b,S,M,B,H){var Q=b[S-3*M],te=b[S-2*M],ie=b[S-M],se=b[S+0],pe=b[S+M],Se=b[S+2*M],ke=b[S+3*M];return 4*_s[255+ie-se]+_s[255+te-pe]>B?0:_s[255+b[S-4*M]-Q]<=H&&_s[255+Q-te]<=H&&_s[255+te-ie]<=H&&_s[255+ke-Se]<=H&&_s[255+Se-pe]<=H&&_s[255+pe-se]<=H}function Hl(b,S,M,B){var H=2*B+1;for(B=0;16>B;++B)gd(b,S+B,M,H)&&Kc(b,S+B,M)}function Gl(b,S,M,B){var H=2*B+1;for(B=0;16>B;++B)gd(b,S+B*M,1,H)&&Kc(b,S+B*M,1)}function Yc(b,S,M,B){var H;for(H=3;0<H;--H)Hl(b,S+=4*M,M,B)}function Im(b,S,M,B){var H;for(H=3;0<H;--H)Gl(b,S+=4,M,B)}function ys(b,S,M,B,H,Q,te,ie){for(Q=2*Q+1;0<H--;){if(Wl(b,S,M,Q,te))if(Do(b,S,M,ie))Kc(b,S,M);else{var se=b,pe=S,Se=M,ke=se[pe-2*Se],me=se[pe-Se],Ee=se[pe+0],je=se[pe+Se],Me=se[pe+2*Se],Ce=27*(Ve=tN[1020+3*(Ee-me)+tN[1020+ke-je]])+63>>7,Ue=18*Ve+63>>7,Ve=9*Ve+63>>7;se[pe-3*Se]=$o[255+se[pe-3*Se]+Ve],se[pe-2*Se]=$o[255+ke+Ue],se[pe-Se]=$o[255+me+Ce],se[pe+0]=$o[255+Ee-Ce],se[pe+Se]=$o[255+je-Ue],se[pe+2*Se]=$o[255+Me-Ve]}S+=B}}function Ua(b,S,M,B,H,Q,te,ie){for(Q=2*Q+1;0<H--;){if(Wl(b,S,M,Q,te))if(Do(b,S,M,ie))Kc(b,S,M);else{var se=b,pe=S,Se=M,ke=se[pe-Se],me=se[pe+0],Ee=se[pe+Se],je=fw[112+(4+(Me=3*(me-ke))>>3)],Me=fw[112+(Me+3>>3)],Ce=je+1>>1;se[pe-2*Se]=$o[255+se[pe-2*Se]+Ce],se[pe-Se]=$o[255+ke+Me],se[pe+0]=$o[255+me-je],se[pe+Se]=$o[255+Ee-Ce]}S+=B}}function Of(b,S,M,B,H,Q){ys(b,S,M,1,16,B,H,Q)}function Rf(b,S,M,B,H,Q){ys(b,S,1,M,16,B,H,Q)}function tl(b,S,M,B,H,Q){var te;for(te=3;0<te;--te)Ua(b,S+=4*M,M,1,16,B,H,Q)}function vd(b,S,M,B,H,Q){var te;for(te=3;0<te;--te)Ua(b,S+=4,1,M,16,B,H,Q)}function R(b,S,M,B,H,Q,te,ie){ys(b,S,H,1,8,Q,te,ie),ys(M,B,H,1,8,Q,te,ie)}function W(b,S,M,B,H,Q,te,ie){ys(b,S,1,H,8,Q,te,ie),ys(M,B,1,H,8,Q,te,ie)}function fe(b,S,M,B,H,Q,te,ie){Ua(b,S+4*H,H,1,8,Q,te,ie),Ua(M,B+4*H,H,1,8,Q,te,ie)}function be(b,S,M,B,H,Q,te,ie){Ua(b,S+4,1,H,8,Q,te,ie),Ua(M,B+4,1,H,8,Q,te,ie)}function Pe(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function We(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dt(){this.ua=0,this.Wa=new Re,this.vb=new Re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new L}function wt(){this.xb=this.a=0,this.l=new cd,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dt,this.ab=0,this.gc=o(4,We),this.Oc=0}function Bt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function kt(b,S,M,B,H,Q,te){for(b=b==null?0:b[S+0],S=0;S<te;++S)H[Q+S]=b+M[B+S]&255,b=H[Q+S]}function jr(b,S,M,B,H,Q,te){var ie;if(b==null)kt(null,null,M,B,H,Q,te);else for(ie=0;ie<te;++ie)H[Q+ie]=b[S+ie]+M[B+ie]&255}function An(b,S,M,B,H,Q,te){if(b==null)kt(null,null,M,B,H,Q,te);else{var ie,se=b[S+0],pe=se,Se=se;for(ie=0;ie<te;++ie)pe=Se+(se=b[S+ie])-pe,Se=M[B+ie]+(-256&pe?0>pe?0:255:pe)&255,pe=se,H[Q+ie]=Se}}function gn(b,S,M,B){var H=S.width,Q=S.o;if(e(b!=null&&S!=null),0>M||0>=B||M+B>Q)return null;if(!b.Cc){if(b.ga==null){var te;if(b.ga=new Bt,(te=b.ga==null)||(te=S.width*S.o,e(b.Gb.length==0),b.Gb=a(te),b.Uc=0,b.Gb==null?te=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,te=1),te=!te),!te){te=b.ga;var ie=b.Fa,se=b.P,pe=b.qc,Se=b.mb,ke=b.nb,me=se+1,Ee=pe-1,je=te.l;if(e(ie!=null&&Se!=null&&S!=null),Nd[0]=null,Nd[1]=kt,Nd[2]=jr,Nd[3]=An,te.ca=Se,te.tb=ke,te.c=S.width,te.i=S.height,e(0<te.c&&0<te.i),1>=pe)S=0;else if(te.$a=3&ie[se+0],te.Z=ie[se+0]>>2&3,te.Lc=ie[se+0]>>4&3,se=ie[se+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||se)S=0;else if(je.put=it,je.ac=lr,je.bc=Yn,je.ma=te,je.width=S.width,je.height=S.height,je.Da=S.Da,je.v=S.v,je.va=S.va,je.j=S.j,je.o=S.o,te.$a)e:{e(te.$a==1),S=Dr();t:for(;;){if(S==null){S=0;break e}if(e(te!=null),te.mc=S,S.c=te.c,S.i=te.i,S.l=te.l,S.l.ma=te,S.l.width=te.c,S.l.height=te.i,S.a=0,Z(S.m,ie,me,Ee),!Wn(te.c,te.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&yr(S.s)?(te.ic=1,ie=S.c*S.i,S.Ta=null,S.Ua=0,S.V=a(ie),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(te.ic=0,S=fs(S,te.c)),!S))break t;S=1;break e}te.mc=null,S=0}else S=Ee>=te.c*te.i;te=!S}if(te)return null;b.ga.Lc!=1?b.Ga=0:B=Q-M}e(b.ga!=null),e(M+B<=Q);e:{if(S=(ie=b.ga).c,Q=ie.l.o,ie.$a==0){if(me=b.rc,Ee=b.Vc,je=b.Fa,se=b.P+1+M*S,pe=b.mb,Se=b.nb+M*S,e(se<=b.P+b.qc),ie.Z!=0)for(e(Nd[ie.Z]!=null),te=0;te<B;++te)Nd[ie.Z](me,Ee,je,se,pe,Se,S),me=pe,Ee=Se,Se+=S,se+=S;else for(te=0;te<B;++te)n(pe,Se,je,se,S),me=pe,Ee=Se,Se+=S,se+=S;b.rc=me,b.Vc=Ee}else{if(e(ie.mc!=null),S=M+B,e((te=ie.mc)!=null),e(S<=te.i),te.C>=S)S=1;else if(ie.ic||Te(),ie.ic){ie=te.V,me=te.Ba,Ee=te.c;var Me=te.i,Ce=(je=1,se=te.$/Ee,pe=te.$%Ee,Se=te.m,ke=te.s,te.$),Ue=Ee*Me,Ve=Ee*S,Ye=ke.wc,Ke=Ce<Ve?xt(ke,pe,se):null;e(Ce<=Ue),e(S<=Me),e(yr(ke));t:for(;;){for(;!Se.h&&Ce<Ve;){if(pe&Ye||(Ke=xt(ke,pe,se)),e(Ke!=null),ne(Se),256>(Me=Jr(Ke.G[0],Ke.H[0],Se)))ie[me+Ce]=Me,++Ce,++pe>=Ee&&(pe=0,++se<=S&&!(se%16)&&un(te,se));else{if(!(280>Me)){je=0;break t}Me=Rr(Me-256,Se);var It,pt=Jr(Ke.G[4],Ke.H[4],Se);if(ne(Se),!(Ce>=(pt=ln(Ee,pt=Rr(pt,Se)))&&Ue-Ce>=Me)){je=0;break t}for(It=0;It<Me;++It)ie[me+Ce+It]=ie[me+Ce+It-pt];for(Ce+=Me,pe+=Me;pe>=Ee;)pe-=Ee,++se<=S&&!(se%16)&&un(te,se);Ce<Ve&&pe&Ye&&(Ke=xt(ke,pe,se))}e(Se.h==oe(Se))}un(te,se>S?S:se);break t}!je||Se.h&&Ce<Ue?(je=0,te.a=Se.h?5:3):te.$=Ce,S=je}else S=Dn(te,te.V,te.Ba,te.c,te.i,S,Uc);if(!S){B=0;break e}}M+B>=Q&&(b.Cc=1),B=1}if(!B)return null;if(b.Cc&&((B=b.ga)!=null&&(B.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+M*H}function w(b,S,M,B,H,Q){for(;0<H--;){var te,ie=b,se=S+(M?1:0),pe=b,Se=S+(M?0:3);for(te=0;te<B;++te){var ke=pe[Se+4*te];ke!=255&&(ke*=32897,ie[se+4*te+0]=ie[se+4*te+0]*ke>>23,ie[se+4*te+1]=ie[se+4*te+1]*ke>>23,ie[se+4*te+2]=ie[se+4*te+2]*ke>>23)}S+=Q}}function $(b,S,M,B,H){for(;0<B--;){var Q;for(Q=0;Q<M;++Q){var te=b[S+2*Q+0],ie=15&(pe=b[S+2*Q+1]),se=4369*ie,pe=(240&pe|pe>>4)*se>>16;b[S+2*Q+0]=(240&te|te>>4)*se>>16&240|(15&te|te<<4)*se>>16>>4&15,b[S+2*Q+1]=240&pe|ie}S+=H}}function U(b,S,M,B,H,Q,te,ie){var se,pe,Se=255;for(pe=0;pe<H;++pe){for(se=0;se<B;++se){var ke=b[S+se];Q[te+4*se]=ke,Se&=ke}S+=M,te+=ie}return Se!=255}function ae(b,S,M,B,H){var Q;for(Q=0;Q<H;++Q)M[B+Q]=b[S+Q]>>8}function Te(){c0=w,ED=$,ND=U,PD=ae}function Ie(b,S,M){k[b]=function(B,H,Q,te,ie,se,pe,Se,ke,me,Ee,je,Me,Ce,Ue,Ve,Ye){var Ke,It=Ye-1>>1,pt=ie[se+0]|pe[Se+0]<<16,cr=ke[me+0]|Ee[je+0]<<16;e(B!=null);var At=3*pt+cr+131074>>2;for(S(B[H+0],255&At,At>>16,Me,Ce),Q!=null&&(At=3*cr+pt+131074>>2,S(Q[te+0],255&At,At>>16,Ue,Ve)),Ke=1;Ke<=It;++Ke){var Er=ie[se+Ke]|pe[Se+Ke]<<16,Ii=ke[me+Ke]|Ee[je+Ke]<<16,ur=pt+Er+cr+Ii+524296,Et=ur+2*(Er+cr)>>3;At=Et+pt>>1,pt=(ur=ur+2*(pt+Ii)>>3)+Er>>1,S(B[H+2*Ke-1],255&At,At>>16,Me,Ce+(2*Ke-1)*M),S(B[H+2*Ke-0],255&pt,pt>>16,Me,Ce+(2*Ke-0)*M),Q!=null&&(At=ur+cr>>1,pt=Et+Ii>>1,S(Q[te+2*Ke-1],255&At,At>>16,Ue,Ve+(2*Ke-1)*M),S(Q[te+2*Ke+0],255&pt,pt>>16,Ue,Ve+(2*Ke+0)*M)),pt=Er,cr=Ii}1&Ye||(At=3*pt+cr+131074>>2,S(B[H+Ye-1],255&At,At>>16,Me,Ce+(Ye-1)*M),Q!=null&&(At=3*cr+pt+131074>>2,S(Q[te+Ye-1],255&At,At>>16,Ue,Ve+(Ye-1)*M)))}}function Je(){Ss[pw]=Ine,Ss[mw]=$D,Ss[OD]=One,Ss[gw]=FD,Ss[vw]=BD,Ss[rN]=UD,Ss[RD]=Rne,Ss[nN]=$D,Ss[iN]=FD,Ss[yw]=BD,Ss[aN]=UD}function Xt(b){return b&~Dne?0>b?0:255:b>>VD}function vn(b,S){return Xt((19077*b>>8)+(26149*S>>8)-14234)}function xr(b,S,M){return Xt((19077*b>>8)-(6419*S>>8)-(13320*M>>8)+8708)}function En(b,S){return Xt((19077*b>>8)+(33050*S>>8)-17685)}function Gi(b,S,M,B,H){B[H+0]=vn(b,M),B[H+1]=xr(b,S,M),B[H+2]=En(b,S)}function Va(b,S,M,B,H){B[H+0]=En(b,S),B[H+1]=xr(b,S,M),B[H+2]=vn(b,M)}function Ln(b,S,M,B,H){var Q=xr(b,S,M);S=Q<<3&224|En(b,S)>>3,B[H+0]=248&vn(b,M)|Q>>5,B[H+1]=S}function ya(b,S,M,B,H){var Q=240&En(b,S)|15;B[H+0]=240&vn(b,M)|xr(b,S,M)>>4,B[H+1]=Q}function bs(b,S,M,B,H){B[H+0]=255,Gi(b,S,M,B,H+1)}function Xc(b,S,M,B,H){Va(b,S,M,B,H),B[H+3]=255}function e0(b,S,M,B,H){Gi(b,S,M,B,H),B[H+3]=255}function ri(b,S){return 0>b?0:b>S?S:b}function Qc(b,S,M){k[b]=function(B,H,Q,te,ie,se,pe,Se,ke){for(var me=Se+(-2&ke)*M;Se!=me;)S(B[H+0],Q[te+0],ie[se+0],pe,Se),S(B[H+1],Q[te+0],ie[se+0],pe,Se+M),H+=2,++te,++se,Se+=2*M;1&ke&&S(B[H+0],Q[te+0],ie[se+0],pe,Se)}}function Om(b,S,M){return M==0?b==0?S==0?6:5:S==0?4:0:M}function uw(b,S,M,B,H){switch(b>>>30){case 3:$f(S,M,B,H,0);break;case 2:ws(S,M,B,H);break;case 1:Gr(S,M,B,H)}}function xs(b,S){var M,B,H=S.M,Q=S.Nb,te=b.oc,ie=b.pc+40,se=b.oc,pe=b.pc+584,Se=b.oc,ke=b.pc+600;for(M=0;16>M;++M)te[ie+32*M-1]=129;for(M=0;8>M;++M)se[pe+32*M-1]=129,Se[ke+32*M-1]=129;for(0<H?te[ie-1-32]=se[pe-1-32]=Se[ke-1-32]=129:(i(te,ie-32-1,127,21),i(se,pe-32-1,127,9),i(Se,ke-32-1,127,9)),B=0;B<b.za;++B){var me=S.ya[S.aa+B];if(0<B){for(M=-1;16>M;++M)n(te,ie+32*M-4,te,ie+32*M+12,4);for(M=-1;8>M;++M)n(se,pe+32*M-4,se,pe+32*M+4,4),n(Se,ke+32*M-4,Se,ke+32*M+4,4)}var Ee=b.Gd,je=b.Hd+B,Me=me.ad,Ce=me.Hc;if(0<H&&(n(te,ie-32,Ee[je].y,0,16),n(se,pe-32,Ee[je].f,0,8),n(Se,ke-32,Ee[je].ea,0,8)),me.Za){var Ue=te,Ve=ie-32+16;for(0<H&&(B>=b.za-1?i(Ue,Ve,Ee[je].y[15],4):n(Ue,Ve,Ee[je+1].y,0,4)),M=0;4>M;M++)Ue[Ve+128+M]=Ue[Ve+256+M]=Ue[Ve+384+M]=Ue[Ve+0+M];for(M=0;16>M;++M,Ce<<=2)Ue=te,Ve=ie+qD[M],rl[me.Ob[M]](Ue,Ve),uw(Ce,Me,16*+M,Ue,Ve)}else if(Ue=Om(B,H,me.Ob[0]),Ed[Ue](te,ie),Ce!=0)for(M=0;16>M;++M,Ce<<=2)uw(Ce,Me,16*+M,te,ie+qD[M]);for(M=me.Gc,Ue=Om(B,H,me.Dd),eu[Ue](se,pe),eu[Ue](Se,ke),Ce=Me,Ue=se,Ve=pe,255&(me=0|M)&&(170&me?Xl(Ce,256,Ue,Ve):yn(Ce,256,Ue,Ve)),me=Se,Ce=ke,255&(M>>=8)&&(170&M?Xl(Me,320,me,Ce):yn(Me,320,me,Ce)),H<b.Ub-1&&(n(Ee[je].y,0,te,ie+480,16),n(Ee[je].f,0,se,pe+224,8),n(Ee[je].ea,0,Se,ke+224,8)),M=8*Q*b.B,Ee=b.sa,je=b.ta+16*B+16*Q*b.R,Me=b.qa,me=b.ra+8*B+M,Ce=b.Ha,Ue=b.Ia+8*B+M,M=0;16>M;++M)n(Ee,je+M*b.R,te,ie+32*M,16);for(M=0;8>M;++M)n(Me,me+M*b.B,se,pe+32*M,8),n(Ce,Ue+M*b.B,Se,ke+32*M,8)}}function Df(b,S,M,B,H,Q,te,ie,se){var pe=[0],Se=[0],ke=0,me=se!=null?se.kd:0,Ee=se??new $e;if(b==null||12>M)return 7;Ee.data=b,Ee.w=S,Ee.ha=M,S=[S],M=[M],Ee.gb=[Ee.gb];e:{var je=S,Me=M,Ce=Ee.gb;if(e(b!=null),e(Me!=null),e(Ce!=null),Ce[0]=0,12<=Me[0]&&!r(b,je[0],"RIFF")){if(r(b,je[0]+8,"WEBP")){Ce=3;break e}var Ue=ve(b,je[0]+4);if(12>Ue||4294967286<Ue){Ce=3;break e}if(me&&Ue>Me[0]-8){Ce=7;break e}Ce[0]=Ue,je[0]+=12,Me[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Ue=0<Ee.gb[0],M=M[0];;){e:{var Ve=b;Me=S,Ce=M;var Ye=pe,Ke=Se,It=je=[0];if((At=ke=[ke])[0]=0,8>Ce[0])Ce=7;else{if(!r(Ve,Me[0],"VP8X")){if(ve(Ve,Me[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var pt=ve(Ve,Me[0]+8),cr=1+de(Ve,Me[0]+12);if(2147483648<=cr*(Ve=1+de(Ve,Me[0]+15))){Ce=3;break e}It!=null&&(It[0]=pt),Ye!=null&&(Ye[0]=cr),Ke!=null&&(Ke[0]=Ve),Me[0]+=18,Ce[0]-=18,At[0]=1}Ce=0}}if(ke=ke[0],je=je[0],Ce!=0)return Ce;if(Me=!!(2&je),!Ue&&ke)return 3;if(Q!=null&&(Q[0]=!!(16&je)),te!=null&&(te[0]=Me),ie!=null&&(ie[0]=0),te=pe[0],je=Se[0],ke&&Me&&se==null){Ce=0;break}if(4>M){Ce=7;break}if(Ue&&ke||!Ue&&!ke&&!r(b,S[0],"ALPH")){M=[M],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{pt=b,Ce=S,Ue=M;var At=Ee.gb;Ye=Ee.na,Ke=Ee.P,It=Ee.Sa,cr=22,e(pt!=null),e(Ue!=null),Ve=Ce[0];var Er=Ue[0];for(e(Ye!=null),e(It!=null),Ye[0]=null,Ke[0]=null,It[0]=0;;){if(Ce[0]=Ve,Ue[0]=Er,8>Er){Ce=7;break e}var Ii=ve(pt,Ve+4);if(4294967286<Ii){Ce=3;break e}var ur=8+Ii+1&-2;if(cr+=ur,0<At&&cr>At){Ce=3;break e}if(!r(pt,Ve,"VP8 ")||!r(pt,Ve,"VP8L")){Ce=0;break e}if(Er[0]<ur){Ce=7;break e}r(pt,Ve,"ALPH")||(Ye[0]=pt,Ke[0]=Ve+8,It[0]=Ii),Ve+=ur,Er-=ur}}if(M=M[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],Ce!=0)break}M=[M],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(At=b,Ce=S,Ue=M,Ye=Ee.gb[0],Ke=Ee.Ja,It=Ee.xa,pt=Ce[0],Ve=!r(At,pt,"VP8 "),cr=!r(At,pt,"VP8L"),e(At!=null),e(Ue!=null),e(Ke!=null),e(It!=null),8>Ue[0])Ce=7;else{if(Ve||cr){if(At=ve(At,pt+4),12<=Ye&&At>Ye-12){Ce=3;break e}if(me&&At>Ue[0]-8){Ce=7;break e}Ke[0]=At,Ce[0]+=8,Ue[0]-=8,It[0]=cr}else It[0]=5<=Ue[0]&&At[pt+0]==47&&!(At[pt+4]>>5),Ke[0]=Ue[0];Ce=0}if(M=M[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],S=S[0],Ce!=0)break;if(4294967286<Ee.Ja)return 3;if(ie==null||Me||(ie[0]=Ee.xa?2:1),te=[te],je=[je],Ee.xa){if(5>M){Ce=7;break}ie=te,me=je,Me=Q,b==null||5>M?b=0:5<=M&&b[S+0]==47&&!(b[S+4]>>5)?(Ue=[0],At=[0],Ye=[0],Z(Ke=new V,b,S,M),Rn(Ke,Ue,At,Ye)?(ie!=null&&(ie[0]=Ue[0]),me!=null&&(me[0]=At[0]),Me!=null&&(Me[0]=Ye[0]),b=1):b=0):b=0}else{if(10>M){Ce=7;break}ie=je,b==null||10>M||!Bl(b,S+3,M-3)?b=0:(me=b[S+0]|b[S+1]<<8|b[S+2]<<16,Me=16383&(b[S+7]<<8|b[S+6]),b=16383&(b[S+9]<<8|b[S+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Ee.Ja||!Me||!b?b=0:(te&&(te[0]=Me),ie&&(ie[0]=b),b=1))}if(!b||(te=te[0],je=je[0],ke&&(pe[0]!=te||Se[0]!=je)))return 3;se!=null&&(se[0]=Ee,se.offset=S-se.w,e(4294967286>S-se.w),e(se.offset==se.ha-M));break}return Ce==0||Ce==7&&ke&&se==null?(Q!=null&&(Q[0]|=Ee.na!=null&&0<Ee.na.length),B!=null&&(B[0]=te),H!=null&&(H[0]=je),0):Ce}function t0(b,S,M){var B=S.width,H=S.height,Q=0,te=0,ie=B,se=H;if(S.Da=b!=null&&0<b.Da,S.Da&&(ie=b.cd,se=b.bd,Q=b.v,te=b.j,11>M||(Q&=-2,te&=-2),0>Q||0>te||0>=ie||0>=se||Q+ie>B||te+se>H))return 0;if(S.v=Q,S.j=te,S.va=Q+ie,S.o=te+se,S.U=ie,S.T=se,S.da=b!=null&&0<b.da,S.da){if(!Le(ie,se,M=[b.ib],Q=[b.hb]))return 0;S.ib=M[0],S.hb=Q[0]}return S.ob=b!=null&&b.ob,S.Kb=b==null||!b.Sd,S.da&&(S.ob=S.ib<3*B/4&&S.hb<3*H/4,S.Kb=0),1}function r0(b){if(b==null)return 2;if(11>b.S){var S=b.f.RGBA;S.fb+=(b.height-1)*S.A,S.A=-S.A}else S=b.f.kb,b=b.height,S.O+=(b-1)*S.fa,S.fa=-S.fa,S.N+=(b-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(b-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(b-1)*S.lb,S.lb=-S.lb);return 0}function yd(b,S,M,B){if(B==null||0>=b||0>=S)return 2;if(M!=null){if(M.Da){var H=M.cd,Q=M.bd,te=-2&M.v,ie=-2&M.j;if(0>te||0>ie||0>=H||0>=Q||te+H>b||ie+Q>S)return 2;b=H,S=Q}if(M.da){if(!Le(b,S,H=[M.ib],Q=[M.hb]))return 2;b=H[0],S=Q[0]}}B.width=b,B.height=S;e:{var se=B.width,pe=B.height;if(b=B.S,0>=se||0>=pe||!(b>=pw&&13>b))b=2;else{if(0>=B.Rd&&B.sd==null){te=Q=H=S=0;var Se=(ie=se*WD[b])*pe;if(11>b||(Q=(pe+1)/2*(S=(se+1)/2),b==12&&(te=(H=se)*pe)),(pe=a(Se+2*Q+te))==null){b=1;break e}B.sd=pe,11>b?((se=B.f.RGBA).eb=pe,se.fb=0,se.A=ie,se.size=Se):((se=B.f.kb).y=pe,se.O=0,se.fa=ie,se.Fd=Se,se.f=pe,se.N=0+Se,se.Ab=S,se.Cd=Q,se.ea=pe,se.W=0+Se+Q,se.Db=S,se.Ed=Q,b==12&&(se.F=pe,se.J=0+Se+2*Q),se.Tc=te,se.lb=H)}if(S=1,H=B.S,Q=B.width,te=B.height,H>=pw&&13>H)if(11>H)b=B.f.RGBA,S&=(ie=Math.abs(b.A))*(te-1)+Q<=b.size,S&=ie>=Q*WD[H],S&=b.eb!=null;else{b=B.f.kb,ie=(Q+1)/2,Se=(te+1)/2,se=Math.abs(b.fa),pe=Math.abs(b.Ab);var ke=Math.abs(b.Db),me=Math.abs(b.lb),Ee=me*(te-1)+Q;S&=se*(te-1)+Q<=b.Fd,S&=pe*(Se-1)+ie<=b.Cd,S=(S&=ke*(Se-1)+ie<=b.Ed)&se>=Q&pe>=ie&ke>=ie,S&=b.y!=null,S&=b.f!=null,S&=b.ea!=null,H==12&&(S&=me>=Q,S&=Ee<=b.Tc,S&=b.F!=null)}else S=0;b=S?0:2}}return b!=0||M!=null&&M.fd&&(b=r0(B)),b}var Lf=64,Lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mo=24,bd=32,Jc=8,xd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(b){return b},k.Predictor2=function(b,S,M){return S[M+0]},k.Predictor3=function(b,S,M){return S[M+1]},k.Predictor4=function(b,S,M){return S[M-1]},k.Predictor5=function(b,S,M){return ze(ze(b,S[M+1]),S[M+0])},k.Predictor6=function(b,S,M){return ze(b,S[M-1])},k.Predictor7=function(b,S,M){return ze(b,S[M+0])},k.Predictor8=function(b,S,M){return ze(S[M-1],S[M+0])},k.Predictor9=function(b,S,M){return ze(S[M+0],S[M+1])},k.Predictor10=function(b,S,M){return ze(ze(b,S[M-1]),ze(S[M+0],S[M+1]))},k.Predictor11=function(b,S,M){var B=S[M+0];return 0>=Ze(B>>24&255,b>>24&255,(S=S[M-1])>>24&255)+Ze(B>>16&255,b>>16&255,S>>16&255)+Ze(B>>8&255,b>>8&255,S>>8&255)+Ze(255&B,255&b,255&S)?B:b},k.Predictor12=function(b,S,M){var B=S[M+0];return(st((b>>24&255)+(B>>24&255)-((S=S[M-1])>>24&255))<<24|st((b>>16&255)+(B>>16&255)-(S>>16&255))<<16|st((b>>8&255)+(B>>8&255)-(S>>8&255))<<8|st((255&b)+(255&B)-(255&S)))>>>0},k.Predictor13=function(b,S,M){var B=S[M-1];return(nt((b=ze(b,S[M+0]))>>24&255,B>>24&255)<<24|nt(b>>16&255,B>>16&255)<<16|nt(b>>8&255,B>>8&255)<<8|nt(255&b,255&B))>>>0};var n0=k.PredictorAdd0;k.PredictorAdd1=_t,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var Rm=k.PredictorAdd2;at("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),at("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var di,dw=k.ColorIndexInverseTransform,Kl=k.MapARGB,Yl=k.VP8LColorIndexInverseTransformAlpha,i0=k.MapAlpha,a0=k.VP8LPredictorsAdd=[];a0.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var o0,s0,wd,_d,Sd,Mf,Ad,$f,ws,Xl,Gr,yn,hi,ki,Zc,l0,Dm,hw,bD,xD,wD,_D,SD,AD,c0,ED,ND,PD,TD=a(511),jD=a(2041),CD=a(225),kD=a(767),ID=0,tN=jD,fw=CD,$o=kD,_s=TD,pw=0,mw=1,OD=2,gw=3,vw=4,rN=5,RD=6,nN=7,iN=8,yw=9,aN=10,yne=[2,3,7],bne=[3,3,11],DD=[280,256,256,256,40],xne=[0,1,1,1,0],wne=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_ne=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Sne=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ane=8,oN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],u0=null,Ene=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Nne=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],LD=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pne=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tne=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jne=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Cne=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ed=[],rl=[],eu=[],kne=1,MD=2,Nd=[],Ss=[];Ie("UpsampleRgbLinePair",Gi,3),Ie("UpsampleBgrLinePair",Va,3),Ie("UpsampleRgbaLinePair",e0,4),Ie("UpsampleBgraLinePair",Xc,4),Ie("UpsampleArgbLinePair",bs,4),Ie("UpsampleRgba4444LinePair",ya,2),Ie("UpsampleRgb565LinePair",Ln,2);var Ine=k.UpsampleRgbLinePair,One=k.UpsampleBgrLinePair,$D=k.UpsampleRgbaLinePair,FD=k.UpsampleBgraLinePair,BD=k.UpsampleArgbLinePair,UD=k.UpsampleRgba4444LinePair,Rne=k.UpsampleRgb565LinePair,bw=16,xw=1<<bw-1,d0=-227,lN=482,VD=6,Dne=(256<<VD)-1,zD=0,Lne=a(256),Mne=a(256),$ne=a(256),Fne=a(256),Bne=a(lN-d0),Une=a(lN-d0);Qc("YuvToRgbRow",Gi,3),Qc("YuvToBgrRow",Va,3),Qc("YuvToRgbaRow",e0,4),Qc("YuvToBgraRow",Xc,4),Qc("YuvToArgbRow",bs,4),Qc("YuvToRgba4444Row",ya,2),Qc("YuvToRgb565Row",Ln,2);var qD=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ww=[0,2,8],Vne=[8,7,6,4,4,2,2,2,1,1,1,1],zne=1;this.WebPDecodeRGBA=function(b,S,M,B,H){var Q=mw,te=new Pe,ie=new Dt;te.ba=ie,ie.S=Q,ie.width=[ie.width],ie.height=[ie.height];var se=ie.width,pe=ie.height,Se=new bt;if(Se==null||b==null)var ke=2;else e(Se!=null),ke=Df(b,S,M,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(ke!=0?se=0:(se!=null&&(se[0]=Se.width[0]),pe!=null&&(pe[0]=Se.height[0]),se=1),se){ie.width=ie.width[0],ie.height=ie.height[0],B!=null&&(B[0]=ie.width),H!=null&&(H[0]=ie.height);e:{if(B=new cd,(H=new $e).data=b,H.w=S,H.ha=M,H.kd=1,S=[0],e(H!=null),((b=Df(H.data,H.w,H.ha,null,null,null,S,null,H))==0||b==7)&&S[0]&&(b=4),(S=b)==0){if(e(te!=null),B.data=H.data,B.w=H.w+H.offset,B.ha=H.ha-H.offset,B.put=it,B.ac=lr,B.bc=Yn,B.ma=te,H.xa){if((b=Dr())==null){te=1;break e}if(function(me,Ee){var je=[0],Me=[0],Ce=[0];t:for(;;){if(me==null)return 0;if(Ee==null)return me.a=2,0;if(me.l=Ee,me.a=0,Z(me.m,Ee.data,Ee.w,Ee.ha),!Rn(me.m,je,Me,Ce)){me.a=3;break t}if(me.xb=MD,Ee.width=je[0],Ee.height=Me[0],!Wn(je[0],Me[0],1,me,null))break t;return 1}return e(me.a!=0),0}(b,B)){if(B=(S=yd(B.width,B.height,te.Oa,te.ba))==0){t:{B=b;r:for(;;){if(B==null){B=0;break t}if(e(B.s.yc!=null),e(B.s.Ya!=null),e(0<B.s.Wb),e((M=B.l)!=null),e((H=M.ma)!=null),B.xb!=0){if(B.ca=H.ba,B.tb=H.tb,e(B.ca!=null),!t0(H.Oa,M,gw)){B.a=2;break r}if(!fs(B,M.width)||M.da)break r;if((M.da||$t(B.ca.S))&&Te(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&Te()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!ee(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!Dn(B,B.V,B.Ba,B.c,B.i,M.o,Ar))break r;H.Dc=B.Ma,B=1;break t}e(B.a!=0),B=0}B=!B}B&&(S=b.a)}else S=b.a}else{if((b=new ms)==null){te=1;break e}if(b.Fa=H.na,b.P=H.P,b.qc=H.Sa,Ul(b,B)){if((S=yd(B.width,B.height,te.Oa,te.ba))==0){if(b.Aa=0,M=te.Oa,e((H=b)!=null),M!=null){if(0<(se=0>(se=M.Md)?0:100<se?255:255*se/100)){for(pe=Se=0;4>pe;++pe)12>(ke=H.pb[pe]).lc&&(ke.ia=se*Vne[0>ke.lc?0:ke.lc]>>3),Se|=ke.ia;Se&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=M.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(me,Ee){if(me==null)return 0;if(Ee==null)return Wr(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!Ul(me,Ee))return 0;if(e(me.cb),Ee.ac==null||Ee.ac(Ee)){Ee.ob&&(me.L=0);var je=ww[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Ee.v-je>>4,me.zb=Ee.j-je>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Ee.o+15+je>>4,me.Hb=Ee.va+15+je>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var Me=me.ed;for(je=0;4>je;++je){var Ce;if(me.Qa.Cb){var Ue=me.Qa.Lb[je];me.Qa.Fb||(Ue+=Me.Tb)}else Ue=Me.Tb;for(Ce=0;1>=Ce;++Ce){var Ve=me.gd[je][Ce],Ye=Ue;if(Me.Pc&&(Ye+=Me.vd[0],Ce&&(Ye+=Me.od[0])),0<(Ye=0>Ye?0:63<Ye?63:Ye)){var Ke=Ye;0<Me.wb&&(Ke=4<Me.wb?Ke>>2:Ke>>1)>9-Me.wb&&(Ke=9-Me.wb),1>Ke&&(Ke=1),Ve.dd=Ke,Ve.tc=2*Ye+Ke,Ve.ld=40<=Ye?2:15<=Ye?1:0}else Ve.tc=0;Ve.La=Ce}}}je=0}else Wr(me,6,"Frame setup failed"),je=me.a;if(je=je==0){if(je){me.$c=0,0<me.Aa||(me.Ic=zne);t:{je=me.Ic,Me=4*(Ke=me.za);var It=32*Ke,pt=Ke+1,cr=0<me.L?Ke*(0<me.Aa?2:1):0,At=(me.Aa==2?2:1)*Ke;if((Ve=Me+832+(Ce=3*(16*je+ww[me.L])/2*It)+(Ue=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=Ve)je=0;else{if(Ve>me.Vb){if(me.Vb=0,me.Ec=a(Ve),me.Fc=0,me.Ec==null){je=Wr(me,1,"no memory during frame initialization.");break t}me.Vb=Ve}Ve=me.Ec,Ye=me.Fc,me.Ac=Ve,me.Bc=Ye,Ye+=Me,me.Gd=o(It,Pf),me.Hd=0,me.rb=o(pt+1,sd),me.sb=1,me.wa=cr?o(cr,Fa):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=Ke),e(!0),me.oc=Ve,me.pc=Ye,Ye+=832,me.ya=o(At,zc),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=Ke),me.R=16*Ke,me.B=8*Ke,Ke=(It=ww[me.L])*me.R,It=It/2*me.B,me.sa=Ve,me.ta=Ye+Ke,me.qa=me.sa,me.ra=me.ta+16*je*me.R+It,me.Ha=me.qa,me.Ia=me.ra+8*je*me.B+It,me.$c=0,Ye+=Ce,me.mb=Ue?Ve:null,me.nb=Ue?Ye:null,e(Ye+Ue<=me.Fc+me.Vb),Lr(me),i(me.Ac,me.Bc,0,Me),je=1}}if(je){if(Ee.ka=0,Ee.y=me.sa,Ee.O=me.ta,Ee.f=me.qa,Ee.N=me.ra,Ee.ea=me.Ha,Ee.Vd=me.Ia,Ee.fa=me.R,Ee.Rc=me.B,Ee.F=null,Ee.J=0,!ID){for(je=-255;255>=je;++je)TD[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)jD[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)CD[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)kD[255+je]=0>je?0:255<je?255:je;ID=1}Ad=Vl,$f=Qy,Xl=Jy,Gr=gs,yn=Pm,ws=Nm,hi=Of,ki=Rf,Zc=R,l0=W,Dm=tl,hw=vd,bD=fe,xD=be,wD=Hl,_D=Gl,SD=Yc,AD=Im,rl[0]=km,rl[1]=ud,rl[2]=Cf,rl[3]=hd,rl[4]=Wc,rl[5]=vs,rl[6]=Ba,rl[7]=kf,rl[8]=fd,rl[9]=Sn,Ed[0]=zl,Ed[1]=jm,Ed[2]=Cm,Ed[3]=dd,Ed[4]=Zy,Ed[5]=qc,Ed[6]=lo,eu[0]=Gc,eu[1]=Tm,eu[2]=If,eu[3]=ql,eu[4]=co,eu[5]=pd,eu[6]=md,je=1}else je=0}je&&(je=function(Er,Ii){for(Er.M=0;Er.M<Er.Va;++Er.M){var ur,Et=Er.Jc[Er.M&Er.Xb],tt=Er.m,fi=Er;for(ur=0;ur<fi.za;++ur){var ar=tt,Cr=fi,Mn=Cr.Ac,ia=Cr.Bc+4*ur,za=Cr.zc,ni=Cr.ya[Cr.aa+ur];if(Cr.Qa.Bb?ni.$b=T(ar,Cr.Pa.jb[0])?2+T(ar,Cr.Pa.jb[2]):T(ar,Cr.Pa.jb[1]):ni.$b=0,Cr.kc&&(ni.Ad=T(ar,Cr.Bd)),ni.Za=!T(ar,145)+0,ni.Za){var ba=ni.Ob,qa=0;for(Cr=0;4>Cr;++Cr){var Oi,Mr=za[0+Cr];for(Oi=0;4>Oi;++Oi){Mr=Tne[Mn[ia+Oi]][Mr];for(var Zr=LD[T(ar,Mr[0])];0<Zr;)Zr=LD[2*Zr+T(ar,Mr[Zr])];Mr=-Zr,Mn[ia+Oi]=Mr}n(ba,qa,Mn,ia,4),qa+=4,za[0+Cr]=Mr}}else Mr=T(ar,156)?T(ar,128)?1:3:T(ar,163)?2:0,ni.Ob[0]=Mr,i(Mn,ia,Mr,4),i(za,0,Mr,4);ni.Dd=T(ar,142)?T(ar,114)?T(ar,183)?1:3:2:0}if(fi.m.Ka)return Wr(Er,7,"Premature end-of-partition0 encountered.");for(;Er.ja<Er.za;++Er.ja){if(fi=Et,ar=(tt=Er).rb[tt.sb-1],Mn=tt.rb[tt.sb+tt.ja],ur=tt.ya[tt.aa+tt.ja],ia=tt.kc?ur.Ad:0)ar.la=Mn.la=0,ur.Za||(ar.Na=Mn.Na=0),ur.Hc=0,ur.Gc=0,ur.ia=0;else{var ii,en;if(ar=Mn,Mn=fi,ia=tt.Pa.Xc,za=tt.ya[tt.aa+tt.ja],ni=tt.pb[za.$b],Cr=za.ad,ba=0,qa=tt.rb[tt.sb-1],Mr=Oi=0,i(Cr,ba,0,384),za.Za)var aa=0,nl=ia[3];else{Zr=a(16);var pi=ar.Na+qa.Na;if(pi=u0(Mn,ia[1],pi,ni.Eb,0,Zr,0),ar.Na=qa.Na=(0<pi)+0,1<pi)Ad(Zr,0,Cr,ba);else{var uo=Zr[0]+3>>3;for(Zr=0;256>Zr;Zr+=16)Cr[ba+Zr]=uo}aa=1,nl=ia[0]}var bn=15&ar.la,Ri=15&qa.la;for(Zr=0;4>Zr;++Zr){var Fo=1&Ri;for(uo=en=0;4>uo;++uo)bn=bn>>1|(Fo=(pi=u0(Mn,nl,pi=Fo+(1&bn),ni.Sc,aa,Cr,ba))>aa)<<7,en=en<<2|(3<pi?3:1<pi?2:Cr[ba+0]!=0),ba+=16;bn>>=4,Ri=Ri>>1|Fo<<7,Oi=(Oi<<8|en)>>>0}for(nl=bn,aa=Ri>>4,ii=0;4>ii;ii+=2){for(en=0,bn=ar.la>>4+ii,Ri=qa.la>>4+ii,Zr=0;2>Zr;++Zr){for(Fo=1&Ri,uo=0;2>uo;++uo)pi=Fo+(1&bn),bn=bn>>1|(Fo=0<(pi=u0(Mn,ia[2],pi,ni.Qc,0,Cr,ba)))<<3,en=en<<2|(3<pi?3:1<pi?2:Cr[ba+0]!=0),ba+=16;bn>>=2,Ri=Ri>>1|Fo<<5}Mr|=en<<4*ii,nl|=bn<<4<<ii,aa|=(240&Ri)<<ii}ar.la=nl,qa.la=aa,za.Hc=Oi,za.Gc=Mr,za.ia=43690&Mr?0:ni.ia,ia=!(Oi|Mr)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[ur.$b][ur.Za],tt.wa[tt.Y+tt.ja].La|=!ia),fi.Ka)return Wr(Er,7,"Premature end-of-file encountered.")}if(Lr(Er),tt=Ii,fi=1,ur=(Et=Er).D,ar=0<Et.L&&Et.M>=Et.zb&&Et.M<=Et.Va,Et.Aa==0)t:{if(ur.M=Et.M,ur.uc=ar,xs(Et,ur),fi=1,ur=(en=Et.D).Nb,ar=(Mr=ww[Et.L])*Et.R,Mn=Mr/2*Et.B,Zr=16*ur*Et.R,uo=8*ur*Et.B,ia=Et.sa,za=Et.ta-ar+Zr,ni=Et.qa,Cr=Et.ra-Mn+uo,ba=Et.Ha,qa=Et.Ia-Mn+uo,Ri=(bn=en.M)==0,Oi=bn>=Et.Va-1,Et.Aa==2&&xs(Et,en),en.uc)for(Fo=(pi=Et).D.M,e(pi.D.uc),en=pi.yb;en<pi.Hb;++en){aa=en,nl=Fo;var Wa=(Bo=(oa=pi).D).Nb;ii=oa.R;var Bo=Bo.wa[Bo.Y+aa],Uo=oa.sa,ho=oa.ta+16*Wa*ii+16*aa,Vo=Bo.dd,Nn=Bo.tc;if(Nn!=0)if(e(3<=Nn),oa.L==1)0<aa&&_D(Uo,ho,ii,Nn+4),Bo.La&&AD(Uo,ho,ii,Nn),0<nl&&wD(Uo,ho,ii,Nn+4),Bo.La&&SD(Uo,ho,ii,Nn);else{var zo=oa.B,il=oa.qa,Ff=oa.ra+8*Wa*zo+8*aa,tu=oa.Ha,oa=oa.Ia+8*Wa*zo+8*aa;Wa=Bo.ld,0<aa&&(ki(Uo,ho,ii,Nn+4,Vo,Wa),l0(il,Ff,tu,oa,zo,Nn+4,Vo,Wa)),Bo.La&&(hw(Uo,ho,ii,Nn,Vo,Wa),xD(il,Ff,tu,oa,zo,Nn,Vo,Wa)),0<nl&&(hi(Uo,ho,ii,Nn+4,Vo,Wa),Zc(il,Ff,tu,oa,zo,Nn+4,Vo,Wa)),Bo.La&&(Dm(Uo,ho,ii,Nn,Vo,Wa),bD(il,Ff,tu,oa,zo,Nn,Vo,Wa))}}if(Et.ia&&alert("todo:DitherRow"),tt.put!=null){if(en=16*bn,bn=16*(bn+1),Ri?(tt.y=Et.sa,tt.O=Et.ta+Zr,tt.f=Et.qa,tt.N=Et.ra+uo,tt.ea=Et.Ha,tt.W=Et.Ia+uo):(en-=Mr,tt.y=ia,tt.O=za,tt.f=ni,tt.N=Cr,tt.ea=ba,tt.W=qa),Oi||(bn-=Mr),bn>tt.o&&(bn=tt.o),tt.F=null,tt.J=null,Et.Fa!=null&&0<Et.Fa.length&&en<bn&&(tt.J=gn(Et,tt,en,bn-en),tt.F=Et.mb,tt.F==null&&tt.F.length==0)){fi=Wr(Et,3,"Could not decode alpha data.");break t}en<tt.j&&(Mr=tt.j-en,en=tt.j,e(!(1&Mr)),tt.O+=Et.R*Mr,tt.N+=Et.B*(Mr>>1),tt.W+=Et.B*(Mr>>1),tt.F!=null&&(tt.J+=tt.width*Mr)),en<bn&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=en-tt.j,tt.U=tt.va-tt.v,tt.T=bn-en,fi=tt.put(tt))}ur+1!=Et.Ic||Oi||(n(Et.sa,Et.ta-ar,ia,za+16*Et.R,ar),n(Et.qa,Et.ra-Mn,ni,Cr+8*Et.B,Mn),n(Et.Ha,Et.Ia-Mn,ba,qa+8*Et.B,Mn))}if(!fi)return Wr(Er,6,"Output aborted.")}return 1}(me,Ee)),Ee.bc!=null&&Ee.bc(Ee),je&=1}return je?(me.cb=0,je):0})(b,B)||(S=b.a)}}else S=b.a}S==0&&te.Oa!=null&&te.Oa.fd&&(S=r0(te.ba))}te=S}Q=te!=0?null:11>Q?ie.f.RGBA.eb:ie.f.kb.y}else Q=null;return Q};var WD=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,D){for(var C="",O=0;O<4;O++)C+=String.fromCharCode(k[D++]);return C}function d(k,D){return k[D+0]|k[D+1]<<8}function h(k,D){return(k[D+0]|k[D+1]<<8|k[D+2]<<16)>>>0}function p(k,D){return(k[D+0]|k[D+1]<<8|k[D+2]<<16|k[D+3]<<24)>>>0}new l;var f=[0],v=[0],m=[],g=new l,y=t,x=function(k,D){var C={},O=0,L=!1,z=0,re=0;if(C.frames=[],!function(F,V){for(var G=0;G<4;G++)if(F[V+G]!="RIFF".charCodeAt(G))return!0;return!1}(k,D)){for(p(k,D+=4),D+=8;D<k.length;){var Y=c(k,D),K=p(k,D+=4);D+=4;var q=K+(1&K);switch(Y){case"VP8 ":case"VP8L":C.frames[O]===void 0&&(C.frames[O]={}),(ce=C.frames[O]).src_off=L?re:D-8,ce.src_size=z+K+8,O++,L&&(L=!1,z=0,re=0);break;case"VP8X":(ce=C.header={}).feature_flags=k[D];var Z=D+4;ce.canvas_width=1+h(k,Z),Z+=3,ce.canvas_height=1+h(k,Z),Z+=3;break;case"ALPH":L=!0,z=q+8,re=D-8;break;case"ANIM":(ce=C.header).bgcolor=p(k,D),Z=D+4,ce.loop_count=d(k,Z),Z+=2;break;case"ANMF":var ye,ce;(ce=C.frames[O]={}).offset_x=2*h(k,D),D+=3,ce.offset_y=2*h(k,D),D+=3,ce.width=1+h(k,D),D+=3,ce.height=1+h(k,D),D+=3,ce.duration=h(k,D),D+=3,ye=k[D++],ce.dispose=1&ye,ce.blend=ye>>1&1}Y!="ANMF"&&(D+=q)}return C}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var _=x.header?x.header:null,A=x.frames?x.frames:null;if(_){_.loop_counter=_.loop_count,f=[_.canvas_height],v=[_.canvas_width];for(var N=0;N<A.length&&A[N].blend!=0;N++);}var I=A[0],P=g.WebPDecodeRGBA(y,I.src_off,I.src_size,v,f);I.rgba=P,I.imgwidth=v[0],I.imgheight=f[0];for(var E=0;E<v[0]*f[0]*4;E++)m[E]=P[E];return this.width=v,this.height=f,this.data=m,this}(function(t){var e,r,n,i,a,o,s,l,c,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=F;Object.defineProperty(this,"pdf",{get:function(){return V}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ve){G=!!ve}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(ve){oe=!!ve}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(ve){isNaN(ve)||(J=ve)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(ve){isNaN(ve)||(ne=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var ee;typeof ve=="number"?ee=[ve,ve,ve,ve]:((ee=new Array(4))[0]=ve[0],ee[1]=ve.length>=2?ve[1]:ee[0],ee[2]=ve.length>=3?ve[2]:ee[0],ee[3]=ve.length>=4?ve[3]:ee[1]),c.margin=ee}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(ve){xe=ve}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ve){he=ve}});var T=[];Object.defineProperty(this,"pageBreaks",{get:function(){return T},set:function(ve){T=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof d&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var X=[];Object.defineProperty(this,"ctxStack",{get:function(){return X},set:function(ve){X=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var ee;ee=p(ve),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var ee=p(ve);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var le=null,de=null;Object.defineProperty(this,"fontFaces",{get:function(){return de},set:function(ve){le=null,de=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var ee;if(this.ctx.font=ve,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var Ne=ee[1];ee[2];var Re=ee[3],Le=ee[4];ee[5];var Ae=ee[6],ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(ge==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:ge==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var we=function(Ct){var at,Jt,Kt=[],lt=Ct.trim();if(lt==="")return RT;if(lt in _U)return[_U[lt]];for(;lt!=="";){switch(Jt=null,at=(lt=AU(lt)).charAt(0)){case'"':case"'":Jt=gQe(lt.substring(1),at);break;default:Jt=vQe(lt)}if(Jt===null||(Kt.push(Jt[0]),(lt=AU(Jt[1]))!==""&&lt.charAt(0)!==","))return RT;lt=lt.replace(/^,/,"")}return Kt}(Ae);if(this.fontFaces){var De=function(Ct,at){if(le===null){var Jt=function(Kt){var lt=[];return Object.keys(Kt).forEach(function(Oe){Kt[Oe].forEach(function(Mt){var mt=null;switch(Mt){case"bold":mt={family:Oe,weight:"bold"};break;case"italic":mt={family:Oe,style:"italic"};break;case"bolditalic":mt={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:Oe}}mt!==null&&(mt.ref={name:Oe,style:Mt},lt.push(mt))})}),lt}(Ct.getFontList());le=function(Kt){for(var lt={},Oe=0;Oe<Kt.length;++Oe){var Mt=OT(Kt[Oe]),mt=Mt.family,er=Mt.stretch,$t=Mt.style,Vr=Mt.weight;lt[mt]=lt[mt]||{},lt[mt][er]=lt[mt][er]||{},lt[mt][er][$t]=lt[mt][er][$t]||{},lt[mt][er][$t][Vr]=Mt}return lt}(Jt.concat(at))}return le}(this.pdf,this.fontFaces),ze=we.map(function(Ct){return{family:Ct,stretch:"normal",weight:Re,style:Ne}}),st=function(Ct,at,Jt){for(var Kt=(Jt=Jt||{}).defaultFontFamily||"times",lt=Object.assign({},mQe,Jt.genericFontFamilies||{}),Oe=null,Mt=null,mt=0;mt<at.length;++mt)if(lt[(Oe=OT(at[mt])).family]&&(Oe.family=lt[Oe.family]),Ct.hasOwnProperty(Oe.family)){Mt=Ct[Oe.family];break}if(!(Mt=Mt||Ct[Kt]))throw new Error("Could not find a font-family for the rule '"+SU(Oe)+"' and default family '"+Kt+"'.");if(Mt=function(er,$t){if($t[er])return $t[er];var Vr=z4[er],hn=Vr<=z4.normal?-1:1,Dt=wU($t,$re,Vr,hn);if(!Dt)throw new Error("Could not find a matching font-stretch value for "+er);return Dt}(Oe.stretch,Mt),Mt=function(er,$t){if($t[er])return $t[er];for(var Vr=Mre[er],hn=0;hn<Vr.length;++hn)if($t[Vr[hn]])return $t[Vr[hn]];throw new Error("Could not find a matching font-style for "+er)}(Oe.style,Mt),!(Mt=function(er,$t){if($t[er])return $t[er];if(er===400&&$t[500])return $t[500];if(er===500&&$t[400])return $t[400];var Vr=pQe[er],hn=wU($t,Fre,Vr,er<400?-1:1);if(!hn)throw new Error("Could not find a matching font-weight for value "+er);return hn}(Oe.weight,Mt)))throw new Error("Failed to resolve a font for the rule '"+SU(Oe)+"'.");return Mt}(De,ze);this.pdf.setFont(st.ref.name,st.ref.style)}else{var nt="";(Re==="bold"||parseInt(Re,10)>=700||Ne==="bold")&&(nt="bold"),Ne==="italic"&&(nt+="italic"),nt.length===0&&(nt="normal");for(var Ze="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<we.length;Tt++){if(this.pdf.internal.getFont(we[Tt],nt,{noFallback:!0,disableWarning:!0})!==void 0){Ze=we[Tt];break}if(nt==="bolditalic"&&this.pdf.internal.getFont(we[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ze=we[Tt],nt="bold";else if(this.pdf.internal.getFont(we[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ze=we[Tt],nt="normal";break}}if(Ze===""){for(var St=0;St<we.length;St++)if(_t[we[St]]){Ze=_t[we[St]];break}}Ze=Ze===""?"Times":Ze,this.pdf.setFont(Ze,nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){A.call(this,"fill",!1)},h.prototype.stroke=function(){A.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(F,V));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(F,V)},h.prototype.closePath=function(){var F=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&rn(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){F=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},h.prototype.lineTo=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(F,V));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,V,G,oe){if(isNaN(G)||isNaN(oe)||isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o(G,oe)),ne=this.ctx.transform.applyToPoint(new o(F,V));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},h.prototype.bezierCurveTo=function(F,V,G,oe,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(J,ne)),he=this.ctx.transform.applyToPoint(new o(F,V)),T=this.ctx.transform.applyToPoint(new o(G,oe));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:T.x,y2:T.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},h.prototype.arc=function(F,V,G,oe,J,ne){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe)||isNaN(J))throw xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(F,V));F=xe.x,V=xe.y;var he=this.ctx.transform.applyToPoint(new o(0,G)),T=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(he.x-T.x,2)+Math.pow(he.y-T.y,2))}Math.abs(J-oe)>=2*Math.PI&&(oe=0,J=2*Math.PI),this.path.push({type:"arc",x:F,y:V,radius:G,startAngle:oe,endAngle:J,counterclockwise:ne})},h.prototype.arcTo=function(F,V,G,oe,J){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,V),this.lineTo(F+G,V),this.lineTo(F+G,V+oe),this.lineTo(F,V+oe),this.lineTo(F,V),this.lineTo(F+G,V),this.lineTo(F,V)},h.prototype.fillRect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,V,G,oe),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},h.prototype.strokeRect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(F,V,G,oe),this.stroke())},h.prototype.clearRect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,V,G,oe))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(V),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var V,G,oe,J;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))V=0,G=0,oe=0,J=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ne!==null)V=parseInt(ne[1]),G=parseInt(ne[2]),oe=parseInt(ne[3]),J=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)V=parseInt(ne[1]),G=parseInt(ne[2]),oe=parseInt(ne[3]),J=parseFloat(ne[4]);else{if(J=1,typeof F=="string"&&F.charAt(0)!=="#"){var xe=new Cre(F);F=xe.ok?xe.toHex():"#000000"}F.length===4?(V=F.substring(1,2),V+=V,G=F.substring(2,3),G+=G,oe=F.substring(3,4),oe+=oe):(V=F.substring(1,3),G=F.substring(3,5),oe=F.substring(5,7)),V=parseInt(V,16),G=parseInt(G,16),oe=parseInt(oe,16)}}return{r:V,g:G,b:oe,a:J,style:F}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,V,G,oe){if(isNaN(V)||isNaN(G)||typeof F!="string")throw xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!f.call(this)){var J=q(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;O.call(this,{text:F,x:V,y:G,scale:ne,angle:J,align:this.textAlign,maxWidth:oe})}},h.prototype.strokeText=function(F,V,G,oe){if(isNaN(V)||isNaN(G)||typeof F!="string")throw xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){oe=isNaN(oe)?void 0:oe;var J=q(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;O.call(this,{text:F,x:V,y:G,scale:ne,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:oe})}},h.prototype.measureText=function(F){if(typeof F!="string")throw xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,G=this.pdf.internal.scaleFactor,oe=V.internal.getFontSize(),J=V.getStringUnitWidth(F)*oe/V.internal.scaleFactor;return new function(ne){var xe=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:J*=Math.round(96*G/72*1e4)/1e4})},h.prototype.scale=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(F,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.rotate=function(F){if(isNaN(F))throw xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.translate=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,F,V);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.transform=function(F,V,G,oe,J,ne){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe)||isNaN(J)||isNaN(ne))throw xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new l(F,V,G,oe,J,ne);this.ctx.transform=this.ctx.transform.multiply(xe)},h.prototype.setTransform=function(F,V,G,oe,J,ne){F=isNaN(F)?1:F,V=isNaN(V)?0:V,G=isNaN(G)?0:G,oe=isNaN(oe)?1:oe,J=isNaN(J)?0:J,ne=isNaN(ne)?0:ne,this.ctx.transform=new l(F,V,G,oe,J,ne)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,V,G,oe,J,ne,xe,he,T){var X=this.pdf.getImageProperties(F),le=1,de=1,ve=1,ee=1;oe!==void 0&&he!==void 0&&(ve=he/oe,ee=T/J,le=X.width/oe*he/oe,de=X.height/J*T/J),ne===void 0&&(ne=V,xe=G,V=0,G=0),oe!==void 0&&he===void 0&&(he=oe,T=J),oe===void 0&&he===void 0&&(he=X.width,T=X.height);for(var Ne,Re=this.ctx.transform.decompose(),Le=q(Re.rotate.shx),Ae=new l,ge=(Ae=(Ae=(Ae=Ae.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale)).applyToRectangle(new s(ne-V*ve,xe-G*ee,oe*le,J*de)),we=g.call(this,ge),De=[],ze=0;ze<we.length;ze+=1)De.indexOf(we[ze])===-1&&De.push(we[ze]);if(_(De),this.autoPaging)for(var st=De[0],nt=De[De.length-1],Ze=st;Ze<nt+1;Ze++){this.pdf.setPage(Ze);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=Ze===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Ze===1?0:St+(Ze-2)*Ct;if(this.ctx.clip_path.length!==0){var Jt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ne,this.posX+this.margin[3],-at+Tt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Jt}var Kt=JSON.parse(JSON.stringify(ge));Kt=x([Kt],this.posX+this.margin[3],-at+Tt+this.ctx.prevPageLastElemOffset)[0];var lt=(Ze>st||Ze<nt)&&m.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Ct,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Le),lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",ge.x,ge.y,ge.w,ge.h,null,null,Le)};var g=function(F,V,G){var oe=[];V=V||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":oe.push(Math.floor((F.y+J)/G)+1);break;case"arc":oe.push(Math.floor((F.y+J-F.radius)/G)+1),oe.push(Math.floor((F.y+J+F.radius)/G)+1);break;case"qct":var ne=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);oe.push(Math.floor((ne.y+J)/G)+1),oe.push(Math.floor((ne.y+ne.h+J)/G)+1);break;case"bct":var xe=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);oe.push(Math.floor((xe.y+J)/G)+1),oe.push(Math.floor((xe.y+xe.h+J)/G)+1);break;case"rect":oe.push(Math.floor((F.y+J)/G)+1),oe.push(Math.floor((F.y+F.h+J)/G)+1)}for(var he=0;he<oe.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<oe[he];)y.call(this);return oe},y=function(){var F=this.fillStyle,V=this.strokeStyle,G=this.font,oe=this.lineCap,J=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=V,this.font=G,this.lineCap=oe,this.lineWidth=J,this.lineJoin=ne},x=function(F,V,G){for(var oe=0;oe<F.length;oe++)switch(F[oe].type){case"bct":F[oe].x2+=V,F[oe].y2+=G;case"qct":F[oe].x1+=V,F[oe].y1+=G;default:F[oe].x+=V,F[oe].y+=G}return F},_=function(F){return F.sort(function(V,G){return V-G})},A=function(F,V){for(var G,oe,J=this.fillStyle,ne=this.strokeStyle,xe=this.lineCap,he=this.lineWidth,T=Math.abs(he*this.ctx.transform.scaleX),X=this.lineJoin,le=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),ve=[],ee=0;ee<de.length;ee++)if(de[ee].x!==void 0)for(var Ne=g.call(this,de[ee]),Re=0;Re<Ne.length;Re+=1)ve.indexOf(Ne[Re])===-1&&ve.push(Ne[Re]);for(var Le=0;Le<ve.length;Le++)for(;this.pdf.internal.getNumberOfPages()<ve[Le];)y.call(this);if(_(ve),this.autoPaging)for(var Ae=ve[0],ge=ve[ve.length-1],we=Ae;we<ge+1;we++){this.pdf.setPage(we),this.fillStyle=J,this.strokeStyle=ne,this.lineCap=xe,this.lineWidth=T,this.lineJoin=X;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=we===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=we===1?0:st+(we-2)*nt;if(this.ctx.clip_path.length!==0){var _t=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(G,this.posX+this.margin[3],-Ze+ze+this.ctx.prevPageLastElemOffset),N.call(this,F,!0),this.path=_t}if(oe=JSON.parse(JSON.stringify(le)),this.path=x(oe,this.posX+this.margin[3],-Ze+ze+this.ctx.prevPageLastElemOffset),V===!1||we===0){var Tt=(we>Ae||we<ge)&&m.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,nt,null).clip().discardPath()),N.call(this,F,V),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=T,N.call(this,F,V),this.lineWidth=he;this.path=le},N=function(F,V){if((F!=="stroke"||V||!v.call(this))&&(F==="stroke"||V||!f.call(this))){for(var G,oe,J=[],ne=this.path,xe=0;xe<ne.length;xe++){var he=ne[xe];switch(he.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:he,deltas:[],abs:[]});break;case"lt":var T=J.length;if(ne[xe-1]&&!isNaN(ne[xe-1].x)&&(G=[he.x-ne[xe-1].x,he.y-ne[xe-1].y],T>0)){for(;T>=0;T--)if(J[T-1].close!==!0&&J[T-1].begin!==!0){J[T-1].deltas.push(G),J[T-1].abs.push(he);break}}break;case"bct":G=[he.x1-ne[xe-1].x,he.y1-ne[xe-1].y,he.x2-ne[xe-1].x,he.y2-ne[xe-1].y,he.x-ne[xe-1].x,he.y-ne[xe-1].y],J[J.length-1].deltas.push(G);break;case"qct":var X=ne[xe-1].x+2/3*(he.x1-ne[xe-1].x),le=ne[xe-1].y+2/3*(he.y1-ne[xe-1].y),de=he.x+2/3*(he.x1-he.x),ve=he.y+2/3*(he.y1-he.y),ee=he.x,Ne=he.y;G=[X-ne[xe-1].x,le-ne[xe-1].y,de-ne[xe-1].x,ve-ne[xe-1].y,ee-ne[xe-1].x,Ne-ne[xe-1].y],J[J.length-1].deltas.push(G);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(he)}}oe=V?null:F==="stroke"?"stroke":"fill";for(var Re=!1,Le=0;Le<J.length;Le++)if(J[Le].arc)for(var Ae=J[Le].abs,ge=0;ge<Ae.length;ge++){var we=Ae[ge];we.type==="arc"?E.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,V,!Re):L.call(this,we.x,we.y),Re=!0}else if(J[Le].close===!0)this.pdf.internal.out("h"),Re=!1;else if(J[Le].begin!==!0){var De=J[Le].start.x,ze=J[Le].start.y;z.call(this,J[Le].deltas,De,ze),Re=!0}oe&&k.call(this,oe),V&&D.call(this)}},I=function(F){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-G;case"top":return F+V-G;case"hanging":return F+V-2*G;case"middle":return F+V/2-G;default:return F}},P=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(V,G){this.colorStops.push([V,G])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(F,V,G,oe,J,ne,xe,he,T){for(var X=Y.call(this,G,oe,J,ne),le=0;le<X.length;le++){var de=X[le];le===0&&(T?C.call(this,de.x1+F,de.y1+V):L.call(this,de.x1+F,de.y1+V)),re.call(this,F,V,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}he?D.call(this):k.call(this,xe)},k=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(F,V){this.pdf.internal.out(r(F)+" "+n(V)+" m")},O=function(F){var V;switch(F.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var G=this.pdf.getTextDimensions(F.text),oe=I.call(this,F.y),J=P.call(this,oe)-G.h,ne=this.ctx.transform.applyToPoint(new o(F.x,oe)),xe=this.ctx.transform.decompose(),he=new l;he=(he=(he=he.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var T,X,le,de=this.ctx.transform.applyToRectangle(new s(F.x,oe,G.w,G.h)),ve=he.applyToRectangle(new s(F.x,J,G.w,G.h)),ee=g.call(this,ve),Ne=[],Re=0;Re<ee.length;Re+=1)Ne.indexOf(ee[Re])===-1&&Ne.push(ee[Re]);if(_(Ne),this.autoPaging)for(var Le=Ne[0],Ae=Ne[Ne.length-1],ge=Le;ge<Ae+1;ge++){this.pdf.setPage(ge);var we=ge===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],st=ze-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],Ze=nt-this.margin[3],_t=ge===1?0:De+(ge-2)*st;if(this.ctx.clip_path.length!==0){var Tt=this.path;T=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(T,this.posX+this.margin[3],-1*_t+we),N.call(this,"fill",!0),this.path=Tt}var St=x([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-_t+we+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*F.scale),le=this.lineWidth,this.lineWidth=le*F.scale);var Ct=this.autoPaging!=="text";if(Ct||St.y+St.h<=ze){if(Ct||St.y>=we&&St.x<=nt){var at=Ct?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||nt-St.x)[0],Jt=x([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-_t+we+this.ctx.prevPageLastElemOffset)[0],Kt=Ct&&(ge>Le||ge<Ae)&&m.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,st,null).clip().discardPath()),this.pdf.text(at,Jt.x,Jt.y,{angle:F.angle,align:V,renderingMode:F.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else St.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-St.y);F.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=le)}else F.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*F.scale),le=this.lineWidth,this.lineWidth=le*F.scale),this.pdf.text(F.text,ne.x+this.posX,ne.y+this.posY,{angle:F.angle,align:V,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=le)},L=function(F,V,G,oe){G=G||0,oe=oe||0,this.pdf.internal.out(r(F+G)+" "+n(V+oe)+" l")},z=function(F,V,G){return this.pdf.lines(F,V,G,null,null)},re=function(F,V,G,oe,J,ne,xe,he){this.pdf.internal.out([e(i(G+F)),e(a(oe+V)),e(i(J+F)),e(a(ne+V)),e(i(xe+F)),e(a(he+V)),"c"].join(" "))},Y=function(F,V,G,oe){for(var J=2*Math.PI,ne=Math.PI/2;V>G;)V-=J;var xe=Math.abs(G-V);xe<J&&oe&&(xe=J-xe);for(var he=[],T=oe?-1:1,X=V;xe>1e-5;){var le=X+T*Math.min(xe,ne);he.push(K.call(this,F,X,le)),xe-=Math.abs(le-X),X=le}return he},K=function(F,V,G){var oe=(G-V)/2,J=F*Math.cos(oe),ne=F*Math.sin(oe),xe=J,he=-ne,T=xe*xe+he*he,X=T+xe*J+he*ne,le=4/3*(Math.sqrt(2*T*X)-X)/(xe*ne-he*J),de=xe-le*he,ve=he+le*xe,ee=de,Ne=-ve,Re=oe+V,Le=Math.cos(Re),Ae=Math.sin(Re);return{x1:F*Math.cos(V),y1:F*Math.sin(V),x2:de*Le-ve*Ae,y2:de*Ae+ve*Le,x3:ee*Le-Ne*Ae,y3:ee*Ae+Ne*Le,x4:F*Math.cos(G),y4:F*Math.sin(G)}},q=function(F){return 180*F/Math.PI},Z=function(F,V,G,oe,J,ne){var xe=F+.5*(G-F),he=V+.5*(oe-V),T=J+.5*(G-J),X=ne+.5*(oe-ne),le=Math.min(F,J,xe,T),de=Math.max(F,J,xe,T),ve=Math.min(V,ne,he,X),ee=Math.max(V,ne,he,X);return new s(le,ve,de-le,ee-ve)},ye=function(F,V,G,oe,J,ne,xe,he){var T,X,le,de,ve,ee,Ne,Re,Le,Ae,ge,we,De,ze,st=G-F,nt=oe-V,Ze=J-G,_t=ne-oe,Tt=xe-J,St=he-ne;for(X=0;X<41;X++)Le=(Ne=(le=F+(T=X/40)*st)+T*((ve=G+T*Ze)-le))+T*(ve+T*(J+T*Tt-ve)-Ne),Ae=(Re=(de=V+T*nt)+T*((ee=oe+T*_t)-de))+T*(ee+T*(ne+T*St-ee)-Re),X==0?(ge=Le,we=Ae,De=Le,ze=Ae):(ge=Math.min(ge,Le),we=Math.min(we,Ae),De=Math.max(De,Le),ze=Math.max(ze,Ae));return new s(Math.round(ge),Math.round(we),Math.round(De-ge),Math.round(ze-we))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,V,G=(F=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:V}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Ot.API),function(t){var e=function(o){var s,l,c,d,h,p,f,v,m,g;for(l=[],c=0,d=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;d>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(g=h%85))/85)-(m=h%85))/85)-(v=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,v+33,m+33,g+33)):l.push(122);return function(y,x){for(var _=x;_>0;_--)y.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var s,l,c,d,h,p=String,f="length",v=255,m="charCodeAt",g="slice",y="replace";for(o[g](-2),o=o[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],d=0,h=(o+=s="uuuuu"[g](o[f]%5||5))[f];h>d;d+=5)l=52200625*(o[m](d)-33)+614125*(o[m](d+1)-33)+7225*(o[m](d+2)-33)+85*(o[m](d+3)-33)+(o[m](d+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(x,_){for(var A=_;A>0;A--)x.pop()}(c,s[f]),p.fromCharCode.apply(p,c)},n=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},a=function(o){for(var s=new Uint8Array(o.length),l=o.length;l--;)s[l]=o.charCodeAt(l);return(s=C4(s)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,s){var l=0,c=o||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Ot.API),function(t){t.loadFile=function(e,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,c,d){var h=new XMLHttpRequest,p=0,f=function(v){var m=v.length,g=[],y=String.fromCharCode;for(p=0;p<m;p+=1)g.push(y(255&v.charCodeAt(p)));return g.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(i,a,o)}catch{}return s}(e,r,n)},t.loadImageFile=t.loadFile}(Ot.API),function(t){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):Oh(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):Oh(()=>import("./purify.es-DfngIMfA.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=rn(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},a=function s(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(s(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},o=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),c);return(d=d.setProgress(1,s,1,[s])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,l){return s.__proto__=l||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var v=d[f],m=v.src.find(function(g){return g.format==="truetype"});m&&c.addFont(m.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},o.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(s,l){return this.then(function(){var c=s in o.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},o.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(s=s||Ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,l,c,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,l,c,d){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,d),p}).then(d,h).then(function(p){return c.updateProgress(1),p})})},o.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then;var d=this;s&&(s=s.bind(d)),l&&(l=l.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),p=c.call(h,s,l);return o.convert(p,d.__proto__)},o.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},o.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return o.convert(l,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ot.getPageSize=function(s,l,c){if(rn(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var v,m=0,g=0;if(f.hasOwnProperty(p))m=f[p][1]/h,g=f[p][0]/h;else try{m=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",g>m&&(v=g,g=m,m=v);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>g&&(v=g,g=m,m=v)}return{width:g,height:m,unit:l,k:h,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(OT):null;var c=new o(l);return l.worker?c:c.from(s).doCallback()}}(Ot.API),Ot.API.addJS=function(t){return NU=t,this.internal.events.subscribe("postPutResources",function(){R2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(R2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),EU=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+NU+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){R2!==void 0&&EU!==void 0&&this.internal.out("/Names <</JavaScript "+R2+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=n.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(a=0;a<c;a++){var h=r.internal.newObject();d.push(h);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,s){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,m={width:0,height:0,numcomponents:1},g=4;g<v;g+=2){if(g+=f,e.indexOf(h.charCodeAt(g+1))!==-1){p=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),m={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:p,numcomponents:h.charCodeAt(g+9)};break}f=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:n,alias:i}}return d}}(Ot.API),Ot.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=eQe(t,{checkCrc:!0}),o=a.width,s=a.height,l=a.channels,c=a.palette,d=a.depth;i=c&&l===1?function(E){for(var k=E.width,D=E.height,C=E.data,O=E.palette,L=E.depth,z=!1,re=[],Y=[],K=void 0,q=!1,Z=0,ye=0;ye<O.length;ye++){var ce=xB(O[ye],4),F=ce[0],V=ce[1],G=ce[2],oe=ce[3];re.push(F,V,G),oe!=null&&(oe===0?(Z++,Y.length<1&&Y.push(ye)):oe<255&&(q=!0))}if(q||Z>1){z=!0,Y=void 0;var J=k*D;K=new Uint8Array(J);for(var ne=new DataView(C.buffer),xe=0;xe<J;xe++){var he=DT(ne,xe,L),T=xB(O[he],4)[3];K[xe]=T}}else Z===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:C,alphaBytes:K,needSMask:z,palette:re,mask:Y}}(a):l===2||l===4?function(E){for(var k=E.data,D=E.width,C=E.height,O=E.channels,L=E.depth,z=O===2?"DeviceGray":"DeviceRGB",re=O-1,Y=D*C,K=re,q=Y*K,Z=1*Y,ye=Math.ceil(q*L/8),ce=Math.ceil(Z*L/8),F=new Uint8Array(ye),V=new Uint8Array(ce),G=new DataView(k.buffer),oe=new DataView(F.buffer),J=new DataView(V.buffer),ne=!1,xe=0;xe<Y;xe++){for(var he=xe*O,T=0;T<K;T++)DU(oe,DT(G,he+T,L),xe*K+T,L);var X=DT(G,he+K,L);X<(1<<L)-1&&(ne=!0),DU(J,X,1*xe,L)}return{colorSpace:z,colorsPerPixel:re,sMaskBitsPerComponent:ne?L:void 0,colorBytes:F,alphaBytes:V,needSMask:ne}}(a):function(E){var k=E.data,D=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(C){for(var O=C.length,L=new Uint8Array(2*O),z=new DataView(L.buffer,L.byteOffset,L.byteLength),re=0;re<O;re++)z.setUint16(2*re,C[re],!1);return L}(k):k,needSMask:!1}}(a);var h,p,f,v=i,m=v.colorSpace,g=v.colorsPerPixel,y=v.sMaskBitsPerComponent,x=v.colorBytes,_=v.alphaBytes,A=v.needSMask,N=v.palette,I=v.mask,P=null;return n!==Ot.API.image_compression.NONE&&typeof C4=="function"?(P=function(E){var k;switch(E){case Ot.API.image_compression.FAST:k=11;break;case Ot.API.image_compression.MEDIUM:k=13;break;case Ot.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(P," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(o),t=CU(x,Math.ceil(o*g*d/8),g,d,n),A&&(f=CU(_,Math.ceil(o*y/8),1,y,n))):(h=void 0,p=void 0,t=x,A&&(f=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:p,transparency:I,palette:N,sMask:f,predictor:P,width:o,height:s,bitsPerComponent:d,sMaskBitsPerComponent:y,colorSpace:m}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new wQe(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:s},d=new LT(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(Ot.API),ll.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ll.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){xn.log("bit decode error:"+r)}},ll.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},ll.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,l=15&a,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ll.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},ll.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=c}this.pos+=t}},ll.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/e*255|0,d=i*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=t}},ll.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ll.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},ll.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new ll(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new LT(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(Ot.API),MU.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new MU(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new LT(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(Ot.API),Ot.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var d=n[c],h=n[c+1],p=n[c+2],f=n[c+3];a[s++]=d,a[s++]=h,a[s++]=p,o[l++]=f}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zm=Ot.API,D2=Zm.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=t.length,v=0,m=s[0]||l,g=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(p=h&&rn(c[n])==="object"&&!isNaN(parseInt(c[n][v],10))?c[n][v]/d:0,g.push((s[n]||m)/l+p)),v=n;return g},PU=Zm.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Zm.processArabic&&(t=Zm.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:D2.apply(this,arguments).reduce(function(a,o){return a+o},0)},TU=function(t,e,r,n){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<r;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>n&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},jU=function(t,e,r){r||(r={});var n,i,a,o,s,l,c,d=[],h=[d],p=r.textIndent||0,f=0,v=0,m=t.split(" "),g=D2.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),x=[];m.map(function(A){(A=A.split(/\s*\n/)).length>1?x=x.concat(A.map(function(N,I){return(I&&N.length?`
`:"")+N})):x.push(A[0])}),m=x,l=PU.apply(this,[y,r])}for(a=0,o=m.length;a<o;a++){var _=0;if(n=m[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+f+(v=(i=D2.apply(this,[n,r])).reduce(function(A,N){return A+N},0))>e||_){if(v>e){for(s=TU.apply(this,[n,i,e-(p+f),e]),d.push(s.shift()),d=[s.pop()];s.length;)h.push([s.shift()]);v=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(A,N){return A+N},0)}else d=[n];h.push(d),p=v+l,f=g}else d.push(n),p+=f+v,f=g}return c=l?function(A,N){return(N?y:"")+A.join(" ")}:function(A){return A.join(" ")},h.map(c)},Zm.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,l,c=[];for(s=0,l=n.length;s<l;s++)c=c.concat(jU.apply(this,[n[s],o,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(p){return"0x"+parseInt(p,10).toString(16)},s=t.__fontmetrics__.compress=function(p){var f,v,m,g,y=["{"];for(var x in p){if(f=p[x],isNaN(parseInt(x,10))?v="'"+x+"'":(x=parseInt(x,10),v=(v=o(x).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof f=="number")f<0?(m=o(f).slice(3),g="-"):(m=o(f).slice(2),g=""),m=g+m.slice(0,-1)+i[m.slice(-1)];else{if(rn(f)!=="object")throw new Error("Don't know what to do with value type "+rn(f)+".");m=s(f)}y.push(v+m)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,v,m,g,y={},x=1,_=y,A=[],N="",I="",P=p.length-1,E=1;E<P;E+=1)(g=p[E])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(A.push([_,m]),_={},m=void 0):g=="}"?((v=A.pop())[0][v[1]]=_,m=void 0,_=v[0]):g=="-"?x=-1:m===void 0?n.hasOwnProperty(g)?(N+=n[g],m=parseInt(N,16)*x,x=1,N=""):N+=g:n.hasOwnProperty(g)?(I+=n[g],_[m]=parseInt(I,16)*x,x=1,m=void 0,I=""):I+=g;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var f=p.font,v=h.Unicode[f.postScriptName];v&&(f.metadata.Unicode={},f.metadata.Unicode.widths=v.widths,f.metadata.Unicode.kerning=v.kerning);var m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Ot.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(v_(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ot),Ot.API.addSvgAsImage=function(t,e,r,n,i,a,o,s){if(isNaN(e)||isNaN(r))throw xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Qt.canvg?Promise.resolve(Qt.canvg):Oh(()=>import("./index.es-Cwn5BKhB.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,o,s)})},Ot.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ot.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],c=0,d=0,h=0;function p(v,m){var g,y=!1;for(g=0;g<v.length;g+=1)v[g]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=s.length;for(h=0;h<f;h+=1)r[s[h]].value=r[s[h]].defaultValue,r[s[h]].explicitSet=!1}if(rn(t)==="object"){for(i in t)if(a=t[i],p(s,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(d=0;d<a[c].length;d+=1)typeof a[c][d]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Ot.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],h=0,p=a.length;h<p;++h){if(s=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(h),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(c[4-s.length],s)}return d.join("")},n=function(a){var o,s,l,c,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(s=Object.keys(a).sort(function(f,v){return f-v})).length;h<p;h++)o=s[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(c=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,c=o.newObject,d=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var h=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),f="",v=0;v<p.length;v++)f+=String.fromCharCode(p[v]);var m=c();d({data:f,addLength1:!0,objectId:m}),l("endobj");var g=c();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+sg(s.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+sg(s.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+sg(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,c=o.newObject,d=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var h=s.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var v=c();d({data:p,addLength1:!0,objectId:v}),l("endobj");var m=c();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+sg(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+sg(s.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,c=a.y,d=a.options||{},h=a.mutex||{},p=h.pdfEscape,f=h.activeFontKey,v=h.fonts,m=f,g="",y=0,x="",_=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:s,x:l,y:c,options:d,mutex:h};for(x=s,m=f,Array.isArray(s)&&(x=s[0]),y=0;y<x.length;y+=1)v[m].metadata.hasOwnProperty("cmap")&&(o=v[m].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?g+=x[y]:g+="";var A="";return parseInt(m.slice(1))<14||_==="WinAnsiEncoding"?A=p(g,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=r(g,v[m])),h.isHex=!0,{text:A,x:l,y:c,options:d,mutex:h}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?s.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):s.push(i(Object.assign({},l,{text:o[c]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(Ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,s,l,c,d,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,_=0;this.__bidiEngine__={};var A=function(C){var O=C.charCodeAt(),L=O>>8,z=m[L];return z!==void 0?h[256*z+(255&O)]:L===252||L===253?"AL":y.test(L)?"L":L===8?"R":"N"},N=function(C){for(var O,L=0;L<C.length;L++){if((O=A(C.charAt(L)))==="L")return!1;if(O==="R")return!0}return!1},I=function(C,O,L,z){var re,Y,K,q,Z=O[z];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(Z="AN");break;case"AL":x=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":z<1||z+1>=O.length||(re=L[z-1])!=="EN"&&re!=="AN"||(Y=O[z+1])!=="EN"&&Y!=="AN"?Z="N":x&&(Y="AN"),Z=Y===re?Y:"N";break;case"ES":Z=(re=z>0?L[z-1]:"B")==="EN"&&z+1<O.length&&O[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&L[z-1]==="EN"){Z="EN";break}if(x){Z="N";break}for(K=z+1,q=O.length;K<q&&O[K]==="ET";)K++;Z=K<q&&O[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(q=O.length,K=z+1;K<q&&O[K]==="NSM";)K++;if(K<q){var ye=C[z],ce=ye>=1425&&ye<=2303||ye===64286;if(re=O[K],ce&&(re==="R"||re==="AL")){Z="R";break}}}Z=z<1||(re=O[z-1])==="B"?"N":L[z-1];break;case"B":x=!1,i=!0,Z=_;break;case"S":a=!0,Z="N"}return Z},P=function(C,O,L){var z=C.split("");return L&&E(z,L,{hiLevel:_}),z.reverse(),O&&O.reverse(),z.join("")},E=function(C,O,L){var z,re,Y,K,q,Z=-1,ye=C.length,ce=0,F=[],V=_?f:p,G=[];for(x=!1,i=!1,a=!1,re=0;re<ye;re++)G[re]=A(C[re]);for(Y=0;Y<ye;Y++){if(q=ce,F[Y]=I(C,G,F,Y),z=240&(ce=V[q][v[F[Y]]]),ce&=15,O[Y]=K=V[ce][5],z>0)if(z===16){for(re=Z;re<Y;re++)O[re]=1;Z=-1}else Z=-1;if(V[ce][6])Z===-1&&(Z=Y);else if(Z>-1){for(re=Z;re<Y;re++)O[re]=K;Z=-1}G[Y]==="B"&&(O[Y]=0),L.hiLevel|=K}a&&function(oe,J,ne){for(var xe=0;xe<ne;xe++)if(oe[xe]==="S"){J[xe]=_;for(var he=xe-1;he>=0&&oe[he]==="WS";he--)J[he]=_}}(G,O,ye)},k=function(C,O,L,z,re){if(!(re.hiLevel<C)){if(C===1&&_===1&&!i)return O.reverse(),void(L&&L.reverse());for(var Y,K,q,Z,ye=O.length,ce=0;ce<ye;){if(z[ce]>=C){for(q=ce+1;q<ye&&z[q]>=C;)q++;for(Z=ce,K=q-1;Z<K;Z++,K--)Y=O[Z],O[Z]=O[K],O[K]=Y,L&&(Y=L[Z],L[Z]=L[K],L[K]=Y);ce=q}ce++}}},D=function(C,O,L){var z=C.split(""),re={hiLevel:_};return L||(L=[]),E(z,L,re),function(Y,K,q){if(q.hiLevel!==0&&d)for(var Z,ye=0;ye<Y.length;ye++)K[ye]===1&&(Z=g.indexOf(Y[ye]))>=0&&(Y[ye]=g[Z+1])}(z,L,re),k(2,z,O,L,re),k(1,z,O,L,re),z.join("")};return this.__bidiEngine__.doBidiReorder=function(C,O,L){if(function(re,Y){if(Y)for(var K=0;K<re.length;K++)Y[K]=K;s===void 0&&(s=N(re)),c===void 0&&(c=N(re))}(C,O),o||!l||c)if(o&&l&&s^c)_=s?1:0,C=P(C,O,L);else if(!o&&l&&c)_=s?1:0,C=D(C,O,L),C=P(C,O);else if(!o||s||l||c){if(o&&!l&&s^c)C=P(C,O),s?(_=0,C=D(C,O,L)):(_=1,C=D(C,O,L),C=P(C,O));else if(o&&s&&!l&&c)_=1,C=D(C,O,L),C=P(C,O);else if(!o&&!l&&s^c){var z=d;s?(_=1,C=D(C,O,L),_=0,d=!1,C=D(C,O,L),d=z):(_=0,C=D(C,O,L),C=P(C,O),_=1,d=!1,C=D(C,O,L),d=z,C=P(C,O))}}else _=0,C=D(C,O,L);else _=s?1:0,C=D(C,O,L);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,l=C.isOutputVisual,s=C.isInputRtl,c=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([r.doBidiReorder(i[s])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ot),Ot.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new of(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new LQe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _Qe(this.contents),this.head=new AQe(this),this.name=new jQe(this),this.cmap=new Ure(this),this.toUnicode={},this.hhea=new EQe(this),this.maxp=new CQe(this),this.hmtx=new kQe(this),this.post=new PQe(this),this.os2=new NQe(this),this.loca=new DQe(this),this.glyf=new IQe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,c;for(c=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var $l,of=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,s,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),_Qe=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,s,l,c,d,h,p,f,v,m;for(m in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),d=16*f-h,(i=new of).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(d),a=16*f,c=i.pos+a,s=null,v=[],r)for(p=r[m],i.writeString(m),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),v=v.concat(p),m==="head"&&(s=c),c+=p.length;c%4;)v.push(0),c++;return i.write(v),n=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=Vre.call(r);r.length%4;)r.push(0);for(a=new of(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),SQe={}.hasOwnProperty,Bc=function(t,e){for(var r in e)SQe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};$l=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var AQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new of).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),$U=function(){function t(e,r){var n,i,a,o,s,l,c,d,h,p,f,v,m,g,y,x,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,a=function(){var A,N;for(N=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)N.push(e.readUInt16());return N}(),e.pos+=2,m=function(){var A,N;for(N=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)N.push(e.readUInt16());return N}(),c=function(){var A,N;for(N=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)N.push(e.readUInt16());return N}(),d=function(){var A,N;for(N=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)N.push(e.readUInt16());return N}(),i=(this.length-e.pos+this.offset)/2,s=function(){var A,N;for(N=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)N.push(e.readUInt16());return N}(),l=y=0,_=a.length;y<_;l=++y)for(g=a[l],n=x=v=m[l];v<=g?x<=g:x>=g;n=v<=g?++x:--x)d[l]===0?o=n+c[l]:(o=s[d[l]/2+(n-v)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,i,a,o,s,l,c,d,h,p,f,v,m,g,y,x,_,A,N,I,P,E,k,D,C,O,L,z,re,Y,K,q,Z,ye,ce,F,V,G,oe,J,ne,xe,he,T,X,le;switch(z=new of,o=Object.keys(e).sort(function(de,ve){return de-ve}),r){case"macroman":for(m=0,g=function(){var de=[];for(v=0;v<256;++v)de.push(0);return de}(),x={0:0},a={},re=0,Z=o.length;re<Z;re++)x[he=e[i=o[re]]]==null&&(x[he]=++m),a[i]={old:e[i],new:x[e[i]]},g[i]=x[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(g),{charMap:a,subtable:z.data,maxGlyphID:m+1};case"unicode":for(O=[],h=[],_=0,x={},n={},y=c=null,Y=0,ye=o.length;Y<ye;Y++)x[N=e[i=o[Y]]]==null&&(x[N]=++_),n[i]={old:N,new:x[N]},s=x[N]-i,y!=null&&s===c||(y&&h.push(y),O.push(i),c=s),y=i;for(y&&h.push(y),h.push(65535),O.push(65535),D=2*(k=O.length),E=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,P=2*k-E,l=[],I=[],f=[],v=K=0,ce=O.length;K<ce;v=++K){if(C=O[v],d=h[v],C===65535){l.push(0),I.push(0);break}if(C-(L=n[C].new)>=32768)for(l.push(0),I.push(2*(f.length+k-v)),i=q=C;C<=d?q<=d:q>=d;i=C<=d?++q:--q)f.push(n[i].new);else l.push(L-C),I.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*k+2*f.length),z.writeUInt16(0),z.writeUInt16(D),z.writeUInt16(E),z.writeUInt16(p),z.writeUInt16(P),ne=0,F=h.length;ne<F;ne++)i=h[ne],z.writeUInt16(i);for(z.writeUInt16(0),xe=0,V=O.length;xe<V;xe++)i=O[xe],z.writeUInt16(i);for(T=0,G=l.length;T<G;T++)s=l[T],z.writeUInt16(s);for(X=0,oe=I.length;X<oe;X++)A=I[X],z.writeUInt16(A);for(le=0,J=f.length;le<J;le++)m=f[le],z.writeUInt16(m);return{charMap:n,subtable:z.data,maxGlyphID:_+1}}},t}(),Ure=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new $U(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=$U.encode(e,r),(i=new of).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),EQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),NQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),PQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,s,l;for(l=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),TQe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},jQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,s,l,c,d,h,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),s=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(l={},a=d=0,h=n.length;d<h;a=++d)i=n[a],e.pos=i.offset,c=e.readString(i.length),o=new TQe(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),CQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),kQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,s,l;for(e.pos=this.offset,this.metrics=[],r=0,s=this.file.hhea.numberOfMetrics;0<=s?r<s:r>s;r=0<=s?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)d.push(e.readInt16());return d}(),this.widths=(function(){var c,d,h,p;for(p=[],c=0,d=(h=this.metrics).length;c<d;c++)a=h[c],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Vre=[].slice,IQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,s,l,c,d,h;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(s=new of(r.read(i))).readShort(),c=s.readShort(),h=s.readShort(),l=s.readShort(),d=s.readShort(),this.cache[e]=o===-1?new RQe(s,c,h,l,d):new OQe(s,o,c,h,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,s,l;for(o=[],a=[],s=0,l=r.length;s<l;s++)i=e[r[s]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t}(),OQe=function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),RQe=function(){function t(e,r,n,i,a){var o,s;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new of(Vre.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),DQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,$l),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var s=this.offsets[o],l=this.offsets[o+1]-s;l>0&&(i+=l)}for(var c=new Array(4*n.length),d=0;d<n.length;++d)c[4*d+3]=255&n[d],c[4*d+2]=(65280&n[d])>>8,c[4*d+1]=(16711680&n[d])>>16,c[4*d]=(4278190080&n[d])>>24;return c},t}(),LQe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,s,l,c,d,h,p,f,v,m,g,y;for(i in n=Ure.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},y=n.charMap)f[(l=y[i]).old]=l.new;for(v in p=n.maxGlyphID,o)v in f||(f[v]=p++);return d=function(x){var _,A;for(_ in A={},x)A[x[_]]=_;return A}(f),h=Object.keys(d).sort(function(x,_){return x-_}),m=function(){var x,_,A;for(A=[],x=0,_=h.length;x<_;x++)s=h[x],A.push(d[s]);return A}(),a=this.font.glyf.encode(o,m,f),c=this.font.loca.encode(a.offsets,m),g={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();Ot.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var s,l,c;for(c=[],s=0,l=r.length;s<l;s++)n=r[s],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e}();const MQe=()=>{var xe,he;const{user:t}=qr(),[e,r]=j.useState(new Date().getMonth()+1),[n,i]=j.useState(new Date().getFullYear()),[a,o]=j.useState(null),[s,l]=j.useState(null),[c,d]=j.useState("all"),[h,p]=j.useState("all"),[f,v]=j.useState("all"),{data:m=[]}=rd((t==null?void 0:t.uid)||""),{data:g=[]}=Iy((t==null?void 0:t.uid)||""),{data:y=[]}=zx((t==null?void 0:t.uid)||""),x=`${n}-${String(e).padStart(2,"0")}-01`,_=new Date(n,e,0).toISOString().split("T")[0],{data:A=[]}=as((t==null?void 0:t.uid)||"",x,_),I=(()=>{let T=A;return c==="deposits"?T=T.filter(X=>X.type==="deposit"):c==="withdraws"&&(T=T.filter(X=>X.type==="withdraw")),h!=="all"&&(T=T.filter(X=>X.employeeId===h)),f!=="all"&&(T=T.filter(X=>X.platformId===f)),T})(),P=()=>{d("all"),p("all"),v("all")},E=C3(),k=new Date(ac().getTime()-7*24*60*60*1e3).toISOString().split("T")[0],{data:D=[],isLoading:C}=as((t==null?void 0:t.uid)||"",k,E),L=(()=>{const T=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],X=[];for(let le=6;le>=0;le--){const de=new Date;de.setDate(de.getDate()-le);const ve=de.toISOString().split("T")[0],ee=D.filter(Ae=>{var we,De;return new Date(((De=(we=Ae.createdAt)==null?void 0:we.toDate)==null?void 0:De.call(we))||Ae.createdAt).toISOString().split("T")[0]===ve}),Ne=ee.filter(Ae=>Ae.type==="withdraw").reduce((Ae,ge)=>Ae+(Number(ge.amount)||0),0),Re=ee.filter(Ae=>Ae.type==="deposit").reduce((Ae,ge)=>Ae+(Number(ge.amount)||0),0),Le=X.length>0?X[X.length-1].lucroAcumulado+Ne-Re:Ne-Re;X.push({name:T[de.getDay()],receita:Ne,despesa:Re,lucro:Ne-Re,lucroAcumulado:Le,date:ve,isToday:le===0})}return X})(),z=a&&s?`${s}-${String(a).padStart(2,"0")}-01`:"",re=a&&s?new Date(s,a,0).toISOString().split("T")[0]:"",{data:Y=[]}=as((t==null?void 0:t.uid)||"",z,re),K=j.useMemo(()=>{const T=y.filter(ge=>{const we=new Date(ge.date);return we.getFullYear()===n&&we.getMonth()===e-1}),X=T.reduce((ge,we)=>ge+(we.profit||we.margin||0),0),le=new Set(T.map(ge=>ge.date)),de=A.filter(ge=>!le.has(ge.date)),ve=de.reduce((ge,we)=>{const De=we.type==="withdraw"?we.amount:-we.amount;return ge+De},0),ee=X+ve,Ne=A.filter(ge=>ge.type==="deposit"),Re=A.filter(ge=>ge.type==="withdraw"),Le=Ne.reduce((ge,we)=>ge+Number(we.amount||0),0),Ae=Re.reduce((ge,we)=>ge+Number(we.amount||0),0);return console.log("Relatórios - Cálculo Receita Mensal:",{selectedYear:n,selectedMonth:e,monthlySummaries:T.length,monthlyRevenueFromSummaries:X,monthlyTransactions:A.length,openTransactions:de.length,monthlyRevenueFromTransactions:ve,profit:ee}),{deposits:Le,withdraws:Ae,profit:ee,transactionCount:A.length}},[A,y,n,e]),q=j.useMemo(()=>{if(!Y.length)return null;const T=y.filter(ge=>{const we=new Date(ge.date);return we.getFullYear()===s&&we.getMonth()===(a||0)-1}),X=T.reduce((ge,we)=>ge+(we.profit||we.margin||0),0),le=new Set(T.map(ge=>ge.date)),ve=Y.filter(ge=>!le.has(ge.date)).reduce((ge,we)=>{const De=we.type==="withdraw"?we.amount:-we.amount;return ge+De},0),ee=X+ve,Ne=Y.filter(ge=>ge.type==="deposit"),Re=Y.filter(ge=>ge.type==="withdraw"),Le=Ne.reduce((ge,we)=>ge+Number(we.amount||0),0),Ae=Re.reduce((ge,we)=>ge+Number(we.amount||0),0);return{deposits:Le,withdraws:Ae,profit:ee,transactionCount:Y.length}},[Y,y,s,a]),Z=j.useMemo(()=>{const T=new Date(n,e,0).getDate(),X=[],le=y.filter(Ne=>{const Re=new Date(Ne.date),Le=Re.getFullYear()===n&&Re.getMonth()===e-1;return console.log(`Fechamento ${Ne.date}:`,{summaryDate:Re.toISOString(),year:Re.getFullYear(),month:Re.getMonth(),selectedYear:n,selectedMonth:e-1,matches:Le}),Le}),de=new Map;le.forEach(Ne=>{de.set(Ne.date,Ne)});const ve=new Set(le.map(Ne=>Ne.date)),ee=new Map;A.forEach(Ne=>{ve.has(Ne.date)||(ee.has(Ne.date)||ee.set(Ne.date,[]),ee.get(Ne.date).push(Ne))});for(let Ne=1;Ne<=T;Ne++){const Re=`${n}-${String(e).padStart(2,"0")}-${String(Ne).padStart(2,"0")}`;let Le=0,Ae=0,ge=0,we=0;const De=de.get(Re);if(De)Le=De.profit||De.margin||0,Ae=De.totalDeposits||0,ge=De.totalWithdraws||0,we=De.transactionCount||0,console.log(`Dia ${Ne} (${Re}): Usando fechamento - Profit: ${Le}`);else{const ze=ee.get(Re)||[],st=ze.filter(Ze=>Ze.type==="deposit"),nt=ze.filter(Ze=>Ze.type==="withdraw");Ae=st.reduce((Ze,_t)=>Ze+Number(_t.amount||0),0),ge=nt.reduce((Ze,_t)=>Ze+Number(_t.amount||0),0),Le=ge-Ae,we=ze.length,Le!==0&&console.log(`Dia ${Ne} (${Re}): Usando transações abertas - Profit: ${Le}`)}X.push({day:Ne,date:Re,lucroPrejuizo:Le,depositos:Ae,saques:ge,transacoes:we})}return console.log("Relatórios - DailyData calculado:",{selectedYear:n,selectedMonth:e,monthlySummaries:le.length,monthlyTransactions:A.length,dailyStats:X.filter(Ne=>Ne.lucroPrejuizo!==0).length}),console.log("Relatórios - Fechamentos diários detalhados:",le.map(Ne=>({date:Ne.date,profit:Ne.profit||Ne.margin||0,totalDeposits:Ne.totalDeposits||0,totalWithdraws:Ne.totalWithdraws||0}))),console.log("Relatórios - Dias com lucro no gráfico:",X.filter(Ne=>Ne.lucroPrejuizo!==0).map(Ne=>({day:Ne.day,date:Ne.date,lucroPrejuizo:Ne.lucroPrejuizo}))),X},[A,y,e,n]),ye=j.useMemo(()=>{const T=[];for(let X=0;X<Z.length-1;X++){const le=Z[X],de=Z[X+1],ve=de.lucroPrejuizo>le.lucroPrejuizo,ee=ve?"#22c55e":"#ef4444";T.push({startDay:le.day,endDay:de.day,startValue:le.lucroPrejuizo,endValue:de.lucroPrejuizo,color:ee,isRising:ve})}return T},[Z]),ce=j.useMemo(()=>g.map(T=>{const X=A.filter(Re=>Re.platformId===T.id),le=X.filter(Re=>Re.type==="deposit"),de=X.filter(Re=>Re.type==="withdraw"),ve=le.reduce((Re,Le)=>Re+Number(Le.amount||0),0),ee=de.reduce((Re,Le)=>Re+Number(Le.amount||0),0),Ne=ee-ve;return{name:T.name,color:T.color,receita:Ne,depositos:ve,saques:ee,transacoes:X.length}}).filter(T=>T.transacoes>0).sort((T,X)=>X.receita-T.receita),[g,A]),F=j.useMemo(()=>m.map(T=>{const X=A.filter(Re=>Re.employeeId===T.id),le=X.filter(Re=>Re.type==="deposit"),de=X.filter(Re=>Re.type==="withdraw"),ve=le.reduce((Re,Le)=>Re+Number(Le.amount||0),0),ee=de.reduce((Re,Le)=>Re+Number(Le.amount||0),0),Ne=ee-ve;return{name:T.name,receita:Ne,depositos:ve,saques:ee,transacoes:X.length}}).filter(T=>T.transacoes>0).sort((T,X)=>X.receita-T.receita),[m,A]),G=q?((T,X)=>X===0?T>0?100:0:(T-X)/X*100)(K.profit,q.profit):0,oe=()=>{try{let X="\uFEFF";X+=`=== Optify - Sistema de Gestão Financeira ===
`,X+=`Relatório de ${ne[e-1]} de ${n}
`,X+=`Gerado em: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}
`,X+=`
`,X+=`=== RESUMO EXECUTIVO ===
`,X+=`Total de Receitas,R$ ${K.withdraws.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,X+=`Total de Despesas,R$ ${K.deposits.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,X+=`Lucro Líquido,R$ ${K.profit.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,X+=`Total de Transações,${A.length}
`,X+=`Funcionários Ativos,${m.filter(Ne=>Ne.status==="active").length}
`,X+=`Plataformas Utilizadas,${g.length}
`,X+=`
`,X+=`=== ANÁLISE POR FUNCIONÁRIO ===
`,X+=`Funcionário,Depósitos,Saques,Lucro,Transações
`,m.forEach(Ne=>{const Re=A.filter(we=>we.employeeId===Ne.id),Le=Re.filter(we=>we.type==="deposit").reduce((we,De)=>we+Number(De.amount||0),0),Ae=Re.filter(we=>we.type==="withdraw").reduce((we,De)=>we+Number(De.amount||0),0),ge=Ae-Le;X+=`"${Ne.name}",R$ ${Le.toLocaleString("pt-BR")},R$ ${Ae.toLocaleString("pt-BR")},R$ ${ge.toLocaleString("pt-BR")},${Re.length}
`}),X+=`
`,X+=`=== ANÁLISE POR PLATAFORMA ===
`,X+=`Plataforma,Depósitos,Saques,Transações
`,g.forEach(Ne=>{const Re=A.filter(ge=>ge.platformId===Ne.id),Le=Re.filter(ge=>ge.type==="deposit").reduce((ge,we)=>ge+Number(we.amount||0),0),Ae=Re.filter(ge=>ge.type==="withdraw").reduce((ge,we)=>ge+Number(we.amount||0),0);X+=`"${Ne.name}",R$ ${Le.toLocaleString("pt-BR")},R$ ${Ae.toLocaleString("pt-BR")},${Re.length}
`}),X+=`
`,X+=`=== TRANSAÇÕES DETALHADAS ===
`,X+=`Data,Hora,Tipo,Funcionário,Plataforma,Valor,Saldo Diário
`;let le=0;A.forEach(Ne=>{var we,De;const Re=m.find(ze=>ze.id===Ne.employeeId),Le=g.find(ze=>ze.id===Ne.platformId),Ae=Number(Ne.amount||0);Ne.type==="withdraw"?le+=Ae:le-=Ae;const ge=new Date(((De=(we=Ne.createdAt)==null?void 0:we.toDate)==null?void 0:De.call(we))||Ne.createdAt);X+=`"${ge.toLocaleDateString("pt-BR")}","${ge.toLocaleTimeString("pt-BR")}","${Ne.type==="withdraw"?"Saque":"Depósito"}","${(Re==null?void 0:Re.name)||"N/A"}","${(Le==null?void 0:Le.name)||"N/A"}","R$ ${Ae.toLocaleString("pt-BR")}","R$ ${le.toLocaleString("pt-BR")}"
`});const de=new Blob([X],{type:"text/csv;charset=utf-8;"}),ve=document.createElement("a"),ee=URL.createObjectURL(de);ve.setAttribute("href",ee),ve.setAttribute("download",`relatorio_optify_${ne[e-1]}_${n}.csv`),ve.style.visibility="hidden",document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),Ge.success("Relatório CSV exportado com sucesso!")}catch(T){console.error("Erro ao exportar CSV:",T),Ge.error("Erro ao exportar relatório CSV")}},J=()=>{try{const T=new Ot,X=T.internal.pageSize.getWidth(),le=T.internal.pageSize.getHeight(),de=20,ve=[255,165,0],ee=[255,140,0],Ne=[45,45,45],Re=[245,245,245],Le=[150,150,150],Ae=[255,255,255],ge=[34,197,94],we=[239,68,68];for(let xt=0;xt<40;xt++){const tr=255-xt*6;T.setFillColor(tr,Math.floor(tr*.65),0),T.rect(0,xt*7,X,7,"F")}const De=X/2,ze=65,st=18,nt=[255,140,0],Ze=[255,200,100],_t=st*2.4,Tt=st*1.2,St=st*1.2,Ct=st*2.8,at=ze-St-Ct/2,Jt=ze-Ct/2,Kt=ze+Ct/2;T.setFillColor(...nt),T.setDrawColor(...nt);const lt=[[De-_t/2,at],[De+_t/2,at],[De+Tt/2,Jt],[De-Tt/2,Jt]];T.triangle(De-_t/2,at,De+_t/2,at,De,Jt,"F"),T.triangle(De-Tt/2,Jt,De,Jt,De,Kt,"F"),T.triangle(De+Tt/2,Jt,De,Jt,De,Kt,"F"),T.setDrawColor(255,255,255),T.setLineWidth(1.2),T.line(De-_t/2,at,De+_t/2,at),T.line(De-_t/2,at,De-Tt/2,Jt),T.line(De+_t/2,at,De+Tt/2,Jt),T.line(De-_t/2,at,De+_t/2,at),T.line(De,at,De,Kt),T.line(De-Tt/2,Jt,De,Kt),T.line(De+Tt/2,Jt,De,Kt),T.line(De-Tt/2,Jt,De+Tt/2,Jt),T.setTextColor(...Ae),T.setFontSize(52),T.setFont("helvetica","bold"),T.text("Optify",De,120,{align:"center"}),T.setFontSize(18),T.setFont("helvetica","normal"),T.text("Sistema de Gestão de Operações",De,140,{align:"center"}),T.setFontSize(24),T.setFont("helvetica","bold"),T.text("Relatório Mensal",De,170,{align:"center"}),T.setFontSize(18),T.setFont("helvetica","normal"),T.text(`${ne[e-1]} de ${n}`,De,185,{align:"center"}),T.setFontSize(10),T.setTextColor(...Le),T.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,De,250,{align:"center"}),T.text(`Total de Transações: ${A.length}`,De,260,{align:"center"}),T.setFontSize(8),T.text("Relatório Confidencial",De,le-10,{align:"center"}),T.addPage();let Oe=20;T.setFillColor(...ve),T.rect(0,0,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ne[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(20),T.setFont("helvetica","bold"),T.text("Resumo Executivo",de,Oe),Oe+=15;const Mt=(X-3*de)/2,mt=35;T.setFillColor(...Re),T.roundedRect(de,Oe,Mt,mt,3,3,"F"),T.setDrawColor(...ge),T.setLineWidth(.5),T.roundedRect(de,Oe,Mt,mt,3,3,"S"),T.setTextColor(...Le),T.setFontSize(10),T.setFont("helvetica","normal"),T.text("Total de Receitas",de+5,Oe+10),T.setTextColor(...ge),T.setFontSize(18),T.setFont("helvetica","bold"),T.text(`R$ ${K.withdraws.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,de+5,Oe+25),T.setFillColor(...Re),T.roundedRect(de+Mt+de,Oe,Mt,mt,3,3,"F"),T.setDrawColor(...we),T.roundedRect(de+Mt+de,Oe,Mt,mt,3,3,"S"),T.setTextColor(...Le),T.setFontSize(10),T.setFont("helvetica","normal"),T.text("Total de Despesas",de+Mt+de+5,Oe+10),T.setTextColor(...we),T.setFontSize(18),T.setFont("helvetica","bold"),T.text(`R$ ${K.deposits.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,de+Mt+de+5,Oe+25),Oe+=mt+10;const er=K.profit>=0?ge:we;T.setFillColor(...Re),T.roundedRect(de,Oe,X-2*de,mt,3,3,"F"),T.setDrawColor(...er),T.setLineWidth(.8),T.roundedRect(de,Oe,X-2*de,mt,3,3,"S"),T.setTextColor(...Le),T.setFontSize(12),T.setFont("helvetica","normal"),T.text("Lucro Líquido do Período",de+5,Oe+12),T.setTextColor(...er),T.setFontSize(22),T.setFont("helvetica","bold");const $t=`${K.profit>=0?"+":""}R$ ${Math.abs(K.profit).toLocaleString("pt-BR",{minimumFractionDigits:2})}`;T.text($t,de+5,Oe+28),Oe+=mt+20,T.setFillColor(...Ne),T.rect(de,Oe,X-2*de,.5,"F"),Oe+=10,T.setTextColor(...Ne),T.setFontSize(14),T.setFont("helvetica","bold"),T.text("Métricas do Período",de,Oe),Oe+=12;const Vr=[{label:"Total de Transações",value:A.length.toString()},{label:"Funcionários Ativos",value:m.filter(xt=>xt.status==="active").length.toString()},{label:"Plataformas Utilizadas",value:g.length.toString()},{label:"Ticket Médio",value:`R$ ${(K.withdraws/A.filter(xt=>xt.type==="withdraw").length||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`}],hn=(X-5*de)/2;let Dt=de,bt=Oe;Vr.forEach((xt,tr)=>{tr===2&&(Dt=de,bt+=25),T.setFillColor(...Re),T.roundedRect(Dt,bt,hn,20,2,2,"F"),T.setTextColor(...Le),T.setFontSize(8),T.setFont("helvetica","normal"),T.text(xt.label,Dt+5,bt+8),T.setTextColor(...Ne),T.setFontSize(11),T.setFont("helvetica","bold"),T.text(xt.value,Dt+5,bt+16),Dt+=hn+de}),T.addPage(),Oe=20,T.setFillColor(...ve),T.rect(0,0,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ne[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(16),T.setFont("helvetica","bold"),T.text("Análise por Funcionário",de,Oe),Oe+=15,m.forEach((xt,tr)=>{Oe>le-60&&(T.addPage(),T.setFillColor(...ve),T.rect(0,0,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ne[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=30);const Ar=A.filter(Dr=>Dr.employeeId===xt.id),yr=Ar.filter(Dr=>Dr.type==="deposit").reduce((Dr,Wn)=>Dr+Number(Wn.amount||0),0),cn=Ar.filter(Dr=>Dr.type==="withdraw").reduce((Dr,Wn)=>Dr+Number(Wn.amount||0),0),un=cn-yr;T.setFillColor(...Re),T.roundedRect(de,Oe,X-2*de,40,3,3,"F"),T.setTextColor(...Ne),T.setFontSize(12),T.setFont("helvetica","bold"),T.text(xt.name||"N/A",de+5,Oe+10);const Dn=xt.status==="active"?ge:we;T.setFillColor(...Dn),T.circle(de+5,Oe+15,2,"F"),T.setTextColor(...Dn),T.setFontSize(8),T.setFont("helvetica","normal"),T.text(xt.status==="active"?"Ativo":"Inativo",de+10,Oe+16),T.setTextColor(...Le),T.setFontSize(8),T.setFont("helvetica","normal"),T.text("Depósitos:",de+5,Oe+25),T.text("Saques:",de+55,Oe+25),T.text("Lucro:",de+100,Oe+25),T.text("Transações:",de+140,Oe+25),T.setTextColor(...Ne),T.setFontSize(10),T.setFont("helvetica","bold"),T.text(`R$ ${yr.toLocaleString("pt-BR")}`,de+5,Oe+33),T.text(`R$ ${cn.toLocaleString("pt-BR")}`,de+55,Oe+33);const pn=un>=0?ge:we;T.setTextColor(...pn),T.text(`R$ ${un.toLocaleString("pt-BR")}`,de+100,Oe+33),T.setTextColor(...Ne),T.text(Ar.length.toString(),de+140,Oe+33),Oe+=45}),T.addPage(),Oe=20,T.setFillColor(...ve),T.rect(0,0,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ne[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(16),T.setFont("helvetica","bold"),T.text("Análise por Plataforma",de,Oe),Oe+=15,g.forEach(xt=>{Oe>le-40&&(T.addPage(),T.setFillColor(...ve),T.rect(0,0,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ne[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=30);const tr=A.filter(Dr=>Dr.platformId===xt.id),Ar=tr.filter(Dr=>Dr.type==="deposit").reduce((Dr,Wn)=>Dr+Number(Wn.amount||0),0),yr=tr.filter(Dr=>Dr.type==="withdraw").reduce((Dr,Wn)=>Dr+Number(Wn.amount||0),0),cn=Ar+yr;T.setTextColor(...Ne),T.setFontSize(10),T.setFont("helvetica","bold"),T.text(xt.name||"N/A",de,Oe);const un=X-4*de,Dn=Ar/(K.deposits||1)*un,pn=yr/(K.withdraws||1)*un;T.setFillColor(...we),T.rect(de,Oe+5,Dn,6,"F"),T.setTextColor(...we),T.setFontSize(8),T.text(`D: R$ ${Ar.toLocaleString("pt-BR")}`,de,Oe+15),T.setFillColor(...ge),T.rect(de,Oe+12,pn,6,"F"),T.setTextColor(...ge),T.text(`S: R$ ${yr.toLocaleString("pt-BR")}`,de,Oe+22),T.setTextColor(...Ne),T.setFontSize(8),T.text(`${tr.length} transações`,X-de-30,Oe+15),Oe+=30}),T.addPage(),Oe=20,T.setFillColor(...ve),T.rect(0,0,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ne[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(16),T.setFont("helvetica","bold"),T.text("Evolução Diária do Lucro",de,Oe),Oe+=15;const Ft={};A.forEach(xt=>{var yr,cn;const tr=new Date(((cn=(yr=xt.createdAt)==null?void 0:yr.toDate)==null?void 0:cn.call(yr))||xt.createdAt).toLocaleDateString("pt-BR");Ft[tr]||(Ft[tr]={deposits:0,withdraws:0,profit:0});const Ar=Number(xt.amount||0);xt.type==="deposit"?Ft[tr].deposits+=Ar:Ft[tr].withdraws+=Ar,Ft[tr].profit=Ft[tr].withdraws-Ft[tr].deposits});const gt=Object.keys(Ft).sort((xt,tr)=>{const[Ar,yr,cn]=xt.split("/").map(Number),[un,Dn,pn]=tr.split("/").map(Number);return new Date(cn,yr-1,Ar).getTime()-new Date(pn,Dn-1,un).getTime()}),Nt=80,sr=X-2*de,lr=de,it=Oe;T.setFillColor(...Re),T.rect(lr,it,sr,Nt,"F"),T.setDrawColor(...Le),T.setLineWidth(.3),T.line(lr,it+Nt,lr+sr,it+Nt),T.line(lr,it,lr,it+Nt);const Yn=gt.map(xt=>Ft[xt].profit),Rn=Math.max(...Yn,0),Rr=Math.min(...Yn,0),ln=Rn-Rr||1,Jr=it+Nt-(0-Rr)/ln*Nt;T.setDrawColor(...Ne),T.setLineWidth(.5),T.setLineDash([2,2]),T.line(lr,Jr,lr+sr,Jr),T.setLineDash([]);const fn=gt.length>1?sr/(gt.length-1):0;gt.forEach((xt,tr)=>{const Ar=Ft[xt].profit,yr=lr+tr*fn,cn=it+Nt-(Ar-Rr)/ln*Nt;if(tr>0){const un=Ft[gt[tr-1]].profit,Dn=it+Nt-(un-Rr)/ln*Nt,pn=lr+(tr-1)*fn;T.setDrawColor(...ve),T.setLineWidth(1),T.line(pn,Dn,yr,cn)}T.setFillColor(...ve),T.circle(yr,cn,1.5,"F")}),T.setTextColor(...Le),T.setFontSize(8),T.setFont("helvetica","normal"),T.text(`Máx: R$ ${Rn.toLocaleString("pt-BR")}`,lr,it-2),T.text(`Mín: R$ ${Rr.toLocaleString("pt-BR")}`,lr,it+Nt+8),Oe+=Nt+20,T.setTextColor(...Ne),T.setFontSize(12),T.setFont("helvetica","bold"),T.text("Resumo Diário (últimos 10 dias)",de,Oe),Oe+=10,T.setFillColor(...Ne),T.rect(de,Oe,X-2*de,8,"F"),T.setTextColor(...Ae),T.setFontSize(8),T.setFont("helvetica","bold"),T.text("Data",de+3,Oe+5),T.text("Depósitos",de+35,Oe+5),T.text("Saques",de+75,Oe+5),T.text("Lucro",de+115,Oe+5),Oe+=8,gt.slice(-10).forEach((xt,tr)=>{Oe>le-30&&(T.addPage(),T.setFillColor(...ve),T.rect(0,0,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ne[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=25);const Ar=Ft[xt];tr%2===0&&(T.setFillColor(...Re),T.rect(de,Oe,X-2*de,7,"F")),T.setTextColor(...Ne),T.setFontSize(7),T.setFont("helvetica","normal"),T.text(xt,de+3,Oe+5),T.text(`R$ ${Ar.deposits.toLocaleString("pt-BR")}`,de+35,Oe+5),T.text(`R$ ${Ar.withdraws.toLocaleString("pt-BR")}`,de+75,Oe+5);const yr=Ar.profit>=0?ge:we;T.setTextColor(...yr),T.setFont("helvetica","bold"),T.text(`R$ ${Ar.profit.toLocaleString("pt-BR")}`,de+115,Oe+5),Oe+=7}),T.addPage(),Oe=20,T.setFillColor(...ve),T.rect(0,0,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ne[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=35,T.setTextColor(...Ne),T.setFontSize(16),T.setFont("helvetica","bold"),T.text("Transações Detalhadas",de,Oe),Oe+=10,T.setFillColor(...Ne),T.rect(de,Oe,X-2*de,10,"F"),T.setTextColor(...Ae),T.setFontSize(9),T.setFont("helvetica","bold"),T.text("Data",de+3,Oe+7),T.text("Tipo",de+25,Oe+7),T.text("Funcionário",de+50,Oe+7),T.text("Plataforma",de+95,Oe+7),T.text("Valor",de+135,Oe+7,{align:"right"}),Oe+=10,A.slice(0,30).forEach((xt,tr)=>{var pn,Dr;Oe>le-30&&(T.addPage(),T.setFillColor(...ve),T.rect(0,0,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(10),T.setFont("helvetica","bold"),T.text("Optify",de,10),T.text(`Relatório de ${ne[e-1]} ${n}`,X-de,10,{align:"right"}),Oe=25,T.setFillColor(...Ne),T.rect(de,Oe,X-2*de,10,"F"),T.setTextColor(...Ae),T.setFontSize(9),T.setFont("helvetica","bold"),T.text("Data",de+3,Oe+7),T.text("Tipo",de+25,Oe+7),T.text("Funcionário",de+50,Oe+7),T.text("Plataforma",de+95,Oe+7),T.text("Valor",de+135,Oe+7,{align:"right"}),Oe+=10);const Ar=m.find(Wn=>Wn.id===xt.employeeId),yr=g.find(Wn=>Wn.id===xt.platformId);tr%2===0&&(T.setFillColor(...Re),T.rect(de,Oe,X-2*de,8,"F")),T.setTextColor(...Ne),T.setFontSize(8),T.setFont("helvetica","normal");const cn=new Date(((Dr=(pn=xt.createdAt)==null?void 0:pn.toDate)==null?void 0:Dr.call(pn))||xt.createdAt);T.text(cn.toLocaleDateString("pt-BR"),de+3,Oe+5);const un=xt.type==="withdraw"?ge:we;T.setTextColor(...un),T.setFont("helvetica","bold"),T.text(xt.type==="withdraw"?"Saque":"Depósito",de+25,Oe+5),T.setTextColor(...Ne),T.setFont("helvetica","normal"),T.text(((Ar==null?void 0:Ar.name)||"N/A").substring(0,20),de+50,Oe+5),T.text(((yr==null?void 0:yr.name)||"N/A").substring(0,18),de+95,Oe+5),T.setTextColor(...un),T.setFont("helvetica","bold");const Dn=`${xt.type==="withdraw"?"+":"-"}R$ ${Number(xt.amount||0).toLocaleString("pt-BR")}`;T.text(Dn,de+135,Oe+5,{align:"right"}),Oe+=8}),T.setFillColor(...Ne),T.rect(0,le-15,X,15,"F"),T.setTextColor(...Ae),T.setFontSize(8),T.setFont("helvetica","normal"),T.text(`Página ${T.getCurrentPageInfo().pageNumber}`,de,le-8),T.text("Optify - Sistema de Gestão Financeira",X-de,le-8,{align:"right"}),T.save(`relatorio_optify_${ne[e-1]}_${n}.pdf`),Ge.success("Relatório PDF exportado com sucesso!")}catch(T){console.error("Erro ao exportar PDF:",T),Ge.error("Erro ao exportar relatório PDF")}},ne=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",className:"text-primary",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"diamondGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#FFA500"}),u.jsx("stop",{offset:"100%",stopColor:"#FF8C00"})]})}),u.jsx("path",{d:"M20 2 L30 12 L20 22 L10 12 Z",fill:"url(#diamondGradient)",stroke:"none"}),u.jsx("path",{d:"M20 6 L26 12 L20 18 L14 12 Z",fill:"white",opacity:"0.3"})]}),u.jsx("div",{className:"absolute -inset-1 bg-primary/20 rounded-full blur-sm animate-pulse"})]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Relatórios"}),u.jsx("p",{className:"text-muted-foreground",children:"Análises e insights do seu negócio"})]})]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(He,{variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 hover:shadow-lg",onClick:oe,children:[u.jsx(Mj,{className:"h-4 w-4"}),"Exportar CSV"]}),u.jsxs(He,{variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 hover:shadow-lg",onClick:J,children:[u.jsx(Mj,{className:"h-4 w-4"}),"Exportar PDF"]})]})]}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(xv,{className:"h-5 w-5"}),u.jsx("span",{className:"font-medium",children:"Período:"})]}),u.jsxs(ci,{value:e.toString(),onValueChange:T=>r(Number(T)),children:[u.jsx(Qn,{className:"w-40",children:u.jsx(ui,{})}),u.jsx(Jn,{children:ne.map((T,X)=>u.jsx($r,{value:(X+1).toString(),children:T},X))})]}),u.jsxs(ci,{value:n.toString(),onValueChange:T=>i(Number(T)),children:[u.jsx(Qn,{className:"w-32",children:u.jsx(ui,{})}),u.jsx(Jn,{children:[2024,2025,2026].map(T=>u.jsx($r,{value:T.toString(),children:T},T))})]}),u.jsx(He,{variant:"outline",onClick:()=>{o(e),l(n)},children:"Comparar com Outros Meses"})]}),a&&s&&u.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Comparando com:"}),u.jsxs(ci,{value:a.toString(),onValueChange:T=>o(Number(T)),children:[u.jsx(Qn,{className:"w-40",children:u.jsx(ui,{})}),u.jsx(Jn,{children:ne.map((T,X)=>u.jsx($r,{value:(X+1).toString(),children:T},X))})]}),u.jsxs(ci,{value:s.toString(),onValueChange:T=>l(Number(T)),children:[u.jsx(Qn,{className:"w-32",children:u.jsx(ui,{})}),u.jsx(Jn,{children:[2024,2025,2026].map(T=>u.jsx($r,{value:T.toString(),children:T},T))})]}),u.jsx(He,{variant:"ghost",size:"sm",onClick:()=>{o(null),l(null)},children:"Remover Comparação"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Mês"}),u.jsxs("p",{className:`text-3xl font-bold ${K.profit>=0?"text-success":"text-destructive"}`,children:["R$ ",K.profit.toLocaleString("pt-BR")]}),q&&u.jsxs("div",{className:`flex items-center gap-1 text-sm mt-1 ${G>=0?"text-success":"text-destructive"}`,children:[G>=0?u.jsx(Ti,{className:"h-4 w-4"}):u.jsx(Vh,{className:"h-4 w-4"}),G>=0?"+":"",G.toFixed(1),"% vs. ",ne[a-1]]})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(Ti,{className:"h-6 w-6 text-primary-foreground"})})]})}),u.jsx(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),u.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",K.deposits.toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(Vh,{className:"h-6 w-6 text-primary-foreground"})})]})}),u.jsx(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),u.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",K.withdraws.toLocaleString("pt-BR")]})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(Ti,{className:"h-6 w-6 text-primary-foreground"})})]})}),u.jsx(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),u.jsx("p",{className:"text-3xl font-bold",children:K.transactionCount})]}),u.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:u.jsx(xv,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-6",children:["Lucro/Prejuízo Diário - ",ne[e-1]," ",n]}),u.jsxs("div",{className:"mb-4 flex items-center gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-0.5 bg-green-500"}),u.jsx("span",{children:"Subida"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-0.5 bg-red-500"}),u.jsx("span",{children:"Queda"})]})]}),u.jsxs("div",{className:"w-full h-96 relative",children:[u.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[u.jsx("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",stroke:"hsl(var(--muted-foreground))",strokeDasharray:"2,2",strokeWidth:"1"}),ye.map((T,X)=>{const le=(T.startDay-1)/(Z.length-1)*100,de=(T.endDay-1)/(Z.length-1)*100,ve=Z.map(we=>we.lucroPrejuizo),ee=Math.max(...ve,0),Ne=Math.min(...ve,0),Re=Math.max(Math.abs(ee),Math.abs(Ne)),Le=Re>0?Re*1.2:1e3,Ae=T.startValue>=0?50-T.startValue/Le*40:50+Math.abs(T.startValue)/Le*40,ge=T.endValue>=0?50-T.endValue/Le*40:50+Math.abs(T.endValue)/Le*40;return u.jsx("line",{x1:`${le}%`,y1:`${Ae}%`,x2:`${de}%`,y2:`${ge}%`,stroke:T.color,strokeWidth:"3",strokeLinecap:"round"},X)}),Z.map((T,X)=>{const le=(T.day-1)/(Z.length-1)*100,de=Z.map(Ae=>Ae.lucroPrejuizo),ve=Math.max(...de,0),ee=Math.min(...de,0),Ne=Math.max(Math.abs(ve),Math.abs(ee)),Re=Ne>0?Ne*1.2:1e3,Le=T.lucroPrejuizo>=0?50-T.lucroPrejuizo/Re*40:50+Math.abs(T.lucroPrejuizo)/Re*40;return u.jsx("circle",{cx:`${le}%`,cy:`${Le}%`,r:"4",fill:"hsl(var(--foreground))",stroke:"hsl(var(--background))",strokeWidth:"2"},X)})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-4 pb-2",children:Z.map((T,X)=>{const le=(T.day-1)/(Z.length-1)*100;return u.jsx("span",{className:"absolute text-xs text-muted-foreground",style:{left:`${le}%`,transform:"translateX(-50%)"},children:T.day},X)})}),(()=>{const T=Z.map(ee=>ee.lucroPrejuizo),X=Math.max(...T,0),le=Math.min(...T,0),de=Math.max(Math.abs(X),Math.abs(le)),ve=de>0?de*1.2:1e3;return u.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between py-4 pl-2",children:[u.jsxs("span",{className:"text-xs text-muted-foreground",children:["R$ ",ve.toLocaleString("pt-BR")]}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"R$ 0"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["-R$ ",ve.toLocaleString("pt-BR")]})]})})(),u.jsx("div",{className:"absolute inset-0",children:Z.map((T,X)=>{const le=(T.day-1)/(Z.length-1)*100,de=Z.map(Ae=>Ae.lucroPrejuizo),ve=Math.max(...de,0),ee=Math.min(...de,0),Ne=Math.max(Math.abs(ve),Math.abs(ee)),Re=Ne>0?Ne*1.2:1e3,Le=T.lucroPrejuizo>=0?50-T.lucroPrejuizo/Re*40:50+Math.abs(T.lucroPrejuizo)/Re*40;return u.jsxs("div",{className:"absolute text-white text-sm font-medium",style:{left:`${le}%`,top:`${Le-8}%`,transform:"translateX(-50%)"},children:["R$ ",T.lucroPrejuizo.toLocaleString("pt-BR")]},X)})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Plataforma"}),u.jsx(P1,{width:"100%",height:300,children:u.jsxs(p_,{data:ce,children:[u.jsx(R1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),u.jsx(Cp,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),u.jsx(kp,{stroke:"hsl(var(--muted-foreground))"}),u.jsx(yo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),u.jsx(Ls,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),u.jsx(P1,{width:"100%",height:300,children:u.jsxs(p_,{data:F,children:[u.jsx(R1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),u.jsx(Cp,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),u.jsx(kp,{stroke:"hsl(var(--muted-foreground))"}),u.jsx(yo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),u.jsx(Ls,{dataKey:"receita",fill:"hsl(var(--success))",radius:[8,8,0,0]})]})})]})]}),u.jsxs(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300 mt-8",id:"weekly-chart-section",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Resumo Semanal"}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-success rounded-full"}),u.jsx("span",{children:"Receitas"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full"}),u.jsx("span",{children:"Despesas"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),u.jsx("span",{children:"Lucro Acumulado"})]})]})]}),C?u.jsx("div",{className:"flex items-center justify-center h-[300px]",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Carregando dados..."})]})}):L.some(T=>T.receita>0||T.despesa>0)?u.jsx(P1,{width:"100%",height:300,children:u.jsxs(p_,{data:L,children:[u.jsx(R1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),u.jsx(Cp,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",tick:{fontSize:12}}),u.jsx(kp,{stroke:"hsl(var(--muted-foreground))",tick:{fontSize:12},tickFormatter:T=>`R$ ${T.toLocaleString("pt-BR")}`}),u.jsx(yo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(T,X)=>[`R$ ${Number(T).toLocaleString("pt-BR")}`,X==="receita"?"Receitas":X==="despesa"?"Despesas":"Lucro Acumulado"],labelFormatter:(T,X)=>{var de;const le=(de=X==null?void 0:X[0])==null?void 0:de.payload;return le?`${T} - ${le.date}`:T}}),u.jsx(Ls,{dataKey:"receita",fill:"hsl(var(--success))",radius:[4,4,0,0],name:"receita"}),u.jsx(Ls,{dataKey:"despesa",fill:"hsl(var(--destructive))",radius:[4,4,0,0],name:"despesa"}),u.jsx(Ls,{dataKey:"lucroAcumulado",fill:"hsl(var(--primary))",radius:[4,4,0,0],name:"lucroAcumulado"})]})}):u.jsx("div",{className:"flex items-center justify-center h-[300px]",children:u.jsxs("div",{className:"text-center text-muted-foreground",children:[u.jsx(Ti,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma transação esta semana"}),u.jsx("p",{className:"text-sm",children:"Os dados aparecerão aqui quando você registrar transações"})]})}),u.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Receitas"}),u.jsxs("p",{className:"text-lg font-semibold text-success",children:["R$ ",L.reduce((T,X)=>T+X.receita,0).toLocaleString("pt-BR")]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Despesas"}),u.jsxs("p",{className:"text-lg font-semibold text-destructive",children:["R$ ",L.reduce((T,X)=>T+X.despesa,0).toLocaleString("pt-BR")]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Lucro Acumulado"}),u.jsxs("p",{className:`text-lg font-semibold ${L.length>0&&L[L.length-1].lucroAcumulado>=0?"text-success":"text-destructive"}`,children:["R$ ",L.length>0?L[L.length-1].lucroAcumulado.toLocaleString("pt-BR"):"0"]})]})]})})]}),u.jsxs(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300 mt-8",id:"transactions-section",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Transações do Mês"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(mr,{variant:c==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>d("all"),children:["Todas (",A.length,")"]}),u.jsxs(mr,{variant:c==="deposits"?"default":"outline",className:"cursor-pointer",onClick:()=>d("deposits"),children:["Depósitos (",A.filter(T=>T.type==="deposit").length,")"]}),u.jsxs(mr,{variant:c==="withdraws"?"default":"outline",className:"cursor-pointer",onClick:()=>d("withdraws"),children:["Saques (",A.filter(T=>T.type==="withdraw").length,")"]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/30 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Funcionário:"}),u.jsxs(ci,{value:h,onValueChange:p,children:[u.jsx(Qn,{className:"w-48",children:u.jsx(ui,{placeholder:"Todos os funcionários"})}),u.jsxs(Jn,{children:[u.jsx($r,{value:"all",children:"Todos os funcionários"}),m.map(T=>u.jsx($r,{value:T.id,children:T.name},T.id))]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plataforma:"}),u.jsxs(ci,{value:f,onValueChange:v,children:[u.jsx(Qn,{className:"w-48",children:u.jsx(ui,{placeholder:"Todas as plataformas"})}),u.jsxs(Jn,{children:[u.jsx($r,{value:"all",children:"Todas as plataformas"}),g.map(T=>u.jsx($r,{value:T.id,children:T.name},T.id))]})]})]}),(h!=="all"||f!=="all"||c!=="all")&&u.jsx(He,{variant:"outline",size:"sm",onClick:P,className:"ml-auto",children:"Limpar Filtros"})]}),(h!=="all"||f!=="all"||c!=="all")&&u.jsx("div",{className:"flex items-center gap-2 mb-4 p-3 bg-primary/10 rounded-lg border border-primary/20",children:u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"font-medium text-primary",children:"Filtros ativos:"}),c!=="all"&&u.jsx(mr,{variant:"secondary",className:"text-xs",children:c==="deposits"?"Depósitos":c==="withdraws"?"Saques":c}),h!=="all"&&u.jsxs(mr,{variant:"secondary",className:"text-xs",children:["Funcionário: ",(xe=m.find(T=>T.id===h))==null?void 0:xe.name]}),f!=="all"&&u.jsxs(mr,{variant:"secondary",className:"text-xs",children:["Plataforma: ",(he=g.find(T=>T.id===f))==null?void 0:he.name]})]})}),u.jsx("div",{className:"space-y-3",children:I.length>0?I.sort((T,X)=>{var le,de,ve,ee;return new Date(((de=(le=X.createdAt)==null?void 0:le.toDate)==null?void 0:de.call(le))||X.createdAt).getTime()-new Date(((ee=(ve=T.createdAt)==null?void 0:ve.toDate)==null?void 0:ee.call(ve))||T.createdAt).getTime()}).map(T=>{var le,de;const X=m.find(ve=>ve.id===T.employeeId);return u.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-2 rounded-full ${T.type==="withdraw"?"bg-success/10":"bg-destructive/10"}`,children:T.type==="withdraw"?u.jsx(Gq,{className:"h-5 w-5 text-success"}):u.jsx(Kq,{className:"h-5 w-5 text-destructive"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:(X==null?void 0:X.name)||"Funcionário não encontrado"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.type==="withdraw"?"Saque":"Depósito"," • ",(()=>{const ve=g.find(ee=>ee.id===T.platformId);return(ve==null?void 0:ve.name)||"Plataforma não especificada"})()]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:`font-semibold ${T.type==="withdraw"?"text-success":"text-destructive"}`,children:[T.type==="withdraw"?"+":"-","R$ ",Number(T.amount||0).toLocaleString("pt-BR")]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(((de=(le=T.createdAt)==null?void 0:le.toDate)==null?void 0:de.call(le))||T.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},T.id)}):u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(rA,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"Nenhuma transação encontrada"}),u.jsx("p",{className:"text-sm",children:(()=>{var le,de;const T=new Date(n,e-1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"});if(c==="all"&&h==="all"&&f==="all")return`Não há transações em ${T}`;const X=[];if(c!=="all"&&X.push(`tipo "${c==="deposits"?"Depósitos":"Saques"}"`),h!=="all"){const ve=(le=m.find(ee=>ee.id===h))==null?void 0:le.name;X.push(`funcionário "${ve}"`)}if(f!=="all"){const ve=(de=g.find(ee=>ee.id===f))==null?void 0:de.name;X.push(`plataforma "${ve}"`)}return`Não há transações com ${X.join(" e ")} em ${T}`})()}),u.jsx(He,{variant:"outline",size:"sm",onClick:P,className:"mt-4",children:"Limpar Filtros"})]})})]})]})})},$Qe=()=>{const{user:t}=qr(),[e,r]=j.useState(null),[n,i]=j.useState(!1),[a,o]=j.useState(!1),[s,l]=j.useState(null),{data:c=[],isLoading:d}=zx((t==null?void 0:t.uid)||""),{data:h=[]}=rd((t==null?void 0:t.uid)||""),{data:p=[]}=Iy((t==null?void 0:t.uid)||""),f=Jbe(),v=Zbe(),m=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I),g=I=>fa(new Date(I),"dd 'de' MMMM 'de' yyyy",{locale:tQ}),y=I=>I>=0?"text-success":"text-destructive",x=I=>{r(I),i(!0)},_=I=>{l(I),o(!0)},A=async I=>{try{await v.mutateAsync(I),Ge.success("Fechamento excluído com sucesso!")}catch(P){console.error("Erro ao excluir fechamento:",P),Ge.error("Erro ao excluir fechamento")}},N=async()=>{try{Ge.success("Histórico exportado com sucesso!")}catch{Ge.error("Erro ao exportar histórico")}};return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Histórico de Fechamentos"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Visualize o histórico de todos os fechamentos de dia."})]}),u.jsxs(He,{onClick:N,className:"gap-2",children:[u.jsx(Mj,{className:"h-4 w-4"}),"Exportar PDF"]})]}),u.jsx(rt,{className:"p-6",children:d?u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-muted-foreground",children:"Carregando histórico..."})}):c.length===0?u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-muted-foreground",children:"Nenhum fechamento encontrado"})}):u.jsx("div",{className:"space-y-4",children:c.map(I=>u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold",children:g(I.date)}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[I.transactionCount||0," transações"]})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`font-bold ${y(I.profit||I.margin||0)}`,children:m(I.profit||I.margin||0)}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Lucro Total"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(He,{variant:"ghost",size:"icon",onClick:()=>x(I),children:u.jsx(Lse,{className:"h-4 w-4"})}),u.jsx(He,{variant:"ghost",size:"icon",onClick:()=>_(I),children:u.jsx(rb,{className:"h-4 w-4"})}),u.jsxs(Qp,{children:[u.jsx(ky,{asChild:!0,children:u.jsx(He,{variant:"ghost",size:"icon",className:"text-destructive",children:u.jsx(Uh,{className:"h-4 w-4"})})}),u.jsxs(Jh,{children:[u.jsxs(Zh,{children:[u.jsx(tf,{children:"Excluir Fechamento"}),u.jsxs(rf,{children:["Tem certeza que deseja excluir o fechamento do dia ",g(I.date),"? Esta ação não pode ser desfeita."]})]}),u.jsxs(ef,{children:[u.jsx(af,{children:"Cancelar"}),u.jsx(nf,{onClick:()=>A(I.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})]})]})]})]},I.id))})}),u.jsx(_l,{open:n,onOpenChange:i,children:u.jsxs(Vs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsx(zs,{children:u.jsxs(qs,{children:["Detalhes do Fechamento - ",e&&g(e.date)]})}),e&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs(rt,{className:"p-4",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Depósitos"}),u.jsx("div",{className:"text-2xl font-bold text-success",children:m(e.totalDeposits||0)})]}),u.jsxs(rt,{className:"p-4",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Saques"}),u.jsx("div",{className:"text-2xl font-bold text-destructive",children:m(e.totalWithdraws||0)})]}),u.jsxs(rt,{className:"p-4",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Lucro Total"}),u.jsx("div",{className:`text-2xl font-bold ${y(e.profit||e.margin||0)}`,children:m(e.profit||e.margin||0)})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Transações do Dia"}),e.transactionsSnapshot&&e.transactionsSnapshot.length>0?u.jsx("div",{className:"space-y-2",children:e.transactionsSnapshot.map((I,P)=>{var E,k;return u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(mr,{variant:I.type==="deposit"?"default":"destructive",children:I.type==="deposit"?"Depósito":"Saque"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:((E=h.find(D=>D.id===I.employeeId))==null?void 0:E.name)||"N/A"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:((k=p.find(D=>D.id===I.platformId))==null?void 0:k.name)||"N/A"})]})]}),u.jsxs("div",{className:`font-bold ${I.type==="deposit"?"text-success":"text-destructive"}`,children:[I.type==="deposit"?"+":"-",m(I.amount)]})]},P)})}):u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação registrada para este dia"})]})]})]})}),u.jsx(_l,{open:a,onOpenChange:o,children:u.jsxs(Vs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsx(zs,{children:u.jsxs(qs,{children:["Editar Fechamento - ",s&&g(s.date)]})}),s&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"edit-date",children:"Data:"}),u.jsx(Vt,{id:"edit-date",type:"date",value:s.date,onChange:I=>l({...s,date:I.target.value})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Transações:"}),u.jsxs(He,{size:"sm",className:"gap-2",children:[u.jsx(G_,{className:"h-4 w-4"}),"Adicionar Transação"]})]}),s.transactionsSnapshot&&s.transactionsSnapshot.length>0?u.jsx("div",{className:"space-y-2",children:s.transactionsSnapshot.map((I,P)=>u.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 border rounded-lg",children:[u.jsxs(ci,{value:I.employeeId,onValueChange:E=>{const k=[...s.transactionsSnapshot];k[P].employeeId=E,l({...s,transactionsSnapshot:k})},children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Funcionário"})}),u.jsx(Jn,{children:h.map(E=>u.jsx($r,{value:E.id,children:E.name},E.id))})]}),u.jsxs(ci,{value:I.type,onValueChange:E=>{const k=[...s.transactionsSnapshot];k[P].type=E,l({...s,transactionsSnapshot:k})},children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Tipo"})}),u.jsxs(Jn,{children:[u.jsx($r,{value:"deposit",children:"Depósito"}),u.jsx($r,{value:"withdraw",children:"Saque"})]})]}),u.jsx(Vt,{type:"number",step:"0.01",placeholder:"Valor",value:I.amount,onChange:E=>{const k=[...s.transactionsSnapshot];k[P].amount=Number(E.target.value),l({...s,transactionsSnapshot:k})}}),u.jsxs(ci,{value:I.platformId,onValueChange:E=>{const k=[...s.transactionsSnapshot];k[P].platformId=E,l({...s,transactionsSnapshot:k})},children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Plataforma"})}),u.jsx(Jn,{children:p.map(E=>u.jsx($r,{value:E.id,children:E.name},E.id))})]}),u.jsx(He,{variant:"ghost",size:"icon",onClick:()=>{const E=s.transactionsSnapshot.filter((k,D)=>D!==P);l({...s,transactionsSnapshot:E})},className:"text-destructive",children:u.jsx(Uh,{className:"h-4 w-4"})})]},P))}):u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação registrada para este dia"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(He,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),u.jsx(He,{onClick:async()=>{try{await f.mutateAsync({summaryId:s.id,summaryData:s}),Ge.success("Fechamento atualizado com sucesso!"),o(!1)}catch(I){console.error("Erro ao atualizar fechamento:",I),Ge.error("Erro ao atualizar fechamento")}},children:"Salvar Alterações"})]})]})]})})]})})};var JE="Switch",[FQe,fZe]=ds(JE),[BQe,UQe]=FQe(JE),zre=j.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:d,...h}=t,[p,f]=j.useState(null),v=Or(e,_=>f(_)),m=j.useRef(!1),g=p?d||!!p.closest("form"):!0,[y,x]=El({prop:i,defaultProp:a??!1,onChange:c,caller:JE});return u.jsxs(BQe,{scope:r,checked:y,disabled:s,children:[u.jsx(Wt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Gre(y),"data-disabled":s?"":void 0,disabled:s,value:l,...h,ref:v,onClick:jt(t.onClick,_=>{x(A=>!A),g&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),g&&u.jsx(Hre,{control:p,bubbles:!m.current,name:n,value:l,checked:y,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});zre.displayName=JE;var qre="SwitchThumb",Wre=j.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=UQe(qre,r);return u.jsx(Wt.span,{"data-state":Gre(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Wre.displayName=qre;var VQe="SwitchBubbleInput",Hre=j.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=j.useRef(null),s=Or(o,a),l=lX(r),c=SW(e);return j.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[l,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Hre.displayName=VQe;function Gre(t){return t?"checked":"unchecked"}var Kre=zre,zQe=Wre;const nc=j.forwardRef(({className:t,...e},r)=>u.jsx(Kre,{className:yt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:u.jsx(zQe,{className:yt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));nc.displayName=Kre.displayName;const D5={FIREBASE_API_KEY:"AIzaSyD3Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8",FIREBASE_AUTH_DOMAIN:"optify-definitivo.firebaseapp.com",FIREBASE_PROJECT_ID:"optify-definitivo",FIREBASE_STORAGE_BUCKET:"optify-definitivo.appspot.com",FIREBASE_MESSAGING_SENDER_ID:"123456789",FIREBASE_APP_ID:"1:123456789:web:abcdef123456",MERCADO_PAGO_PUBLIC_KEY:"APP_USR-9ca765f9-6a73-47a9-ab3d-0923791c2a4f",API_URL:"https://us-central1-optify-definitivo.cloudfunctions.net"};function qQe(){return hs({mutationFn:async t=>{console.log("🔍 Hook - URL da API:",D5.API_URL),console.log("🔍 Hook - Payload:",t);const e=await fetch(`${D5.API_URL}/createPaymentPreference`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("🔍 Hook - Status da resposta:",e.status),console.log("🔍 Hook - Headers da resposta:",Object.fromEntries(e.headers.entries())),!e.ok){const n=await e.json().catch(()=>({}));throw console.error("🔍 Hook - Erro da API:",n),new Error(n.error||"Erro ao criar preferência")}const r=await e.json();return console.log("🔍 Hook - Resposta da API:",r),r},onError:t=>{console.error("❌ Hook - Erro na mutation:",t)}})}const WQe=()=>{const{user:t}=qr();gf();const[e,r]=j.useState(!1),n=qQe(),i={free:[{text:"Dashboard básico",icon:hr},{text:"Resumo do dia",icon:hr},{text:"Cadastro de 1 funcionário",icon:Zo},{text:"Registro de transações do dia atual",icon:hr},{text:"Depósitos e saques básicos",icon:hr},{text:"Visualização do calendário (mês atual)",icon:hr},{text:"Calendário Anterior",icon:hr,blocked:!0},{text:"Pagamentos",icon:hr,blocked:!0},{text:"Relatórios",icon:hr,blocked:!0},{text:"Saldo de Contas",icon:hr,blocked:!0},{text:"Histórico",icon:hr,blocked:!0}],standard:[{text:"Dashboard básico",icon:hr},{text:"Resumo do dia",icon:hr},{text:"Cadastro de até 5 funcionários",icon:Zo},{text:"Registro de transações do dia atual",icon:hr},{text:"Depósitos e saques",icon:hr},{text:"Relatórios básicos",icon:Ti},{text:"Visualização do calendário (mês atual)",icon:hr},{text:"Suporte por email",icon:hr},{text:"Calendário Anterior",icon:hr,blocked:!0},{text:"Pagamentos",icon:hr,blocked:!0},{text:"Saldo de Contas",icon:hr,blocked:!0},{text:"Histórico",icon:hr,blocked:!0}],medium:[{text:"Dashboard completo",icon:hr},{text:"Resumo do dia",icon:hr},{text:"Cadastro de até 10 funcionários",icon:Zo},{text:"Registro de transações",icon:hr},{text:"Depósitos e saques",icon:hr},{text:"Calendário Anterior",icon:hr},{text:"Pagamentos",icon:hr},{text:"Relatórios avançados",icon:Ti},{text:"Saldo de Contas",icon:hr},{text:"Histórico completo",icon:hr}],ultimate:[{text:"Dashboard completo e avançado",icon:hr},{text:"Resumo do dia",icon:hr},{text:"Cadastro de até 50 funcionários",icon:Zo},{text:"Registro de transações ilimitadas",icon:hr},{text:"Depósitos e saques",icon:hr},{text:"Calendário Anterior",icon:hr},{text:"Pagamentos",icon:hr},{text:"Relatórios avançados",icon:Ti},{text:"Saldo de Contas",icon:hr},{text:"Histórico completo",icon:hr},{text:"CPA Chinesa",icon:wv,exclusive:!0},{text:"Painel Avançado",icon:Bp,exclusive:!0},{text:"Dutchuing Bot",icon:Cse,exclusive:!0},{text:"Integrações avançadas",icon:K_,exclusive:!0},{text:"API personalizada",icon:K_,exclusive:!0},{text:"Suporte prioritário",icon:hr,exclusive:!0},{text:"Suporte dedicado",icon:hr,exclusive:!0}]},a=async s=>{var l,c;if(!t){Ge.error("Você precisa estar logado para assinar um plano");return}if(s==="free"){Ge.error("O plano Free já está ativo");return}try{console.log("🔍 Debug - Variáveis de ambiente:",{API_URL:D5.API_URL,PUBLIC_KEY:D5.MERCADO_PAGO_PUBLIC_KEY}),console.log("🔍 Debug - Dados do payload:",{userId:t.uid,userEmail:t.email||"",userName:t.displayName||((l=t.email)==null?void 0:l.split("@")[0])||"Usuário",planId:s,billingType:e?"annual":"monthly"});const d=await n.mutateAsync({userId:t.uid,userEmail:t.email||"",userName:t.displayName||((c=t.email)==null?void 0:c.split("@")[0])||"Usuário",planId:s,billingType:e?"annual":"monthly"});console.log("✅ Preferência criada:",d),window.location.href=d.init_point}catch(d){console.error("❌ Erro ao criar preferência:",d),Ge.error("Erro ao processar pagamento. Tente novamente.")}},o=[{name:"Free",value:"free",price:0,period:"Grátis",annualPrice:0,features:i.free,current:!1,popular:!1,description:"Testar o sistema"},{name:"Standard",value:"standard",price:1,period:"mês",annualPrice:10.2,features:i.standard,current:!1,popular:!1,description:"Pequenos negócios"},{name:"Medium",value:"medium",price:49.9,period:"mês",annualPrice:509.16,features:i.medium,current:!1,popular:!0,description:"Médias empresas"},{name:"Ultimate",value:"ultimate",price:99.9,period:"mês",annualPrice:1018.32,features:i.ultimate,current:!1,popular:!1,description:"Grandes empresas"}];return u.jsx($a,{children:u.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h1",{className:"text-4xl font-bold",children:"Escolha seu Plano"}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Selecione o plano ideal para o seu negócio"}),u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx("span",{className:e?"text-muted-foreground":"font-semibold",children:"Mensal"}),u.jsx(nc,{checked:e,onCheckedChange:r}),u.jsxs("span",{className:e?"font-semibold":"text-muted-foreground",children:["Anual",u.jsx(mr,{variant:"default",className:"ml-2",children:"15% OFF"})]})]})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(s=>u.jsxs(rt,{className:`
                p-6 relative shadow-card card-hover
                ${s.popular?"border-primary border-2":""}
              `,children:[s.popular&&u.jsx(mr,{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:"Mais Popular"}),s.current&&u.jsx(mr,{variant:"outline",className:"absolute -top-3 left-1/2 -translate-x-1/2",children:"Plano Atual"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold mb-2",children:s.name}),u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsxs("span",{className:"text-4xl font-bold",children:["R$ ",(e?s.annualPrice:s.price).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.price>0&&u.jsxs("span",{className:"text-muted-foreground",children:["/",e?"ano":s.period]})]}),e&&s.price>0&&u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Economia de R$ ",(s.price*12-s.annualPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),u.jsx("div",{className:"space-y-3",children:s.features.map((l,c)=>u.jsxs("div",{className:"flex items-start gap-2",children:[l.blocked?u.jsx("div",{className:"h-5 w-5 shrink-0 mt-0.5 rounded-full border-2 border-muted-foreground/30 flex items-center justify-center",children:u.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground/30"})}):u.jsx(l.icon,{className:`h-5 w-5 shrink-0 mt-0.5 ${l.exclusive?"text-primary":"text-success"}`}),u.jsxs("span",{className:`text-sm ${l.blocked?"text-muted-foreground/60":""} ${l.exclusive?"text-primary font-medium":""}`,children:[l.text,l.exclusive&&u.jsx("span",{className:"ml-1 text-xs",children:"(exclusivo)"})]})]},c))}),u.jsx(He,{className:"w-full",variant:s.current?"outline":"default",disabled:s.current||n.isPending,onClick:()=>!s.current&&a(s.value),children:n.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Np,{className:"mr-2 h-4 w-4 animate-spin"}),"Redirecionando..."]}):s.current?"Plano Atual":"Assinar"})]})]},s.name))}),u.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[u.jsx("p",{children:"Todos os planos incluem 7 dias de teste grátis"}),u.jsx("p",{children:"Cancele a qualquer momento, sem taxas adicionais"})]})]})})};var MT="rovingFocusGroup.onEntryFocus",HQe={bubbles:!1,cancelable:!0},cw="RovingFocusGroup",[q4,Yre,GQe]=J5(cw),[KQe,Xre]=ds(cw,[GQe]),[YQe,XQe]=KQe(cw),Qre=j.forwardRef((t,e)=>u.jsx(q4.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(q4.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(QQe,{...t,ref:e})})}));Qre.displayName=cw;var QQe=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,p=j.useRef(null),f=Or(e,p),v=MA(a),[m,g]=El({prop:o,defaultProp:s??null,onChange:l,caller:cw}),[y,x]=j.useState(!1),_=Ks(c),A=Yre(r),N=j.useRef(!1),[I,P]=j.useState(0);return j.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(MT,_),()=>E.removeEventListener(MT,_)},[_]),u.jsx(YQe,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:m,onItemFocus:j.useCallback(E=>g(E),[g]),onItemShiftTab:j.useCallback(()=>x(!0),[]),onFocusableItemAdd:j.useCallback(()=>P(E=>E+1),[]),onFocusableItemRemove:j.useCallback(()=>P(E=>E-1),[]),children:u.jsx(Wt.div,{tabIndex:y||I===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:jt(t.onMouseDown,()=>{N.current=!0}),onFocus:jt(t.onFocus,E=>{const k=!N.current;if(E.target===E.currentTarget&&k&&!y){const D=new CustomEvent(MT,HQe);if(E.currentTarget.dispatchEvent(D),!D.defaultPrevented){const C=A().filter(Y=>Y.focusable),O=C.find(Y=>Y.active),L=C.find(Y=>Y.id===m),re=[O,L,...C].filter(Boolean).map(Y=>Y.ref.current);ene(re,d)}}N.current=!1}),onBlur:jt(t.onBlur,()=>x(!1))})})}),Jre="RovingFocusGroupItem",Zre=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=t,l=wl(),c=a||l,d=XQe(Jre,r),h=d.currentTabStopId===c,p=Yre(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return j.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),u.jsx(q4.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:u.jsx(Wt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...s,ref:e,onMouseDown:jt(t.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:jt(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:jt(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=eJe(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let _=p().filter(A=>A.focusable).map(A=>A.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const A=_.indexOf(g.currentTarget);_=d.loop?tJe(_,A+1):_.slice(A+1)}setTimeout(()=>ene(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:m!=null}):o})})});Zre.displayName=Jre;var JQe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZQe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function eJe(t,e,r){const n=ZQe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return JQe[n]}function ene(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function tJe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rJe=Qre,nJe=Zre,ZE="Tabs",[iJe,pZe]=ds(ZE,[Xre]),tne=Xre(),[aJe,gD]=iJe(ZE),rne=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=t,d=MA(s),[h,p]=El({prop:n,onChange:i,defaultProp:a??"",caller:ZE});return u.jsx(aJe,{scope:r,baseId:wl(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:l,children:u.jsx(Wt.div,{dir:d,"data-orientation":o,...c,ref:e})})});rne.displayName=ZE;var nne="TabsList",ine=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=gD(nne,r),o=tne(r);return u.jsx(rJe,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:u.jsx(Wt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});ine.displayName=nne;var ane="TabsTrigger",one=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=gD(ane,r),s=tne(r),l=cne(o.baseId,n),c=une(o.baseId,n),d=n===o.value;return u.jsx(nJe,{asChild:!0,...s,focusable:!i,active:d,children:u.jsx(Wt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:jt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:jt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:jt(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(n)})})})});one.displayName=ane;var sne="TabsContent",lne=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=gD(sne,r),l=cne(s.baseId,n),c=une(s.baseId,n),d=n===s.value,h=j.useRef(d);return j.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(Dc,{present:i||d,children:({present:p})=>u.jsx(Wt.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});lne.displayName=sne;function cne(t,e){return`${t}-trigger-${e}`}function une(t,e){return`${t}-content-${e}`}var oJe=rne,dne=ine,hne=one,fne=lne;const vD=oJe,eN=j.forwardRef(({className:t,...e},r)=>u.jsx(dne,{ref:r,className:yt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));eN.displayName=dne.displayName;const gc=j.forwardRef(({className:t,...e},r)=>u.jsx(hne,{ref:r,className:yt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));gc.displayName=hne.displayName;const vc=j.forwardRef(({className:t,...e},r)=>u.jsx(fne,{ref:r,className:yt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));vc.displayName=fne.displayName;const W4=j.forwardRef(({className:t,...e},r)=>u.jsx("textarea",{className:yt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));W4.displayName="Textarea";const H4=async()=>{try{const t=await Ys(ra(nn,"users")),e=[];for(const r of t.docs){const n=r.data(),i=r.id;let a="Nome não informado";try{const o=await Ys(vm(ra(nn,"users",i,"profile"),yb(1)));if(!o.empty){const s=o.docs[0].data();a=s.name||s.fullName||a}}catch{console.log("Erro ao buscar perfil, usando dados do documento principal")}a==="Nome não informado"&&(n.name?a=n.name:n.displayName?a=n.displayName:n.fullName&&(a=n.fullName)),e.push({id:i,email:n.email||r.id,name:a,plan:n.plano||"free",status:n.isActive?"active":"inactive",createdAt:n.createdAt,lastLogin:n.lastLoginAt})}return e.sort((r,n)=>r.createdAt&&n.createdAt?n.createdAt.toDate().getTime()-r.createdAt.toDate().getTime():0)}catch(t){throw console.error("Erro ao buscar usuários:",t),t}},sJe=async()=>{try{return(await Ys(vm(ra(nn,"transactions_plans"),Qh("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar transações de planos:",t),t}},lJe=async()=>{try{const t=await H4(),e=await sJe(),r=t.length,n=t.filter(d=>d.status==="active").length,i=e.filter(d=>d.status==="completed").reduce((d,h)=>d+h.amount,0),a=t.reduce((d,h)=>(d[h.plan]=(d[h.plan]||0)+1,d),{free:0,standard:0,medium:0,ultimate:0}),o=new Date;o.setDate(o.getDate()-30);const s=t.filter(d=>d.createdAt&&d.createdAt.toDate()>o).length,l=r>0?s/r*100:0,c=await cJe(e,t);return{totalUsers:r,activeUsers:n,totalRevenue:i,growthRate:l,planDistribution:a,recentActivity:c}}catch(t){throw console.error("Erro ao calcular estatísticas:",t),t}},cJe=async(t,e)=>{const r=[],n=t.sort((a,o)=>o.createdAt.toDate().getTime()-a.createdAt.toDate().getTime()).slice(0,5);for(const a of n){const o=e.find(c=>c.id===a.userId),s=FU(a.createdAt.toDate());let l="";switch(a.status){case"completed":l=`Upgrade para ${a.planName}`;break;case"pending":l=`Pagamento pendente - ${a.planName}`;break;case"failed":l=`Falha no pagamento - ${a.planName}`;break;default:l=`Transação ${a.status} - ${a.planName}`}r.push({action:`${l} - ${(o==null?void 0:o.email)||"Usuário desconhecido"}`,time:s,userEmail:o==null?void 0:o.email})}const i=e.filter(a=>a.createdAt&&a.createdAt.toDate()>new Date(Date.now()-24*60*60*1e3)).slice(0,3);for(const a of i){const o=FU(a.createdAt.toDate());r.push({action:`Novo usuário registrado - ${a.email}`,time:o,userEmail:a.email})}return r.sort((a,o)=>o.time.localeCompare(a.time)).slice(0,8)},FU=t=>{const r=new Date().getTime()-t.getTime(),n=Math.floor(r/(1e3*60)),i=Math.floor(r/(1e3*60*60)),a=Math.floor(r/(1e3*60*60*24));return n<60?`${n} min atrás`:i<24?`${i} hora${i>1?"s":""} atrás`:`${a} dia${a>1?"s":""} atrás`},uJe=()=>{const[t,e]=j.useState(null),[r,n]=j.useState(!0),[i,a]=j.useState(null),o=async()=>{try{n(!0),a(null);const s=await lJe();e(s)}catch(s){console.error("Erro ao buscar dados admin:",s),a("Erro ao carregar dados do painel administrativo")}finally{n(!1)}};return j.useEffect(()=>{o()},[]),{stats:t,loading:r,error:i,refetch:o}},dJe=async t=>{try{return(await Vx(ra(nn,"transactions_plans"),{...t,createdAt:Qa(),updatedAt:Qa()})).id}catch(e){throw console.error("Erro ao criar transação de plano:",e),e}},yD=async(t,e)=>{try{const r=ra(nn,"users",t,"notifications"),n=So(r).id,i=Object.fromEntries(Object.entries(e).filter(([a,o])=>o!==void 0));await Rv(So(r,n),{...i,id:n,userId:t,read:!1,createdAt:Qa()}),console.log(`Notificação enviada para usuário ${t}:`,e.title)}catch(r){throw console.error("Erro ao enviar notificação:",r),r}},hJe=async(t,e,r,n,i,a)=>{const o={free:"Free",standard:"Standard",medium:"Medium",ultimate:"Ultimate"},s=o[r]||r,l=o[n]||n,c={type:"plan_change",title:"Plano Alterado",message:`Seu plano foi alterado de ${s} para ${l}${a?`. Motivo: ${a}`:""}.`,metadata:{oldPlan:r,newPlan:n,changedBy:i,...a&&{reason:a}}};await yD(t,c)},fJe=async(t,e,r)=>{const n={type:"admin_promotion",title:"Privilégios de Admin Concedidos",message:`Você foi promovido a administrador${r?`. Motivo: ${r}`:""}.`,metadata:{changedBy:e,...r&&{reason:r}}};await yD(t,n)},pJe=async(t,e,r)=>{const n={type:"admin_demotion",title:"Privilégios de Admin Removidos",message:`Seus privilégios de administrador foram removidos${`. Motivo: ${r}`}.`,metadata:{changedBy:e,reason:r}};await yD(t,n)},BU={free:{funcionarios:1,permissoes:{}},standard:{funcionarios:5,permissoes:{}},medium:{funcionarios:10,permissoes:{}},ultimate:{funcionarios:50,permissoes:{}}},UU=t=>({free:"Free",standard:"Standard",medium:"Medium",ultimate:"Ultimate"})[t]||t,fx=async t=>{try{console.log(`🔍 Buscando usuário com email: ${t}`);const e=t.toLowerCase().trim();try{const i=ra(nn,"users"),a=vm(i,Cu("email","==",e)),o=await Ys(a);if(!o.empty){const s=o.docs[0],l=s.id,c=s.data();console.log(`✅ Usuário encontrado: ${l} - ${e}`),console.log("📋 Dados do usuário:",c);const d={id:l,email:c.email||e,name:c.name||c.displayName||"Nome não informado",currentPlan:c.plano||"free",permissoes:c.permissoes||{},funcionariosPermitidos:c.funcionariosPermitidos||1,isSubscriber:c.isSubscriber||!1,isActive:c.isActive||!1,isAdmin:c.isAdmin||!1};return console.log("📤 Retornando usuário:",d),d}console.log(`❌ Nenhum usuário encontrado com email: ${e}`)}catch(i){console.log("❌ Erro ao buscar usuário real:",i)}console.log(`🔄 Usando dados mock para ${t}`);const n=[{id:"mock1",email:"diegkamor@gmail.com",name:"Diego Amorim",currentPlan:"ultimate",permissoes:{},funcionariosPermitidos:50,isSubscriber:!0,isActive:!0,isAdmin:!0},{id:"mock2",email:"julielmoura@gmail.com",name:"Julie Moura",currentPlan:"medium",permissoes:{},funcionariosPermitidos:10,isSubscriber:!0,isActive:!0,isAdmin:!1},{id:"mock3",email:"theohideki@gmail.com",name:"Theo Hideki",currentPlan:"standard",permissoes:{},funcionariosPermitidos:5,isSubscriber:!0,isActive:!0,isAdmin:!1},{id:"mock4",email:"admin@optify.com",name:"Admin Optify",currentPlan:"ultimate",permissoes:{},funcionariosPermitidos:50,isSubscriber:!0,isActive:!0,isAdmin:!0},{id:"mock5",email:"teste@exemplo.com",name:"Usuário Teste",currentPlan:"free",permissoes:{},funcionariosPermitidos:1,isSubscriber:!1,isActive:!1,isAdmin:!1}].find(i=>i.email.toLowerCase()===e);return n?(console.log("✅ Usuário mock encontrado:",n),n):(console.log(`❌ Nenhum usuário encontrado (real ou mock) com email: ${e}`),null)}catch(e){return console.error("❌ Erro ao buscar usuário:",e),null}},mJe=(t,e)=>(console.log(`✅ Alteração de plano permitida: ${t} → ${e}`),!0),gJe=async t=>{try{const e=ra(nn,"plan_change_history"),r=Object.fromEntries(Object.entries(t).filter(([n,i])=>i!==void 0));await Vx(e,{...r,createdAt:new Date})}catch(e){console.error("Erro ao criar histórico:",e)}},vJe=async(t,e,r,n,i)=>{try{console.log(`🔄 Iniciando atualização de plano para ${t} -> ${e}`);const a=await fx(t);if(!a)throw new Error("Usuário não encontrado");console.log("📋 Usuário encontrado:",a),mJe(a.currentPlan,e);const o={plano:e,funcionariosPermitidos:BU[e].funcionarios,permissoes:BU[e].permissoes,updatedAt:Qa()};if(e!=="free"){if(o.isSubscriber=!0,o.isActive=!0,i&&i>0){const s=new Date,l=new Date;l.setMonth(l.getMonth()+i),o.subscriptionStartDate=s,o.subscriptionEndDate=l,o.subscriptionMonths=i}}else o.isSubscriber=!1,o.isActive=!1,o.subscriptionStartDate=null,o.subscriptionEndDate=null,o.subscriptionMonths=null;if(a.id.startsWith("mock"))console.log(`📝 Plano do usuário mock ${a.email} simulado como alterado para ${e}`);else try{await Vg.updateUserPlan(a.id,e,i),window.dispatchEvent(new CustomEvent("planChanged",{detail:{userId:a.id,newPlan:e}}))}catch(s){throw console.error("Erro ao atualizar plano:",s),new Error(`Falha ao atualizar plano do usuário ${a.email}: ${s}`)}if(a.id.startsWith("mock"))console.log("📝 Transação de plano simulada para usuário mock");else try{await dJe({userId:a.id,userEmail:a.email,planName:e,amount:0,status:"completed",paymentMethod:"admin_change",transactionId:`admin_${Date.now()}`,adminEmail:r,reason:n||"Alteração administrativa"})}catch(s){console.log("Transação de plano não foi criada:",s)}if(a.id.startsWith("mock"))console.log("📝 Histórico de alterações simulado para usuário mock");else try{await gJe({userId:a.id,userEmail:a.email,userName:a.name,previousPlan:a.currentPlan,newPlan:e,changedBy:r,reason:n})}catch(s){console.log("Histórico de alterações não foi criado:",s)}if(a.id.startsWith("mock"))console.log("📝 Notificação simulada para usuário mock");else try{await hJe(a.id,a.email,a.currentPlan,e,r,n)}catch(s){console.log("Notificação não foi enviada:",s)}Ge.success(`✅ Plano do usuário ${a.email} alterado de ${UU(a.currentPlan)} para ${UU(e)}`)}catch(a){throw console.error("❌ Erro ao atualizar plano:",a),a instanceof Error&&a.message.includes("downgrade")?Ge.error(a.message):Ge.error(`Erro ao atualizar plano: ${a instanceof Error?a.message:"Erro desconhecido"}`),a}},VU=async()=>{try{const t=ra(nn,"plan_change_history");return(await Ys(t)).docs.map(r=>{var a;const n=r.data();let i;return(a=n.createdAt)!=null&&a.toDate?i=n.createdAt.toDate():n.createdAt instanceof Date?i=n.createdAt:typeof n.createdAt=="string"?i=new Date(n.createdAt):i=new Date,{id:r.id,...n,createdAt:i}}).sort((r,n)=>n.createdAt.getTime()-r.createdAt.getTime())}catch(t){return console.error("Erro ao buscar histórico de planos:",t),[]}},yJe=async(t,e,r)=>{try{const n=await fx(t);if(!n)throw new Error("Usuário não encontrado com este email");if(await pne(n.id,n.email))throw new Error("Este usuário já possui privilégios de admin");try{const a=So(nn,"admins",n.id);await Rv(a,{email:n.email,isAdmin:!0,addedAt:new Date,promotedBy:e,reason:r||"Promoção administrativa"})}catch(a){if(n.id.startsWith("mock"))console.log(`Usuário mock ${n.email} promovido a admin`);else throw a}try{await xJe({userId:n.id,userEmail:n.email,userName:n.name,promotedBy:e,reason:r})}catch(a){console.log("Histórico de promoção não foi criado (usuário mock):",a)}try{await fJe(n.id,e,r)}catch(a){console.log("Notificação não foi enviada (usuário mock):",a)}Ge.success(`Usuário ${n.email} promovido a admin com sucesso!`)}catch(n){throw console.error("Erro ao promover usuário:",n),n}},bJe=async(t,e,r)=>{try{const n=await fx(t);if(!n)throw new Error("Usuário não encontrado com este email");if(!await pne(n.id,n.email))throw new Error("Este usuário não possui privilégios de admin");if(n.email===e)throw new Error("Você não pode remover seus próprios privilégios de admin");try{const a=So(nn,"admins",n.id);await Rv(a,{email:n.email,isAdmin:!1,removedAt:new Date,demotedBy:e,reason:r||"Remoção administrativa"},{merge:!0})}catch(a){if(n.id.startsWith("mock"))console.log(`Privilégios de admin removidos do usuário mock ${n.email}`);else throw a}try{await wJe({userId:n.id,userEmail:n.email,userName:n.name,demotedBy:e,reason:r})}catch(a){console.log("Histórico de remoção não foi criado (usuário mock):",a)}try{await pJe(n.id,e,r)}catch(a){console.log("Notificação não foi enviada (usuário mock):",a)}Ge.success(`Privilégios de admin removidos do usuário ${n.email}`)}catch(n){throw console.error("Erro ao remover privilégios de admin:",n),n}},pne=async(t,e)=>{try{if(["diegkamor@gmail.com"].includes(e.toLowerCase()))return!0;const n=So(nn,"admins",t),i=await Ys(vm(ra(nn,"admins"),Cu("__name__","==",t)));if(!i.empty){const a=i.docs[0].data();return(a==null?void 0:a.isAdmin)===!0}return!1}catch(r){return console.error("Erro ao verificar status de admin:",r),!1}},$T=async()=>{try{const t=await Ys(ra(nn,"admins")),e=[];return t.docs.forEach(n=>{const i=n.data();i.isAdmin===!0&&e.push({userId:n.id,email:i.email,isAdmin:i.isAdmin,addedAt:i.addedAt,promotedBy:i.promotedBy})}),["diegkamor@gmail.com"].forEach(n=>{e.find(i=>i.email===n)||e.push({userId:"hardcoded",email:n,isAdmin:!0,addedAt:"2024-01-01T00:00:00.000Z",promotedBy:"Sistema"})}),e.sort((n,i)=>{if(n.addedAt&&i.addedAt){const a=n.addedAt.toDate?n.addedAt.toDate():new Date(n.addedAt);return(i.addedAt.toDate?i.addedAt.toDate():new Date(i.addedAt)).getTime()-a.getTime()}return 0})}catch(t){throw console.error("Erro ao buscar administradores:",t),t}},xJe=async t=>{try{const e=ra(nn,"admin_promotion_history"),r=Object.fromEntries(Object.entries(t).filter(([n,i])=>i!==void 0));await Vx(e,{...r,createdAt:new Date})}catch(e){console.error("Erro ao criar histórico de promoção:",e)}},wJe=async t=>{try{const e=ra(nn,"admin_demotion_history"),r=Object.fromEntries(Object.entries(t).filter(([n,i])=>i!==void 0));await Vx(e,{...r,createdAt:new Date})}catch(e){console.error("Erro ao criar histórico de demotion:",e)}},zU=async()=>{try{const t=ra(nn,"admin_promotion_history");return(await Ys(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Erro ao buscar histórico de promoções:",t),t}},FT=async()=>{try{const t=ra(nn,"admin_demotion_history");return(await Ys(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Erro ao buscar histórico de demotions:",t),t}},_Je=async t=>{if(!t||t.length<2)return[];try{const e=t.toLowerCase(),r=[];try{const n=ra(nn,"users"),i=t.toUpperCase(),a=vm(n,Qh("email"),O0e(e),R0e(i+""),yb(10));(await Ys(a)).forEach(s=>{var c;const l=s.data();l.email&&l.email.toLowerCase().startsWith(e)&&r.push({uid:s.id,email:l.email,displayName:l.displayName||l.name,createdAt:(c=l.createdAt)!=null&&c.toDate?l.createdAt.toDate():l.createdAt})})}catch{console.log("Coleção users não encontrada ou vazia, tentando abordagem alternativa")}return r.length===0&&[{uid:"mock1",email:"diegkamor@gmail.com",displayName:"Diego Amorim"},{uid:"mock2",email:"julielmoura@gmail.com",displayName:"Julie Moura"},{uid:"mock3",email:"theohideki@gmail.com",displayName:"Theo Hideki"},{uid:"mock4",email:"admin@optify.com",displayName:"Admin Optify"},{uid:"mock5",email:"teste@exemplo.com",displayName:"Usuário Teste"}].filter(a=>a.email.toLowerCase().includes(e)).forEach(a=>{r.push({uid:a.uid,email:a.email,displayName:a.displayName,createdAt:new Date})}),r.slice(0,10)}catch(e){return console.error("Erro ao buscar usuários:",e),[]}},qU=({placeholder:t="Digite o email do usuário",onUserSelect:e,onSearch:r,disabled:n=!1,className:i=""})=>{const[a,o]=j.useState(""),[s,l]=j.useState([]),[c,d]=j.useState(!1),[h,p]=j.useState(!1),[f,v]=j.useState(-1),m=j.useRef(null),g=j.useRef(null),y=j.useRef();j.useEffect(()=>(y.current&&clearTimeout(y.current),a.length>=2?y.current=setTimeout(async()=>{d(!0);try{const E=await _Je(a);l(E),p(!0),v(-1)}catch(E){console.error("Erro ao buscar usuários:",E),l([])}finally{d(!1)}},300):(l([]),p(!1)),()=>{y.current&&clearTimeout(y.current)}),[a]);const x=E=>{var k;if(!(!h||s.length===0))switch(E.key){case"ArrowDown":E.preventDefault(),v(D=>D<s.length-1?D+1:0);break;case"ArrowUp":E.preventDefault(),v(D=>D>0?D-1:s.length-1);break;case"Enter":E.preventDefault(),f>=0&&f<s.length&&_(s[f]);break;case"Escape":p(!1),v(-1),(k=m.current)==null||k.blur();break}},_=E=>{var k;o(E.email),p(!1),v(-1),l([]),e(E),(k=m.current)==null||k.blur()},A=E=>{const k=E.target.value;o(k),r&&r(k)},N=()=>{r&&r(a)},I=()=>{s.length>0&&p(!0)},P=E=>{setTimeout(()=>{var k;(k=g.current)!=null&&k.contains(document.activeElement)||(p(!1),v(-1),l([]))},150)};return u.jsxs("div",{className:`relative z-[9999] ${i}`,style:{zIndex:999999},children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Vt,{ref:m,type:"email",placeholder:t,value:a,onChange:A,onKeyDown:x,onFocus:I,onBlur:P,disabled:n,className:"pr-10"}),c&&u.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})})]}),u.jsx(He,{type:"button",variant:"outline",size:"icon",onClick:N,disabled:n||c,children:u.jsx(iA,{className:"h-4 w-4"})})]}),h&&s.length>0&&u.jsxs(rt,{ref:g,className:"absolute top-full left-0 right-0 z-[99999] mt-1 max-h-60 overflow-y-auto border shadow-2xl bg-background",style:{zIndex:999999,transform:"translateZ(0)",isolation:"isolate"},children:[u.jsx("div",{className:"p-2",children:s.map((E,k)=>u.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-md cursor-pointer transition-colors ${k===f?"bg-accent":"hover:bg-accent/50"}`,onClick:()=>_(E),children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx(Zq,{className:"h-4 w-4 text-primary"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-sm truncate",children:E.email}),E.displayName&&u.jsx(mr,{variant:"secondary",className:"text-xs",children:E.displayName})]}),E.createdAt&&u.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[u.jsx(xv,{className:"h-3 w-3"}),u.jsxs("span",{children:["Cadastrado em ",E.createdAt.toLocaleDateString("pt-BR")]})]})]})]},E.uid))}),s.length===10&&u.jsx("div",{className:"px-2 py-1 text-xs text-muted-foreground border-t",children:"Mostrando os primeiros 10 resultados"})]})]})},SJe=()=>[{id:"free",name:"Free",description:"Plano gratuito com funcionalidades básicas",price:0,features:["Funcionalidades básicas","Suporte por email"]},{id:"standard",name:"Standard",description:"Plano intermediário com mais recursos",price:1,features:["Todas as funcionalidades Free","Relatórios avançados","Suporte prioritário"]},{id:"medium",name:"Medium",description:"Plano avançado para empresas em crescimento",price:49.9,features:["Todas as funcionalidades Standard","API access","Integrações avançadas"]},{id:"ultimate",name:"Ultimate",description:"Plano premium com todos os recursos",price:99.9,features:["Todas as funcionalidades","Suporte 24/7","Consultoria personalizada"]}],AJe=t=>["free","standard","medium","ultimate"].includes(t),EJe=()=>{const{user:t,isAdmin:e}=qr(),{stats:r,loading:n,error:i,refetch:a}=uJe(),[o,s]=j.useState([]),[l,c]=j.useState(!0),[d,h]=j.useState(""),[p,f]=j.useState([]),[v,m]=j.useState(!1),[g,y]=j.useState(""),[x,_]=j.useState(""),[A,N]=j.useState(""),[I,P]=j.useState(0),[E,k]=j.useState(!1),[D,C]=j.useState(null),[O,L]=j.useState(!1),[z,re]=j.useState(""),[Y,K]=j.useState(""),[q,Z]=j.useState(!1),[ye,ce]=j.useState(null),[F,V]=j.useState(!1),[G,oe]=j.useState([]),[J,ne]=j.useState([]),[xe,he]=j.useState([]),[T,X]=j.useState(!1),le=SJe();j.useEffect(()=>{(async()=>{try{c(!0);const we=await H4();s(we)}catch(we){console.error("Erro ao buscar usuários:",we)}finally{c(!1)}})()},[]),j.useEffect(()=>{(async()=>{try{m(!0);const we=await VU();f(we.sort((De,ze)=>{var Ze,_t;const st=(Ze=De.createdAt)!=null&&Ze.toDate?De.createdAt.toDate():new Date(De.createdAt);return((_t=ze.createdAt)!=null&&_t.toDate?ze.createdAt.toDate():new Date(ze.createdAt)).getTime()-st.getTime()}))}catch(we){console.error("Erro ao buscar histórico:",we)}finally{m(!1)}})()},[]),j.useEffect(()=>{(async()=>{try{X(!0);const[we,De,ze]=await Promise.all([$T(),zU(),FT()]);oe(we),ne(De.sort((st,nt)=>{const Ze=st.createdAt.toDate?st.createdAt.toDate():new Date(st.createdAt);return(nt.createdAt.toDate?nt.createdAt.toDate():new Date(nt.createdAt)).getTime()-Ze.getTime()})),he(ze.sort((st,nt)=>{const Ze=st.createdAt.toDate?st.createdAt.toDate():new Date(st.createdAt);return(nt.createdAt.toDate?nt.createdAt.toDate():new Date(nt.createdAt)).getTime()-Ze.getTime()}))}catch(we){console.error("Erro ao buscar dados de admin:",we)}finally{X(!1)}})()},[]);const de=o.filter(ge=>ge.name.toLowerCase().includes(d.toLowerCase())||ge.email.toLowerCase().includes(d.toLowerCase())),ve=()=>{a(),Ge.success("Dados atualizados com sucesso!")},ee=async()=>{if(g.trim())try{L(!0);const ge=await fx(g.trim());C(ge),_(ge?ge.currentPlan:"")}catch{C(null),_("")}finally{L(!1)}},Ne=async()=>{if(!D||!x){Ge.error("Por favor, selecione um usuário e um plano");return}if(x===D.currentPlan){Ge.error("O usuário já possui este plano");return}if(!AJe(x)){Ge.error("Plano inválido selecionado");return}try{k(!0),await vJe(D.email,x,(t==null?void 0:t.email)||"",A||void 0,I||void 0),y(""),_(""),N(""),P(0),C(null),a();const ge=await H4();s(ge);const we=await VU();f(we.sort((De,ze)=>{var Ze,_t;const st=(Ze=De.createdAt)!=null&&Ze.toDate?De.createdAt.toDate():new Date(De.createdAt);return((_t=ze.createdAt)!=null&&_t.toDate?ze.createdAt.toDate():new Date(ze.createdAt)).getTime()-st.getTime()}))}catch(ge){console.error("Erro ao atualizar plano:",ge)}finally{k(!1)}},Re=async()=>{if(z.trim())try{V(!0);const ge=await fx(z.trim());ce(ge)}catch{ce(null)}finally{V(!1)}},Le=async()=>{if(!ye){Ge.error("Por favor, busque um usuário primeiro");return}try{Z(!0),await yJe(ye.email,(t==null?void 0:t.email)||"",Y||void 0),re(""),K(""),ce(null);const[ge,we,De]=await Promise.all([$T(),zU(),FT()]);oe(ge),ne(we.sort((ze,st)=>{const nt=ze.createdAt.toDate?ze.createdAt.toDate():new Date(ze.createdAt);return(st.createdAt.toDate?st.createdAt.toDate():new Date(st.createdAt)).getTime()-nt.getTime()})),he(De.sort((ze,st)=>{const nt=ze.createdAt.toDate?ze.createdAt.toDate():new Date(ze.createdAt);return(st.createdAt.toDate?st.createdAt.toDate():new Date(st.createdAt)).getTime()-nt.getTime()}))}catch(ge){console.error("Erro ao promover usuário:",ge)}finally{Z(!1)}},Ae=async ge=>{try{await bJe(ge,(t==null?void 0:t.email)||"","Remoção via painel administrativo");const[we,De]=await Promise.all([$T(),FT()]);oe(we),he(De.sort((ze,st)=>{const nt=ze.createdAt.toDate?ze.createdAt.toDate():new Date(ze.createdAt);return(st.createdAt.toDate?st.createdAt.toDate():new Date(st.createdAt)).getTime()-nt.getTime()}))}catch(we){console.error("Erro ao remover privilégios de admin:",we)}};return u.jsxs(vD,{defaultValue:"dashboard",className:"w-full",children:[u.jsxs(eN,{className:"grid w-full grid-cols-2 mb-6",children:[u.jsxs(gc,{value:"dashboard",className:"flex items-center gap-2",children:[u.jsx(qq,{className:"h-4 w-4"}),"Resultados & Estatísticas"]}),u.jsxs(gc,{value:"plans",className:"flex items-center gap-2",children:[u.jsx(Qq,{className:"h-4 w-4"}),"Gerenciar Planos"]})]}),u.jsxs(vc,{value:"dashboard",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Resultados & Estatísticas"}),u.jsx("p",{className:"text-muted-foreground",children:"Visão geral do desempenho do sistema"})]}),u.jsxs(He,{onClick:ve,variant:"outline",size:"sm",disabled:n,className:"flex items-center gap-2",children:[u.jsx(jse,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Atualizar"]})]}),i&&u.jsxs(E1,{variant:"destructive",children:[u.jsx(Hq,{className:"h-4 w-4"}),u.jsx(N1,{children:i})]}),n?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((ge,we)=>u.jsx(rt,{className:"p-6",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-2"}),u.jsx("div",{className:"h-8 bg-muted rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-3 bg-muted rounded w-1/3"})]})},we))}):r&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx(e1,{title:"Total de Usuários",value:r.totalUsers.toLocaleString(),icon:Zo,trend:{value:r.growthRate,isPositive:r.growthRate>0}}),u.jsx(e1,{title:"Usuários Ativos",value:r.activeUsers.toLocaleString(),icon:Yw}),u.jsx(e1,{title:"Receita Total",value:`R$ ${r.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:_v}),u.jsx(e1,{title:"Taxa de Crescimento",value:`${r.growthRate.toFixed(1)}%`,icon:Ti,trend:{value:r.growthRate,isPositive:r.growthRate>0}})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(rt,{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Distribuição de Planos"}),n?u.jsx("div",{className:"space-y-3",children:[...Array(4)].map((ge,we)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-16 animate-pulse"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-48 h-2 bg-muted rounded-full animate-pulse"}),u.jsx("div",{className:"h-4 bg-muted rounded w-8 animate-pulse"})]})]},we))}):r?u.jsx("div",{className:"space-y-4",children:Object.entries(r.planDistribution).map(([ge,we])=>{const De=r.totalUsers>0?we/r.totalUsers*100:0,ze=le.find(st=>st.id===ge);return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium",children:(ze==null?void 0:ze.name)||ge}),u.jsxs(mr,{variant:"outline",className:"text-xs",children:[we," usuários"]})]}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[De.toFixed(1),"%"]})]}),u.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-500",style:{width:`${De}%`}})})]},ge)})}):null]}),u.jsxs(rt,{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Atividade Recente"}),n?u.jsx("div",{className:"space-y-3",children:[...Array(4)].map((ge,we)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"}),u.jsx("div",{className:"h-3 bg-muted rounded w-16 animate-pulse"})]},we))}):r?u.jsx("div",{className:"space-y-3",children:r.recentActivity.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma atividade recente"}):r.recentActivity.map((ge,we)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[u.jsx("span",{className:"text-sm",children:ge.action}),u.jsx("span",{className:"text-xs text-muted-foreground",children:ge.time})]},we))}):null]})]}),u.jsxs(rt,{className:"shadow-card",children:[u.jsx("div",{className:"p-6 border-b border-border",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-semibold",children:["Usuários do Sistema (",de.length,")"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(iA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Vt,{placeholder:"Buscar usuários...",className:"w-64 pl-10",value:d,onChange:ge=>h(ge.target.value)})]}),u.jsx(He,{variant:"outline",children:"Filtros"})]})]})}),u.jsx("div",{className:"overflow-x-auto",children:l?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Carregando usuários..."})]}):u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-4 font-semibold",children:"Usuário"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Email"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Plano"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Registrado em"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Ações"})]})}),u.jsx("tbody",{children:de.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:d?"Nenhum usuário encontrado para a busca.":"Nenhum usuário encontrado."})}):de.map(ge=>u.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[u.jsx("td",{className:"p-4 font-medium",children:ge.name}),u.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:ge.email}),u.jsx("td",{className:"p-4",children:u.jsx(mr,{variant:ge.plan==="free"?"secondary":"default",className:"capitalize",children:ge.plan})}),u.jsx("td",{className:"p-4",children:u.jsx(mr,{variant:ge.status==="active"?"default":"secondary",children:ge.status==="active"?"Ativo":"Inativo"})}),u.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:ge.createdAt?ge.createdAt.toDate?ge.createdAt.toDate().toLocaleDateString("pt-BR"):new Date(ge.createdAt).toLocaleDateString("pt-BR"):"N/A"}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(He,{size:"sm",variant:"outline",children:"Editar"}),u.jsx(He,{size:"sm",variant:"outline",children:"Ver Detalhes"})]})})]},ge.id))})]})})]})]}),u.jsxs(vc,{value:"plans",className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciamento de Planos"}),u.jsx("p",{className:"text-muted-foreground",children:"Alterar planos de usuários por email"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(rt,{className:"p-6 relative z-50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Jq,{className:"h-5 w-5"}),"Alterar Plano de Usuário"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Email do Usuário"}),u.jsx("div",{className:"mt-1",children:u.jsx(qU,{placeholder:"Digite o email do usuário",onUserSelect:ge=>{y(ge.email),C({uid:ge.uid,email:ge.email,displayName:ge.displayName})},onSearch:ge=>{y(ge),ee()}})})]}),D&&u.jsxs(E1,{children:[u.jsx(Yw,{className:"h-4 w-4"}),u.jsx(N1,{children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Nome:"})," ",D.name||"Nome não informado"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Email:"})," ",D.email||"Email não informado"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("strong",{children:"Plano Atual:"}),u.jsx(mr,{className:"capitalize",children:D.currentPlan||"free"})]})]})})]}),D&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(ot,{htmlFor:"newPlan",children:"Novo Plano"}),u.jsxs(ci,{value:x,onValueChange:_,children:[u.jsx(Qn,{className:"mt-1",children:u.jsx(ui,{placeholder:"Selecione o novo plano"})}),u.jsx(Jn,{children:le.map(ge=>u.jsx($r,{value:ge.id,disabled:ge.id===D.currentPlan,children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsx("span",{children:ge.name}),u.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["R$ ",ge.price.toFixed(2)]})]})},ge.id))})]})]}),u.jsxs("div",{children:[u.jsx(ot,{htmlFor:"reason",children:"Motivo da Alteração (opcional)"}),u.jsx(W4,{id:"reason",placeholder:"Ex: Upgrade promocional, correção de problema, etc.",value:A,onChange:ge=>N(ge.target.value),className:"mt-1"})]}),x&&x!=="free"&&u.jsxs("div",{children:[u.jsx(ot,{htmlFor:"subscriptionMonths",children:"Meses de Assinatura"}),u.jsx(Vt,{id:"subscriptionMonths",type:"number",placeholder:"Ex: 12 (para 1 ano)",value:I,onChange:ge=>P(parseInt(ge.target.value)||0),className:"mt-1",min:"1",max:"120"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deixe vazio para não definir período específico"})]}),u.jsx(He,{onClick:Ne,disabled:E||!x||x===D.currentPlan,className:"w-full",children:E?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Alterando Plano..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Fp,{className:"h-4 w-4 mr-2"}),"Alterar Plano"]})})]})]})]}),u.jsxs(rt,{className:"p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(tA,{className:"h-5 w-5"}),"Histórico de Alterações"]}),v?u.jsx("div",{className:"space-y-3",children:[...Array(3)].map((ge,we)=>u.jsx("div",{className:"p-3 border rounded-lg",children:u.jsxs("div",{className:"animate-pulse space-y-2",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),u.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),u.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})},we))}):u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:p.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma alteração de plano registrada"}):p.map(ge=>{var we;return u.jsx("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium",children:ge.userEmail}),u.jsx(mr,{variant:"outline",className:"text-xs",children:ge.newPlan})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[ge.previousPlan," → ",ge.newPlan]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Alterado por: ",ge.updatedBy||ge.changedBy]}),ge.reason&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Motivo: ",ge.reason]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:(we=ge.createdAt)!=null&&we.toDate?ge.createdAt.toDate().toLocaleString("pt-BR"):new Date(ge.createdAt).toLocaleString("pt-BR")})]})},ge.id)})})]})]}),u.jsxs(rt,{className:"p-6 relative z-10",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Bp,{className:"h-5 w-5"}),"Gerenciar Administradores"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Email do Usuário para Promover"}),u.jsx("div",{className:"mt-1",children:u.jsx(qU,{placeholder:"Digite o email do usuário",onUserSelect:ge=>{re(ge.email),ce({uid:ge.uid,email:ge.email,displayName:ge.displayName})},onSearch:ge=>{re(ge),Re()}})})]}),ye&&u.jsxs(E1,{children:[u.jsx(Yw,{className:"h-4 w-4"}),u.jsx(N1,{children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Nome:"})," ",ye.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Email:"})," ",ye.email]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Status:"}),u.jsx(mr,{className:"ml-2",variant:"outline",children:"Usuário Regular"})]})]})})]}),ye&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(ot,{htmlFor:"adminReason",children:"Motivo da Promoção (opcional)"}),u.jsx(W4,{id:"adminReason",placeholder:"Ex: Responsável pela equipe, suporte técnico, etc.",value:Y,onChange:ge=>K(ge.target.value),className:"mt-1"})]}),u.jsx(He,{onClick:Le,disabled:q,className:"w-full bg-gradient-primary",children:q?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Promovendo..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Bp,{className:"h-4 w-4 mr-2"}),"Promover a Administrador"]})})]})]})]}),u.jsxs(rt,{className:"p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Yw,{className:"h-5 w-5"}),"Administradores Atuais"]}),T?u.jsx("div",{className:"space-y-3",children:[...Array(3)].map((ge,we)=>u.jsx("div",{className:"p-3 border rounded-lg",children:u.jsxs("div",{className:"animate-pulse space-y-2",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),u.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},we))}):u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:G.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum administrador encontrado"}):G.map(ge=>u.jsx("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium",children:ge.email}),u.jsx(mr,{variant:"default",className:"bg-gradient-primary",children:"Admin"})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Promovido por: ",ge.promotedBy||"Sistema"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:ge.addedAt?ge.addedAt.toDate?ge.addedAt.toDate().toLocaleString("pt-BR"):ge.addedAt.toString():"Data não disponível"})]}),ge.email!==(t==null?void 0:t.email)&&ge.userId!=="hardcoded"&&u.jsx(He,{size:"sm",variant:"destructive",onClick:()=>Ae(ge.email),children:"Remover Admin"})]})},ge.userId))})]}),u.jsxs(rt,{className:"p-6 lg:col-span-2",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Planos Disponíveis"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:le.map(ge=>u.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"font-semibold",children:ge.name}),u.jsxs(mr,{variant:ge.price===0?"secondary":"default",children:["R$ ",ge.price.toFixed(2)]})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:ge.description}),u.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:ge.features.map((we,De)=>u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx(Fp,{className:"h-3 w-3 text-green-500"}),we]},De))})]})},ge.id))})]})]})]})},NJe=()=>{const{user:t,isAdmin:e}=qr();return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h1",{className:"text-4xl font-bold",children:"Painel Administrativo"}),e&&u.jsxs(mr,{variant:"default",className:"flex items-center gap-1 bg-gradient-primary",children:[u.jsx(Bp,{className:"h-3 w-3"}),"Admin"]})]}),u.jsxs("p",{className:"text-muted-foreground",children:["Gerencie usuários e configurações do sistema • Acesso restrito • ",t==null?void 0:t.email]})]}),u.jsx(EJe,{})]})})},PJe=()=>{const{user:t}=qr(),[e,r]=j.useState(!1),n=`https://optify.app/ref/${t==null?void 0:t.affiliateCode}`,i=()=>{navigator.clipboard.writeText(n),r(!0),Ge.success("Link copiado!"),setTimeout(()=>r(!1),2e3)},a={totalReferrals:12,activeReferrals:8,totalEarnings:450,pendingEarnings:120},o=[{date:"2024-10-01",name:"João Silva",plan:"Standard",commission:49,status:"paid"},{date:"2024-09-25",name:"Maria Santos",plan:"Medium",commission:99,status:"paid"},{date:"2024-09-20",name:"Pedro Costa",plan:"Ultimate",commission:199,status:"pending"}];return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Sistema de Afiliados"}),u.jsx("p",{className:"text-muted-foreground",children:"Ganhe comissões indicando novos usuários"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsxs(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Indicações"}),u.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:u.jsx(Zo,{className:"h-5 w-5 text-primary"})})]}),u.jsx("p",{className:"text-3xl font-bold",children:a.totalReferrals})]}),u.jsxs(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Indicações Ativas"}),u.jsx("div",{className:"p-2 bg-success/10 rounded-lg",children:u.jsx(Ti,{className:"h-5 w-5 text-success"})})]}),u.jsx("p",{className:"text-3xl font-bold text-success",children:a.activeReferrals})]}),u.jsxs(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Ganho"}),u.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:u.jsx(_v,{className:"h-5 w-5 text-primary"})})]}),u.jsxs("p",{className:"text-3xl font-bold",children:["R$ ",a.totalEarnings]})]}),u.jsxs(rt,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"A Receber"}),u.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:u.jsx(_v,{className:"h-5 w-5 text-warning"})})]}),u.jsxs("p",{className:"text-3xl font-bold text-warning",children:["R$ ",a.pendingEarnings]})]})]}),u.jsxs(vD,{defaultValue:"link",className:"space-y-6",children:[u.jsxs(eN,{className:"grid w-full max-w-2xl grid-cols-4",children:[u.jsx(gc,{value:"link",children:"Link"}),u.jsx(gc,{value:"stats",children:"Estatísticas"}),u.jsx(gc,{value:"earnings",children:"Ganhos"}),u.jsx(gc,{value:"history",children:"Histórico"})]}),u.jsx(vc,{value:"link",children:u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Seu Link de Referência"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Compartilhe este link para ganhar 10% de comissão sobre os planos pagos"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Vt,{value:n,readOnly:!0,className:"flex-1"}),u.jsxs(He,{onClick:i,variant:"outline",className:"gap-2",children:[e?u.jsx(hr,{className:"h-4 w-4"}):u.jsx(Q2,{className:"h-4 w-4"}),e?"Copiado":"Copiar"]})]})]})}),u.jsx(vc,{value:"stats",children:u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance Mensal"}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa de Conversão"}),u.jsx("p",{className:"text-2xl font-bold",children:"66.7%"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliques no Link"}),u.jsx("p",{className:"text-2xl font-bold",children:"18"})]})]})})]})}),u.jsx(vc,{value:"earnings",children:u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Resumo de Ganhos"}),u.jsx("div",{className:"space-y-4",children:["Janeiro","Fevereiro","Março"].map((s,l)=>u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[u.jsx("span",{className:"font-medium",children:s}),u.jsxs("span",{className:"text-success font-bold",children:["R$ ",[150,180,120][l]]})]},s))})]})}),u.jsx(vc,{value:"history",children:u.jsx(rt,{className:"shadow-card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-4 font-semibold",children:"Data"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Usuário"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Plano"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Comissão"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"})]})}),u.jsx("tbody",{children:o.map((s,l)=>u.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[u.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(s.date).toLocaleDateString("pt-BR")}),u.jsx("td",{className:"p-4 font-medium",children:s.name}),u.jsx("td",{className:"p-4",children:s.plan}),u.jsxs("td",{className:"p-4 font-semibold text-success",children:["R$ ",s.commission]}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.status==="paid"?"bg-success/10 text-success":"bg-warning/10 text-warning"}`,children:s.status==="paid"?"Pago":"Pendente"})})]},l))})]})})})})]})]})})},TJe=()=>{const t=()=>{Ge.success("Configurações salvas com sucesso!")};return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Configurações"}),u.jsx("p",{className:"text-muted-foreground",children:"Personalize suas preferências"})]}),u.jsxs(vD,{defaultValue:"general",className:"space-y-6",children:[u.jsxs(eN,{className:"grid w-full max-w-2xl grid-cols-3",children:[u.jsx(gc,{value:"general",children:"Geral"}),u.jsx(gc,{value:"notifications",children:"Notificações"}),u.jsx(gc,{value:"security",children:"Segurança"})]}),u.jsxs(vc,{value:"general",className:"space-y-6",children:[u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Configurações Gerais"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"Horário de Fechamento do Dia"}),u.jsx(Vt,{type:"time",defaultValue:"23:59",className:"max-w-xs"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Define quando o sistema fecha automaticamente o dia"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"Fuso Horário"}),u.jsxs("select",{className:"w-full max-w-xs h-10 rounded-md border border-input bg-background px-3 text-sm",children:[u.jsx("option",{children:"America/Sao_Paulo (GMT-3)"}),u.jsx("option",{children:"America/New_York (GMT-5)"}),u.jsx("option",{children:"Europe/London (GMT+0)"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"Moeda Padrão"}),u.jsxs("select",{className:"w-full max-w-xs h-10 rounded-md border border-input bg-background px-3 text-sm",children:[u.jsx("option",{children:"BRL (R$)"}),u.jsx("option",{children:"USD ($)"}),u.jsx("option",{children:"EUR (€)"})]})]})]})]}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Preferências de Interface"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Modo Compacto"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduz o espaçamento da interface"})]}),u.jsx(nc,{})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Animações"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ativa/desativa animações da interface"})]}),u.jsx(nc,{defaultChecked:!0})]})]})]})]}),u.jsx(vc,{value:"notifications",className:"space-y-6",children:u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Notificações"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Notificações de Email"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações por email"})]}),u.jsx(nc,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Pagamentos Pendentes"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertas sobre pagamentos não realizados"})]}),u.jsx(nc,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Metas Atingidas"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificação ao atingir metas mensais"})]}),u.jsx(nc,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Novos Funcionários"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Alerta quando um novo funcionário é cadastrado"})]}),u.jsx(nc,{})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Relatórios Semanais"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Resumo semanal enviado por email"})]}),u.jsx(nc,{defaultChecked:!0})]})]})]})}),u.jsxs(vc,{value:"security",className:"space-y-6",children:[u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Alterar Senha"}),u.jsxs("div",{className:"space-y-4 max-w-md",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"Senha Atual"}),u.jsx(Vt,{type:"password",placeholder:"••••••••"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"Nova Senha"}),u.jsx(Vt,{type:"password",placeholder:"••••••••"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"Confirmar Nova Senha"}),u.jsx(Vt,{type:"password",placeholder:"••••••••"})]}),u.jsx(He,{children:"Atualizar Senha"})]})]}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Privacidade"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Autenticação de Dois Fatores"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Adiciona uma camada extra de segurança"})]}),u.jsx(nc,{})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Sessões Ativas"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerenciar dispositivos conectados"})]}),u.jsx(He,{variant:"outline",size:"sm",children:"Ver Sessões"})]})]})]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx(He,{onClick:t,children:"Salvar Alterações"})})]})})},jJe=()=>{const{user:t,logout:e}=qr(),{currentPlan:r}=gf(),n=Wi(),[i,a]=j.useState(""),[o,s]=j.useState(!1),l=()=>{Ge.success("Perfil atualizado com sucesso!")},c=async()=>{if(i.toLowerCase()!=="sim"){Ge.error('Digite "sim" para confirmar a exclusão');return}try{const p=Z0.currentUser,f=p==null?void 0:p.uid;if(!p||!f){Ge.error("Usuário não autenticado");return}await N1e(f),await dme(p),Ge.success("Conta excluída com sucesso"),s(!1),a(""),n("/")}catch(p){(p==null?void 0:p.code)==="auth/requires-recent-login"?Ge.error("Por segurança, faça login novamente e tente excluir a conta."):Ge.error("Não foi possível excluir a conta. Tente novamente.")}},d=()=>{s(!0),a("")},h=[{date:"2024-10-01",plan:"Ultimate",amount:199,status:"paid"},{date:"2024-09-01",plan:"Ultimate",amount:199,status:"paid"},{date:"2024-08-01",plan:"Standard",amount:49,status:"paid"}];return u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Meu Perfil"}),u.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informações pessoais"})]}),u.jsx(rt,{className:"p-6 shadow-card",children:u.jsxs("div",{className:"flex items-start gap-6",children:[u.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:u.jsx(Yq,{className:"h-16 w-16 text-primary"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h2",{className:"text-2xl font-bold",children:t==null?void 0:t.name}),u.jsx(mr,{variant:"default",className:"capitalize",children:r}),(t==null?void 0:t.isAdmin)&&u.jsx(mr,{variant:"secondary",children:"Admin"})]}),u.jsx("p",{className:"text-muted-foreground mb-4",children:t==null?void 0:t.email}),u.jsx(He,{variant:"outline",size:"sm",onClick:()=>n("/planos"),children:"Gerenciar Plano"})]})]})}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Informações Pessoais"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"Nome Completo"}),u.jsx(Vt,{defaultValue:t==null?void 0:t.name})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"Email"}),u.jsx(Vt,{type:"email",defaultValue:t==null?void 0:t.email})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"Telefone"}),u.jsx(Vt,{type:"tel",placeholder:"(11) 99999-9999"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{children:"CPF/CNPJ"}),u.jsx(Vt,{placeholder:"000.000.000-00"})]})]}),u.jsx("div",{className:"flex justify-end mt-6",children:u.jsx(He,{onClick:l,children:"Salvar Alterações"})})]}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(Dse,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Plano Atual"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Plano"}),u.jsx("p",{className:"text-xl font-bold capitalize",children:r})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Próximo Pagamento"}),u.jsx("p",{className:"text-xl font-bold",children:"01/11/2024"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Valor Mensal"}),u.jsx("p",{className:"text-xl font-bold",children:r==="free"?"Grátis":r==="standard"?"R$ 49":r==="medium"?"R$ 99":"R$ 199"})]})]}),u.jsx(He,{variant:"outline",onClick:()=>n("/planos"),children:"Alterar Plano"})]}),u.jsxs(rt,{className:"shadow-card",children:[u.jsx("div",{className:"p-6 border-b border-border",children:u.jsx("h3",{className:"text-lg font-semibold",children:"Histórico de Pagamentos"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-4 font-semibold",children:"Data"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Plano"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Valor"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),u.jsx("th",{className:"text-left p-4 font-semibold",children:"Nota Fiscal"})]})}),u.jsx("tbody",{children:h.map((p,f)=>u.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[u.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(p.date).toLocaleDateString("pt-BR")}),u.jsx("td",{className:"p-4",children:p.plan}),u.jsxs("td",{className:"p-4 font-semibold",children:["R$ ",p.amount]}),u.jsx("td",{className:"p-4",children:u.jsx(mr,{variant:"default",children:"Pago"})}),u.jsx("td",{className:"p-4",children:u.jsx(He,{variant:"ghost",size:"sm",children:"Download"})})]},f))})]})})]}),u.jsxs(rt,{className:"p-6 shadow-card border-destructive/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Uh,{className:"h-5 w-5 text-destructive"}),u.jsx("h3",{className:"text-lg font-semibold text-destructive",children:"Zona de Perigo"})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Uma vez que você exclua sua conta, não há como voltar atrás. Por favor, tenha certeza."}),u.jsxs(Qp,{open:o,onOpenChange:s,children:[u.jsx(ky,{asChild:!0,children:u.jsx(He,{variant:"destructive",onClick:d,children:"Excluir Conta"})}),u.jsxs(Jh,{className:"bg-card border-border",children:[u.jsxs(Zh,{children:[u.jsxs(tf,{className:"text-foreground flex items-center gap-2",children:[u.jsx(Uh,{className:"w-5 h-5 text-destructive"}),"Confirmar Exclusão de Conta"]}),u.jsxs(rf,{className:"text-muted-foreground",children:["Esta ação é ",u.jsx("strong",{children:"irreversível"}),". Todos os seus dados serão permanentemente excluídos."]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[u.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"⚠️ Atenção: Esta ação não pode ser desfeita"}),u.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[u.jsx("li",{children:"• Todos os seus dados serão excluídos permanentemente"}),u.jsx("li",{children:"• Seu histórico de transações será perdido"}),u.jsx("li",{children:"• Suas configurações serão removidas"}),u.jsx("li",{children:"• Você precisará criar uma nova conta para usar o sistema"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(ot,{htmlFor:"deleteConfirmation",className:"text-sm font-medium text-foreground",children:["Para confirmar, digite ",u.jsx("strong",{children:'"sim"'})," abaixo:"]}),u.jsx(Vt,{id:"deleteConfirmation",type:"text",placeholder:"Digite 'sim' para confirmar",value:i,onChange:p=>a(p.target.value),className:"border-destructive/50 focus:border-destructive"})]})]}),u.jsxs(ef,{children:[u.jsx(af,{className:"bg-muted hover:bg-muted/80 text-foreground border-border",children:"Cancelar"}),u.jsx(nf,{onClick:c,disabled:i.toLowerCase()!=="sim",className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground disabled:opacity-50 disabled:cursor-not-allowed",children:"Excluir Conta Permanentemente"})]})]})]})]})]})})},CJe=()=>{const t=df();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},mne=j.forwardRef(({className:t,...e},r)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:r,className:yt("w-full caption-bottom text-sm",t),...e})}));mne.displayName="Table";const gne=j.forwardRef(({className:t,...e},r)=>u.jsx("thead",{ref:r,className:yt("[&_tr]:border-b",t),...e}));gne.displayName="TableHeader";const vne=j.forwardRef(({className:t,...e},r)=>u.jsx("tbody",{ref:r,className:yt("[&_tr:last-child]:border-0",t),...e}));vne.displayName="TableBody";const kJe=j.forwardRef(({className:t,...e},r)=>u.jsx("tfoot",{ref:r,className:yt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));kJe.displayName="TableFooter";const __=j.forwardRef(({className:t,...e},r)=>u.jsx("tr",{ref:r,className:yt("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));__.displayName="TableRow";const lg=j.forwardRef(({className:t,...e},r)=>u.jsx("th",{ref:r,className:yt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));lg.displayName="TableHead";const ep=j.forwardRef(({className:t,...e},r)=>u.jsx("td",{ref:r,className:yt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ep.displayName="TableCell";const IJe=j.forwardRef(({className:t,...e},r)=>u.jsx("caption",{ref:r,className:yt("mt-4 text-sm text-muted-foreground",t),...e}));IJe.displayName="TableCaption";const OJe=()=>{const{id:t}=Xde(),e=Wi();qi();const{user:r}=qr(),[n,i]=j.useState(""),[a,o]=j.useState(""),[s,l]=j.useState(""),[c,d]=j.useState(""),[h,p]=j.useState(!1),[f,v]=j.useState(!1),[m,g]=j.useState(null),[y,x]=j.useState({amount:"",platformId:"",type:"deposit"}),[_,A]=j.useState({name:"",cpf:"",email:"",phone:"",birthDate:"",salary:0,payDay:1,status:"active"}),{data:N=[]}=rd((r==null?void 0:r.uid)||""),I=N.find(J=>J.id===t),P=new Date().toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-"),{data:E=[]}=as((r==null?void 0:r.uid)||"",P,P),k=E.filter(J=>J.employeeId===t),D=sX(),C=Hbe(),O=P3(),L=T3(),z=Xbe(),re=()=>{I&&(A({name:I.name,cpf:I.cpf||"",email:I.email||"",phone:I.phone||"",birthDate:I.birthDate||"",salary:I.salary||0,payDay:I.payDay||1,status:I.status||"active"}),p(!0))},Y=async()=>{if(!(!I||!(r!=null&&r.uid))){if(!_.name.trim()){Ge.error("O nome é obrigatório");return}try{const J={name:_.name.trim(),updatedAt:new Date};_.cpf.trim()&&(J.cpf=_.cpf.trim()),_.email.trim()&&(J.email=_.email.trim()),_.phone.trim()&&(J.phone=_.phone.trim()),_.birthDate&&(J.birthDate=_.birthDate),_.salary>0&&(J.salary=_.salary),_.payDay>0&&(J.payDay=_.payDay),J.status=_.status,await D.mutateAsync({userId:r.uid,id:I.id,data:J}),Ge.success("Funcionário atualizado com sucesso!"),p(!1)}catch(J){console.error("Erro ao atualizar funcionário:",J),Ge.error("Erro ao atualizar funcionário. Tente novamente.")}}},K=async()=>{if(!(!I||!(r!=null&&r.uid)))try{await C.mutateAsync({userId:r.uid,id:I.id}),Ge.success("Funcionário excluído com sucesso!"),e("/gestao-funcionarios")}catch(J){console.error("Erro ao excluir funcionário:",J),Ge.error("Erro ao excluir funcionário. Tente novamente.")}},q=J=>{g(J),x({amount:J.amount.toString(),platformId:J.platformId||"",type:J.type}),v(!0)},Z=async()=>{if(!(!m||!(r!=null&&r.uid)))try{await z.mutateAsync({userId:r.uid,id:m.id,data:{amount:Number(y.amount),platformId:y.platformId,type:y.type}}),Ge.success("Transação atualizada com sucesso!"),v(!1),g(null)}catch(J){console.error("Erro ao atualizar transação:",J),Ge.error("Erro ao atualizar transação. Tente novamente.")}},{data:ye=[]}=Iy((r==null?void 0:r.uid)||"");console.log("Platforms loaded:",ye),console.log("Deposit platform:",a),console.log("Withdraw platform:",c);const ce=k,F=async(J,ne,xe)=>{if(!(!I||!(r!=null&&r.uid)))try{const he={userId:r.uid,employeeId:I.id,platformId:xe,type:J,amount:Number(ne),date:new Date().toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-")};console.log("Creating transaction:",he),console.log("Transaction date being saved:",he.date);const T=await O.mutateAsync(he);console.log("Transaction created with ID:",T),Ge.success(`${J==="deposit"?"Depósito":"Saque"} registrado com sucesso!`),J==="deposit"?(i(""),o("")):(l(""),d(""))}catch(he){console.error("Erro ao registrar transação:",he),Ge.error("Erro ao registrar transação. Tente novamente.")}},V=()=>{if(!n){Ge.error("Preencha o valor do depósito");return}if(console.log("Attempting deposit with platform:",a),!a){console.log("No platform selected, proceeding without platform"),F("deposit",n,"");return}F("deposit",n,a)},G=()=>{if(!s){Ge.error("Preencha o valor do saque");return}if(console.log("Attempting withdraw with platform:",c),!c){console.log("No platform selected, proceeding without platform"),F("withdraw",s,"");return}F("withdraw",s,c)},oe=(J,ne)=>{navigator.clipboard.writeText(J),Ge.success(`${ne} copiado!`)};return I?u.jsx($a,{children:u.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(He,{variant:"ghost",size:"icon",onClick:()=>e("/gestao-funcionarios"),children:u.jsx(Nx,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:I.name}),u.jsx("p",{className:"text-muted-foreground",children:"Perfil do Funcionário"})]}),u.jsxs(He,{variant:"outline",className:"gap-2",onClick:re,children:[u.jsx(rb,{className:"h-4 w-4"}),"Editar"]}),u.jsxs(Qp,{children:[u.jsx(ky,{asChild:!0,children:u.jsxs(He,{variant:"destructive",className:"gap-2",children:[u.jsx(Uh,{className:"h-4 w-4"}),"Excluir"]})}),u.jsxs(Jh,{children:[u.jsxs(Zh,{children:[u.jsx(tf,{children:"Confirmar Exclusão"}),u.jsxs(rf,{children:["Tem certeza que deseja excluir o funcionário ",I.name,"? Esta ação não pode ser desfeita e todas as transações relacionadas serão perdidas."]})]}),u.jsxs(ef,{children:[u.jsx(af,{children:"Cancelar"}),u.jsx(nf,{onClick:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:C.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Np,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):"Excluir"})]})]})]})]}),u.jsx(rt,{className:"p-6 shadow-card",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(ot,{className:"text-sm text-muted-foreground",children:"CPF"}),u.jsx("p",{className:"text-lg font-semibold",children:I.cpf})]}),u.jsx(He,{variant:"ghost",size:"icon",onClick:()=>oe(I.cpf,"CPF"),children:u.jsx(Q2,{className:"h-4 w-4"})})]}),I.email&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(ot,{className:"text-sm text-muted-foreground",children:"Email"}),u.jsx("p",{className:"text-lg font-semibold",children:I.email})]}),u.jsx(He,{variant:"ghost",size:"icon",onClick:()=>oe(I.email,"Email"),children:u.jsx(Q2,{className:"h-4 w-4"})})]}),I.phone&&u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(ot,{className:"text-sm text-muted-foreground",children:"Telefone"}),u.jsx("p",{className:"text-lg font-semibold",children:I.phone})]}),u.jsx(He,{variant:"ghost",size:"icon",onClick:()=>oe(I.phone,"Telefone"),children:u.jsx(Q2,{className:"h-4 w-4"})})]}),I.birthDate&&u.jsxs("div",{children:[u.jsx(ot,{className:"text-sm text-muted-foreground",children:"Data de Nascimento"}),u.jsx("p",{className:"text-lg font-semibold",children:new Date(I.birthDate).toLocaleDateString("pt-BR")})]}),u.jsxs("div",{children:[u.jsx(ot,{className:"text-sm text-muted-foreground",children:"Status"}),u.jsx("div",{className:"mt-2",children:u.jsx(mr,{variant:I.status==="active"?"default":"secondary",className:I.status==="active"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${I.status==="active","bg-white"}`}),I.status==="active"?"Ativo":"Inativo"]})})})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Depósito"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Valor (BRL)"}),u.jsx(Vt,{type:"number",placeholder:"0,00",value:n,onChange:J=>i(J.target.value)})]}),u.jsxs("div",{children:[u.jsx(ot,{children:"Plataforma"}),u.jsxs(ci,{value:a,onValueChange:o,children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Selecione a plataforma"})}),u.jsx(Jn,{children:ye.map(J=>u.jsx($r,{value:J.id,children:J.name},J.id))})]})]}),u.jsx(He,{onClick:V,disabled:O.isPending,className:"w-full bg-destructive hover:bg-destructive/90",children:"Registrar Depósito"})]})]}),u.jsxs(rt,{className:"p-6 shadow-card",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Saque"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ot,{children:"Valor (BRL)"}),u.jsx(Vt,{type:"number",placeholder:"0,00",value:s,onChange:J=>l(J.target.value)})]}),u.jsxs("div",{children:[u.jsx(ot,{children:"Plataforma"}),u.jsxs(ci,{value:c,onValueChange:d,children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Selecione a plataforma"})}),u.jsx(Jn,{children:ye.map(J=>u.jsx($r,{value:J.id,children:J.name},J.id))})]})]}),u.jsx(He,{onClick:G,disabled:O.isPending,className:"w-full",style:{backgroundColor:"#9333EA"},children:"Registrar Saque"})]})]})]}),u.jsxs(rt,{className:"shadow-card",children:[u.jsx("div",{className:"p-6 border-b border-border/50",children:u.jsx("h3",{className:"text-lg font-semibold",children:"Histórico de Movimentações (Hoje)"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(mne,{children:[u.jsx(gne,{children:u.jsxs(__,{children:[u.jsx(lg,{children:"Tipo"}),u.jsx(lg,{children:"Plataforma"}),u.jsx(lg,{children:"Data/Hora"}),u.jsx(lg,{children:"Valor"}),u.jsx(lg,{className:"text-right",children:"Ações"})]})}),u.jsx(vne,{children:ce.length===0?u.jsx(__,{children:u.jsx(ep,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Nenhuma movimentação hoje"})}):ce.map(J=>{var ne,xe;return u.jsxs(__,{children:[u.jsx(ep,{children:u.jsx(mr,{variant:J.type==="deposit"?"destructive":"default",children:J.type==="deposit"?u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Vh,{className:"h-3 w-3"}),"Despesa"]}):u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ti,{className:"h-3 w-3"}),"Receita"]})})}),u.jsx(ep,{children:u.jsx("span",{className:"font-semibold",style:{color:(()=>{const he=ye.find(T=>T.id===J.platformId);return(he==null?void 0:he.color)||"#FF5C00"})()},children:(()=>{const he=ye.find(T=>T.id===J.platformId);return(he==null?void 0:he.name)||"N/A"})()})}),u.jsx(ep,{children:new Date(((xe=(ne=J.createdAt)==null?void 0:ne.toDate)==null?void 0:xe.call(ne))||J.date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),u.jsx(ep,{children:u.jsxs("span",{className:J.type==="deposit"?"text-destructive":"text-success",children:[J.type==="deposit"?"-":"+","R$"," ",Number(J.amount).toLocaleString("pt-BR")]})}),u.jsx(ep,{className:"text-right",children:u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx(He,{variant:"ghost",size:"icon",onClick:()=>q(J),children:u.jsx(rb,{className:"h-4 w-4"})}),u.jsx(He,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>L.mutate(J.id),children:u.jsx(Uh,{className:"h-4 w-4"})})]})})]},J.id)})})]})})]}),u.jsx(_l,{open:h,onOpenChange:p,children:u.jsxs(Vs,{className:"sm:max-w-[500px]",children:[u.jsxs(zs,{children:[u.jsx(qs,{children:"Editar Funcionário"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Preencha as informações do funcionário. Apenas o nome é obrigatório."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"edit-name",children:"Nome Completo"}),u.jsx(Vt,{id:"edit-name",value:_.name,onChange:J=>A(ne=>({...ne,name:J.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"edit-cpf",children:"CPF"}),u.jsx(Vt,{id:"edit-cpf",value:_.cpf,onChange:J=>A(ne=>({...ne,cpf:J.target.value})),placeholder:"000.000.000-00 (opcional)"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"edit-email",children:"E-mail"}),u.jsx(Vt,{id:"edit-email",type:"email",value:_.email,onChange:J=>A(ne=>({...ne,email:J.target.value})),placeholder:"email@exemplo.com (opcional)"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"edit-phone",children:"Telefone"}),u.jsx(Vt,{id:"edit-phone",value:_.phone,onChange:J=>A(ne=>({...ne,phone:J.target.value})),placeholder:"(00) 00000-0000 (opcional)"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"edit-birthDate",children:"Data de Nascimento"}),u.jsx(Vt,{id:"edit-birthDate",type:"date",value:_.birthDate,onChange:J=>A(ne=>({...ne,birthDate:J.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"edit-salary",children:"Salário (R$)"}),u.jsx(Vt,{id:"edit-salary",type:"number",placeholder:"0,00",value:_.salary,onChange:J=>A(ne=>({...ne,salary:Number(J.target.value)||0}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"edit-payDay",children:"Dia do Pagamento"}),u.jsxs(ci,{value:_.payDay.toString(),onValueChange:J=>A(ne=>({...ne,payDay:Number(J)})),children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Selecione o dia"})}),u.jsx(Jn,{children:Array.from({length:31},(J,ne)=>ne+1).map(J=>u.jsxs($r,{value:J.toString(),children:[J,"º dia do mês"]},J))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{htmlFor:"edit-status",children:"Status do Funcionário"}),u.jsxs(ci,{value:_.status,onValueChange:J=>A(ne=>({...ne,status:J})),children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Selecione o status"})}),u.jsxs(Jn,{children:[u.jsx($r,{value:"active",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Ativo"]})}),u.jsx($r,{value:"inactive",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Inativo"]})})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[u.jsx(He,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),u.jsx(He,{onClick:Y,disabled:D.isPending,children:D.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Np,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):"Salvar"})]})]})]})}),u.jsx(_l,{open:f,onOpenChange:v,children:u.jsxs(Vs,{className:"sm:max-w-[500px]",children:[u.jsx(zs,{children:u.jsx(qs,{children:"Editar Transação"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ot,{htmlFor:"edit-amount",children:"Valor"}),u.jsx(Vt,{id:"edit-amount",type:"number",value:y.amount,onChange:J=>x(ne=>({...ne,amount:J.target.value})),placeholder:"Digite o valor"})]}),u.jsxs("div",{children:[u.jsx(ot,{htmlFor:"edit-type",children:"Tipo"}),u.jsxs(ci,{value:y.type,onValueChange:J=>x(ne=>({...ne,type:J})),children:[u.jsx(Qn,{children:u.jsx(ui,{})}),u.jsxs(Jn,{children:[u.jsx($r,{value:"deposit",children:"Depósito"}),u.jsx($r,{value:"withdraw",children:"Saque"})]})]})]}),u.jsxs("div",{children:[u.jsx(ot,{htmlFor:"edit-platform",children:"Plataforma"}),u.jsxs(ci,{value:y.platformId,onValueChange:J=>x(ne=>({...ne,platformId:J})),children:[u.jsx(Qn,{children:u.jsx(ui,{placeholder:"Selecione uma plataforma"})}),u.jsx(Jn,{children:ye.map(J=>u.jsx($r,{value:J.id,children:J.name},J.id))})]})]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx(He,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),u.jsxs(He,{onClick:Z,disabled:z.isPending,children:[z.isPending&&u.jsx(Np,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar"]})]})]})]})})]})}):u.jsx($a,{children:u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})})})},RJe=()=>{const t=Wi();return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),u.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),u.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),u.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),u.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),u.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),u.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[u.jsx("div",{className:"mb-10",children:u.jsxs(He,{variant:"ghost",onClick:()=>t(-1),className:"gap-2",children:[u.jsx(Nx,{className:"h-4 w-4"}),"Voltar"]})}),u.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Termos de Uso"}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"Bem-vindo(a) ao Optify. Ao acessar ou utilizar nossos serviços, você concorda com estes Termos de Uso. Leia com atenção."}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Definições"}),u.jsx("p",{className:"text-muted-foreground",children:"Para fins destes termos: “Plataforma” significa o sistema Optify e seus aplicativos; “Usuário” é a pessoa que acessa ou utiliza a Plataforma; “Conta” é o cadastro individual do Usuário."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Aceitação e Elegibilidade"}),u.jsx("p",{className:"text-muted-foreground",children:"O uso da Plataforma implica aceitação integral destes Termos. O Usuário deve ter capacidade civil e fornecer informações verdadeiras e atualizadas no cadastro."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Conta e Segurança"}),u.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[u.jsx("li",{children:"Você é responsável por manter a confidencialidade das credenciais."}),u.jsx("li",{children:"Notifique-nos imediatamente sobre uso não autorizado da sua Conta."}),u.jsx("li",{children:"Reservamo-nos o direito de suspender contas por violação destes Termos."})]})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Licença de Uso"}),u.jsx("p",{className:"text-muted-foreground",children:"Concedemos ao Usuário uma licença limitada, revogável, não exclusiva e intransferível para utilizar a Plataforma conforme estes Termos. É vedada a engenharia reversa, cópia ou exploração comercial não autorizada."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Planos e Pagamentos"}),u.jsx("p",{className:"text-muted-foreground",children:"Alguns recursos são oferecidos mediante assinatura. Os valores, periodicidade e condições são exibidos na Plataforma e podem ser atualizados. Renovação é periódica até cancelamento pelo Usuário."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Uso Aceitável"}),u.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[u.jsx("li",{children:"Não publique conteúdo ilegal, ofensivo ou que viole direitos de terceiros."}),u.jsx("li",{children:"Não utilize a Plataforma para fraudes, spams ou atividades maliciosas."}),u.jsx("li",{children:"Não interfira na segurança, disponibilidade ou performance do serviço."})]})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Propriedade Intelectual"}),u.jsx("p",{className:"text-muted-foreground",children:"Todos os direitos sobre marcas, logotipos, códigos e conteúdos da Plataforma pertencem ao Optify ou a seus licenciantes. Nada nestes Termos implica cessão de direitos de propriedade intelectual."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Disponibilidade e Suporte"}),u.jsx("p",{className:"text-muted-foreground",children:"Empregamos boas práticas para manter a disponibilidade. O suporte é prestado prioritariamente via WhatsApp aos clientes, conforme plano contratado."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"9. Limitação de Responsabilidade"}),u.jsx("p",{className:"text-muted-foreground",children:'A Plataforma é fornecida "no estado em que se encontra". Não nos responsabilizamos por lucros cessantes, perdas de dados ou danos indiretos decorrentes do uso.'})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"10. Alterações e Encerramento"}),u.jsx("p",{className:"text-muted-foreground",children:"Podemos atualizar estes Termos ou funcionalidades da Plataforma. Caso não concorde, o Usuário poderá cancelar a assinatura e encerrar o uso."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"11. Foro e Legislação"}),u.jsx("p",{className:"text-muted-foreground",children:"Aplica-se a legislação brasileira. Fica eleito o foro da Comarca de São Paulo, SP, para dirimir controvérsias, salvo legislação de defesa do consumidor mais favorável."})]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR"),"."]})]})]})]})},DJe=()=>{const t=Wi();return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),u.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),u.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),u.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),u.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),u.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),u.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[u.jsx("div",{className:"mb-10",children:u.jsxs(He,{variant:"ghost",onClick:()=>t(-1),className:"gap-2",children:[u.jsx(Nx,{className:"h-4 w-4"}),"Voltar"]})}),u.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Política de Privacidade"}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"Esta Política descreve como tratamos dados pessoais em conformidade com a Lei Geral de Proteção de Dados (LGPD - Lei nº 13.709/2018)."}),u.jsxs("section",{className:"space-y-6",children:[u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Controlador e Contato"}),u.jsx("p",{className:"text-muted-foreground",children:"O Optify é o controlador dos dados tratados nesta Plataforma. Para exercer seus direitos, entre em contato pelo nosso canal de suporte (WhatsApp) indicado na Plataforma."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Dados Coletados"}),u.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[u.jsx("li",{children:"Dados cadastrais (nome, email, telefone)."}),u.jsx("li",{children:"Dados de uso (logs de acesso, interações e preferências)."}),u.jsx("li",{children:"Dados de transações e operações realizadas na Plataforma."})]})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Bases Legais e Finalidades"}),u.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[u.jsx("li",{children:"Execução do contrato: viabilizar funcionalidades e suporte ao Usuário."}),u.jsx("li",{children:"Legítimo interesse: aprimorar a experiência, prevenir fraudes e garantir segurança."}),u.jsx("li",{children:"Consentimento: comunicações de marketing quando aplicável (opt-out a qualquer momento)."}),u.jsx("li",{children:"Cumprimento legal: registros e obrigações regulatórias."})]})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Compartilhamento de Dados"}),u.jsx("p",{className:"text-muted-foreground",children:"Podemos compartilhar dados com prestadores de serviços essenciais à operação (por exemplo, processamento de pagamentos, hospedagem e analytics), sempre sob obrigações de confidencialidade e segurança."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Segurança da Informação"}),u.jsx("p",{className:"text-muted-foreground",children:"Adotamos medidas técnicas e administrativas aptas a proteger os dados pessoais contra acessos não autorizados e incidentes, seguindo boas práticas de segurança e criptografia."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Direitos dos Titulares"}),u.jsx("p",{className:"text-muted-foreground",children:"Em conformidade com a LGPD, você pode solicitar: confirmação de tratamento, acesso, correção, anonimização, portabilidade, eliminação, informação sobre compartilhamentos e revisão de decisões automatizadas."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Retenção e Exclusão"}),u.jsx("p",{className:"text-muted-foreground",children:"Mantemos os dados pelo tempo necessário às finalidades descritas e exigências legais. Após esse período, promovemos a exclusão ou anonimização, salvo obrigações de retenção."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Transferências Internacionais"}),u.jsx("p",{className:"text-muted-foreground",children:"Caso haja transferência internacional, garantimos mecanismos adequados de proteção e conformidade com a LGPD."})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"9. Atualizações desta Política"}),u.jsx("p",{className:"text-muted-foreground",children:"Esta Política poderá ser atualizada para refletir melhorias ou mudanças regulatórias. Recomendamos revisões periódicas. Em alterações relevantes, notificaremos os Usuários."})]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR"),"."]})]})]})]})},LJe=()=>{const t=Wi();return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),u.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),u.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),u.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),u.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),u.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),u.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),u.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[u.jsx("div",{className:"mb-10",children:u.jsxs(He,{variant:"ghost",onClick:()=>t(-1),className:"gap-2",children:[u.jsx(Nx,{className:"h-4 w-4"}),"Voltar"]})}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Central de Suporte"}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Estamos aqui para ajudar você a aproveitar ao máximo o Optify"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[u.jsx("a",{href:"https://wa.me/556295536121",target:"_blank",rel:"noreferrer",className:"glass rounded-xl p-6 hover:shadow-glow transition-all card-hover",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg",children:"WhatsApp"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Suporte 24h"})]})]})}),u.jsx("div",{className:"glass rounded-xl p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Use,{className:"h-6 w-6 text-white"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Email"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"suporte@optify.com.br"})]})]})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Horários de Atendimento"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(tA,{className:"h-5 w-5 text-primary"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Atendimento 24 horas"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp disponível a qualquer momento"})]})]})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Perguntas Frequentes"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Como faço para cancelar minha assinatura?"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Você pode cancelar através do seu painel de controle ou entrando em contato conosco."})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Posso importar dados de outros sistemas?"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Sim! Oferecemos importação em CSV/Excel para funcionários e transações."})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Meus dados estão seguros?"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilizamos criptografia de ponta a ponta e seguimos as melhores práticas de segurança."})]})]})]}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Documentação"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("a",{href:"/termos",className:"block text-primary hover:underline",children:"Termos de Uso"}),u.jsx("a",{href:"/privacidade",className:"block text-primary hover:underline",children:"Política de Privacidade"})]})]})]})]})]})};function BT({mode:t}){const[e]=dH(),r=e.get("payment_id"),[n,i]=j.useState(null),[a,o]=j.useState(!0),[s,l]=j.useState(t),[c,d]=j.useState(!1),[h,p]=j.useState(null),{user:f}=qr(),v=async()=>{if(f!=null&&f.uid)try{const _=await Vg.getUserProfile(f.uid);p(_)}catch(_){console.error("Erro ao buscar perfil:",_)}},m=async()=>{if(r){d(!0);try{const A=await(await fetch(`undefined/checkPaymentStatus?paymentId=${r}`)).json();i(A),(A==null?void 0:A.status)==="approved"&&l("success")}catch(_){console.error("Erro ao verificar status:",_)}finally{d(!1)}}};j.useEffect(()=>{f!=null&&f.uid&&v()},[f==null?void 0:f.uid]),j.useEffect(()=>{h!=null&&h.plano&&h.plano!=="free"&&s==="pending"&&l("success")},[h==null?void 0:h.plano,s]),j.useEffect(()=>{if(!r){o(!1);return}if(m(),o(!1),s==="pending"){const _=setInterval(()=>{m(),v()},5e3);return()=>clearInterval(_)}},[r,s]);const y=(()=>{switch(s){case"success":return{icon:Fp,title:"Pagamento Aprovado!",description:"Seu plano foi ativado com sucesso. Aproveite todos os recursos!",iconBg:"bg-emerald-500/10",iconColor:"text-emerald-500",titleColor:"text-foreground",descriptionColor:"text-muted-foreground",cardBg:"bg-background border-border",buttonVariant:"default",showRefresh:!1};case"failure":return{icon:Xq,title:"Pagamento Falhou",description:"Não foi possível processar seu pagamento. Tente novamente.",iconBg:"bg-red-500/10",iconColor:"text-red-500",titleColor:"text-foreground",descriptionColor:"text-muted-foreground",cardBg:"bg-background border-border",buttonVariant:"default",showRefresh:!0};case"pending":return{icon:tA,title:"Pagamento Pendente",description:"Seu pagamento está sendo processado. Verificando status automaticamente...",iconBg:"bg-amber-500/10",iconColor:"text-amber-500",titleColor:"text-foreground",descriptionColor:"text-muted-foreground",cardBg:"bg-background border-border",buttonVariant:"outline",showRefresh:!0}}})(),x=y.icon;return a?u.jsx($a,{children:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(KN,{className:"h-6 w-6 animate-spin text-muted-foreground"}),u.jsx("span",{className:"text-muted-foreground",children:"Carregando..."})]})})}):u.jsx($a,{children:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsx(rt,{className:`w-full max-w-2xl p-8 ${y.cardBg} border shadow-lg`,children:u.jsxs("div",{className:"space-y-8",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:`p-4 rounded-full ${y.iconBg}`,children:u.jsx(x,{className:`h-12 w-12 ${y.iconColor}`})})}),u.jsxs("div",{className:"text-center space-y-3",children:[u.jsx("h1",{className:`text-4xl font-bold ${y.titleColor}`,children:y.title}),u.jsx("p",{className:`text-lg ${y.descriptionColor} max-w-md mx-auto`,children:y.description})]}),r&&u.jsx("div",{className:"bg-muted/50 rounded-xl p-6 border",children:u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"font-semibold text-foreground",children:"Detalhes do Pagamento"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",u.jsx("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:r})]}),(h==null?void 0:h.plano)&&u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Plano Atual: ",u.jsx("span",{className:"font-semibold text-foreground capitalize",children:h.plano})]})]})}),c&&u.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[u.jsx(KN,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"text-sm",children:"Verificando status..."})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(He,{asChild:!0,className:"flex items-center gap-2",children:u.jsxs(eM,{to:"/planos",children:[u.jsx(Nx,{className:"h-4 w-4"}),"Voltar aos Planos"]})}),u.jsx(He,{asChild:!0,variant:y.buttonVariant,children:u.jsx(eM,{to:"/dashboard",children:"Ir para Dashboard"})}),y.showRefresh&&u.jsxs(He,{variant:"outline",onClick:m,disabled:c,className:"flex items-center gap-2",children:[u.jsx(KN,{className:`h-4 w-4 ${c?"animate-spin":""}`}),"Verificar Status"]})]}),u.jsxs("div",{className:"text-center space-y-2 text-sm text-muted-foreground",children:[s==="success"&&u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"✅ Seu plano foi ativado automaticamente"}),u.jsx("p",{children:"🎉 Você pode gerenciar sua assinatura no seu perfil"})]}),s==="failure"&&u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"❌ Se o problema persistir, entre em contato conosco"}),u.jsx("p",{children:"💳 Verifique se seus dados de pagamento estão corretos"})]}),s==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"⏳ O processamento pode levar alguns minutos"}),u.jsx("p",{children:"📧 Você receberá um email quando o pagamento for confirmado"}),u.jsx("p",{children:"🔄 Esta página atualiza automaticamente"})]})]}),n&&!1]})})})})}const MJe=new ade,$Je=()=>u.jsx(ude,{client:MJe,children:u.jsx(V0e,{children:u.jsxs(Vue,{children:[u.jsx(Nle,{}),u.jsx(ice,{}),u.jsx(bhe,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:u.jsxs(dhe,{children:[u.jsx(Pn,{path:"/",element:u.jsx(w1e,{})}),u.jsx(Pn,{path:"/login",element:u.jsx(A1e,{})}),u.jsx(Pn,{path:"/signup",element:u.jsx(E1e,{})}),u.jsx(Pn,{path:"/basic-info",element:u.jsx(P1e,{})}),u.jsx(Pn,{path:"/initial-setup",element:u.jsx(T1e,{})}),u.jsx(Pn,{path:"/dashboard",element:u.jsx(Sa,{children:u.jsx(H2e,{})})}),u.jsx(Pn,{path:"/gestao-funcionarios",element:u.jsx(Sa,{children:u.jsx(x5e,{})})}),u.jsx(Pn,{path:"/gestao-funcionarios/:id",element:u.jsx(Sa,{children:u.jsx(OJe,{})})}),u.jsx(Pn,{path:"/pagamentos",element:u.jsx(Sa,{children:u.jsx(N0,{requiredFeature:"payments",pageName:"Gestão de Pagamentos",children:u.jsx(w5e,{})})})}),u.jsx(Pn,{path:"/resumo-dia",element:u.jsx(Sa,{children:u.jsx(RGe,{})})}),u.jsx(Pn,{path:"/saldos",element:u.jsx(Sa,{children:u.jsx(N0,{requiredFeature:"balances",pageName:"Saldo de Contas",children:u.jsx(DGe,{})})})}),u.jsx(Pn,{path:"/relatorios",element:u.jsx(Sa,{children:u.jsx(N0,{requiredFeature:"reports",pageName:"Relatórios",children:u.jsx(MQe,{})})})}),u.jsx(Pn,{path:"/historico",element:u.jsx(Sa,{children:u.jsx(N0,{requiredFeature:"history",pageName:"Histórico",children:u.jsx($Qe,{})})})}),u.jsx(Pn,{path:"/planos",element:u.jsx(Sa,{children:u.jsx(WQe,{})})}),u.jsx(Pn,{path:"/afiliados",element:u.jsx(Sa,{children:u.jsx(PJe,{})})}),u.jsx(Pn,{path:"/settings",element:u.jsx(Sa,{children:u.jsx(TJe,{})})}),u.jsx(Pn,{path:"/perfil",element:u.jsx(Sa,{children:u.jsx(jJe,{})})}),u.jsx(Pn,{path:"/admin",element:u.jsx(Sa,{requireAdmin:!0,children:u.jsx(N0,{requiredFeature:"advancedPanel",pageName:"Painel Administrativo",children:u.jsx(NJe,{})})})}),u.jsx(Pn,{path:"/termos",element:u.jsx(RJe,{})}),u.jsx(Pn,{path:"/privacidade",element:u.jsx(DJe,{})}),u.jsx(Pn,{path:"/suporte",element:u.jsx(LJe,{})}),u.jsx(Pn,{path:"/payment/success",element:u.jsx(Sa,{children:u.jsx(BT,{mode:"success"})})}),u.jsx(Pn,{path:"/payment/failure",element:u.jsx(Sa,{children:u.jsx(BT,{mode:"failure"})})}),u.jsx(Pn,{path:"/payment/pending",element:u.jsx(Sa,{children:u.jsx(BT,{mode:"pending"})})}),u.jsx(Pn,{path:"*",element:u.jsx(CJe,{})})]})})]})})});txe();pq(document.getElementById("root")).render(u.jsx($Je,{}));export{rn as _,Da as c,Qr as g};
