import{j as e,a5 as Q,a3 as Z,p as ee,P as te,ad as re,i as k}from"./ui-vendor-CYAqJ0RG.js";import{r as b}from"./react-vendor-a_rYd-gI.js";import{P as ae,g as i,j as se,B as f,C as O,q as R,r as I,s as D,t as P}from"./index-LiAbW-2G.js";import{I as S}from"./input-J7GhaNSr.js";var oe="Separator",T="horizontal",ie=["horizontal","vertical"],z=b.forwardRef((t,c)=>{const{decorative:p,orientation:h=T,...x}=t,l=ne(h)?h:T,w=p?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return e.jsx(ae.div,{"data-orientation":l,...w,...x,ref:c})});z.displayName=oe;function ne(t){return ie.includes(t)}var E=z;const A=b.forwardRef(({className:t,orientation:c="horizontal",decorative:p=!0,...h},x)=>e.jsx(E,{ref:x,decorative:p,orientation:c,className:i("shrink-0 bg-border",c==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...h}));A.displayName=E.displayName;const j=t=>t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),de=t=>t.replace(/[^\d.,]/g,"").replace(/,/g,"."),ce=t=>t.replace(/\D/g,""),q=t=>{if(!t)return"";if(t.length<=2)return t;const c=t.slice(0,t.length-2),p=t.slice(-2);return`${c}.${p}`},M=t=>{if(!t)return 0;const c=q(t);return Number.parseFloat(c)},he=({variant:t="page",className:c,showBackdrop:p=!0,showLaunchButton:h=!0,showHero:x=!0})=>{const[l,g]=b.useState([{id:1,odd:""},{id:2,odd:""},{id:3,odd:""}]),[w,C]=b.useState("100"),a=t==="widget",L=!a,$=i("relative overflow-hidden",a?"rounded-2xl border border-border/40 bg-gradient-to-br from-background via-background/95 to-background/90 p-6 shadow-[0_28px_80px_-40px_rgba(0,0,0,0.65)]":x?"rounded-3xl border border-border/40 bg-gradient-to-br from-background via-background/95 to-background/80 px-6 py-10 shadow-[0_40px_120px_-45px_rgba(0,0,0,0.6)] sm:px-10 sm:py-12":"rounded-2xl border border-border/40 bg-gradient-to-br from-background via-background/95 to-background/80 px-4 py-5 shadow-[0_28px_80px_-40px_rgba(0,0,0,0.65)] sm:px-5 sm:py-6",c),B=a?"opacity-40":"opacity-50",F=x?a?"space-y-6":"space-y-8":"space-y-4",W=a?"space-y-2":"space-y-3",H=a?"text-xl font-bold text-white sm:text-2xl":"text-2xl font-bold text-white sm:text-3xl",V=a?"max-w-lg text-xs text-white/70 sm:text-sm":"max-w-2xl text-sm text-white/70 sm:text-base",v=b.useMemo(()=>{const r=de(w),o=parseFloat(r);return Number.isFinite(o)?Math.max(o,0):0},[w]),y=b.useMemo(()=>{const o=l.map(s=>({...s,numericOdd:M(s.odd)})).filter(s=>s.numericOdd&&s.numericOdd>1).reduce((s,d)=>s+1/d.numericOdd,0);if(!v||o===0)return{rows:l.map(s=>({...s,stake:0,retorno:0})),retorno:0,lucro:0};const n=v/o,m=n-v;return{rows:l.map(s=>{const d=M(s.odd);if(!d||d<=1)return{...s,stake:0,retorno:0};const N=n/d;return{...s,stake:N,retorno:n}}),retorno:n,lucro:m}},[v,l]),U=()=>{g(r=>[...r,{id:r.length+1,odd:""}])},X=()=>{g([{id:1,odd:""},{id:2,odd:""},{id:3,odd:""}]),C("100")},Y=r=>{g(o=>o.length<=1?o:o.filter(m=>m.id!==r).map((m,u)=>({...m,id:u+1})))},G=async(r,o)=>{try{await navigator.clipboard.writeText(r.toFixed(2)),k.success(`${o} copiado!`)}catch(n){console.error(n),k.error("Não foi possível copiar agora.")}},J=()=>{if(typeof window>"u")return;const r=620,o=700,n=window.screenLeft??window.screenX??0,m=window.screenTop??window.screenY??0,u=window.outerWidth??window.innerWidth??1440,s=window.outerHeight??window.innerHeight??900,d=n+Math.max((u-r)/2,0),N=m+Math.max((s-o)/2,0),K=["popup=yes","noopener","noreferrer",`width=${r}`,`height=${o}`,"resizable=yes","scrollbars=yes",`left=${d}`,`top=${N}`].join(","),_=window.open("/calculadora-dutching/popup","dutching-calculator-popup",K);if(!_){k.error("Não foi possível abrir a janela. Habilite pop-ups para continuar.");return}_.focus()};return e.jsxs("section",{className:$,children:[p&&e.jsxs("div",{className:i("pointer-events-none absolute inset-0",B),children:[e.jsx("div",{className:"absolute -bottom-28 -left-20 h-64 w-64 rounded-full bg-primary/15 blur-3xl"}),e.jsx("div",{className:"absolute top-0 right-1/4 h-56 w-56 rounded-full bg-primary/25 blur-3xl"})]}),e.jsxs("div",{className:i("relative z-10",F),children:[x&&e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:i(W,"min-w-0"),children:[e.jsx(se,{className:"rounded-full bg-primary/10 px-4 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.35em] text-primary",children:"Calculadora"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:H,children:"Calculadora de Dutching"}),e.jsx("p",{className:V,children:"Distribua seu investimento entre múltiplas seleções e garanta o mesmo retorno caso qualquer uma seja vencedora. Informe a odd de cada seleção e descubra quanto investir em cada linha."})]})]}),L&&h&&e.jsxs(f,{variant:"outline",onClick:J,className:"h-11 rounded-xl border-primary/40 bg-primary/10 text-primary transition hover:bg-primary/20",children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"Abrir em janela flutuante"]})]}),e.jsxs(O,{className:i("border border-white/10 backdrop-blur-md",a?"bg-black/40":"bg-[#121214]/90 shadow-[0_18px_50px_-30px_rgba(0,0,0,0.85)]"),children:[e.jsxs(R,{className:a?void 0:"pb-4",children:[e.jsx(I,{className:i("text-white",a?"text-lg":"text-base font-semibold"),children:"Parâmetros gerais"}),e.jsx(D,{className:"text-white/60",children:"Ajuste o investimento total e acompanhe o lucro projetado."})]}),e.jsxs(P,{className:i("space-y-6",!a&&"space-y-5"),children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-white/60",children:"Investimento total"}),e.jsx(S,{value:w,onChange:r=>C(r.target.value),className:i("mt-2 h-12 rounded-xl border border-white/10 text-lg font-semibold text-white placeholder:text-white/40 focus-visible:ring-primary",a?"bg-white/5":"bg-[#18181a]"),placeholder:"Ex: 100"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-white/60",children:"Lucro estimado"}),e.jsx("p",{className:"mt-1 text-xl font-semibold text-emerald-400",children:j(Math.max(y.lucro,0))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-white/60",children:"Retorno projetado"}),e.jsx("p",{className:"mt-1 text-xl font-semibold text-primary",children:j(Math.max(y.retorno,0))})]})]})]}),e.jsx(A,{className:"bg-white/10"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-[auto_1fr_1fr_1fr] items-center gap-3 rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-[0.62rem] font-semibold uppercase tracking-[0.3em] text-white/50",children:[e.jsx("span",{children:"#"}),e.jsx("span",{children:"Odd"}),e.jsx("span",{children:"Investimento"}),e.jsx("span",{children:"Retorno"})]}),e.jsx("div",{className:"space-y-2",children:y.rows.map((r,o)=>e.jsxs("div",{className:"grid grid-cols-[auto_1fr_1fr_1fr_auto] items-center gap-3 rounded-xl border border-white/5 bg-white/5 p-4 text-white/80 transition hover:border-primary/40 hover:bg-white/10",children:[e.jsxs("span",{className:"text-sm font-semibold text-white/60",children:[o+1,"º"]}),e.jsx(S,{type:"text",inputMode:"decimal",value:q(r.odd),onChange:n=>{const m=n.target.value,u=ce(m);g(s=>s.map(d=>d.id===r.id?{...d,odd:u}:d))},className:i("rounded-lg border border-white/10 text-sm text-white placeholder:text-white/40 focus-visible:ring-primary",a?"h-10 bg-black/40 text-base":"h-12 bg-[#151517] text-base"),placeholder:"Ex: 2.20"}),e.jsxs(f,{variant:"outline",onClick:()=>G(r.stake??0,"Investimento"),className:i("justify-between rounded-lg border-white/10 bg-black/30 text-sm font-semibold text-white hover:border-primary/40 hover:bg-primary/20",a?"h-10 text-sm":"h-12 text-sm"),children:[j(Math.max(r.stake??0,0)),e.jsx(Z,{className:"h-4 w-4 text-primary/80"})]}),e.jsx("div",{className:i("flex items-center justify-between rounded-lg border border-white/10 bg-black/30 px-4 py-2 text-sm font-semibold text-white",a?"h-10":"h-12"),children:j(Math.max(r.retorno??0,0))}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>Y(r.id),className:"h-9 w-9 rounded-full border border-transparent text-white/60 transition hover:border-red-500/40 hover:bg-red-500/10 hover:text-red-400",disabled:l.length===1,children:e.jsx(ee,{className:"h-4 w-4"})})]},r.id))})]}),e.jsxs("div",{className:i("flex flex-col gap-3 sm:flex-row sm:justify-end",!a&&"sm:flex-col sm:items-stretch"),children:[e.jsxs(f,{variant:"outline",onClick:U,className:i("h-11 rounded-xl border-primary/40 bg-primary/10 text-primary hover:bg-primary/20",a?"sm:w-auto":"sm:w-full"),children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),"Adicionar linha"]}),e.jsxs(f,{variant:"secondary",onClick:X,className:i("h-11 rounded-xl border border-white/10 bg-white/10 text-white hover:bg-white/20",a?"sm:w-auto":"sm:w-full"),children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Reiniciar"]})]})]})]}),a&&e.jsxs(O,{className:"border border-white/10 bg-black/30 backdrop-blur-md",children:[e.jsxs(R,{children:[e.jsx(I,{className:"text-lg text-white",children:"Como funciona o Dutching?"}),e.jsx(D,{className:"text-white/60",children:"Entenda a estratégia por trás dos cálculos."})]}),e.jsxs(P,{className:"space-y-4 text-sm text-white/70",children:[e.jsx("p",{children:"Dutching é a técnica de dividir o risco entre várias apostas para obter o mesmo retorno caso qualquer uma seja vencedora. O cálculo define automaticamente quanto investir em cada seleção para manter o retorno equilibrado."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Odd"})," é o valor pago pela casa de apostas em determinado evento. Probabilidades maiores resultam em odds menores e vice-versa. Ao informar as odds, a calculadora distribui o investimento proporcionalmente à chance de ganho."]})]})]})]})]})};export{he as D};
