import{j as n,q as fa,r as ma,n as ha,H as Le,g as va,L as pa,e as lt,J as dt,K as ct,l as ga,M as ut,i as fe}from"./ui-vendor-DMdoKab_.js";import{r as p,i as xa,u as ya}from"./react-vendor-a_rYd-gI.js";import{h as ba,R as wa,u as ja,F as Na,D as Da,A as ft,a as mt,b as ht,c as vt,d as pt,e as gt,f as xt,g as yt,i as _a}from"./DashboardLayout-BNnpgSfq.js";import{h as Se,n as bt,c as Ca,o as Rt,A as At,e as Ft,P as Wt,a as be,b as Lt,D as Ma,p as Pa,q as Sa,u as ka,R as Ta,r as Oa,s as Ra,i as Aa,k as Fa,m as Wa,j as V,B as J,C as K}from"./index-MMaOp97q.js";import{e as La,b as Ea,u as Ia,d as Ba}from"./useFirestore-BC9zAQwq.js";import{b as me}from"./user-specific.service-IquOVvW4.js";import{t as S,c as he,s as Te,a as we,g as wt,m as Ya,b as qa,d as Ee,e as xe,h as Ha,i as ye,j as X,k as za,l as $a,n as Ue,o as Va,p as Ka,f as $,q as Et}from"./format-DPwKrYwk.js";import{u as Ua}from"./index-Xg25hJTs.js";import{S as jt,a as Nt,b as Dt,c as _t,d as Pe}from"./select-C54CQDgK.js";import{R as Ct,P as Xa,a as Ga,C as Qa,T as Mt,B as Za,b as Ja,X as en,Y as tn,d as an}from"./chart-vendor-CfBne3GF.js";import"./firebase-vendor-DEAn5-oL.js";import"./user-subcollections.service-CeYZtOwC.js";import"./index-C-Dgcuzu.js";import"./index-CdAzXW5_.js";function R(e,a){const t=S(e);return isNaN(a)?he(e,NaN):(a&&t.setDate(t.getDate()+a),t)}function q(e,a){const t=S(e);if(isNaN(a))return he(e,NaN);if(!a)return t;const o=t.getDate(),r=he(e,t.getTime());r.setMonth(t.getMonth()+a+1,0);const s=r.getDate();return o>=s?r:(t.setFullYear(r.getFullYear(),r.getMonth(),o),t)}function Ve(e,a){const t=a*7;return R(e,t)}function nn(e,a){return q(e,a*12)}function on(e){let a;return e.forEach(function(t){const o=S(t);(a===void 0||a<o||isNaN(Number(o)))&&(a=o)}),a||new Date(NaN)}function rn(e){let a;return e.forEach(t=>{const o=S(t);(!a||a>o||isNaN(+o))&&(a=o)}),a||new Date(NaN)}function A(e,a){const t=Te(e),o=Te(a);return+t==+o}function je(e,a){const t=S(e),o=S(a),r=t.getFullYear()-o.getFullYear(),s=t.getMonth()-o.getMonth();return r*12+s}function sn(e,a,t){const o=we(e,t),r=we(a,t),s=+o-wt(o),i=+r-wt(r);return Math.round((s-i)/Ya)}function Xe(e){const a=S(e),t=a.getMonth();return a.setFullYear(a.getFullYear(),t+1,0),a.setHours(23,59,59,999),a}function F(e){const a=S(e);return a.setDate(1),a.setHours(0,0,0,0),a}function Ge(e,a){const t=qa(),o=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,r=S(e),s=r.getDay(),i=(s<o?-7:0)+6-(s-o);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function It(e){return Ge(e,{weekStartsOn:1})}function ln(e){const a=S(e),t=a.getFullYear(),o=a.getMonth(),r=he(e,0);return r.setFullYear(t,o+1,0),r.setHours(0,0,0,0),r.getDate()}function dn(e){return Math.trunc(+S(e)/1e3)}function cn(e){const a=S(e),t=a.getMonth();return a.setFullYear(a.getFullYear(),t+1,0),a.setHours(0,0,0,0),a}function un(e,a){return sn(cn(e),F(e),a)+1}function Ke(e,a){const t=S(e),o=S(a);return t.getTime()>o.getTime()}function Bt(e,a){const t=S(e),o=S(a);return+t<+o}function Qe(e,a){const t=S(e),o=S(a);return t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()}function fn(e,a){const t=S(e),o=S(a);return t.getFullYear()===o.getFullYear()}function Ie(e,a){return R(e,-a)}function Be(e,a){const t=S(e),o=t.getFullYear(),r=t.getDate(),s=he(e,0);s.setFullYear(o,a,15),s.setHours(0,0,0,0);const i=ln(s);return t.setMonth(a,Math.min(r,i)),t}function Pt(e,a){const t=S(e);return isNaN(+t)?he(e,NaN):(t.setFullYear(a),t)}const mn={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},hn=(e,a,t)=>{let o;const r=mn[e];return typeof r=="string"?o=r:a===1?o=r.one:o=r.other.replace("{{count}}",String(a)),t?.addSuffix?t.comparison&&t.comparison>0?"daqui a "+o:"há "+o:o},vn={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},pn={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},gn={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xn={date:Ee({formats:vn,defaultWidth:"full"}),time:Ee({formats:pn,defaultWidth:"full"}),dateTime:Ee({formats:gn,defaultWidth:"full"})},yn={lastWeek:e=>{const a=e.getDay();return"'"+(a===0||a===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},bn=(e,a,t,o)=>{const r=yn[e];return typeof r=="function"?r(a):r},wn={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},jn={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Nn={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Dn={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sáb"],abbreviated:["dom","seg","ter","qua","qui","sex","sáb"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},_n={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"}},Cn={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},Mn=(e,a)=>Number(e)+"º",Pn={ordinalNumber:Mn,era:xe({values:wn,defaultWidth:"wide"}),quarter:xe({values:jn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xe({values:Nn,defaultWidth:"wide"}),day:xe({values:Dn,defaultWidth:"wide"}),dayPeriod:xe({values:_n,defaultWidth:"wide",formattingValues:Cn,defaultFormattingWidth:"wide"})},Sn=/^(\d+)(º|ª)?/i,kn=/\d+/i,Tn={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},On={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},Rn={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º|ª)? trimestre/i},An={any:[/1/i,/2/i,/3/i,/4/i]},Fn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Wn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ln={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,wide:/^(domingo|segunda-?\s?feira|terça-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[áa]bado)/i},En={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[áa]/i]},In={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i},Bn={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[ãa]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},Yn={ordinalNumber:Ha({matchPattern:Sn,parsePattern:kn,valueCallback:e=>parseInt(e,10)}),era:ye({matchPatterns:Tn,defaultMatchWidth:"wide",parsePatterns:On,defaultParseWidth:"any"}),quarter:ye({matchPatterns:Rn,defaultMatchWidth:"wide",parsePatterns:An,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ye({matchPatterns:Fn,defaultMatchWidth:"wide",parsePatterns:Wn,defaultParseWidth:"any"}),day:ye({matchPatterns:Ln,defaultMatchWidth:"wide",parsePatterns:En,defaultParseWidth:"any"}),dayPeriod:ye({matchPatterns:In,defaultMatchWidth:"any",parsePatterns:Bn,defaultParseWidth:"any"})},Ye={code:"pt",formatDistance:hn,formatLong:xn,formatRelative:bn,localize:Pn,match:Yn,options:{weekStartsOn:1,firstWeekContainsDate:4}};var b=function(){return b=Object.assign||function(a){for(var t,o=1,r=arguments.length;o<r;o++){t=arguments[o];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s])}return a},b.apply(this,arguments)};function qn(e,a){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&a.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)a.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t}function Yt(e,a,t){for(var o=0,r=a.length,s;o<r;o++)(s||!(o in a))&&(s||(s=Array.prototype.slice.call(a,0,o)),s[o]=a[o]);return e.concat(s||Array.prototype.slice.call(a))}function Ne(e){return e.mode==="multiple"}function De(e){return e.mode==="range"}function Re(e){return e.mode==="single"}var Hn={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function zn(e,a){return $(e,"LLLL y",a)}function $n(e,a){return $(e,"d",a)}function Vn(e,a){return $(e,"LLLL",a)}function Kn(e){return"".concat(e)}function Un(e,a){return $(e,"cccccc",a)}function Xn(e,a){return $(e,"yyyy",a)}var Gn=Object.freeze({__proto__:null,formatCaption:zn,formatDay:$n,formatMonthCaption:Vn,formatWeekNumber:Kn,formatWeekdayName:Un,formatYearCaption:Xn}),Qn=function(e,a,t){return $(e,"do MMMM (EEEE)",t)},Zn=function(){return"Month: "},Jn=function(){return"Go to next month"},eo=function(){return"Go to previous month"},to=function(e,a){return $(e,"cccc",a)},ao=function(e){return"Week n. ".concat(e)},no=function(){return"Year: "},oo=Object.freeze({__proto__:null,labelDay:Qn,labelMonthDropdown:Zn,labelNext:Jn,labelPrevious:eo,labelWeekNumber:ao,labelWeekday:to,labelYearDropdown:no});function ro(){var e="buttons",a=Hn,t=za,o={},r={},s=1,i={},l=new Date;return{captionLayout:e,classNames:a,formatters:Gn,labels:oo,locale:t,modifiersClassNames:o,modifiers:r,numberOfMonths:s,styles:i,today:l,mode:"default"}}function so(e){var a=e.fromYear,t=e.toYear,o=e.fromMonth,r=e.toMonth,s=e.fromDate,i=e.toDate;return o?s=F(o):a&&(s=new Date(a,0,1)),r?i=Xe(r):t&&(i=new Date(t,11,31)),{fromDate:s?Te(s):void 0,toDate:i?Te(i):void 0}}var qt=p.createContext(void 0);function io(e){var a,t=e.initialProps,o=ro(),r=so(t),s=r.fromDate,i=r.toDate,l=(a=t.captionLayout)!==null&&a!==void 0?a:o.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var c;(Re(t)||Ne(t)||De(t))&&(c=t.onSelect);var f=b(b(b({},o),t),{captionLayout:l,classNames:b(b({},o.classNames),t.classNames),components:b({},t.components),formatters:b(b({},o.formatters),t.formatters),fromDate:s,labels:b(b({},o.labels),t.labels),mode:t.mode||o.mode,modifiers:b(b({},o.modifiers),t.modifiers),modifiersClassNames:b(b({},o.modifiersClassNames),t.modifiersClassNames),onSelect:c,styles:b(b({},o.styles),t.styles),toDate:i});return n.jsx(qt.Provider,{value:f,children:e.children})}function C(){var e=p.useContext(qt);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Ht(e){var a=C(),t=a.locale,o=a.classNames,r=a.styles,s=a.formatters.formatCaption;return n.jsx("div",{className:o.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:t})})}function lo(e){return n.jsx("svg",b({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function zt(e){var a,t,o=e.onChange,r=e.value,s=e.children,i=e.caption,l=e.className,c=e.style,f=C(),u=(t=(a=f.components)===null||a===void 0?void 0:a.IconDropdown)!==null&&t!==void 0?t:lo;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:r,onChange:o,children:s}),n.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[i,n.jsx(u,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function co(e){var a,t=C(),o=t.fromDate,r=t.toDate,s=t.styles,i=t.locale,l=t.formatters.formatMonthCaption,c=t.classNames,f=t.components,u=t.labels.labelMonthDropdown;if(!o)return n.jsx(n.Fragment,{});if(!r)return n.jsx(n.Fragment,{});var m=[];if(fn(o,r))for(var h=F(o),x=o.getMonth();x<=r.getMonth();x++)m.push(Be(h,x));else for(var h=F(new Date),x=0;x<=11;x++)m.push(Be(h,x));var w=function(v){var M=Number(v.target.value),D=Be(F(e.displayMonth),M);e.onChange(D)},N=(a=f?.Dropdown)!==null&&a!==void 0?a:zt;return n.jsx(N,{name:"months","aria-label":u(),className:c.dropdown_month,style:s.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(v){return n.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function uo(e){var a,t=e.displayMonth,o=C(),r=o.fromDate,s=o.toDate,i=o.locale,l=o.styles,c=o.classNames,f=o.components,u=o.formatters.formatYearCaption,m=o.labels.labelYearDropdown,h=[];if(!r)return n.jsx(n.Fragment,{});if(!s)return n.jsx(n.Fragment,{});for(var x=r.getFullYear(),w=s.getFullYear(),N=x;N<=w;N++)h.push(Pt($a(new Date),N));var v=function(D){var G=Pt(F(t),Number(D.target.value));e.onChange(G)},M=(a=f?.Dropdown)!==null&&a!==void 0?a:zt;return n.jsx(M,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:t.getFullYear(),caption:u(t,{locale:i}),children:h.map(function(D){return n.jsx("option",{value:D.getFullYear(),children:u(D,{locale:i})},D.getFullYear())})})}function fo(e,a){var t=p.useState(e),o=t[0],r=t[1],s=a===void 0?o:a;return[s,r]}function mo(e){var a=e.month,t=e.defaultMonth,o=e.today,r=a||t||o||new Date,s=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&je(s,r)<0){var f=-1*(c-1);r=q(s,f)}return i&&je(r,i)<0&&(r=i),F(r)}function ho(){var e=C(),a=mo(e),t=fo(a,e.month),o=t[0],r=t[1],s=function(i){var l;if(!e.disableNavigation){var c=F(i);r(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[o,s]}function vo(e,a){for(var t=a.reverseMonths,o=a.numberOfMonths,r=F(e),s=F(q(r,o)),i=je(s,r),l=[],c=0;c<i;c++){var f=q(r,c);l.push(f)}return t&&(l=l.reverse()),l}function po(e,a){if(!a.disableNavigation){var t=a.toDate,o=a.pagedNavigation,r=a.numberOfMonths,s=r===void 0?1:r,i=o?s:1,l=F(e);if(!t)return q(l,i);var c=je(t,e);if(!(c<s))return q(l,i)}}function go(e,a){if(!a.disableNavigation){var t=a.fromDate,o=a.pagedNavigation,r=a.numberOfMonths,s=r===void 0?1:r,i=o?s:1,l=F(e);if(!t)return q(l,-i);var c=je(l,t);if(!(c<=0))return q(l,-i)}}var $t=p.createContext(void 0);function xo(e){var a=C(),t=ho(),o=t[0],r=t[1],s=vo(o,a),i=po(o,a),l=go(o,a),c=function(m){return s.some(function(h){return Qe(m,h)})},f=function(m,h){c(m)||(h&&Bt(m,h)?r(q(m,1+a.numberOfMonths*-1)):r(m))},u={currentMonth:o,displayMonths:s,goToMonth:r,goToDate:f,previousMonth:l,nextMonth:i,isDateDisplayed:c};return n.jsx($t.Provider,{value:u,children:e.children})}function _e(){var e=p.useContext($t);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function St(e){var a,t=C(),o=t.classNames,r=t.styles,s=t.components,i=_e().goToMonth,l=function(u){i(q(u,e.displayIndex?-e.displayIndex:0))},c=(a=s?.CaptionLabel)!==null&&a!==void 0?a:Ht,f=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:o.caption_dropdowns,style:r.caption_dropdowns,children:[n.jsx("div",{className:o.vhidden,children:f}),n.jsx(co,{onChange:l,displayMonth:e.displayMonth}),n.jsx(uo,{onChange:l,displayMonth:e.displayMonth})]})}function yo(e){return n.jsx("svg",b({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function bo(e){return n.jsx("svg",b({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Oe=p.forwardRef(function(e,a){var t=C(),o=t.classNames,r=t.styles,s=[o.button_reset,o.button];e.className&&s.push(e.className);var i=s.join(" "),l=b(b({},r.button_reset),r.button);return e.style&&Object.assign(l,e.style),n.jsx("button",b({},e,{ref:a,type:"button",className:i,style:l}))});function wo(e){var a,t,o=C(),r=o.dir,s=o.locale,i=o.classNames,l=o.styles,c=o.labels,f=c.labelPrevious,u=c.labelNext,m=o.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var h=f(e.previousMonth,{locale:s}),x=[i.nav_button,i.nav_button_previous].join(" "),w=u(e.nextMonth,{locale:s}),N=[i.nav_button,i.nav_button_next].join(" "),v=(a=m?.IconRight)!==null&&a!==void 0?a:bo,M=(t=m?.IconLeft)!==null&&t!==void 0?t:yo;return n.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(Oe,{name:"previous-month","aria-label":h,className:x,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:r==="rtl"?n.jsx(v,{className:i.nav_icon,style:l.nav_icon}):n.jsx(M,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(Oe,{name:"next-month","aria-label":w,className:N,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:r==="rtl"?n.jsx(M,{className:i.nav_icon,style:l.nav_icon}):n.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function kt(e){var a=C().numberOfMonths,t=_e(),o=t.previousMonth,r=t.nextMonth,s=t.goToMonth,i=t.displayMonths,l=i.findIndex(function(w){return Qe(e.displayMonth,w)}),c=l===0,f=l===i.length-1,u=a>1&&(c||!f),m=a>1&&(f||!c),h=function(){o&&s(o)},x=function(){r&&s(r)};return n.jsx(wo,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:r,previousMonth:o,onPreviousClick:h,onNextClick:x})}function jo(e){var a,t=C(),o=t.classNames,r=t.disableNavigation,s=t.styles,i=t.captionLayout,l=t.components,c=(a=l?.CaptionLabel)!==null&&a!==void 0?a:Ht,f;return r?f=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?f=n.jsx(St,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?f=n.jsxs(n.Fragment,{children:[n.jsx(St,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(kt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(kt,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:o.caption,style:s.caption,children:f})}function No(e){var a=C(),t=a.footer,o=a.styles,r=a.classNames.tfoot;return t?n.jsx("tfoot",{className:r,style:o.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:t})})}):n.jsx(n.Fragment,{})}function Do(e,a,t){for(var o=t?Ue(new Date):we(new Date,{locale:e,weekStartsOn:a}),r=[],s=0;s<7;s++){var i=R(o,s);r.push(i)}return r}function _o(){var e=C(),a=e.classNames,t=e.styles,o=e.showWeekNumber,r=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,f=Do(r,s,i);return n.jsxs("tr",{style:t.head_row,className:a.head_row,children:[o&&n.jsx("td",{style:t.head_cell,className:a.head_cell}),f.map(function(u,m){return n.jsx("th",{scope:"col",className:a.head_cell,style:t.head_cell,"aria-label":c(u,{locale:r}),children:l(u,{locale:r})},m)})]})}function Co(){var e,a=C(),t=a.classNames,o=a.styles,r=a.components,s=(e=r?.HeadRow)!==null&&e!==void 0?e:_o;return n.jsx("thead",{style:o.head,className:t.head,children:n.jsx(s,{})})}function Mo(e){var a=C(),t=a.locale,o=a.formatters.formatDay;return n.jsx(n.Fragment,{children:o(e.date,{locale:t})})}var Ze=p.createContext(void 0);function Po(e){if(!Ne(e.initialProps)){var a={selected:void 0,modifiers:{disabled:[]}};return n.jsx(Ze.Provider,{value:a,children:e.children})}return n.jsx(So,{initialProps:e.initialProps,children:e.children})}function So(e){var a=e.initialProps,t=e.children,o=a.selected,r=a.min,s=a.max,i=function(f,u,m){var h,x;(h=a.onDayClick)===null||h===void 0||h.call(a,f,u,m);var w=!!(u.selected&&r&&o?.length===r);if(!w){var N=!!(!u.selected&&s&&o?.length===s);if(!N){var v=o?Yt([],o):[];if(u.selected){var M=v.findIndex(function(D){return A(f,D)});v.splice(M,1)}else v.push(f);(x=a.onSelect)===null||x===void 0||x.call(a,v,f,u,m)}}},l={disabled:[]};o&&l.disabled.push(function(f){var u=s&&o.length>s-1,m=o.some(function(h){return A(h,f)});return!!(u&&!m)});var c={selected:o,onDayClick:i,modifiers:l};return n.jsx(Ze.Provider,{value:c,children:t})}function Je(){var e=p.useContext(Ze);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function ko(e,a){var t=a||{},o=t.from,r=t.to;return o&&r?A(r,e)&&A(o,e)?void 0:A(r,e)?{from:r,to:void 0}:A(o,e)?void 0:Ke(o,e)?{from:e,to:r}:{from:o,to:e}:r?Ke(e,r)?{from:r,to:e}:{from:e,to:r}:o?Bt(e,o)?{from:e,to:o}:{from:o,to:e}:{from:e,to:void 0}}var et=p.createContext(void 0);function To(e){if(!De(e.initialProps)){var a={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(et.Provider,{value:a,children:e.children})}return n.jsx(Oo,{initialProps:e.initialProps,children:e.children})}function Oo(e){var a=e.initialProps,t=e.children,o=a.selected,r=o||{},s=r.from,i=r.to,l=a.min,c=a.max,f=function(x,w,N){var v,M;(v=a.onDayClick)===null||v===void 0||v.call(a,x,w,N);var D=ko(x,o);(M=a.onSelect)===null||M===void 0||M.call(a,D,x,w,N)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(u.range_start=[s],i?(u.range_end=[i],A(s,i)||(u.range_middle=[{after:s,before:i}])):u.range_end=[s]):i&&(u.range_start=[i],u.range_end=[i]),l&&(s&&!i&&u.disabled.push({after:Ie(s,l-1),before:R(s,l-1)}),s&&i&&u.disabled.push({after:s,before:R(s,l-1)}),!s&&i&&u.disabled.push({after:Ie(i,l-1),before:R(i,l-1)})),c){if(s&&!i&&(u.disabled.push({before:R(s,-c+1)}),u.disabled.push({after:R(s,c-1)})),s&&i){var m=X(i,s)+1,h=c-m;u.disabled.push({before:Ie(s,h)}),u.disabled.push({after:R(i,h)})}!s&&i&&(u.disabled.push({before:R(i,-c+1)}),u.disabled.push({after:R(i,c-1)}))}return n.jsx(et.Provider,{value:{selected:o,onDayClick:f,modifiers:u},children:t})}function tt(){var e=p.useContext(et);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ke(e){return Array.isArray(e)?Yt([],e):e!==void 0?[e]:[]}function Ro(e){var a={};return Object.entries(e).forEach(function(t){var o=t[0],r=t[1];a[o]=ke(r)}),a}var H;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(H||(H={}));var Ao=H.Selected,U=H.Disabled,Fo=H.Hidden,Wo=H.Today,qe=H.RangeEnd,He=H.RangeMiddle,ze=H.RangeStart,Lo=H.Outside;function Eo(e,a,t){var o,r=(o={},o[Ao]=ke(e.selected),o[U]=ke(e.disabled),o[Fo]=ke(e.hidden),o[Wo]=[e.today],o[qe]=[],o[He]=[],o[ze]=[],o[Lo]=[],o);return e.fromDate&&r[U].push({before:e.fromDate}),e.toDate&&r[U].push({after:e.toDate}),Ne(e)?r[U]=r[U].concat(a.modifiers[U]):De(e)&&(r[U]=r[U].concat(t.modifiers[U]),r[ze]=t.modifiers[ze],r[He]=t.modifiers[He],r[qe]=t.modifiers[qe]),r}var Vt=p.createContext(void 0);function Io(e){var a=C(),t=Je(),o=tt(),r=Eo(a,t,o),s=Ro(a.modifiers),i=b(b({},r),s);return n.jsx(Vt.Provider,{value:i,children:e.children})}function Kt(){var e=p.useContext(Vt);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Bo(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Yo(e){return!!(e&&typeof e=="object"&&"from"in e)}function qo(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ho(e){return!!(e&&typeof e=="object"&&"before"in e)}function zo(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function $o(e,a){var t,o=a.from,r=a.to;if(o&&r){var s=X(r,o)<0;s&&(t=[r,o],o=t[0],r=t[1]);var i=X(e,o)>=0&&X(r,e)>=0;return i}return r?A(r,e):o?A(o,e):!1}function Vo(e){return Et(e)}function Ko(e){return Array.isArray(e)&&e.every(Et)}function Uo(e,a){return a.some(function(t){if(typeof t=="boolean")return t;if(Vo(t))return A(e,t);if(Ko(t))return t.includes(e);if(Yo(t))return $o(e,t);if(zo(t))return t.dayOfWeek.includes(e.getDay());if(Bo(t)){var o=X(t.before,e),r=X(t.after,e),s=o>0,i=r<0,l=Ke(t.before,t.after);return l?i&&s:s||i}return qo(t)?X(e,t.after)>0:Ho(t)?X(t.before,e)>0:typeof t=="function"?t(e):!1})}function at(e,a,t){var o=Object.keys(a).reduce(function(s,i){var l=a[i];return Uo(e,l)&&s.push(i),s},[]),r={};return o.forEach(function(s){return r[s]=!0}),t&&!Qe(e,t)&&(r.outside=!0),r}function Xo(e,a){for(var t=F(e[0]),o=Xe(e[e.length-1]),r,s,i=t;i<=o;){var l=at(i,a),c=!l.disabled&&!l.hidden;if(!c){i=R(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),r||(r=i),i=R(i,1)}return s||r}var Go=365;function Ut(e,a){var t=a.moveBy,o=a.direction,r=a.context,s=a.modifiers,i=a.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=r.weekStartsOn,f=r.fromDate,u=r.toDate,m=r.locale,h={day:R,week:Ve,month:q,year:nn,startOfWeek:function(v){return r.ISOWeek?Ue(v):we(v,{locale:m,weekStartsOn:c})},endOfWeek:function(v){return r.ISOWeek?It(v):Ge(v,{locale:m,weekStartsOn:c})}},x=h[t](e,o==="after"?1:-1);o==="before"&&f?x=on([f,x]):o==="after"&&u&&(x=rn([u,x]));var w=!0;if(s){var N=at(x,s);w=!N.disabled&&!N.hidden}return w?x:l.count>Go?l.lastFocused:Ut(x,{moveBy:t,direction:o,context:r,modifiers:s,retry:b(b({},l),{count:l.count+1})})}var Xt=p.createContext(void 0);function Qo(e){var a=_e(),t=Kt(),o=p.useState(),r=o[0],s=o[1],i=p.useState(),l=i[0],c=i[1],f=Xo(a.displayMonths,t),u=r??(l&&a.isDateDisplayed(l))?l:f,m=function(){c(r),s(void 0)},h=function(v){s(v)},x=C(),w=function(v,M){if(r){var D=Ut(r,{moveBy:v,direction:M,context:x,modifiers:t});A(r,D)||(a.goToDate(D,r),h(D))}},N={focusedDay:r,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return n.jsx(Xt.Provider,{value:N,children:e.children})}function nt(){var e=p.useContext(Xt);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Zo(e,a){var t=Kt(),o=at(e,t,a);return o}var ot=p.createContext(void 0);function Jo(e){if(!Re(e.initialProps)){var a={selected:void 0};return n.jsx(ot.Provider,{value:a,children:e.children})}return n.jsx(er,{initialProps:e.initialProps,children:e.children})}function er(e){var a=e.initialProps,t=e.children,o=function(s,i,l){var c,f,u;if((c=a.onDayClick)===null||c===void 0||c.call(a,s,i,l),i.selected&&!a.required){(f=a.onSelect)===null||f===void 0||f.call(a,void 0,s,i,l);return}(u=a.onSelect)===null||u===void 0||u.call(a,s,s,i,l)},r={selected:a.selected,onDayClick:o};return n.jsx(ot.Provider,{value:r,children:t})}function Gt(){var e=p.useContext(ot);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function tr(e,a){var t=C(),o=Gt(),r=Je(),s=tt(),i=nt(),l=i.focusDayAfter,c=i.focusDayBefore,f=i.focusWeekAfter,u=i.focusWeekBefore,m=i.blur,h=i.focus,x=i.focusMonthBefore,w=i.focusMonthAfter,N=i.focusYearBefore,v=i.focusYearAfter,M=i.focusStartOfWeek,D=i.focusEndOfWeek,G=function(y){var g,ie,le,de;Re(t)?(g=o.onDayClick)===null||g===void 0||g.call(o,e,a,y):Ne(t)?(ie=r.onDayClick)===null||ie===void 0||ie.call(r,e,a,y):De(t)?(le=s.onDayClick)===null||le===void 0||le.call(s,e,a,y):(de=t.onDayClick)===null||de===void 0||de.call(t,e,a,y)},I=function(y){var g;h(e),(g=t.onDayFocus)===null||g===void 0||g.call(t,e,a,y)},ae=function(y){var g;m(),(g=t.onDayBlur)===null||g===void 0||g.call(t,e,a,y)},Y=function(y){var g;(g=t.onDayMouseEnter)===null||g===void 0||g.call(t,e,a,y)},ne=function(y){var g;(g=t.onDayMouseLeave)===null||g===void 0||g.call(t,e,a,y)},oe=function(y){var g;(g=t.onDayPointerEnter)===null||g===void 0||g.call(t,e,a,y)},Q=function(y){var g;(g=t.onDayPointerLeave)===null||g===void 0||g.call(t,e,a,y)},Me=function(y){var g;(g=t.onDayTouchCancel)===null||g===void 0||g.call(t,e,a,y)},W=function(y){var g;(g=t.onDayTouchEnd)===null||g===void 0||g.call(t,e,a,y)},st=function(y){var g;(g=t.onDayTouchMove)===null||g===void 0||g.call(t,e,a,y)},re=function(y){var g;(g=t.onDayTouchStart)===null||g===void 0||g.call(t,e,a,y)},pe=function(y){var g;(g=t.onDayKeyUp)===null||g===void 0||g.call(t,e,a,y)},ge=function(y){var g;switch(y.key){case"ArrowLeft":y.preventDefault(),y.stopPropagation(),t.dir==="rtl"?l():c();break;case"ArrowRight":y.preventDefault(),y.stopPropagation(),t.dir==="rtl"?c():l();break;case"ArrowDown":y.preventDefault(),y.stopPropagation(),f();break;case"ArrowUp":y.preventDefault(),y.stopPropagation(),u();break;case"PageUp":y.preventDefault(),y.stopPropagation(),y.shiftKey?N():x();break;case"PageDown":y.preventDefault(),y.stopPropagation(),y.shiftKey?v():w();break;case"Home":y.preventDefault(),y.stopPropagation(),M();break;case"End":y.preventDefault(),y.stopPropagation(),D();break}(g=t.onDayKeyDown)===null||g===void 0||g.call(t,e,a,y)},se={onClick:G,onFocus:I,onBlur:ae,onKeyDown:ge,onKeyUp:pe,onMouseEnter:Y,onMouseLeave:ne,onPointerEnter:oe,onPointerLeave:Q,onTouchCancel:Me,onTouchEnd:W,onTouchMove:st,onTouchStart:re};return se}function ar(){var e=C(),a=Gt(),t=Je(),o=tt(),r=Re(e)?a.selected:Ne(e)?t.selected:De(e)?o.selected:void 0;return r}function nr(e){return Object.values(H).includes(e)}function or(e,a){var t=[e.classNames.day];return Object.keys(a).forEach(function(o){var r=e.modifiersClassNames[o];if(r)t.push(r);else if(nr(o)){var s=e.classNames["day_".concat(o)];s&&t.push(s)}}),t}function rr(e,a){var t=b({},e.styles.day);return Object.keys(a).forEach(function(o){var r;t=b(b({},t),(r=e.modifiersStyles)===null||r===void 0?void 0:r[o])}),t}function sr(e,a,t){var o,r,s,i=C(),l=nt(),c=Zo(e,a),f=tr(e,c),u=ar(),m=!!(i.onDayClick||i.mode!=="default");p.useEffect(function(){var Y;c.outside||l.focusedDay&&m&&A(l.focusedDay,e)&&((Y=t.current)===null||Y===void 0||Y.focus())},[l.focusedDay,e,t,m,c.outside]);var h=or(i,c).join(" "),x=rr(i,c),w=!!(c.outside&&!i.showOutsideDays||c.hidden),N=(s=(r=i.components)===null||r===void 0?void 0:r.DayContent)!==null&&s!==void 0?s:Mo,v=n.jsx(N,{date:e,displayMonth:a,activeModifiers:c}),M={style:x,className:h,children:v,role:"gridcell"},D=l.focusTarget&&A(l.focusTarget,e)&&!c.outside,G=l.focusedDay&&A(l.focusedDay,e),I=b(b(b({},M),(o={disabled:c.disabled,role:"gridcell"},o["aria-selected"]=c.selected,o.tabIndex=G||D?0:-1,o)),f),ae={isButton:m,isHidden:w,activeModifiers:c,selectedDays:u,buttonProps:I,divProps:M};return ae}function ir(e){var a=p.useRef(null),t=sr(e.date,e.displayMonth,a);return t.isHidden?n.jsx("div",{role:"gridcell"}):t.isButton?n.jsx(Oe,b({name:"day",ref:a},t.buttonProps)):n.jsx("div",b({},t.divProps))}function lr(e){var a=e.number,t=e.dates,o=C(),r=o.onWeekNumberClick,s=o.styles,i=o.classNames,l=o.locale,c=o.labels.labelWeekNumber,f=o.formatters.formatWeekNumber,u=f(Number(a),{locale:l});if(!r)return n.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:u});var m=c(Number(a),{locale:l}),h=function(x){r(a,t,x)};return n.jsx(Oe,{name:"week-number","aria-label":m,className:i.weeknumber,style:s.weeknumber,onClick:h,children:u})}function dr(e){var a,t,o=C(),r=o.styles,s=o.classNames,i=o.showWeekNumber,l=o.components,c=(a=l?.Day)!==null&&a!==void 0?a:ir,f=(t=l?.WeekNumber)!==null&&t!==void 0?t:lr,u;return i&&(u=n.jsx("td",{className:s.cell,style:r.cell,children:n.jsx(f,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:s.row,style:r.row,children:[u,e.dates.map(function(m){return n.jsx("td",{className:s.cell,style:r.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:m})},dn(m))})]})}function Tt(e,a,t){for(var o=t?.ISOWeek?It(a):Ge(a,t),r=t?.ISOWeek?Ue(e):we(e,t),s=X(o,r),i=[],l=0;l<=s;l++)i.push(R(r,l));var c=i.reduce(function(f,u){var m=t?.ISOWeek?Va(u):Ka(u,t),h=f.find(function(x){return x.weekNumber===m});return h?(h.dates.push(u),f):(f.push({weekNumber:m,dates:[u]}),f)},[]);return c}function cr(e,a){var t=Tt(F(e),Xe(e),a);if(a?.useFixedWeeks){var o=un(e,a);if(o<6){var r=t[t.length-1],s=r.dates[r.dates.length-1],i=Ve(s,6-o),l=Tt(Ve(s,1),i,a);t.push.apply(t,l)}}return t}function ur(e){var a,t,o,r=C(),s=r.locale,i=r.classNames,l=r.styles,c=r.hideHead,f=r.fixedWeeks,u=r.components,m=r.weekStartsOn,h=r.firstWeekContainsDate,x=r.ISOWeek,w=cr(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:x,locale:s,weekStartsOn:m,firstWeekContainsDate:h}),N=(a=u?.Head)!==null&&a!==void 0?a:Co,v=(t=u?.Row)!==null&&t!==void 0?t:dr,M=(o=u?.Footer)!==null&&o!==void 0?o:No;return n.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(N,{}),n.jsx("tbody",{className:i.tbody,style:l.tbody,children:w.map(function(D){return n.jsx(v,{displayMonth:e.displayMonth,dates:D.dates,weekNumber:D.weekNumber},D.weekNumber)})}),n.jsx(M,{displayMonth:e.displayMonth})]})}function fr(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var mr=fr()?p.useLayoutEffect:p.useEffect,$e=!1,hr=0;function Ot(){return"react-day-picker-".concat(++hr)}function vr(e){var a,t=e??($e?Ot():null),o=p.useState(t),r=o[0],s=o[1];return mr(function(){r===null&&s(Ot())},[]),p.useEffect(function(){$e===!1&&($e=!0)},[]),(a=e??r)!==null&&a!==void 0?a:void 0}function pr(e){var a,t,o=C(),r=o.dir,s=o.classNames,i=o.styles,l=o.components,c=_e().displayMonths,f=vr(o.id?"".concat(o.id,"-").concat(e.displayIndex):void 0),u=o.id?"".concat(o.id,"-grid-").concat(e.displayIndex):void 0,m=[s.month],h=i.month,x=e.displayIndex===0,w=e.displayIndex===c.length-1,N=!x&&!w;r==="rtl"&&(a=[x,w],w=a[0],x=a[1]),x&&(m.push(s.caption_start),h=b(b({},h),i.caption_start)),w&&(m.push(s.caption_end),h=b(b({},h),i.caption_end)),N&&(m.push(s.caption_between),h=b(b({},h),i.caption_between));var v=(t=l?.Caption)!==null&&t!==void 0?t:jo;return n.jsxs("div",{className:m.join(" "),style:h,children:[n.jsx(v,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(ur,{id:u,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function gr(e){var a=C(),t=a.classNames,o=a.styles;return n.jsx("div",{className:t.months,style:o.months,children:e.children})}function xr(e){var a,t,o=e.initialProps,r=C(),s=nt(),i=_e(),l=p.useState(!1),c=l[0],f=l[1];p.useEffect(function(){r.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),f(!0)))},[r.initialFocus,c,s.focus,s.focusTarget,s]);var u=[r.classNames.root,r.className];r.numberOfMonths>1&&u.push(r.classNames.multiple_months),r.showWeekNumber&&u.push(r.classNames.with_weeknumber);var m=b(b({},r.styles.root),r.style),h=Object.keys(o).filter(function(w){return w.startsWith("data-")}).reduce(function(w,N){var v;return b(b({},w),(v={},v[N]=o[N],v))},{}),x=(t=(a=o.components)===null||a===void 0?void 0:a.Months)!==null&&t!==void 0?t:gr;return n.jsx("div",b({className:u.join(" "),style:m,dir:r.dir,id:r.id,nonce:o.nonce,title:o.title,lang:o.lang},h,{children:n.jsx(x,{children:i.displayMonths.map(function(w,N){return n.jsx(pr,{displayIndex:N,displayMonth:w},N)})})}))}function yr(e){var a=e.children,t=qn(e,["children"]);return n.jsx(io,{initialProps:t,children:n.jsx(xo,{children:n.jsx(Jo,{initialProps:t,children:n.jsx(Po,{initialProps:t,children:n.jsx(To,{initialProps:t,children:n.jsx(Io,{children:n.jsx(Qo,{children:a})})})})})})})}function br(e){return n.jsx(yr,b({},e,{children:n.jsx(xr,{initialProps:e})}))}function Qt({className:e,classNames:a,showOutsideDays:t=!0,...o}){return n.jsx(br,{showOutsideDays:t,className:Se("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Se(bt({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Se(bt({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:({...r})=>n.jsx(fa,{className:"h-4 w-4"}),IconRight:({...r})=>n.jsx(ma,{className:"h-4 w-4"})},...o})}Qt.displayName="Calendar";var Ae="Popover",[Zt,Gr]=Ca(Ae,[Rt]),Ce=Rt(),[wr,ee]=Zt(Ae),Jt=e=>{const{__scopePopover:a,children:t,open:o,defaultOpen:r,onOpenChange:s,modal:i=!1}=e,l=Ce(a),c=p.useRef(null),[f,u]=p.useState(!1),[m,h]=ka({prop:o,defaultProp:r??!1,onChange:s,caller:Ae});return n.jsx(Ta,{...l,children:n.jsx(wr,{scope:a,contentId:Ua(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(x=>!x),[h]),hasCustomAnchor:f,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:i,children:t})})};Jt.displayName=Ae;var ea="PopoverAnchor",jr=p.forwardRef((e,a)=>{const{__scopePopover:t,...o}=e,r=ee(ea,t),s=Ce(t),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=r;return p.useEffect(()=>(i(),()=>l()),[i,l]),n.jsx(At,{...s,...o,ref:a})});jr.displayName=ea;var ta="PopoverTrigger",aa=p.forwardRef((e,a)=>{const{__scopePopover:t,...o}=e,r=ee(ta,t),s=Ce(t),i=Ft(a,r.triggerRef),l=n.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":ia(r.open),...o,ref:i,onClick:be(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:n.jsx(At,{asChild:!0,...s,children:l})});aa.displayName=ta;var rt="PopoverPortal",[Nr,Dr]=Zt(rt,{forceMount:void 0}),na=e=>{const{__scopePopover:a,forceMount:t,children:o,container:r}=e,s=ee(rt,a);return n.jsx(Nr,{scope:a,forceMount:t,children:n.jsx(Lt,{present:t||s.open,children:n.jsx(Oa,{asChild:!0,container:r,children:o})})})};na.displayName=rt;var ve="PopoverContent",oa=p.forwardRef((e,a)=>{const t=Dr(ve,e.__scopePopover),{forceMount:o=t.forceMount,...r}=e,s=ee(ve,e.__scopePopover);return n.jsx(Lt,{present:o||s.open,children:s.modal?n.jsx(Cr,{...r,ref:a}):n.jsx(Mr,{...r,ref:a})})});oa.displayName=ve;var _r=Ra("PopoverContent.RemoveScroll"),Cr=p.forwardRef((e,a)=>{const t=ee(ve,e.__scopePopover),o=p.useRef(null),r=Ft(a,o),s=p.useRef(!1);return p.useEffect(()=>{const i=o.current;if(i)return ba(i)},[]),n.jsx(wa,{as:_r,allowPinchZoom:!0,children:n.jsx(ra,{...e,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,i=>{i.preventDefault(),s.current||t.triggerRef.current?.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:be(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Mr=p.forwardRef((e,a)=>{const t=ee(ve,e.__scopePopover),o=p.useRef(!1),r=p.useRef(!1);return n.jsx(ra,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||t.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=s.target;t.triggerRef.current?.contains(i)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),ra=p.forwardRef((e,a)=>{const{__scopePopover:t,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:u,...m}=e,h=ee(ve,t),x=Ce(t);return ja(),n.jsx(Na,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:s,children:n.jsx(Ma,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:f,onDismiss:()=>h.onOpenChange(!1),children:n.jsx(Pa,{"data-state":ia(h.open),role:"dialog",id:h.contentId,...x,...m,ref:a,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),sa="PopoverClose",Pr=p.forwardRef((e,a)=>{const{__scopePopover:t,...o}=e,r=ee(sa,t);return n.jsx(Wt.button,{type:"button",...o,ref:a,onClick:be(e.onClick,()=>r.onOpenChange(!1))})});Pr.displayName=sa;var Sr="PopoverArrow",kr=p.forwardRef((e,a)=>{const{__scopePopover:t,...o}=e,r=Ce(t);return n.jsx(Sa,{...r,...o,ref:a})});kr.displayName=Sr;function ia(e){return e?"open":"closed"}var Tr=Jt,Or=aa,Rr=na,la=oa;const Ar=Tr,Fr=Or,da=p.forwardRef(({className:e,align:a="center",sideOffset:t=4,...o},r)=>n.jsx(Rr,{children:n.jsx(la,{ref:r,align:a,sideOffset:t,className:Se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));da.displayName=la.displayName;const Qr=()=>{const{user:e}=Aa(),[a]=xa(),t=ya(),o=ha(),[r,s]=p.useState(Fa()),[i,l]=p.useState(!1),[c,f]=p.useState(!1),[u,m]=p.useState(!1),[h,x]=p.useState([]),[w,N]=p.useState(""),[v,M]=p.useState(""),[D,G]=p.useState(""),[I,ae]=p.useState(""),Y=r.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");p.useEffect(()=>{const d=a.get("filter");M(d||"")},[a]);const{data:ne=[]}=La(e?.uid||""),{data:oe=[]}=Ea(e?.uid||""),{data:Q=[]}=Ia(e?.uid||""),Me=Ba(),W=Q.filter(d=>(console.log("Comparando:",d.date,"===",Y,"?",d.date===Y),d.date===Y));console.log("ResumoDia - selectedDateString:",Y),console.log("ResumoDia - allTransactions:",Q),console.log("ResumoDia - allTransactions dates:",Q.map(d=>({id:d.id,date:d.date,type:d.type,amount:d.amount}))),console.log("ResumoDia - todayTransactions (filtradas):",W),p.useEffect(()=>{if(Q.length>0&&h.length===0){const d=Wa(),j=Q.filter(P=>P.date===d);j.length>0&&(x(j),N(d),console.log("ResumoDia - Transações do dia original capturadas:",j),console.log("ResumoDia - Data original:",d))}},[Q,h.length]);const re=(()=>{let d=W;switch(v){case"deposits":d=d.filter(j=>j.type==="deposit");break;case"withdraws":d=d.filter(j=>j.type==="withdraw");break}return D&&(d=d.filter(j=>j.platformId===D)),I&&(d=d.filter(j=>j.employeeId===I)),d})(),pe=W.filter(d=>d.type==="deposit"),ge=W.filter(d=>d.type==="withdraw"),se=pe.reduce((d,j)=>d+Number(j.amount||0),0),y=ge.reduce((d,j)=>d+Number(j.amount||0),0),g=y-se,ie=re.length;console.log("ResumoDia - Cálculos:"),console.log("- deposits:",pe),console.log("- withdraws:",ge),console.log("- totalDeposits:",se),console.log("- totalWithdraws:",y),console.log("- profit:",g),console.log("- transactionCount:",ie);const le=oe.map(d=>{const j=W.filter(_=>_.platformId===d.id),P=j.filter(_=>_.type==="deposit").reduce((_,k)=>_+Number(k.amount||0),0),L=j.filter(_=>_.type==="withdraw").reduce((_,k)=>_+Number(k.amount||0),0),z=L-P;return{name:d.name,color:d.color,deposits:P,withdraws:L,profit:z,transactions:j.length}}).filter(d=>d.transactions>0).sort((d,j)=>j.profit-d.profit),de=ne.map(d=>{const j=W.filter(_=>_.employeeId===d.id),P=j.filter(_=>_.type==="deposit").reduce((_,k)=>_+Number(k.amount||0),0),L=j.filter(_=>_.type==="withdraw").reduce((_,k)=>_+Number(k.amount||0),0),z=L-P;return{name:d.name,deposits:P,withdraws:L,profit:z,transactions:j.length}}).filter(d=>d.transactions>0).sort((d,j)=>j.profit-d.profit),te=le[0],ce=de[0],ca=async()=>{try{const d=h.length>0?h:W,j=w||Y,P=d.filter(E=>E.type==="deposit"),L=d.filter(E=>E.type==="withdraw"),z=P.reduce((E,O)=>E+Number(O.amount||0),0),_=L.reduce((E,O)=>E+Number(O.amount||0),0),k=_-z;if(console.log("Fechando dia - Data:",j),console.log("Fechando dia - Transações originais:",h),console.log("Fechando dia - Transações selecionadas:",d),console.log("Fechando dia - Total Deposits:",z),console.log("Fechando dia - Total Withdraws:",_),console.log("Fechando dia - Profit:",k),!e?.uid){fe.error("Usuário não autenticado");return}const B=(await me.getAllDailySummaries(e.uid)).find(E=>E.date===j);let T;B?(T={date:j,totalDeposits:(B.totalDeposits||0)+z,totalWithdraws:(B.totalWithdraws||0)+_,profit:(B.profit||B.margin||0)+k,transactionCount:(B.transactionCount||0)+d.length,transactionsSnapshot:[...B.transactionsSnapshot||[],...d],byEmployee:[],margin:(B.profit||B.margin||0)+k,createdAt:B.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente:",T),await me.updateDailySummary(e.uid,B.id,T)):(T={date:j,totalDeposits:z,totalWithdraws:_,profit:k,transactionCount:d.length,transactionsSnapshot:d,byEmployee:[],margin:k,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento:",T),await me.createDailySummary(e.uid,T));const Z=d.map(E=>Me.mutateAsync(E.id));await Promise.all(Z),fe.success("Dia fechado com sucesso!"),f(!1),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(d){console.error("Erro ao fechar o dia:",d),fe.error("Erro ao fechar o dia. Tente novamente.")}},ua=async d=>{try{if(console.log("=== INICIANDO SALVAMENTO EM OUTRA DATA ==="),console.log("Target Date recebida:",d),console.log("Transações do dia original:",h),console.log("Data original:",w),console.log("Transações do dia atual (selectedDate):",W),console.log("Total Deposits:",se),console.log("Total Withdraws:",y),console.log("Profit calculado:",g),!e?.uid){fe.error("Usuário não autenticado");return}const j=d.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");console.log("Salvando em outra data - Target Date String:",j);const P=h.length>0?h:W,L=P.filter(O=>O.type==="deposit"),z=P.filter(O=>O.type==="withdraw"),_=L.reduce((O,We)=>O+Number(We.amount||0),0),k=z.reduce((O,We)=>O+Number(We.amount||0),0),ue=k-_;console.log("Dados a serem salvos:"),console.log("- transactionsToSave:",P),console.log("- totalDepositsToSave:",_),console.log("- totalWithdrawsToSave:",k),console.log("- profitToSave:",ue);const T=(await me.getAllDailySummaries(e.uid)).find(O=>O.date===j);let Z;T?(Z={date:j,totalDeposits:(T.totalDeposits||0)+_,totalWithdraws:(T.totalWithdraws||0)+k,profit:(T.profit||T.margin||0)+ue,transactionCount:(T.transactionCount||0)+P.length,transactionsSnapshot:[...T.transactionsSnapshot||[],...P],byEmployee:[],margin:(T.profit||T.margin||0)+ue,createdAt:T.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente para data:",Z),await me.updateDailySummary(e.uid,T.id,Z)):(Z={date:j,totalDeposits:_,totalWithdraws:k,profit:ue,transactionCount:P.length,transactionsSnapshot:P,byEmployee:[],margin:ue,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento para data:",Z),await me.createDailySummary(e.uid,Z)),console.log("Resumo salvo com sucesso na data:",j),console.log("Deletando transações do dia selecionado:",P);const E=P.map(O=>(console.log("Deletando transação:",O.id),Me.mutateAsync(O.id)));await Promise.all(E),console.log("Todas as transações foram deletadas com sucesso"),o.invalidateQueries({queryKey:["firebase-transactions"]}),o.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),o.invalidateQueries({queryKey:["firebase-daily-summaries"]}),fe.success(`Resumo salvo para ${$(d,"dd/MM/yyyy",{locale:Ye})}! Transações do dia atual foram apagadas.`),l(!1)}catch(j){console.error("Erro ao salvar em outra data:",j),fe.error("Erro ao salvar em outra data. Tente novamente.")}},Fe=le.map(d=>({name:d.name,value:d.profit,color:d.color})),it=de.map(d=>({name:d.name,receita:d.profit,depositos:d.deposits,saques:d.withdraws}));return n.jsx(Da,{children:n.jsxs("div",{className:"space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h1",{className:"text-4xl font-bold",children:"Resumo do Dia"}),v&&n.jsxs(V,{variant:"secondary",className:"gap-1 bg-primary/10 text-primary border-primary/20",children:[n.jsx(Le,{className:"h-3 w-3"}),v==="deposits"&&"Depósitos",v==="withdraws"&&"Saques",v==="profit"&&"Lucro"]})]}),n.jsx("p",{className:"text-muted-foreground",children:$(r,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ye})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ar,{open:i,onOpenChange:l,children:[n.jsx(Fr,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white border-orange-500",children:[n.jsx(va,{className:"h-4 w-4"}),"Salvar em outra data"]})}),n.jsx(da,{className:"w-auto p-0",align:"end",children:n.jsx(Qt,{mode:"single",selected:r,onSelect:d=>{d&&(s(d),l(!1),m(!0))},initialFocus:!0})})]}),n.jsx(ft,{open:u,onOpenChange:m,children:n.jsxs(mt,{children:[n.jsxs(ht,{children:[n.jsx(vt,{children:"Salvar em Outra Data"}),n.jsxs(pt,{children:["Tem certeza que deseja salvar o resumo do dia atual para ",r&&$(r,"dd/MM/yyyy",{locale:Ye}),"?",n.jsx("br",{}),n.jsx("br",{}),n.jsx("strong",{children:"Esta ação irá:"}),n.jsx("br",{}),"• Salvar todas as transações atuais para a data selecionada",n.jsx("br",{}),"• Apagar todas as transações do dia atual",n.jsx("br",{}),"• Permitir que você comece um novo dia",n.jsx("br",{}),n.jsx("br",{}),n.jsx("strong",{children:"Esta ação não pode ser desfeita."})]})]}),n.jsxs(gt,{children:[n.jsx(xt,{children:"Cancelar"}),n.jsx(yt,{onClick:async()=>{r&&(console.log("Executando saveToAnotherDate com data:",r),await ua(r),m(!1))},children:"Salvar e Apagar Transações"})]})]})}),n.jsxs(ft,{open:c,onOpenChange:f,children:[n.jsx(_a,{asChild:!0,children:n.jsxs(J,{variant:"destructive",className:"gap-2",children:[n.jsx(pa,{className:"h-4 w-4"}),"Fechar o Dia"]})}),n.jsxs(mt,{children:[n.jsxs(ht,{children:[n.jsx(vt,{children:"Fechar o Dia"}),n.jsx(pt,{children:"Tem certeza que deseja fechar o dia? Esta ação salvará todas as movimentações do dia e resetará as transações para um novo dia."})]}),n.jsxs(gt,{children:[n.jsx(xt,{children:"Cancelar"}),n.jsx(yt,{onClick:ca,children:"Fechar o Dia"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(K,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Dia"}),n.jsxs("p",{className:`text-3xl font-bold ${g>=0?"text-success":"text-destructive"}`,children:["R$ ",g.toLocaleString("pt-BR")]})]}),n.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:n.jsx(lt,{className:"h-6 w-6 text-primary-foreground"})})]})}),n.jsx(K,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),n.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",se.toLocaleString("pt-BR")]})]}),n.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:n.jsx(dt,{className:"h-6 w-6 text-primary-foreground"})})]})}),n.jsx(K,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),n.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",y.toLocaleString("pt-BR")]})]}),n.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:n.jsx(ct,{className:"h-6 w-6 text-primary-foreground"})})]})}),n.jsx(K,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),n.jsx("p",{className:"text-3xl font-bold",children:ie})]}),n.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:n.jsx(ga,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[te&&n.jsxs(K,{className:"p-6 shadow-card",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(ut,{className:"h-6 w-6 text-yellow-500"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Plataforma do Dia"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:te.color}}),n.jsx("span",{className:"font-medium",children:te.name})]}),n.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",te.profit.toLocaleString("pt-BR")]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[te.transactions," transações • R$ ",te.deposits.toLocaleString("pt-BR")," depósitos • R$ ",te.withdraws.toLocaleString("pt-BR")," saques"]})]})]}),ce&&n.jsxs(K,{className:"p-6 shadow-card",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(ut,{className:"h-6 w-6 text-yellow-500"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Funcionário do Dia"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"font-medium",children:ce.name}),n.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",ce.profit.toLocaleString("pt-BR")]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[ce.transactions," transações • R$ ",ce.deposits.toLocaleString("pt-BR")," depósitos • R$ ",ce.withdraws.toLocaleString("pt-BR")," saques"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Fe.length>0&&n.jsxs(K,{className:"p-6 shadow-card",children:[n.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Receita por Plataforma"}),n.jsx(Ct,{width:"100%",height:300,children:n.jsxs(Xa,{children:[n.jsx(Ga,{data:Fe,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:d,value:j})=>`${d}: R$ ${j.toLocaleString("pt-BR")}`,children:Fe.map((d,j)=>n.jsx(Qa,{fill:d.color},`cell-${j}`))}),n.jsx(Mt,{formatter:d=>[`R$ ${d.toLocaleString("pt-BR")}`,"Receita"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})]}),it.length>0&&n.jsxs(K,{className:"p-6 shadow-card",children:[n.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),n.jsx(Ct,{width:"100%",height:300,children:n.jsxs(Za,{data:it,children:[n.jsx(Ja,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),n.jsx(en,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),n.jsx(tn,{stroke:"hsl(var(--muted-foreground))"}),n.jsx(Mt,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),n.jsx(an,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]})]}),n.jsxs(K,{className:"shadow-card overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("h3",{className:"text-lg font-semibold",children:["Transações do Dia",(v||D||I)&&n.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",re.length," transação(ões) encontrada(s))"]})]})}),n.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Plataforma:"}),n.jsxs(jt,{value:D||"all",onValueChange:d=>G(d==="all"?"":d),children:[n.jsx(Nt,{className:"w-[160px]",children:n.jsx(Dt,{placeholder:"Todas"})}),n.jsxs(_t,{children:[n.jsx(Pe,{value:"all",children:"Todas as plataformas"}),oe.map(d=>n.jsx(Pe,{value:d.id,children:d.name},d.id))]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Funcionário:"}),n.jsxs(jt,{value:I||"all",onValueChange:d=>ae(d==="all"?"":d),children:[n.jsx(Nt,{className:"w-[160px]",children:n.jsx(Dt,{placeholder:"Todos"})}),n.jsxs(_t,{children:[n.jsx(Pe,{value:"all",children:"Todos os funcionários"}),ne.map(d=>n.jsx(Pe,{value:d.id,children:d.name},d.id))]})]})]}),(v||D||I)&&n.jsx(J,{variant:"outline",size:"sm",onClick:()=>{M(""),G(""),ae(""),t("/resumo-dia")},children:"Limpar Filtros"})]})]}),n.jsxs("div",{className:"space-y-4 mt-4",children:[(v||D||I)&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[n.jsx(Le,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm text-primary font-medium",children:"Filtros ativos:"}),n.jsxs("div",{className:"flex gap-2",children:[v&&n.jsxs(V,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:[v==="deposits"&&"Depósitos",v==="withdraws"&&"Saques",v==="profit"&&"Lucro"]}),D&&n.jsxs(V,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Plataforma: ",oe.find(d=>d.id===D)?.name||"N/A"]}),I&&n.jsxs(V,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Funcionário: ",ne.find(d=>d.id===I)?.name||"N/A"]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(J,{variant:v===""?"default":"outline",size:"sm",onClick:()=>t("/resumo-dia"),className:"gap-2",children:[n.jsx(Le,{className:"h-3 w-3"}),"Todas",n.jsx(V,{variant:"secondary",className:"ml-1",children:W.length})]}),n.jsxs(J,{variant:v==="deposits"?"default":"outline",size:"sm",onClick:()=>t("/resumo-dia?filter=deposits"),className:"gap-2",children:[n.jsx(dt,{className:"h-3 w-3"}),"Depósitos",n.jsx(V,{variant:"secondary",className:"ml-1",children:pe.length})]}),n.jsxs(J,{variant:v==="withdraws"?"default":"outline",size:"sm",onClick:()=>t("/resumo-dia?filter=withdraws"),className:"gap-2",children:[n.jsx(ct,{className:"h-3 w-3"}),"Saques",n.jsx(V,{variant:"secondary",className:"ml-1",children:ge.length})]}),n.jsxs(J,{variant:v==="profit"?"default":"outline",size:"sm",onClick:()=>t("/resumo-dia?filter=profit"),className:"gap-2",children:[n.jsx(lt,{className:"h-3 w-3"}),"Lucro",n.jsx(V,{variant:"secondary",className:"ml-1",children:W.length})]})]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-muted/50",children:[n.jsx("th",{className:"text-left p-4 font-semibold",children:"Funcionário"}),n.jsx("th",{className:"text-left p-4 font-semibold",children:"Plataforma"}),n.jsx("th",{className:"text-center p-4 font-semibold",children:"Tipo"}),n.jsx("th",{className:"text-right p-4 font-semibold",children:"Valor"}),n.jsx("th",{className:"text-center p-4 font-semibold",children:"Horário"})]})}),n.jsxs("tbody",{children:[re.map(d=>{const j=ne.find(L=>L.id===d.employeeId),P=oe.find(L=>L.id===d.platformId);return n.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[n.jsx("td",{className:"p-4 font-medium",children:j?.name||"N/A"}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[P&&n.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:P.color}}),P?.name||"N/A"]})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx(V,{variant:d.type==="deposit"?"destructive":"default",children:d.type==="deposit"?"Depósito":"Saque"})}),n.jsxs("td",{className:`p-4 text-right font-semibold ${d.type==="deposit"?"text-destructive":"text-success"}`,children:[d.type==="deposit"?"-":"+","R$ ",Number(d.amount||0).toLocaleString("pt-BR")]}),n.jsx("td",{className:"p-4 text-center text-sm text-muted-foreground",children:new Date(d.createdAt?.toDate?.()||d.createdAt).toLocaleTimeString("pt-BR")})]},d.id)}),re.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:v?n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{children:"Nenhuma transação encontrada para o filtro selecionado."}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>t("/resumo-dia"),children:"Ver todas as transações"})]}):"Nenhuma transação registrada para este dia."})})]})]})})]})]})})};export{Qr as default};
