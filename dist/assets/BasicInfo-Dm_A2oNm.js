var g=Object.defineProperty;var j=(a,s,t)=>s in a?g(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var f=(a,s,t)=>j(a,typeof s!="symbol"?s+"":s,t);import{j as e,k as y,i as l}from"./ui-vendor-BKTCjC1N.js";import{r as n,u as N}from"./react-vendor-a_rYd-gI.js";import{i as w,B as I,U as S}from"./index-CGNlKej4.js";import{I as h}from"./input-ChKtT3xH.js";import{L as x}from"./label-BQ8_nb15.js";import{U as c,a as d}from"./user-subcollections.service-PY9rn1_P.js";import"./chart-vendor-CfBne3GF.js";import"./firebase-vendor-Dsl9zeYT.js";class p{static async saveBasicInfo(s,t){return c.saveToUserSubcollection(s,d.PROFILE,this.docId,t)}static async getUserBasicInfo(s){return c.getFromUserSubcollection(s,d.PROFILE,this.docId)}static async updateBasicInfo(s,t){return c.updateUserSubcollection(s,d.PROFILE,this.docId,t)}}f(p,"docId","basic");const T=()=>{const[a,s]=n.useState(""),[t,b]=n.useState(""),[m,u]=n.useState(!1),i=N(),{user:o}=w(),v=async r=>{if(r.preventDefault(),!a.trim()||!t.trim()){l.error("Por favor, preencha todos os campos");return}u(!0);try{if(!o?.uid){l.error("Usuário não autenticado");return}await p.saveBasicInfo(o.uid,{name:a,phone:t}),await S.createOrUpdateUserProfile(o.uid,{email:o.email||"",name:a,displayName:a,plano:"free"}),l.success("Informações básicas salvas!"),i("/initial-setup")}catch{l.error("Erro ao salvar informações. Tente novamente.")}finally{u(!1)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute w-96 h-96 bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-float-slow"}),e.jsx("div",{className:"absolute w-96 h-96 bg-secondary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-float-reverse"}),e.jsx("div",{className:"absolute w-64 h-64 bg-primary/10 rounded-full blur-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-float-center"})]}),e.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),e.jsx("div",{className:"absolute top-40 right-32 w-1 h-1 bg-secondary rounded-full animate-bounce delay-700"}),e.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-1000"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-2 h-2 bg-secondary rounded-full animate-bounce delay-500"}),e.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("button",{onClick:()=>i("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:e.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),e.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),e.jsx("path",{d:"M2 9h20"})]})}),e.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),e.jsx("button",{onClick:()=>i("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:e.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Complete suas informações básicas"}),e.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{htmlFor:"name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Nome completo"]}),e.jsx(h,{id:"name",type:"text",placeholder:"Digite seu nome completo",value:a,onChange:r=>s(r.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"phone",className:"text-sm font-medium text-foreground",children:"Telefone"}),e.jsx(h,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:t,onChange:r=>b(r.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),e.jsx(I,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:m,children:m?"Salvando...":"Continuar"})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:e.jsx("p",{children:"Passo 1 de 2 - Informações básicas"})})]})]})};export{T as default};
