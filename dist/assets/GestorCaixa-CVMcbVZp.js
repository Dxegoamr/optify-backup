import{u as Lr,n as ze,Y as He,j as r,r as pa,m as ga,ag as ya,i as ie,a as br,aa as va,P as jr,a0 as ba,l as ja,T as wa,ah as Ca,ai as _t,p as Dt,aj as Na}from"./ui-vendor-CYAqJ0RG.js";import{r as x,R as E}from"./react-vendor-a_rYd-gI.js";import{y as _a,z as Da,F as Ma,R as Sa,D as Ea,A as Mt,h as St,i as Et,j as Rt,k as At,l as Tt,m as Ft,n as It}from"./DashboardLayout-B3XyjcMy.js";import{h as Ur,g as re,f as Ra,c as es,y as rs,A as Aa,b as Gr,d as fr,a as k,D as Ta,z as Fa,P as tr,E as ts,F as Ia,G as ss,H as Pa,R as ka,I as Va,J as Oa,u as La,S as Ua,j as Jr,B as X,C as ce,q as pe,s as ge,r as ye,t as ve}from"./index-LiAbW-2G.js";import{d as as,R as Ga,I as qa,T as Ka,a as $a,b as Ye,c as Je}from"./tabs-BpqDSPQO.js";import{T as Ba,a as za,b as wr,c as Ze,d as Ha,e as Ue}from"./table-DkP3UmhY.js";import{D as Cr,b as Nr,c as _r,d as Dr,f as Mr,e as Sr}from"./dialog-DkFBrAVQ.js";import{a as Xa,u as Pt}from"./index-DMSHDzho.js";import{L as Wa}from"./label-DLesFRW0.js";import{I as ar}from"./input-J7GhaNSr.js";import{T as Qa}from"./textarea-BOwSHnXF.js";import{S as Zr,a as et,b as rt,c as tt,d as Fe}from"./select-Bd9uzrFY.js";import{t as fe,c as Ya,h as Ja,g as kt,i as Vt,j as Er,a as Za}from"./en-US-xOTpc2KN.js";import{e as en,d as rn}from"./endOfMonth-BnKvlUgl.js";import{R as tn,P as sn,a as an,C as nn,T as on}from"./chart-vendor-ctXMAO2v.js";import{p as Ot}from"./pt-BR-Crt2EcWv.js";import"./user-specific.service-C1DLMu9g.js";import"./user-subcollections.service-B4HigrO8.js";import"./firebase-vendor-BUxvNq0f.js";import"./user-notifications.service-CAzP-qxP.js";import"./index-CdAzXW5_.js";function Ar(e,s){const t=fe(e),a=fe(s),n=t.getTime()-a.getTime();return n<0?-1:n>0?1:n}function cn(e){return Ya(e,Date.now())}function ln(e){return s=>{const a=(e?Math[e]:Math.trunc)(s);return a===0?0:a}}function dn(e,s){return+fe(e)-+fe(s)}function un(e){const s=fe(e);return s.setHours(23,59,59,999),s}function fn(e){const s=fe(e);return+un(s)==+en(s)}function mn(e,s){const t=fe(e),a=fe(s),n=Ar(t,a),i=Math.abs(rn(t,a));let d;if(i<1)d=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-n*i);let u=Ar(t,a)===-n;fn(fe(e))&&i===1&&Ar(e,a)===1&&(u=!1),d=n*(i-Number(u))}return d===0?0:d}function xn(e,s,t){const a=dn(e,s)/1e3;return ln(t?.roundingMethod)(a)}function hn(e,s,t){const a=Za(),n=t?.locale??a.locale??Ja,i=2520,d=Ar(e,s);if(isNaN(d))throw new RangeError("Invalid time value");const u=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:d});let j,b;d>0?(j=fe(s),b=fe(e)):(j=fe(e),b=fe(s));const h=xn(b,j),g=(kt(b)-kt(j))/1e3,p=Math.round((h-g)/60);let R;if(p<2)return t?.includeSeconds?h<5?n.formatDistance("lessThanXSeconds",5,u):h<10?n.formatDistance("lessThanXSeconds",10,u):h<20?n.formatDistance("lessThanXSeconds",20,u):h<40?n.formatDistance("halfAMinute",0,u):h<60?n.formatDistance("lessThanXMinutes",1,u):n.formatDistance("xMinutes",1,u):p===0?n.formatDistance("lessThanXMinutes",1,u):n.formatDistance("xMinutes",p,u);if(p<45)return n.formatDistance("xMinutes",p,u);if(p<90)return n.formatDistance("aboutXHours",1,u);if(p<Vt){const _=Math.round(p/60);return n.formatDistance("aboutXHours",_,u)}else{if(p<i)return n.formatDistance("xDays",1,u);if(p<Er){const _=Math.round(p/Vt);return n.formatDistance("xDays",_,u)}else if(p<Er*2)return R=Math.round(p/Er),n.formatDistance("aboutXMonths",R,u)}if(R=mn(b,j),R<12){const _=Math.round(p/Er);return n.formatDistance("xMonths",_,u)}else{const _=R%12,D=Math.trunc(R/12);return _<3?n.formatDistance("aboutXYears",D,u):_<9?n.formatDistance("overXYears",D,u):n.formatDistance("almostXYears",D+1,u)}}function Lt(e,s){return hn(e,cn(e),s)}const Ce="/api/gestor-caixa";async function Ne(e,s){const t=await fetch(e,{headers:{"Content-Type":"application/json",...s?.headers},credentials:"include",...s});if(!t.ok){const a=await t.text();throw new Error(a||"Erro ao comunicar com o gestor de caixa")}if(t.status!==204)return t.json()}class Me{static async getResumo(){return Ne(`${Ce}/resumo`)}static async getTransacoes(){return Ne(`${Ce}/transacoes`)}static async createTransacao(s){return Ne(`${Ce}/transacoes`,{method:"POST",body:JSON.stringify(s)})}static async updateTransacao(s,t){return Ne(`${Ce}/transacoes/${s}`,{method:"PUT",body:JSON.stringify(t)})}static async deleteTransacao(s){await Ne(`${Ce}/transacoes/${s}`,{method:"DELETE"})}static async getCategorias(){return Ne(`${Ce}/categorias`)}static async createCategoria(s){return Ne(`${Ce}/categorias`,{method:"POST",body:JSON.stringify(s)})}static async updateCategoria(s,t){return Ne(`${Ce}/categorias/${s}`,{method:"PUT",body:JSON.stringify(t)})}static async deleteCategoria(s){await Ne(`${Ce}/categorias/${s}`,{method:"DELETE"})}static async getConfiguracoes(){return Ne(`${Ce}/configuracoes`)}static async updateConfiguracoes(s){return Ne(`${Ce}/configuracoes`,{method:"PUT",body:JSON.stringify(s)})}}const pn=()=>{const{user:e}=Ur();return Lr({queryKey:["gestor-caixa","resumo",e?.uid],queryFn:()=>Me.getResumo(),enabled:!!e?.uid,staleTime:6e4})},gn=()=>{const{user:e}=Ur();return Lr({queryKey:["gestor-caixa","transacoes",e?.uid],queryFn:()=>Me.getTransacoes(),enabled:!!e?.uid})},yn=()=>{const e=ze();return He({mutationFn:s=>Me.createTransacao(s),onSuccess:()=>{e.invalidateQueries({queryKey:["gestor-caixa","transacoes"]}),e.invalidateQueries({queryKey:["gestor-caixa","resumo"]})}})},vn=()=>{const e=ze();return He({mutationFn:({id:s,data:t})=>Me.updateTransacao(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:["gestor-caixa","transacoes"]}),e.invalidateQueries({queryKey:["gestor-caixa","resumo"]})}})},bn=()=>{const e=ze();return He({mutationFn:s=>Me.deleteTransacao(s),onSuccess:()=>{e.invalidateQueries({queryKey:["gestor-caixa","transacoes"]}),e.invalidateQueries({queryKey:["gestor-caixa","resumo"]})}})},jn=()=>{const{user:e}=Ur();return Lr({queryKey:["gestor-caixa","categorias",e?.uid],queryFn:()=>Me.getCategorias(),enabled:!!e?.uid})},wn=()=>{const e=ze();return He({mutationFn:s=>Me.createCategoria(s),onSuccess:()=>{e.invalidateQueries({queryKey:["gestor-caixa","categorias"]}),e.invalidateQueries({queryKey:["gestor-caixa","resumo"]})}})},Cn=()=>{const e=ze();return He({mutationFn:({id:s,data:t})=>Me.updateCategoria(s,t),onSuccess:()=>{e.invalidateQueries({queryKey:["gestor-caixa","categorias"]}),e.invalidateQueries({queryKey:["gestor-caixa","resumo"]})}})},Nn=()=>{const e=ze();return He({mutationFn:s=>Me.deleteCategoria(s),onSuccess:()=>{e.invalidateQueries({queryKey:["gestor-caixa","categorias"]}),e.invalidateQueries({queryKey:["gestor-caixa","resumo"]})}})},_n=()=>{const{user:e}=Ur();return Lr({queryKey:["gestor-caixa","configuracoes",e?.uid],queryFn:()=>Me.getConfiguracoes(),enabled:!!e?.uid})},Dn=()=>{const e=ze();return He({mutationFn:s=>Me.updateConfiguracoes(s),onSuccess:()=>{e.invalidateQueries({queryKey:["gestor-caixa","configuracoes"]})}})};function er({className:e,...s}){return r.jsx("div",{className:re("animate-pulse rounded-md bg-muted",e),...s})}var nt=["Enter"," "],Mn=["ArrowDown","PageUp","Home"],ns=["ArrowUp","PageDown","End"],Sn=[...Mn,...ns],En={ltr:[...nt,"ArrowRight"],rtl:[...nt,"ArrowLeft"]},Rn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},mr="Menu",[dr,An,Tn]=Ra(mr),[Xe,os]=es(mr,[Tn,rs,as]),qr=rs(),is=as(),[Fn,We]=Xe(mr),[In,xr]=Xe(mr),cs=e=>{const{__scopeMenu:s,open:t=!1,children:a,dir:n,onOpenChange:i,modal:d=!0}=e,u=qr(s),[j,b]=x.useState(null),h=x.useRef(!1),g=ts(i),p=Xa(n);return x.useEffect(()=>{const R=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",R,{capture:!0}),()=>{document.removeEventListener("keydown",R,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),r.jsx(ka,{...u,children:r.jsx(Fn,{scope:s,open:t,onOpenChange:g,content:j,onContentChange:b,children:r.jsx(In,{scope:s,onClose:x.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:p,modal:d,children:a})})})};cs.displayName=mr;var Pn="MenuAnchor",ct=x.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e,n=qr(t);return r.jsx(Aa,{...n,...a,ref:s})});ct.displayName=Pn;var lt="MenuPortal",[kn,ls]=Xe(lt,{forceMount:void 0}),ds=e=>{const{__scopeMenu:s,forceMount:t,children:a,container:n}=e,i=We(lt,s);return r.jsx(kn,{scope:s,forceMount:t,children:r.jsx(Gr,{present:t||i.open,children:r.jsx(Va,{asChild:!0,container:n,children:a})})})};ds.displayName=lt;var je="MenuContent",[Vn,dt]=Xe(je),us=x.forwardRef((e,s)=>{const t=ls(je,e.__scopeMenu),{forceMount:a=t.forceMount,...n}=e,i=We(je,e.__scopeMenu),d=xr(je,e.__scopeMenu);return r.jsx(dr.Provider,{scope:e.__scopeMenu,children:r.jsx(Gr,{present:a||i.open,children:r.jsx(dr.Slot,{scope:e.__scopeMenu,children:d.modal?r.jsx(On,{...n,ref:s}):r.jsx(Ln,{...n,ref:s})})})})}),On=x.forwardRef((e,s)=>{const t=We(je,e.__scopeMenu),a=x.useRef(null),n=fr(s,a);return x.useEffect(()=>{const i=a.current;if(i)return _a(i)},[]),r.jsx(ut,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:k(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Ln=x.forwardRef((e,s)=>{const t=We(je,e.__scopeMenu);return r.jsx(ut,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Un=Oa("MenuContent.ScrollLock"),ut=x.forwardRef((e,s)=>{const{__scopeMenu:t,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:d,disableOutsidePointerEvents:u,onEntryFocus:j,onEscapeKeyDown:b,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:p,onDismiss:R,disableOutsideScroll:_,...D}=e,V=We(je,t),J=xr(je,t),C=qr(t),U=is(t),O=An(t),[F,de]=x.useState(null),te=x.useRef(null),Ae=fr(s,te,V.onContentChange),B=x.useRef(0),ne=x.useRef(""),W=x.useRef(0),M=x.useRef(null),S=x.useRef("right"),T=x.useRef(0),L=_?Sa:x.Fragment,H=_?{as:Un,allowPinchZoom:!0}:void 0,Q=N=>{const Z=ne.current+N,oe=O().filter(K=>!K.disabled),me=document.activeElement,Se=oe.find(K=>K.ref.current===me)?.textValue,Ee=oe.map(K=>K.textValue),Te=Jn(Ee,Z,Se),we=oe.find(K=>K.textValue===Te)?.ref.current;(function K(ee){ne.current=ee,window.clearTimeout(B.current),ee!==""&&(B.current=window.setTimeout(()=>K(""),1e3))})(Z),we&&setTimeout(()=>we.focus())};x.useEffect(()=>()=>window.clearTimeout(B.current),[]),Da();const Y=x.useCallback(N=>S.current===M.current?.side&&eo(N,M.current?.area),[]);return r.jsx(Vn,{scope:t,searchRef:ne,onItemEnter:x.useCallback(N=>{Y(N)&&N.preventDefault()},[Y]),onItemLeave:x.useCallback(N=>{Y(N)||(te.current?.focus(),de(null))},[Y]),onTriggerLeave:x.useCallback(N=>{Y(N)&&N.preventDefault()},[Y]),pointerGraceTimerRef:W,onPointerGraceIntentChange:x.useCallback(N=>{M.current=N},[]),children:r.jsx(L,{...H,children:r.jsx(Ma,{asChild:!0,trapped:n,onMountAutoFocus:k(i,N=>{N.preventDefault(),te.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:r.jsx(Ta,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:b,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:p,onDismiss:R,children:r.jsx(Ga,{asChild:!0,...U,dir:J.dir,orientation:"vertical",loop:a,currentTabStopId:F,onCurrentTabStopIdChange:de,onEntryFocus:k(j,N=>{J.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(Fa,{role:"menu","aria-orientation":"vertical","data-state":Ms(V.open),"data-radix-menu-content":"",dir:J.dir,...C,...D,ref:Ae,style:{outline:"none",...D.style},onKeyDown:k(D.onKeyDown,N=>{const oe=N.target.closest("[data-radix-menu-content]")===N.currentTarget,me=N.ctrlKey||N.altKey||N.metaKey,Se=N.key.length===1;oe&&(N.key==="Tab"&&N.preventDefault(),!me&&Se&&Q(N.key));const Ee=te.current;if(N.target!==Ee||!Sn.includes(N.key))return;N.preventDefault();const we=O().filter(K=>!K.disabled).map(K=>K.ref.current);ns.includes(N.key)&&we.reverse(),Qn(we)}),onBlur:k(e.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(B.current),ne.current="")}),onPointerMove:k(e.onPointerMove,ur(N=>{const Z=N.target,oe=T.current!==N.clientX;if(N.currentTarget.contains(Z)&&oe){const me=N.clientX>T.current?"right":"left";S.current=me,T.current=N.clientX}}))})})})})})})});us.displayName=je;var Gn="MenuGroup",ft=x.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e;return r.jsx(tr.div,{role:"group",...a,ref:s})});ft.displayName=Gn;var qn="MenuLabel",fs=x.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e;return r.jsx(tr.div,{...a,ref:s})});fs.displayName=qn;var Fr="MenuItem",Ut="menu.itemSelect",Kr=x.forwardRef((e,s)=>{const{disabled:t=!1,onSelect:a,...n}=e,i=x.useRef(null),d=xr(Fr,e.__scopeMenu),u=dt(Fr,e.__scopeMenu),j=fr(s,i),b=x.useRef(!1),h=()=>{const g=i.current;if(!t&&g){const p=new CustomEvent(Ut,{bubbles:!0,cancelable:!0});g.addEventListener(Ut,R=>a?.(R),{once:!0}),Pa(g,p),p.defaultPrevented?b.current=!1:d.onClose()}};return r.jsx(ms,{...n,ref:j,disabled:t,onClick:k(e.onClick,h),onPointerDown:g=>{e.onPointerDown?.(g),b.current=!0},onPointerUp:k(e.onPointerUp,g=>{b.current||g.currentTarget?.click()}),onKeyDown:k(e.onKeyDown,g=>{const p=u.searchRef.current!=="";t||p&&g.key===" "||nt.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Kr.displayName=Fr;var ms=x.forwardRef((e,s)=>{const{__scopeMenu:t,disabled:a=!1,textValue:n,...i}=e,d=dt(Fr,t),u=is(t),j=x.useRef(null),b=fr(s,j),[h,g]=x.useState(!1),[p,R]=x.useState("");return x.useEffect(()=>{const _=j.current;_&&R((_.textContent??"").trim())},[i.children]),r.jsx(dr.ItemSlot,{scope:t,disabled:a,textValue:n??p,children:r.jsx(qa,{asChild:!0,...u,focusable:!a,children:r.jsx(tr.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:b,onPointerMove:k(e.onPointerMove,ur(_=>{a?d.onItemLeave(_):(d.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:k(e.onPointerLeave,ur(_=>d.onItemLeave(_))),onFocus:k(e.onFocus,()=>g(!0)),onBlur:k(e.onBlur,()=>g(!1))})})})}),Kn="MenuCheckboxItem",xs=x.forwardRef((e,s)=>{const{checked:t=!1,onCheckedChange:a,...n}=e;return r.jsx(vs,{scope:e.__scopeMenu,checked:t,children:r.jsx(Kr,{role:"menuitemcheckbox","aria-checked":Ir(t)?"mixed":t,...n,ref:s,"data-state":xt(t),onSelect:k(n.onSelect,()=>a?.(Ir(t)?!0:!t),{checkForDefaultPrevented:!1})})})});xs.displayName=Kn;var hs="MenuRadioGroup",[$n,Bn]=Xe(hs,{value:void 0,onValueChange:()=>{}}),ps=x.forwardRef((e,s)=>{const{value:t,onValueChange:a,...n}=e,i=ts(a);return r.jsx($n,{scope:e.__scopeMenu,value:t,onValueChange:i,children:r.jsx(ft,{...n,ref:s})})});ps.displayName=hs;var gs="MenuRadioItem",ys=x.forwardRef((e,s)=>{const{value:t,...a}=e,n=Bn(gs,e.__scopeMenu),i=t===n.value;return r.jsx(vs,{scope:e.__scopeMenu,checked:i,children:r.jsx(Kr,{role:"menuitemradio","aria-checked":i,...a,ref:s,"data-state":xt(i),onSelect:k(a.onSelect,()=>n.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});ys.displayName=gs;var mt="MenuItemIndicator",[vs,zn]=Xe(mt,{checked:!1}),bs=x.forwardRef((e,s)=>{const{__scopeMenu:t,forceMount:a,...n}=e,i=zn(mt,t);return r.jsx(Gr,{present:a||Ir(i.checked)||i.checked===!0,children:r.jsx(tr.span,{...n,ref:s,"data-state":xt(i.checked)})})});bs.displayName=mt;var Hn="MenuSeparator",js=x.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e;return r.jsx(tr.div,{role:"separator","aria-orientation":"horizontal",...a,ref:s})});js.displayName=Hn;var Xn="MenuArrow",ws=x.forwardRef((e,s)=>{const{__scopeMenu:t,...a}=e,n=qr(t);return r.jsx(Ia,{...n,...a,ref:s})});ws.displayName=Xn;var Wn="MenuSub",[Fi,Cs]=Xe(Wn),ir="MenuSubTrigger",Ns=x.forwardRef((e,s)=>{const t=We(ir,e.__scopeMenu),a=xr(ir,e.__scopeMenu),n=Cs(ir,e.__scopeMenu),i=dt(ir,e.__scopeMenu),d=x.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:j}=i,b={__scopeMenu:e.__scopeMenu},h=x.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return x.useEffect(()=>h,[h]),x.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),j(null)}},[u,j]),r.jsx(ct,{asChild:!0,...b,children:r.jsx(ms,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":n.contentId,"data-state":Ms(t.open),...e,ref:ss(s,n.onTriggerChange),onClick:g=>{e.onClick?.(g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:k(e.onPointerMove,ur(g=>{i.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!t.open&&!d.current&&(i.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{t.onOpenChange(!0),h()},100))})),onPointerLeave:k(e.onPointerLeave,ur(g=>{h();const p=t.content?.getBoundingClientRect();if(p){const R=t.content?.dataset.side,_=R==="right",D=_?-5:5,V=p[_?"left":"right"],J=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+D,y:g.clientY},{x:V,y:p.top},{x:J,y:p.top},{x:J,y:p.bottom},{x:V,y:p.bottom}],side:R}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:k(e.onKeyDown,g=>{const p=i.searchRef.current!=="";e.disabled||p&&g.key===" "||En[a.dir].includes(g.key)&&(t.onOpenChange(!0),t.content?.focus(),g.preventDefault())})})})});Ns.displayName=ir;var _s="MenuSubContent",Ds=x.forwardRef((e,s)=>{const t=ls(je,e.__scopeMenu),{forceMount:a=t.forceMount,...n}=e,i=We(je,e.__scopeMenu),d=xr(je,e.__scopeMenu),u=Cs(_s,e.__scopeMenu),j=x.useRef(null),b=fr(s,j);return r.jsx(dr.Provider,{scope:e.__scopeMenu,children:r.jsx(Gr,{present:a||i.open,children:r.jsx(dr.Slot,{scope:e.__scopeMenu,children:r.jsx(ut,{id:u.contentId,"aria-labelledby":u.triggerId,...n,ref:b,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{d.isUsingKeyboardRef.current&&j.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:k(e.onFocusOutside,h=>{h.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:k(e.onEscapeKeyDown,h=>{d.onClose(),h.preventDefault()}),onKeyDown:k(e.onKeyDown,h=>{const g=h.currentTarget.contains(h.target),p=Rn[d.dir].includes(h.key);g&&p&&(i.onOpenChange(!1),u.trigger?.focus(),h.preventDefault())})})})})})});Ds.displayName=_s;function Ms(e){return e?"open":"closed"}function Ir(e){return e==="indeterminate"}function xt(e){return Ir(e)?"indeterminate":e?"checked":"unchecked"}function Qn(e){const s=document.activeElement;for(const t of e)if(t===s||(t.focus(),document.activeElement!==s))return}function Yn(e,s){return e.map((t,a)=>e[(s+a)%e.length])}function Jn(e,s,t){const n=s.length>1&&Array.from(s).every(b=>b===s[0])?s[0]:s,i=t?e.indexOf(t):-1;let d=Yn(e,Math.max(i,0));n.length===1&&(d=d.filter(b=>b!==t));const j=d.find(b=>b.toLowerCase().startsWith(n.toLowerCase()));return j!==t?j:void 0}function Zn(e,s){const{x:t,y:a}=e;let n=!1;for(let i=0,d=s.length-1;i<s.length;d=i++){const u=s[i],j=s[d],b=u.x,h=u.y,g=j.x,p=j.y;h>a!=p>a&&t<(g-b)*(a-h)/(p-h)+b&&(n=!n)}return n}function eo(e,s){if(!s)return!1;const t={x:e.clientX,y:e.clientY};return Zn(t,s)}function ur(e){return s=>s.pointerType==="mouse"?e(s):void 0}var ro=cs,to=ct,so=ds,ao=us,no=ft,oo=fs,io=Kr,co=xs,lo=ps,uo=ys,fo=bs,mo=js,xo=ws,ho=Ns,po=Ds,$r="DropdownMenu",[go,Ii]=es($r,[os]),ae=os(),[yo,Ss]=go($r),Es=e=>{const{__scopeDropdownMenu:s,children:t,dir:a,open:n,defaultOpen:i,onOpenChange:d,modal:u=!0}=e,j=ae(s),b=x.useRef(null),[h,g]=La({prop:n,defaultProp:i??!1,onChange:d,caller:$r});return r.jsx(yo,{scope:s,triggerId:Pt(),triggerRef:b,contentId:Pt(),open:h,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(p=>!p),[g]),modal:u,children:r.jsx(ro,{...j,open:h,onOpenChange:g,dir:a,modal:u,children:t})})};Es.displayName=$r;var Rs="DropdownMenuTrigger",As=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,disabled:a=!1,...n}=e,i=Ss(Rs,t),d=ae(t);return r.jsx(to,{asChild:!0,...d,children:r.jsx(tr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:ss(s,i.triggerRef),onPointerDown:k(e.onPointerDown,u=>{!a&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:k(e.onKeyDown,u=>{a||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});As.displayName=Rs;var vo="DropdownMenuPortal",Ts=e=>{const{__scopeDropdownMenu:s,...t}=e,a=ae(s);return r.jsx(so,{...a,...t})};Ts.displayName=vo;var Fs="DropdownMenuContent",Is=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=Ss(Fs,t),i=ae(t),d=x.useRef(!1);return r.jsx(ao,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:s,onCloseAutoFocus:k(e.onCloseAutoFocus,u=>{d.current||n.triggerRef.current?.focus(),d.current=!1,u.preventDefault()}),onInteractOutside:k(e.onInteractOutside,u=>{const j=u.detail.originalEvent,b=j.button===0&&j.ctrlKey===!0,h=j.button===2||b;(!n.modal||h)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Is.displayName=Fs;var bo="DropdownMenuGroup",jo=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(no,{...n,...a,ref:s})});jo.displayName=bo;var wo="DropdownMenuLabel",Ps=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(oo,{...n,...a,ref:s})});Ps.displayName=wo;var Co="DropdownMenuItem",ks=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(io,{...n,...a,ref:s})});ks.displayName=Co;var No="DropdownMenuCheckboxItem",Vs=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(co,{...n,...a,ref:s})});Vs.displayName=No;var _o="DropdownMenuRadioGroup",Do=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(lo,{...n,...a,ref:s})});Do.displayName=_o;var Mo="DropdownMenuRadioItem",Os=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(uo,{...n,...a,ref:s})});Os.displayName=Mo;var So="DropdownMenuItemIndicator",Ls=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(fo,{...n,...a,ref:s})});Ls.displayName=So;var Eo="DropdownMenuSeparator",Us=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(mo,{...n,...a,ref:s})});Us.displayName=Eo;var Ro="DropdownMenuArrow",Ao=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(xo,{...n,...a,ref:s})});Ao.displayName=Ro;var To="DropdownMenuSubTrigger",Gs=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(ho,{...n,...a,ref:s})});Gs.displayName=To;var Fo="DropdownMenuSubContent",qs=x.forwardRef((e,s)=>{const{__scopeDropdownMenu:t,...a}=e,n=ae(t);return r.jsx(po,{...n,...a,ref:s,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qs.displayName=Fo;var Io=Es,Po=As,ko=Ts,Ks=Is,$s=Ps,Bs=ks,zs=Vs,Hs=Os,Xs=Ls,Ws=Us,Qs=Gs,Ys=qs;const Vo=Io,Oo=Po,Lo=x.forwardRef(({className:e,inset:s,children:t,...a},n)=>r.jsxs(Qs,{ref:n,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",s&&"pl-8",e),...a,children:[t,r.jsx(pa,{className:"ml-auto h-4 w-4"})]}));Lo.displayName=Qs.displayName;const Uo=x.forwardRef(({className:e,...s},t)=>r.jsx(Ys,{ref:t,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));Uo.displayName=Ys.displayName;const Js=x.forwardRef(({className:e,sideOffset:s=4,...t},a)=>r.jsx(ko,{children:r.jsx(Ks,{ref:a,sideOffset:s,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Js.displayName=Ks.displayName;const ot=x.forwardRef(({className:e,inset:s,...t},a)=>r.jsx(Bs,{ref:a,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s&&"pl-8",e),...t}));ot.displayName=Bs.displayName;const Go=x.forwardRef(({className:e,children:s,checked:t,...a},n)=>r.jsxs(zs,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:t,...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Xs,{children:r.jsx(ga,{className:"h-4 w-4"})})}),s]}));Go.displayName=zs.displayName;const qo=x.forwardRef(({className:e,children:s,...t},a)=>r.jsxs(Hs,{ref:a,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...t,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Xs,{children:r.jsx(ya,{className:"h-2 w-2 fill-current"})})}),s]}));qo.displayName=Hs.displayName;const Ko=x.forwardRef(({className:e,inset:s,...t},a)=>r.jsx($s,{ref:a,className:re("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...t}));Ko.displayName=$s.displayName;const Zs=x.forwardRef(({className:e,...s},t)=>r.jsx(Ws,{ref:t,className:re("-mx-1 my-1 h-px bg-muted",e),...s}));Zs.displayName=Ws.displayName;var hr=e=>e.type==="checkbox",Be=e=>e instanceof Date,se=e=>e==null;const ea=e=>typeof e=="object";var q=e=>!se(e)&&!Array.isArray(e)&&ea(e)&&!Be(e),ra=e=>q(e)&&e.target?hr(e.target)?e.target.checked:e.target.value:e,$o=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ta=(e,s)=>e.has($o(s)),Bo=e=>{const s=e.constructor&&e.constructor.prototype;return q(s)&&s.hasOwnProperty("isPrototypeOf")},ht=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function z(e){let s;const t=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(ht&&(e instanceof Blob||a))&&(t||q(e)))if(s=t?[]:{},!t&&!Bo(e))s=e;else for(const n in e)e.hasOwnProperty(n)&&(s[n]=z(e[n]));else return e;return s}var Br=e=>/^\w*$/.test(e),G=e=>e===void 0,pt=e=>Array.isArray(e)?e.filter(Boolean):[],gt=e=>pt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!q(e))return t;const a=(Br(s)?[s]:gt(s)).reduce((n,i)=>se(n)?n:n[i],e);return G(a)||a===e?G(e[s])?t:e[s]:a},ue=e=>typeof e=="boolean",P=(e,s,t)=>{let a=-1;const n=Br(s)?[s]:gt(s),i=n.length,d=i-1;for(;++a<i;){const u=n[a];let j=t;if(a!==d){const b=e[u];j=q(b)||Array.isArray(b)?b:isNaN(+n[a+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=j,e=e[u]}};const Pr={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_e={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yt=E.createContext(null);yt.displayName="HookFormContext";const zr=()=>E.useContext(yt),zo=e=>{const{children:s,...t}=e;return E.createElement(yt.Provider,{value:t},s)};var sa=(e,s,t,a=!0)=>{const n={defaultValues:s._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const d=i;return s._proxyFormState[d]!==_e.all&&(s._proxyFormState[d]=!a||_e.all),t&&(t[d]=!0),e[d]}});return n};const vt=typeof window<"u"?E.useLayoutEffect:E.useEffect;function Ho(e){const s=zr(),{control:t=s.control,disabled:a,name:n,exact:i}=e||{},[d,u]=E.useState(t._formState),j=E.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vt(()=>t._subscribe({name:n,formState:j.current,exact:i,callback:b=>{!a&&u({...t._formState,...b})}}),[n,a,i]),E.useEffect(()=>{j.current.isValid&&t._setValid(!0)},[t]),E.useMemo(()=>sa(d,t,j.current,!1),[d,t])}var Re=e=>typeof e=="string",aa=(e,s,t,a,n)=>Re(e)?(a&&s.watch.add(e),y(t,e,n)):Array.isArray(e)?e.map(i=>(a&&s.watch.add(i),y(t,i))):(a&&(s.watchAll=!0),t),it=e=>se(e)||!ea(e);function Oe(e,s,t=new WeakSet){if(it(e)||it(s))return e===s;if(Be(e)&&Be(s))return e.getTime()===s.getTime();const a=Object.keys(e),n=Object.keys(s);if(a.length!==n.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const i of a){const d=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const u=s[i];if(Be(d)&&Be(u)||q(d)&&q(u)||Array.isArray(d)&&Array.isArray(u)?!Oe(d,u,t):d!==u)return!1}}return!0}function Xo(e){const s=zr(),{control:t=s.control,name:a,defaultValue:n,disabled:i,exact:d,compute:u}=e||{},j=E.useRef(n),b=E.useRef(u),h=E.useRef(void 0);b.current=u;const g=E.useMemo(()=>t._getWatch(a,j.current),[t,a]),[p,R]=E.useState(b.current?b.current(g):g);return vt(()=>t._subscribe({name:a,formState:{values:!0},exact:d,callback:_=>{if(!i){const D=aa(a,t._names,_.values||t._formValues,!1,j.current);if(b.current){const V=b.current(D);Oe(V,h.current)||(R(V),h.current=V)}else R(D)}}}),[t,i,a,d]),E.useEffect(()=>t._removeUnmounted()),p}function Wo(e){const s=zr(),{name:t,disabled:a,control:n=s.control,shouldUnregister:i,defaultValue:d}=e,u=ta(n._names.array,t),j=E.useMemo(()=>y(n._formValues,t,y(n._defaultValues,t,d)),[n,t,d]),b=Xo({control:n,name:t,defaultValue:j,exact:!0}),h=Ho({control:n,name:t,exact:!0}),g=E.useRef(e),p=E.useRef(n.register(t,{...e.rules,value:b,...ue(e.disabled)?{disabled:e.disabled}:{}}));g.current=e;const R=E.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(h.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(h.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(h.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(h.validatingFields,t)},error:{enumerable:!0,get:()=>y(h.errors,t)}}),[h,t]),_=E.useCallback(C=>p.current.onChange({target:{value:ra(C),name:t},type:Pr.CHANGE}),[t]),D=E.useCallback(()=>p.current.onBlur({target:{value:y(n._formValues,t),name:t},type:Pr.BLUR}),[t,n._formValues]),V=E.useCallback(C=>{const U=y(n._fields,t);U&&C&&(U._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:O=>C.setCustomValidity(O),reportValidity:()=>C.reportValidity()})},[n._fields,t]),J=E.useMemo(()=>({name:t,value:b,...ue(a)||h.disabled?{disabled:h.disabled||a}:{},onChange:_,onBlur:D,ref:V}),[t,a,h.disabled,_,D,V,b]);return E.useEffect(()=>{const C=n._options.shouldUnregister||i;n.register(t,{...g.current.rules,...ue(g.current.disabled)?{disabled:g.current.disabled}:{}});const U=(O,F)=>{const de=y(n._fields,O);de&&de._f&&(de._f.mount=F)};if(U(t,!0),C){const O=z(y(n._options.defaultValues,t));P(n._defaultValues,t,O),G(y(n._formValues,t))&&P(n._formValues,t,O)}return!u&&n.register(t),()=>{(u?C&&!n._state.action:C)?n.unregister(t):U(t,!1)}},[t,n,u,i]),E.useEffect(()=>{n._setDisabledField({disabled:a,name:t})},[a,t,n]),E.useMemo(()=>({field:J,formState:h,fieldState:R}),[J,h,R])}const Qo=e=>e.render(Wo(e));var Yo=(e,s,t,a,n)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[a]:n||!0}}:{},cr=e=>Array.isArray(e)?e:[e],Gt=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}},le=e=>q(e)&&!Object.keys(e).length,bt=e=>e.type==="file",De=e=>typeof e=="function",kr=e=>{if(!ht)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},na=e=>e.type==="select-multiple",jt=e=>e.type==="radio",Jo=e=>jt(e)||hr(e),st=e=>kr(e)&&e.isConnected;function Zo(e,s){const t=s.slice(0,-1).length;let a=0;for(;a<t;)e=G(e)?a++:e[s[a++]];return e}function ei(e){for(const s in e)if(e.hasOwnProperty(s)&&!G(e[s]))return!1;return!0}function $(e,s){const t=Array.isArray(s)?s:Br(s)?[s]:gt(s),a=t.length===1?e:Zo(e,t),n=t.length-1,i=t[n];return a&&delete a[i],n!==0&&(q(a)&&le(a)||Array.isArray(a)&&ei(a))&&$(e,t.slice(0,-1)),e}var oa=e=>{for(const s in e)if(De(e[s]))return!0;return!1};function Vr(e,s={}){const t=Array.isArray(e);if(q(e)||t)for(const a in e)Array.isArray(e[a])||q(e[a])&&!oa(e[a])?(s[a]=Array.isArray(e[a])?[]:{},Vr(e[a],s[a])):se(e[a])||(s[a]=!0);return s}function ia(e,s,t){const a=Array.isArray(e);if(q(e)||a)for(const n in e)Array.isArray(e[n])||q(e[n])&&!oa(e[n])?G(s)||it(t[n])?t[n]=Array.isArray(e[n])?Vr(e[n],[]):{...Vr(e[n])}:ia(e[n],se(s)?{}:s[n],t[n]):t[n]=!Oe(e[n],s[n]);return t}var nr=(e,s)=>ia(e,s,Vr(s));const qt={value:!1,isValid:!1},Kt={value:!0,isValid:!0};var ca=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!G(e[0].attributes.value)?G(e[0].value)||e[0].value===""?Kt:{value:e[0].value,isValid:!0}:Kt:qt}return qt},la=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:a})=>G(e)?e:s?e===""?NaN:e&&+e:t&&Re(e)?new Date(e):a?a(e):e;const $t={isValid:!1,value:null};var da=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,$t):$t;function Bt(e){const s=e.ref;return bt(s)?s.files:jt(s)?da(e.refs).value:na(s)?[...s.selectedOptions].map(({value:t})=>t):hr(s)?ca(e.refs).value:la(G(s.value)?e.ref.value:s.value,e)}var ri=(e,s,t,a)=>{const n={};for(const i of e){const d=y(s,i);d&&P(n,i,d._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:a}},Or=e=>e instanceof RegExp,or=e=>G(e)?e:Or(e)?e.source:q(e)?Or(e.value)?e.value.source:e.value:e,zt=e=>({isOnSubmit:!e||e===_e.onSubmit,isOnBlur:e===_e.onBlur,isOnChange:e===_e.onChange,isOnAll:e===_e.all,isOnTouch:e===_e.onTouched});const Ht="AsyncFunction";var ti=e=>!!e&&!!e.validate&&!!(De(e.validate)&&e.validate.constructor.name===Ht||q(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===Ht)),si=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Xt=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const lr=(e,s,t,a)=>{for(const n of t||Object.keys(e)){const i=y(e,n);if(i){const{_f:d,...u}=i;if(d){if(d.refs&&d.refs[0]&&s(d.refs[0],n)&&!a)return!0;if(d.ref&&s(d.ref,d.name)&&!a)return!0;if(lr(u,s))break}else if(q(u)&&lr(u,s))break}}};function Wt(e,s,t){const a=y(e,t);if(a||Br(t))return{error:a,name:t};const n=t.split(".");for(;n.length;){const i=n.join("."),d=y(s,i),u=y(e,i);if(d&&!Array.isArray(d)&&t!==i)return{name:t};if(u&&u.type)return{name:i,error:u};if(u&&u.root&&u.root.type)return{name:`${i}.root`,error:u.root};n.pop()}return{name:t}}var ai=(e,s,t,a)=>{t(e);const{name:n,...i}=e;return le(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(d=>s[d]===(!a||_e.all))},ni=(e,s,t)=>!e||!s||e===s||cr(e).some(a=>a&&(t?a===s:a.startsWith(s)||s.startsWith(a))),oi=(e,s,t,a,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(s||e):(t?a.isOnBlur:n.isOnBlur)?!e:(t?a.isOnChange:n.isOnChange)?e:!0,ii=(e,s)=>!pt(y(e,s)).length&&$(e,s),ci=(e,s,t)=>{const a=cr(y(e,t));return P(a,"root",s[t]),P(e,t,a),e},Tr=e=>Re(e);function Qt(e,s,t="validate"){if(Tr(e)||Array.isArray(e)&&e.every(Tr)||ue(e)&&!e)return{type:t,message:Tr(e)?e:"",ref:s}}var rr=e=>q(e)&&!Or(e)?e:{value:e,message:""},Yt=async(e,s,t,a,n,i)=>{const{ref:d,refs:u,required:j,maxLength:b,minLength:h,min:g,max:p,pattern:R,validate:_,name:D,valueAsNumber:V,mount:J}=e._f,C=y(t,D);if(!J||s.has(D))return{};const U=u?u[0]:d,O=M=>{n&&U.reportValidity&&(U.setCustomValidity(ue(M)?"":M||""),U.reportValidity())},F={},de=jt(d),te=hr(d),Ae=de||te,B=(V||bt(d))&&G(d.value)&&G(C)||kr(d)&&d.value===""||C===""||Array.isArray(C)&&!C.length,ne=Yo.bind(null,D,a,F),W=(M,S,T,L=Ie.maxLength,H=Ie.minLength)=>{const Q=M?S:T;F[D]={type:M?L:H,message:Q,ref:d,...ne(M?L:H,Q)}};if(i?!Array.isArray(C)||!C.length:j&&(!Ae&&(B||se(C))||ue(C)&&!C||te&&!ca(u).isValid||de&&!da(u).isValid)){const{value:M,message:S}=Tr(j)?{value:!!j,message:j}:rr(j);if(M&&(F[D]={type:Ie.required,message:S,ref:U,...ne(Ie.required,S)},!a))return O(S),F}if(!B&&(!se(g)||!se(p))){let M,S;const T=rr(p),L=rr(g);if(!se(C)&&!isNaN(C)){const H=d.valueAsNumber||C&&+C;se(T.value)||(M=H>T.value),se(L.value)||(S=H<L.value)}else{const H=d.valueAsDate||new Date(C),Q=Z=>new Date(new Date().toDateString()+" "+Z),Y=d.type=="time",N=d.type=="week";Re(T.value)&&C&&(M=Y?Q(C)>Q(T.value):N?C>T.value:H>new Date(T.value)),Re(L.value)&&C&&(S=Y?Q(C)<Q(L.value):N?C<L.value:H<new Date(L.value))}if((M||S)&&(W(!!M,T.message,L.message,Ie.max,Ie.min),!a))return O(F[D].message),F}if((b||h)&&!B&&(Re(C)||i&&Array.isArray(C))){const M=rr(b),S=rr(h),T=!se(M.value)&&C.length>+M.value,L=!se(S.value)&&C.length<+S.value;if((T||L)&&(W(T,M.message,S.message),!a))return O(F[D].message),F}if(R&&!B&&Re(C)){const{value:M,message:S}=rr(R);if(Or(M)&&!C.match(M)&&(F[D]={type:Ie.pattern,message:S,ref:d,...ne(Ie.pattern,S)},!a))return O(S),F}if(_){if(De(_)){const M=await _(C,t),S=Qt(M,U);if(S&&(F[D]={...S,...ne(Ie.validate,S.message)},!a))return O(S.message),F}else if(q(_)){let M={};for(const S in _){if(!le(M)&&!a)break;const T=Qt(await _[S](C,t),U,S);T&&(M={...T,...ne(S,T.message)},O(T.message),a&&(F[D]=M))}if(!le(M)&&(F[D]={ref:U,...M},!a))return F}}return O(!0),F};const li={mode:_e.onSubmit,reValidateMode:_e.onChange,shouldFocusError:!0};function di(e={}){let s={...li,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:De(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},n=q(s.defaultValues)||q(s.values)?z(s.defaultValues||s.values)||{}:{},i=s.shouldUnregister?{}:z(n),d={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},j,b=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const p={array:Gt(),state:Gt()},R=s.criteriaMode===_e.all,_=o=>l=>{clearTimeout(b),b=setTimeout(o,l)},D=async o=>{if(!s.disabled&&(h.isValid||g.isValid||o)){const l=s.resolver?le((await te()).errors):await B(a,!0);l!==t.isValid&&p.state.next({isValid:l})}},V=(o,l)=>{!s.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&((o||Array.from(u.mount)).forEach(f=>{f&&(l?P(t.validatingFields,f,l):$(t.validatingFields,f))}),p.state.next({validatingFields:t.validatingFields,isValidating:!le(t.validatingFields)}))},J=(o,l=[],f,v,c=!0,m=!0)=>{if(v&&f&&!s.disabled){if(d.action=!0,m&&Array.isArray(y(a,o))){const w=f(y(a,o),v.argA,v.argB);c&&P(a,o,w)}if(m&&Array.isArray(y(t.errors,o))){const w=f(y(t.errors,o),v.argA,v.argB);c&&P(t.errors,o,w),ii(t.errors,o)}if((h.touchedFields||g.touchedFields)&&m&&Array.isArray(y(t.touchedFields,o))){const w=f(y(t.touchedFields,o),v.argA,v.argB);c&&P(t.touchedFields,o,w)}(h.dirtyFields||g.dirtyFields)&&(t.dirtyFields=nr(n,i)),p.state.next({name:o,isDirty:W(o,l),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else P(i,o,l)},C=(o,l)=>{P(t.errors,o,l),p.state.next({errors:t.errors})},U=o=>{t.errors=o,p.state.next({errors:t.errors,isValid:!1})},O=(o,l,f,v)=>{const c=y(a,o);if(c){const m=y(i,o,G(f)?y(n,o):f);G(m)||v&&v.defaultChecked||l?P(i,o,l?m:Bt(c._f)):T(o,m),d.mount&&D()}},F=(o,l,f,v,c)=>{let m=!1,w=!1;const A={name:o};if(!s.disabled){if(!f||v){(h.isDirty||g.isDirty)&&(w=t.isDirty,t.isDirty=A.isDirty=W(),m=w!==A.isDirty);const I=Oe(y(n,o),l);w=!!y(t.dirtyFields,o),I?$(t.dirtyFields,o):P(t.dirtyFields,o,!0),A.dirtyFields=t.dirtyFields,m=m||(h.dirtyFields||g.dirtyFields)&&w!==!I}if(f){const I=y(t.touchedFields,o);I||(P(t.touchedFields,o,f),A.touchedFields=t.touchedFields,m=m||(h.touchedFields||g.touchedFields)&&I!==f)}m&&c&&p.state.next(A)}return m?A:{}},de=(o,l,f,v)=>{const c=y(t.errors,o),m=(h.isValid||g.isValid)&&ue(l)&&t.isValid!==l;if(s.delayError&&f?(j=_(()=>C(o,f)),j(s.delayError)):(clearTimeout(b),j=null,f?P(t.errors,o,f):$(t.errors,o)),(f?!Oe(c,f):c)||!le(v)||m){const w={...v,...m&&ue(l)?{isValid:l}:{},errors:t.errors,name:o};t={...t,...w},p.state.next(w)}},te=async o=>{V(o,!0);const l=await s.resolver(i,s.context,ri(o||u.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return V(o),l},Ae=async o=>{const{errors:l}=await te(o);if(o)for(const f of o){const v=y(l,f);v?P(t.errors,f,v):$(t.errors,f)}else t.errors=l;return l},B=async(o,l,f={valid:!0})=>{for(const v in o){const c=o[v];if(c){const{_f:m,...w}=c;if(m){const A=u.array.has(m.name),I=c._f&&ti(c._f);I&&h.validatingFields&&V([v],!0);const he=await Yt(c,u.disabled,i,R,s.shouldUseNativeValidation&&!l,A);if(I&&h.validatingFields&&V([v]),he[m.name]&&(f.valid=!1,l))break;!l&&(y(he,m.name)?A?ci(t.errors,he,m.name):P(t.errors,m.name,he[m.name]):$(t.errors,m.name))}!le(w)&&await B(w,l,f)}}return f.valid},ne=()=>{for(const o of u.unMount){const l=y(a,o);l&&(l._f.refs?l._f.refs.every(f=>!st(f)):!st(l._f.ref))&&K(o)}u.unMount=new Set},W=(o,l)=>!s.disabled&&(o&&l&&P(i,o,l),!Oe(Z(),n)),M=(o,l,f)=>aa(o,u,{...d.mount?i:G(l)?n:Re(o)?{[o]:l}:l},f,l),S=o=>pt(y(d.mount?i:n,o,s.shouldUnregister?y(n,o,[]):[])),T=(o,l,f={})=>{const v=y(a,o);let c=l;if(v){const m=v._f;m&&(!m.disabled&&P(i,o,la(l,m)),c=kr(m.ref)&&se(l)?"":l,na(m.ref)?[...m.ref.options].forEach(w=>w.selected=c.includes(w.value)):m.refs?hr(m.ref)?m.refs.forEach(w=>{(!w.defaultChecked||!w.disabled)&&(Array.isArray(c)?w.checked=!!c.find(A=>A===w.value):w.checked=c===w.value||!!c)}):m.refs.forEach(w=>w.checked=w.value===c):bt(m.ref)?m.ref.value="":(m.ref.value=c,m.ref.type||p.state.next({name:o,values:z(i)})))}(f.shouldDirty||f.shouldTouch)&&F(o,c,f.shouldTouch,f.shouldDirty,!0),f.shouldValidate&&N(o)},L=(o,l,f)=>{for(const v in l){if(!l.hasOwnProperty(v))return;const c=l[v],m=o+"."+v,w=y(a,m);(u.array.has(o)||q(c)||w&&!w._f)&&!Be(c)?L(m,c,f):T(m,c,f)}},H=(o,l,f={})=>{const v=y(a,o),c=u.array.has(o),m=z(l);P(i,o,m),c?(p.array.next({name:o,values:z(i)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&f.shouldDirty&&p.state.next({name:o,dirtyFields:nr(n,i),isDirty:W(o,m)})):v&&!v._f&&!se(m)?L(o,m,f):T(o,m,f),Xt(o,u)&&p.state.next({...t,name:o}),p.state.next({name:d.mount?o:void 0,values:z(i)})},Q=async o=>{d.mount=!0;const l=o.target;let f=l.name,v=!0;const c=y(a,f),m=I=>{v=Number.isNaN(I)||Be(I)&&isNaN(I.getTime())||Oe(I,y(i,f,I))},w=zt(s.mode),A=zt(s.reValidateMode);if(c){let I,he;const vr=l.type?Bt(c._f):ra(o),Le=o.type===Pr.BLUR||o.type===Pr.FOCUS_OUT,ma=!si(c._f)&&!s.resolver&&!y(t.errors,f)&&!c._f.deps||oi(Le,y(t.touchedFields,f),t.isSubmitted,A,w),Qr=Xt(f,u,Le);P(i,f,vr),Le?(c._f.onBlur&&c._f.onBlur(o),j&&j(0)):c._f.onChange&&c._f.onChange(o);const Yr=F(f,vr,Le),xa=!le(Yr)||Qr;if(!Le&&p.state.next({name:f,type:o.type,values:z(i)}),ma)return(h.isValid||g.isValid)&&(s.mode==="onBlur"?Le&&D():Le||D()),xa&&p.state.next({name:f,...Qr?{}:Yr});if(!Le&&Qr&&p.state.next({...t}),s.resolver){const{errors:Ct}=await te([f]);if(m(vr),v){const ha=Wt(t.errors,a,f),Nt=Wt(Ct,a,ha.name||f);I=Nt.error,f=Nt.name,he=le(Ct)}}else V([f],!0),I=(await Yt(c,u.disabled,i,R,s.shouldUseNativeValidation))[f],V([f]),m(vr),v&&(I?he=!1:(h.isValid||g.isValid)&&(he=await B(a,!0)));v&&(c._f.deps&&N(c._f.deps),de(f,he,I,Yr))}},Y=(o,l)=>{if(y(t.errors,l)&&o.focus)return o.focus(),1},N=async(o,l={})=>{let f,v;const c=cr(o);if(s.resolver){const m=await Ae(G(o)?o:c);f=le(m),v=o?!c.some(w=>y(m,w)):f}else o?(v=(await Promise.all(c.map(async m=>{const w=y(a,m);return await B(w&&w._f?{[m]:w}:w)}))).every(Boolean),!(!v&&!t.isValid)&&D()):v=f=await B(a);return p.state.next({...!Re(o)||(h.isValid||g.isValid)&&f!==t.isValid?{}:{name:o},...s.resolver||!o?{isValid:f}:{},errors:t.errors}),l.shouldFocus&&!v&&lr(a,Y,o?c:u.mount),v},Z=o=>{const l={...d.mount?i:n};return G(o)?l:Re(o)?y(l,o):o.map(f=>y(l,f))},oe=(o,l)=>({invalid:!!y((l||t).errors,o),isDirty:!!y((l||t).dirtyFields,o),error:y((l||t).errors,o),isValidating:!!y(t.validatingFields,o),isTouched:!!y((l||t).touchedFields,o)}),me=o=>{o&&cr(o).forEach(l=>$(t.errors,l)),p.state.next({errors:o?t.errors:{}})},Se=(o,l,f)=>{const v=(y(a,o,{_f:{}})._f||{}).ref,c=y(t.errors,o)||{},{ref:m,message:w,type:A,...I}=c;P(t.errors,o,{...I,...l,ref:v}),p.state.next({name:o,errors:t.errors,isValid:!1}),f&&f.shouldFocus&&v&&v.focus&&v.focus()},Ee=(o,l)=>De(o)?p.state.subscribe({next:f=>"values"in f&&o(M(void 0,l),f)}):M(o,l,!0),Te=o=>p.state.subscribe({next:l=>{ni(o.name,l.name,o.exact)&&ai(l,o.formState||h,Wr,o.reRenderRoot)&&o.callback({values:{...i},...t,...l,defaultValues:n})}}).unsubscribe,we=o=>(d.mount=!0,g={...g,...o.formState},Te({...o,formState:g})),K=(o,l={})=>{for(const f of o?cr(o):u.mount)u.mount.delete(f),u.array.delete(f),l.keepValue||($(a,f),$(i,f)),!l.keepError&&$(t.errors,f),!l.keepDirty&&$(t.dirtyFields,f),!l.keepTouched&&$(t.touchedFields,f),!l.keepIsValidating&&$(t.validatingFields,f),!s.shouldUnregister&&!l.keepDefaultValue&&$(n,f);p.state.next({values:z(i)}),p.state.next({...t,...l.keepDirty?{isDirty:W()}:{}}),!l.keepIsValid&&D()},ee=({disabled:o,name:l})=>{(ue(o)&&d.mount||o||u.disabled.has(l))&&(o?u.disabled.add(l):u.disabled.delete(l))},xe=(o,l={})=>{let f=y(a,o);const v=ue(l.disabled)||ue(s.disabled);return P(a,o,{...f||{},_f:{...f&&f._f?f._f:{ref:{name:o}},name:o,mount:!0,...l}}),u.mount.add(o),f?ee({disabled:ue(l.disabled)?l.disabled:s.disabled,name:o}):O(o,!0,l.value),{...v?{disabled:l.disabled||s.disabled}:{},...s.progressive?{required:!!l.required,min:or(l.min),max:or(l.max),minLength:or(l.minLength),maxLength:or(l.maxLength),pattern:or(l.pattern)}:{},name:o,onChange:Q,onBlur:Q,ref:c=>{if(c){xe(o,l),f=y(a,o);const m=G(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,w=Jo(m),A=f._f.refs||[];if(w?A.find(I=>I===m):m===f._f.ref)return;P(a,o,{_f:{...f._f,...w?{refs:[...A.filter(st),m,...Array.isArray(y(n,o))?[{}]:[]],ref:{type:m.type,name:o}}:{ref:m}}}),O(o,!1,void 0,m)}else f=y(a,o,{}),f._f&&(f._f.mount=!1),(s.shouldUnregister||l.shouldUnregister)&&!(ta(u.array,o)&&d.action)&&u.unMount.add(o)}}},Ke=()=>s.shouldFocusError&&lr(a,Y,u.mount),pr=o=>{ue(o)&&(p.state.next({disabled:o}),lr(a,(l,f)=>{const v=y(a,f);v&&(l.disabled=v._f.disabled||o,Array.isArray(v._f.refs)&&v._f.refs.forEach(c=>{c.disabled=v._f.disabled||o}))},0,!1))},$e=(o,l)=>async f=>{let v;f&&(f.preventDefault&&f.preventDefault(),f.persist&&f.persist());let c=z(i);if(p.state.next({isSubmitting:!0}),s.resolver){const{errors:m,values:w}=await te();t.errors=m,c=z(w)}else await B(a);if(u.disabled.size)for(const m of u.disabled)$(c,m);if($(t.errors,"root"),le(t.errors)){p.state.next({errors:{}});try{await o(c,f)}catch(m){v=m}}else l&&await l({...t.errors},f),Ke(),setTimeout(Ke);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:le(t.errors)&&!v,submitCount:t.submitCount+1,errors:t.errors}),v)throw v},Xr=(o,l={})=>{y(a,o)&&(G(l.defaultValue)?H(o,z(y(n,o))):(H(o,l.defaultValue),P(n,o,z(l.defaultValue))),l.keepTouched||$(t.touchedFields,o),l.keepDirty||($(t.dirtyFields,o),t.isDirty=l.defaultValue?W(o,z(y(n,o))):W()),l.keepError||($(t.errors,o),h.isValid&&D()),p.state.next({...t}))},sr=(o,l={})=>{const f=o?z(o):n,v=z(f),c=le(o),m=c?n:v;if(l.keepDefaultValues||(n=f),!l.keepValues){if(l.keepDirtyValues){const w=new Set([...u.mount,...Object.keys(nr(n,i))]);for(const A of Array.from(w))y(t.dirtyFields,A)?P(m,A,y(i,A)):H(A,y(m,A))}else{if(ht&&G(o))for(const w of u.mount){const A=y(a,w);if(A&&A._f){const I=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(kr(I)){const he=I.closest("form");if(he){he.reset();break}}}}if(l.keepFieldsRef)for(const w of u.mount)H(w,y(m,w));else a={}}i=s.shouldUnregister?l.keepDefaultValues?z(n):{}:z(m),p.array.next({values:{...m}}),p.state.next({values:{...m}})}u={mount:l.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!h.isValid||!!l.keepIsValid||!!l.keepDirtyValues,d.watch=!!s.shouldUnregister,p.state.next({submitCount:l.keepSubmitCount?t.submitCount:0,isDirty:c?!1:l.keepDirty?t.isDirty:!!(l.keepDefaultValues&&!Oe(o,n)),isSubmitted:l.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:l.keepDirtyValues?l.keepDefaultValues&&i?nr(n,i):t.dirtyFields:l.keepDefaultValues&&o?nr(n,o):l.keepDirty?t.dirtyFields:{},touchedFields:l.keepTouched?t.touchedFields:{},errors:l.keepErrors?t.errors:{},isSubmitSuccessful:l.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(o,l)=>sr(De(o)?o(i):o,l),gr=(o,l={})=>{const f=y(a,o),v=f&&f._f;if(v){const c=v.refs?v.refs[0]:v.ref;c.focus&&(c.focus(),l.shouldSelect&&De(c.select)&&c.select())}},Wr=o=>{t={...t,...o}},yr={control:{register:xe,unregister:K,getFieldState:oe,handleSubmit:$e,setError:Se,_subscribe:Te,_runSchema:te,_focusError:Ke,_getWatch:M,_getDirty:W,_setValid:D,_setFieldArray:J,_setDisabledField:ee,_setErrors:U,_getFieldArray:S,_reset:sr,_resetDefaultValues:()=>De(s.defaultValues)&&s.defaultValues().then(o=>{Qe(o,s.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:pr,_subjects:p,_proxyFormState:h,get _fields(){return a},get _formValues(){return i},get _state(){return d},set _state(o){d=o},get _defaultValues(){return n},get _names(){return u},set _names(o){u=o},get _formState(){return t},get _options(){return s},set _options(o){s={...s,...o}}},subscribe:we,trigger:N,register:xe,handleSubmit:$e,watch:Ee,setValue:H,getValues:Z,reset:Qe,resetField:Xr,clearErrors:me,unregister:K,setError:Se,setFocus:gr,getFieldState:oe};return{...yr,formControl:yr}}function Jt(e={}){const s=E.useRef(void 0),t=E.useRef(void 0),[a,n]=E.useState({isDirty:!1,isValidating:!1,isLoading:De(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:De(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:a},e.defaultValues&&!De(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...u}=di(e);s.current={...u,formState:a}}const i=s.current.control;return i._options=e,vt(()=>{const d=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(u=>({...u,isReady:!0})),i._formState.isReady=!0,d},[i]),E.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),E.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),E.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),E.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),E.useEffect(()=>{if(i._proxyFormState.isDirty){const d=i._getDirty();d!==a.isDirty&&i._subjects.state.next({isDirty:d})}},[i,a.isDirty]),E.useEffect(()=>{e.values&&!Oe(e.values,t.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),t.current=e.values,n(d=>({...d}))):i._resetDefaultValues()},[i,e.values]),E.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),s.current.formState=sa(a,i),s.current}const Zt=zo,ua=x.createContext({}),Ge=({...e})=>r.jsx(ua.Provider,{value:{name:e.name},children:r.jsx(Qo,{...e})}),Hr=()=>{const e=x.useContext(ua),s=x.useContext(fa),{getFieldState:t,formState:a}=zr(),n=t(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=s;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},fa=x.createContext({}),Pe=x.forwardRef(({className:e,...s},t)=>{const a=x.useId();return r.jsx(fa.Provider,{value:{id:a},children:r.jsx("div",{ref:t,className:re("space-y-2",e),...s})})});Pe.displayName="FormItem";const ke=x.forwardRef(({className:e,...s},t)=>{const{error:a,formItemId:n}=Hr();return r.jsx(Wa,{ref:t,className:re(a&&"text-destructive",e),htmlFor:n,...s})});ke.displayName="FormLabel";const Ve=x.forwardRef(({...e},s)=>{const{error:t,formItemId:a,formDescriptionId:n,formMessageId:i}=Hr();return r.jsx(Ua,{ref:s,id:a,"aria-describedby":t?`${n} ${i}`:`${n}`,"aria-invalid":!!t,...e})});Ve.displayName="FormControl";const ui=x.forwardRef(({className:e,...s},t)=>{const{formDescriptionId:a}=Hr();return r.jsx("p",{ref:t,id:a,className:re("text-sm text-muted-foreground",e),...s})});ui.displayName="FormDescription";const qe=x.forwardRef(({className:e,children:s,...t},a)=>{const{error:n,formMessageId:i}=Hr(),d=n?String(n?.message):s;return d?r.jsx("p",{ref:a,id:i,className:re("text-sm font-medium text-destructive",e),...t,children:d}):null});qe.displayName="FormMessage";const Rr=["#F97316","#10B981","#6366F1","#F59E0B","#EC4899","#22D3EE"],be=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),at=e=>`${e.toFixed(1)}%`,Pi=()=>{const{data:e,isLoading:s,refetch:t}=pn(),{data:a,isLoading:n,refetch:i}=gn(),{data:d,isLoading:u,refetch:j}=jn(),{data:b,refetch:h}=_n(),{mutateAsync:g,isPending:p}=yn(),{mutateAsync:R,isPending:_}=vn(),{mutateAsync:D}=bn(),{mutateAsync:V,isPending:J}=wn(),{mutateAsync:C,isPending:U}=Cn(),{mutateAsync:O}=Nn(),{mutateAsync:F}=Dn(),[de,te]=x.useState("resumo"),[Ae,B]=x.useState(!1),[ne,W]=x.useState(!1),[M,S]=x.useState(!1),[T,L]=x.useState(!1),[H,Q]=x.useState(!1),[Y,N]=x.useState(null),[Z,oe]=x.useState(null),[me,Se]=x.useState(null),[Ee,Te]=x.useState(null),[we,K]=x.useState({}),ee=Jt({defaultValues:{descricao:"",categoriaId:"",tipo:"despesa",valor:0,data:new Date().toISOString().split("T")[0]}}),xe=Jt({defaultValues:{nome:"",tipo:"gasto",percentual:0}}),Ke=x.useMemo(()=>e?.distribuicao?.length?e.distribuicao:[{categoria:"Gastos pessoais",valor:0},{categoria:"Investimentos",valor:0},{categoria:"Aportes de caixa",valor:0}],[e?.distribuicao]),pr=e?.metas??[],$e=e?.alertas??[],Xr=x.useMemo(()=>b?.metas?.principal?.progresso??0,[b?.metas]),sr=x.useMemo(()=>b?.layout?.ultimoSync??null,[b?.layout]),Qe=x.useCallback(c=>{c?(N(c),ee.reset({descricao:c.descricao||"",categoriaId:c.categoriaId||"",tipo:c.tipo,valor:Math.abs(c.valor||0),data:(c.data||"").split("T")[0]||new Date().toISOString().split("T")[0]})):(N(null),ee.reset({descricao:"",categoriaId:d?.[0]?.id||"",tipo:"despesa",valor:0,data:new Date().toISOString().split("T")[0]})),W(!0)},[d,ee]),gr=x.useCallback(c=>{c?(oe(c),xe.reset({nome:c.nome,tipo:c.tipo,percentual:c.percentual??0})):(oe(null),xe.reset({nome:"",tipo:"gasto",percentual:0})),S(!0)},[xe]),Wr=x.useCallback(()=>{const c={};(d??[]).forEach(m=>{c[m.id]=m.percentual??0}),K(c),L(!0)},[d]),wt=x.useCallback(async()=>{try{B(!0),await Promise.all([t(),i(),j(),h()]),ie.success("Dados sincronizados com sucesso!"),await F({layout:{...b?.layout??{},ultimoSync:new Date().toISOString()}})}catch(c){console.error(c),ie.error("No foi possvel sincronizar agora. Tente novamente mais tarde.")}finally{B(!1)}},[b?.layout,j,h,t,i,F]),yr=x.useCallback(async c=>{try{const m={...c,valor:Number(c.valor),categoriaId:c.categoriaId||null};Y?(await R({id:Y.id,data:m}),ie.success("Transao atualizada com sucesso!")):(await g(m),ie.success("Transao criada com sucesso!")),W(!1),N(null)}catch(m){console.error(m),ie.error("Erro ao salvar transao.")}},[g,Y,R]),o=x.useCallback(async c=>{try{const m={...c,percentual:Number(c.percentual)};Z?(await C({id:Z.id,data:m}),ie.success("Categoria atualizada!")):(await V(m),ie.success("Categoria criada!")),S(!1),oe(null)}catch(m){console.error(m),ie.error("Erro ao salvar categoria.")}},[Z,V,C]),l=x.useCallback(async()=>{if(!d?.length){L(!1);return}try{await Promise.all(d.map(c=>C({id:c.id,data:{percentual:Number(we[c.id]??c.percentual??0)}}))),ie.success("Percentuais atualizados!"),L(!1)}catch(c){console.error(c),ie.error("No foi possvel atualizar os percentuais.")}},[d,we,C]),f=x.useCallback(async()=>{if(me)try{await D(me.id),ie.success("Transao removida!")}catch(c){console.error(c),ie.error("Erro ao remover transao.")}finally{Se(null)}},[D,me]),v=x.useCallback(async()=>{if(Ee)try{await O(Ee.id),ie.success("Categoria removida!")}catch(c){console.error(c),ie.error("Erro ao remover categoria.")}finally{Te(null)}},[Ee,O]);return r.jsxs(Ea,{children:[r.jsxs("div",{className:"space-y-10",children:[r.jsxs("section",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx(Jr,{className:"bg-primary/10 text-primary px-4 py-1 text-xs tracking-[0.3em] uppercase",children:"Gestor de Caixa"}),r.jsx("h1",{className:"mt-4 text-3xl font-bold tracking-tight md:text-4xl",children:"Controle financeiro centralizado e personalizvel"}),r.jsx("p",{className:"mt-2 max-w-2xl text-sm text-muted-foreground md:text-base",children:"Acompanhe automaticamente depsitos, saques e lucros provenientes da Optify, combine com suas transaes pessoais e distribua o capital entre categorias personalizadas."})]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs(X,{variant:"outline",className:"border-primary/30 text-primary hover:bg-primary/10",onClick:wt,disabled:Ae,children:[Ae?r.jsx(br,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(va,{className:"mr-2 h-4 w-4"}),Ae?"Sincronizando...":"Sincronizar agora"]}),r.jsxs(X,{className:"bg-primary px-5 text-primary-foreground hover:bg-primary/90",onClick:()=>Qe(),children:[r.jsx(jr,{className:"mr-2 h-4 w-4"}),"Nova transao"]}),r.jsxs(X,{variant:"secondary",className:"gap-2",onClick:()=>Q(!0),children:[r.jsx(ba,{className:"h-4 w-4"}),"Personalizar painel"]})]})]}),r.jsx("section",{children:r.jsxs(Ka,{value:de,onValueChange:te,className:"space-y-6",children:[r.jsxs($a,{className:"w-full justify-start gap-2 overflow-x-auto",children:[r.jsx(Ye,{value:"resumo",children:"Resumo financeiro"}),r.jsx(Ye,{value:"distribuicao",children:"Diviso do caixa"}),r.jsx(Ye,{value:"metas",children:"Metas & Alertas"}),r.jsx(Ye,{value:"transacoes",children:"Transaes pessoais"}),r.jsx(Ye,{value:"categorias",children:"Categorias & regras"}),r.jsx(Ye,{value:"layout",children:"Layout & personalizao"})]}),r.jsxs(Je,{value:"resumo",className:"space-y-6",children:[r.jsx("div",{className:"grid gap-4 lg:grid-cols-4 sm:grid-cols-2",children:s?Array.from({length:4}).map((c,m)=>r.jsxs(ce,{className:"p-6",children:[r.jsx(er,{className:"h-4 w-24"}),r.jsx(er,{className:"mt-4 h-8 w-32"}),r.jsx(er,{className:"mt-6 h-3 w-full"})]},m)):r.jsxs(r.Fragment,{children:[r.jsxs(ce,{className:"border-primary/20 bg-primary/5",children:[r.jsxs(pe,{children:[r.jsx(ge,{children:"Caixa atual"}),r.jsx(ye,{className:"text-3xl font-bold text-primary",children:be(e?.caixaAtual??0)})]}),r.jsx(ve,{children:r.jsx("p",{className:"text-xs text-muted-foreground",children:"Inclui depsitos, saques e lucros sincronizados da Optify."})})]}),r.jsxs(ce,{children:[r.jsxs(pe,{children:[r.jsx(ge,{children:"Lucro dirio"}),r.jsx(ye,{children:be(e?.lucroDiario??0)})]}),r.jsx(ve,{className:"text-sm text-muted-foreground",children:"Atualizado com base nas operaes registradas at o momento."})]}),r.jsxs(ce,{children:[r.jsxs(pe,{children:[r.jsx(ge,{children:"Lucro mensal"}),r.jsx(ye,{children:be(e?.lucroMensal??0)})]}),r.jsx(ve,{className:"text-sm text-muted-foreground",children:"Inclui resultados operacionais + transaes pessoais."})]}),r.jsxs(ce,{children:[r.jsxs(pe,{children:[r.jsx(ge,{children:"Gastos pessoais"}),r.jsx(ye,{children:be(e?.totalGastosPessoais??0)})]}),r.jsx(ve,{className:"text-sm text-muted-foreground",children:"Controlados manualmente pelo usurio dentro do gestor."})]})]})}),r.jsxs(ce,{className:"border-border/60",children:[r.jsxs(pe,{children:[r.jsx(ye,{children:"Evoluo do caixa"}),r.jsx(ge,{children:"Histrico consolidado das movimentaes sincronizadas diariamente."})]}),r.jsxs(ve,{className:"grid gap-6 lg:grid-cols-[1.2fr_1fr]",children:[r.jsxs("div",{className:"rounded-xl border border-border/50 bg-muted/30 p-6",children:[r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-widest text-muted-foreground",children:"Via Optify (operaes)"}),r.jsx("p",{className:"mt-2 text-xl font-semibold text-foreground",children:be((e?.caixaAtual??0)-(e?.saldoPessoal??0))}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Depsitos, saques e lucros registrados automaticamente."})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-widest text-muted-foreground",children:"Saldo pessoal"}),r.jsx("p",{className:"mt-2 text-xl font-semibold text-foreground",children:be(e?.saldoPessoal??0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Entradas e sadas cadastradas manualmente nas categorias pessoais."})]})]}),r.jsx("div",{className:"mt-6 rounded-lg border border-border/60 bg-background/70 p-4 text-sm text-muted-foreground",children:r.jsx("p",{children:"A consolidao diria considera tambm metas e alertas definidos pelo usurio. Configure regras dinmicas para receber notificaes proativas sobre seus resultados."})})]}),r.jsxs("div",{className:"rounded-xl border border-border/50 bg-muted/30 p-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Indicadores rpidos"}),r.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Resultado da semana"}),r.jsx("span",{className:re((e?.lucroDiario??0)>=0?"text-emerald-500":"text-red-500","font-semibold"),children:be((e?.lucroDiario??0)*5)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Meta principal"}),r.jsx("span",{className:"text-muted-foreground",children:at(Xr)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Alertas ativos"}),r.jsx("span",{className:re($e.length?"text-amber-500":"text-muted-foreground"),children:$e.length})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"ltima sincronizao"}),r.jsx("span",{className:"text-muted-foreground text-xs",children:sr?Lt(new Date(sr),{locale:Ot,addSuffix:!0}):"h poucos minutos"})]})]})]})]})]})]}),r.jsx(Je,{value:"distribuicao",children:r.jsxs(ce,{className:"border-border/60",children:[r.jsxs(pe,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{children:"Como o caixa est distribudo"}),r.jsx(ge,{children:"Ajuste os percentuais de alocao por categoria e acompanhe o saldo disponvel."})]}),r.jsxs(X,{variant:"outline",className:"gap-2",onClick:Wr,children:[r.jsx(ja,{className:"h-4 w-4"}),"Ajustar percentuais"]})]}),r.jsxs(ve,{className:"grid gap-6 lg:grid-cols-[1.2fr_1fr]",children:[r.jsx("div",{className:"h-80",children:r.jsx(tn,{width:"100%",height:"100%",children:r.jsxs(sn,{children:[r.jsx(an,{data:Ke,dataKey:"valor",nameKey:"categoria",innerRadius:"55%",outerRadius:"85%",paddingAngle:4,children:Ke.map((c,m)=>r.jsx(nn,{fill:Rr[m%Rr.length]},`cell-${c.categoria}`))}),r.jsx(on,{formatter:(c,m,w)=>[be(c),w?.payload?.categoria??""]})]})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"rounded-xl border border-border/50 bg-muted/30 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Distribuio atual"}),r.jsx("div",{className:"mt-4 space-y-3 text-sm",children:Ke.map((c,m)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx("span",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:Rr[m%Rr.length]}}),c.categoria]}),r.jsxs("span",{className:"font-semibold",children:[be(c.valor)," ",r.jsx("span",{className:"text-xs text-muted-foreground",children:c.percentual?at(c.percentual):""})]})]},c.categoria))})]}),r.jsx("div",{className:"rounded-xl border border-border/50 bg-muted/30 p-4 text-sm text-muted-foreground",children:r.jsx("p",{children:"Este grfico combina automaticamente os valores calculados via Optify com as transaes pessoais registradas. Ajuste as categorias para refletir seu plano financeiro atual."})})]})]})]})}),r.jsx(Je,{value:"metas",children:r.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.3fr_1fr]",children:[r.jsxs(ce,{className:"border-border/60",children:[r.jsxs(pe,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{children:"Metas financeiras personalizadas"}),r.jsx(ge,{children:"Defina objetivos e acompanhe o progresso ao longo do ms."})]}),r.jsxs(X,{className:"bg-primary px-5 text-primary-foreground hover:bg-primary/90",children:[r.jsx(jr,{className:"mr-2 h-4 w-4"}),"Nova meta"]})]}),r.jsx(ve,{className:"space-y-4",children:pr.length===0?r.jsx("div",{className:"rounded-lg border border-dashed border-border/60 p-8 text-center text-sm text-muted-foreground",children:"Nenhuma meta registrada ainda. Crie uma meta para acompanhar objetivos de crescimento do caixa, aportes ou reduo de gastos pessoais."}):pr.map(c=>{const m=Math.min(c.progresso/(c.objetivo||1)*100,100);return r.jsxs("div",{className:"rounded-xl border border-border/60 bg-background/80 p-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold",children:c.titulo}),c.descricao&&r.jsx("p",{className:"text-xs text-muted-foreground",children:c.descricao})]}),r.jsx(Jr,{variant:c.status==="atingida"?"default":c.status==="atrasada"?"destructive":"secondary",children:c.status==="atingida"?"Atingida":c.status==="atrasada"?"Atrasada":"Em andamento"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[r.jsx("span",{children:"Progresso"}),r.jsxs("span",{children:[be(c.progresso)," / ",be(c.objetivo)]})]}),r.jsx("div",{className:"mt-2 h-2 w-full overflow-hidden rounded-full bg-muted",children:r.jsx("div",{className:"h-full rounded-full bg-primary transition-all",style:{width:`${m}%`}})})]})]},c.id)})})]}),r.jsxs(ce,{className:"border-border/60",children:[r.jsxs(pe,{children:[r.jsx(ye,{children:"Alertas inteligentes"}),r.jsx(ge,{children:"Regras automatizadas que reagem s suas condies financeiras."})]}),r.jsx(ve,{className:"space-y-4",children:$e.length===0?r.jsx("div",{className:"rounded-lg border border-dashed border-border/60 p-6 text-center text-sm text-muted-foreground",children:"Nenhum alerta ativo. Configure regras condicionais para ser avisado quando metas no forem atingidas ou quando houver desvios de oramento."}):$e.map(c=>r.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-amber-500/40 bg-amber-500/5 p-4",children:[r.jsx(wa,{className:"h-5 w-5 text-amber-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:c.mensagem}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["gerado ",Lt(new Date(c.criadoEm),{locale:Ot,addSuffix:!0})]})]})]},c.id))})]})]})}),r.jsx(Je,{value:"transacoes",children:r.jsxs(ce,{className:"border-border/60",children:[r.jsxs(pe,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{children:"Transaes pessoais"}),r.jsx(ge,{children:"Entradas e sadas controladas manualmente. Integram ao resultado dirio e mensal."})]}),r.jsxs(X,{className:"bg-primary px-5 text-primary-foreground hover:bg-primary/90",onClick:()=>Qe(),children:[r.jsx(jr,{className:"mr-2 h-4 w-4"}),"Registrar transao"]})]}),r.jsx(ve,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ba,{children:[r.jsx(za,{children:r.jsxs(wr,{children:[r.jsx(Ze,{children:"Data"}),r.jsx(Ze,{children:"Descrio"}),r.jsx(Ze,{children:"Categoria"}),r.jsx(Ze,{children:"Tipo"}),r.jsx(Ze,{className:"text-right",children:"Valor"}),r.jsx(Ze,{})]})}),r.jsx(Ha,{children:n?Array.from({length:5}).map((c,m)=>r.jsx(wr,{children:r.jsx(Ue,{colSpan:6,children:r.jsx(er,{className:"h-6 w-full"})})},m)):a&&a.length>0?a.map(c=>r.jsxs(wr,{children:[r.jsx(Ue,{children:new Date(c.data).toLocaleDateString("pt-BR")}),r.jsx(Ue,{className:"max-w-xs truncate",children:c.descricao}),r.jsx(Ue,{children:d?.find(m=>m.id===c.categoriaId)?.nome??""}),r.jsx(Ue,{children:r.jsx(Jr,{variant:c.tipo==="receita"?"default":"secondary",children:c.tipo==="receita"?"Receita":"Despesa"})}),r.jsx(Ue,{className:re("text-right font-semibold",c.tipo==="receita"?"text-emerald-500":"text-red-500"),children:be(c.tipo==="receita"?c.valor:c.valor*-1)}),r.jsx(Ue,{className:"text-right",children:r.jsxs(Vo,{children:[r.jsx(Oo,{asChild:!0,children:r.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",children:r.jsx(Ca,{className:"h-4 w-4"})})}),r.jsxs(Js,{align:"end",children:[r.jsxs(ot,{onClick:()=>Qe(c),children:[r.jsx(_t,{className:"mr-2 h-4 w-4"}),"Editar"]}),r.jsx(Zs,{}),r.jsxs(ot,{className:"text-red-600 focus:text-red-600",onClick:()=>Se(c),children:[r.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})})]},c.id)):r.jsx(wr,{children:r.jsx(Ue,{colSpan:6,className:"py-10 text-center text-sm text-muted-foreground",children:"Ainda no existem transaes pessoais cadastradas. Utilize o boto acima para registrar movimentaes adicionais."})})})]})})})]})}),r.jsx(Je,{value:"categorias",children:r.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.2fr_1fr]",children:[r.jsxs(ce,{className:"border-border/60",children:[r.jsxs(pe,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{children:"Categorias personalizadas"}),r.jsx(ge,{children:"Estruture o oramento com categorias e percentuais adaptados  sua realidade."})]}),r.jsxs(X,{className:"bg-primary px-5 text-primary-foreground hover:bg-primary/90",onClick:()=>gr(),children:[r.jsx(jr,{className:"mr-2 h-4 w-4"}),"Nova categoria"]})]}),r.jsx(ve,{className:"space-y-4",children:u?Array.from({length:4}).map((c,m)=>r.jsxs(ce,{className:"border-border/50 bg-muted/30 p-4",children:[r.jsx(er,{className:"h-4 w-32"}),r.jsx(er,{className:"mt-2 h-3 w-full"})]},m)):d&&d.length>0?d.map(c=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-border/60 bg-background/80 p-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold",children:c.nome}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tipo: ",c.tipo]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[r.jsx("span",{children:"Percentual alvo:"}),r.jsx("span",{className:"font-semibold text-foreground",children:at(c.percentual??0)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>gr(c),children:r.jsx(_t,{className:"h-4 w-4"})}),r.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-600",onClick:()=>Te(c),children:r.jsx(Dt,{className:"h-4 w-4"})})]})]},c.id)):r.jsx("div",{className:"rounded-lg border border-dashed border-border/60 p-8 text-center text-sm text-muted-foreground",children:"Nenhuma categoria criada ainda. Comece adicionando categorias para distribuir automaticamente o caixa operacional."})})]}),r.jsxs(ce,{className:"border-border/60",children:[r.jsxs(pe,{children:[r.jsx(ye,{children:"Regras automatizadas"}),r.jsx(ge,{children:"Defina condies  aes para orientaes financeiras dinmicas."})]}),r.jsx(ve,{className:"space-y-4 text-sm text-muted-foreground",children:r.jsxs("div",{className:"rounded-lg border border-border/60 bg-muted/30 p-4",children:[r.jsx("p",{className:"font-semibold text-foreground",children:"Exemplo de regra:"}),r.jsx("pre",{className:"mt-2 rounded-md bg-background/80 p-3 text-xs text-muted-foreground",children:`{
  "condicao": "lucro_diario < meta_diaria",
  "acao": "enviar_alerta('Meta diria no atingida!')"
}`}),r.jsx("p",{className:"mt-2 text-xs",children:"Configure regras personalizadas no backend para que o sistema reaja automaticamente s suas metas e resultados."})]})})]})]})}),r.jsx(Je,{value:"layout",children:r.jsxs(ce,{className:"border-border/60",children:[r.jsxs(pe,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{children:"Personalizao do painel"}),r.jsx(ge,{children:"Arraste, solte e configure widgets para criar um painel nico por usurio."})]}),r.jsxs(X,{variant:"outline",className:"gap-2",onClick:()=>Q(!0),children:[r.jsx(Na,{className:"h-4 w-4"}),"Abrir editor de widgets"]})]}),r.jsxs(ve,{className:"space-y-6 text-sm text-muted-foreground",children:[r.jsxs("p",{children:["Esse mdulo suporta a criao de layouts individuais salvos em ",r.jsx("code",{children:"gestor_configuracoes.layout"}),", permitindo escolher a posio dos widgets, cores, temas e preferncias pessoais."]}),r.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[r.jsx("li",{children:"Use drag & drop para reorganizar cards e grficos."}),r.jsx("li",{children:"Salve combinaes de layouts para diferentes estratgias (ex.: agressiva, conservadora)."}),r.jsx("li",{children:"Compartilhe presets com outros usurios da equipe."})]}),r.jsxs("p",{children:["A implementao de drag & drop pode ser feita com ",r.jsx("strong",{children:"React Grid Layout"}),", mantendo a persistncia no banco via API de configuraes. Este  o prximo passo aps a integrao dos dados."]})]})]})})]})})]}),r.jsx(Cr,{open:ne,onOpenChange:W,children:r.jsxs(Nr,{className:"max-w-lg",children:[r.jsxs(_r,{children:[r.jsx(Dr,{children:Y?"Editar transao":"Nova transao"}),r.jsx(Mr,{children:"Registre entradas (receitas) ou sadas (despesas) pessoais para complementar o clculo do caixa."})]}),r.jsx(Zt,{...ee,children:r.jsxs("form",{className:"space-y-4",onSubmit:ee.handleSubmit(yr),children:[r.jsx(Ge,{control:ee.control,name:"descricao",rules:{required:"Informe uma descrio"},render:({field:c})=>r.jsxs(Pe,{children:[r.jsx(ke,{children:"Descrio"}),r.jsx(Ve,{children:r.jsx(Qa,{placeholder:"Ex: Compra de equipamentos",...c})}),r.jsx(qe,{})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(Ge,{control:ee.control,name:"tipo",render:({field:c})=>r.jsxs(Pe,{children:[r.jsx(ke,{children:"Tipo"}),r.jsxs(Zr,{onValueChange:c.onChange,value:c.value,children:[r.jsx(Ve,{children:r.jsx(et,{children:r.jsx(rt,{placeholder:"Selecione o tipo"})})}),r.jsxs(tt,{children:[r.jsx(Fe,{value:"receita",children:"Receita"}),r.jsx(Fe,{value:"despesa",children:"Despesa"})]})]}),r.jsx(qe,{})]})}),r.jsx(Ge,{control:ee.control,name:"valor",rules:{required:"Informe o valor",min:{value:0,message:"Valor invlido"}},render:({field:c})=>r.jsxs(Pe,{children:[r.jsx(ke,{children:"Valor"}),r.jsx(Ve,{children:r.jsx(ar,{type:"number",step:"0.01",min:"0",...c})}),r.jsx(qe,{})]})}),r.jsx(Ge,{control:ee.control,name:"categoriaId",render:({field:c})=>r.jsxs(Pe,{children:[r.jsx(ke,{children:"Categoria"}),r.jsxs(Zr,{onValueChange:c.onChange,value:c.value,children:[r.jsx(Ve,{children:r.jsx(et,{children:r.jsx(rt,{placeholder:"Selecione"})})}),r.jsxs(tt,{children:[r.jsx(Fe,{value:"",children:"Sem categoria"}),(d??[]).map(m=>r.jsx(Fe,{value:m.id,children:m.nome},m.id))]})]}),r.jsx(qe,{})]})}),r.jsx(Ge,{control:ee.control,name:"data",rules:{required:"Informe a data"},render:({field:c})=>r.jsxs(Pe,{children:[r.jsx(ke,{children:"Data"}),r.jsx(Ve,{children:r.jsx(ar,{type:"date",...c})}),r.jsx(qe,{})]})})]}),r.jsxs(Sr,{children:[r.jsx(X,{type:"button",variant:"outline",onClick:()=>W(!1),children:"Cancelar"}),r.jsxs(X,{type:"submit",disabled:p||_,children:[(p||_)&&r.jsx(br,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar"]})]})]})})]})}),r.jsx(Cr,{open:M,onOpenChange:S,children:r.jsxs(Nr,{className:"max-w-lg",children:[r.jsxs(_r,{children:[r.jsx(Dr,{children:Z?"Editar categoria":"Nova categoria"}),r.jsx(Mr,{children:"Personalize a forma como o caixa ser distribudo entre metas, aportes, gastos e investimentos."})]}),r.jsx(Zt,{...xe,children:r.jsxs("form",{className:"space-y-4",onSubmit:xe.handleSubmit(o),children:[r.jsx(Ge,{control:xe.control,name:"nome",rules:{required:"Informe o nome da categoria"},render:({field:c})=>r.jsxs(Pe,{children:[r.jsx(ke,{children:"Nome"}),r.jsx(Ve,{children:r.jsx(ar,{placeholder:"Ex: Reserva de emergncia",...c})}),r.jsx(qe,{})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(Ge,{control:xe.control,name:"tipo",render:({field:c})=>r.jsxs(Pe,{children:[r.jsx(ke,{children:"Tipo"}),r.jsxs(Zr,{onValueChange:c.onChange,value:c.value,children:[r.jsx(Ve,{children:r.jsx(et,{children:r.jsx(rt,{placeholder:"Selecione"})})}),r.jsxs(tt,{children:[r.jsx(Fe,{value:"gasto",children:"Gasto pessoal"}),r.jsx(Fe,{value:"investimento",children:"Investimento"}),r.jsx(Fe,{value:"aporte",children:"Aporte de caixa"}),r.jsx(Fe,{value:"reserva",children:"Reserva"}),r.jsx(Fe,{value:"personalizado",children:"Personalizado"})]})]})]})}),r.jsx(Ge,{control:xe.control,name:"percentual",rules:{min:{value:0,message:"Valor invlido"}},render:({field:c})=>r.jsxs(Pe,{children:[r.jsx(ke,{children:"Percentual alvo (%)"}),r.jsx(Ve,{children:r.jsx(ar,{type:"number",step:"0.1",min:"0",max:"100",...c})}),r.jsx(qe,{})]})})]}),r.jsxs(Sr,{children:[r.jsx(X,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),r.jsxs(X,{type:"submit",disabled:J||U,children:[(J||U)&&r.jsx(br,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar"]})]})]})})]})}),r.jsx(Cr,{open:T,onOpenChange:L,children:r.jsxs(Nr,{className:"max-w-xl",children:[r.jsxs(_r,{children:[r.jsx(Dr,{children:"Ajustar percentuais de distribuio"}),r.jsx(Mr,{children:"Informe como o capital ser distribudo automaticamente entre as categorias configuradas."})]}),r.jsx("div",{className:"space-y-4",children:d?.length?d.map(c=>r.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border/50 px-4 py-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold",children:c.nome}),r.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:["Tipo: ",c.tipo]})]}),r.jsx("div",{className:"w-28",children:r.jsx(ar,{type:"number",step:"0.1",min:"0",max:"100",value:we[c.id]??c.percentual??0,onChange:m=>K(w=>({...w,[c.id]:Number(m.target.value)}))})}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]},c.id)):r.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma categoria disponvel. Crie categorias antes de ajustar os percentuais."})}),r.jsxs(Sr,{children:[r.jsx(X,{type:"button",variant:"outline",onClick:()=>L(!1),children:"Cancelar"}),r.jsxs(X,{onClick:l,disabled:U||!d?.length,children:[U&&r.jsx(br,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar ajustes"]})]})]})}),r.jsx(Cr,{open:H,onOpenChange:Q,children:r.jsxs(Nr,{className:"max-w-xl",children:[r.jsxs(_r,{children:[r.jsx(Dr,{children:"Personalizao do painel"}),r.jsx(Mr,{children:"Configure widgets, cores e disposio do painel para criar uma experincia exclusiva."})]}),r.jsxs("div",{className:"space-y-4 text-sm text-muted-foreground",children:[r.jsxs("p",{children:["Esta funcionalidade permite salvar layouts individuais por usurio usando drag & drop baseado em",r.jsx("strong",{children:" React Grid Layout"}),". Voc poder posicionar cartes, grficos e indicadores conforme sua necessidade."]}),r.jsx("p",{children:"Enquanto o construtor visual no  disponibilizado, utilize este painel para definir preferncias iniciais ou registrar sugestes para a equipe."})]}),r.jsx(Sr,{children:r.jsx(X,{onClick:()=>Q(!1),children:"Entendi"})})]})}),r.jsx(Mt,{open:!!me,onOpenChange:c=>!c&&Se(null),children:r.jsxs(St,{children:[r.jsxs(Et,{children:[r.jsx(Rt,{children:"Excluir transao"}),r.jsx(At,{children:"Esta ao no pode ser desfeita. Tem certeza que deseja remover esta transao pessoal?"})]}),r.jsxs(Tt,{children:[r.jsx(Ft,{children:"Cancelar"}),r.jsx(It,{className:"bg-red-600 hover:bg-red-700",onClick:f,children:"Excluir"})]})]})}),r.jsx(Mt,{open:!!Ee,onOpenChange:c=>!c&&Te(null),children:r.jsxs(St,{children:[r.jsxs(Et,{children:[r.jsx(Rt,{children:"Excluir categoria"}),r.jsx(At,{children:"Categorias removidas deixam de aparecer na distribuio e nas transaes futuras. Continuar?"})]}),r.jsxs(Tt,{children:[r.jsx(Ft,{children:"Cancelar"}),r.jsx(It,{className:"bg-red-600 hover:bg-red-700",onClick:v,children:"Excluir"})]})]})})]})};export{Pi as default};
