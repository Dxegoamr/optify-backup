import{j as t,q as ba,r as ja,n as Na,H as $e,g as xt,L as gt,e as Se,J as yt,K as Ye,l as me,M as qe,i as fe}from"./ui-vendor-BKTCjC1N.js";import{r as b,i as wa,u as Da}from"./react-vendor-a_rYd-gI.js";import{h as _a,R as Ca,u as Ma,F as Pa,D as Sa,A as bt,a as jt,b as Nt,c as wt,d as Dt,e as _t,f as Ct,g as Mt,i as ka}from"./DashboardLayout-Bqy226V8.js";import{h as Oe,n as Pt,c as Ra,o as $t,A as Yt,e as qt,P as Ht,a as je,b as zt,D as Ta,p as Oa,q as Aa,u as Fa,R as La,r as Wa,s as Ea,i as Ia,l as Ba,m as $a,k as Q,B as re,C as L}from"./index-CNSrT_AO.js";import{c as Ya,b as qa,u as Ha,e as za}from"./useFirestore-K8F5p6Y4.js";import{b as he}from"./user-specific.service-oo6Dy654.js";import{t as O,c as pe,s as Fe,a as Ne,g as St,m as Va,b as Ka,d as He,e as ye,h as Ua,i as be,j as J,k as Xa,l as Ga,n as rt,o as Qa,p as Za,f as G,q as Vt}from"./format-DPwKrYwk.js";import{u as Ja}from"./index-C3o8K6qv.js";import{S as kt,a as Rt,b as Tt,c as Ot,d as ke}from"./select-B02GmcUY.js";import{R as Re,P as er,a as tr,C as ar,T as Te,B as At,b as ze,X as Ve,Y as Ke,d as Ft}from"./chart-vendor-CfBne3GF.js";import"./firebase-vendor-Dsl9zeYT.js";import"./input-BpX8f5oW.js";import"./user-subcollections.service-rXnHzv2A.js";import"./index-CdAzXW5_.js";function W(e,r){const a=O(e);return isNaN(r)?pe(e,NaN):(r&&a.setDate(a.getDate()+r),a)}function K(e,r){const a=O(e);if(isNaN(r))return pe(e,NaN);if(!r)return a;const o=a.getDate(),n=pe(e,a.getTime());n.setMonth(a.getMonth()+r+1,0);const s=n.getDate();return o>=s?n:(a.setFullYear(n.getFullYear(),n.getMonth(),o),a)}function tt(e,r){const a=r*7;return W(e,a)}function rr(e,r){return K(e,r*12)}function or(e){let r;return e.forEach(function(a){const o=O(a);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function nr(e){let r;return e.forEach(a=>{const o=O(a);(!r||r>o||isNaN(+o))&&(r=o)}),r||new Date(NaN)}function I(e,r){const a=Fe(e),o=Fe(r);return+a==+o}function we(e,r){const a=O(e),o=O(r),n=a.getFullYear()-o.getFullYear(),s=a.getMonth()-o.getMonth();return n*12+s}function sr(e,r,a){const o=Ne(e,a),n=Ne(r,a),s=+o-St(o),i=+n-St(n);return Math.round((s-i)/Va)}function ot(e){const r=O(e),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function B(e){const r=O(e);return r.setDate(1),r.setHours(0,0,0,0),r}function nt(e,r){const a=Ka(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=O(e),s=n.getDay(),i=(s<o?-7:0)+6-(s-o);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function Kt(e){return nt(e,{weekStartsOn:1})}function ir(e){const r=O(e),a=r.getFullYear(),o=r.getMonth(),n=pe(e,0);return n.setFullYear(a,o+1,0),n.setHours(0,0,0,0),n.getDate()}function lr(e){return Math.trunc(+O(e)/1e3)}function dr(e){const r=O(e),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(0,0,0,0),r}function cr(e,r){return sr(dr(e),B(e),r)+1}function at(e,r){const a=O(e),o=O(r);return a.getTime()>o.getTime()}function Ut(e,r){const a=O(e),o=O(r);return+a<+o}function st(e,r){const a=O(e),o=O(r);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function ur(e,r){const a=O(e),o=O(r);return a.getFullYear()===o.getFullYear()}function Ue(e,r){return W(e,-r)}function Xe(e,r){const a=O(e),o=a.getFullYear(),n=a.getDate(),s=pe(e,0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);const i=ir(s);return a.setMonth(r,Math.min(n,i)),a}function Lt(e,r){const a=O(e);return isNaN(+a)?pe(e,NaN):(a.setFullYear(r),a)}const mr={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},fr=(e,r,a)=>{let o;const n=mr[e];return typeof n=="string"?o=n:r===1?o=n.one:o=n.other.replace("{{count}}",String(r)),a?.addSuffix?a.comparison&&a.comparison>0?"daqui a "+o:"há "+o:o},hr={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},pr={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},vr={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xr={date:He({formats:hr,defaultWidth:"full"}),time:He({formats:pr,defaultWidth:"full"}),dateTime:He({formats:vr,defaultWidth:"full"})},gr={lastWeek:e=>{const r=e.getDay();return"'"+(r===0||r===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},yr=(e,r,a,o)=>{const n=gr[e];return typeof n=="function"?n(r):n},br={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},jr={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Nr={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},wr={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sáb"],abbreviated:["dom","seg","ter","qua","qui","sex","sáb"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Dr={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"}},_r={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},Cr=(e,r)=>Number(e)+"º",Mr={ordinalNumber:Cr,era:ye({values:br,defaultWidth:"wide"}),quarter:ye({values:jr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ye({values:Nr,defaultWidth:"wide"}),day:ye({values:wr,defaultWidth:"wide"}),dayPeriod:ye({values:Dr,defaultWidth:"wide",formattingValues:_r,defaultFormattingWidth:"wide"})},Pr=/^(\d+)(º|ª)?/i,Sr=/\d+/i,kr={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},Rr={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},Tr={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º|ª)? trimestre/i},Or={any:[/1/i,/2/i,/3/i,/4/i]},Ar={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Fr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lr={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,wide:/^(domingo|segunda-?\s?feira|terça-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[áa]bado)/i},Wr={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[áa]/i]},Er={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i},Ir={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[ãa]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},Br={ordinalNumber:Ua({matchPattern:Pr,parsePattern:Sr,valueCallback:e=>parseInt(e,10)}),era:be({matchPatterns:kr,defaultMatchWidth:"wide",parsePatterns:Rr,defaultParseWidth:"any"}),quarter:be({matchPatterns:Tr,defaultMatchWidth:"wide",parsePatterns:Or,defaultParseWidth:"any",valueCallback:e=>e+1}),month:be({matchPatterns:Ar,defaultMatchWidth:"wide",parsePatterns:Fr,defaultParseWidth:"any"}),day:be({matchPatterns:Lr,defaultMatchWidth:"wide",parsePatterns:Wr,defaultParseWidth:"any"}),dayPeriod:be({matchPatterns:Er,defaultMatchWidth:"any",parsePatterns:Ir,defaultParseWidth:"any"})},Ge={code:"pt",formatDistance:fr,formatLong:xr,formatRelative:yr,localize:Mr,match:Br,options:{weekStartsOn:1,firstWeekContainsDate:4}};var w=function(){return w=Object.assign||function(r){for(var a,o=1,n=arguments.length;o<n;o++){a=arguments[o];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},w.apply(this,arguments)};function $r(e,r){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(a[o[n]]=e[o[n]]);return a}function Xt(e,r,a){for(var o=0,n=r.length,s;o<n;o++)(s||!(o in r))&&(s||(s=Array.prototype.slice.call(r,0,o)),s[o]=r[o]);return e.concat(s||Array.prototype.slice.call(r))}function De(e){return e.mode==="multiple"}function _e(e){return e.mode==="range"}function We(e){return e.mode==="single"}var Yr={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function qr(e,r){return G(e,"LLLL y",r)}function Hr(e,r){return G(e,"d",r)}function zr(e,r){return G(e,"LLLL",r)}function Vr(e){return"".concat(e)}function Kr(e,r){return G(e,"cccccc",r)}function Ur(e,r){return G(e,"yyyy",r)}var Xr=Object.freeze({__proto__:null,formatCaption:qr,formatDay:Hr,formatMonthCaption:zr,formatWeekNumber:Vr,formatWeekdayName:Kr,formatYearCaption:Ur}),Gr=function(e,r,a){return G(e,"do MMMM (EEEE)",a)},Qr=function(){return"Month: "},Zr=function(){return"Go to next month"},Jr=function(){return"Go to previous month"},eo=function(e,r){return G(e,"cccc",r)},to=function(e){return"Week n. ".concat(e)},ao=function(){return"Year: "},ro=Object.freeze({__proto__:null,labelDay:Gr,labelMonthDropdown:Qr,labelNext:Zr,labelPrevious:Jr,labelWeekNumber:to,labelWeekday:eo,labelYearDropdown:ao});function oo(){var e="buttons",r=Yr,a=Xa,o={},n={},s=1,i={},d=new Date;return{captionLayout:e,classNames:r,formatters:Xr,labels:ro,locale:a,modifiersClassNames:o,modifiers:n,numberOfMonths:s,styles:i,today:d,mode:"default"}}function no(e){var r=e.fromYear,a=e.toYear,o=e.fromMonth,n=e.toMonth,s=e.fromDate,i=e.toDate;return o?s=B(o):r&&(s=new Date(r,0,1)),n?i=ot(n):a&&(i=new Date(a,11,31)),{fromDate:s?Fe(s):void 0,toDate:i?Fe(i):void 0}}var Gt=b.createContext(void 0);function so(e){var r,a=e.initialProps,o=oo(),n=no(a),s=n.fromDate,i=n.toDate,d=(r=a.captionLayout)!==null&&r!==void 0?r:o.captionLayout;d!=="buttons"&&(!s||!i)&&(d="buttons");var c;(We(a)||De(a)||_e(a))&&(c=a.onSelect);var m=w(w(w({},o),a),{captionLayout:d,classNames:w(w({},o.classNames),a.classNames),components:w({},a.components),formatters:w(w({},o.formatters),a.formatters),fromDate:s,labels:w(w({},o.labels),a.labels),mode:a.mode||o.mode,modifiers:w(w({},o.modifiers),a.modifiers),modifiersClassNames:w(w({},o.modifiersClassNames),a.modifiersClassNames),onSelect:c,styles:w(w({},o.styles),a.styles),toDate:i});return t.jsx(Gt.Provider,{value:m,children:e.children})}function k(){var e=b.useContext(Gt);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Qt(e){var r=k(),a=r.locale,o=r.classNames,n=r.styles,s=r.formatters.formatCaption;return t.jsx("div",{className:o.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:a})})}function io(e){return t.jsx("svg",w({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:t.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Zt(e){var r,a,o=e.onChange,n=e.value,s=e.children,i=e.caption,d=e.className,c=e.style,m=k(),u=(a=(r=m.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&a!==void 0?a:io;return t.jsxs("div",{className:d,style:c,children:[t.jsx("span",{className:m.classNames.vhidden,children:e["aria-label"]}),t.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:n,onChange:o,children:s}),t.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[i,t.jsx(u,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function lo(e){var r,a=k(),o=a.fromDate,n=a.toDate,s=a.styles,i=a.locale,d=a.formatters.formatMonthCaption,c=a.classNames,m=a.components,u=a.labels.labelMonthDropdown;if(!o)return t.jsx(t.Fragment,{});if(!n)return t.jsx(t.Fragment,{});var p=[];if(ur(o,n))for(var v=B(o),j=o.getMonth();j<=n.getMonth();j++)p.push(Xe(v,j));else for(var v=B(new Date),j=0;j<=11;j++)p.push(Xe(v,j));var D=function(y){var R=Number(y.target.value),M=Xe(B(e.displayMonth),R);e.onChange(M)},C=(r=m?.Dropdown)!==null&&r!==void 0?r:Zt;return t.jsx(C,{name:"months","aria-label":u(),className:c.dropdown_month,style:s.dropdown_month,onChange:D,value:e.displayMonth.getMonth(),caption:d(e.displayMonth,{locale:i}),children:p.map(function(y){return t.jsx("option",{value:y.getMonth(),children:d(y,{locale:i})},y.getMonth())})})}function co(e){var r,a=e.displayMonth,o=k(),n=o.fromDate,s=o.toDate,i=o.locale,d=o.styles,c=o.classNames,m=o.components,u=o.formatters.formatYearCaption,p=o.labels.labelYearDropdown,v=[];if(!n)return t.jsx(t.Fragment,{});if(!s)return t.jsx(t.Fragment,{});for(var j=n.getFullYear(),D=s.getFullYear(),C=j;C<=D;C++)v.push(Lt(Ga(new Date),C));var y=function(M){var ee=Lt(B(a),Number(M.target.value));e.onChange(ee)},R=(r=m?.Dropdown)!==null&&r!==void 0?r:Zt;return t.jsx(R,{name:"years","aria-label":p(),className:c.dropdown_year,style:d.dropdown_year,onChange:y,value:a.getFullYear(),caption:u(a,{locale:i}),children:v.map(function(M){return t.jsx("option",{value:M.getFullYear(),children:u(M,{locale:i})},M.getFullYear())})})}function uo(e,r){var a=b.useState(e),o=a[0],n=a[1],s=r===void 0?o:r;return[s,n]}function mo(e){var r=e.month,a=e.defaultMonth,o=e.today,n=r||a||o||new Date,s=e.toDate,i=e.fromDate,d=e.numberOfMonths,c=d===void 0?1:d;if(s&&we(s,n)<0){var m=-1*(c-1);n=K(s,m)}return i&&we(n,i)<0&&(n=i),B(n)}function fo(){var e=k(),r=mo(e),a=uo(r,e.month),o=a[0],n=a[1],s=function(i){var d;if(!e.disableNavigation){var c=B(i);n(c),(d=e.onMonthChange)===null||d===void 0||d.call(e,c)}};return[o,s]}function ho(e,r){for(var a=r.reverseMonths,o=r.numberOfMonths,n=B(e),s=B(K(n,o)),i=we(s,n),d=[],c=0;c<i;c++){var m=K(n,c);d.push(m)}return a&&(d=d.reverse()),d}function po(e,r){if(!r.disableNavigation){var a=r.toDate,o=r.pagedNavigation,n=r.numberOfMonths,s=n===void 0?1:n,i=o?s:1,d=B(e);if(!a)return K(d,i);var c=we(a,e);if(!(c<s))return K(d,i)}}function vo(e,r){if(!r.disableNavigation){var a=r.fromDate,o=r.pagedNavigation,n=r.numberOfMonths,s=n===void 0?1:n,i=o?s:1,d=B(e);if(!a)return K(d,-i);var c=we(d,a);if(!(c<=0))return K(d,-i)}}var Jt=b.createContext(void 0);function xo(e){var r=k(),a=fo(),o=a[0],n=a[1],s=ho(o,r),i=po(o,r),d=vo(o,r),c=function(p){return s.some(function(v){return st(p,v)})},m=function(p,v){c(p)||(v&&Ut(p,v)?n(K(p,1+r.numberOfMonths*-1)):n(p))},u={currentMonth:o,displayMonths:s,goToMonth:n,goToDate:m,previousMonth:d,nextMonth:i,isDateDisplayed:c};return t.jsx(Jt.Provider,{value:u,children:e.children})}function Ce(){var e=b.useContext(Jt);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Wt(e){var r,a=k(),o=a.classNames,n=a.styles,s=a.components,i=Ce().goToMonth,d=function(u){i(K(u,e.displayIndex?-e.displayIndex:0))},c=(r=s?.CaptionLabel)!==null&&r!==void 0?r:Qt,m=t.jsx(c,{id:e.id,displayMonth:e.displayMonth});return t.jsxs("div",{className:o.caption_dropdowns,style:n.caption_dropdowns,children:[t.jsx("div",{className:o.vhidden,children:m}),t.jsx(lo,{onChange:d,displayMonth:e.displayMonth}),t.jsx(co,{onChange:d,displayMonth:e.displayMonth})]})}function go(e){return t.jsx("svg",w({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yo(e){return t.jsx("svg",w({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Le=b.forwardRef(function(e,r){var a=k(),o=a.classNames,n=a.styles,s=[o.button_reset,o.button];e.className&&s.push(e.className);var i=s.join(" "),d=w(w({},n.button_reset),n.button);return e.style&&Object.assign(d,e.style),t.jsx("button",w({},e,{ref:r,type:"button",className:i,style:d}))});function bo(e){var r,a,o=k(),n=o.dir,s=o.locale,i=o.classNames,d=o.styles,c=o.labels,m=c.labelPrevious,u=c.labelNext,p=o.components;if(!e.nextMonth&&!e.previousMonth)return t.jsx(t.Fragment,{});var v=m(e.previousMonth,{locale:s}),j=[i.nav_button,i.nav_button_previous].join(" "),D=u(e.nextMonth,{locale:s}),C=[i.nav_button,i.nav_button_next].join(" "),y=(r=p?.IconRight)!==null&&r!==void 0?r:yo,R=(a=p?.IconLeft)!==null&&a!==void 0?a:go;return t.jsxs("div",{className:i.nav,style:d.nav,children:[!e.hidePrevious&&t.jsx(Le,{name:"previous-month","aria-label":v,className:j,style:d.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:n==="rtl"?t.jsx(y,{className:i.nav_icon,style:d.nav_icon}):t.jsx(R,{className:i.nav_icon,style:d.nav_icon})}),!e.hideNext&&t.jsx(Le,{name:"next-month","aria-label":D,className:C,style:d.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:n==="rtl"?t.jsx(R,{className:i.nav_icon,style:d.nav_icon}):t.jsx(y,{className:i.nav_icon,style:d.nav_icon})})]})}function Et(e){var r=k().numberOfMonths,a=Ce(),o=a.previousMonth,n=a.nextMonth,s=a.goToMonth,i=a.displayMonths,d=i.findIndex(function(D){return st(e.displayMonth,D)}),c=d===0,m=d===i.length-1,u=r>1&&(c||!m),p=r>1&&(m||!c),v=function(){o&&s(o)},j=function(){n&&s(n)};return t.jsx(bo,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:p,nextMonth:n,previousMonth:o,onPreviousClick:v,onNextClick:j})}function jo(e){var r,a=k(),o=a.classNames,n=a.disableNavigation,s=a.styles,i=a.captionLayout,d=a.components,c=(r=d?.CaptionLabel)!==null&&r!==void 0?r:Qt,m;return n?m=t.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?m=t.jsx(Wt,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?m=t.jsxs(t.Fragment,{children:[t.jsx(Wt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),t.jsx(Et,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):m=t.jsxs(t.Fragment,{children:[t.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(Et,{displayMonth:e.displayMonth,id:e.id})]}),t.jsx("div",{className:o.caption,style:s.caption,children:m})}function No(e){var r=k(),a=r.footer,o=r.styles,n=r.classNames.tfoot;return a?t.jsx("tfoot",{className:n,style:o.tfoot,children:t.jsx("tr",{children:t.jsx("td",{colSpan:8,children:a})})}):t.jsx(t.Fragment,{})}function wo(e,r,a){for(var o=a?rt(new Date):Ne(new Date,{locale:e,weekStartsOn:r}),n=[],s=0;s<7;s++){var i=W(o,s);n.push(i)}return n}function Do(){var e=k(),r=e.classNames,a=e.styles,o=e.showWeekNumber,n=e.locale,s=e.weekStartsOn,i=e.ISOWeek,d=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,m=wo(n,s,i);return t.jsxs("tr",{style:a.head_row,className:r.head_row,children:[o&&t.jsx("td",{style:a.head_cell,className:r.head_cell}),m.map(function(u,p){return t.jsx("th",{scope:"col",className:r.head_cell,style:a.head_cell,"aria-label":c(u,{locale:n}),children:d(u,{locale:n})},p)})]})}function _o(){var e,r=k(),a=r.classNames,o=r.styles,n=r.components,s=(e=n?.HeadRow)!==null&&e!==void 0?e:Do;return t.jsx("thead",{style:o.head,className:a.head,children:t.jsx(s,{})})}function Co(e){var r=k(),a=r.locale,o=r.formatters.formatDay;return t.jsx(t.Fragment,{children:o(e.date,{locale:a})})}var it=b.createContext(void 0);function Mo(e){if(!De(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return t.jsx(it.Provider,{value:r,children:e.children})}return t.jsx(Po,{initialProps:e.initialProps,children:e.children})}function Po(e){var r=e.initialProps,a=e.children,o=r.selected,n=r.min,s=r.max,i=function(m,u,p){var v,j;(v=r.onDayClick)===null||v===void 0||v.call(r,m,u,p);var D=!!(u.selected&&n&&o?.length===n);if(!D){var C=!!(!u.selected&&s&&o?.length===s);if(!C){var y=o?Xt([],o):[];if(u.selected){var R=y.findIndex(function(M){return I(m,M)});y.splice(R,1)}else y.push(m);(j=r.onSelect)===null||j===void 0||j.call(r,y,m,u,p)}}},d={disabled:[]};o&&d.disabled.push(function(m){var u=s&&o.length>s-1,p=o.some(function(v){return I(v,m)});return!!(u&&!p)});var c={selected:o,onDayClick:i,modifiers:d};return t.jsx(it.Provider,{value:c,children:a})}function lt(){var e=b.useContext(it);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function So(e,r){var a=r||{},o=a.from,n=a.to;return o&&n?I(n,e)&&I(o,e)?void 0:I(n,e)?{from:n,to:void 0}:I(o,e)?void 0:at(o,e)?{from:e,to:n}:{from:o,to:e}:n?at(e,n)?{from:n,to:e}:{from:e,to:n}:o?Ut(e,o)?{from:e,to:o}:{from:o,to:e}:{from:e,to:void 0}}var dt=b.createContext(void 0);function ko(e){if(!_e(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return t.jsx(dt.Provider,{value:r,children:e.children})}return t.jsx(Ro,{initialProps:e.initialProps,children:e.children})}function Ro(e){var r=e.initialProps,a=e.children,o=r.selected,n=o||{},s=n.from,i=n.to,d=r.min,c=r.max,m=function(j,D,C){var y,R;(y=r.onDayClick)===null||y===void 0||y.call(r,j,D,C);var M=So(j,o);(R=r.onSelect)===null||R===void 0||R.call(r,M,j,D,C)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(u.range_start=[s],i?(u.range_end=[i],I(s,i)||(u.range_middle=[{after:s,before:i}])):u.range_end=[s]):i&&(u.range_start=[i],u.range_end=[i]),d&&(s&&!i&&u.disabled.push({after:Ue(s,d-1),before:W(s,d-1)}),s&&i&&u.disabled.push({after:s,before:W(s,d-1)}),!s&&i&&u.disabled.push({after:Ue(i,d-1),before:W(i,d-1)})),c){if(s&&!i&&(u.disabled.push({before:W(s,-c+1)}),u.disabled.push({after:W(s,c-1)})),s&&i){var p=J(i,s)+1,v=c-p;u.disabled.push({before:Ue(s,v)}),u.disabled.push({after:W(i,v)})}!s&&i&&(u.disabled.push({before:W(i,-c+1)}),u.disabled.push({after:W(i,c-1)}))}return t.jsx(dt.Provider,{value:{selected:o,onDayClick:m,modifiers:u},children:a})}function ct(){var e=b.useContext(dt);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ae(e){return Array.isArray(e)?Xt([],e):e!==void 0?[e]:[]}function To(e){var r={};return Object.entries(e).forEach(function(a){var o=a[0],n=a[1];r[o]=Ae(n)}),r}var U;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(U||(U={}));var Oo=U.Selected,Z=U.Disabled,Ao=U.Hidden,Fo=U.Today,Qe=U.RangeEnd,Ze=U.RangeMiddle,Je=U.RangeStart,Lo=U.Outside;function Wo(e,r,a){var o,n=(o={},o[Oo]=Ae(e.selected),o[Z]=Ae(e.disabled),o[Ao]=Ae(e.hidden),o[Fo]=[e.today],o[Qe]=[],o[Ze]=[],o[Je]=[],o[Lo]=[],o);return e.fromDate&&n[Z].push({before:e.fromDate}),e.toDate&&n[Z].push({after:e.toDate}),De(e)?n[Z]=n[Z].concat(r.modifiers[Z]):_e(e)&&(n[Z]=n[Z].concat(a.modifiers[Z]),n[Je]=a.modifiers[Je],n[Ze]=a.modifiers[Ze],n[Qe]=a.modifiers[Qe]),n}var ea=b.createContext(void 0);function Eo(e){var r=k(),a=lt(),o=ct(),n=Wo(r,a,o),s=To(r.modifiers),i=w(w({},n),s);return t.jsx(ea.Provider,{value:i,children:e.children})}function ta(){var e=b.useContext(ea);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Io(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Bo(e){return!!(e&&typeof e=="object"&&"from"in e)}function $o(e){return!!(e&&typeof e=="object"&&"after"in e)}function Yo(e){return!!(e&&typeof e=="object"&&"before"in e)}function qo(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Ho(e,r){var a,o=r.from,n=r.to;if(o&&n){var s=J(n,o)<0;s&&(a=[n,o],o=a[0],n=a[1]);var i=J(e,o)>=0&&J(n,e)>=0;return i}return n?I(n,e):o?I(o,e):!1}function zo(e){return Vt(e)}function Vo(e){return Array.isArray(e)&&e.every(Vt)}function Ko(e,r){return r.some(function(a){if(typeof a=="boolean")return a;if(zo(a))return I(e,a);if(Vo(a))return a.includes(e);if(Bo(a))return Ho(e,a);if(qo(a))return a.dayOfWeek.includes(e.getDay());if(Io(a)){var o=J(a.before,e),n=J(a.after,e),s=o>0,i=n<0,d=at(a.before,a.after);return d?i&&s:s||i}return $o(a)?J(e,a.after)>0:Yo(a)?J(a.before,e)>0:typeof a=="function"?a(e):!1})}function ut(e,r,a){var o=Object.keys(r).reduce(function(s,i){var d=r[i];return Ko(e,d)&&s.push(i),s},[]),n={};return o.forEach(function(s){return n[s]=!0}),a&&!st(e,a)&&(n.outside=!0),n}function Uo(e,r){for(var a=B(e[0]),o=ot(e[e.length-1]),n,s,i=a;i<=o;){var d=ut(i,r),c=!d.disabled&&!d.hidden;if(!c){i=W(i,1);continue}if(d.selected)return i;d.today&&!s&&(s=i),n||(n=i),i=W(i,1)}return s||n}var Xo=365;function aa(e,r){var a=r.moveBy,o=r.direction,n=r.context,s=r.modifiers,i=r.retry,d=i===void 0?{count:0,lastFocused:e}:i,c=n.weekStartsOn,m=n.fromDate,u=n.toDate,p=n.locale,v={day:W,week:tt,month:K,year:rr,startOfWeek:function(y){return n.ISOWeek?rt(y):Ne(y,{locale:p,weekStartsOn:c})},endOfWeek:function(y){return n.ISOWeek?Kt(y):nt(y,{locale:p,weekStartsOn:c})}},j=v[a](e,o==="after"?1:-1);o==="before"&&m?j=or([m,j]):o==="after"&&u&&(j=nr([u,j]));var D=!0;if(s){var C=ut(j,s);D=!C.disabled&&!C.hidden}return D?j:d.count>Xo?d.lastFocused:aa(j,{moveBy:a,direction:o,context:n,modifiers:s,retry:w(w({},d),{count:d.count+1})})}var ra=b.createContext(void 0);function Go(e){var r=Ce(),a=ta(),o=b.useState(),n=o[0],s=o[1],i=b.useState(),d=i[0],c=i[1],m=Uo(r.displayMonths,a),u=n??(d&&r.isDateDisplayed(d))?d:m,p=function(){c(n),s(void 0)},v=function(y){s(y)},j=k(),D=function(y,R){if(n){var M=aa(n,{moveBy:y,direction:R,context:j,modifiers:a});I(n,M)||(r.goToDate(M,n),v(M))}},C={focusedDay:n,focusTarget:u,blur:p,focus:v,focusDayAfter:function(){return D("day","after")},focusDayBefore:function(){return D("day","before")},focusWeekAfter:function(){return D("week","after")},focusWeekBefore:function(){return D("week","before")},focusMonthBefore:function(){return D("month","before")},focusMonthAfter:function(){return D("month","after")},focusYearBefore:function(){return D("year","before")},focusYearAfter:function(){return D("year","after")},focusStartOfWeek:function(){return D("startOfWeek","before")},focusEndOfWeek:function(){return D("endOfWeek","after")}};return t.jsx(ra.Provider,{value:C,children:e.children})}function mt(){var e=b.useContext(ra);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Qo(e,r){var a=ta(),o=ut(e,a,r);return o}var ft=b.createContext(void 0);function Zo(e){if(!We(e.initialProps)){var r={selected:void 0};return t.jsx(ft.Provider,{value:r,children:e.children})}return t.jsx(Jo,{initialProps:e.initialProps,children:e.children})}function Jo(e){var r=e.initialProps,a=e.children,o=function(s,i,d){var c,m,u;if((c=r.onDayClick)===null||c===void 0||c.call(r,s,i,d),i.selected&&!r.required){(m=r.onSelect)===null||m===void 0||m.call(r,void 0,s,i,d);return}(u=r.onSelect)===null||u===void 0||u.call(r,s,s,i,d)},n={selected:r.selected,onDayClick:o};return t.jsx(ft.Provider,{value:n,children:a})}function oa(){var e=b.useContext(ft);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function en(e,r){var a=k(),o=oa(),n=lt(),s=ct(),i=mt(),d=i.focusDayAfter,c=i.focusDayBefore,m=i.focusWeekAfter,u=i.focusWeekBefore,p=i.blur,v=i.focus,j=i.focusMonthBefore,D=i.focusMonthAfter,C=i.focusYearBefore,y=i.focusYearAfter,R=i.focusStartOfWeek,M=i.focusEndOfWeek,ee=function(N){var g,X,de,ce;We(a)?(g=o.onDayClick)===null||g===void 0||g.call(o,e,r,N):De(a)?(X=n.onDayClick)===null||X===void 0||X.call(n,e,r,N):_e(a)?(de=s.onDayClick)===null||de===void 0||de.call(s,e,r,N):(ce=a.onDayClick)===null||ce===void 0||ce.call(a,e,r,N)},Y=function(N){var g;v(e),(g=a.onDayFocus)===null||g===void 0||g.call(a,e,r,N)},se=function(N){var g;p(),(g=a.onDayBlur)===null||g===void 0||g.call(a,e,r,N)},z=function(N){var g;(g=a.onDayMouseEnter)===null||g===void 0||g.call(a,e,r,N)},V=function(N){var g;(g=a.onDayMouseLeave)===null||g===void 0||g.call(a,e,r,N)},q=function(N){var g;(g=a.onDayPointerEnter)===null||g===void 0||g.call(a,e,r,N)},te=function(N){var g;(g=a.onDayPointerLeave)===null||g===void 0||g.call(a,e,r,N)},Pe=function(N){var g;(g=a.onDayTouchCancel)===null||g===void 0||g.call(a,e,r,N)},T=function(N){var g;(g=a.onDayTouchEnd)===null||g===void 0||g.call(a,e,r,N)},pt=function(N){var g;(g=a.onDayTouchMove)===null||g===void 0||g.call(a,e,r,N)},ie=function(N){var g;(g=a.onDayTouchStart)===null||g===void 0||g.call(a,e,r,N)},xe=function(N){var g;(g=a.onDayKeyUp)===null||g===void 0||g.call(a,e,r,N)},ge=function(N){var g;switch(N.key){case"ArrowLeft":N.preventDefault(),N.stopPropagation(),a.dir==="rtl"?d():c();break;case"ArrowRight":N.preventDefault(),N.stopPropagation(),a.dir==="rtl"?c():d();break;case"ArrowDown":N.preventDefault(),N.stopPropagation(),m();break;case"ArrowUp":N.preventDefault(),N.stopPropagation(),u();break;case"PageUp":N.preventDefault(),N.stopPropagation(),N.shiftKey?C():j();break;case"PageDown":N.preventDefault(),N.stopPropagation(),N.shiftKey?y():D();break;case"Home":N.preventDefault(),N.stopPropagation(),R();break;case"End":N.preventDefault(),N.stopPropagation(),M();break}(g=a.onDayKeyDown)===null||g===void 0||g.call(a,e,r,N)},le={onClick:ee,onFocus:Y,onBlur:se,onKeyDown:ge,onKeyUp:xe,onMouseEnter:z,onMouseLeave:V,onPointerEnter:q,onPointerLeave:te,onTouchCancel:Pe,onTouchEnd:T,onTouchMove:pt,onTouchStart:ie};return le}function tn(){var e=k(),r=oa(),a=lt(),o=ct(),n=We(e)?r.selected:De(e)?a.selected:_e(e)?o.selected:void 0;return n}function an(e){return Object.values(U).includes(e)}function rn(e,r){var a=[e.classNames.day];return Object.keys(r).forEach(function(o){var n=e.modifiersClassNames[o];if(n)a.push(n);else if(an(o)){var s=e.classNames["day_".concat(o)];s&&a.push(s)}}),a}function on(e,r){var a=w({},e.styles.day);return Object.keys(r).forEach(function(o){var n;a=w(w({},a),(n=e.modifiersStyles)===null||n===void 0?void 0:n[o])}),a}function nn(e,r,a){var o,n,s,i=k(),d=mt(),c=Qo(e,r),m=en(e,c),u=tn(),p=!!(i.onDayClick||i.mode!=="default");b.useEffect(function(){var z;c.outside||d.focusedDay&&p&&I(d.focusedDay,e)&&((z=a.current)===null||z===void 0||z.focus())},[d.focusedDay,e,a,p,c.outside]);var v=rn(i,c).join(" "),j=on(i,c),D=!!(c.outside&&!i.showOutsideDays||c.hidden),C=(s=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&s!==void 0?s:Co,y=t.jsx(C,{date:e,displayMonth:r,activeModifiers:c}),R={style:j,className:v,children:y,role:"gridcell"},M=d.focusTarget&&I(d.focusTarget,e)&&!c.outside,ee=d.focusedDay&&I(d.focusedDay,e),Y=w(w(w({},R),(o={disabled:c.disabled,role:"gridcell"},o["aria-selected"]=c.selected,o.tabIndex=ee||M?0:-1,o)),m),se={isButton:p,isHidden:D,activeModifiers:c,selectedDays:u,buttonProps:Y,divProps:R};return se}function sn(e){var r=b.useRef(null),a=nn(e.date,e.displayMonth,r);return a.isHidden?t.jsx("div",{role:"gridcell"}):a.isButton?t.jsx(Le,w({name:"day",ref:r},a.buttonProps)):t.jsx("div",w({},a.divProps))}function ln(e){var r=e.number,a=e.dates,o=k(),n=o.onWeekNumberClick,s=o.styles,i=o.classNames,d=o.locale,c=o.labels.labelWeekNumber,m=o.formatters.formatWeekNumber,u=m(Number(r),{locale:d});if(!n)return t.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:u});var p=c(Number(r),{locale:d}),v=function(j){n(r,a,j)};return t.jsx(Le,{name:"week-number","aria-label":p,className:i.weeknumber,style:s.weeknumber,onClick:v,children:u})}function dn(e){var r,a,o=k(),n=o.styles,s=o.classNames,i=o.showWeekNumber,d=o.components,c=(r=d?.Day)!==null&&r!==void 0?r:sn,m=(a=d?.WeekNumber)!==null&&a!==void 0?a:ln,u;return i&&(u=t.jsx("td",{className:s.cell,style:n.cell,children:t.jsx(m,{number:e.weekNumber,dates:e.dates})})),t.jsxs("tr",{className:s.row,style:n.row,children:[u,e.dates.map(function(p){return t.jsx("td",{className:s.cell,style:n.cell,role:"presentation",children:t.jsx(c,{displayMonth:e.displayMonth,date:p})},lr(p))})]})}function It(e,r,a){for(var o=a?.ISOWeek?Kt(r):nt(r,a),n=a?.ISOWeek?rt(e):Ne(e,a),s=J(o,n),i=[],d=0;d<=s;d++)i.push(W(n,d));var c=i.reduce(function(m,u){var p=a?.ISOWeek?Qa(u):Za(u,a),v=m.find(function(j){return j.weekNumber===p});return v?(v.dates.push(u),m):(m.push({weekNumber:p,dates:[u]}),m)},[]);return c}function cn(e,r){var a=It(B(e),ot(e),r);if(r?.useFixedWeeks){var o=cr(e,r);if(o<6){var n=a[a.length-1],s=n.dates[n.dates.length-1],i=tt(s,6-o),d=It(tt(s,1),i,r);a.push.apply(a,d)}}return a}function un(e){var r,a,o,n=k(),s=n.locale,i=n.classNames,d=n.styles,c=n.hideHead,m=n.fixedWeeks,u=n.components,p=n.weekStartsOn,v=n.firstWeekContainsDate,j=n.ISOWeek,D=cn(e.displayMonth,{useFixedWeeks:!!m,ISOWeek:j,locale:s,weekStartsOn:p,firstWeekContainsDate:v}),C=(r=u?.Head)!==null&&r!==void 0?r:_o,y=(a=u?.Row)!==null&&a!==void 0?a:dn,R=(o=u?.Footer)!==null&&o!==void 0?o:No;return t.jsxs("table",{id:e.id,className:i.table,style:d.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&t.jsx(C,{}),t.jsx("tbody",{className:i.tbody,style:d.tbody,children:D.map(function(M){return t.jsx(y,{displayMonth:e.displayMonth,dates:M.dates,weekNumber:M.weekNumber},M.weekNumber)})}),t.jsx(R,{displayMonth:e.displayMonth})]})}function mn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var fn=mn()?b.useLayoutEffect:b.useEffect,et=!1,hn=0;function Bt(){return"react-day-picker-".concat(++hn)}function pn(e){var r,a=e??(et?Bt():null),o=b.useState(a),n=o[0],s=o[1];return fn(function(){n===null&&s(Bt())},[]),b.useEffect(function(){et===!1&&(et=!0)},[]),(r=e??n)!==null&&r!==void 0?r:void 0}function vn(e){var r,a,o=k(),n=o.dir,s=o.classNames,i=o.styles,d=o.components,c=Ce().displayMonths,m=pn(o.id?"".concat(o.id,"-").concat(e.displayIndex):void 0),u=o.id?"".concat(o.id,"-grid-").concat(e.displayIndex):void 0,p=[s.month],v=i.month,j=e.displayIndex===0,D=e.displayIndex===c.length-1,C=!j&&!D;n==="rtl"&&(r=[j,D],D=r[0],j=r[1]),j&&(p.push(s.caption_start),v=w(w({},v),i.caption_start)),D&&(p.push(s.caption_end),v=w(w({},v),i.caption_end)),C&&(p.push(s.caption_between),v=w(w({},v),i.caption_between));var y=(a=d?.Caption)!==null&&a!==void 0?a:jo;return t.jsxs("div",{className:p.join(" "),style:v,children:[t.jsx(y,{id:m,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(un,{id:u,"aria-labelledby":m,displayMonth:e.displayMonth})]},e.displayIndex)}function xn(e){var r=k(),a=r.classNames,o=r.styles;return t.jsx("div",{className:a.months,style:o.months,children:e.children})}function gn(e){var r,a,o=e.initialProps,n=k(),s=mt(),i=Ce(),d=b.useState(!1),c=d[0],m=d[1];b.useEffect(function(){n.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),m(!0)))},[n.initialFocus,c,s.focus,s.focusTarget,s]);var u=[n.classNames.root,n.className];n.numberOfMonths>1&&u.push(n.classNames.multiple_months),n.showWeekNumber&&u.push(n.classNames.with_weeknumber);var p=w(w({},n.styles.root),n.style),v=Object.keys(o).filter(function(D){return D.startsWith("data-")}).reduce(function(D,C){var y;return w(w({},D),(y={},y[C]=o[C],y))},{}),j=(a=(r=o.components)===null||r===void 0?void 0:r.Months)!==null&&a!==void 0?a:xn;return t.jsx("div",w({className:u.join(" "),style:p,dir:n.dir,id:n.id,nonce:o.nonce,title:o.title,lang:o.lang},v,{children:t.jsx(j,{children:i.displayMonths.map(function(D,C){return t.jsx(vn,{displayIndex:C,displayMonth:D},C)})})}))}function yn(e){var r=e.children,a=$r(e,["children"]);return t.jsx(so,{initialProps:a,children:t.jsx(xo,{children:t.jsx(Zo,{initialProps:a,children:t.jsx(Mo,{initialProps:a,children:t.jsx(ko,{initialProps:a,children:t.jsx(Eo,{children:t.jsx(Go,{children:r})})})})})})})}function bn(e){return t.jsx(yn,w({},e,{children:t.jsx(gn,{initialProps:e})}))}function na({className:e,classNames:r,showOutsideDays:a=!0,...o}){return t.jsx(bn,{showOutsideDays:a,className:Oe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Oe(Pt({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Oe(Pt({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...n})=>t.jsx(ba,{className:"h-4 w-4"}),IconRight:({...n})=>t.jsx(ja,{className:"h-4 w-4"})},...o})}na.displayName="Calendar";var Ee="Popover",[sa,Gn]=Ra(Ee,[$t]),Me=$t(),[jn,oe]=sa(Ee),ia=e=>{const{__scopePopover:r,children:a,open:o,defaultOpen:n,onOpenChange:s,modal:i=!1}=e,d=Me(r),c=b.useRef(null),[m,u]=b.useState(!1),[p,v]=Fa({prop:o,defaultProp:n??!1,onChange:s,caller:Ee});return t.jsx(La,{...d,children:t.jsx(jn,{scope:r,contentId:Ja(),triggerRef:c,open:p,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(j=>!j),[v]),hasCustomAnchor:m,onCustomAnchorAdd:b.useCallback(()=>u(!0),[]),onCustomAnchorRemove:b.useCallback(()=>u(!1),[]),modal:i,children:a})})};ia.displayName=Ee;var la="PopoverAnchor",Nn=b.forwardRef((e,r)=>{const{__scopePopover:a,...o}=e,n=oe(la,a),s=Me(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=n;return b.useEffect(()=>(i(),()=>d()),[i,d]),t.jsx(Yt,{...s,...o,ref:r})});Nn.displayName=la;var da="PopoverTrigger",ca=b.forwardRef((e,r)=>{const{__scopePopover:a,...o}=e,n=oe(da,a),s=Me(a),i=qt(r,n.triggerRef),d=t.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":pa(n.open),...o,ref:i,onClick:je(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?d:t.jsx(Yt,{asChild:!0,...s,children:d})});ca.displayName=da;var ht="PopoverPortal",[wn,Dn]=sa(ht,{forceMount:void 0}),ua=e=>{const{__scopePopover:r,forceMount:a,children:o,container:n}=e,s=oe(ht,r);return t.jsx(wn,{scope:r,forceMount:a,children:t.jsx(zt,{present:a||s.open,children:t.jsx(Wa,{asChild:!0,container:n,children:o})})})};ua.displayName=ht;var ve="PopoverContent",ma=b.forwardRef((e,r)=>{const a=Dn(ve,e.__scopePopover),{forceMount:o=a.forceMount,...n}=e,s=oe(ve,e.__scopePopover);return t.jsx(zt,{present:o||s.open,children:s.modal?t.jsx(Cn,{...n,ref:r}):t.jsx(Mn,{...n,ref:r})})});ma.displayName=ve;var _n=Ea("PopoverContent.RemoveScroll"),Cn=b.forwardRef((e,r)=>{const a=oe(ve,e.__scopePopover),o=b.useRef(null),n=qt(r,o),s=b.useRef(!1);return b.useEffect(()=>{const i=o.current;if(i)return _a(i)},[]),t.jsx(Ca,{as:_n,allowPinchZoom:!0,children:t.jsx(fa,{...e,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{i.preventDefault(),s.current||a.triggerRef.current?.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const d=i.detail.originalEvent,c=d.button===0&&d.ctrlKey===!0,m=d.button===2||c;s.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Mn=b.forwardRef((e,r)=>{const a=oe(ve,e.__scopePopover),o=b.useRef(!1),n=b.useRef(!1);return t.jsx(fa,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||a.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=s.target;a.triggerRef.current?.contains(i)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),fa=b.forwardRef((e,r)=>{const{__scopePopover:a,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:m,onInteractOutside:u,...p}=e,v=oe(ve,a),j=Me(a);return Ma(),t.jsx(Pa,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:n,onUnmountAutoFocus:s,children:t.jsx(Ta,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:m,onDismiss:()=>v.onOpenChange(!1),children:t.jsx(Oa,{"data-state":pa(v.open),role:"dialog",id:v.contentId,...j,...p,ref:r,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ha="PopoverClose",Pn=b.forwardRef((e,r)=>{const{__scopePopover:a,...o}=e,n=oe(ha,a);return t.jsx(Ht.button,{type:"button",...o,ref:r,onClick:je(e.onClick,()=>n.onOpenChange(!1))})});Pn.displayName=ha;var Sn="PopoverArrow",kn=b.forwardRef((e,r)=>{const{__scopePopover:a,...o}=e,n=Me(a);return t.jsx(Aa,{...n,...o,ref:r})});kn.displayName=Sn;function pa(e){return e?"open":"closed"}var Rn=ia,Tn=ca,On=ua,va=ma;const An=Rn,Fn=Tn,xa=b.forwardRef(({className:e,align:r="center",sideOffset:a=4,...o},n)=>t.jsx(On,{children:t.jsx(va,{ref:n,align:r,sideOffset:a,className:Oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));xa.displayName=va.displayName;const Qn=()=>{const{user:e}=Ia(),[r]=wa(),a=Da(),o=Na(),[n,s]=b.useState(Ba()),[i,d]=b.useState(!1),[c,m]=b.useState(!1),[u,p]=b.useState(!1),[v,j]=b.useState([]),[D,C]=b.useState(""),[y,R]=b.useState(""),[M,ee]=b.useState(""),[Y,se]=b.useState(""),z=n.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");b.useEffect(()=>{const l=r.get("filter");R(l||"")},[r]);const{data:V=[]}=Ya(e?.uid||""),{data:q=[]}=qa(e?.uid||""),{data:te=[]}=Ha(e?.uid||""),Pe=za(),T=te.filter(l=>(console.log("Comparando:",l.date,"===",z,"?",l.date===z),l.date===z));console.log("ResumoDia - selectedDateString:",z),console.log("ResumoDia - allTransactions:",te),console.log("ResumoDia - allTransactions dates:",te.map(l=>({id:l.id,date:l.date,type:l.type,amount:l.amount}))),console.log("ResumoDia - todayTransactions (filtradas):",T),b.useEffect(()=>{if(te.length>0&&v.length===0){const l=$a(),f=te.filter(h=>h.date===l);f.length>0&&(j(f),C(l),console.log("ResumoDia - Transações do dia original capturadas:",f),console.log("ResumoDia - Data original:",l))}},[te,v.length]);const ie=(()=>{let l=T;switch(y){case"deposits":l=l.filter(f=>f.type==="deposit");break;case"withdraws":l=l.filter(f=>f.type==="withdraw");break}return M&&(l=l.filter(f=>f.platformId===M)),Y&&(l=l.filter(f=>f.employeeId===Y)),l})(),xe=T.filter(l=>l.type==="deposit"),ge=T.filter(l=>l.type==="withdraw"),le=xe.reduce((l,f)=>l+Number(f.amount||0),0),N=ge.reduce((l,f)=>l+Number(f.amount||0),0),g=N-le,X=ie.length;console.log("ResumoDia - Cálculos:"),console.log("- deposits:",xe),console.log("- withdraws:",ge),console.log("- totalDeposits:",le),console.log("- totalWithdraws:",N),console.log("- profit:",g),console.log("- transactionCount:",X);const de=q.map(l=>{const f=T.filter(x=>x.platformId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,P)=>x+Number(P.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,P)=>x+Number(P.amount||0),0),S=_-h;return{name:l.name,color:l.color,deposits:h,withdraws:_,profit:S,transactions:f.length}}).filter(l=>l.transactions>0).sort((l,f)=>f.profit-l.profit),ce=V.map(l=>{const f=T.filter(x=>x.employeeId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,P)=>x+Number(P.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,P)=>x+Number(P.amount||0),0),S=_-h;return{name:l.name,deposits:h,withdraws:_,profit:S,transactions:f.length}}).filter(l=>l.transactions>0).sort((l,f)=>f.profit-l.profit),ne=de[0],ue=ce[0],ga=async()=>{try{const l=v.length>0?v:T,f=D||z,h=l.filter($=>$.type==="deposit"),_=l.filter($=>$.type==="withdraw"),S=h.reduce(($,F)=>$+Number(F.amount||0),0),x=_.reduce(($,F)=>$+Number(F.amount||0),0),P=x-S;if(console.log("Fechando dia - Data:",f),console.log("Fechando dia - Transações originais:",v),console.log("Fechando dia - Transações selecionadas:",l),console.log("Fechando dia - Total Deposits:",S),console.log("Fechando dia - Total Withdraws:",x),console.log("Fechando dia - Profit:",P),!e?.uid){fe.error("Usuário não autenticado");return}const E=(await he.getAllDailySummaries(e.uid)).find($=>$.date===f);let A;E?(A={date:f,totalDeposits:(E.totalDeposits||0)+S,totalWithdraws:(E.totalWithdraws||0)+x,profit:(E.profit||E.margin||0)+P,transactionCount:(E.transactionCount||0)+l.length,transactionsSnapshot:[...E.transactionsSnapshot||[],...l],byEmployee:[],margin:(E.profit||E.margin||0)+P,createdAt:E.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente:",A),await he.updateDailySummary(e.uid,E.id,A)):(A={date:f,totalDeposits:S,totalWithdraws:x,profit:P,transactionCount:l.length,transactionsSnapshot:l,byEmployee:[],margin:P,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento:",A),await he.createDailySummary(e.uid,A));const H=l.map($=>Pe.mutateAsync($.id));await Promise.all(H),fe.success("Dia fechado com sucesso!"),m(!1),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(l){console.error("Erro ao fechar o dia:",l),fe.error("Erro ao fechar o dia. Tente novamente.")}},ya=async l=>{try{if(console.log("=== INICIANDO SALVAMENTO EM OUTRA DATA ==="),console.log("Target Date recebida:",l),console.log("Transações do dia original:",v),console.log("Data original:",D),console.log("Transações do dia atual (selectedDate):",T),console.log("Total Deposits:",le),console.log("Total Withdraws:",N),console.log("Profit calculado:",g),!e?.uid){fe.error("Usuário não autenticado");return}const f=l.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");console.log("Salvando em outra data - Target Date String:",f);const h=v.length>0?v:T,_=h.filter(F=>F.type==="deposit"),S=h.filter(F=>F.type==="withdraw"),x=_.reduce((F,Be)=>F+Number(Be.amount||0),0),P=S.reduce((F,Be)=>F+Number(Be.amount||0),0),ae=P-x;console.log("Dados a serem salvos:"),console.log("- transactionsToSave:",h),console.log("- totalDepositsToSave:",x),console.log("- totalWithdrawsToSave:",P),console.log("- profitToSave:",ae);const A=(await he.getAllDailySummaries(e.uid)).find(F=>F.date===f);let H;A?(H={date:f,totalDeposits:(A.totalDeposits||0)+x,totalWithdraws:(A.totalWithdraws||0)+P,profit:(A.profit||A.margin||0)+ae,transactionCount:(A.transactionCount||0)+h.length,transactionsSnapshot:[...A.transactionsSnapshot||[],...h],byEmployee:[],margin:(A.profit||A.margin||0)+ae,createdAt:A.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente para data:",H),await he.updateDailySummary(e.uid,A.id,H)):(H={date:f,totalDeposits:x,totalWithdraws:P,profit:ae,transactionCount:h.length,transactionsSnapshot:h,byEmployee:[],margin:ae,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento para data:",H),await he.createDailySummary(e.uid,H)),console.log("Resumo salvo com sucesso na data:",f),console.log("Deletando transações do dia selecionado:",h);const $=h.map(F=>(console.log("Deletando transação:",F.id),Pe.mutateAsync(F.id)));await Promise.all($),console.log("Todas as transações foram deletadas com sucesso"),o.invalidateQueries({queryKey:["firebase-transactions"]}),o.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),o.invalidateQueries({queryKey:["firebase-daily-summaries"]}),fe.success(`Resumo salvo para ${G(l,"dd/MM/yyyy",{locale:Ge})}! Transações do dia atual foram apagadas.`),d(!1)}catch(f){console.error("Erro ao salvar em outra data:",f),fe.error("Erro ao salvar em outra data. Tente novamente.")}},Ie=de.map(l=>({name:l.name,value:l.profit,color:l.color})),vt=ce.map(l=>({name:l.name,receita:l.profit,depositos:l.deposits,saques:l.withdraws}));return t.jsx(Sa,{children:t.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h1",{className:"text-4xl font-bold",children:"Resumo do Dia"}),y&&t.jsxs(Q,{variant:"secondary",className:"gap-1 bg-primary/10 text-primary border-primary/20",children:[t.jsx($e,{className:"h-3 w-3"}),y==="deposits"&&"Depósitos",y==="withdraws"&&"Saques",y==="profit"&&"Lucro"]})]}),t.jsx("p",{className:"text-muted-foreground",children:G(n,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ge})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(An,{open:i,onOpenChange:d,children:[t.jsx(Fn,{asChild:!0,children:t.jsxs(re,{variant:"outline",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white border-orange-500",children:[t.jsx(xt,{className:"h-4 w-4"}),"Salvar em outra data"]})}),t.jsx(xa,{className:"w-auto p-0",align:"end",children:t.jsx(na,{mode:"single",selected:n,onSelect:l=>{l&&(s(l),d(!1),p(!0))},initialFocus:!0})})]}),t.jsx(bt,{open:u,onOpenChange:p,children:t.jsxs(jt,{children:[t.jsxs(Nt,{children:[t.jsx(wt,{children:"Salvar em Outra Data"}),t.jsxs(Dt,{children:["Tem certeza que deseja salvar o resumo do dia atual para ",n&&G(n,"dd/MM/yyyy",{locale:Ge}),"?",t.jsx("br",{}),t.jsx("br",{}),t.jsx("strong",{children:"Esta ação irá:"}),t.jsx("br",{}),"• Salvar todas as transações atuais para a data selecionada",t.jsx("br",{}),"• Apagar todas as transações do dia atual",t.jsx("br",{}),"• Permitir que você comece um novo dia",t.jsx("br",{}),t.jsx("br",{}),t.jsx("strong",{children:"Esta ação não pode ser desfeita."})]})]}),t.jsxs(_t,{children:[t.jsx(Ct,{children:"Cancelar"}),t.jsx(Mt,{onClick:async()=>{n&&(console.log("Executando saveToAnotherDate com data:",n),await ya(n),p(!1))},children:"Salvar e Apagar Transações"})]})]})}),t.jsxs(bt,{open:c,onOpenChange:m,children:[t.jsx(ka,{asChild:!0,children:t.jsxs(re,{variant:"destructive",className:"gap-2",children:[t.jsx(gt,{className:"h-4 w-4"}),"Fechar o Dia"]})}),t.jsxs(jt,{children:[t.jsxs(Nt,{children:[t.jsx(wt,{children:"Fechar o Dia"}),t.jsx(Dt,{children:"Tem certeza que deseja fechar o dia? Esta ação salvará todas as movimentações do dia e resetará as transações para um novo dia."})]}),t.jsxs(_t,{children:[t.jsx(Ct,{children:"Cancelar"}),t.jsx(Mt,{onClick:ga,children:"Fechar o Dia"})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(L,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Dia"}),t.jsxs("p",{className:`text-3xl font-bold ${g>=0?"text-success":"text-destructive"}`,children:["R$ ",g.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(Se,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(L,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),t.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",le.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(yt,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(L,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),t.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",N.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(Ye,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(L,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),t.jsx("p",{className:"text-3xl font-bold",children:X})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(me,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ne&&t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(qe,{className:"h-6 w-6 text-yellow-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Plataforma do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:ne.color}}),t.jsx("span",{className:"font-medium",children:ne.name})]}),t.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",ne.profit.toLocaleString("pt-BR")]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[ne.transactions," transações • R$ ",ne.deposits.toLocaleString("pt-BR")," depósitos • R$ ",ne.withdraws.toLocaleString("pt-BR")," saques"]})]})]}),ue&&t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(qe,{className:"h-6 w-6 text-yellow-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Funcionário do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"font-medium",children:ue.name}),t.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",ue.profit.toLocaleString("pt-BR")]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[ue.transactions," transações • R$ ",ue.deposits.toLocaleString("pt-BR")," depósitos • R$ ",ue.withdraws.toLocaleString("pt-BR")," saques"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ie.length>0&&t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Receita por Plataforma"}),t.jsx(Re,{width:"100%",height:300,children:t.jsxs(er,{children:[t.jsx(tr,{data:Ie,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:l,value:f})=>`${l}: R$ ${f.toLocaleString("pt-BR")}`,children:Ie.map((l,f)=>t.jsx(ar,{fill:l.color},`cell-${f}`))}),t.jsx(Te,{formatter:l=>[`R$ ${l.toLocaleString("pt-BR")}`,"Receita"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})]}),vt.length>0&&t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),t.jsx(Re,{width:"100%",height:300,children:t.jsxs(At,{data:vt,children:[t.jsx(ze,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Ve,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),t.jsx(Ke,{stroke:"hsl(var(--muted-foreground))"}),t.jsx(Te,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),t.jsx(Ft,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(xt,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Atividade por Horário"})]}),t.jsx("div",{className:"space-y-3",children:(()=>{const l=T.reduce((h,_)=>{const S=new Date(_.createdAt?.toDate?.()||_.createdAt).getHours();return h[S]||(h[S]={transactions:0,amount:0}),h[S].transactions++,h[S].amount+=Number(_.amount||0),h},{}),f=Object.entries(l).sort(([,h],[,_])=>_.transactions-h.transactions).slice(0,3);return f.length>0?f.map(([h,_])=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",children:[h,":00h"]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.transactions," transação(ões)"]})]}),t.jsxs("p",{className:"font-bold text-primary",children:["R$ ",_.amount.toLocaleString("pt-BR")]})]},h)):t.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma transação registrada hoje"})})()})]}),t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(me,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Estatísticas Rápidas"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-success/10 rounded-lg border border-success/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Ticket Médio"}),t.jsxs("p",{className:"text-lg font-bold text-success",children:["R$ ",X>0?(N/X).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})]}),t.jsx(Se,{className:"h-8 w-8 text-success/60"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/10 rounded-lg border border-primary/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Maior Transação"}),t.jsxs("p",{className:"text-lg font-bold text-primary",children:["R$ ",T.length>0?Math.max(...T.map(l=>Number(l.amount||0))).toLocaleString("pt-BR"):"0,00"]})]}),t.jsx(Ye,{className:"h-8 w-8 text-primary/60"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionários Ativos"}),t.jsx("p",{className:"text-lg font-bold",children:V.filter(l=>l.status==="active").length})]}),t.jsx(qe,{className:"h-8 w-8 text-muted-foreground/60"})]})]})]}),t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(gt,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Ações do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-warning/10 rounded-lg border border-warning/20",children:[t.jsx("p",{className:"text-sm font-medium text-warning",children:"Fechamento do Dia"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:X>0?`Você tem ${X} transação(ões) para fechar`:"Nenhuma transação registrada hoje"})]}),t.jsxs("div",{className:"p-3 bg-info/10 rounded-lg border border-info/20",children:[t.jsx("p",{className:"text-sm font-medium text-info",children:"Meta Diária"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g>=1e3?"✅ Meta de R$ 1.000 atingida!":`Faltam R$ ${(1e3-g).toLocaleString("pt-BR")} para a meta`})]}),t.jsxs("div",{className:"p-3 bg-success/10 rounded-lg border border-success/20",children:[t.jsx("p",{className:"text-sm font-medium text-success",children:"Status do Dia"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g>0?`✅ Dia lucrativo: +R$ ${g.toLocaleString("pt-BR")}`:g<0?`⚠️ Prejuízo: R$ ${g.toLocaleString("pt-BR")}`:"📊 Dia neutro: R$ 0,00"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Evolução do Saldo ao Longo do Dia"}),T.length>0?t.jsx(Re,{width:"100%",height:300,children:t.jsxs(LineChart,{data:(()=>{const l=[...T].sort((h,_)=>{const S=new Date(h.createdAt?.toDate?.()||h.createdAt),x=new Date(_.createdAt?.toDate?.()||_.createdAt);return S.getTime()-x.getTime()});let f=0;return l.map((h,_)=>{const S=Number(h.amount||0),x=h.type==="withdraw"?S:-S;f+=x;const ae=new Date(h.createdAt?.toDate?.()||h.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),E=V.find(H=>H.id===h.employeeId),A=q.find(H=>H.id===h.platformId);return{time:ae,saldo:f,transacao:x,tipo:h.type==="withdraw"?"Saque":"Depósito",funcionario:E?.name||"N/A",plataforma:A?.name||"N/A",valor:S,index:_+1}})})(),children:[t.jsx(ze,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Ve,{dataKey:"time",stroke:"hsl(var(--muted-foreground))",fontSize:11}),t.jsx(Ke,{stroke:"hsl(var(--muted-foreground))",tickFormatter:l=>`R$ ${l.toLocaleString("pt-BR")}`,fontSize:11}),t.jsx(Te,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:(l,f,h)=>f==="saldo"?[`R$ ${l.toLocaleString("pt-BR")}`,"Saldo Acumulado"]:[`R$ ${l.toLocaleString("pt-BR")}`,"Valor da Transação"],labelFormatter:(l,f)=>{if(f&&f[0]){const h=f[0].payload;return`${h.tipo} - ${h.funcionario} (${h.plataforma})`}return l}}),t.jsx(Line,{type:"monotone",dataKey:"saldo",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(var(--primary))",strokeWidth:2}}),t.jsx(ReferenceLine,{y:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"5 5"})]})}):t.jsx("div",{className:"flex items-center justify-center h-[300px]",children:t.jsxs("div",{className:"text-center text-muted-foreground",children:[t.jsx(Se,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma transação registrada hoje"}),t.jsx("p",{className:"text-sm",children:"Os dados aparecerão aqui quando você registrar transações"})]})})]}),t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Plataforma"}),q.length>0&&q.some(l=>T.some(f=>f.platformId===l.id))?t.jsx(Re,{width:"100%",height:300,children:t.jsxs(At,{data:q.map(l=>{const f=T.filter(x=>x.platformId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,P)=>x+Number(P.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,P)=>x+Number(P.amount||0),0),S=_-h;return{name:l.name.length>8?l.name.substring(0,8)+"...":l.name,lucro:S,depositos:h,saques:_,transacoes:f.length,color:l.color}}).filter(l=>l.transacoes>0),children:[t.jsx(ze,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Ve,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:11,angle:-45,textAnchor:"end",height:60}),t.jsx(Ke,{stroke:"hsl(var(--muted-foreground))",tickFormatter:l=>`R$ ${l.toLocaleString("pt-BR")}`,fontSize:11}),t.jsx(Te,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:(l,f,h)=>(h.payload,f==="lucro"?[`R$ ${l.toLocaleString("pt-BR")}`,"Lucro/Prejuízo"]:[`R$ ${l.toLocaleString("pt-BR")}`,f==="depositos"?"Depósitos":"Saques"]),labelFormatter:(l,f)=>{if(f&&f[0]){const h=f[0].payload;return`${h.name} (${h.transacoes} transações)`}return l}}),t.jsx(Ft,{dataKey:"lucro",fill:l=>l.lucro>=0?"hsl(var(--success))":"hsl(var(--destructive))",radius:[4,4,0,0]})]})}):t.jsx("div",{className:"flex items-center justify-center h-[300px]",children:t.jsxs("div",{className:"text-center text-muted-foreground",children:[t.jsx(me,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma plataforma com transações hoje"}),t.jsx("p",{className:"text-sm",children:"Os dados aparecerão aqui quando você registrar transações"})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Plataforma"}),q.length>0?t.jsx("div",{className:"space-y-4",children:q.map(l=>{const f=T.filter(x=>x.platformId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,P)=>x+Number(P.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,P)=>x+Number(P.amount||0),0),S=_-h;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:l.color}}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:l.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.length," transação(ões)"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`font-bold ${S>=0?"text-success":"text-destructive"}`,children:["R$ ",S.toLocaleString("pt-BR")]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[_>0&&`R$ ${_.toLocaleString("pt-BR")} saques`,h>0&&_>0&&" • ",h>0&&`R$ ${h.toLocaleString("pt-BR")} depósitos`]})]})]},l.id)})}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(me,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhuma plataforma configurada"})]})]}),t.jsxs(L,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),V.length>0?t.jsxs("div",{className:"space-y-4",children:[V.map(l=>{const f=T.filter(x=>x.employeeId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,P)=>x+Number(P.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,P)=>x+Number(P.amount||0),0),S=_-h;return f.length===0?null:t.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:l.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.length," transação(ões)"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`font-bold ${S>=0?"text-success":"text-destructive"}`,children:["R$ ",S.toLocaleString("pt-BR")]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[_>0&&`R$ ${_.toLocaleString("pt-BR")} saques`,h>0&&_>0&&" • ",h>0&&`R$ ${h.toLocaleString("pt-BR")} depósitos`]})]})]},l.id)}).filter(Boolean),V.filter(l=>T.some(f=>f.employeeId===l.id)).length===0&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(me,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhum funcionário com transações hoje"})]})]}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(me,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhum funcionário cadastrado"})]})]})]}),t.jsxs(L,{className:"shadow-card overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("h3",{className:"text-lg font-semibold",children:["Transações do Dia",(y||M||Y)&&t.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ie.length," transação(ões) encontrada(s))"]})]})}),t.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Plataforma:"}),t.jsxs(kt,{value:M||"all",onValueChange:l=>ee(l==="all"?"":l),children:[t.jsx(Rt,{className:"w-[160px]",children:t.jsx(Tt,{placeholder:"Todas"})}),t.jsxs(Ot,{children:[t.jsx(ke,{value:"all",children:"Todas as plataformas"}),q.map(l=>t.jsx(ke,{value:l.id,children:l.name},l.id))]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Funcionário:"}),t.jsxs(kt,{value:Y||"all",onValueChange:l=>se(l==="all"?"":l),children:[t.jsx(Rt,{className:"w-[160px]",children:t.jsx(Tt,{placeholder:"Todos"})}),t.jsxs(Ot,{children:[t.jsx(ke,{value:"all",children:"Todos os funcionários"}),V.map(l=>t.jsx(ke,{value:l.id,children:l.name},l.id))]})]})]}),(y||M||Y)&&t.jsx(re,{variant:"outline",size:"sm",onClick:()=>{R(""),ee(""),se(""),a("/resumo-dia")},children:"Limpar Filtros"})]})]}),t.jsxs("div",{className:"space-y-4 mt-4",children:[(y||M||Y)&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[t.jsx($e,{className:"h-4 w-4 text-primary"}),t.jsx("span",{className:"text-sm text-primary font-medium",children:"Filtros ativos:"}),t.jsxs("div",{className:"flex gap-2",children:[y&&t.jsxs(Q,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:[y==="deposits"&&"Depósitos",y==="withdraws"&&"Saques",y==="profit"&&"Lucro"]}),M&&t.jsxs(Q,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Plataforma: ",q.find(l=>l.id===M)?.name||"N/A"]}),Y&&t.jsxs(Q,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Funcionário: ",V.find(l=>l.id===Y)?.name||"N/A"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(re,{variant:y===""?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia"),className:"gap-2",children:[t.jsx($e,{className:"h-3 w-3"}),"Todas",t.jsx(Q,{variant:"secondary",className:"ml-1",children:T.length})]}),t.jsxs(re,{variant:y==="deposits"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=deposits"),className:"gap-2",children:[t.jsx(yt,{className:"h-3 w-3"}),"Depósitos",t.jsx(Q,{variant:"secondary",className:"ml-1",children:xe.length})]}),t.jsxs(re,{variant:y==="withdraws"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=withdraws"),className:"gap-2",children:[t.jsx(Ye,{className:"h-3 w-3"}),"Saques",t.jsx(Q,{variant:"secondary",className:"ml-1",children:ge.length})]}),t.jsxs(re,{variant:y==="profit"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=profit"),className:"gap-2",children:[t.jsx(Se,{className:"h-3 w-3"}),"Lucro",t.jsx(Q,{variant:"secondary",className:"ml-1",children:T.length})]})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-muted/50",children:[t.jsx("th",{className:"text-left p-4 font-semibold",children:"Funcionário"}),t.jsx("th",{className:"text-left p-4 font-semibold",children:"Plataforma"}),t.jsx("th",{className:"text-center p-4 font-semibold",children:"Tipo"}),t.jsx("th",{className:"text-right p-4 font-semibold",children:"Valor"}),t.jsx("th",{className:"text-center p-4 font-semibold",children:"Horário"})]})}),t.jsxs("tbody",{children:[ie.map(l=>{const f=V.find(_=>_.id===l.employeeId),h=q.find(_=>_.id===l.platformId);return t.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[t.jsx("td",{className:"p-4 font-medium",children:f?.name||"N/A"}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[h&&t.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:h.color}}),h?.name||"N/A"]})}),t.jsx("td",{className:"p-4 text-center",children:t.jsx(Q,{variant:l.type==="deposit"?"destructive":"default",children:l.type==="deposit"?"Depósito":"Saque"})}),t.jsxs("td",{className:`p-4 text-right font-semibold ${l.type==="deposit"?"text-destructive":"text-success"}`,children:[l.type==="deposit"?"-":"+","R$ ",Number(l.amount||0).toLocaleString("pt-BR")]}),t.jsx("td",{className:"p-4 text-center text-sm text-muted-foreground",children:new Date(l.createdAt?.toDate?.()||l.createdAt).toLocaleTimeString("pt-BR")})]},l.id)}),ie.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:y?t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"Nenhuma transação encontrada para o filtro selecionado."}),t.jsx(re,{variant:"outline",size:"sm",onClick:()=>a("/resumo-dia"),children:"Ver todas as transações"})]}):"Nenhuma transação registrada para este dia."})})]})]})})]})]})})};export{Qn as default};
