import{j as e,l as k,m as P,i as n}from"./ui-vendor-BKTCjC1N.js";import{r as d,u as S}from"./react-vendor-a_rYd-gI.js";import{i as L,C as h,B as M}from"./index-CGNlKej4.js";import{I as E}from"./input-ChKtT3xH.js";import{L as B}from"./label-BQ8_nb15.js";import{U as F}from"./user-config.service-D-DEwlw4.js";import{U as m}from"./user-specific.service-Bm0YqEBt.js";import"./chart-vendor-CfBne3GF.js";import"./firebase-vendor-Dsl9zeYT.js";import"./user-subcollections.service-PY9rn1_P.js";const K=()=>{const[i,p]=d.useState(""),[s,j]=d.useState([]),[u,b]=d.useState(!1),c=S(),{user:o}=L(),x=[{name:"Pixbet",color:"rgb(173, 216, 230)"},{name:"Betano",color:"rgb(255, 102, 0)"},{name:"Mcgames",color:"rgb(220, 20, 60)"},{name:"Kto",color:"rgb(200, 0, 0)"},{name:"Realsbet",color:"rgb(0, 255, 200)"},{name:"Vaidebet",color:"rgb(255, 215, 0)"},{name:"Sportingbet",color:"rgb(70, 130, 180)"},{name:"Superbet",color:"rgb(255, 51, 102)"},{name:"Betao",color:"rgb(255, 165, 80)"},{name:"Bet365",color:"rgb(0, 128, 64)"},{name:"Esportivabet",color:"rgb(255, 140, 0)"},{name:"Hiperbet",color:"rgb(220, 0, 0)"},{name:"Luvabet",color:"rgb(173, 255, 47)"},{name:"Cassinopix",color:"rgb(135, 206, 235)"},{name:"Multibet",color:"rgb(72, 61, 139)"}],v=r=>{j(a=>a.includes(r)?a.filter(l=>l!==r):[...a,r])},y=async r=>{if(r.preventDefault(),!i||s.length===0){n.error("Por favor, defina sua meta mensal e selecione pelo menos uma plataforma");return}b(!0);try{if(!o?.uid){n.error("Usuário não autenticado");return}await F.saveInitialSetup(o.uid,{monthlyGoal:Number(i),selectedPlatforms:s,setupCompleted:!0});const a=await m.getPlatforms(o.uid),l={};(a||[]).forEach(t=>{l[(t.name||"").toLowerCase()]=t});const N=s.map(async t=>{const f=x.find(C=>C.name===t)?.color||"#FF5C00",w=t.toLowerCase(),g=l[w];return g?.id?m.updatePlatform(o.uid,g.id,{isActive:!0,color:f}):m.createPlatform(o.uid,{name:t,color:f,isActive:!0})});await Promise.all(N),n.success("Configuração inicial concluída!"),c("/dashboard")}catch{n.error("Erro ao salvar configurações. Tente novamente.")}finally{b(!1)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute w-96 h-96 bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-float-slow"}),e.jsx("div",{className:"absolute w-96 h-96 bg-secondary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-float-reverse"}),e.jsx("div",{className:"absolute w-64 h-64 bg-primary/10 rounded-full blur-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-float-center"})]}),e.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),e.jsx("div",{className:"absolute top-40 right-32 w-1 h-1 bg-secondary rounded-full animate-bounce delay-700"}),e.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-1000"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-2 h-2 bg-secondary rounded-full animate-bounce delay-500"}),e.jsxs("div",{className:"w-full max-w-2xl p-8 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("button",{onClick:()=>c("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:e.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),e.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),e.jsx("path",{d:"M2 9h20"})]})}),e.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),e.jsx("button",{onClick:()=>c("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:e.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Configure suas preferências"}),e.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-8",children:[e.jsxs(h,{className:"p-6 border border-primary/20 bg-card/80 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(k,{className:"w-6 h-6 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Meta Mensal"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{htmlFor:"monthlyGoal",className:"text-sm font-medium text-foreground",children:"Defina sua meta de lucro mensal (R$)"}),e.jsx(E,{id:"monthlyGoal",type:"number",placeholder:"Ex: 5000",value:i,onChange:r=>p(r.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,min:"1"})]})]}),e.jsxs(h,{className:"p-6 border border-primary/20 bg-card/80 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-primary flex items-center justify-center",children:e.jsx(P,{className:"w-4 h-4 text-primary-foreground"})}),e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Plataformas Principais"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Selecione as plataformas que você mais utiliza. Elas aparecerão na aba Saldos."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:x.map(r=>e.jsx("button",{type:"button",onClick:()=>v(r.name),className:`p-3 rounded-lg border-2 transition-all duration-200 text-sm font-medium ${s.includes(r.name)?"border-primary bg-primary/10 text-primary":"border-border/50 bg-background/50 text-foreground hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),r.name]})},r.name))}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[s.length," plataforma(s) selecionada(s)"]})]}),e.jsx(M,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:u,children:u?"Configurando...":"Finalizar Configuração"}),e.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:e.jsx("p",{children:"Passo 2 de 2 - Configurações avançadas"})})]})]})]})};export{K as default};
