import{j as t,q as ja,r as Na,n as wa,H as $e,g as xt,L as gt,e as Se,J as yt,K as Ye,l as me,M as qe,i as fe}from"./ui-vendor-COgSaoh6.js";import{r as b,i as Da,u as _a}from"./react-vendor-a_rYd-gI.js";import{h as Ca,R as Ma,u as Pa,F as Sa,D as ka,A as bt,a as jt,b as Nt,c as wt,d as Dt,e as _t,f as Ct,g as Mt,i as Ra}from"./DashboardLayout-gNRGy55i.js";import{h as Oe,n as Pt,c as Ta,o as Yt,A as qt,e as Ht,P as zt,a as je,b as Vt,D as Oa,p as Aa,q as Fa,u as Wa,R as La,r as Ea,s as Ia,i as Ba,l as $a,m as Ya,k as Z,B as re,C as E}from"./index-CpWZ38xQ.js";import{c as qa,b as Ha,u as za,e as Va}from"./useFirestore-CBeuVY0f.js";import{b as he}from"./user-specific.service-BRXRLJrk.js";import{t as O,c as pe,s as Fe,a as Ne,g as St,m as Ka,b as Ua,d as He,e as ye,h as Xa,i as be,j as ee,k as Ga,l as Qa,n as rt,o as Za,p as Ja,f as Q,q as Kt}from"./format-DPwKrYwk.js";import{u as er}from"./index-Ba2OgRVY.js";import{S as kt,a as Rt,b as Tt,c as Ot,d as ke}from"./select-BCvixRJf.js";import{R as Re,P as tr,a as ar,C as At,T as Te,B as Ft,b as ze,X as Ve,Y as Ke,d as Wt,L as rr,e as or,f as nr}from"./chart-vendor-2xH8hKrZ.js";import"./firebase-vendor-BE8L9dHK.js";import"./input-QpeNTTno.js";import"./user-subcollections.service-Be66DGXL.js";import"./index-CdAzXW5_.js";function I(e,r){const a=O(e);return isNaN(r)?pe(e,NaN):(r&&a.setDate(a.getDate()+r),a)}function U(e,r){const a=O(e);if(isNaN(r))return pe(e,NaN);if(!r)return a;const o=a.getDate(),n=pe(e,a.getTime());n.setMonth(a.getMonth()+r+1,0);const s=n.getDate();return o>=s?n:(a.setFullYear(n.getFullYear(),n.getMonth(),o),a)}function tt(e,r){const a=r*7;return I(e,a)}function sr(e,r){return U(e,r*12)}function ir(e){let r;return e.forEach(function(a){const o=O(a);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function lr(e){let r;return e.forEach(a=>{const o=O(a);(!r||r>o||isNaN(+o))&&(r=o)}),r||new Date(NaN)}function B(e,r){const a=Fe(e),o=Fe(r);return+a==+o}function we(e,r){const a=O(e),o=O(r),n=a.getFullYear()-o.getFullYear(),s=a.getMonth()-o.getMonth();return n*12+s}function dr(e,r,a){const o=Ne(e,a),n=Ne(r,a),s=+o-St(o),i=+n-St(n);return Math.round((s-i)/Ka)}function ot(e){const r=O(e),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function $(e){const r=O(e);return r.setDate(1),r.setHours(0,0,0,0),r}function nt(e,r){const a=Ua(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=O(e),s=n.getDay(),i=(s<o?-7:0)+6-(s-o);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function Ut(e){return nt(e,{weekStartsOn:1})}function cr(e){const r=O(e),a=r.getFullYear(),o=r.getMonth(),n=pe(e,0);return n.setFullYear(a,o+1,0),n.setHours(0,0,0,0),n.getDate()}function ur(e){return Math.trunc(+O(e)/1e3)}function mr(e){const r=O(e),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(0,0,0,0),r}function fr(e,r){return dr(mr(e),$(e),r)+1}function at(e,r){const a=O(e),o=O(r);return a.getTime()>o.getTime()}function Xt(e,r){const a=O(e),o=O(r);return+a<+o}function st(e,r){const a=O(e),o=O(r);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function hr(e,r){const a=O(e),o=O(r);return a.getFullYear()===o.getFullYear()}function Ue(e,r){return I(e,-r)}function Xe(e,r){const a=O(e),o=a.getFullYear(),n=a.getDate(),s=pe(e,0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);const i=cr(s);return a.setMonth(r,Math.min(n,i)),a}function Lt(e,r){const a=O(e);return isNaN(+a)?pe(e,NaN):(a.setFullYear(r),a)}const pr={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},vr=(e,r,a)=>{let o;const n=pr[e];return typeof n=="string"?o=n:r===1?o=n.one:o=n.other.replace("{{count}}",String(r)),a?.addSuffix?a.comparison&&a.comparison>0?"daqui a "+o:"há "+o:o},xr={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},gr={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yr={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},br={date:He({formats:xr,defaultWidth:"full"}),time:He({formats:gr,defaultWidth:"full"}),dateTime:He({formats:yr,defaultWidth:"full"})},jr={lastWeek:e=>{const r=e.getDay();return"'"+(r===0||r===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Nr=(e,r,a,o)=>{const n=jr[e];return typeof n=="function"?n(r):n},wr={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},Dr={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},_r={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Cr={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sáb"],abbreviated:["dom","seg","ter","qua","qui","sex","sáb"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Mr={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"}},Pr={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},Sr=(e,r)=>Number(e)+"º",kr={ordinalNumber:Sr,era:ye({values:wr,defaultWidth:"wide"}),quarter:ye({values:Dr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ye({values:_r,defaultWidth:"wide"}),day:ye({values:Cr,defaultWidth:"wide"}),dayPeriod:ye({values:Mr,defaultWidth:"wide",formattingValues:Pr,defaultFormattingWidth:"wide"})},Rr=/^(\d+)(º|ª)?/i,Tr=/\d+/i,Or={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},Ar={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},Fr={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º|ª)? trimestre/i},Wr={any:[/1/i,/2/i,/3/i,/4/i]},Lr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Er={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ir={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,wide:/^(domingo|segunda-?\s?feira|terça-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[áa]bado)/i},Br={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[áa]/i]},$r={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i},Yr={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[ãa]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},qr={ordinalNumber:Xa({matchPattern:Rr,parsePattern:Tr,valueCallback:e=>parseInt(e,10)}),era:be({matchPatterns:Or,defaultMatchWidth:"wide",parsePatterns:Ar,defaultParseWidth:"any"}),quarter:be({matchPatterns:Fr,defaultMatchWidth:"wide",parsePatterns:Wr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:be({matchPatterns:Lr,defaultMatchWidth:"wide",parsePatterns:Er,defaultParseWidth:"any"}),day:be({matchPatterns:Ir,defaultMatchWidth:"wide",parsePatterns:Br,defaultParseWidth:"any"}),dayPeriod:be({matchPatterns:$r,defaultMatchWidth:"any",parsePatterns:Yr,defaultParseWidth:"any"})},Ge={code:"pt",formatDistance:vr,formatLong:br,formatRelative:Nr,localize:kr,match:qr,options:{weekStartsOn:1,firstWeekContainsDate:4}};var w=function(){return w=Object.assign||function(r){for(var a,o=1,n=arguments.length;o<n;o++){a=arguments[o];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},w.apply(this,arguments)};function Hr(e,r){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(a[o[n]]=e[o[n]]);return a}function Gt(e,r,a){for(var o=0,n=r.length,s;o<n;o++)(s||!(o in r))&&(s||(s=Array.prototype.slice.call(r,0,o)),s[o]=r[o]);return e.concat(s||Array.prototype.slice.call(r))}function De(e){return e.mode==="multiple"}function _e(e){return e.mode==="range"}function Le(e){return e.mode==="single"}var zr={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Vr(e,r){return Q(e,"LLLL y",r)}function Kr(e,r){return Q(e,"d",r)}function Ur(e,r){return Q(e,"LLLL",r)}function Xr(e){return"".concat(e)}function Gr(e,r){return Q(e,"cccccc",r)}function Qr(e,r){return Q(e,"yyyy",r)}var Zr=Object.freeze({__proto__:null,formatCaption:Vr,formatDay:Kr,formatMonthCaption:Ur,formatWeekNumber:Xr,formatWeekdayName:Gr,formatYearCaption:Qr}),Jr=function(e,r,a){return Q(e,"do MMMM (EEEE)",a)},eo=function(){return"Month: "},to=function(){return"Go to next month"},ao=function(){return"Go to previous month"},ro=function(e,r){return Q(e,"cccc",r)},oo=function(e){return"Week n. ".concat(e)},no=function(){return"Year: "},so=Object.freeze({__proto__:null,labelDay:Jr,labelMonthDropdown:eo,labelNext:to,labelPrevious:ao,labelWeekNumber:oo,labelWeekday:ro,labelYearDropdown:no});function io(){var e="buttons",r=zr,a=Ga,o={},n={},s=1,i={},d=new Date;return{captionLayout:e,classNames:r,formatters:Zr,labels:so,locale:a,modifiersClassNames:o,modifiers:n,numberOfMonths:s,styles:i,today:d,mode:"default"}}function lo(e){var r=e.fromYear,a=e.toYear,o=e.fromMonth,n=e.toMonth,s=e.fromDate,i=e.toDate;return o?s=$(o):r&&(s=new Date(r,0,1)),n?i=ot(n):a&&(i=new Date(a,11,31)),{fromDate:s?Fe(s):void 0,toDate:i?Fe(i):void 0}}var Qt=b.createContext(void 0);function co(e){var r,a=e.initialProps,o=io(),n=lo(a),s=n.fromDate,i=n.toDate,d=(r=a.captionLayout)!==null&&r!==void 0?r:o.captionLayout;d!=="buttons"&&(!s||!i)&&(d="buttons");var c;(Le(a)||De(a)||_e(a))&&(c=a.onSelect);var m=w(w(w({},o),a),{captionLayout:d,classNames:w(w({},o.classNames),a.classNames),components:w({},a.components),formatters:w(w({},o.formatters),a.formatters),fromDate:s,labels:w(w({},o.labels),a.labels),mode:a.mode||o.mode,modifiers:w(w({},o.modifiers),a.modifiers),modifiersClassNames:w(w({},o.modifiersClassNames),a.modifiersClassNames),onSelect:c,styles:w(w({},o.styles),a.styles),toDate:i});return t.jsx(Qt.Provider,{value:m,children:e.children})}function k(){var e=b.useContext(Qt);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Zt(e){var r=k(),a=r.locale,o=r.classNames,n=r.styles,s=r.formatters.formatCaption;return t.jsx("div",{className:o.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:a})})}function uo(e){return t.jsx("svg",w({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:t.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Jt(e){var r,a,o=e.onChange,n=e.value,s=e.children,i=e.caption,d=e.className,c=e.style,m=k(),u=(a=(r=m.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&a!==void 0?a:uo;return t.jsxs("div",{className:d,style:c,children:[t.jsx("span",{className:m.classNames.vhidden,children:e["aria-label"]}),t.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:n,onChange:o,children:s}),t.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[i,t.jsx(u,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function mo(e){var r,a=k(),o=a.fromDate,n=a.toDate,s=a.styles,i=a.locale,d=a.formatters.formatMonthCaption,c=a.classNames,m=a.components,u=a.labels.labelMonthDropdown;if(!o)return t.jsx(t.Fragment,{});if(!n)return t.jsx(t.Fragment,{});var p=[];if(hr(o,n))for(var v=$(o),j=o.getMonth();j<=n.getMonth();j++)p.push(Xe(v,j));else for(var v=$(new Date),j=0;j<=11;j++)p.push(Xe(v,j));var D=function(y){var R=Number(y.target.value),P=Xe($(e.displayMonth),R);e.onChange(P)},C=(r=m?.Dropdown)!==null&&r!==void 0?r:Jt;return t.jsx(C,{name:"months","aria-label":u(),className:c.dropdown_month,style:s.dropdown_month,onChange:D,value:e.displayMonth.getMonth(),caption:d(e.displayMonth,{locale:i}),children:p.map(function(y){return t.jsx("option",{value:y.getMonth(),children:d(y,{locale:i})},y.getMonth())})})}function fo(e){var r,a=e.displayMonth,o=k(),n=o.fromDate,s=o.toDate,i=o.locale,d=o.styles,c=o.classNames,m=o.components,u=o.formatters.formatYearCaption,p=o.labels.labelYearDropdown,v=[];if(!n)return t.jsx(t.Fragment,{});if(!s)return t.jsx(t.Fragment,{});for(var j=n.getFullYear(),D=s.getFullYear(),C=j;C<=D;C++)v.push(Lt(Qa(new Date),C));var y=function(P){var te=Lt($(a),Number(P.target.value));e.onChange(te)},R=(r=m?.Dropdown)!==null&&r!==void 0?r:Jt;return t.jsx(R,{name:"years","aria-label":p(),className:c.dropdown_year,style:d.dropdown_year,onChange:y,value:a.getFullYear(),caption:u(a,{locale:i}),children:v.map(function(P){return t.jsx("option",{value:P.getFullYear(),children:u(P,{locale:i})},P.getFullYear())})})}function ho(e,r){var a=b.useState(e),o=a[0],n=a[1],s=r===void 0?o:r;return[s,n]}function po(e){var r=e.month,a=e.defaultMonth,o=e.today,n=r||a||o||new Date,s=e.toDate,i=e.fromDate,d=e.numberOfMonths,c=d===void 0?1:d;if(s&&we(s,n)<0){var m=-1*(c-1);n=U(s,m)}return i&&we(n,i)<0&&(n=i),$(n)}function vo(){var e=k(),r=po(e),a=ho(r,e.month),o=a[0],n=a[1],s=function(i){var d;if(!e.disableNavigation){var c=$(i);n(c),(d=e.onMonthChange)===null||d===void 0||d.call(e,c)}};return[o,s]}function xo(e,r){for(var a=r.reverseMonths,o=r.numberOfMonths,n=$(e),s=$(U(n,o)),i=we(s,n),d=[],c=0;c<i;c++){var m=U(n,c);d.push(m)}return a&&(d=d.reverse()),d}function go(e,r){if(!r.disableNavigation){var a=r.toDate,o=r.pagedNavigation,n=r.numberOfMonths,s=n===void 0?1:n,i=o?s:1,d=$(e);if(!a)return U(d,i);var c=we(a,e);if(!(c<s))return U(d,i)}}function yo(e,r){if(!r.disableNavigation){var a=r.fromDate,o=r.pagedNavigation,n=r.numberOfMonths,s=n===void 0?1:n,i=o?s:1,d=$(e);if(!a)return U(d,-i);var c=we(d,a);if(!(c<=0))return U(d,-i)}}var ea=b.createContext(void 0);function bo(e){var r=k(),a=vo(),o=a[0],n=a[1],s=xo(o,r),i=go(o,r),d=yo(o,r),c=function(p){return s.some(function(v){return st(p,v)})},m=function(p,v){c(p)||(v&&Xt(p,v)?n(U(p,1+r.numberOfMonths*-1)):n(p))},u={currentMonth:o,displayMonths:s,goToMonth:n,goToDate:m,previousMonth:d,nextMonth:i,isDateDisplayed:c};return t.jsx(ea.Provider,{value:u,children:e.children})}function Ce(){var e=b.useContext(ea);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Et(e){var r,a=k(),o=a.classNames,n=a.styles,s=a.components,i=Ce().goToMonth,d=function(u){i(U(u,e.displayIndex?-e.displayIndex:0))},c=(r=s?.CaptionLabel)!==null&&r!==void 0?r:Zt,m=t.jsx(c,{id:e.id,displayMonth:e.displayMonth});return t.jsxs("div",{className:o.caption_dropdowns,style:n.caption_dropdowns,children:[t.jsx("div",{className:o.vhidden,children:m}),t.jsx(mo,{onChange:d,displayMonth:e.displayMonth}),t.jsx(fo,{onChange:d,displayMonth:e.displayMonth})]})}function jo(e){return t.jsx("svg",w({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function No(e){return t.jsx("svg",w({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var We=b.forwardRef(function(e,r){var a=k(),o=a.classNames,n=a.styles,s=[o.button_reset,o.button];e.className&&s.push(e.className);var i=s.join(" "),d=w(w({},n.button_reset),n.button);return e.style&&Object.assign(d,e.style),t.jsx("button",w({},e,{ref:r,type:"button",className:i,style:d}))});function wo(e){var r,a,o=k(),n=o.dir,s=o.locale,i=o.classNames,d=o.styles,c=o.labels,m=c.labelPrevious,u=c.labelNext,p=o.components;if(!e.nextMonth&&!e.previousMonth)return t.jsx(t.Fragment,{});var v=m(e.previousMonth,{locale:s}),j=[i.nav_button,i.nav_button_previous].join(" "),D=u(e.nextMonth,{locale:s}),C=[i.nav_button,i.nav_button_next].join(" "),y=(r=p?.IconRight)!==null&&r!==void 0?r:No,R=(a=p?.IconLeft)!==null&&a!==void 0?a:jo;return t.jsxs("div",{className:i.nav,style:d.nav,children:[!e.hidePrevious&&t.jsx(We,{name:"previous-month","aria-label":v,className:j,style:d.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:n==="rtl"?t.jsx(y,{className:i.nav_icon,style:d.nav_icon}):t.jsx(R,{className:i.nav_icon,style:d.nav_icon})}),!e.hideNext&&t.jsx(We,{name:"next-month","aria-label":D,className:C,style:d.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:n==="rtl"?t.jsx(R,{className:i.nav_icon,style:d.nav_icon}):t.jsx(y,{className:i.nav_icon,style:d.nav_icon})})]})}function It(e){var r=k().numberOfMonths,a=Ce(),o=a.previousMonth,n=a.nextMonth,s=a.goToMonth,i=a.displayMonths,d=i.findIndex(function(D){return st(e.displayMonth,D)}),c=d===0,m=d===i.length-1,u=r>1&&(c||!m),p=r>1&&(m||!c),v=function(){o&&s(o)},j=function(){n&&s(n)};return t.jsx(wo,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:p,nextMonth:n,previousMonth:o,onPreviousClick:v,onNextClick:j})}function Do(e){var r,a=k(),o=a.classNames,n=a.disableNavigation,s=a.styles,i=a.captionLayout,d=a.components,c=(r=d?.CaptionLabel)!==null&&r!==void 0?r:Zt,m;return n?m=t.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?m=t.jsx(Et,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?m=t.jsxs(t.Fragment,{children:[t.jsx(Et,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),t.jsx(It,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):m=t.jsxs(t.Fragment,{children:[t.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(It,{displayMonth:e.displayMonth,id:e.id})]}),t.jsx("div",{className:o.caption,style:s.caption,children:m})}function _o(e){var r=k(),a=r.footer,o=r.styles,n=r.classNames.tfoot;return a?t.jsx("tfoot",{className:n,style:o.tfoot,children:t.jsx("tr",{children:t.jsx("td",{colSpan:8,children:a})})}):t.jsx(t.Fragment,{})}function Co(e,r,a){for(var o=a?rt(new Date):Ne(new Date,{locale:e,weekStartsOn:r}),n=[],s=0;s<7;s++){var i=I(o,s);n.push(i)}return n}function Mo(){var e=k(),r=e.classNames,a=e.styles,o=e.showWeekNumber,n=e.locale,s=e.weekStartsOn,i=e.ISOWeek,d=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,m=Co(n,s,i);return t.jsxs("tr",{style:a.head_row,className:r.head_row,children:[o&&t.jsx("td",{style:a.head_cell,className:r.head_cell}),m.map(function(u,p){return t.jsx("th",{scope:"col",className:r.head_cell,style:a.head_cell,"aria-label":c(u,{locale:n}),children:d(u,{locale:n})},p)})]})}function Po(){var e,r=k(),a=r.classNames,o=r.styles,n=r.components,s=(e=n?.HeadRow)!==null&&e!==void 0?e:Mo;return t.jsx("thead",{style:o.head,className:a.head,children:t.jsx(s,{})})}function So(e){var r=k(),a=r.locale,o=r.formatters.formatDay;return t.jsx(t.Fragment,{children:o(e.date,{locale:a})})}var it=b.createContext(void 0);function ko(e){if(!De(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return t.jsx(it.Provider,{value:r,children:e.children})}return t.jsx(Ro,{initialProps:e.initialProps,children:e.children})}function Ro(e){var r=e.initialProps,a=e.children,o=r.selected,n=r.min,s=r.max,i=function(m,u,p){var v,j;(v=r.onDayClick)===null||v===void 0||v.call(r,m,u,p);var D=!!(u.selected&&n&&o?.length===n);if(!D){var C=!!(!u.selected&&s&&o?.length===s);if(!C){var y=o?Gt([],o):[];if(u.selected){var R=y.findIndex(function(P){return B(m,P)});y.splice(R,1)}else y.push(m);(j=r.onSelect)===null||j===void 0||j.call(r,y,m,u,p)}}},d={disabled:[]};o&&d.disabled.push(function(m){var u=s&&o.length>s-1,p=o.some(function(v){return B(v,m)});return!!(u&&!p)});var c={selected:o,onDayClick:i,modifiers:d};return t.jsx(it.Provider,{value:c,children:a})}function lt(){var e=b.useContext(it);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function To(e,r){var a=r||{},o=a.from,n=a.to;return o&&n?B(n,e)&&B(o,e)?void 0:B(n,e)?{from:n,to:void 0}:B(o,e)?void 0:at(o,e)?{from:e,to:n}:{from:o,to:e}:n?at(e,n)?{from:n,to:e}:{from:e,to:n}:o?Xt(e,o)?{from:e,to:o}:{from:o,to:e}:{from:e,to:void 0}}var dt=b.createContext(void 0);function Oo(e){if(!_e(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return t.jsx(dt.Provider,{value:r,children:e.children})}return t.jsx(Ao,{initialProps:e.initialProps,children:e.children})}function Ao(e){var r=e.initialProps,a=e.children,o=r.selected,n=o||{},s=n.from,i=n.to,d=r.min,c=r.max,m=function(j,D,C){var y,R;(y=r.onDayClick)===null||y===void 0||y.call(r,j,D,C);var P=To(j,o);(R=r.onSelect)===null||R===void 0||R.call(r,P,j,D,C)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(u.range_start=[s],i?(u.range_end=[i],B(s,i)||(u.range_middle=[{after:s,before:i}])):u.range_end=[s]):i&&(u.range_start=[i],u.range_end=[i]),d&&(s&&!i&&u.disabled.push({after:Ue(s,d-1),before:I(s,d-1)}),s&&i&&u.disabled.push({after:s,before:I(s,d-1)}),!s&&i&&u.disabled.push({after:Ue(i,d-1),before:I(i,d-1)})),c){if(s&&!i&&(u.disabled.push({before:I(s,-c+1)}),u.disabled.push({after:I(s,c-1)})),s&&i){var p=ee(i,s)+1,v=c-p;u.disabled.push({before:Ue(s,v)}),u.disabled.push({after:I(i,v)})}!s&&i&&(u.disabled.push({before:I(i,-c+1)}),u.disabled.push({after:I(i,c-1)}))}return t.jsx(dt.Provider,{value:{selected:o,onDayClick:m,modifiers:u},children:a})}function ct(){var e=b.useContext(dt);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ae(e){return Array.isArray(e)?Gt([],e):e!==void 0?[e]:[]}function Fo(e){var r={};return Object.entries(e).forEach(function(a){var o=a[0],n=a[1];r[o]=Ae(n)}),r}var X;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(X||(X={}));var Wo=X.Selected,J=X.Disabled,Lo=X.Hidden,Eo=X.Today,Qe=X.RangeEnd,Ze=X.RangeMiddle,Je=X.RangeStart,Io=X.Outside;function Bo(e,r,a){var o,n=(o={},o[Wo]=Ae(e.selected),o[J]=Ae(e.disabled),o[Lo]=Ae(e.hidden),o[Eo]=[e.today],o[Qe]=[],o[Ze]=[],o[Je]=[],o[Io]=[],o);return e.fromDate&&n[J].push({before:e.fromDate}),e.toDate&&n[J].push({after:e.toDate}),De(e)?n[J]=n[J].concat(r.modifiers[J]):_e(e)&&(n[J]=n[J].concat(a.modifiers[J]),n[Je]=a.modifiers[Je],n[Ze]=a.modifiers[Ze],n[Qe]=a.modifiers[Qe]),n}var ta=b.createContext(void 0);function $o(e){var r=k(),a=lt(),o=ct(),n=Bo(r,a,o),s=Fo(r.modifiers),i=w(w({},n),s);return t.jsx(ta.Provider,{value:i,children:e.children})}function aa(){var e=b.useContext(ta);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Yo(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function qo(e){return!!(e&&typeof e=="object"&&"from"in e)}function Ho(e){return!!(e&&typeof e=="object"&&"after"in e)}function zo(e){return!!(e&&typeof e=="object"&&"before"in e)}function Vo(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Ko(e,r){var a,o=r.from,n=r.to;if(o&&n){var s=ee(n,o)<0;s&&(a=[n,o],o=a[0],n=a[1]);var i=ee(e,o)>=0&&ee(n,e)>=0;return i}return n?B(n,e):o?B(o,e):!1}function Uo(e){return Kt(e)}function Xo(e){return Array.isArray(e)&&e.every(Kt)}function Go(e,r){return r.some(function(a){if(typeof a=="boolean")return a;if(Uo(a))return B(e,a);if(Xo(a))return a.includes(e);if(qo(a))return Ko(e,a);if(Vo(a))return a.dayOfWeek.includes(e.getDay());if(Yo(a)){var o=ee(a.before,e),n=ee(a.after,e),s=o>0,i=n<0,d=at(a.before,a.after);return d?i&&s:s||i}return Ho(a)?ee(e,a.after)>0:zo(a)?ee(a.before,e)>0:typeof a=="function"?a(e):!1})}function ut(e,r,a){var o=Object.keys(r).reduce(function(s,i){var d=r[i];return Go(e,d)&&s.push(i),s},[]),n={};return o.forEach(function(s){return n[s]=!0}),a&&!st(e,a)&&(n.outside=!0),n}function Qo(e,r){for(var a=$(e[0]),o=ot(e[e.length-1]),n,s,i=a;i<=o;){var d=ut(i,r),c=!d.disabled&&!d.hidden;if(!c){i=I(i,1);continue}if(d.selected)return i;d.today&&!s&&(s=i),n||(n=i),i=I(i,1)}return s||n}var Zo=365;function ra(e,r){var a=r.moveBy,o=r.direction,n=r.context,s=r.modifiers,i=r.retry,d=i===void 0?{count:0,lastFocused:e}:i,c=n.weekStartsOn,m=n.fromDate,u=n.toDate,p=n.locale,v={day:I,week:tt,month:U,year:sr,startOfWeek:function(y){return n.ISOWeek?rt(y):Ne(y,{locale:p,weekStartsOn:c})},endOfWeek:function(y){return n.ISOWeek?Ut(y):nt(y,{locale:p,weekStartsOn:c})}},j=v[a](e,o==="after"?1:-1);o==="before"&&m?j=ir([m,j]):o==="after"&&u&&(j=lr([u,j]));var D=!0;if(s){var C=ut(j,s);D=!C.disabled&&!C.hidden}return D?j:d.count>Zo?d.lastFocused:ra(j,{moveBy:a,direction:o,context:n,modifiers:s,retry:w(w({},d),{count:d.count+1})})}var oa=b.createContext(void 0);function Jo(e){var r=Ce(),a=aa(),o=b.useState(),n=o[0],s=o[1],i=b.useState(),d=i[0],c=i[1],m=Qo(r.displayMonths,a),u=n??(d&&r.isDateDisplayed(d))?d:m,p=function(){c(n),s(void 0)},v=function(y){s(y)},j=k(),D=function(y,R){if(n){var P=ra(n,{moveBy:y,direction:R,context:j,modifiers:a});B(n,P)||(r.goToDate(P,n),v(P))}},C={focusedDay:n,focusTarget:u,blur:p,focus:v,focusDayAfter:function(){return D("day","after")},focusDayBefore:function(){return D("day","before")},focusWeekAfter:function(){return D("week","after")},focusWeekBefore:function(){return D("week","before")},focusMonthBefore:function(){return D("month","before")},focusMonthAfter:function(){return D("month","after")},focusYearBefore:function(){return D("year","before")},focusYearAfter:function(){return D("year","after")},focusStartOfWeek:function(){return D("startOfWeek","before")},focusEndOfWeek:function(){return D("endOfWeek","after")}};return t.jsx(oa.Provider,{value:C,children:e.children})}function mt(){var e=b.useContext(oa);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function en(e,r){var a=aa(),o=ut(e,a,r);return o}var ft=b.createContext(void 0);function tn(e){if(!Le(e.initialProps)){var r={selected:void 0};return t.jsx(ft.Provider,{value:r,children:e.children})}return t.jsx(an,{initialProps:e.initialProps,children:e.children})}function an(e){var r=e.initialProps,a=e.children,o=function(s,i,d){var c,m,u;if((c=r.onDayClick)===null||c===void 0||c.call(r,s,i,d),i.selected&&!r.required){(m=r.onSelect)===null||m===void 0||m.call(r,void 0,s,i,d);return}(u=r.onSelect)===null||u===void 0||u.call(r,s,s,i,d)},n={selected:r.selected,onDayClick:o};return t.jsx(ft.Provider,{value:n,children:a})}function na(){var e=b.useContext(ft);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function rn(e,r){var a=k(),o=na(),n=lt(),s=ct(),i=mt(),d=i.focusDayAfter,c=i.focusDayBefore,m=i.focusWeekAfter,u=i.focusWeekBefore,p=i.blur,v=i.focus,j=i.focusMonthBefore,D=i.focusMonthAfter,C=i.focusYearBefore,y=i.focusYearAfter,R=i.focusStartOfWeek,P=i.focusEndOfWeek,te=function(N){var g,G,de,ce;Le(a)?(g=o.onDayClick)===null||g===void 0||g.call(o,e,r,N):De(a)?(G=n.onDayClick)===null||G===void 0||G.call(n,e,r,N):_e(a)?(de=s.onDayClick)===null||de===void 0||de.call(s,e,r,N):(ce=a.onDayClick)===null||ce===void 0||ce.call(a,e,r,N)},H=function(N){var g;v(e),(g=a.onDayFocus)===null||g===void 0||g.call(a,e,r,N)},se=function(N){var g;p(),(g=a.onDayBlur)===null||g===void 0||g.call(a,e,r,N)},V=function(N){var g;(g=a.onDayMouseEnter)===null||g===void 0||g.call(a,e,r,N)},K=function(N){var g;(g=a.onDayMouseLeave)===null||g===void 0||g.call(a,e,r,N)},Y=function(N){var g;(g=a.onDayPointerEnter)===null||g===void 0||g.call(a,e,r,N)},ae=function(N){var g;(g=a.onDayPointerLeave)===null||g===void 0||g.call(a,e,r,N)},Pe=function(N){var g;(g=a.onDayTouchCancel)===null||g===void 0||g.call(a,e,r,N)},T=function(N){var g;(g=a.onDayTouchEnd)===null||g===void 0||g.call(a,e,r,N)},pt=function(N){var g;(g=a.onDayTouchMove)===null||g===void 0||g.call(a,e,r,N)},ie=function(N){var g;(g=a.onDayTouchStart)===null||g===void 0||g.call(a,e,r,N)},xe=function(N){var g;(g=a.onDayKeyUp)===null||g===void 0||g.call(a,e,r,N)},ge=function(N){var g;switch(N.key){case"ArrowLeft":N.preventDefault(),N.stopPropagation(),a.dir==="rtl"?d():c();break;case"ArrowRight":N.preventDefault(),N.stopPropagation(),a.dir==="rtl"?c():d();break;case"ArrowDown":N.preventDefault(),N.stopPropagation(),m();break;case"ArrowUp":N.preventDefault(),N.stopPropagation(),u();break;case"PageUp":N.preventDefault(),N.stopPropagation(),N.shiftKey?C():j();break;case"PageDown":N.preventDefault(),N.stopPropagation(),N.shiftKey?y():D();break;case"Home":N.preventDefault(),N.stopPropagation(),R();break;case"End":N.preventDefault(),N.stopPropagation(),P();break}(g=a.onDayKeyDown)===null||g===void 0||g.call(a,e,r,N)},le={onClick:te,onFocus:H,onBlur:se,onKeyDown:ge,onKeyUp:xe,onMouseEnter:V,onMouseLeave:K,onPointerEnter:Y,onPointerLeave:ae,onTouchCancel:Pe,onTouchEnd:T,onTouchMove:pt,onTouchStart:ie};return le}function on(){var e=k(),r=na(),a=lt(),o=ct(),n=Le(e)?r.selected:De(e)?a.selected:_e(e)?o.selected:void 0;return n}function nn(e){return Object.values(X).includes(e)}function sn(e,r){var a=[e.classNames.day];return Object.keys(r).forEach(function(o){var n=e.modifiersClassNames[o];if(n)a.push(n);else if(nn(o)){var s=e.classNames["day_".concat(o)];s&&a.push(s)}}),a}function ln(e,r){var a=w({},e.styles.day);return Object.keys(r).forEach(function(o){var n;a=w(w({},a),(n=e.modifiersStyles)===null||n===void 0?void 0:n[o])}),a}function dn(e,r,a){var o,n,s,i=k(),d=mt(),c=en(e,r),m=rn(e,c),u=on(),p=!!(i.onDayClick||i.mode!=="default");b.useEffect(function(){var V;c.outside||d.focusedDay&&p&&B(d.focusedDay,e)&&((V=a.current)===null||V===void 0||V.focus())},[d.focusedDay,e,a,p,c.outside]);var v=sn(i,c).join(" "),j=ln(i,c),D=!!(c.outside&&!i.showOutsideDays||c.hidden),C=(s=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&s!==void 0?s:So,y=t.jsx(C,{date:e,displayMonth:r,activeModifiers:c}),R={style:j,className:v,children:y,role:"gridcell"},P=d.focusTarget&&B(d.focusTarget,e)&&!c.outside,te=d.focusedDay&&B(d.focusedDay,e),H=w(w(w({},R),(o={disabled:c.disabled,role:"gridcell"},o["aria-selected"]=c.selected,o.tabIndex=te||P?0:-1,o)),m),se={isButton:p,isHidden:D,activeModifiers:c,selectedDays:u,buttonProps:H,divProps:R};return se}function cn(e){var r=b.useRef(null),a=dn(e.date,e.displayMonth,r);return a.isHidden?t.jsx("div",{role:"gridcell"}):a.isButton?t.jsx(We,w({name:"day",ref:r},a.buttonProps)):t.jsx("div",w({},a.divProps))}function un(e){var r=e.number,a=e.dates,o=k(),n=o.onWeekNumberClick,s=o.styles,i=o.classNames,d=o.locale,c=o.labels.labelWeekNumber,m=o.formatters.formatWeekNumber,u=m(Number(r),{locale:d});if(!n)return t.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:u});var p=c(Number(r),{locale:d}),v=function(j){n(r,a,j)};return t.jsx(We,{name:"week-number","aria-label":p,className:i.weeknumber,style:s.weeknumber,onClick:v,children:u})}function mn(e){var r,a,o=k(),n=o.styles,s=o.classNames,i=o.showWeekNumber,d=o.components,c=(r=d?.Day)!==null&&r!==void 0?r:cn,m=(a=d?.WeekNumber)!==null&&a!==void 0?a:un,u;return i&&(u=t.jsx("td",{className:s.cell,style:n.cell,children:t.jsx(m,{number:e.weekNumber,dates:e.dates})})),t.jsxs("tr",{className:s.row,style:n.row,children:[u,e.dates.map(function(p){return t.jsx("td",{className:s.cell,style:n.cell,role:"presentation",children:t.jsx(c,{displayMonth:e.displayMonth,date:p})},ur(p))})]})}function Bt(e,r,a){for(var o=a?.ISOWeek?Ut(r):nt(r,a),n=a?.ISOWeek?rt(e):Ne(e,a),s=ee(o,n),i=[],d=0;d<=s;d++)i.push(I(n,d));var c=i.reduce(function(m,u){var p=a?.ISOWeek?Za(u):Ja(u,a),v=m.find(function(j){return j.weekNumber===p});return v?(v.dates.push(u),m):(m.push({weekNumber:p,dates:[u]}),m)},[]);return c}function fn(e,r){var a=Bt($(e),ot(e),r);if(r?.useFixedWeeks){var o=fr(e,r);if(o<6){var n=a[a.length-1],s=n.dates[n.dates.length-1],i=tt(s,6-o),d=Bt(tt(s,1),i,r);a.push.apply(a,d)}}return a}function hn(e){var r,a,o,n=k(),s=n.locale,i=n.classNames,d=n.styles,c=n.hideHead,m=n.fixedWeeks,u=n.components,p=n.weekStartsOn,v=n.firstWeekContainsDate,j=n.ISOWeek,D=fn(e.displayMonth,{useFixedWeeks:!!m,ISOWeek:j,locale:s,weekStartsOn:p,firstWeekContainsDate:v}),C=(r=u?.Head)!==null&&r!==void 0?r:Po,y=(a=u?.Row)!==null&&a!==void 0?a:mn,R=(o=u?.Footer)!==null&&o!==void 0?o:_o;return t.jsxs("table",{id:e.id,className:i.table,style:d.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&t.jsx(C,{}),t.jsx("tbody",{className:i.tbody,style:d.tbody,children:D.map(function(P){return t.jsx(y,{displayMonth:e.displayMonth,dates:P.dates,weekNumber:P.weekNumber},P.weekNumber)})}),t.jsx(R,{displayMonth:e.displayMonth})]})}function pn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var vn=pn()?b.useLayoutEffect:b.useEffect,et=!1,xn=0;function $t(){return"react-day-picker-".concat(++xn)}function gn(e){var r,a=e??(et?$t():null),o=b.useState(a),n=o[0],s=o[1];return vn(function(){n===null&&s($t())},[]),b.useEffect(function(){et===!1&&(et=!0)},[]),(r=e??n)!==null&&r!==void 0?r:void 0}function yn(e){var r,a,o=k(),n=o.dir,s=o.classNames,i=o.styles,d=o.components,c=Ce().displayMonths,m=gn(o.id?"".concat(o.id,"-").concat(e.displayIndex):void 0),u=o.id?"".concat(o.id,"-grid-").concat(e.displayIndex):void 0,p=[s.month],v=i.month,j=e.displayIndex===0,D=e.displayIndex===c.length-1,C=!j&&!D;n==="rtl"&&(r=[j,D],D=r[0],j=r[1]),j&&(p.push(s.caption_start),v=w(w({},v),i.caption_start)),D&&(p.push(s.caption_end),v=w(w({},v),i.caption_end)),C&&(p.push(s.caption_between),v=w(w({},v),i.caption_between));var y=(a=d?.Caption)!==null&&a!==void 0?a:Do;return t.jsxs("div",{className:p.join(" "),style:v,children:[t.jsx(y,{id:m,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(hn,{id:u,"aria-labelledby":m,displayMonth:e.displayMonth})]},e.displayIndex)}function bn(e){var r=k(),a=r.classNames,o=r.styles;return t.jsx("div",{className:a.months,style:o.months,children:e.children})}function jn(e){var r,a,o=e.initialProps,n=k(),s=mt(),i=Ce(),d=b.useState(!1),c=d[0],m=d[1];b.useEffect(function(){n.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),m(!0)))},[n.initialFocus,c,s.focus,s.focusTarget,s]);var u=[n.classNames.root,n.className];n.numberOfMonths>1&&u.push(n.classNames.multiple_months),n.showWeekNumber&&u.push(n.classNames.with_weeknumber);var p=w(w({},n.styles.root),n.style),v=Object.keys(o).filter(function(D){return D.startsWith("data-")}).reduce(function(D,C){var y;return w(w({},D),(y={},y[C]=o[C],y))},{}),j=(a=(r=o.components)===null||r===void 0?void 0:r.Months)!==null&&a!==void 0?a:bn;return t.jsx("div",w({className:u.join(" "),style:p,dir:n.dir,id:n.id,nonce:o.nonce,title:o.title,lang:o.lang},v,{children:t.jsx(j,{children:i.displayMonths.map(function(D,C){return t.jsx(yn,{displayIndex:C,displayMonth:D},C)})})}))}function Nn(e){var r=e.children,a=Hr(e,["children"]);return t.jsx(co,{initialProps:a,children:t.jsx(bo,{children:t.jsx(tn,{initialProps:a,children:t.jsx(ko,{initialProps:a,children:t.jsx(Oo,{initialProps:a,children:t.jsx($o,{children:t.jsx(Jo,{children:r})})})})})})})}function wn(e){return t.jsx(Nn,w({},e,{children:t.jsx(jn,{initialProps:e})}))}function sa({className:e,classNames:r,showOutsideDays:a=!0,...o}){return t.jsx(wn,{showOutsideDays:a,className:Oe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Oe(Pt({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Oe(Pt({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...n})=>t.jsx(ja,{className:"h-4 w-4"}),IconRight:({...n})=>t.jsx(Na,{className:"h-4 w-4"})},...o})}sa.displayName="Calendar";var Ee="Popover",[ia,Jn]=Ta(Ee,[Yt]),Me=Yt(),[Dn,oe]=ia(Ee),la=e=>{const{__scopePopover:r,children:a,open:o,defaultOpen:n,onOpenChange:s,modal:i=!1}=e,d=Me(r),c=b.useRef(null),[m,u]=b.useState(!1),[p,v]=Wa({prop:o,defaultProp:n??!1,onChange:s,caller:Ee});return t.jsx(La,{...d,children:t.jsx(Dn,{scope:r,contentId:er(),triggerRef:c,open:p,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(j=>!j),[v]),hasCustomAnchor:m,onCustomAnchorAdd:b.useCallback(()=>u(!0),[]),onCustomAnchorRemove:b.useCallback(()=>u(!1),[]),modal:i,children:a})})};la.displayName=Ee;var da="PopoverAnchor",_n=b.forwardRef((e,r)=>{const{__scopePopover:a,...o}=e,n=oe(da,a),s=Me(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=n;return b.useEffect(()=>(i(),()=>d()),[i,d]),t.jsx(qt,{...s,...o,ref:r})});_n.displayName=da;var ca="PopoverTrigger",ua=b.forwardRef((e,r)=>{const{__scopePopover:a,...o}=e,n=oe(ca,a),s=Me(a),i=Ht(r,n.triggerRef),d=t.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":va(n.open),...o,ref:i,onClick:je(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?d:t.jsx(qt,{asChild:!0,...s,children:d})});ua.displayName=ca;var ht="PopoverPortal",[Cn,Mn]=ia(ht,{forceMount:void 0}),ma=e=>{const{__scopePopover:r,forceMount:a,children:o,container:n}=e,s=oe(ht,r);return t.jsx(Cn,{scope:r,forceMount:a,children:t.jsx(Vt,{present:a||s.open,children:t.jsx(Ea,{asChild:!0,container:n,children:o})})})};ma.displayName=ht;var ve="PopoverContent",fa=b.forwardRef((e,r)=>{const a=Mn(ve,e.__scopePopover),{forceMount:o=a.forceMount,...n}=e,s=oe(ve,e.__scopePopover);return t.jsx(Vt,{present:o||s.open,children:s.modal?t.jsx(Sn,{...n,ref:r}):t.jsx(kn,{...n,ref:r})})});fa.displayName=ve;var Pn=Ia("PopoverContent.RemoveScroll"),Sn=b.forwardRef((e,r)=>{const a=oe(ve,e.__scopePopover),o=b.useRef(null),n=Ht(r,o),s=b.useRef(!1);return b.useEffect(()=>{const i=o.current;if(i)return Ca(i)},[]),t.jsx(Ma,{as:Pn,allowPinchZoom:!0,children:t.jsx(ha,{...e,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{i.preventDefault(),s.current||a.triggerRef.current?.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const d=i.detail.originalEvent,c=d.button===0&&d.ctrlKey===!0,m=d.button===2||c;s.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),kn=b.forwardRef((e,r)=>{const a=oe(ve,e.__scopePopover),o=b.useRef(!1),n=b.useRef(!1);return t.jsx(ha,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||a.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=s.target;a.triggerRef.current?.contains(i)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),ha=b.forwardRef((e,r)=>{const{__scopePopover:a,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:m,onInteractOutside:u,...p}=e,v=oe(ve,a),j=Me(a);return Pa(),t.jsx(Sa,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:n,onUnmountAutoFocus:s,children:t.jsx(Oa,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:m,onDismiss:()=>v.onOpenChange(!1),children:t.jsx(Aa,{"data-state":va(v.open),role:"dialog",id:v.contentId,...j,...p,ref:r,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pa="PopoverClose",Rn=b.forwardRef((e,r)=>{const{__scopePopover:a,...o}=e,n=oe(pa,a);return t.jsx(zt.button,{type:"button",...o,ref:r,onClick:je(e.onClick,()=>n.onOpenChange(!1))})});Rn.displayName=pa;var Tn="PopoverArrow",On=b.forwardRef((e,r)=>{const{__scopePopover:a,...o}=e,n=Me(a);return t.jsx(Fa,{...n,...o,ref:r})});On.displayName=Tn;function va(e){return e?"open":"closed"}var An=la,Fn=ua,Wn=ma,xa=fa;const Ln=An,En=Fn,ga=b.forwardRef(({className:e,align:r="center",sideOffset:a=4,...o},n)=>t.jsx(Wn,{children:t.jsx(xa,{ref:n,align:r,sideOffset:a,className:Oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));ga.displayName=xa.displayName;const es=()=>{const{user:e}=Ba(),[r]=Da(),a=_a(),o=wa(),[n,s]=b.useState($a()),[i,d]=b.useState(!1),[c,m]=b.useState(!1),[u,p]=b.useState(!1),[v,j]=b.useState([]),[D,C]=b.useState(""),[y,R]=b.useState(""),[P,te]=b.useState(""),[H,se]=b.useState(""),V=n.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");b.useEffect(()=>{const l=r.get("filter");R(l||"")},[r]);const{data:K=[]}=qa(e?.uid||""),{data:Y=[]}=Ha(e?.uid||""),{data:ae=[]}=za(e?.uid||""),Pe=Va(),T=ae.filter(l=>(console.log("Comparando:",l.date,"===",V,"?",l.date===V),l.date===V));console.log("ResumoDia - selectedDateString:",V),console.log("ResumoDia - allTransactions:",ae),console.log("ResumoDia - allTransactions dates:",ae.map(l=>({id:l.id,date:l.date,type:l.type,amount:l.amount}))),console.log("ResumoDia - todayTransactions (filtradas):",T),b.useEffect(()=>{if(ae.length>0&&v.length===0){const l=Ya(),f=ae.filter(h=>h.date===l);f.length>0&&(j(f),C(l),console.log("ResumoDia - Transações do dia original capturadas:",f),console.log("ResumoDia - Data original:",l))}},[ae,v.length]);const ie=(()=>{let l=T;switch(y){case"deposits":l=l.filter(f=>f.type==="deposit");break;case"withdraws":l=l.filter(f=>f.type==="withdraw");break}return P&&(l=l.filter(f=>f.platformId===P)),H&&(l=l.filter(f=>f.employeeId===H)),l})(),xe=T.filter(l=>l.type==="deposit"),ge=T.filter(l=>l.type==="withdraw"),le=xe.reduce((l,f)=>l+Number(f.amount||0),0),N=ge.reduce((l,f)=>l+Number(f.amount||0),0),g=N-le,G=ie.length;console.log("ResumoDia - Cálculos:"),console.log("- deposits:",xe),console.log("- withdraws:",ge),console.log("- totalDeposits:",le),console.log("- totalWithdraws:",N),console.log("- profit:",g),console.log("- transactionCount:",G);const de=Y.map(l=>{const f=T.filter(x=>x.platformId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,M)=>x+Number(M.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,M)=>x+Number(M.amount||0),0),S=_-h;return{name:l.name,color:l.color,deposits:h,withdraws:_,profit:S,transactions:f.length}}).filter(l=>l.transactions>0).sort((l,f)=>f.profit-l.profit),ce=K.map(l=>{const f=T.filter(x=>x.employeeId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,M)=>x+Number(M.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,M)=>x+Number(M.amount||0),0),S=_-h;return{name:l.name,deposits:h,withdraws:_,profit:S,transactions:f.length}}).filter(l=>l.transactions>0).sort((l,f)=>f.profit-l.profit),ne=de[0],ue=ce[0],ya=async()=>{try{const l=v.length>0?v:T,f=D||V,h=l.filter(q=>q.type==="deposit"),_=l.filter(q=>q.type==="withdraw"),S=h.reduce((q,L)=>q+Number(L.amount||0),0),x=_.reduce((q,L)=>q+Number(L.amount||0),0),M=x-S;if(console.log("Fechando dia - Data:",f),console.log("Fechando dia - Transações originais:",v),console.log("Fechando dia - Transações selecionadas:",l),console.log("Fechando dia - Total Deposits:",S),console.log("Fechando dia - Total Withdraws:",x),console.log("Fechando dia - Profit:",M),!e?.uid){fe.error("Usuário não autenticado");return}const W=(await he.getAllDailySummaries(e.uid)).find(q=>q.date===f);let A;W?(A={date:f,totalDeposits:(W.totalDeposits||0)+S,totalWithdraws:(W.totalWithdraws||0)+x,profit:(W.profit||W.margin||0)+M,transactionCount:(W.transactionCount||0)+l.length,transactionsSnapshot:[...W.transactionsSnapshot||[],...l],byEmployee:[],margin:(W.profit||W.margin||0)+M,createdAt:W.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente:",A),await he.updateDailySummary(e.uid,W.id,A)):(A={date:f,totalDeposits:S,totalWithdraws:x,profit:M,transactionCount:l.length,transactionsSnapshot:l,byEmployee:[],margin:M,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento:",A),await he.createDailySummary(e.uid,A));const z=l.map(q=>Pe.mutateAsync(q.id));await Promise.all(z),fe.success("Dia fechado com sucesso!"),m(!1),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(l){console.error("Erro ao fechar o dia:",l),fe.error("Erro ao fechar o dia. Tente novamente.")}},ba=async l=>{try{if(console.log("=== INICIANDO SALVAMENTO EM OUTRA DATA ==="),console.log("Target Date recebida:",l),console.log("Transações do dia original:",v),console.log("Data original:",D),console.log("Transações do dia atual (selectedDate):",T),console.log("Total Deposits:",le),console.log("Total Withdraws:",N),console.log("Profit calculado:",g),!e?.uid){fe.error("Usuário não autenticado");return}const f=l.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");console.log("Salvando em outra data - Target Date String:",f);const h=v.length>0?v:T,_=h.filter(L=>L.type==="deposit"),S=h.filter(L=>L.type==="withdraw"),x=_.reduce((L,Be)=>L+Number(Be.amount||0),0),M=S.reduce((L,Be)=>L+Number(Be.amount||0),0),F=M-x;console.log("Dados a serem salvos:"),console.log("- transactionsToSave:",h),console.log("- totalDepositsToSave:",x),console.log("- totalWithdrawsToSave:",M),console.log("- profitToSave:",F);const A=(await he.getAllDailySummaries(e.uid)).find(L=>L.date===f);let z;A?(z={date:f,totalDeposits:(A.totalDeposits||0)+x,totalWithdraws:(A.totalWithdraws||0)+M,profit:(A.profit||A.margin||0)+F,transactionCount:(A.transactionCount||0)+h.length,transactionsSnapshot:[...A.transactionsSnapshot||[],...h],byEmployee:[],margin:(A.profit||A.margin||0)+F,createdAt:A.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente para data:",z),await he.updateDailySummary(e.uid,A.id,z)):(z={date:f,totalDeposits:x,totalWithdraws:M,profit:F,transactionCount:h.length,transactionsSnapshot:h,byEmployee:[],margin:F,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento para data:",z),await he.createDailySummary(e.uid,z)),console.log("Resumo salvo com sucesso na data:",f),console.log("Deletando transações do dia selecionado:",h);const q=h.map(L=>(console.log("Deletando transação:",L.id),Pe.mutateAsync(L.id)));await Promise.all(q),console.log("Todas as transações foram deletadas com sucesso"),o.invalidateQueries({queryKey:["firebase-transactions"]}),o.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),o.invalidateQueries({queryKey:["firebase-daily-summaries"]}),fe.success(`Resumo salvo para ${Q(l,"dd/MM/yyyy",{locale:Ge})}! Transações do dia atual foram apagadas.`),d(!1)}catch(f){console.error("Erro ao salvar em outra data:",f),fe.error("Erro ao salvar em outra data. Tente novamente.")}},Ie=de.map(l=>({name:l.name,value:l.profit,color:l.color})),vt=ce.map(l=>({name:l.name,receita:l.profit,depositos:l.deposits,saques:l.withdraws}));return t.jsx(ka,{children:t.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h1",{className:"text-4xl font-bold",children:"Resumo do Dia"}),y&&t.jsxs(Z,{variant:"secondary",className:"gap-1 bg-primary/10 text-primary border-primary/20",children:[t.jsx($e,{className:"h-3 w-3"}),y==="deposits"&&"Depósitos",y==="withdraws"&&"Saques",y==="profit"&&"Lucro"]})]}),t.jsx("p",{className:"text-muted-foreground",children:Q(n,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ge})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Ln,{open:i,onOpenChange:d,children:[t.jsx(En,{asChild:!0,children:t.jsxs(re,{variant:"outline",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white border-orange-500",children:[t.jsx(xt,{className:"h-4 w-4"}),"Salvar em outra data"]})}),t.jsx(ga,{className:"w-auto p-0",align:"end",children:t.jsx(sa,{mode:"single",selected:n,onSelect:l=>{l&&(s(l),d(!1),p(!0))},initialFocus:!0})})]}),t.jsx(bt,{open:u,onOpenChange:p,children:t.jsxs(jt,{children:[t.jsxs(Nt,{children:[t.jsx(wt,{children:"Salvar em Outra Data"}),t.jsxs(Dt,{children:["Tem certeza que deseja salvar o resumo do dia atual para ",n&&Q(n,"dd/MM/yyyy",{locale:Ge}),"?",t.jsx("br",{}),t.jsx("br",{}),t.jsx("strong",{children:"Esta ação irá:"}),t.jsx("br",{}),"• Salvar todas as transações atuais para a data selecionada",t.jsx("br",{}),"• Apagar todas as transações do dia atual",t.jsx("br",{}),"• Permitir que você comece um novo dia",t.jsx("br",{}),t.jsx("br",{}),t.jsx("strong",{children:"Esta ação não pode ser desfeita."})]})]}),t.jsxs(_t,{children:[t.jsx(Ct,{children:"Cancelar"}),t.jsx(Mt,{onClick:async()=>{n&&(console.log("Executando saveToAnotherDate com data:",n),await ba(n),p(!1))},children:"Salvar e Apagar Transações"})]})]})}),t.jsxs(bt,{open:c,onOpenChange:m,children:[t.jsx(Ra,{asChild:!0,children:t.jsxs(re,{variant:"destructive",className:"gap-2",children:[t.jsx(gt,{className:"h-4 w-4"}),"Fechar o Dia"]})}),t.jsxs(jt,{children:[t.jsxs(Nt,{children:[t.jsx(wt,{children:"Fechar o Dia"}),t.jsx(Dt,{children:"Tem certeza que deseja fechar o dia? Esta ação salvará todas as movimentações do dia e resetará as transações para um novo dia."})]}),t.jsxs(_t,{children:[t.jsx(Ct,{children:"Cancelar"}),t.jsx(Mt,{onClick:ya,children:"Fechar o Dia"})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(E,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Dia"}),t.jsxs("p",{className:`text-3xl font-bold ${g>=0?"text-success":"text-destructive"}`,children:["R$ ",g.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(Se,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(E,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),t.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",le.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(yt,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(E,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),t.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",N.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(Ye,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(E,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),t.jsx("p",{className:"text-3xl font-bold",children:G})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(me,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ne&&t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(qe,{className:"h-6 w-6 text-yellow-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Plataforma do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:ne.color}}),t.jsx("span",{className:"font-medium",children:ne.name})]}),t.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",ne.profit.toLocaleString("pt-BR")]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[ne.transactions," transações • R$ ",ne.deposits.toLocaleString("pt-BR")," depósitos • R$ ",ne.withdraws.toLocaleString("pt-BR")," saques"]})]})]}),ue&&t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(qe,{className:"h-6 w-6 text-yellow-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Funcionário do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"font-medium",children:ue.name}),t.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",ue.profit.toLocaleString("pt-BR")]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[ue.transactions," transações • R$ ",ue.deposits.toLocaleString("pt-BR")," depósitos • R$ ",ue.withdraws.toLocaleString("pt-BR")," saques"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ie.length>0&&t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Receita por Plataforma"}),t.jsx(Re,{width:"100%",height:300,children:t.jsxs(tr,{children:[t.jsx(ar,{data:Ie,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:l,value:f})=>`${l}: R$ ${f.toLocaleString("pt-BR")}`,children:Ie.map((l,f)=>t.jsx(At,{fill:l.color},`cell-${f}`))}),t.jsx(Te,{formatter:l=>[`R$ ${l.toLocaleString("pt-BR")}`,"Receita"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})]}),vt.length>0&&t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),t.jsx(Re,{width:"100%",height:300,children:t.jsxs(Ft,{data:vt,children:[t.jsx(ze,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Ve,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),t.jsx(Ke,{stroke:"hsl(var(--muted-foreground))"}),t.jsx(Te,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),t.jsx(Wt,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(xt,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Atividade por Horário"})]}),t.jsx("div",{className:"space-y-3",children:(()=>{const l=T.reduce((h,_)=>{const S=new Date(_.createdAt?.toDate?.()||_.createdAt).getHours();return h[S]||(h[S]={transactions:0,amount:0}),h[S].transactions++,h[S].amount+=Number(_.amount||0),h},{}),f=Object.entries(l).sort(([,h],[,_])=>_.transactions-h.transactions).slice(0,3);return f.length>0?f.map(([h,_])=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",children:[h,":00h"]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.transactions," transação(ões)"]})]}),t.jsxs("p",{className:"font-bold text-primary",children:["R$ ",_.amount.toLocaleString("pt-BR")]})]},h)):t.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma transação registrada hoje"})})()})]}),t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(me,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Estatísticas Rápidas"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-success/10 rounded-lg border border-success/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Ticket Médio"}),t.jsxs("p",{className:"text-lg font-bold text-success",children:["R$ ",G>0?(N/G).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})]}),t.jsx(Se,{className:"h-8 w-8 text-success/60"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/10 rounded-lg border border-primary/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Maior Transação"}),t.jsxs("p",{className:"text-lg font-bold text-primary",children:["R$ ",T.length>0?Math.max(...T.map(l=>Number(l.amount||0))).toLocaleString("pt-BR"):"0,00"]})]}),t.jsx(Ye,{className:"h-8 w-8 text-primary/60"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionários Ativos"}),t.jsx("p",{className:"text-lg font-bold",children:K.filter(l=>l.status==="active").length})]}),t.jsx(qe,{className:"h-8 w-8 text-muted-foreground/60"})]})]})]}),t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(gt,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Ações do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-warning/10 rounded-lg border border-warning/20",children:[t.jsx("p",{className:"text-sm font-medium text-warning",children:"Fechamento do Dia"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:G>0?`Você tem ${G} transação(ões) para fechar`:"Nenhuma transação registrada hoje"})]}),t.jsxs("div",{className:"p-3 bg-info/10 rounded-lg border border-info/20",children:[t.jsx("p",{className:"text-sm font-medium text-info",children:"Meta Diária"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g>=1e3?"✅ Meta de R$ 1.000 atingida!":`Faltam R$ ${(1e3-g).toLocaleString("pt-BR")} para a meta`})]}),t.jsxs("div",{className:"p-3 bg-success/10 rounded-lg border border-success/20",children:[t.jsx("p",{className:"text-sm font-medium text-success",children:"Status do Dia"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g>0?`✅ Dia lucrativo: +R$ ${g.toLocaleString("pt-BR")}`:g<0?`⚠️ Prejuízo: R$ ${g.toLocaleString("pt-BR")}`:"📊 Dia neutro: R$ 0,00"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Evolução do Saldo ao Longo do Dia"}),T.length>0?t.jsx(Re,{width:"100%",height:300,children:t.jsxs(rr,{data:(()=>{const l=[...T].sort((h,_)=>{const S=new Date(h.createdAt?.toDate?.()||h.createdAt),x=new Date(_.createdAt?.toDate?.()||_.createdAt);return S.getTime()-x.getTime()});let f=0;return l.map((h,_)=>{const S=Number(h.amount||0),x=h.type==="withdraw"?S:-S;f+=x;const F=new Date(h.createdAt?.toDate?.()||h.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),W=K.find(z=>z.id===h.employeeId),A=Y.find(z=>z.id===h.platformId);return{time:F,saldo:f,transacao:x,tipo:h.type==="withdraw"?"Saque":"Depósito",funcionario:W?.name||"N/A",plataforma:A?.name||"N/A",valor:S,index:_+1}})})(),children:[t.jsx(ze,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Ve,{dataKey:"time",stroke:"hsl(var(--muted-foreground))",fontSize:11}),t.jsx(Ke,{stroke:"hsl(var(--muted-foreground))",tickFormatter:l=>`R$ ${l.toLocaleString("pt-BR")}`,fontSize:11}),t.jsx(Te,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:(l,f,h)=>f==="saldo"?[`R$ ${l.toLocaleString("pt-BR")}`,"Saldo Acumulado"]:[`R$ ${l.toLocaleString("pt-BR")}`,"Valor da Transação"],labelFormatter:(l,f)=>{if(f&&f[0]){const h=f[0].payload;return`${h.tipo} - ${h.funcionario} (${h.plataforma})`}return l}}),t.jsx(or,{type:"monotone",dataKey:"saldo",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(var(--primary))",strokeWidth:2}}),t.jsx(nr,{y:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"5 5"})]})}):t.jsx("div",{className:"flex items-center justify-center h-[300px]",children:t.jsxs("div",{className:"text-center text-muted-foreground",children:[t.jsx(Se,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma transação registrada hoje"}),t.jsx("p",{className:"text-sm",children:"Os dados aparecerão aqui quando você registrar transações"})]})})]}),t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Plataforma"}),Y.length>0&&Y.some(l=>T.some(f=>f.platformId===l.id))?t.jsx(Re,{width:"100%",height:300,children:t.jsxs(Ft,{data:Y.map(l=>{const f=T.filter(x=>x.platformId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,M)=>x+Number(M.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,M)=>x+Number(M.amount||0),0),S=_-h;return{name:l.name.length>8?l.name.substring(0,8)+"...":l.name,lucro:S,depositos:h,saques:_,transacoes:f.length,color:l.color,barColor:S>=0?"hsl(var(--success))":"hsl(var(--destructive))"}}).filter(l=>l.transacoes>0),children:[t.jsx(ze,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Ve,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:11,angle:-45,textAnchor:"end",height:60}),t.jsx(Ke,{stroke:"hsl(var(--muted-foreground))",tickFormatter:l=>`R$ ${l.toLocaleString("pt-BR")}`,fontSize:11}),t.jsx(Te,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:(l,f,h)=>(h.payload,f==="lucro"?[`R$ ${l.toLocaleString("pt-BR")}`,"Lucro/Prejuízo"]:[`R$ ${l.toLocaleString("pt-BR")}`,f==="depositos"?"Depósitos":"Saques"]),labelFormatter:(l,f)=>{if(f&&f[0]){const h=f[0].payload;return`${h.name} (${h.transacoes} transações)`}return l}}),t.jsx(Wt,{dataKey:"lucro",radius:[4,4,0,0],children:Y.filter(l=>T.some(f=>f.platformId===l.id)).map((l,f)=>{const h=T.filter(F=>F.platformId===l.id),_=h.filter(F=>F.type==="deposit").reduce((F,W)=>F+Number(W.amount||0),0),M=h.filter(F=>F.type==="withdraw").reduce((F,W)=>F+Number(W.amount||0),0)-_>=0?"hsl(var(--success))":"hsl(var(--destructive))";return t.jsx(At,{fill:M},`cell-${f}`)})})]})}):t.jsx("div",{className:"flex items-center justify-center h-[300px]",children:t.jsxs("div",{className:"text-center text-muted-foreground",children:[t.jsx(me,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma plataforma com transações hoje"}),t.jsx("p",{className:"text-sm",children:"Os dados aparecerão aqui quando você registrar transações"})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Plataforma"}),Y.length>0?t.jsx("div",{className:"space-y-4",children:Y.map(l=>{const f=T.filter(x=>x.platformId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,M)=>x+Number(M.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,M)=>x+Number(M.amount||0),0),S=_-h;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:l.color}}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:l.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.length," transação(ões)"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`font-bold ${S>=0?"text-success":"text-destructive"}`,children:["R$ ",S.toLocaleString("pt-BR")]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[_>0&&`R$ ${_.toLocaleString("pt-BR")} saques`,h>0&&_>0&&" • ",h>0&&`R$ ${h.toLocaleString("pt-BR")} depósitos`]})]})]},l.id)})}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(me,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhuma plataforma configurada"})]})]}),t.jsxs(E,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),K.length>0?t.jsxs("div",{className:"space-y-4",children:[K.map(l=>{const f=T.filter(x=>x.employeeId===l.id),h=f.filter(x=>x.type==="deposit").reduce((x,M)=>x+Number(M.amount||0),0),_=f.filter(x=>x.type==="withdraw").reduce((x,M)=>x+Number(M.amount||0),0),S=_-h;return f.length===0?null:t.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:l.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.length," transação(ões)"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`font-bold ${S>=0?"text-success":"text-destructive"}`,children:["R$ ",S.toLocaleString("pt-BR")]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[_>0&&`R$ ${_.toLocaleString("pt-BR")} saques`,h>0&&_>0&&" • ",h>0&&`R$ ${h.toLocaleString("pt-BR")} depósitos`]})]})]},l.id)}).filter(Boolean),K.filter(l=>T.some(f=>f.employeeId===l.id)).length===0&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(me,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhum funcionário com transações hoje"})]})]}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(me,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhum funcionário cadastrado"})]})]})]}),t.jsxs(E,{className:"shadow-card overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("h3",{className:"text-lg font-semibold",children:["Transações do Dia",(y||P||H)&&t.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ie.length," transação(ões) encontrada(s))"]})]})}),t.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Plataforma:"}),t.jsxs(kt,{value:P||"all",onValueChange:l=>te(l==="all"?"":l),children:[t.jsx(Rt,{className:"w-[160px]",children:t.jsx(Tt,{placeholder:"Todas"})}),t.jsxs(Ot,{children:[t.jsx(ke,{value:"all",children:"Todas as plataformas"}),Y.map(l=>t.jsx(ke,{value:l.id,children:l.name},l.id))]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Funcionário:"}),t.jsxs(kt,{value:H||"all",onValueChange:l=>se(l==="all"?"":l),children:[t.jsx(Rt,{className:"w-[160px]",children:t.jsx(Tt,{placeholder:"Todos"})}),t.jsxs(Ot,{children:[t.jsx(ke,{value:"all",children:"Todos os funcionários"}),K.map(l=>t.jsx(ke,{value:l.id,children:l.name},l.id))]})]})]}),(y||P||H)&&t.jsx(re,{variant:"outline",size:"sm",onClick:()=>{R(""),te(""),se(""),a("/resumo-dia")},children:"Limpar Filtros"})]})]}),t.jsxs("div",{className:"space-y-4 mt-4",children:[(y||P||H)&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[t.jsx($e,{className:"h-4 w-4 text-primary"}),t.jsx("span",{className:"text-sm text-primary font-medium",children:"Filtros ativos:"}),t.jsxs("div",{className:"flex gap-2",children:[y&&t.jsxs(Z,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:[y==="deposits"&&"Depósitos",y==="withdraws"&&"Saques",y==="profit"&&"Lucro"]}),P&&t.jsxs(Z,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Plataforma: ",Y.find(l=>l.id===P)?.name||"N/A"]}),H&&t.jsxs(Z,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Funcionário: ",K.find(l=>l.id===H)?.name||"N/A"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(re,{variant:y===""?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia"),className:"gap-2",children:[t.jsx($e,{className:"h-3 w-3"}),"Todas",t.jsx(Z,{variant:"secondary",className:"ml-1",children:T.length})]}),t.jsxs(re,{variant:y==="deposits"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=deposits"),className:"gap-2",children:[t.jsx(yt,{className:"h-3 w-3"}),"Depósitos",t.jsx(Z,{variant:"secondary",className:"ml-1",children:xe.length})]}),t.jsxs(re,{variant:y==="withdraws"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=withdraws"),className:"gap-2",children:[t.jsx(Ye,{className:"h-3 w-3"}),"Saques",t.jsx(Z,{variant:"secondary",className:"ml-1",children:ge.length})]}),t.jsxs(re,{variant:y==="profit"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=profit"),className:"gap-2",children:[t.jsx(Se,{className:"h-3 w-3"}),"Lucro",t.jsx(Z,{variant:"secondary",className:"ml-1",children:T.length})]})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-muted/50",children:[t.jsx("th",{className:"text-left p-4 font-semibold",children:"Funcionário"}),t.jsx("th",{className:"text-left p-4 font-semibold",children:"Plataforma"}),t.jsx("th",{className:"text-center p-4 font-semibold",children:"Tipo"}),t.jsx("th",{className:"text-right p-4 font-semibold",children:"Valor"}),t.jsx("th",{className:"text-center p-4 font-semibold",children:"Horário"})]})}),t.jsxs("tbody",{children:[ie.map(l=>{const f=K.find(_=>_.id===l.employeeId),h=Y.find(_=>_.id===l.platformId);return t.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[t.jsx("td",{className:"p-4 font-medium",children:f?.name||"N/A"}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[h&&t.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:h.color}}),h?.name||"N/A"]})}),t.jsx("td",{className:"p-4 text-center",children:t.jsx(Z,{variant:l.type==="withdraw"?"default":"destructive",children:l.type==="deposit"?"Depósito":"Saque"})}),t.jsxs("td",{className:`p-4 text-right font-semibold ${l.type==="withdraw"?"text-success":"text-destructive"}`,children:[l.type==="deposit"?"-":"+","R$ ",Number(l.amount||0).toLocaleString("pt-BR")]}),t.jsx("td",{className:"p-4 text-center text-sm text-muted-foreground",children:new Date(l.createdAt?.toDate?.()||l.createdAt).toLocaleTimeString("pt-BR")})]},l.id)}),ie.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:y?t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"Nenhuma transação encontrada para o filtro selecionado."}),t.jsx(re,{variant:"outline",size:"sm",onClick:()=>a("/resumo-dia"),children:"Ver todas as transações"})]}):"Nenhuma transação registrada para este dia."})})]})]})})]})]})})};export{es as default};
