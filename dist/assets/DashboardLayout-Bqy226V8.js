const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Admin-CkeF-i_f.js","assets/ui-vendor-BKTCjC1N.js","assets/react-vendor-a_rYd-gI.js","assets/index-CNSrT_AO.js","assets/chart-vendor-CfBne3GF.js","assets/firebase-vendor-Dsl9zeYT.js","assets/index-B1mNWfsS.css","assets/tabs-DFcJJwcX.js","assets/index-C3o8K6qv.js","assets/input-BpX8f5oW.js","assets/select-B02GmcUY.js","assets/index-CdAzXW5_.js","assets/label-DVTuypfs.js","assets/stat-card-CxIEjMW6.js","assets/alert-C6DPH5uI.js","assets/dialog-D9Zm_o6s.js","assets/Relatorios-DGGZ_Ruj.js","assets/useFirestore-K8F5p6Y4.js","assets/user-specific.service-oo6Dy654.js","assets/user-subcollections.service-rXnHzv2A.js","assets/Historico-ZC9nO6zo.js","assets/ProtectedPageContent-_cnywc64.js","assets/format-DPwKrYwk.js","assets/pt-BR-DnZ5gAgy.js","assets/Pagamentos-tf9u9dZi.js","assets/Saldos-BkdH6_2Q.js","assets/GestaoFuncionarios-oCSeiORv.js","assets/EmployeeProfile-uGe-3-jv.js","assets/Dashboard-CRxTSDYR.js","assets/user-config.service-CQaSbsVc.js"])))=>i.map(i=>d[i]);
var br=Object.defineProperty;var xr=(e,t,r)=>t in e?br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Oe=(e,t,r)=>xr(e,typeof t!="symbol"?t+"":t,r);import{j as n,i as Q,ad as wr,_ as J,ac as yr,ae as Sr,X as Ze,k as Me,af as Cr,ag as Er,U as Nr,D as Ar,F as jr,ah as Rr,e as Dr,g as Pr,C as Tr,ai as _r,S as Or,aj as Mr,ak as kr,a6 as Lr,a0 as Ir}from"./ui-vendor-BKTCjC1N.js";import{r as i,u as Fr,j as Wr}from"./react-vendor-a_rYd-gI.js";import{_ as I,d as K,c as Ne,e as R,P as T,b as H,a as j,G as F,f as zr,h as M,i as Je,B as Z,C as $r,w as Hr,x as Br,k as ke,z as Vr,D as qr,I as Ur,u as Yr,r as Xr,s as Gr,J as Kr,n as et,j as Qr,t as ee}from"./index-CNSrT_AO.js";import{z as Zr,q as pe,t as Le,v as Ie,y as Jr,x as Fe,H as We,e as ze}from"./firebase-vendor-Dsl9zeYT.js";import{I as eo}from"./input-BpX8f5oW.js";import{a as to,u as he}from"./index-C3o8K6qv.js";const ro=(e=1024)=>{const[t,r]=i.useState(!1);return i.useEffect(()=>{const o=()=>{r(window.innerWidth<e)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[e]),t},oo=()=>{const e=i.useCallback(o=>{switch(o){case"/admin":I(()=>import("./Admin-CkeF-i_f.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]));break;case"/relatorios":I(()=>import("./Relatorios-DGGZ_Ruj.js").then(a=>a.R),__vite__mapDeps([16,1,2,3,4,5,6,10,8,11,17,18,19]));break;case"/historico":I(()=>import("./Historico-ZC9nO6zo.js"),__vite__mapDeps([20,1,2,21,3,4,5,6,15,9,12,10,8,11,17,18,19,22,23]));break;case"/pagamentos":I(()=>import("./Pagamentos-tf9u9dZi.js"),__vite__mapDeps([24,1,2,21,3,4,5,6,9,10,8,11,17,18,19]));break;case"/saldos":I(()=>import("./Saldos-BkdH6_2Q.js"),__vite__mapDeps([25,1,2,21,3,4,5,6,9,12,17,18,19,15,8]));break;case"/gestao-funcionarios":I(()=>import("./GestaoFuncionarios-oCSeiORv.js"),__vite__mapDeps([26,1,2,3,4,5,6,9,15,17,18,19,12,14,8])),I(()=>import("./EmployeeProfile-uGe-3-jv.js"),__vite__mapDeps([27,1,2,3,4,5,6,9,12,10,8,11,15,17,18,19]));break;case"/dashboard":I(()=>import("./Dashboard-CRxTSDYR.js"),__vite__mapDeps([28,1,2,13,3,4,5,6,15,9,12,17,18,19,29,10,8,11,22,23]));break}},[]),t=i.useCallback(o=>{e(o)},[e]),r=i.useCallback(()=>{"requestIdleCallback"in window?window.requestIdleCallback(()=>{e("/dashboard"),e("/gestao-funcionarios"),e("/pagamentos")}):setTimeout(()=>{e("/dashboard"),e("/gestao-funcionarios"),e("/pagamentos")},2e3)},[e]);return{preloadRoute:e,preloadOnHover:t,preloadOnIdle:r}};class ao{constructor(){Oe(this,"systemKnowledge",{operations:[{name:"Cadastrar FuncionÃ¡rio",description:"Adicionar um novo funcionÃ¡rio ao sistema",steps:['Acesse a seÃ§Ã£o "GestÃ£o de FuncionÃ¡rios"','Clique em "Adicionar FuncionÃ¡rio"',"Preencha os dados: nome, cargo, salÃ¡rio, data de admissÃ£o","Salve as informaÃ§Ãµes"],examples:["Como adicionar um funcionÃ¡rio?","Quero cadastrar um novo colaborador","Adicionar funcionÃ¡rio no sistema"]},{name:"Registrar TransaÃ§Ã£o",description:"Registrar uma nova transaÃ§Ã£o financeira",steps:['VÃ¡ para a seÃ§Ã£o "TransaÃ§Ãµes"','Clique em "Nova TransaÃ§Ã£o"',"Selecione o tipo: receita ou despesa","Preencha valor, descriÃ§Ã£o, categoria","Salve a transaÃ§Ã£o"],examples:["Como registrar uma venda?","Quero adicionar uma despesa","Registrar transaÃ§Ã£o de receita"]},{name:"Gerenciar Pagamentos",description:"Visualizar e processar pagamentos",steps:['Acesse "Pagamentos" no menu',"Visualize pagamentos pendentes","Processe pagamentos quando necessÃ¡rio","Acompanhe histÃ³rico de pagamentos"],examples:["Como ver meus pagamentos?","Processar pagamento pendente","HistÃ³rico de pagamentos"]},{name:"Configurar Metas",description:"Definir metas financeiras mensais",steps:['VÃ¡ para "Metas" no dashboard',"Defina valor da meta mensal","Configure perÃ­odo da meta","Salve a configuraÃ§Ã£o"],examples:["Como definir uma meta mensal?","Configurar objetivo financeiro","Definir meta de vendas"]}],entities:[{type:"funcionario",description:"Colaboradores da empresa",fields:["nome","cargo","salario","dataAdmissao","email","telefone"],operations:["cadastrar","editar","remover","visualizar"]},{type:"transacao",description:"MovimentaÃ§Ãµes financeiras",fields:["valor","tipo","descricao","categoria","data","funcionario"],operations:["registrar","editar","excluir","filtrar"]},{type:"plataforma",description:"Plataformas de vendas",fields:["nome","comissao","ativo","descricao"],operations:["adicionar","configurar","ativar","desativar"]},{type:"meta",description:"Objetivos financeiros",fields:["valor","periodo","tipo","status"],operations:["definir","atualizar","acompanhar"]}],commonQuestions:[{question:"Como funciona o sistema Optify?",answer:"O Optify Ã© um sistema de gestÃ£o financeira empresarial que permite controlar funcionÃ¡rios, transaÃ§Ãµes, pagamentos, metas e gerar relatÃ³rios detalhados. VocÃª pode cadastrar colaboradores, registrar vendas e despesas, acompanhar metas mensais e visualizar relatÃ³rios em tempo real.",keywords:["sistema","optify","funcionamento","como usar"]},{question:"Como adicionar um funcionÃ¡rio?",answer:'Para adicionar um funcionÃ¡rio: 1) Acesse "GestÃ£o de FuncionÃ¡rios" no menu, 2) Clique em "Adicionar FuncionÃ¡rio", 3) Preencha nome, cargo, salÃ¡rio e data de admissÃ£o, 4) Salve as informaÃ§Ãµes. O funcionÃ¡rio serÃ¡ adicionado ao sistema e poderÃ¡ ser usado em transaÃ§Ãµes.',keywords:["funcionario","adicionar","cadastrar","colaborador"]},{question:"Como registrar uma venda?",answer:'Para registrar uma venda: 1) VÃ¡ para "TransaÃ§Ãµes" no menu, 2) Clique em "Nova TransaÃ§Ã£o", 3) Selecione "Receita" como tipo, 4) Preencha valor, descriÃ§Ã£o e categoria, 5) Associe ao funcionÃ¡rio responsÃ¡vel, 6) Salve a transaÃ§Ã£o. Ela aparecerÃ¡ no resumo diÃ¡rio e relatÃ³rios.',keywords:["venda","receita","transacao","registrar"]},{question:"Como definir metas mensais?",answer:'Para definir metas: 1) Acesse "Metas" no dashboard, 2) Clique em "Nova Meta", 3) Defina o valor desejado, 4) Selecione o perÃ­odo (mensal), 5) Escolha o tipo de meta, 6) Salve. VocÃª poderÃ¡ acompanhar o progresso em tempo real no dashboard.',keywords:["meta","objetivo","mensal","definir"]},{question:"Como gerar relatÃ³rios?",answer:'Para gerar relatÃ³rios: 1) Acesse "RelatÃ³rios" no menu, 2) Selecione o tipo de relatÃ³rio desejado, 3) Defina o perÃ­odo, 4) Escolha filtros se necessÃ¡rio, 5) Clique em "Gerar". Os relatÃ³rios podem ser exportados em PDF ou visualizados na tela.',keywords:["relatorio","gerar","exportar","pdf"]}]})}async saveMessage(t,r){try{const o={...r,userId:t,timestamp:new Date},a=await Zr(pe(K,`users/${t}/conversations`),o);return await this.cleanupOldMessages(t),a.id}catch(o){throw console.error("Erro ao salvar mensagem:",o),o}}async getRecentMessages(t,r=10){try{const o=Le(pe(K,`users/${t}/conversations`),Ie("timestamp","desc"),Jr(r));return(await Fe(o)).docs.map(c=>({id:c.id,...c.data(),timestamp:c.data().timestamp.toDate()})).reverse()}catch(o){return console.error("Erro ao buscar mensagens:",o),[]}}async cleanupOldMessages(t){try{const r=Le(pe(K,`users/${t}/conversations`),Ie("timestamp","desc")),a=(await Fe(r)).docs;if(a.length>10){const s=a.slice(10);for(const c of s)await We(ze(K,`users/${t}/conversations`,c.id))}}catch(r){console.error("Erro ao limpar mensagens antigas:",r)}}async processUserMessage(t,r){try{const o=await this.getRecentMessages(t,10);await this.saveMessage(t,{role:"user",content:r});const a=await this.generateResponseWithGPT(r,o);return await this.saveMessage(t,{role:"assistant",content:a,metadata:{operation:this.extractOperation(r),success:!0}}),a}catch(o){return console.error("Erro ao processar mensagem:",o),"Desculpe, ocorreu um erro ao processar sua mensagem. Tente novamente."}}async generateResponseWithGPT(t,r){try{const o=await fetch("https://us-central1-optify-definitivo.cloudfunctions.net/generateAIResponseHTTP",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await this.getAuthToken()}`},body:JSON.stringify({message:t,context:r.slice(-5).map(s=>({role:s.role,content:s.content}))})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const a=await o.json();return console.log(`âœ… Resposta gerada com ${a.model} - Tokens: ${a.usage?.totalTokens||0}`),a.response}catch(o){return console.error("Erro ao chamar Cloud Function HTTP:",o),console.log("ðŸ“ Usando resposta local como fallback"),this.generateLocalResponse(t,r)}}async getAuthToken(){const{auth:t}=await I(async()=>{const{auth:o}=await import("./index-CNSrT_AO.js").then(a=>a.K);return{auth:o}},__vite__mapDeps([3,1,2,4,5,6])),r=t.currentUser;if(!r)throw new Error("UsuÃ¡rio nÃ£o autenticado");return await r.getIdToken()}generateLocalResponse(t,r){const o=t.toLowerCase(),a=this.systemKnowledge.commonQuestions.find(l=>l.keywords.some(u=>o.includes(u)));if(a)return a.answer;const s=this.systemKnowledge.operations.find(l=>l.examples.some(u=>o.includes(u.toLowerCase())));if(s)return`Para ${s.description.toLowerCase()}:${s.steps.map((l,u)=>`
${u+1}. ${l}`).join("")}`;const c=this.systemKnowledge.entities.find(l=>o.includes(l.type.toLowerCase()));return c?`Para trabalhar com ${c.description}: vocÃª pode ${c.operations.join(", ")}. Os campos disponÃ­veis sÃ£o: ${c.fields.join(", ")}.`:o.includes("oi")||o.includes("olÃ¡")||o.includes("bom dia")||o.includes("boa tarde")||o.includes("boa noite")?`OlÃ¡! ðŸ‘‹ Sou seu assistente do Optify. Posso ajudÃ¡-lo com:

â€¢ Cadastro e gestÃ£o de funcionÃ¡rios
â€¢ Registro de transaÃ§Ãµes (vendas e despesas)
â€¢ ConfiguraÃ§Ã£o de metas mensais
â€¢ GeraÃ§Ã£o de relatÃ³rios
â€¢ DÃºvidas sobre o sistema

E tambÃ©m posso conversar sobre qualquer assunto! ðŸ˜Š

Como posso ajudÃ¡-lo hoje?`:`Entendi sua mensagem: "${t}"

Posso ajudÃ¡-lo com:
â€¢ OperaÃ§Ãµes do sistema Optify (depÃ³sitos, saques, fechamento de dia)
â€¢ Perguntas gerais (histÃ³ria, ciÃªncia, matemÃ¡tica, etc.)
â€¢ Conversas casuais

Tente perguntar algo especÃ­fico! ðŸ¤”`}extractOperation(t){const r=t.toLowerCase();return r.includes("adicionar")||r.includes("cadastrar")?"create":r.includes("editar")||r.includes("alterar")?"update":r.includes("remover")||r.includes("excluir")?"delete":r.includes("visualizar")||r.includes("ver")?"view":"general"}async clearConversationHistory(t){try{const r=await this.getRecentMessages(t,100);for(const o of r)o.id&&await We(ze(K,`users/${t}/conversations`,o.id))}catch(r){throw console.error("Erro ao limpar histÃ³rico:",r),r}}}const ve=new ao;function no(e,[t,r]){return Math.min(r,Math.max(t,e))}function so(e,t){return i.useReducer((r,o)=>t[r][o]??r,e)}var Ae="ScrollArea",[tt,tn]=Ne(Ae),[io,D]=tt(Ae),rt=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:o="hover",dir:a,scrollHideDelay:s=600,...c}=e,[l,u]=i.useState(null),[p,d]=i.useState(null),[h,f]=i.useState(null),[g,C]=i.useState(null),[m,w]=i.useState(null),[x,v]=i.useState(0),[y,S]=i.useState(0),[b,N]=i.useState(!1),[A,L]=i.useState(!1),E=R(t,B=>u(B)),P=to(a);return n.jsx(io,{scope:r,type:o,dir:P,scrollHideDelay:s,scrollArea:l,viewport:p,onViewportChange:d,content:h,onContentChange:f,scrollbarX:g,onScrollbarXChange:C,scrollbarXEnabled:b,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:w,scrollbarYEnabled:A,onScrollbarYEnabledChange:L,onCornerWidthChange:v,onCornerHeightChange:S,children:n.jsx(T.div,{dir:P,...c,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});rt.displayName=Ae;var ot="ScrollAreaViewport",at=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:o,nonce:a,...s}=e,c=D(ot,r),l=i.useRef(null),u=R(t,l,c.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(T.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});at.displayName=ot;var k="ScrollAreaScrollbar",je=i.forwardRef((e,t)=>{const{forceMount:r,...o}=e,a=D(k,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:c}=a,l=e.orientation==="horizontal";return i.useEffect(()=>(l?s(!0):c(!0),()=>{l?s(!1):c(!1)}),[l,s,c]),a.type==="hover"?n.jsx(lo,{...o,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(co,{...o,ref:t,forceMount:r}):a.type==="auto"?n.jsx(nt,{...o,ref:t,forceMount:r}):a.type==="always"?n.jsx(Re,{...o,ref:t}):null});je.displayName=k;var lo=i.forwardRef((e,t)=>{const{forceMount:r,...o}=e,a=D(k,e.__scopeScrollArea),[s,c]=i.useState(!1);return i.useEffect(()=>{const l=a.scrollArea;let u=0;if(l){const p=()=>{window.clearTimeout(u),c(!0)},d=()=>{u=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",p),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",p),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(H,{present:r||s,children:n.jsx(nt,{"data-state":s?"visible":"hidden",...o,ref:t})})}),co=i.forwardRef((e,t)=>{const{forceMount:r,...o}=e,a=D(k,e.__scopeScrollArea),s=e.orientation==="horizontal",c=de(()=>u("SCROLL_END"),100),[l,u]=so("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return i.useEffect(()=>{if(l==="idle"){const p=window.setTimeout(()=>u("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(p)}},[l,a.scrollHideDelay,u]),i.useEffect(()=>{const p=a.viewport,d=s?"scrollLeft":"scrollTop";if(p){let h=p[d];const f=()=>{const g=p[d];h!==g&&(u("SCROLL"),c()),h=g};return p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[a.viewport,s,u,c]),n.jsx(H,{present:r||l!=="hidden",children:n.jsx(Re,{"data-state":l==="hidden"?"hidden":"visible",...o,ref:t,onPointerEnter:j(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:j(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),nt=i.forwardRef((e,t)=>{const r=D(k,e.__scopeScrollArea),{forceMount:o,...a}=e,[s,c]=i.useState(!1),l=e.orientation==="horizontal",u=de(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?p:d)}},10);return G(r.viewport,u),G(r.content,u),n.jsx(H,{present:o||s,children:n.jsx(Re,{"data-state":s?"visible":"hidden",...a,ref:t})})}),Re=i.forwardRef((e,t)=>{const{orientation:r="vertical",...o}=e,a=D(k,e.__scopeScrollArea),s=i.useRef(null),c=i.useRef(0),[l,u]=i.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=ut(l.viewport,l.content),d={...o,sizes:l,onSizesChange:u,hasThumb:p>0&&p<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:f=>c.current=f};function h(f,g){return vo(f,c.current,l,g)}return r==="horizontal"?n.jsx(uo,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const f=a.viewport.scrollLeft,g=$e(f,l,a.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?n.jsx(fo,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const f=a.viewport.scrollTop,g=$e(f,l);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),uo=i.forwardRef((e,t)=>{const{sizes:r,onSizesChange:o,...a}=e,s=D(k,e.__scopeScrollArea),[c,l]=i.useState(),u=i.useRef(null),p=R(t,u,s.onScrollbarXChange);return i.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),n.jsx(it,{"data-orientation":"horizontal",...a,ref:p,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ue(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),ft(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&c&&o({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:le(c.paddingLeft),paddingEnd:le(c.paddingRight)}})}})}),fo=i.forwardRef((e,t)=>{const{sizes:r,onSizesChange:o,...a}=e,s=D(k,e.__scopeScrollArea),[c,l]=i.useState(),u=i.useRef(null),p=R(t,u,s.onScrollbarYChange);return i.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),n.jsx(it,{"data-orientation":"vertical",...a,ref:p,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ue(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),ft(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&c&&o({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:le(c.paddingTop),paddingEnd:le(c.paddingBottom)}})}})}),[mo,st]=tt(k),it=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:o,hasThumb:a,onThumbChange:s,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:p,onWheelScroll:d,onResize:h,...f}=e,g=D(k,r),[C,m]=i.useState(null),w=R(t,E=>m(E)),x=i.useRef(null),v=i.useRef(""),y=g.viewport,S=o.content-o.viewport,b=F(d),N=F(u),A=de(h,10);function L(E){if(x.current){const P=E.clientX-x.current.left,B=E.clientY-x.current.top;p({x:P,y:B})}}return i.useEffect(()=>{const E=P=>{const B=P.target;C?.contains(B)&&b(P,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[y,C,S,b]),i.useEffect(N,[o,N]),G(C,A),G(g.content,A),n.jsx(mo,{scope:r,scrollbar:C,hasThumb:a,onThumbChange:F(s),onThumbPointerUp:F(c),onThumbPositionChange:N,onThumbPointerDown:F(l),children:n.jsx(T.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:j(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=C.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),L(E))}),onPointerMove:j(e.onPointerMove,L),onPointerUp:j(e.onPointerUp,E=>{const P=E.target;P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),ie="ScrollAreaThumb",lt=i.forwardRef((e,t)=>{const{forceMount:r,...o}=e,a=st(ie,e.__scopeScrollArea);return n.jsx(H,{present:r||a.hasThumb,children:n.jsx(po,{ref:t,...o})})}),po=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:o,...a}=e,s=D(ie,r),c=st(ie,r),{onThumbPositionChange:l}=c,u=R(t,h=>c.onThumbChange(h)),p=i.useRef(void 0),d=de(()=>{p.current&&(p.current(),p.current=void 0)},100);return i.useEffect(()=>{const h=s.viewport;if(h){const f=()=>{if(d(),!p.current){const g=go(h,l);p.current=g,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,d,l]),n.jsx(T.div,{"data-state":c.hasThumb?"visible":"hidden",...a,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:j(e.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),C=h.clientX-g.left,m=h.clientY-g.top;c.onThumbPointerDown({x:C,y:m})}),onPointerUp:j(e.onPointerUp,c.onThumbPointerUp)})});lt.displayName=ie;var De="ScrollAreaCorner",ct=i.forwardRef((e,t)=>{const r=D(De,e.__scopeScrollArea),o=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&o?n.jsx(ho,{...e,ref:t}):null});ct.displayName=De;var ho=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,...o}=e,a=D(De,r),[s,c]=i.useState(0),[l,u]=i.useState(0),p=!!(s&&l);return G(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),u(d)}),G(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),c(d)}),p?n.jsx(T.div,{...o,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function le(e){return e?parseInt(e,10):0}function ut(e,t){const r=e/t;return isNaN(r)?0:r}function ue(e){const t=ut(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-r)*t;return Math.max(o,18)}function vo(e,t,r,o="ltr"){const a=ue(r),s=a/2,c=t||s,l=a-c,u=r.scrollbar.paddingStart+c,p=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=o==="ltr"?[0,d]:[d*-1,0];return dt([u,p],h)(e)}function $e(e,t,r="ltr"){const o=ue(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,c=t.content-t.viewport,l=s-o,u=r==="ltr"?[0,c]:[c*-1,0],p=no(e,u);return dt([0,c],[0,l])(p)}function dt(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}function ft(e,t){return e>0&&e<t}var go=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},o=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},c=r.left!==s.left,l=r.top!==s.top;(c||l)&&t(),r=s,o=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(o)};function de(e,t){const r=F(e),o=i.useRef(0);return i.useEffect(()=>()=>window.clearTimeout(o.current),[]),i.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(r,t)},[r,t])}function G(e,t){const r=F(t);zr(()=>{let o=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(o),a.unobserve(e)}}},[e,r])}var mt=rt,bo=at,xo=ct;const pt=i.forwardRef(({className:e,children:t,...r},o)=>n.jsxs(mt,{ref:o,className:M("relative overflow-hidden",e),...r,children:[n.jsx(bo,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(ht,{}),n.jsx(xo,{})]}));pt.displayName=mt.displayName;const ht=i.forwardRef(({className:e,orientation:t="vertical",...r},o)=>n.jsx(je,{ref:o,orientation:t,className:M("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(lt,{className:"relative flex-1 rounded-full bg-border"})}));ht.displayName=je.displayName;const wo=({className:e})=>{const{user:t}=Je(),[r,o]=i.useState(!1),[a,s]=i.useState([]),[c,l]=i.useState(""),[u,p]=i.useState(!1),d=i.useRef(null),h=i.useRef(null);i.useEffect(()=>{r&&t?.uid&&f()},[r,t?.uid]),i.useEffect(()=>{g()},[a]),i.useEffect(()=>{r&&h.current&&setTimeout(()=>h.current?.focus(),100)},[r]);const f=async()=>{if(t?.uid)try{const v=await ve.getRecentMessages(t.uid);s(v)}catch(v){console.error("Erro ao carregar mensagens:",v),Q.error("Erro ao carregar histÃ³rico de conversas")}},g=()=>{d.current?.scrollIntoView({behavior:"smooth"})},C=async()=>{if(!c.trim()||!t?.uid||u)return;const v=c.trim();l(""),p(!0);try{const y={id:`temp-${Date.now()}`,role:"user",content:v,timestamp:new Date,userId:t.uid};s(N=>[...N,y]);const S=await ve.processUserMessage(t.uid,v),b={id:`temp-assistant-${Date.now()}`,role:"assistant",content:S,timestamp:new Date,userId:t.uid};s(N=>[...N,b])}catch(y){console.error("Erro ao enviar mensagem:",y),Q.error("Erro ao enviar mensagem. Tente novamente.")}finally{p(!1)}},m=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),C())},w=async()=>{if(t?.uid)try{await ve.clearConversationHistory(t.uid),s([]),Q.success("HistÃ³rico de conversas limpo")}catch(v){console.error("Erro ao limpar histÃ³rico:",v),Q.error("Erro ao limpar histÃ³rico")}},x=v=>v.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return t?n.jsxs(n.Fragment,{children:[!r&&n.jsx(Z,{onClick:()=>o(!0),className:"fixed bottom-6 right-6 z-50 h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-200",size:"icon",children:n.jsx(wr,{className:"h-6 w-6"})}),r&&n.jsxs($r,{className:`fixed bottom-6 right-6 z-50 w-96 h-[500px] shadow-2xl ${e}`,children:[n.jsx(Hr,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(J,{className:"h-5 w-5 text-primary"}),n.jsx(Br,{className:"text-lg",children:"Assistente Optify"}),n.jsxs(ke,{variant:"secondary",className:"text-xs",children:[n.jsx(yr,{className:"h-3 w-3 mr-1"}),"GPT-4o Mini"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Z,{variant:"ghost",size:"sm",onClick:w,className:"h-8 w-8 p-0",title:"Limpar histÃ³rico",children:n.jsx(Sr,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>o(!1),className:"h-8 w-8 p-0",children:n.jsx(Ze,{className:"h-4 w-4"})})]})]})}),n.jsxs(Vr,{className:"flex flex-col h-[400px] p-0",children:[n.jsx(pt,{className:"flex-1 px-4",children:n.jsxs("div",{className:"space-y-4 py-4",children:[a.length===0&&n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(J,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),n.jsx("p",{className:"text-sm",children:"OlÃ¡! Como posso ajudÃ¡-lo hoje?"}),n.jsx("p",{className:"text-xs mt-1",children:"Pergunte sobre funcionÃ¡rios, transaÃ§Ãµes, metas ou relatÃ³rios"})]}),a.map(v=>n.jsxs("div",{className:`flex gap-3 ${v.role==="user"?"justify-end":"justify-start"}`,children:[v.role==="assistant"&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(J,{className:"h-4 w-4 text-primary"})})}),n.jsxs("div",{className:`max-w-[80%] ${v.role==="user"?"order-first":""}`,children:[n.jsx("div",{className:`rounded-lg px-3 py-2 text-sm ${v.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:n.jsx("div",{className:"whitespace-pre-wrap",children:v.content})}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:x(v.timestamp)}),v.role==="user"&&n.jsx(Me,{className:"h-3 w-3 text-muted-foreground"}),v.metadata?.operation&&n.jsx(ke,{variant:"secondary",className:"text-xs",children:v.metadata.operation})]})]}),v.role==="user"&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:n.jsx(Me,{className:"h-4 w-4 text-primary-foreground"})})})]},v.id)),u&&n.jsxs("div",{className:"flex gap-3 justify-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(J,{className:"h-4 w-4 text-primary"})})}),n.jsx("div",{className:"bg-muted rounded-lg px-3 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Digitando..."})]})})]}),n.jsx("div",{ref:d})]})}),n.jsxs("div",{className:"border-t p-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(eo,{ref:h,value:c,onChange:v=>l(v.target.value),onKeyPress:m,placeholder:"Digite sua mensagem...",disabled:u,className:"flex-1"}),n.jsx(Z,{onClick:C,disabled:!c.trim()||u,size:"icon",className:"h-10 w-10",children:n.jsx(Cr,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Pressione Enter para enviar â€¢ Shift+Enter para nova linha"})]})]})]})]}):null};var ge="focusScope.autoFocusOnMount",be="focusScope.autoFocusOnUnmount",He={bubbles:!1,cancelable:!0},yo="FocusScope",vt=i.forwardRef((e,t)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...c}=e,[l,u]=i.useState(null),p=F(a),d=F(s),h=i.useRef(null),f=R(t,m=>u(m)),g=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(o){let m=function(y){if(g.paused||!l)return;const S=y.target;l.contains(S)?h.current=S:z(h.current,{select:!0})},w=function(y){if(g.paused||!l)return;const S=y.relatedTarget;S!==null&&(l.contains(S)||z(h.current,{select:!0}))},x=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&z(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),v.disconnect()}}},[o,l,g.paused]),i.useEffect(()=>{if(l){Ve.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(ge,He);l.addEventListener(ge,p),l.dispatchEvent(x),x.defaultPrevented||(So(jo(gt(l)),{select:!0}),document.activeElement===m&&z(l))}return()=>{l.removeEventListener(ge,p),setTimeout(()=>{const x=new CustomEvent(be,He);l.addEventListener(be,d),l.dispatchEvent(x),x.defaultPrevented||z(m??document.body,{select:!0}),l.removeEventListener(be,d),Ve.remove(g)},0)}}},[l,p,d,g]);const C=i.useCallback(m=>{if(!r&&!o||g.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(w&&x){const v=m.currentTarget,[y,S]=Co(v);y&&S?!m.shiftKey&&x===S?(m.preventDefault(),r&&z(y,{select:!0})):m.shiftKey&&x===y&&(m.preventDefault(),r&&z(S,{select:!0})):x===v&&m.preventDefault()}},[r,o,g.paused]);return n.jsx(T.div,{tabIndex:-1,...c,ref:f,onKeyDown:C})});vt.displayName=yo;function So(e,{select:t=!1}={}){const r=document.activeElement;for(const o of e)if(z(o,{select:t}),document.activeElement!==r)return}function Co(e){const t=gt(e),r=Be(t,e),o=Be(t.reverse(),e);return[r,o]}function gt(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Be(e,t){for(const r of e)if(!Eo(r,{upTo:t}))return r}function Eo(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function No(e){return e instanceof HTMLInputElement&&"select"in e}function z(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&No(e)&&t&&e.select()}}var Ve=Ao();function Ao(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=qe(e,t),e.unshift(t)},remove(t){e=qe(e,t),e[0]?.resume()}}}function qe(e,t){const r=[...e],o=r.indexOf(t);return o!==-1&&r.splice(o,1),r}function jo(e){return e.filter(t=>t.tagName!=="A")}var xe=0;function Ro(){i.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ue()),document.body.insertAdjacentElement("beforeend",e[1]??Ue()),xe++,()=>{xe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xe--}},[])}function Ue(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var O=function(){return O=Object.assign||function(t){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},O.apply(this,arguments)};function bt(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r}function Do(e,t,r){if(r||arguments.length===2)for(var o=0,a=t.length,s;o<a;o++)(s||!(o in t))&&(s||(s=Array.prototype.slice.call(t,0,o)),s[o]=t[o]);return e.concat(s||Array.prototype.slice.call(t))}var ne="right-scroll-bar-position",se="width-before-scroll-bar",Po="with-scroll-bars-hidden",To="--removed-body-scroll-bar-size";function we(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _o(e,t){var r=i.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(o){var a=r.value;a!==o&&(r.value=o,r.callback(o,a))}}}})[0];return r.callback=t,r.facade}var Oo=typeof window<"u"?i.useLayoutEffect:i.useEffect,Ye=new WeakMap;function Mo(e,t){var r=_o(null,function(o){return e.forEach(function(a){return we(a,o)})});return Oo(function(){var o=Ye.get(r);if(o){var a=new Set(o),s=new Set(e),c=r.current;a.forEach(function(l){s.has(l)||we(l,null)}),s.forEach(function(l){a.has(l)||we(l,c)})}Ye.set(r,e)},[e]),r}function ko(e){return e}function Lo(e,t){t===void 0&&(t=ko);var r=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var c=t(s,o);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(s){for(o=!0;r.length;){var c=r;r=[],c.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){o=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(s),c=r}var u=function(){var d=c;c=[],d.forEach(s)},p=function(){return Promise.resolve().then(u)};p(),r={push:function(d){c.push(d),p()},filter:function(d){return c=c.filter(d),r}}}};return a}function Io(e){e===void 0&&(e={});var t=Lo(null);return t.options=O({async:!0,ssr:!1},e),t}var xt=function(e){var t=e.sideCar,r=bt(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return i.createElement(o,O({},r))};xt.isSideCarExport=!0;function Fo(e,t){return e.useMedium(t),xt}var wt=Io(),ye=function(){},fe=i.forwardRef(function(e,t){var r=i.useRef(null),o=i.useState({onScrollCapture:ye,onWheelCapture:ye,onTouchMoveCapture:ye}),a=o[0],s=o[1],c=e.forwardProps,l=e.children,u=e.className,p=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,g=e.noRelative,C=e.noIsolation,m=e.inert,w=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,y=e.gapMode,S=bt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,N=Mo([r,t]),A=O(O({},S),a);return i.createElement(i.Fragment,null,d&&i.createElement(b,{sideCar:wt,removeScrollBar:p,shards:h,noRelative:g,noIsolation:C,inert:m,setCallbacks:s,allowPinchZoom:!!w,lockRef:r,gapMode:y}),c?i.cloneElement(i.Children.only(l),O(O({},A),{ref:N})):i.createElement(v,O({},A,{className:u,ref:N}),l))});fe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fe.classNames={fullWidth:se,zeroRight:ne};var Wo=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zo(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Wo();return t&&e.setAttribute("nonce",t),e}function $o(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ho(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Bo=function(){var e=0,t=null;return{add:function(r){e==0&&(t=zo())&&($o(t,r),Ho(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Vo=function(){var e=Bo();return function(t,r){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},yt=function(){var e=Vo(),t=function(r){var o=r.styles,a=r.dynamic;return e(o,a),null};return t},qo={left:0,top:0,right:0,gap:0},Se=function(e){return parseInt(e||"",10)||0},Uo=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Se(r),Se(o),Se(a)]},Yo=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qo;var t=Uo(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-r+t[2]-t[0])}},Xo=yt(),Y="data-scroll-locked",Go=function(e,t,r,o){var a=e.left,s=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Po,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(l,"px ").concat(o,`;
  }
  body[`).concat(Y,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ne,` {
    right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(se,` {
    margin-right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(ne," .").concat(ne,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(se," .").concat(se,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Y,`] {
    `).concat(To,": ").concat(l,`px;
  }
`)},Xe=function(){var e=parseInt(document.body.getAttribute(Y)||"0",10);return isFinite(e)?e:0},Ko=function(){i.useEffect(function(){return document.body.setAttribute(Y,(Xe()+1).toString()),function(){var e=Xe()-1;e<=0?document.body.removeAttribute(Y):document.body.setAttribute(Y,e.toString())}},[])},Qo=function(e){var t=e.noRelative,r=e.noImportant,o=e.gapMode,a=o===void 0?"margin":o;Ko();var s=i.useMemo(function(){return Yo(a)},[a]);return i.createElement(Xo,{styles:Go(s,!t,a,r?"":"!important")})},Ee=!1;if(typeof window<"u")try{var te=Object.defineProperty({},"passive",{get:function(){return Ee=!0,!0}});window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Ee=!1}var V=Ee?{passive:!1}:!1,Zo=function(e){return e.tagName==="TEXTAREA"},St=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Zo(e)&&r[t]==="visible")},Jo=function(e){return St(e,"overflowY")},ea=function(e){return St(e,"overflowX")},Ge=function(e,t){var r=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=Ct(e,o);if(a){var s=Et(e,o),c=s[1],l=s[2];if(c>l)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},ta=function(e){var t=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[t,r,o]},ra=function(e){var t=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[t,r,o]},Ct=function(e,t){return e==="v"?Jo(t):ea(t)},Et=function(e,t){return e==="v"?ta(t):ra(t)},oa=function(e,t){return e==="h"&&t==="rtl"?-1:1},aa=function(e,t,r,o,a){var s=oa(e,window.getComputedStyle(t).direction),c=s*o,l=r.target,u=t.contains(l),p=!1,d=c>0,h=0,f=0;do{if(!l)break;var g=Et(e,l),C=g[0],m=g[1],w=g[2],x=m-w-s*C;(C||x)&&Ct(e,l)&&(h+=x,f+=C);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(p=!0),p},re=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ke=function(e){return[e.deltaX,e.deltaY]},Qe=function(e){return e&&"current"in e?e.current:e},na=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sa=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ia=0,q=[];function la(e){var t=i.useRef([]),r=i.useRef([0,0]),o=i.useRef(),a=i.useState(ia++)[0],s=i.useState(yt)[0],c=i.useRef(e);i.useEffect(function(){c.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=Do([e.lockRef.current],(e.shards||[]).map(Qe),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=i.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!c.current.allowPinchZoom;var x=re(m),v=r.current,y="deltaX"in m?m.deltaX:v[0]-x[0],S="deltaY"in m?m.deltaY:v[1]-x[1],b,N=m.target,A=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in m&&A==="h"&&N.type==="range")return!1;var L=Ge(A,N);if(!L)return!0;if(L?b=A:(b=A==="v"?"h":"v",L=Ge(A,N)),!L)return!1;if(!o.current&&"changedTouches"in m&&(y||S)&&(o.current=b),!b)return!0;var E=o.current||b;return aa(E,w,m,E==="h"?y:S,!0)},[]),u=i.useCallback(function(m){var w=m;if(!(!q.length||q[q.length-1]!==s)){var x="deltaY"in w?Ke(w):re(w),v=t.current.filter(function(b){return b.name===w.type&&(b.target===w.target||w.target===b.shadowParent)&&na(b.delta,x)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var y=(c.current.shards||[]).map(Qe).filter(Boolean).filter(function(b){return b.contains(w.target)}),S=y.length>0?l(w,y[0]):!c.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),p=i.useCallback(function(m,w,x,v){var y={name:m,delta:w,target:x,should:v,shadowParent:ca(x)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(S){return S!==y})},1)},[]),d=i.useCallback(function(m){r.current=re(m),o.current=void 0},[]),h=i.useCallback(function(m){p(m.type,Ke(m),m.target,l(m,e.lockRef.current))},[]),f=i.useCallback(function(m){p(m.type,re(m),m.target,l(m,e.lockRef.current))},[]);i.useEffect(function(){return q.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",u,V),document.addEventListener("touchmove",u,V),document.addEventListener("touchstart",d,V),function(){q=q.filter(function(m){return m!==s}),document.removeEventListener("wheel",u,V),document.removeEventListener("touchmove",u,V),document.removeEventListener("touchstart",d,V)}},[]);var g=e.removeScrollBar,C=e.inert;return i.createElement(i.Fragment,null,C?i.createElement(s,{styles:sa(a)}):null,g?i.createElement(Qo,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ca(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ua=Fo(wt,la);var Nt=i.forwardRef(function(e,t){return i.createElement(fe,O({},e,{ref:t,sideCar:ua}))});Nt.classNames=fe.classNames;var da=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},U=new WeakMap,oe=new WeakMap,ae={},Ce=0,At=function(e){return e&&(e.host||At(e.parentNode))},fa=function(e,t){return t.map(function(r){if(e.contains(r))return r;var o=At(r);return o&&e.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ma=function(e,t,r,o){var a=fa(t,Array.isArray(e)?e:[e]);ae[r]||(ae[r]=new WeakMap);var s=ae[r],c=[],l=new Set,u=new Set(a),p=function(h){!h||l.has(h)||(l.add(h),p(h.parentNode))};a.forEach(p);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var g=f.getAttribute(o),C=g!==null&&g!=="false",m=(U.get(f)||0)+1,w=(s.get(f)||0)+1;U.set(f,m),s.set(f,w),c.push(f),m===1&&C&&oe.set(f,!0),w===1&&f.setAttribute(r,"true"),C||f.setAttribute(o,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),l.clear(),Ce++,function(){c.forEach(function(h){var f=U.get(h)-1,g=s.get(h)-1;U.set(h,f),s.set(h,g),f||(oe.has(h)||h.removeAttribute(o),oe.delete(h)),g||h.removeAttribute(r)}),Ce--,Ce||(U=new WeakMap,U=new WeakMap,oe=new WeakMap,ae={})}},pa=function(e,t,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=da(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live]"))),ma(o,a,r,"aria-hidden")):function(){return null}},me="Dialog",[jt,Rt]=Ne(me),[ha,_]=jt(me),Dt=e=>{const{__scopeDialog:t,children:r,open:o,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,l=i.useRef(null),u=i.useRef(null),[p,d]=Yr({prop:o,defaultProp:a??!1,onChange:s,caller:me});return n.jsx(ha,{scope:t,triggerRef:l,contentRef:u,contentId:he(),titleId:he(),descriptionId:he(),open:p,onOpenChange:d,onOpenToggle:i.useCallback(()=>d(h=>!h),[d]),modal:c,children:r})};Dt.displayName=me;var Pt="DialogTrigger",Tt=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(Pt,r),s=R(t,a.triggerRef);return n.jsx(T.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_e(a.open),...o,ref:s,onClick:j(e.onClick,a.onOpenToggle)})});Tt.displayName=Pt;var Pe="DialogPortal",[va,_t]=jt(Pe,{forceMount:void 0}),Ot=e=>{const{__scopeDialog:t,forceMount:r,children:o,container:a}=e,s=_(Pe,t);return n.jsx(va,{scope:t,forceMount:r,children:i.Children.map(o,c=>n.jsx(H,{present:r||s.open,children:n.jsx(Xr,{asChild:!0,container:a,children:c})}))})};Ot.displayName=Pe;var ce="DialogOverlay",Mt=i.forwardRef((e,t)=>{const r=_t(ce,e.__scopeDialog),{forceMount:o=r.forceMount,...a}=e,s=_(ce,e.__scopeDialog);return s.modal?n.jsx(H,{present:o||s.open,children:n.jsx(ba,{...a,ref:t})}):null});Mt.displayName=ce;var ga=Gr("DialogOverlay.RemoveScroll"),ba=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(ce,r);return n.jsx(Nt,{as:ga,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(T.div,{"data-state":_e(a.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),$="DialogContent",kt=i.forwardRef((e,t)=>{const r=_t($,e.__scopeDialog),{forceMount:o=r.forceMount,...a}=e,s=_($,e.__scopeDialog);return n.jsx(H,{present:o||s.open,children:s.modal?n.jsx(xa,{...a,ref:t}):n.jsx(wa,{...a,ref:t})})});kt.displayName=$;var xa=i.forwardRef((e,t)=>{const r=_($,e.__scopeDialog),o=i.useRef(null),a=R(t,r.contentRef,o);return i.useEffect(()=>{const s=o.current;if(s)return pa(s)},[]),n.jsx(Lt,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:j(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:j(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&s.preventDefault()}),onFocusOutside:j(e.onFocusOutside,s=>s.preventDefault())})}),wa=i.forwardRef((e,t)=>{const r=_($,e.__scopeDialog),o=i.useRef(!1),a=i.useRef(!1);return n.jsx(Lt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||r.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;r.triggerRef.current?.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Lt=i.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,...c}=e,l=_($,r),u=i.useRef(null),p=R(t,u);return Ro(),n.jsxs(n.Fragment,{children:[n.jsx(vt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:s,children:n.jsx(qr,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_e(l.open),...c,ref:p,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Sa,{titleId:l.titleId}),n.jsx(Ea,{contentRef:u,descriptionId:l.descriptionId})]})]})}),Te="DialogTitle",It=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(Te,r);return n.jsx(T.h2,{id:a.titleId,...o,ref:t})});It.displayName=Te;var Ft="DialogDescription",Wt=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(Ft,r);return n.jsx(T.p,{id:a.descriptionId,...o,ref:t})});Wt.displayName=Ft;var zt="DialogClose",$t=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(zt,r);return n.jsx(T.button,{type:"button",...o,ref:t,onClick:j(e.onClick,()=>a.onOpenChange(!1))})});$t.displayName=zt;function _e(e){return e?"open":"closed"}var Ht="DialogTitleWarning",[ya,Bt]=Ur(Ht,{contentName:$,titleName:Te,docsSlug:"dialog"}),Sa=({titleId:e})=>{const t=Bt(Ht),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ca="DialogDescriptionWarning",Ea=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Bt(Ca).contentName}}.`;return i.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},Na=Dt,Aa=Tt,ja=Ot,Ra=Mt,Da=kt,Pa=It,Ta=Wt,Vt=$t,qt="AlertDialog",[_a,rn]=Ne(qt,[Rt]),W=Rt(),Ut=e=>{const{__scopeAlertDialog:t,...r}=e,o=W(t);return n.jsx(Na,{...o,...r,modal:!0})};Ut.displayName=qt;var Oa="AlertDialogTrigger",Yt=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=W(r);return n.jsx(Aa,{...a,...o,ref:t})});Yt.displayName=Oa;var Ma="AlertDialogPortal",Xt=e=>{const{__scopeAlertDialog:t,...r}=e,o=W(t);return n.jsx(ja,{...o,...r})};Xt.displayName=Ma;var ka="AlertDialogOverlay",Gt=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=W(r);return n.jsx(Ra,{...a,...o,ref:t})});Gt.displayName=ka;var X="AlertDialogContent",[La,Ia]=_a(X),Fa=Kr("AlertDialogContent"),Kt=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:o,...a}=e,s=W(r),c=i.useRef(null),l=R(t,c),u=i.useRef(null);return n.jsx(ya,{contentName:X,titleName:Qt,docsSlug:"alert-dialog",children:n.jsx(La,{scope:r,cancelRef:u,children:n.jsxs(Da,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:j(a.onOpenAutoFocus,p=>{p.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[n.jsx(Fa,{children:o}),n.jsx(za,{contentRef:c})]})})})});Kt.displayName=X;var Qt="AlertDialogTitle",Zt=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=W(r);return n.jsx(Pa,{...a,...o,ref:t})});Zt.displayName=Qt;var Jt="AlertDialogDescription",er=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=W(r);return n.jsx(Ta,{...a,...o,ref:t})});er.displayName=Jt;var Wa="AlertDialogAction",tr=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=W(r);return n.jsx(Vt,{...a,...o,ref:t})});tr.displayName=Wa;var rr="AlertDialogCancel",or=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,{cancelRef:a}=Ia(rr,r),s=W(r),c=R(t,a);return n.jsx(Vt,{...s,...o,ref:c})});or.displayName=rr;var za=({contentRef:e})=>{const t=`\`${X}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${X}\` by passing a \`${Jt}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${X}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$a=Ut,Ha=Yt,Ba=Xt,ar=Gt,nr=Kt,sr=tr,ir=or,lr=Zt,cr=er;const Va=$a,qa=Ha,Ua=Ba,ur=i.forwardRef(({className:e,...t},r)=>n.jsx(ar,{className:M("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ur.displayName=ar.displayName;const dr=i.forwardRef(({className:e,...t},r)=>n.jsxs(Ua,{children:[n.jsx(ur,{}),n.jsx(nr,{ref:r,className:M("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));dr.displayName=nr.displayName;const fr=({className:e,...t})=>n.jsx("div",{className:M("flex flex-col space-y-2 text-center sm:text-left",e),...t});fr.displayName="AlertDialogHeader";const mr=({className:e,...t})=>n.jsx("div",{className:M("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mr.displayName="AlertDialogFooter";const pr=i.forwardRef(({className:e,...t},r)=>n.jsx(lr,{ref:r,className:M("text-lg font-semibold",e),...t}));pr.displayName=lr.displayName;const hr=i.forwardRef(({className:e,...t},r)=>n.jsx(cr,{ref:r,className:M("text-sm text-muted-foreground",e),...t}));hr.displayName=cr.displayName;const vr=i.forwardRef(({className:e,...t},r)=>n.jsx(sr,{ref:r,className:M(et(),e),...t}));vr.displayName=sr.displayName;const gr=i.forwardRef(({className:e,...t},r)=>n.jsx(ir,{ref:r,className:M(et({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gr.displayName=ir.displayName;const on=({children:e})=>{const t=Fr(),r=Wr(),{user:o,isAdmin:a,logout:s}=Je(),{canAccess:c,currentPlan:l}=Qr(),{preloadOnHover:u,preloadOnIdle:p}=oo(),[d,h]=i.useState(!1),f=ro();i.useEffect(()=>{f||h(!1)},[f]),i.useEffect(()=>(f&&d?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[f,d]),i.useEffect(()=>{p()},[p]);const g=b=>{t(b),f&&h(!1)},C=()=>{h(!1)},m=[{icon:Er,label:"Dashboard",path:"/dashboard",requiredFeature:"dashboard"},{icon:Nr,label:"FuncionÃ¡rios",path:"/gestao-funcionarios",requiredFeature:"dashboard"},{icon:Ar,label:"Pagamentos",path:"/pagamentos",requiredFeature:"payments"},{icon:jr,label:"Resumo do Dia",path:"/resumo-dia",requiredFeature:"dailySummary"},{icon:Rr,label:"Saldos",path:"/saldos",requiredFeature:"balances"},{icon:Dr,label:"RelatÃ³rios",path:"/relatorios",requiredFeature:"reports"},{icon:Pr,label:"HistÃ³rico",path:"/historico",requiredFeature:"history"},{icon:Tr,label:"Planos",path:"/planos",requiredFeature:"dashboard"},...a||ee(o?.email)?[{icon:_r,label:"Afiliados",path:"/afiliados",requiredFeature:"dashboard"}]:[]];console.log("ðŸ” Admin Debug:",{isAdmin:a,userEmail:o?.email,isAdminEmail:ee(o?.email),hasAdminAccess:a||ee(o?.email)});const x=a||ee(o?.email)||!0?[{icon:Or,label:"Admin",path:"/admin",requiredFeature:"advancedPanel"}]:[],v=[{icon:Lr,label:"Perfil",path:"/perfil"},{icon:Ir,label:"ConfiguraÃ§Ãµes",path:"/settings"},...x];console.log("ðŸ” Bottom Nav Debug:",{adminItem:x,bottomNavItems:v,adminItemLength:x.length});const y=b=>r.pathname===b,S=()=>{s(),t("/"),Q.success("Logout realizado com sucesso!")};return n.jsxs("div",{className:"min-h-screen flex w-full bg-background overflow-hidden",children:[f&&n.jsx("div",{className:"fixed top-0 left-0 right-0 bg-sidebar border-b border-sidebar-border/50 z-50 lg:hidden shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsx("button",{onClick:()=>h(!0),className:"p-2 rounded-lg hover:bg-sidebar-accent transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Abrir menu",children:n.jsx(Mr,{className:"h-6 w-6 text-foreground"})}),n.jsxs("button",{onClick:()=>g("/dashboard"),className:"flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary/50 rounded-lg p-1","aria-label":"Ir para Dashboard",children:[n.jsxs("svg",{className:"w-8 h-8 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),n.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),n.jsx("path",{d:"M2 9h20"})]}),n.jsx("h1",{className:"text-xl font-black text-foreground",children:"Optify"})]}),n.jsx("div",{className:"w-10"})," "]})}),f&&d&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity duration-300",onClick:C,"aria-hidden":"true"}),n.jsxs("aside",{className:`
        w-64 sm:w-72 lg:w-80 bg-sidebar border-r border-sidebar-border flex flex-col shadow-xl 
        fixed left-0 top-0 h-screen z-50 overflow-y-auto
        transition-transform duration-300 ease-in-out
        ${f?d?"translate-x-0":"-translate-x-full":"translate-x-0"}
      `,children:[n.jsxs("div",{className:"p-8 border-b border-sidebar-border/50",children:[f&&n.jsx("div",{className:"flex justify-end mb-4",children:n.jsx("button",{onClick:()=>h(!1),className:"p-2 rounded-lg hover:bg-sidebar-accent transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Fechar menu",children:n.jsx(Ze,{className:"h-5 w-5 text-foreground"})})}),n.jsxs("button",{onClick:()=>g("/dashboard"),className:"flex items-center gap-3 mb-4",children:[n.jsxs("svg",{className:"w-10 h-10 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),n.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),n.jsx("path",{d:"M2 9h20"})]}),n.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Optify"})]}),n.jsxs("div",{className:"px-4 py-2 rounded-xl bg-primary/10 border border-primary/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Plano Atual"}),n.jsx("p",{className:"text-sm font-bold text-primary capitalize",children:l})]})]}),n.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:m.map(b=>n.jsxs("button",{onClick:()=>g(b.path),onMouseEnter:()=>u(b.path),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all group ${y(b.path)?"bg-gradient-primary text-primary-foreground shadow-glow scale-105":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground hover:scale-105"}`,children:[n.jsx(b.icon,{className:`h-5 w-5 ${y(b.path)?"":"group-hover:scale-110 transition-transform"}`}),n.jsx("span",{className:"text-sm font-semibold",children:b.label})]},b.path))}),n.jsxs("div",{className:"p-3 border-t border-sidebar-border/50 space-y-1",children:[v.map(b=>n.jsxs("button",{onClick:()=>g(b.path),onMouseEnter:()=>u(b.path),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-xl transition-all ${y(b.path)?"bg-gradient-primary text-primary-foreground shadow-glow":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground"}`,children:[n.jsx(b.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-semibold",children:b.label})]},b.path)),n.jsxs(Va,{children:[n.jsx(qa,{asChild:!0,children:n.jsxs(Z,{variant:"ghost",className:"w-full justify-start gap-3 px-4 py-2.5 text-destructive hover:text-destructive hover:bg-destructive/10 rounded-xl",children:[n.jsx(kr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-semibold",children:"Sair"})]})}),n.jsxs(dr,{className:"bg-card border-border",children:[n.jsxs(fr,{children:[n.jsx(pr,{className:"text-foreground",children:"Confirmar Logout"}),n.jsx(hr,{className:"text-muted-foreground",children:"Tem certeza que deseja sair da sua conta? VocÃª precisarÃ¡ fazer login novamente para acessar o sistema."})]}),n.jsxs(mr,{children:[n.jsx(gr,{className:"bg-muted hover:bg-muted/80 text-foreground border-border",children:"Cancelar"}),n.jsx(vr,{onClick:S,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Sair da Conta"})]})]})]})]})]}),n.jsx("main",{className:`
        flex-1 overflow-y-auto bg-gradient-to-br from-background to-background/95 
        ${f?"ml-0 pt-16":"ml-64 sm:ml-72 lg:ml-80"}
      `,children:n.jsx("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:e})}),n.jsx(wo,{})]})};export{Va as A,Da as C,on as D,vt as F,Ra as O,ja as P,Nt as R,Pa as T,dr as a,fr as b,pr as c,hr as d,mr as e,gr as f,vr as g,pa as h,qa as i,Vt as j,Ta as k,Na as l,Aa as m,no as n,Ro as u};
