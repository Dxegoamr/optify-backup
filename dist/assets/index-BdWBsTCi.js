var nie=Object.defineProperty;var o6=t=>{throw TypeError(t)};var iie=(t,e,r)=>e in t?nie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var kr=(t,e,r)=>iie(t,typeof e!="symbol"?e+"":e,r),vE=(t,e,r)=>e.has(t)||o6("Cannot "+r);var xe=(t,e,r)=>(vE(t,e,"read from private field"),r?r.call(t):e.get(t)),$t=(t,e,r)=>e.has(t)?o6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),dt=(t,e,r,n)=>(vE(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),mr=(t,e,r)=>(vE(t,e,"access private method"),r);var Tw=(t,e,r,n)=>({set _(i){dt(t,e,i,r)},get _(){return xe(t,e,n)}});function aie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sie(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var aV={exports:{}},L5={},sV={exports:{}},br={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=Symbol.for("react.element"),oie=Symbol.for("react.portal"),lie=Symbol.for("react.fragment"),cie=Symbol.for("react.strict_mode"),uie=Symbol.for("react.profiler"),die=Symbol.for("react.provider"),hie=Symbol.for("react.context"),fie=Symbol.for("react.forward_ref"),pie=Symbol.for("react.suspense"),mie=Symbol.for("react.memo"),gie=Symbol.for("react.lazy"),l6=Symbol.iterator;function vie(t){return t===null||typeof t!="object"?null:(t=l6&&t[l6]||t["@@iterator"],typeof t=="function"?t:null)}var oV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lV=Object.assign,cV={};function fy(t,e,r){this.props=t,this.context=e,this.refs=cV,this.updater=r||oV}fy.prototype.isReactComponent={};fy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uV(){}uV.prototype=fy.prototype;function Q4(t,e,r){this.props=t,this.context=e,this.refs=cV,this.updater=r||oV}var J4=Q4.prototype=new uV;J4.constructor=Q4;lV(J4,fy.prototype);J4.isPureReactComponent=!0;var c6=Array.isArray,dV=Object.prototype.hasOwnProperty,Z4={current:null},hV={key:!0,ref:!0,__self:!0,__source:!0};function fV(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)dV.call(e,n)&&!hV.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:yx,type:t,key:a,ref:s,props:i,_owner:Z4.current}}function yie(t,e){return{$$typeof:yx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eI(t){return typeof t=="object"&&t!==null&&t.$$typeof===yx}function bie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var u6=/\/+/g;function yE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bie(""+t.key):e.toString(36)}function L2(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case yx:case oie:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+yE(s,0):n,c6(i)?(r="",t!=null&&(r=t.replace(u6,"$&/")+"/"),L2(i,e,r,"",function(u){return u})):i!=null&&(eI(i)&&(i=yie(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(u6,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",c6(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+yE(a,o);s+=L2(a,e,r,l,i)}else if(l=vie(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+yE(a,o++),s+=L2(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Cw(t,e,r){if(t==null)return t;var n=[],i=0;return L2(t,n,"","",function(a){return e.call(r,a,i++)}),n}function xie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ss={current:null},M2={transition:null},wie={ReactCurrentDispatcher:ss,ReactCurrentBatchConfig:M2,ReactCurrentOwner:Z4};function pV(){throw Error("act(...) is not supported in production builds of React.")}br.Children={map:Cw,forEach:function(t,e,r){Cw(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Cw(t,function(){e++}),e},toArray:function(t){return Cw(t,function(e){return e})||[]},only:function(t){if(!eI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};br.Component=fy;br.Fragment=lie;br.Profiler=uie;br.PureComponent=Q4;br.StrictMode=cie;br.Suspense=pie;br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wie;br.act=pV;br.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=lV({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Z4.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)dV.call(e,l)&&!hV.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:yx,type:t.type,key:i,ref:a,props:n,_owner:s}};br.createContext=function(t){return t={$$typeof:hie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:die,_context:t},t.Consumer=t};br.createElement=fV;br.createFactory=function(t){var e=fV.bind(null,t);return e.type=t,e};br.createRef=function(){return{current:null}};br.forwardRef=function(t){return{$$typeof:fie,render:t}};br.isValidElement=eI;br.lazy=function(t){return{$$typeof:gie,_payload:{_status:-1,_result:t},_init:xie}};br.memo=function(t,e){return{$$typeof:mie,type:t,compare:e===void 0?null:e}};br.startTransition=function(t){var e=M2.transition;M2.transition={};try{t()}finally{M2.transition=e}};br.unstable_act=pV;br.useCallback=function(t,e){return ss.current.useCallback(t,e)};br.useContext=function(t){return ss.current.useContext(t)};br.useDebugValue=function(){};br.useDeferredValue=function(t){return ss.current.useDeferredValue(t)};br.useEffect=function(t,e){return ss.current.useEffect(t,e)};br.useId=function(){return ss.current.useId()};br.useImperativeHandle=function(t,e,r){return ss.current.useImperativeHandle(t,e,r)};br.useInsertionEffect=function(t,e){return ss.current.useInsertionEffect(t,e)};br.useLayoutEffect=function(t,e){return ss.current.useLayoutEffect(t,e)};br.useMemo=function(t,e){return ss.current.useMemo(t,e)};br.useReducer=function(t,e,r){return ss.current.useReducer(t,e,r)};br.useRef=function(t){return ss.current.useRef(t)};br.useState=function(t){return ss.current.useState(t)};br.useSyncExternalStore=function(t,e,r){return ss.current.useSyncExternalStore(t,e,r)};br.useTransition=function(){return ss.current.useTransition()};br.version="18.3.1";sV.exports=br;var T=sV.exports;const ue=Qr(T),tI=aie({__proto__:null,default:ue},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _ie=T,Sie=Symbol.for("react.element"),Aie=Symbol.for("react.fragment"),Nie=Object.prototype.hasOwnProperty,Eie=_ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jie={key:!0,ref:!0,__self:!0,__source:!0};function mV(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Nie.call(e,n)&&!jie.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Sie,type:t,key:a,ref:s,props:i,_owner:Eie.current}}L5.Fragment=Aie;L5.jsx=mV;L5.jsxs=mV;aV.exports=L5;var c=aV.exports,gV={exports:{}},fo={},vV={exports:{}},yV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Z){var ve=q.length;q.push(Z);e:for(;0<ve;){var ce=ve-1>>>1,F=q[ce];if(0<i(F,Z))q[ce]=Z,q[ve]=F,ve=ce;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var Z=q[0],ve=q.pop();if(ve!==Z){q[0]=ve;e:for(var ce=0,F=q.length,V=F>>>1;ce<V;){var G=2*(ce+1)-1,oe=q[G],J=G+1,ie=q[J];if(0>i(oe,ve))J<F&&0>i(ie,oe)?(q[ce]=ie,q[J]=ve,ce=J):(q[ce]=oe,q[G]=ve,ce=G);else if(J<F&&0>i(ie,ve))q[ce]=ie,q[J]=ve,ce=J;else break e}}return Z}function i(q,Z){var ve=q.sortIndex-Z.sortIndex;return ve!==0?ve:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,h=null,p=3,f=!1,v=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=q)n(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=r(u)}}function A(q){if(m=!1,_(q),!v)if(r(l)!==null)v=!0,Y(E);else{var Z=r(u);Z!==null&&K(A,Z.startTime-q)}}function E(q,Z){v=!1,m&&(m=!1,y(N),N=-1),f=!0;var ve=p;try{for(_(Z),h=r(l);h!==null&&(!(h.expirationTime>Z)||q&&!C());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,p=h.priorityLevel;var F=ce(h.expirationTime<=Z);Z=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(l)&&n(l),_(Z)}else n(l);h=r(l)}if(h!==null)var V=!0;else{var G=r(u);G!==null&&K(A,G.startTime-Z),V=!1}return V}finally{h=null,p=ve,f=!1}}var I=!1,j=null,N=-1,k=5,D=-1;function C(){return!(t.unstable_now()-D<k)}function O(){if(j!==null){var q=t.unstable_now();D=q;var Z=!0;try{Z=j(!0,q)}finally{Z?L():(I=!1,j=null)}}else I=!1}var L;if(typeof x=="function")L=function(){x(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=O,L=function(){re.postMessage(null)}}else L=function(){g(O,0)};function Y(q){j=q,I||(I=!0,L())}function K(q,Z){N=g(function(){q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,Y(E))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ve=p;p=Z;try{return q()}finally{p=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ve=p;p=q;try{return Z()}finally{p=ve}},t.unstable_scheduleCallback=function(q,Z,ve){var ce=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ce+ve:ce):ve=ce,q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ve+F,q={id:d++,callback:Z,priorityLevel:q,startTime:ve,expirationTime:F,sortIndex:-1},ve>ce?(q.sortIndex=ve,e(u,q),r(l)===null&&q===r(u)&&(m?(y(N),N=-1):m=!0,K(A,ve-ce))):(q.sortIndex=F,e(l,q),v||f||(v=!0,Y(E))),q},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(q){var Z=p;return function(){var ve=p;p=Z;try{return q.apply(this,arguments)}finally{p=ve}}}})(yV);vV.exports=yV;var Pie=vV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tie=T,uo=Pie;function Je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bV=new Set,B1={};function hm(t,e){mv(t,e),mv(t+"Capture",e)}function mv(t,e){for(B1[t]=e,t=0;t<e.length;t++)bV.add(e[t])}var Mu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VP=Object.prototype.hasOwnProperty,Cie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d6={},h6={};function kie(t){return VP.call(h6,t)?!0:VP.call(d6,t)?!1:Cie.test(t)?h6[t]=!0:(d6[t]=!0,!1)}function Iie(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Oie(t,e,r,n){if(e===null||typeof e>"u"||Iie(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function os(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var pa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pa[t]=new os(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pa[e]=new os(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pa[t]=new os(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pa[t]=new os(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pa[t]=new os(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pa[t]=new os(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pa[t]=new os(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pa[t]=new os(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pa[t]=new os(t,5,!1,t.toLowerCase(),null,!1,!1)});var rI=/[\-:]([a-z])/g;function nI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rI,nI);pa[e]=new os(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rI,nI);pa[e]=new os(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rI,nI);pa[e]=new os(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pa[t]=new os(t,1,!1,t.toLowerCase(),null,!1,!1)});pa.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pa[t]=new os(t,1,!1,t.toLowerCase(),null,!0,!0)});function iI(t,e,r,n){var i=pa.hasOwnProperty(e)?pa[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Oie(e,r,i,n)&&(r=null),n||i===null?kie(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Qu=Tie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kw=Symbol.for("react.element"),dg=Symbol.for("react.portal"),hg=Symbol.for("react.fragment"),aI=Symbol.for("react.strict_mode"),zP=Symbol.for("react.profiler"),xV=Symbol.for("react.provider"),wV=Symbol.for("react.context"),sI=Symbol.for("react.forward_ref"),qP=Symbol.for("react.suspense"),WP=Symbol.for("react.suspense_list"),oI=Symbol.for("react.memo"),Vd=Symbol.for("react.lazy"),_V=Symbol.for("react.offscreen"),f6=Symbol.iterator;function g0(t){return t===null||typeof t!="object"?null:(t=f6&&t[f6]||t["@@iterator"],typeof t=="function"?t:null)}var ri=Object.assign,bE;function z0(t){if(bE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);bE=e&&e[1]||""}return`
`+bE+t}var xE=!1;function wE(t,e){if(!t||xE)return"";xE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{xE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?z0(t):""}function Rie(t){switch(t.tag){case 5:return z0(t.type);case 16:return z0("Lazy");case 13:return z0("Suspense");case 19:return z0("SuspenseList");case 0:case 2:case 15:return t=wE(t.type,!1),t;case 11:return t=wE(t.type.render,!1),t;case 1:return t=wE(t.type,!0),t;default:return""}}function HP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hg:return"Fragment";case dg:return"Portal";case zP:return"Profiler";case aI:return"StrictMode";case qP:return"Suspense";case WP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wV:return(t.displayName||"Context")+".Consumer";case xV:return(t._context.displayName||"Context")+".Provider";case sI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oI:return e=t.displayName||null,e!==null?e:HP(t.type)||"Memo";case Vd:e=t._payload,t=t._init;try{return HP(t(e))}catch{}}return null}function Die(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return HP(e);case 8:return e===aI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Uh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lie(t){var e=SV(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Iw(t){t._valueTracker||(t._valueTracker=Lie(t))}function AV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=SV(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function S_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function GP(t,e){var r=e.checked;return ri({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function p6(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Uh(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NV(t,e){e=e.checked,e!=null&&iI(t,"checked",e,!1)}function KP(t,e){NV(t,e);var r=Uh(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?YP(t,e.type,r):e.hasOwnProperty("defaultValue")&&YP(t,e.type,Uh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function m6(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function YP(t,e,r){(e!=="number"||S_(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var q0=Array.isArray;function Cg(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Uh(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function XP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Je(91));return ri({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function g6(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Je(92));if(q0(r)){if(1<r.length)throw Error(Je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Uh(r)}}function EV(t,e){var r=Uh(e.value),n=Uh(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function v6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function QP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ow,PV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ow=Ow||document.createElement("div"),Ow.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ow.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function U1(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var o1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mie=["Webkit","ms","Moz","O"];Object.keys(o1).forEach(function(t){Mie.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),o1[e]=o1[t]})});function TV(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||o1.hasOwnProperty(t)&&o1[t]?(""+e).trim():e+"px"}function CV(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=TV(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var $ie=ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JP(t,e){if(e){if($ie[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Je(62))}}function ZP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eT=null;function lI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tT=null,kg=null,Ig=null;function y6(t){if(t=wx(t)){if(typeof tT!="function")throw Error(Je(280));var e=t.stateNode;e&&(e=U5(e),tT(t.stateNode,t.type,e))}}function kV(t){kg?Ig?Ig.push(t):Ig=[t]:kg=t}function IV(){if(kg){var t=kg,e=Ig;if(Ig=kg=null,y6(t),e)for(t=0;t<e.length;t++)y6(e[t])}}function OV(t,e){return t(e)}function RV(){}var _E=!1;function DV(t,e,r){if(_E)return t(e,r);_E=!0;try{return OV(t,e,r)}finally{_E=!1,(kg!==null||Ig!==null)&&(RV(),IV())}}function V1(t,e){var r=t.stateNode;if(r===null)return null;var n=U5(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Je(231,e,typeof r));return r}var rT=!1;if(Mu)try{var v0={};Object.defineProperty(v0,"passive",{get:function(){rT=!0}}),window.addEventListener("test",v0,v0),window.removeEventListener("test",v0,v0)}catch{rT=!1}function Fie(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var l1=!1,A_=null,N_=!1,nT=null,Bie={onError:function(t){l1=!0,A_=t}};function Uie(t,e,r,n,i,a,s,o,l){l1=!1,A_=null,Fie.apply(Bie,arguments)}function Vie(t,e,r,n,i,a,s,o,l){if(Uie.apply(this,arguments),l1){if(l1){var u=A_;l1=!1,A_=null}else throw Error(Je(198));N_||(N_=!0,nT=u)}}function fm(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function LV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b6(t){if(fm(t)!==t)throw Error(Je(188))}function zie(t){var e=t.alternate;if(!e){if(e=fm(t),e===null)throw Error(Je(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return b6(i),t;if(a===n)return b6(i),e;a=a.sibling}throw Error(Je(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Je(189))}}if(r.alternate!==n)throw Error(Je(190))}if(r.tag!==3)throw Error(Je(188));return r.stateNode.current===r?t:e}function MV(t){return t=zie(t),t!==null?$V(t):null}function $V(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$V(t);if(e!==null)return e;t=t.sibling}return null}var FV=uo.unstable_scheduleCallback,x6=uo.unstable_cancelCallback,qie=uo.unstable_shouldYield,Wie=uo.unstable_requestPaint,vi=uo.unstable_now,Hie=uo.unstable_getCurrentPriorityLevel,cI=uo.unstable_ImmediatePriority,BV=uo.unstable_UserBlockingPriority,E_=uo.unstable_NormalPriority,Gie=uo.unstable_LowPriority,UV=uo.unstable_IdlePriority,M5=null,yc=null;function Kie(t){if(yc&&typeof yc.onCommitFiberRoot=="function")try{yc.onCommitFiberRoot(M5,t,void 0,(t.current.flags&128)===128)}catch{}}var _l=Math.clz32?Math.clz32:Qie,Yie=Math.log,Xie=Math.LN2;function Qie(t){return t>>>=0,t===0?32:31-(Yie(t)/Xie|0)|0}var Rw=64,Dw=4194304;function W0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function j_(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=W0(o):(a&=s,a!==0&&(n=W0(a)))}else s=r&~i,s!==0?n=W0(s):a!==0&&(n=W0(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_l(e),i=1<<r,n|=t[r],e&=~i;return n}function Jie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-_l(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=Jie(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function iT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VV(){var t=Rw;return Rw<<=1,!(Rw&4194240)&&(Rw=64),t}function SE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function bx(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_l(e),t[e]=r}function eae(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-_l(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function uI(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-_l(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var sn=0;function zV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qV,dI,WV,HV,GV,aT=!1,Lw=[],yh=null,bh=null,xh=null,z1=new Map,q1=new Map,Hd=[],tae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w6(t,e){switch(t){case"focusin":case"focusout":yh=null;break;case"dragenter":case"dragleave":bh=null;break;case"mouseover":case"mouseout":xh=null;break;case"pointerover":case"pointerout":z1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":q1.delete(e.pointerId)}}function y0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=wx(e),e!==null&&dI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rae(t,e,r,n,i){switch(e){case"focusin":return yh=y0(yh,t,e,r,n,i),!0;case"dragenter":return bh=y0(bh,t,e,r,n,i),!0;case"mouseover":return xh=y0(xh,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return z1.set(a,y0(z1.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,q1.set(a,y0(q1.get(a)||null,t,e,r,n,i)),!0}return!1}function KV(t){var e=sp(t.target);if(e!==null){var r=fm(e);if(r!==null){if(e=r.tag,e===13){if(e=LV(r),e!==null){t.blockedOn=e,GV(t.priority,function(){WV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=sT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);eT=n,r.target.dispatchEvent(n),eT=null}else return e=wx(r),e!==null&&dI(e),t.blockedOn=r,!1;e.shift()}return!0}function _6(t,e,r){$2(t)&&r.delete(e)}function nae(){aT=!1,yh!==null&&$2(yh)&&(yh=null),bh!==null&&$2(bh)&&(bh=null),xh!==null&&$2(xh)&&(xh=null),z1.forEach(_6),q1.forEach(_6)}function b0(t,e){t.blockedOn===e&&(t.blockedOn=null,aT||(aT=!0,uo.unstable_scheduleCallback(uo.unstable_NormalPriority,nae)))}function W1(t){function e(i){return b0(i,t)}if(0<Lw.length){b0(Lw[0],t);for(var r=1;r<Lw.length;r++){var n=Lw[r];n.blockedOn===t&&(n.blockedOn=null)}}for(yh!==null&&b0(yh,t),bh!==null&&b0(bh,t),xh!==null&&b0(xh,t),z1.forEach(e),q1.forEach(e),r=0;r<Hd.length;r++)n=Hd[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Hd.length&&(r=Hd[0],r.blockedOn===null);)KV(r),r.blockedOn===null&&Hd.shift()}var Og=Qu.ReactCurrentBatchConfig,P_=!0;function iae(t,e,r,n){var i=sn,a=Og.transition;Og.transition=null;try{sn=1,hI(t,e,r,n)}finally{sn=i,Og.transition=a}}function aae(t,e,r,n){var i=sn,a=Og.transition;Og.transition=null;try{sn=4,hI(t,e,r,n)}finally{sn=i,Og.transition=a}}function hI(t,e,r,n){if(P_){var i=sT(t,e,r,n);if(i===null)OE(t,e,n,T_,r),w6(t,n);else if(rae(i,t,e,r,n))n.stopPropagation();else if(w6(t,n),e&4&&-1<tae.indexOf(t)){for(;i!==null;){var a=wx(i);if(a!==null&&qV(a),a=sT(t,e,r,n),a===null&&OE(t,e,n,T_,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else OE(t,e,n,null,r)}}var T_=null;function sT(t,e,r,n){if(T_=null,t=lI(n),t=sp(t),t!==null)if(e=fm(t),e===null)t=null;else if(r=e.tag,r===13){if(t=LV(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return T_=t,null}function YV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hie()){case cI:return 1;case BV:return 4;case E_:case Gie:return 16;case UV:return 536870912;default:return 16}default:return 16}}var dh=null,fI=null,F2=null;function XV(){if(F2)return F2;var t,e=fI,r=e.length,n,i="value"in dh?dh.value:dh.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return F2=i.slice(t,1<n?1-n:void 0)}function B2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mw(){return!0}function S6(){return!1}function po(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mw:S6,this.isPropagationStopped=S6,this}return ri(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mw)},persist:function(){},isPersistent:Mw}),e}var py={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pI=po(py),xx=ri({},py,{view:0,detail:0}),sae=po(xx),AE,NE,x0,$5=ri({},xx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==x0&&(x0&&t.type==="mousemove"?(AE=t.screenX-x0.screenX,NE=t.screenY-x0.screenY):NE=AE=0,x0=t),AE)},movementY:function(t){return"movementY"in t?t.movementY:NE}}),A6=po($5),oae=ri({},$5,{dataTransfer:0}),lae=po(oae),cae=ri({},xx,{relatedTarget:0}),EE=po(cae),uae=ri({},py,{animationName:0,elapsedTime:0,pseudoElement:0}),dae=po(uae),hae=ri({},py,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fae=po(hae),pae=ri({},py,{data:0}),N6=po(pae),mae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yae(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vae[t])?!!e[t]:!1}function mI(){return yae}var bae=ri({},xx,{key:function(t){if(t.key){var e=mae[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=B2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gae[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mI,charCode:function(t){return t.type==="keypress"?B2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?B2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xae=po(bae),wae=ri({},$5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E6=po(wae),_ae=ri({},xx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mI}),Sae=po(_ae),Aae=ri({},py,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nae=po(Aae),Eae=ri({},$5,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jae=po(Eae),Pae=[9,13,27,32],gI=Mu&&"CompositionEvent"in window,c1=null;Mu&&"documentMode"in document&&(c1=document.documentMode);var Tae=Mu&&"TextEvent"in window&&!c1,QV=Mu&&(!gI||c1&&8<c1&&11>=c1),j6=" ",P6=!1;function JV(t,e){switch(t){case"keyup":return Pae.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fg=!1;function Cae(t,e){switch(t){case"compositionend":return ZV(e);case"keypress":return e.which!==32?null:(P6=!0,j6);case"textInput":return t=e.data,t===j6&&P6?null:t;default:return null}}function kae(t,e){if(fg)return t==="compositionend"||!gI&&JV(t,e)?(t=XV(),F2=fI=dh=null,fg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QV&&e.locale!=="ko"?null:e.data;default:return null}}var Iae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Iae[t.type]:e==="textarea"}function ez(t,e,r,n){kV(n),e=C_(e,"onChange"),0<e.length&&(r=new pI("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var u1=null,H1=null;function Oae(t){dz(t,0)}function F5(t){var e=gg(t);if(AV(e))return t}function Rae(t,e){if(t==="change")return e}var tz=!1;if(Mu){var jE;if(Mu){var PE="oninput"in document;if(!PE){var C6=document.createElement("div");C6.setAttribute("oninput","return;"),PE=typeof C6.oninput=="function"}jE=PE}else jE=!1;tz=jE&&(!document.documentMode||9<document.documentMode)}function k6(){u1&&(u1.detachEvent("onpropertychange",rz),H1=u1=null)}function rz(t){if(t.propertyName==="value"&&F5(H1)){var e=[];ez(e,H1,t,lI(t)),DV(Oae,e)}}function Dae(t,e,r){t==="focusin"?(k6(),u1=e,H1=r,u1.attachEvent("onpropertychange",rz)):t==="focusout"&&k6()}function Lae(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return F5(H1)}function Mae(t,e){if(t==="click")return F5(e)}function $ae(t,e){if(t==="input"||t==="change")return F5(e)}function Fae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var El=typeof Object.is=="function"?Object.is:Fae;function G1(t,e){if(El(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!VP.call(e,i)||!El(t[i],e[i]))return!1}return!0}function I6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O6(t,e){var r=I6(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=I6(r)}}function nz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iz(){for(var t=window,e=S_();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=S_(t.document)}return e}function vI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bae(t){var e=iz(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&nz(r.ownerDocument.documentElement,r)){if(n!==null&&vI(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=O6(r,a);var s=O6(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Uae=Mu&&"documentMode"in document&&11>=document.documentMode,pg=null,oT=null,d1=null,lT=!1;function R6(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lT||pg==null||pg!==S_(n)||(n=pg,"selectionStart"in n&&vI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),d1&&G1(d1,n)||(d1=n,n=C_(oT,"onSelect"),0<n.length&&(e=new pI("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=pg)))}function $w(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var mg={animationend:$w("Animation","AnimationEnd"),animationiteration:$w("Animation","AnimationIteration"),animationstart:$w("Animation","AnimationStart"),transitionend:$w("Transition","TransitionEnd")},TE={},az={};Mu&&(az=document.createElement("div").style,"AnimationEvent"in window||(delete mg.animationend.animation,delete mg.animationiteration.animation,delete mg.animationstart.animation),"TransitionEvent"in window||delete mg.transitionend.transition);function B5(t){if(TE[t])return TE[t];if(!mg[t])return t;var e=mg[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in az)return TE[t]=e[r];return t}var sz=B5("animationend"),oz=B5("animationiteration"),lz=B5("animationstart"),cz=B5("transitionend"),uz=new Map,D6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cf(t,e){uz.set(t,e),hm(e,[t])}for(var CE=0;CE<D6.length;CE++){var kE=D6[CE],Vae=kE.toLowerCase(),zae=kE[0].toUpperCase()+kE.slice(1);cf(Vae,"on"+zae)}cf(sz,"onAnimationEnd");cf(oz,"onAnimationIteration");cf(lz,"onAnimationStart");cf("dblclick","onDoubleClick");cf("focusin","onFocus");cf("focusout","onBlur");cf(cz,"onTransitionEnd");mv("onMouseEnter",["mouseout","mouseover"]);mv("onMouseLeave",["mouseout","mouseover"]);mv("onPointerEnter",["pointerout","pointerover"]);mv("onPointerLeave",["pointerout","pointerover"]);hm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hm("onBeforeInput",["compositionend","keypress","textInput","paste"]);hm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var H0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qae=new Set("cancel close invalid load scroll toggle".split(" ").concat(H0));function L6(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Vie(n,e,void 0,t),t.currentTarget=null}function dz(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;L6(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;L6(i,o,u),a=l}}}if(N_)throw t=nT,N_=!1,nT=null,t}function Fn(t,e){var r=e[fT];r===void 0&&(r=e[fT]=new Set);var n=t+"__bubble";r.has(n)||(hz(e,t,2,!1),r.add(n))}function IE(t,e,r){var n=0;e&&(n|=4),hz(r,t,n,e)}var Fw="_reactListening"+Math.random().toString(36).slice(2);function K1(t){if(!t[Fw]){t[Fw]=!0,bV.forEach(function(r){r!=="selectionchange"&&(qae.has(r)||IE(r,!1,t),IE(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fw]||(e[Fw]=!0,IE("selectionchange",!1,e))}}function hz(t,e,r,n){switch(YV(e)){case 1:var i=iae;break;case 4:i=aae;break;default:i=hI}r=i.bind(null,e,r,t),i=void 0,!rT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function OE(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=sp(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}DV(function(){var u=a,d=lI(r),h=[];e:{var p=uz.get(t);if(p!==void 0){var f=pI,v=t;switch(t){case"keypress":if(B2(r)===0)break e;case"keydown":case"keyup":f=xae;break;case"focusin":v="focus",f=EE;break;case"focusout":v="blur",f=EE;break;case"beforeblur":case"afterblur":f=EE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=A6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=lae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Sae;break;case sz:case oz:case lz:f=dae;break;case cz:f=Nae;break;case"scroll":f=sae;break;case"wheel":f=jae;break;case"copy":case"cut":case"paste":f=fae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=E6}var m=(e&4)!==0,g=!m&&t==="scroll",y=m?p!==null?p+"Capture":null:p;m=[];for(var x=u,_;x!==null;){_=x;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,y!==null&&(A=V1(x,y),A!=null&&m.push(Y1(x,A,_)))),g)break;x=x.return}0<m.length&&(p=new f(p,v,null,r,d),h.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==eT&&(v=r.relatedTarget||r.fromElement)&&(sp(v)||v[$u]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=u,v=v?sp(v):null,v!==null&&(g=fm(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(m=A6,A="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=E6,A="onPointerLeave",y="onPointerEnter",x="pointer"),g=f==null?p:gg(f),_=v==null?p:gg(v),p=new m(A,x+"leave",f,r,d),p.target=g,p.relatedTarget=_,A=null,sp(d)===u&&(m=new m(y,x+"enter",v,r,d),m.target=_,m.relatedTarget=g,A=m),g=A,f&&v)t:{for(m=f,y=v,x=0,_=m;_;_=Fm(_))x++;for(_=0,A=y;A;A=Fm(A))_++;for(;0<x-_;)m=Fm(m),x--;for(;0<_-x;)y=Fm(y),_--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=Fm(m),y=Fm(y)}m=null}else m=null;f!==null&&M6(h,p,f,m,!1),v!==null&&g!==null&&M6(h,g,v,m,!0)}}e:{if(p=u?gg(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var E=Rae;else if(T6(p))if(tz)E=$ae;else{E=Lae;var I=Dae}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Mae);if(E&&(E=E(t,u))){ez(h,E,r,d);break e}I&&I(t,p,u),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&YP(p,"number",p.value)}switch(I=u?gg(u):window,t){case"focusin":(T6(I)||I.contentEditable==="true")&&(pg=I,oT=u,d1=null);break;case"focusout":d1=oT=pg=null;break;case"mousedown":lT=!0;break;case"contextmenu":case"mouseup":case"dragend":lT=!1,R6(h,r,d);break;case"selectionchange":if(Uae)break;case"keydown":case"keyup":R6(h,r,d)}var j;if(gI)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else fg?JV(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(QV&&r.locale!=="ko"&&(fg||N!=="onCompositionStart"?N==="onCompositionEnd"&&fg&&(j=XV()):(dh=d,fI="value"in dh?dh.value:dh.textContent,fg=!0)),I=C_(u,N),0<I.length&&(N=new N6(N,t,null,r,d),h.push({event:N,listeners:I}),j?N.data=j:(j=ZV(r),j!==null&&(N.data=j)))),(j=Tae?Cae(t,r):kae(t,r))&&(u=C_(u,"onBeforeInput"),0<u.length&&(d=new N6("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}dz(h,e)})}function Y1(t,e,r){return{instance:t,listener:e,currentTarget:r}}function C_(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=V1(t,r),a!=null&&n.unshift(Y1(t,a,i)),a=V1(t,e),a!=null&&n.push(Y1(t,a,i))),t=t.return}return n}function Fm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M6(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=V1(r,a),l!=null&&s.unshift(Y1(r,l,o))):i||(l=V1(r,a),l!=null&&s.push(Y1(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Wae=/\r\n?/g,Hae=/\u0000|\uFFFD/g;function $6(t){return(typeof t=="string"?t:""+t).replace(Wae,`
`).replace(Hae,"")}function Bw(t,e,r){if(e=$6(e),$6(t)!==e&&r)throw Error(Je(425))}function k_(){}var cT=null,uT=null;function dT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hT=typeof setTimeout=="function"?setTimeout:void 0,Gae=typeof clearTimeout=="function"?clearTimeout:void 0,F6=typeof Promise=="function"?Promise:void 0,Kae=typeof queueMicrotask=="function"?queueMicrotask:typeof F6<"u"?function(t){return F6.resolve(null).then(t).catch(Yae)}:hT;function Yae(t){setTimeout(function(){throw t})}function RE(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),W1(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);W1(e)}function wh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function B6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var my=Math.random().toString(36).slice(2),dc="__reactFiber$"+my,X1="__reactProps$"+my,$u="__reactContainer$"+my,fT="__reactEvents$"+my,Xae="__reactListeners$"+my,Qae="__reactHandles$"+my;function sp(t){var e=t[dc];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$u]||r[dc]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=B6(t);t!==null;){if(r=t[dc])return r;t=B6(t)}return e}t=r,r=t.parentNode}return null}function wx(t){return t=t[dc]||t[$u],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Je(33))}function U5(t){return t[X1]||null}var pT=[],vg=-1;function uf(t){return{current:t}}function qn(t){0>vg||(t.current=pT[vg],pT[vg]=null,vg--)}function kn(t,e){vg++,pT[vg]=t.current,t.current=e}var Vh={},La=uf(Vh),js=uf(!1),Dp=Vh;function gv(t,e){var r=t.type.contextTypes;if(!r)return Vh;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ps(t){return t=t.childContextTypes,t!=null}function I_(){qn(js),qn(La)}function U6(t,e,r){if(La.current!==Vh)throw Error(Je(168));kn(La,e),kn(js,r)}function fz(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Je(108,Die(t)||"Unknown",i));return ri({},r,n)}function O_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vh,Dp=La.current,kn(La,t),kn(js,js.current),!0}function V6(t,e,r){var n=t.stateNode;if(!n)throw Error(Je(169));r?(t=fz(t,e,Dp),n.__reactInternalMemoizedMergedChildContext=t,qn(js),qn(La),kn(La,t)):qn(js),kn(js,r)}var mu=null,V5=!1,DE=!1;function pz(t){mu===null?mu=[t]:mu.push(t)}function Jae(t){V5=!0,pz(t)}function df(){if(!DE&&mu!==null){DE=!0;var t=0,e=sn;try{var r=mu;for(sn=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}mu=null,V5=!1}catch(i){throw mu!==null&&(mu=mu.slice(t+1)),FV(cI,df),i}finally{sn=e,DE=!1}}return null}var yg=[],bg=0,R_=null,D_=0,Ro=[],Do=0,Lp=null,xu=1,wu="";function Gf(t,e){yg[bg++]=D_,yg[bg++]=R_,R_=t,D_=e}function mz(t,e,r){Ro[Do++]=xu,Ro[Do++]=wu,Ro[Do++]=Lp,Lp=t;var n=xu;t=wu;var i=32-_l(n)-1;n&=~(1<<i),r+=1;var a=32-_l(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,xu=1<<32-_l(e)+i|r<<i|n,wu=a+t}else xu=1<<a|r<<i|n,wu=t}function yI(t){t.return!==null&&(Gf(t,1),mz(t,1,0))}function bI(t){for(;t===R_;)R_=yg[--bg],yg[bg]=null,D_=yg[--bg],yg[bg]=null;for(;t===Lp;)Lp=Ro[--Do],Ro[Do]=null,wu=Ro[--Do],Ro[Do]=null,xu=Ro[--Do],Ro[Do]=null}var ao=null,to=null,Gn=!1,vl=null;function gz(t,e){var r=Vo(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function z6(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ao=t,to=wh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ao=t,to=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Lp!==null?{id:xu,overflow:wu}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vo(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ao=t,to=null,!0):!1;default:return!1}}function mT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gT(t){if(Gn){var e=to;if(e){var r=e;if(!z6(t,e)){if(mT(t))throw Error(Je(418));e=wh(r.nextSibling);var n=ao;e&&z6(t,e)?gz(n,r):(t.flags=t.flags&-4097|2,Gn=!1,ao=t)}}else{if(mT(t))throw Error(Je(418));t.flags=t.flags&-4097|2,Gn=!1,ao=t}}}function q6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ao=t}function Uw(t){if(t!==ao)return!1;if(!Gn)return q6(t),Gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dT(t.type,t.memoizedProps)),e&&(e=to)){if(mT(t))throw vz(),Error(Je(418));for(;e;)gz(t,e),e=wh(e.nextSibling)}if(q6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){to=wh(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}to=null}}else to=ao?wh(t.stateNode.nextSibling):null;return!0}function vz(){for(var t=to;t;)t=wh(t.nextSibling)}function vv(){to=ao=null,Gn=!1}function xI(t){vl===null?vl=[t]:vl.push(t)}var Zae=Qu.ReactCurrentBatchConfig;function w0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Je(309));var n=r.stateNode}if(!n)throw Error(Je(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Je(284));if(!r._owner)throw Error(Je(290,t))}return t}function Vw(t,e){throw t=Object.prototype.toString.call(e),Error(Je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function W6(t){var e=t._init;return e(t._payload)}function yz(t){function e(y,x){if(t){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Nh(y,x),y.index=0,y.sibling=null,y}function a(y,x,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,x,_,A){return x===null||x.tag!==6?(x=VE(_,y.mode,A),x.return=y,x):(x=i(x,_),x.return=y,x)}function l(y,x,_,A){var E=_.type;return E===hg?d(y,x,_.props.children,A,_.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vd&&W6(E)===x.type)?(A=i(x,_.props),A.ref=w0(y,x,_),A.return=y,A):(A=G2(_.type,_.key,_.props,null,y.mode,A),A.ref=w0(y,x,_),A.return=y,A)}function u(y,x,_,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=zE(_,y.mode,A),x.return=y,x):(x=i(x,_.children||[]),x.return=y,x)}function d(y,x,_,A,E){return x===null||x.tag!==7?(x=jp(_,y.mode,A,E),x.return=y,x):(x=i(x,_),x.return=y,x)}function h(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=VE(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kw:return _=G2(x.type,x.key,x.props,null,y.mode,_),_.ref=w0(y,null,x),_.return=y,_;case dg:return x=zE(x,y.mode,_),x.return=y,x;case Vd:var A=x._init;return h(y,A(x._payload),_)}if(q0(x)||g0(x))return x=jp(x,y.mode,_,null),x.return=y,x;Vw(y,x)}return null}function p(y,x,_,A){var E=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:o(y,x,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kw:return _.key===E?l(y,x,_,A):null;case dg:return _.key===E?u(y,x,_,A):null;case Vd:return E=_._init,p(y,x,E(_._payload),A)}if(q0(_)||g0(_))return E!==null?null:d(y,x,_,A,null);Vw(y,_)}return null}function f(y,x,_,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(_)||null,o(x,y,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case kw:return y=y.get(A.key===null?_:A.key)||null,l(x,y,A,E);case dg:return y=y.get(A.key===null?_:A.key)||null,u(x,y,A,E);case Vd:var I=A._init;return f(y,x,_,I(A._payload),E)}if(q0(A)||g0(A))return y=y.get(_)||null,d(x,y,A,E,null);Vw(x,A)}return null}function v(y,x,_,A){for(var E=null,I=null,j=x,N=x=0,k=null;j!==null&&N<_.length;N++){j.index>N?(k=j,j=null):k=j.sibling;var D=p(y,j,_[N],A);if(D===null){j===null&&(j=k);break}t&&j&&D.alternate===null&&e(y,j),x=a(D,x,N),I===null?E=D:I.sibling=D,I=D,j=k}if(N===_.length)return r(y,j),Gn&&Gf(y,N),E;if(j===null){for(;N<_.length;N++)j=h(y,_[N],A),j!==null&&(x=a(j,x,N),I===null?E=j:I.sibling=j,I=j);return Gn&&Gf(y,N),E}for(j=n(y,j);N<_.length;N++)k=f(j,y,N,_[N],A),k!==null&&(t&&k.alternate!==null&&j.delete(k.key===null?N:k.key),x=a(k,x,N),I===null?E=k:I.sibling=k,I=k);return t&&j.forEach(function(C){return e(y,C)}),Gn&&Gf(y,N),E}function m(y,x,_,A){var E=g0(_);if(typeof E!="function")throw Error(Je(150));if(_=E.call(_),_==null)throw Error(Je(151));for(var I=E=null,j=x,N=x=0,k=null,D=_.next();j!==null&&!D.done;N++,D=_.next()){j.index>N?(k=j,j=null):k=j.sibling;var C=p(y,j,D.value,A);if(C===null){j===null&&(j=k);break}t&&j&&C.alternate===null&&e(y,j),x=a(C,x,N),I===null?E=C:I.sibling=C,I=C,j=k}if(D.done)return r(y,j),Gn&&Gf(y,N),E;if(j===null){for(;!D.done;N++,D=_.next())D=h(y,D.value,A),D!==null&&(x=a(D,x,N),I===null?E=D:I.sibling=D,I=D);return Gn&&Gf(y,N),E}for(j=n(y,j);!D.done;N++,D=_.next())D=f(j,y,N,D.value,A),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?N:D.key),x=a(D,x,N),I===null?E=D:I.sibling=D,I=D);return t&&j.forEach(function(O){return e(y,O)}),Gn&&Gf(y,N),E}function g(y,x,_,A){if(typeof _=="object"&&_!==null&&_.type===hg&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case kw:e:{for(var E=_.key,I=x;I!==null;){if(I.key===E){if(E=_.type,E===hg){if(I.tag===7){r(y,I.sibling),x=i(I,_.props.children),x.return=y,y=x;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vd&&W6(E)===I.type){r(y,I.sibling),x=i(I,_.props),x.ref=w0(y,I,_),x.return=y,y=x;break e}r(y,I);break}else e(y,I);I=I.sibling}_.type===hg?(x=jp(_.props.children,y.mode,A,_.key),x.return=y,y=x):(A=G2(_.type,_.key,_.props,null,y.mode,A),A.ref=w0(y,x,_),A.return=y,y=A)}return s(y);case dg:e:{for(I=_.key;x!==null;){if(x.key===I)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){r(y,x.sibling),x=i(x,_.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=zE(_,y.mode,A),x.return=y,y=x}return s(y);case Vd:return I=_._init,g(y,x,I(_._payload),A)}if(q0(_))return v(y,x,_,A);if(g0(_))return m(y,x,_,A);Vw(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,_),x.return=y,y=x):(r(y,x),x=VE(_,y.mode,A),x.return=y,y=x),s(y)):r(y,x)}return g}var yv=yz(!0),bz=yz(!1),L_=uf(null),M_=null,xg=null,wI=null;function _I(){wI=xg=M_=null}function SI(t){var e=L_.current;qn(L_),t._currentValue=e}function vT(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Rg(t,e){M_=t,wI=xg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_s=!0),t.firstContext=null)}function Go(t){var e=t._currentValue;if(wI!==t)if(t={context:t,memoizedValue:e,next:null},xg===null){if(M_===null)throw Error(Je(308));xg=t,M_.dependencies={lanes:0,firstContext:t}}else xg=xg.next=t;return e}var op=null;function AI(t){op===null?op=[t]:op.push(t)}function xz(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,AI(e)):(r.next=i.next,i.next=r),e.interleaved=r,Fu(t,n)}function Fu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zd=!1;function NI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wz(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ju(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _h(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Br&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Fu(t,r)}return i=n.interleaved,i===null?(e.next=e,AI(n)):(e.next=i.next,i.next=e),n.interleaved=e,Fu(t,r)}function U2(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uI(t,r)}}function H6(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function $_(t,e,r,n){var i=t.updateQueue;zd=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,d=u=l=null,o=a;do{var p=o.lane,f=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,m=o;switch(p=e,f=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=ri({},h,p);break e;case 2:zd=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=f,l=h):d=d.next=f,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);$p|=s,t.lanes=s,t.memoizedState=h}}function G6(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Je(191,i));i.call(n)}}}var _x={},bc=uf(_x),Q1=uf(_x),J1=uf(_x);function lp(t){if(t===_x)throw Error(Je(174));return t}function EI(t,e){switch(kn(J1,e),kn(Q1,t),kn(bc,_x),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:QP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=QP(e,t)}qn(bc),kn(bc,e)}function bv(){qn(bc),qn(Q1),qn(J1)}function _z(t){lp(J1.current);var e=lp(bc.current),r=QP(e,t.type);e!==r&&(kn(Q1,t),kn(bc,r))}function jI(t){Q1.current===t&&(qn(bc),qn(Q1))}var Jn=uf(0);function F_(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var LE=[];function PI(){for(var t=0;t<LE.length;t++)LE[t]._workInProgressVersionPrimary=null;LE.length=0}var V2=Qu.ReactCurrentDispatcher,ME=Qu.ReactCurrentBatchConfig,Mp=0,ti=null,Fi=null,Qi=null,B_=!1,h1=!1,Z1=0,ese=0;function xa(){throw Error(Je(321))}function TI(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!El(t[r],e[r]))return!1;return!0}function CI(t,e,r,n,i,a){if(Mp=a,ti=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,V2.current=t===null||t.memoizedState===null?ise:ase,t=r(n,i),h1){a=0;do{if(h1=!1,Z1=0,25<=a)throw Error(Je(301));a+=1,Qi=Fi=null,e.updateQueue=null,V2.current=sse,t=r(n,i)}while(h1)}if(V2.current=U_,e=Fi!==null&&Fi.next!==null,Mp=0,Qi=Fi=ti=null,B_=!1,e)throw Error(Je(300));return t}function kI(){var t=Z1!==0;return Z1=0,t}function nc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qi===null?ti.memoizedState=Qi=t:Qi=Qi.next=t,Qi}function Ko(){if(Fi===null){var t=ti.alternate;t=t!==null?t.memoizedState:null}else t=Fi.next;var e=Qi===null?ti.memoizedState:Qi.next;if(e!==null)Qi=e,Fi=t;else{if(t===null)throw Error(Je(310));Fi=t,t={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},Qi===null?ti.memoizedState=Qi=t:Qi=Qi.next=t}return Qi}function eb(t,e){return typeof e=="function"?e(t):e}function $E(t){var e=Ko(),r=e.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=t;var n=Fi,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Mp&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,s=n):l=l.next=h,ti.lanes|=d,$p|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,El(n,e.memoizedState)||(_s=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ti.lanes|=a,$p|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function FE(t){var e=Ko(),r=e.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);El(a,e.memoizedState)||(_s=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Sz(){}function Az(t,e){var r=ti,n=Ko(),i=e(),a=!El(n.memoizedState,i);if(a&&(n.memoizedState=i,_s=!0),n=n.queue,II(jz.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Qi!==null&&Qi.memoizedState.tag&1){if(r.flags|=2048,tb(9,Ez.bind(null,r,n,i,e),void 0,null),ea===null)throw Error(Je(349));Mp&30||Nz(r,e,i)}return i}function Nz(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ti.updateQueue,e===null?(e={lastEffect:null,stores:null},ti.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ez(t,e,r,n){e.value=r,e.getSnapshot=n,Pz(e)&&Tz(t)}function jz(t,e,r){return r(function(){Pz(e)&&Tz(t)})}function Pz(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!El(t,r)}catch{return!0}}function Tz(t){var e=Fu(t,1);e!==null&&Sl(e,t,1,-1)}function K6(t){var e=nc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eb,lastRenderedState:t},e.queue=t,t=t.dispatch=nse.bind(null,ti,t),[e.memoizedState,t]}function tb(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ti.updateQueue,e===null?(e={lastEffect:null,stores:null},ti.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Cz(){return Ko().memoizedState}function z2(t,e,r,n){var i=nc();ti.flags|=t,i.memoizedState=tb(1|e,r,void 0,n===void 0?null:n)}function z5(t,e,r,n){var i=Ko();n=n===void 0?null:n;var a=void 0;if(Fi!==null){var s=Fi.memoizedState;if(a=s.destroy,n!==null&&TI(n,s.deps)){i.memoizedState=tb(e,r,a,n);return}}ti.flags|=t,i.memoizedState=tb(1|e,r,a,n)}function Y6(t,e){return z2(8390656,8,t,e)}function II(t,e){return z5(2048,8,t,e)}function kz(t,e){return z5(4,2,t,e)}function Iz(t,e){return z5(4,4,t,e)}function Oz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rz(t,e,r){return r=r!=null?r.concat([t]):null,z5(4,4,Oz.bind(null,e,t),r)}function OI(){}function Dz(t,e){var r=Ko();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&TI(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Lz(t,e){var r=Ko();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&TI(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Mz(t,e,r){return Mp&21?(El(r,e)||(r=VV(),ti.lanes|=r,$p|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_s=!0),t.memoizedState=r)}function tse(t,e){var r=sn;sn=r!==0&&4>r?r:4,t(!0);var n=ME.transition;ME.transition={};try{t(!1),e()}finally{sn=r,ME.transition=n}}function $z(){return Ko().memoizedState}function rse(t,e,r){var n=Ah(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fz(t))Bz(e,r);else if(r=xz(t,e,r,n),r!==null){var i=as();Sl(r,t,n,i),Uz(r,e,n)}}function nse(t,e,r){var n=Ah(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fz(t))Bz(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,El(o,s)){var l=e.interleaved;l===null?(i.next=i,AI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=xz(t,e,i,n),r!==null&&(i=as(),Sl(r,t,n,i),Uz(r,e,n))}}function Fz(t){var e=t.alternate;return t===ti||e!==null&&e===ti}function Bz(t,e){h1=B_=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Uz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uI(t,r)}}var U_={readContext:Go,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ise={readContext:Go,useCallback:function(t,e){return nc().memoizedState=[t,e===void 0?null:e],t},useContext:Go,useEffect:Y6,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,z2(4194308,4,Oz.bind(null,e,t),r)},useLayoutEffect:function(t,e){return z2(4194308,4,t,e)},useInsertionEffect:function(t,e){return z2(4,2,t,e)},useMemo:function(t,e){var r=nc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=rse.bind(null,ti,t),[n.memoizedState,t]},useRef:function(t){var e=nc();return t={current:t},e.memoizedState=t},useState:K6,useDebugValue:OI,useDeferredValue:function(t){return nc().memoizedState=t},useTransition:function(){var t=K6(!1),e=t[0];return t=tse.bind(null,t[1]),nc().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ti,i=nc();if(Gn){if(r===void 0)throw Error(Je(407));r=r()}else{if(r=e(),ea===null)throw Error(Je(349));Mp&30||Nz(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Y6(jz.bind(null,n,a,t),[t]),n.flags|=2048,tb(9,Ez.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=nc(),e=ea.identifierPrefix;if(Gn){var r=wu,n=xu;r=(n&~(1<<32-_l(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Z1++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ese++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ase={readContext:Go,useCallback:Dz,useContext:Go,useEffect:II,useImperativeHandle:Rz,useInsertionEffect:kz,useLayoutEffect:Iz,useMemo:Lz,useReducer:$E,useRef:Cz,useState:function(){return $E(eb)},useDebugValue:OI,useDeferredValue:function(t){var e=Ko();return Mz(e,Fi.memoizedState,t)},useTransition:function(){var t=$E(eb)[0],e=Ko().memoizedState;return[t,e]},useMutableSource:Sz,useSyncExternalStore:Az,useId:$z,unstable_isNewReconciler:!1},sse={readContext:Go,useCallback:Dz,useContext:Go,useEffect:II,useImperativeHandle:Rz,useInsertionEffect:kz,useLayoutEffect:Iz,useMemo:Lz,useReducer:FE,useRef:Cz,useState:function(){return FE(eb)},useDebugValue:OI,useDeferredValue:function(t){var e=Ko();return Fi===null?e.memoizedState=t:Mz(e,Fi.memoizedState,t)},useTransition:function(){var t=FE(eb)[0],e=Ko().memoizedState;return[t,e]},useMutableSource:Sz,useSyncExternalStore:Az,useId:$z,unstable_isNewReconciler:!1};function dl(t,e){if(t&&t.defaultProps){e=ri({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function yT(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ri({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var q5={isMounted:function(t){return(t=t._reactInternals)?fm(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=as(),i=Ah(t),a=ju(n,i);a.payload=e,r!=null&&(a.callback=r),e=_h(t,a,i),e!==null&&(Sl(e,t,i,n),U2(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=as(),i=Ah(t),a=ju(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=_h(t,a,i),e!==null&&(Sl(e,t,i,n),U2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=as(),n=Ah(t),i=ju(r,n);i.tag=2,e!=null&&(i.callback=e),e=_h(t,i,n),e!==null&&(Sl(e,t,n,r),U2(e,t,n))}};function X6(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!G1(r,n)||!G1(i,a):!0}function Vz(t,e,r){var n=!1,i=Vh,a=e.contextType;return typeof a=="object"&&a!==null?a=Go(a):(i=Ps(e)?Dp:La.current,n=e.contextTypes,a=(n=n!=null)?gv(t,i):Vh),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=q5,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Q6(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&q5.enqueueReplaceState(e,e.state,null)}function bT(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},NI(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Go(a):(a=Ps(e)?Dp:La.current,i.context=gv(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(yT(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&q5.enqueueReplaceState(i,i.state,null),$_(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xv(t,e){try{var r="",n=e;do r+=Rie(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function BE(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ose=typeof WeakMap=="function"?WeakMap:Map;function zz(t,e,r){r=ju(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){z_||(z_=!0,CT=n),xT(t,e)},r}function qz(t,e,r){r=ju(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){xT(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){xT(t,e),typeof n!="function"&&(Sh===null?Sh=new Set([this]):Sh.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function J6(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ose;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=wse.bind(null,t,e,r),e.then(t,t))}function Z6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eL(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ju(-1,1),e.tag=2,_h(r,e,1))),r.lanes|=1),t)}var lse=Qu.ReactCurrentOwner,_s=!1;function Ka(t,e,r,n){e.child=t===null?bz(e,null,r,n):yv(e,t.child,r,n)}function tL(t,e,r,n,i){r=r.render;var a=e.ref;return Rg(e,i),n=CI(t,e,r,n,a,i),r=kI(),t!==null&&!_s?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bu(t,e,i)):(Gn&&r&&yI(e),e.flags|=1,Ka(t,e,n,i),e.child)}function rL(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!UI(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Wz(t,e,a,n,i)):(t=G2(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:G1,r(s,n)&&t.ref===e.ref)return Bu(t,e,i)}return e.flags|=1,t=Nh(a,n),t.ref=e.ref,t.return=e,e.child=t}function Wz(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(G1(a,n)&&t.ref===e.ref)if(_s=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(_s=!0);else return e.lanes=t.lanes,Bu(t,e,i)}return wT(t,e,r,n,i)}function Hz(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(_g,Qs),Qs|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kn(_g,Qs),Qs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,kn(_g,Qs),Qs|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,kn(_g,Qs),Qs|=n;return Ka(t,e,i,r),e.child}function Gz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function wT(t,e,r,n,i){var a=Ps(r)?Dp:La.current;return a=gv(e,a),Rg(e,i),r=CI(t,e,r,n,a,i),n=kI(),t!==null&&!_s?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bu(t,e,i)):(Gn&&n&&yI(e),e.flags|=1,Ka(t,e,r,i),e.child)}function nL(t,e,r,n,i){if(Ps(r)){var a=!0;O_(e)}else a=!1;if(Rg(e,i),e.stateNode===null)q2(t,e),Vz(e,r,n),bT(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Go(u):(u=Ps(r)?Dp:La.current,u=gv(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Q6(e,s,n,u),zd=!1;var p=e.memoizedState;s.state=p,$_(e,n,s,i),l=e.memoizedState,o!==n||p!==l||js.current||zd?(typeof d=="function"&&(yT(e,r,d,n),l=e.memoizedState),(o=zd||X6(e,r,o,n,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,wz(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:dl(e.type,o),s.props=u,h=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Go(l):(l=Ps(r)?Dp:La.current,l=gv(e,l));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||p!==l)&&Q6(e,s,n,l),zd=!1,p=e.memoizedState,s.state=p,$_(e,n,s,i);var v=e.memoizedState;o!==h||p!==v||js.current||zd?(typeof f=="function"&&(yT(e,r,f,n),v=e.memoizedState),(u=zd||X6(e,r,u,n,p,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return _T(t,e,r,n,a,i)}function _T(t,e,r,n,i,a){Gz(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&V6(e,r,!1),Bu(t,e,a);n=e.stateNode,lse.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=yv(e,t.child,null,a),e.child=yv(e,null,o,a)):Ka(t,e,o,a),e.memoizedState=n.state,i&&V6(e,r,!0),e.child}function Kz(t){var e=t.stateNode;e.pendingContext?U6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&U6(t,e.context,!1),EI(t,e.containerInfo)}function iL(t,e,r,n,i){return vv(),xI(i),e.flags|=256,Ka(t,e,r,n),e.child}var ST={dehydrated:null,treeContext:null,retryLane:0};function AT(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yz(t,e,r){var n=e.pendingProps,i=Jn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kn(Jn,i&1),t===null)return gT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=G5(s,n,0,null),t=jp(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=AT(r),e.memoizedState=ST,t):RI(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return cse(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Nh(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Nh(o,a):(a=jp(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?AT(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=ST,n}return a=t.child,t=a.sibling,n=Nh(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function RI(t,e){return e=G5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zw(t,e,r,n){return n!==null&&xI(n),yv(e,t.child,null,r),t=RI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cse(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=BE(Error(Je(422))),zw(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=G5({mode:"visible",children:n.children},i,0,null),a=jp(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&yv(e,t.child,null,s),e.child.memoizedState=AT(s),e.memoizedState=ST,a);if(!(e.mode&1))return zw(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Je(419)),n=BE(a,n,void 0),zw(t,e,s,n)}if(o=(s&t.childLanes)!==0,_s||o){if(n=ea,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Fu(t,i),Sl(n,t,i,-1))}return BI(),n=BE(Error(Je(421))),zw(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_se.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,to=wh(i.nextSibling),ao=e,Gn=!0,vl=null,t!==null&&(Ro[Do++]=xu,Ro[Do++]=wu,Ro[Do++]=Lp,xu=t.id,wu=t.overflow,Lp=e),e=RI(e,n.children),e.flags|=4096,e)}function aL(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),vT(t.return,e,r)}function UE(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Xz(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ka(t,e,n.children,r),n=Jn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aL(t,r,e);else if(t.tag===19)aL(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(kn(Jn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&F_(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),UE(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&F_(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}UE(e,!0,r,null,a);break;case"together":UE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function q2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),$p|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Je(153));if(e.child!==null){for(t=e.child,r=Nh(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Nh(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function use(t,e,r){switch(e.tag){case 3:Kz(e),vv();break;case 5:_z(e);break;case 1:Ps(e.type)&&O_(e);break;case 4:EI(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;kn(L_,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(kn(Jn,Jn.current&1),e.flags|=128,null):r&e.child.childLanes?Yz(t,e,r):(kn(Jn,Jn.current&1),t=Bu(t,e,r),t!==null?t.sibling:null);kn(Jn,Jn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Xz(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kn(Jn,Jn.current),n)break;return null;case 22:case 23:return e.lanes=0,Hz(t,e,r)}return Bu(t,e,r)}var Qz,NT,Jz,Zz;Qz=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};NT=function(){};Jz=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,lp(bc.current);var a=null;switch(r){case"input":i=GP(t,i),n=GP(t,n),a=[];break;case"select":i=ri({},i,{value:void 0}),n=ri({},n,{value:void 0}),a=[];break;case"textarea":i=XP(t,i),n=XP(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=k_)}JP(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(B1.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(B1.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fn("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};Zz=function(t,e,r,n){r!==n&&(e.flags|=4)};function _0(t,e){if(!Gn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wa(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function dse(t,e,r){var n=e.pendingProps;switch(bI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wa(e),null;case 1:return Ps(e.type)&&I_(),wa(e),null;case 3:return n=e.stateNode,bv(),qn(js),qn(La),PI(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Uw(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vl!==null&&(OT(vl),vl=null))),NT(t,e),wa(e),null;case 5:jI(e);var i=lp(J1.current);if(r=e.type,t!==null&&e.stateNode!=null)Jz(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Je(166));return wa(e),null}if(t=lp(bc.current),Uw(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[dc]=e,n[X1]=a,t=(e.mode&1)!==0,r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(i=0;i<H0.length;i++)Fn(H0[i],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":p6(n,a),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Fn("invalid",n);break;case"textarea":g6(n,a),Fn("invalid",n)}JP(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Bw(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Bw(n.textContent,o,t),i=["children",""+o]):B1.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Fn("scroll",n)}switch(r){case"input":Iw(n),m6(n,a,!0);break;case"textarea":Iw(n),v6(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=k_)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jV(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[dc]=e,t[X1]=n,Qz(t,e,!1,!1),e.stateNode=t;e:{switch(s=ZP(r,n),r){case"dialog":Fn("cancel",t),Fn("close",t),i=n;break;case"iframe":case"object":case"embed":Fn("load",t),i=n;break;case"video":case"audio":for(i=0;i<H0.length;i++)Fn(H0[i],t);i=n;break;case"source":Fn("error",t),i=n;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),i=n;break;case"details":Fn("toggle",t),i=n;break;case"input":p6(t,n),i=GP(t,n),Fn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ri({},n,{value:void 0}),Fn("invalid",t);break;case"textarea":g6(t,n),i=XP(t,n),Fn("invalid",t);break;default:i=n}JP(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?CV(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PV(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&U1(t,l):typeof l=="number"&&U1(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(B1.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Fn("scroll",t):l!=null&&iI(t,a,l,s))}switch(r){case"input":Iw(t),m6(t,n,!1);break;case"textarea":Iw(t),v6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Uh(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Cg(t,!!n.multiple,a,!1):n.defaultValue!=null&&Cg(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=k_)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wa(e),null;case 6:if(t&&e.stateNode!=null)Zz(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Je(166));if(r=lp(J1.current),lp(bc.current),Uw(e)){if(n=e.stateNode,r=e.memoizedProps,n[dc]=e,(a=n.nodeValue!==r)&&(t=ao,t!==null))switch(t.tag){case 3:Bw(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bw(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dc]=e,e.stateNode=n}return wa(e),null;case 13:if(qn(Jn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gn&&to!==null&&e.mode&1&&!(e.flags&128))vz(),vv(),e.flags|=98560,a=!1;else if(a=Uw(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Je(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Je(317));a[dc]=e}else vv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wa(e),a=!1}else vl!==null&&(OT(vl),vl=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Jn.current&1?Ui===0&&(Ui=3):BI())),e.updateQueue!==null&&(e.flags|=4),wa(e),null);case 4:return bv(),NT(t,e),t===null&&K1(e.stateNode.containerInfo),wa(e),null;case 10:return SI(e.type._context),wa(e),null;case 17:return Ps(e.type)&&I_(),wa(e),null;case 19:if(qn(Jn),a=e.memoizedState,a===null)return wa(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)_0(a,!1);else{if(Ui!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=F_(t),s!==null){for(e.flags|=128,_0(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return kn(Jn,Jn.current&1|2),e.child}t=t.sibling}a.tail!==null&&vi()>wv&&(e.flags|=128,n=!0,_0(a,!1),e.lanes=4194304)}else{if(!n)if(t=F_(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),_0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Gn)return wa(e),null}else 2*vi()-a.renderingStartTime>wv&&r!==1073741824&&(e.flags|=128,n=!0,_0(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=vi(),e.sibling=null,r=Jn.current,kn(Jn,n?r&1|2:r&1),e):(wa(e),null);case 22:case 23:return FI(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Qs&1073741824&&(wa(e),e.subtreeFlags&6&&(e.flags|=8192)):wa(e),null;case 24:return null;case 25:return null}throw Error(Je(156,e.tag))}function hse(t,e){switch(bI(e),e.tag){case 1:return Ps(e.type)&&I_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bv(),qn(js),qn(La),PI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jI(e),null;case 13:if(qn(Jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Je(340));vv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qn(Jn),null;case 4:return bv(),null;case 10:return SI(e.type._context),null;case 22:case 23:return FI(),null;case 24:return null;default:return null}}var qw=!1,ka=!1,fse=typeof WeakSet=="function"?WeakSet:Set,pt=null;function wg(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ci(t,e,n)}else r.current=null}function ET(t,e,r){try{r()}catch(n){ci(t,e,n)}}var sL=!1;function pse(t,e){if(cT=P_,t=iz(),vI(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(o=s+i),h!==a||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===r&&++u===i&&(o=s),p===a&&++d===n&&(l=s),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(uT={focusedElem:t,selectionRange:r},P_=!1,pt=e;pt!==null;)if(e=pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pt=t;else for(;pt!==null;){e=pt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,g=v.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:dl(e.type,m),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(A){ci(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,pt=t;break}pt=e.return}return v=sL,sL=!1,v}function f1(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&ET(e,r,a)}i=i.next}while(i!==n)}}function W5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function jT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function eq(t){var e=t.alternate;e!==null&&(t.alternate=null,eq(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dc],delete e[X1],delete e[fT],delete e[Xae],delete e[Qae])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tq(t){return t.tag===5||t.tag===3||t.tag===4}function oL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tq(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function PT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=k_));else if(n!==4&&(t=t.child,t!==null))for(PT(t,e,r),t=t.sibling;t!==null;)PT(t,e,r),t=t.sibling}function TT(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(TT(t,e,r),t=t.sibling;t!==null;)TT(t,e,r),t=t.sibling}var la=null,pl=!1;function kd(t,e,r){for(r=r.child;r!==null;)rq(t,e,r),r=r.sibling}function rq(t,e,r){if(yc&&typeof yc.onCommitFiberUnmount=="function")try{yc.onCommitFiberUnmount(M5,r)}catch{}switch(r.tag){case 5:ka||wg(r,e);case 6:var n=la,i=pl;la=null,kd(t,e,r),la=n,pl=i,la!==null&&(pl?(t=la,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):la.removeChild(r.stateNode));break;case 18:la!==null&&(pl?(t=la,r=r.stateNode,t.nodeType===8?RE(t.parentNode,r):t.nodeType===1&&RE(t,r),W1(t)):RE(la,r.stateNode));break;case 4:n=la,i=pl,la=r.stateNode.containerInfo,pl=!0,kd(t,e,r),la=n,pl=i;break;case 0:case 11:case 14:case 15:if(!ka&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&ET(r,e,s),i=i.next}while(i!==n)}kd(t,e,r);break;case 1:if(!ka&&(wg(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ci(r,e,o)}kd(t,e,r);break;case 21:kd(t,e,r);break;case 22:r.mode&1?(ka=(n=ka)||r.memoizedState!==null,kd(t,e,r),ka=n):kd(t,e,r);break;default:kd(t,e,r)}}function lL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new fse),e.forEach(function(n){var i=Sse.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function sl(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:la=o.stateNode,pl=!1;break e;case 3:la=o.stateNode.containerInfo,pl=!0;break e;case 4:la=o.stateNode.containerInfo,pl=!0;break e}o=o.return}if(la===null)throw Error(Je(160));rq(a,s,i),la=null,pl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ci(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nq(e,t),e=e.sibling}function nq(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sl(e,t),Zl(t),n&4){try{f1(3,t,t.return),W5(3,t)}catch(m){ci(t,t.return,m)}try{f1(5,t,t.return)}catch(m){ci(t,t.return,m)}}break;case 1:sl(e,t),Zl(t),n&512&&r!==null&&wg(r,r.return);break;case 5:if(sl(e,t),Zl(t),n&512&&r!==null&&wg(r,r.return),t.flags&32){var i=t.stateNode;try{U1(i,"")}catch(m){ci(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&NV(i,a),ZP(o,s);var u=ZP(o,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?CV(i,h):d==="dangerouslySetInnerHTML"?PV(i,h):d==="children"?U1(i,h):iI(i,d,h,u)}switch(o){case"input":KP(i,a);break;case"textarea":EV(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Cg(i,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?Cg(i,!!a.multiple,a.defaultValue,!0):Cg(i,!!a.multiple,a.multiple?[]:"",!1))}i[X1]=a}catch(m){ci(t,t.return,m)}}break;case 6:if(sl(e,t),Zl(t),n&4){if(t.stateNode===null)throw Error(Je(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){ci(t,t.return,m)}}break;case 3:if(sl(e,t),Zl(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{W1(e.containerInfo)}catch(m){ci(t,t.return,m)}break;case 4:sl(e,t),Zl(t);break;case 13:sl(e,t),Zl(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(MI=vi())),n&4&&lL(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ka=(u=ka)||d,sl(e,t),ka=u):sl(e,t),Zl(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(pt=t,d=t.child;d!==null;){for(h=pt=d;pt!==null;){switch(p=pt,f=p.child,p.tag){case 0:case 11:case 14:case 15:f1(4,p,p.return);break;case 1:wg(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){ci(n,r,m)}}break;case 5:wg(p,p.return);break;case 22:if(p.memoizedState!==null){uL(h);continue}}f!==null?(f.return=p,pt=f):uL(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=TV("display",s))}catch(m){ci(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){ci(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sl(e,t),Zl(t),n&4&&lL(t);break;case 21:break;default:sl(e,t),Zl(t)}}function Zl(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(tq(r)){var n=r;break e}r=r.return}throw Error(Je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(U1(i,""),n.flags&=-33);var a=oL(t);TT(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=oL(t);PT(t,o,s);break;default:throw Error(Je(161))}}catch(l){ci(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mse(t,e,r){pt=t,iq(t)}function iq(t,e,r){for(var n=(t.mode&1)!==0;pt!==null;){var i=pt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||qw;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ka;o=qw;var u=ka;if(qw=s,(ka=l)&&!u)for(pt=i;pt!==null;)s=pt,l=s.child,s.tag===22&&s.memoizedState!==null?dL(i):l!==null?(l.return=s,pt=l):dL(i);for(;a!==null;)pt=a,iq(a),a=a.sibling;pt=i,qw=o,ka=u}cL(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,pt=a):cL(t)}}function cL(t){for(;pt!==null;){var e=pt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ka||W5(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ka)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:dl(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&G6(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}G6(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&W1(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}ka||e.flags&512&&jT(e)}catch(p){ci(e,e.return,p)}}if(e===t){pt=null;break}if(r=e.sibling,r!==null){r.return=e.return,pt=r;break}pt=e.return}}function uL(t){for(;pt!==null;){var e=pt;if(e===t){pt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,pt=r;break}pt=e.return}}function dL(t){for(;pt!==null;){var e=pt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{W5(4,e)}catch(l){ci(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ci(e,i,l)}}var a=e.return;try{jT(e)}catch(l){ci(e,a,l)}break;case 5:var s=e.return;try{jT(e)}catch(l){ci(e,s,l)}}}catch(l){ci(e,e.return,l)}if(e===t){pt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,pt=o;break}pt=e.return}}var gse=Math.ceil,V_=Qu.ReactCurrentDispatcher,DI=Qu.ReactCurrentOwner,qo=Qu.ReactCurrentBatchConfig,Br=0,ea=null,ji=null,ha=0,Qs=0,_g=uf(0),Ui=0,rb=null,$p=0,H5=0,LI=0,p1=null,bs=null,MI=0,wv=1/0,hu=null,z_=!1,CT=null,Sh=null,Ww=!1,hh=null,q_=0,m1=0,kT=null,W2=-1,H2=0;function as(){return Br&6?vi():W2!==-1?W2:W2=vi()}function Ah(t){return t.mode&1?Br&2&&ha!==0?ha&-ha:Zae.transition!==null?(H2===0&&(H2=VV()),H2):(t=sn,t!==0||(t=window.event,t=t===void 0?16:YV(t.type)),t):1}function Sl(t,e,r,n){if(50<m1)throw m1=0,kT=null,Error(Je(185));bx(t,r,n),(!(Br&2)||t!==ea)&&(t===ea&&(!(Br&2)&&(H5|=r),Ui===4&&Gd(t,ha)),Ts(t,n),r===1&&Br===0&&!(e.mode&1)&&(wv=vi()+500,V5&&df()))}function Ts(t,e){var r=t.callbackNode;Zie(t,e);var n=j_(t,t===ea?ha:0);if(n===0)r!==null&&x6(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&x6(r),e===1)t.tag===0?Jae(hL.bind(null,t)):pz(hL.bind(null,t)),Kae(function(){!(Br&6)&&df()}),r=null;else{switch(zV(n)){case 1:r=cI;break;case 4:r=BV;break;case 16:r=E_;break;case 536870912:r=UV;break;default:r=E_}r=hq(r,aq.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function aq(t,e){if(W2=-1,H2=0,Br&6)throw Error(Je(327));var r=t.callbackNode;if(Dg()&&t.callbackNode!==r)return null;var n=j_(t,t===ea?ha:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=W_(t,n);else{e=n;var i=Br;Br|=2;var a=oq();(ea!==t||ha!==e)&&(hu=null,wv=vi()+500,Ep(t,e));do try{bse();break}catch(o){sq(t,o)}while(!0);_I(),V_.current=a,Br=i,ji!==null?e=0:(ea=null,ha=0,e=Ui)}if(e!==0){if(e===2&&(i=iT(t),i!==0&&(n=i,e=IT(t,i))),e===1)throw r=rb,Ep(t,0),Gd(t,n),Ts(t,vi()),r;if(e===6)Gd(t,n);else{if(i=t.current.alternate,!(n&30)&&!vse(i)&&(e=W_(t,n),e===2&&(a=iT(t),a!==0&&(n=a,e=IT(t,a))),e===1))throw r=rb,Ep(t,0),Gd(t,n),Ts(t,vi()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Je(345));case 2:Kf(t,bs,hu);break;case 3:if(Gd(t,n),(n&130023424)===n&&(e=MI+500-vi(),10<e)){if(j_(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){as(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hT(Kf.bind(null,t,bs,hu),e);break}Kf(t,bs,hu);break;case 4:if(Gd(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-_l(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=vi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gse(n/1960))-n,10<n){t.timeoutHandle=hT(Kf.bind(null,t,bs,hu),n);break}Kf(t,bs,hu);break;case 5:Kf(t,bs,hu);break;default:throw Error(Je(329))}}}return Ts(t,vi()),t.callbackNode===r?aq.bind(null,t):null}function IT(t,e){var r=p1;return t.current.memoizedState.isDehydrated&&(Ep(t,e).flags|=256),t=W_(t,e),t!==2&&(e=bs,bs=r,e!==null&&OT(e)),t}function OT(t){bs===null?bs=t:bs.push.apply(bs,t)}function vse(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!El(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gd(t,e){for(e&=~LI,e&=~H5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_l(e),n=1<<r;t[r]=-1,e&=~n}}function hL(t){if(Br&6)throw Error(Je(327));Dg();var e=j_(t,0);if(!(e&1))return Ts(t,vi()),null;var r=W_(t,e);if(t.tag!==0&&r===2){var n=iT(t);n!==0&&(e=n,r=IT(t,n))}if(r===1)throw r=rb,Ep(t,0),Gd(t,e),Ts(t,vi()),r;if(r===6)throw Error(Je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kf(t,bs,hu),Ts(t,vi()),null}function $I(t,e){var r=Br;Br|=1;try{return t(e)}finally{Br=r,Br===0&&(wv=vi()+500,V5&&df())}}function Fp(t){hh!==null&&hh.tag===0&&!(Br&6)&&Dg();var e=Br;Br|=1;var r=qo.transition,n=sn;try{if(qo.transition=null,sn=1,t)return t()}finally{sn=n,qo.transition=r,Br=e,!(Br&6)&&df()}}function FI(){Qs=_g.current,qn(_g)}function Ep(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Gae(r)),ji!==null)for(r=ji.return;r!==null;){var n=r;switch(bI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&I_();break;case 3:bv(),qn(js),qn(La),PI();break;case 5:jI(n);break;case 4:bv();break;case 13:qn(Jn);break;case 19:qn(Jn);break;case 10:SI(n.type._context);break;case 22:case 23:FI()}r=r.return}if(ea=t,ji=t=Nh(t.current,null),ha=Qs=e,Ui=0,rb=null,LI=H5=$p=0,bs=p1=null,op!==null){for(e=0;e<op.length;e++)if(r=op[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}op=null}return t}function sq(t,e){do{var r=ji;try{if(_I(),V2.current=U_,B_){for(var n=ti.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}B_=!1}if(Mp=0,Qi=Fi=ti=null,h1=!1,Z1=0,DI.current=null,r===null||r.return===null){Ui=1,rb=e,ji=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=ha,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Z6(s);if(f!==null){f.flags&=-257,eL(f,s,o,a,e),f.mode&1&&J6(a,u,e),e=f,l=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){J6(a,u,e),BI();break e}l=Error(Je(426))}}else if(Gn&&o.mode&1){var g=Z6(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),eL(g,s,o,a,e),xI(xv(l,o));break e}}a=l=xv(l,o),Ui!==4&&(Ui=2),p1===null?p1=[a]:p1.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=zz(a,l,e);H6(a,y);break e;case 1:o=l;var x=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Sh===null||!Sh.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=qz(a,o,e);H6(a,A);break e}}a=a.return}while(a!==null)}cq(r)}catch(E){e=E,ji===r&&r!==null&&(ji=r=r.return);continue}break}while(!0)}function oq(){var t=V_.current;return V_.current=U_,t===null?U_:t}function BI(){(Ui===0||Ui===3||Ui===2)&&(Ui=4),ea===null||!($p&268435455)&&!(H5&268435455)||Gd(ea,ha)}function W_(t,e){var r=Br;Br|=2;var n=oq();(ea!==t||ha!==e)&&(hu=null,Ep(t,e));do try{yse();break}catch(i){sq(t,i)}while(!0);if(_I(),Br=r,V_.current=n,ji!==null)throw Error(Je(261));return ea=null,ha=0,Ui}function yse(){for(;ji!==null;)lq(ji)}function bse(){for(;ji!==null&&!qie();)lq(ji)}function lq(t){var e=dq(t.alternate,t,Qs);t.memoizedProps=t.pendingProps,e===null?cq(t):ji=e,DI.current=null}function cq(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=hse(r,e),r!==null){r.flags&=32767,ji=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ui=6,ji=null;return}}else if(r=dse(r,e,Qs),r!==null){ji=r;return}if(e=e.sibling,e!==null){ji=e;return}ji=e=t}while(e!==null);Ui===0&&(Ui=5)}function Kf(t,e,r){var n=sn,i=qo.transition;try{qo.transition=null,sn=1,xse(t,e,r,n)}finally{qo.transition=i,sn=n}return null}function xse(t,e,r,n){do Dg();while(hh!==null);if(Br&6)throw Error(Je(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Je(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(eae(t,a),t===ea&&(ji=ea=null,ha=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ww||(Ww=!0,hq(E_,function(){return Dg(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=qo.transition,qo.transition=null;var s=sn;sn=1;var o=Br;Br|=4,DI.current=null,pse(t,r),nq(r,t),Bae(uT),P_=!!cT,uT=cT=null,t.current=r,mse(r),Wie(),Br=o,sn=s,qo.transition=a}else t.current=r;if(Ww&&(Ww=!1,hh=t,q_=i),a=t.pendingLanes,a===0&&(Sh=null),Kie(r.stateNode),Ts(t,vi()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(z_)throw z_=!1,t=CT,CT=null,t;return q_&1&&t.tag!==0&&Dg(),a=t.pendingLanes,a&1?t===kT?m1++:(m1=0,kT=t):m1=0,df(),null}function Dg(){if(hh!==null){var t=zV(q_),e=qo.transition,r=sn;try{if(qo.transition=null,sn=16>t?16:t,hh===null)var n=!1;else{if(t=hh,hh=null,q_=0,Br&6)throw Error(Je(331));var i=Br;for(Br|=4,pt=t.current;pt!==null;){var a=pt,s=a.child;if(pt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(pt=u;pt!==null;){var d=pt;switch(d.tag){case 0:case 11:case 15:f1(8,d,a)}var h=d.child;if(h!==null)h.return=d,pt=h;else for(;pt!==null;){d=pt;var p=d.sibling,f=d.return;if(eq(d),d===u){pt=null;break}if(p!==null){p.return=f,pt=p;break}pt=f}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}pt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,pt=s;else e:for(;pt!==null;){if(a=pt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:f1(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,pt=y;break e}pt=a.return}}var x=t.current;for(pt=x;pt!==null;){s=pt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,pt=_;else e:for(s=x;pt!==null;){if(o=pt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:W5(9,o)}}catch(E){ci(o,o.return,E)}if(o===s){pt=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,pt=A;break e}pt=o.return}}if(Br=i,df(),yc&&typeof yc.onPostCommitFiberRoot=="function")try{yc.onPostCommitFiberRoot(M5,t)}catch{}n=!0}return n}finally{sn=r,qo.transition=e}}return!1}function fL(t,e,r){e=xv(r,e),e=zz(t,e,1),t=_h(t,e,1),e=as(),t!==null&&(bx(t,1,e),Ts(t,e))}function ci(t,e,r){if(t.tag===3)fL(t,t,r);else for(;e!==null;){if(e.tag===3){fL(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sh===null||!Sh.has(n))){t=xv(r,t),t=qz(e,t,1),e=_h(e,t,1),t=as(),e!==null&&(bx(e,1,t),Ts(e,t));break}}e=e.return}}function wse(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=as(),t.pingedLanes|=t.suspendedLanes&r,ea===t&&(ha&r)===r&&(Ui===4||Ui===3&&(ha&130023424)===ha&&500>vi()-MI?Ep(t,0):LI|=r),Ts(t,e)}function uq(t,e){e===0&&(t.mode&1?(e=Dw,Dw<<=1,!(Dw&130023424)&&(Dw=4194304)):e=1);var r=as();t=Fu(t,e),t!==null&&(bx(t,e,r),Ts(t,r))}function _se(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),uq(t,r)}function Sse(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Je(314))}n!==null&&n.delete(e),uq(t,r)}var dq;dq=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||js.current)_s=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return _s=!1,use(t,e,r);_s=!!(t.flags&131072)}else _s=!1,Gn&&e.flags&1048576&&mz(e,D_,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;q2(t,e),t=e.pendingProps;var i=gv(e,La.current);Rg(e,r),i=CI(null,e,n,t,i,r);var a=kI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ps(n)?(a=!0,O_(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,NI(e),i.updater=q5,e.stateNode=i,i._reactInternals=e,bT(e,n,t,r),e=_T(null,e,n,!0,a,r)):(e.tag=0,Gn&&a&&yI(e),Ka(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(q2(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Nse(n),t=dl(n,t),i){case 0:e=wT(null,e,n,t,r);break e;case 1:e=nL(null,e,n,t,r);break e;case 11:e=tL(null,e,n,t,r);break e;case 14:e=rL(null,e,n,dl(n.type,t),r);break e}throw Error(Je(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dl(n,i),wT(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dl(n,i),nL(t,e,n,i,r);case 3:e:{if(Kz(e),t===null)throw Error(Je(387));n=e.pendingProps,a=e.memoizedState,i=a.element,wz(t,e),$_(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=xv(Error(Je(423)),e),e=iL(t,e,n,r,i);break e}else if(n!==i){i=xv(Error(Je(424)),e),e=iL(t,e,n,r,i);break e}else for(to=wh(e.stateNode.containerInfo.firstChild),ao=e,Gn=!0,vl=null,r=bz(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vv(),n===i){e=Bu(t,e,r);break e}Ka(t,e,n,r)}e=e.child}return e;case 5:return _z(e),t===null&&gT(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,dT(n,i)?s=null:a!==null&&dT(n,a)&&(e.flags|=32),Gz(t,e),Ka(t,e,s,r),e.child;case 6:return t===null&&gT(e),null;case 13:return Yz(t,e,r);case 4:return EI(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yv(e,null,n,r):Ka(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dl(n,i),tL(t,e,n,i,r);case 7:return Ka(t,e,e.pendingProps,r),e.child;case 8:return Ka(t,e,e.pendingProps.children,r),e.child;case 12:return Ka(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,kn(L_,n._currentValue),n._currentValue=s,a!==null)if(El(a.value,s)){if(a.children===i.children&&!js.current){e=Bu(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ju(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),vT(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Je(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),vT(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ka(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Rg(e,r),i=Go(i),n=n(i),e.flags|=1,Ka(t,e,n,r),e.child;case 14:return n=e.type,i=dl(n,e.pendingProps),i=dl(n.type,i),rL(t,e,n,i,r);case 15:return Wz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:dl(n,i),q2(t,e),e.tag=1,Ps(n)?(t=!0,O_(e)):t=!1,Rg(e,r),Vz(e,n,i),bT(e,n,i,r),_T(null,e,n,!0,t,r);case 19:return Xz(t,e,r);case 22:return Hz(t,e,r)}throw Error(Je(156,e.tag))};function hq(t,e){return FV(t,e)}function Ase(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vo(t,e,r,n){return new Ase(t,e,r,n)}function UI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nse(t){if(typeof t=="function")return UI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sI)return 11;if(t===oI)return 14}return 2}function Nh(t,e){var r=t.alternate;return r===null?(r=Vo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function G2(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")UI(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case hg:return jp(r.children,i,a,e);case aI:s=8,i|=8;break;case zP:return t=Vo(12,r,e,i|2),t.elementType=zP,t.lanes=a,t;case qP:return t=Vo(13,r,e,i),t.elementType=qP,t.lanes=a,t;case WP:return t=Vo(19,r,e,i),t.elementType=WP,t.lanes=a,t;case _V:return G5(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xV:s=10;break e;case wV:s=9;break e;case sI:s=11;break e;case oI:s=14;break e;case Vd:s=16,n=null;break e}throw Error(Je(130,t==null?t:typeof t,""))}return e=Vo(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function jp(t,e,r,n){return t=Vo(7,t,n,e),t.lanes=r,t}function G5(t,e,r,n){return t=Vo(22,t,n,e),t.elementType=_V,t.lanes=r,t.stateNode={isHidden:!1},t}function VE(t,e,r){return t=Vo(6,t,null,e),t.lanes=r,t}function zE(t,e,r){return e=Vo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ese(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SE(0),this.expirationTimes=SE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SE(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function VI(t,e,r,n,i,a,s,o,l){return t=new Ese(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Vo(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},NI(a),t}function jse(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dg,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function fq(t){if(!t)return Vh;t=t._reactInternals;e:{if(fm(t)!==t||t.tag!==1)throw Error(Je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ps(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Je(171))}if(t.tag===1){var r=t.type;if(Ps(r))return fz(t,r,e)}return e}function pq(t,e,r,n,i,a,s,o,l){return t=VI(r,n,!0,t,i,a,s,o,l),t.context=fq(null),r=t.current,n=as(),i=Ah(r),a=ju(n,i),a.callback=e??null,_h(r,a,i),t.current.lanes=i,bx(t,i,n),Ts(t,n),t}function K5(t,e,r,n){var i=e.current,a=as(),s=Ah(i);return r=fq(r),e.context===null?e.context=r:e.pendingContext=r,e=ju(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=_h(i,e,s),t!==null&&(Sl(t,i,s,a),U2(t,i,s)),s}function H_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zI(t,e){pL(t,e),(t=t.alternate)&&pL(t,e)}function Pse(){return null}var mq=typeof reportError=="function"?reportError:function(t){console.error(t)};function qI(t){this._internalRoot=t}Y5.prototype.render=qI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Je(409));K5(t,e,null,null)};Y5.prototype.unmount=qI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fp(function(){K5(null,t,null,null)}),e[$u]=null}};function Y5(t){this._internalRoot=t}Y5.prototype.unstable_scheduleHydration=function(t){if(t){var e=HV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Hd.length&&e!==0&&e<Hd[r].priority;r++);Hd.splice(r,0,t),r===0&&KV(t)}};function WI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function X5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mL(){}function Tse(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=H_(s);a.call(u)}}var s=pq(e,n,t,0,null,!1,!1,"",mL);return t._reactRootContainer=s,t[$u]=s.current,K1(t.nodeType===8?t.parentNode:t),Fp(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=H_(l);o.call(u)}}var l=VI(t,0,!1,null,null,!1,!1,"",mL);return t._reactRootContainer=l,t[$u]=l.current,K1(t.nodeType===8?t.parentNode:t),Fp(function(){K5(e,l,r,n)}),l}function Q5(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=H_(s);o.call(l)}}K5(e,s,t,i)}else s=Tse(r,e,t,i,n);return H_(s)}qV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=W0(e.pendingLanes);r!==0&&(uI(e,r|1),Ts(e,vi()),!(Br&6)&&(wv=vi()+500,df()))}break;case 13:Fp(function(){var n=Fu(t,1);if(n!==null){var i=as();Sl(n,t,1,i)}}),zI(t,1)}};dI=function(t){if(t.tag===13){var e=Fu(t,134217728);if(e!==null){var r=as();Sl(e,t,134217728,r)}zI(t,134217728)}};WV=function(t){if(t.tag===13){var e=Ah(t),r=Fu(t,e);if(r!==null){var n=as();Sl(r,t,e,n)}zI(t,e)}};HV=function(){return sn};GV=function(t,e){var r=sn;try{return sn=t,e()}finally{sn=r}};tT=function(t,e,r){switch(e){case"input":if(KP(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=U5(n);if(!i)throw Error(Je(90));AV(n),KP(n,i)}}}break;case"textarea":EV(t,r);break;case"select":e=r.value,e!=null&&Cg(t,!!r.multiple,e,!1)}};OV=$I;RV=Fp;var Cse={usingClientEntryPoint:!1,Events:[wx,gg,U5,kV,IV,$I]},S0={findFiberByHostInstance:sp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kse={bundleType:S0.bundleType,version:S0.version,rendererPackageName:S0.rendererPackageName,rendererConfig:S0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MV(t),t===null?null:t.stateNode},findFiberByHostInstance:S0.findFiberByHostInstance||Pse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hw.isDisabled&&Hw.supportsFiber)try{M5=Hw.inject(kse),yc=Hw}catch{}}fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cse;fo.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WI(e))throw Error(Je(200));return jse(t,e,null,r)};fo.createRoot=function(t,e){if(!WI(t))throw Error(Je(299));var r=!1,n="",i=mq;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=VI(t,1,!1,null,null,r,!1,n,i),t[$u]=e.current,K1(t.nodeType===8?t.parentNode:t),new qI(e)};fo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Je(188)):(t=Object.keys(t).join(","),Error(Je(268,t)));return t=MV(e),t=t===null?null:t.stateNode,t};fo.flushSync=function(t){return Fp(t)};fo.hydrate=function(t,e,r){if(!X5(e))throw Error(Je(200));return Q5(null,t,e,!0,r)};fo.hydrateRoot=function(t,e,r){if(!WI(t))throw Error(Je(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=mq;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=pq(e,null,t,1,r??null,i,!1,a,s),t[$u]=e.current,K1(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Y5(e)};fo.render=function(t,e,r){if(!X5(e))throw Error(Je(200));return Q5(null,t,e,!1,r)};fo.unmountComponentAtNode=function(t){if(!X5(t))throw Error(Je(40));return t._reactRootContainer?(Fp(function(){Q5(null,null,t,!1,function(){t._reactRootContainer=null,t[$u]=null})}),!0):!1};fo.unstable_batchedUpdates=$I;fo.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!X5(r))throw Error(Je(200));if(t==null||t._reactInternals===void 0)throw Error(Je(38));return Q5(t,e,r,!1,n)};fo.version="18.3.1-next-f1338f8080-20240426";function gq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gq)}catch(t){console.error(t)}}gq(),gV.exports=fo;var pm=gV.exports;const vq=Qr(pm);var yq,gL=pm;yq=gL.createRoot,gL.hydrateRoot;const Ise=1,Ose=1e6;let qE=0;function Rse(){return qE=(qE+1)%Number.MAX_SAFE_INTEGER,qE.toString()}const WE=new Map,vL=t=>{if(WE.has(t))return;const e=setTimeout(()=>{WE.delete(t),g1({type:"REMOVE_TOAST",toastId:t})},Ose);WE.set(t,e)},Dse=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Ise)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?vL(r):t.toasts.forEach(n=>{vL(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},K2=[];let Y2={toasts:[]};function g1(t){Y2=Dse(Y2,t),K2.forEach(e=>{e(Y2)})}function Lse({...t}){const e=Rse(),r=i=>g1({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>g1({type:"DISMISS_TOAST",toastId:e});return g1({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Mse(){const[t,e]=T.useState(Y2);return T.useEffect(()=>(K2.push(e),()=>{const r=K2.indexOf(e);r>-1&&K2.splice(r,1)}),[t]),{...t,toast:Lse,dismiss:r=>g1({type:"DISMISS_TOAST",toastId:r})}}function kt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function yL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bq(...t){return e=>{let r=!1;const n=t.map(i=>{const a=yL(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():yL(t[i],null)}}}}function Rr(...t){return T.useCallback(bq(...t),t)}function $se(t,e){const r=T.createContext(e),n=a=>{const{children:s,...o}=a,l=T.useMemo(()=>o,Object.values(o));return c.jsx(r.Provider,{value:l,children:s})};n.displayName=t+"Provider";function i(a){const s=T.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function mo(t,e=[]){let r=[];function n(a,s){const o=T.createContext(s),l=r.length;r=[...r,s];const u=h=>{var y;const{scope:p,children:f,...v}=h,m=((y=p==null?void 0:p[t])==null?void 0:y[l])||o,g=T.useMemo(()=>v,Object.values(v));return c.jsx(m.Provider,{value:g,children:f})};u.displayName=a+"Provider";function d(h,p){var m;const f=((m=p==null?void 0:p[t])==null?void 0:m[l])||o,v=T.useContext(f);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>T.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,Fse(i,...e)]}function Fse(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(a)[`__scope${u}`];return{...o,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Bp(t){const e=Use(t),r=T.forwardRef((n,i)=>{const{children:a,...s}=n,o=T.Children.toArray(a),l=o.find(Vse);if(l){const u=l.props.children,d=o.map(h=>h===l?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...s,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var Bse=Bp("Slot");function Use(t){const e=T.forwardRef((r,n)=>{const{children:i,...a}=r;if(T.isValidElement(i)){const s=qse(i),o=zse(a,i.props);return i.type!==T.Fragment&&(o.ref=n?bq(n,s):s),T.cloneElement(i,o)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xq=Symbol("radix.slottable");function wq(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=xq,e}function Vse(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xq}function zse(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const l=a(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function qse(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function J5(t){const e=t+"CollectionProvider",[r,n]=mo(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:g,children:y}=m,x=ue.useRef(null),_=ue.useRef(new Map).current;return c.jsx(i,{scope:g,itemMap:_,collectionRef:x,children:y})};s.displayName=e;const o=t+"CollectionSlot",l=Bp(o),u=ue.forwardRef((m,g)=>{const{scope:y,children:x}=m,_=a(o,y),A=Rr(g,_.collectionRef);return c.jsx(l,{ref:A,children:x})});u.displayName=o;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=Bp(d),f=ue.forwardRef((m,g)=>{const{scope:y,children:x,..._}=m,A=ue.useRef(null),E=Rr(g,A),I=a(d,y);return ue.useEffect(()=>(I.itemMap.set(A,{ref:A,..._}),()=>void I.itemMap.delete(A))),c.jsx(p,{[h]:"",ref:E,children:x})});f.displayName=d;function v(m){const g=a(t+"CollectionConsumer",m);return ue.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((I,j)=>_.indexOf(I.ref.current)-_.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:u,ItemSlot:f},v,n]}var Wse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=Wse.reduce((t,e)=>{const r=Bp(`Primitive.${e}`),n=T.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function _q(t,e){t&&pm.flushSync(()=>t.dispatchEvent(e))}function Yo(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Hse(t,e=globalThis==null?void 0:globalThis.document){const r=Yo(t);T.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Gse="DismissableLayer",RT="dismissableLayer.update",Kse="dismissableLayer.pointerDownOutside",Yse="dismissableLayer.focusOutside",bL,Sq=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gy=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,u=T.useContext(Sq),[d,h]=T.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=T.useState({}),v=Rr(e,j=>h(j)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),x=d?m.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,A=x>=y,E=Qse(j=>{const N=j.target,k=[...u.branches].some(D=>D.contains(N));!A||k||(i==null||i(j),s==null||s(j),j.defaultPrevented||o==null||o())},p),I=Jse(j=>{const N=j.target;[...u.branches].some(D=>D.contains(N))||(a==null||a(j),s==null||s(j),j.defaultPrevented||o==null||o())},p);return Hse(j=>{x===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},p),T.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(bL=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),xL(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=bL)}},[d,p,r,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),xL())},[d,u]),T.useEffect(()=>{const j=()=>f({});return document.addEventListener(RT,j),()=>document.removeEventListener(RT,j)},[]),c.jsx(Ht.div,{...l,ref:v,style:{pointerEvents:_?A?"auto":"none":void 0,...t.style},onFocusCapture:kt(t.onFocusCapture,I.onFocusCapture),onBlurCapture:kt(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:kt(t.onPointerDownCapture,E.onPointerDownCapture)})});gy.displayName=Gse;var Xse="DismissableLayerBranch",Aq=T.forwardRef((t,e)=>{const r=T.useContext(Sq),n=T.useRef(null),i=Rr(e,n);return T.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),c.jsx(Ht.div,{...t,ref:i})});Aq.displayName=Xse;function Qse(t,e=globalThis==null?void 0:globalThis.document){const r=Yo(t),n=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let l=function(){Nq(Kse,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Jse(t,e=globalThis==null?void 0:globalThis.document){const r=Yo(t),n=T.useRef(!1);return T.useEffect(()=>{const i=a=>{a.target&&!n.current&&Nq(Yse,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function xL(){const t=new CustomEvent(RT);document.dispatchEvent(t)}function Nq(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?_q(i,a):i.dispatchEvent(a)}var Zse=gy,eoe=Aq,ta=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},toe="Portal",Sx=T.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,a]=T.useState(!1);ta(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?vq.createPortal(c.jsx(Ht.div,{...n,ref:e}),s):null});Sx.displayName=toe;function roe(t,e){return T.useReducer((r,n)=>e[r][n]??r,t)}var Dc=t=>{const{present:e,children:r}=t,n=noe(e),i=typeof r=="function"?r({present:n.isPresent}):T.Children.only(r),a=Rr(n.ref,ioe(i));return typeof r=="function"||n.isPresent?T.cloneElement(i,{ref:a}):null};Dc.displayName="Presence";function noe(t){const[e,r]=T.useState(),n=T.useRef(null),i=T.useRef(t),a=T.useRef("none"),s=t?"mounted":"unmounted",[o,l]=roe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=Gw(n.current);a.current=o==="mounted"?u:"none"},[o]),ta(()=>{const u=n.current,d=i.current;if(d!==t){const p=a.current,f=Gw(u);t?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ta(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=f=>{const m=Gw(n.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=f=>{f.target===e&&(a.current=Gw(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Gw(t){return(t==null?void 0:t.animationName)||"none"}function ioe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var aoe=tI[" useInsertionEffect ".trim().toString()]||ta;function jl({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,s]=soe({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const d=T.useRef(t!==void 0);T.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=T.useCallback(d=>{var h;if(o){const p=ooe(d)?d(t):d;p!==t&&((h=s.current)==null||h.call(s,p))}else a(d)},[o,t,a,s]);return[l,u]}function soe({defaultProp:t,onChange:e}){const[r,n]=T.useState(t),i=T.useRef(r),a=T.useRef(e);return aoe(()=>{a.current=e},[e]),T.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function ooe(t){return typeof t=="function"}var Eq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),loe="VisuallyHidden",Z5=T.forwardRef((t,e)=>c.jsx(Ht.span,{...t,ref:e,style:{...Eq,...t.style}}));Z5.displayName=loe;var coe=Z5,HI="ToastProvider",[GI,uoe,doe]=J5("Toast"),[jq,UJe]=mo("Toast",[doe]),[hoe,eA]=jq(HI),Pq=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,l]=T.useState(null),[u,d]=T.useState(0),h=T.useRef(!1),p=T.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${HI}\`. Expected non-empty \`string\`.`),c.jsx(GI.Provider,{scope:e,children:c.jsx(hoe,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:T.useCallback(()=>d(f=>f+1),[]),onToastRemove:T.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:s})})};Pq.displayName=HI;var Tq="ToastViewport",foe=["F8"],DT="toast.viewportPause",LT="toast.viewportResume",Cq=T.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=foe,label:i="Notifications ({hotkey})",...a}=t,s=eA(Tq,r),o=uoe(r),l=T.useRef(null),u=T.useRef(null),d=T.useRef(null),h=T.useRef(null),p=Rr(e,h,s.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;T.useEffect(()=>{const g=y=>{var _;n.length!==0&&n.every(A=>y[A]||y.code===A)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),T.useEffect(()=>{const g=l.current,y=h.current;if(v&&g&&y){const x=()=>{if(!s.isClosePausedRef.current){const I=new CustomEvent(DT);y.dispatchEvent(I),s.isClosePausedRef.current=!0}},_=()=>{if(s.isClosePausedRef.current){const I=new CustomEvent(LT);y.dispatchEvent(I),s.isClosePausedRef.current=!1}},A=I=>{!g.contains(I.relatedTarget)&&_()},E=()=>{g.contains(document.activeElement)||_()};return g.addEventListener("focusin",x),g.addEventListener("focusout",A),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",A),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[v,s.isClosePausedRef]);const m=T.useCallback(({tabbingDirection:g})=>{const x=o().map(_=>{const A=_.ref.current,E=[A,...Eoe(A)];return g==="forwards"?E:E.reverse()});return(g==="forwards"?x.reverse():x).flat()},[o]);return T.useEffect(()=>{const g=h.current;if(g){const y=x=>{var E,I,j;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const N=document.activeElement,k=x.shiftKey;if(x.target===g&&k){(E=u.current)==null||E.focus();return}const O=m({tabbingDirection:k?"backwards":"forwards"}),L=O.findIndex(z=>z===N);HE(O.slice(L+1))?x.preventDefault():k?(I=u.current)==null||I.focus():(j=d.current)==null||j.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[o,m]),c.jsxs(eoe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(MT,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});HE(g)}}),c.jsx(GI.Slot,{scope:r,children:c.jsx(Ht.ol,{tabIndex:-1,...a,ref:p})}),v&&c.jsx(MT,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});HE(g)}})]})});Cq.displayName=Tq;var kq="ToastFocusProxy",MT=T.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=eA(kq,r);return c.jsx(Z5,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});MT.displayName=kq;var Ax="Toast",poe="toast.swipeStart",moe="toast.swipeMove",goe="toast.swipeCancel",voe="toast.swipeEnd",Iq=T.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=t,[o,l]=jl({prop:n,defaultProp:i??!0,onChange:a,caller:Ax});return c.jsx(Dc,{present:r||o,children:c.jsx(xoe,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:Yo(t.onPause),onResume:Yo(t.onResume),onSwipeStart:kt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:kt(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:kt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:kt(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Iq.displayName=Ax;var[yoe,boe]=jq(Ax,{onClose(){}}),xoe=T.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...v}=t,m=eA(Ax,r),[g,y]=T.useState(null),x=Rr(e,z=>y(z)),_=T.useRef(null),A=T.useRef(null),E=i||m.duration,I=T.useRef(0),j=T.useRef(E),N=T.useRef(0),{onToastAdd:k,onToastRemove:D}=m,C=Yo(()=>{var re;(g==null?void 0:g.contains(document.activeElement))&&((re=m.viewport)==null||re.focus()),s()}),O=T.useCallback(z=>{!z||z===1/0||(window.clearTimeout(N.current),I.current=new Date().getTime(),N.current=window.setTimeout(C,z))},[C]);T.useEffect(()=>{const z=m.viewport;if(z){const re=()=>{O(j.current),u==null||u()},Y=()=>{const K=new Date().getTime()-I.current;j.current=j.current-K,window.clearTimeout(N.current),l==null||l()};return z.addEventListener(DT,Y),z.addEventListener(LT,re),()=>{z.removeEventListener(DT,Y),z.removeEventListener(LT,re)}}},[m.viewport,E,l,u,O]),T.useEffect(()=>{a&&!m.isClosePausedRef.current&&O(E)},[a,E,m.isClosePausedRef,O]),T.useEffect(()=>(k(),()=>D()),[k,D]);const L=T.useMemo(()=>g?Fq(g):null,[g]);return m.viewport?c.jsxs(c.Fragment,{children:[L&&c.jsx(woe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),c.jsx(yoe,{scope:r,onClose:C,children:pm.createPortal(c.jsx(GI.ItemSlot,{scope:r,children:c.jsx(Zse,{asChild:!0,onEscapeKeyDown:kt(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:kt(t.onKeyDown,z=>{z.key==="Escape"&&(o==null||o(z.nativeEvent),z.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:kt(t.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:kt(t.onPointerMove,z=>{if(!_.current)return;const re=z.clientX-_.current.x,Y=z.clientY-_.current.y,K=!!A.current,q=["left","right"].includes(m.swipeDirection),Z=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ve=q?Z(0,re):0,ce=q?0:Z(0,Y),F=z.pointerType==="touch"?10:2,V={x:ve,y:ce},G={originalEvent:z,delta:V};K?(A.current=V,Kw(moe,h,G,{discrete:!1})):wL(V,m.swipeDirection,F)?(A.current=V,Kw(poe,d,G,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(re)>F||Math.abs(Y)>F)&&(_.current=null)}),onPointerUp:kt(t.onPointerUp,z=>{const re=A.current,Y=z.target;if(Y.hasPointerCapture(z.pointerId)&&Y.releasePointerCapture(z.pointerId),A.current=null,_.current=null,re){const K=z.currentTarget,q={originalEvent:z,delta:re};wL(re,m.swipeDirection,m.swipeThreshold)?Kw(voe,f,q,{discrete:!0}):Kw(goe,p,q,{discrete:!0}),K.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),woe=t=>{const{__scopeToast:e,children:r,...n}=t,i=eA(Ax,e),[a,s]=T.useState(!1),[o,l]=T.useState(!1);return Aoe(()=>s(!0)),T.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(Sx,{asChild:!0,children:c.jsx(Z5,{...n,children:a&&c.jsxs(c.Fragment,{children:[i.label," ",r]})})})},_oe="ToastTitle",Oq=T.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ht.div,{...n,ref:e})});Oq.displayName=_oe;var Soe="ToastDescription",Rq=T.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ht.div,{...n,ref:e})});Rq.displayName=Soe;var Dq="ToastAction",Lq=T.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx($q,{altText:r,asChild:!0,children:c.jsx(KI,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dq}\`. Expected non-empty \`string\`.`),null)});Lq.displayName=Dq;var Mq="ToastClose",KI=T.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=boe(Mq,r);return c.jsx($q,{asChild:!0,children:c.jsx(Ht.button,{type:"button",...n,ref:e,onClick:kt(t.onClick,i.onClose)})})});KI.displayName=Mq;var $q=T.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return c.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function Fq(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Noe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...Fq(n))}}),e}function Kw(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?_q(i,a):i.dispatchEvent(a)}var wL=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function Aoe(t=()=>{}){const e=Yo(t);ta(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Noe(t){return t.nodeType===t.ELEMENT_NODE}function Eoe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function HE(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var joe=Pq,Bq=Cq,Uq=Iq,Vq=Oq,zq=Rq,qq=Lq,Wq=KI;function Hq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Hq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Hq(t))&&(n&&(n+=" "),n+=e);return n}const _L=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SL=pr,Nx=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return SL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const p=_L(d)||_L(h);return i[u][p]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...a,...o}[m]):{...a,...o}[m]===g})?[...u,h,p]:u},[]);return SL(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Toe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>T.createElement("svg",{ref:l,...Toe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Gq("lucide",i),...o},[...s.map(([u,d])=>T.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const r=T.forwardRef(({className:n,...i},a)=>T.createElement(Coe,{ref:a,iconNode:e,className:Gq(`lucide-${Poe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Pt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=Pt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=Pt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=Pt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=Pt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=Pt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=Pt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=Pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=Pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=Pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Pt("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=Pt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Pt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Pt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Pt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=Pt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Pt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=Pt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Pt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Pt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Pt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Pt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=Pt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=Pt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=Pt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Pt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Pt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=Pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=Pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Pt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Pt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=Pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Pt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=Pt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Pt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=Pt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Pt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=Pt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Pt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Pt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=Pt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=Pt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Pt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),JI="-",Hoe=t=>{const e=Koe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(JI);return o[0]===""&&o.length!==1&&o.shift(),nW(o,e)||Goe(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},nW=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?nW(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(JI);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},jL=/^\[(.+)\]$/,Goe=t=>{if(jL.test(t)){const e=jL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Koe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Xoe(Object.entries(t.classGroups),r).forEach(([a,s])=>{VT(s,n,a,e)}),n},VT=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:PL(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Yoe(i)){VT(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{VT(s,PL(e,a),r,n)})})},PL=(t,e)=>{let r=t;return e.split(JI).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Yoe=t=>t.isThemeGetter,Xoe=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[r,i]}):t,Qoe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},iW="!",Joe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,s=o=>{const l=[];let u=0,d=0,h;for(let g=0;g<o.length;g++){let y=o[g];if(u===0){if(y===i&&(n||o.slice(g,g+a)===e)){l.push(o.slice(d,g)),d=g+a;continue}if(y==="/"){h=g;continue}}y==="["?u++:y==="]"&&u--}const p=l.length===0?o:o.substring(d),f=p.startsWith(iW),v=f?p.substring(1):p,m=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:s}):s},Zoe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},ele=t=>({cache:Qoe(t.cacheSize),parseClassName:Joe(t),...Hoe(t)}),tle=/\s+/,rle=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(tle);let o="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let v=!!f,m=n(v?p.substring(0,f):p);if(!m){if(!v){o=u+(o.length>0?" "+o:o);continue}if(m=n(p),!m){o=u+(o.length>0?" "+o:o);continue}v=!1}const g=Zoe(d).join(":"),y=h?g+iW:g,x=y+m;if(a.includes(x))continue;a.push(x);const _=i(m,v);for(let A=0;A<_.length;++A){const E=_[A];a.push(y+E)}o=u+(o.length>0?" "+o:o)}return o};function nle(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=aW(e))&&(n&&(n+=" "),n+=r);return n}const aW=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=aW(t[n]))&&(r&&(r+=" "),r+=e);return r};function ile(t,...e){let r,n,i,a=s;function s(l){const u=e.reduce((d,h)=>h(d),t());return r=ele(u),n=r.cache.get,i=r.cache.set,a=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=rle(l,r);return i(l,d),d}return function(){return a(nle.apply(null,arguments))}}const $n=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},sW=/^\[(?:([a-z-]+):)?(.+)\]$/i,ale=/^\d+\/\d+$/,sle=new Set(["px","full","screen"]),ole=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ule=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nu=t=>Lg(t)||sle.has(t)||ale.test(t),Id=t=>vy(t,"length",ble),Lg=t=>!!t&&!Number.isNaN(Number(t)),JE=t=>vy(t,"number",Lg),A0=t=>!!t&&Number.isInteger(Number(t)),hle=t=>t.endsWith("%")&&Lg(t.slice(0,-1)),hr=t=>sW.test(t),Od=t=>ole.test(t),fle=new Set(["length","size","percentage"]),ple=t=>vy(t,fle,oW),mle=t=>vy(t,"position",oW),gle=new Set(["image","url"]),vle=t=>vy(t,gle,wle),yle=t=>vy(t,"",xle),N0=()=>!0,vy=(t,e,r)=>{const n=sW.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},ble=t=>lle.test(t)&&!cle.test(t),oW=()=>!1,xle=t=>ule.test(t),wle=t=>dle.test(t),_le=()=>{const t=$n("colors"),e=$n("spacing"),r=$n("blur"),n=$n("brightness"),i=$n("borderColor"),a=$n("borderRadius"),s=$n("borderSpacing"),o=$n("borderWidth"),l=$n("contrast"),u=$n("grayscale"),d=$n("hueRotate"),h=$n("invert"),p=$n("gap"),f=$n("gradientColorStops"),v=$n("gradientColorStopPositions"),m=$n("inset"),g=$n("margin"),y=$n("opacity"),x=$n("padding"),_=$n("saturate"),A=$n("scale"),E=$n("sepia"),I=$n("skew"),j=$n("space"),N=$n("translate"),k=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",hr,e],O=()=>[hr,e],L=()=>["",nu,Id],z=()=>["auto",Lg,hr],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",hr],ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Lg,hr];return{cacheSize:500,separator:":",theme:{colors:[N0],spacing:[nu,Id],blur:["none","",Od,hr],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Od,hr],borderSpacing:O(),borderWidth:L(),contrast:ce(),grayscale:Z(),hueRotate:ce(),invert:Z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[hle,Id],inset:C(),margin:C(),opacity:ce(),padding:O(),saturate:ce(),scale:ce(),sepia:Z(),skew:ce(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",hr]}],container:["container"],columns:[{columns:[Od]}],"break-after":[{"break-after":ve()}],"break-before":[{"break-before":ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),hr]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",A0,hr]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",hr]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",A0,hr]}],"grid-cols":[{"grid-cols":[N0]}],"col-start-end":[{col:["auto",{span:["full",A0,hr]},hr]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[N0]}],"row-start-end":[{row:["auto",{span:[A0,hr]},hr]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",hr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",hr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",hr,e]}],"min-w":[{"min-w":[hr,e,"min","max","fit"]}],"max-w":[{"max-w":[hr,e,"none","full","min","max","fit","prose",{screen:[Od]},Od]}],h:[{h:[hr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[hr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[hr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[hr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Od,Id]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",JE]}],"font-family":[{font:[N0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",hr]}],"line-clamp":[{"line-clamp":["none",Lg,JE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nu,hr]}],"list-image":[{"list-image":["none",hr]}],"list-style-type":[{list:["none","disc","decimal",hr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nu,Id]}],"underline-offset":[{"underline-offset":["auto",nu,hr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",hr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",hr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),mle]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ple]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vle]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[nu,hr]}],"outline-w":[{outline:[nu,Id]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[nu,Id]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Od,yle]}],"shadow-color":[{shadow:[N0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Od,hr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",hr]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",hr]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",hr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[A0,hr]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",hr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",hr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",hr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nu,Id,JE]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Sle=ile(_le);function wt(...t){return Sle(pr(t))}const Ale=joe,lW=T.forwardRef(({className:t,...e},r)=>c.jsx(Bq,{ref:r,className:wt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));lW.displayName=Bq.displayName;const Nle=Nx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cW=T.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(Uq,{ref:n,className:wt(Nle({variant:e}),t),...r}));cW.displayName=Uq.displayName;const Ele=T.forwardRef(({className:t,...e},r)=>c.jsx(qq,{ref:r,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Ele.displayName=qq.displayName;const uW=T.forwardRef(({className:t,...e},r)=>c.jsx(Wq,{ref:r,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(rW,{className:"h-4 w-4"})}));uW.displayName=Wq.displayName;const dW=T.forwardRef(({className:t,...e},r)=>c.jsx(Vq,{ref:r,className:wt("text-sm font-semibold",t),...e}));dW.displayName=Vq.displayName;const hW=T.forwardRef(({className:t,...e},r)=>c.jsx(zq,{ref:r,className:wt("text-sm opacity-90",t),...e}));hW.displayName=zq.displayName;function jle(){const{toasts:t}=Mse();return c.jsxs(Ale,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return c.jsxs(cW,{...a,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(dW,{children:r}),n&&c.jsx(hW,{children:n})]}),i,c.jsx(uW,{})]},e)}),c.jsx(lW,{})]})}var TL=["light","dark"],Ple="(prefers-color-scheme: dark)",Tle=T.createContext(void 0),Cle={setTheme:t=>{},themes:[]},kle=()=>{var t;return(t=T.useContext(Tle))!=null?t:Cle};T.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:l})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=i?TL.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,m=!1,g=!0)=>{let y=s?s[v]:v,x=m?v+"|| ''":`'${y}'`,_="";return i&&g&&!m&&TL.includes(v)&&(_+=`d.style.colorScheme = '${v}';`),r==="class"?m||y?_+=`c.add(${x})`:_+="null":y&&(_+=`d[s](n,${x})`),_},f=t?`!function(){${d}${p(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Ple}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${p(s?"x[e]":"e",!0)}}${u?"":"else{"+p(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${p(s?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${h}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var Ile=t=>{switch(t){case"success":return Dle;case"info":return Mle;case"warning":return Lle;case"error":return $le;default:return null}},Ole=Array(12).fill(0),Rle=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},Ole.map((r,n)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Dle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Lle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Mle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$le=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Fle=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ble=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},zT=1,Ule=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:zT++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...i,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),a=n!==void 0,s,o=i.then(async u=>{if(s=["resolve",u],ue.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(zle(u)&&!u.ok){a=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:h})}else if(r.success!==void 0){a=!1;let d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){a=!1;let d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var u;a&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),l=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||zT++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gs=new Ule,Vle=(t,e)=>{let r=(e==null?void 0:e.id)||zT++;return gs.addToast({title:t,...e,id:r}),r},zle=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",qle=Vle,Wle=()=>gs.toasts,Hle=()=>gs.getActiveToasts(),Ge=Object.assign(qle,{success:gs.success,info:gs.info,warning:gs.warning,error:gs.error,custom:gs.custom,message:gs.message,promise:gs.promise,dismiss:gs.dismiss,loading:gs.loading},{getHistory:Wle,getToasts:Hle});function Gle(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Gle(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xw(t){return t.label!==void 0}var Kle=3,Yle="32px",Xle="16px",CL=4e3,Qle=356,Jle=14,Zle=20,ece=200;function ol(...t){return t.filter(Boolean).join(" ")}function tce(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var rce=t=>{var e,r,n,i,a,s,o,l,u,d,h;let{invert:p,toast:f,unstyled:v,interacting:m,setHeights:g,visibleToasts:y,heights:x,index:_,toasts:A,expanded:E,removeToast:I,defaultRichColors:j,closeButton:N,style:k,cancelButtonStyle:D,actionButtonStyle:C,className:O="",descriptionClassName:L="",duration:z,position:re,gap:Y,loadingIcon:K,expandByDefault:q,classNames:Z,icons:ve,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:F}=t,[V,G]=ue.useState(null),[oe,J]=ue.useState(null),[ie,be]=ue.useState(!1),[he,P]=ue.useState(!1),[X,ne]=ue.useState(!1),[de,ge]=ue.useState(!1),[ee,Ae]=ue.useState(!1),[De,Le]=ue.useState(0),[_e,ke]=ue.useState(0),je=ue.useRef(f.duration||z||CL),Me=ue.useRef(null),et=ue.useRef(null),Yt=_===0,Nt=_+1<=y,ut=f.type,Lt=f.dismissible!==!1,vt=f.className||"",Ee=f.descriptionClassName||"",Ye=ue.useMemo(()=>x.findIndex(bt=>bt.toastId===f.id)||0,[x,f.id]),Ze=ue.useMemo(()=>{var bt;return(bt=f.closeButton)!=null?bt:N},[f.closeButton,N]),ct=ue.useMemo(()=>f.duration||z||CL,[f.duration,z]),lt=ue.useRef(0),rt=ue.useRef(0),Ce=ue.useRef(0),Ct=ue.useRef(null),[yt,er]=re.split("-"),Bt=ue.useMemo(()=>x.reduce((bt,Tt,lr)=>lr>=Ye?bt:bt+Tt.height,0),[x,Ye]),Vr=Ble(),hn=f.invert||p,Mt=ut==="loading";rt.current=ue.useMemo(()=>Ye*Y+Bt,[Ye,Bt]),ue.useEffect(()=>{je.current=ct},[ct]),ue.useEffect(()=>{be(!0)},[]),ue.useEffect(()=>{let bt=et.current;if(bt){let Tt=bt.getBoundingClientRect().height;return ke(Tt),g(lr=>[{toastId:f.id,height:Tt,position:f.position},...lr]),()=>g(lr=>lr.filter(cr=>cr.toastId!==f.id))}},[g,f.id]),ue.useLayoutEffect(()=>{if(!ie)return;let bt=et.current,Tt=bt.style.height;bt.style.height="auto";let lr=bt.getBoundingClientRect().height;bt.style.height=Tt,ke(lr),g(cr=>cr.find(ot=>ot.toastId===f.id)?cr.map(ot=>ot.toastId===f.id?{...ot,height:lr}:ot):[{toastId:f.id,height:lr,position:f.position},...cr])},[ie,f.title,f.description,g,f.id]);let _t=ue.useCallback(()=>{P(!0),Le(rt.current),g(bt=>bt.filter(Tt=>Tt.toastId!==f.id)),setTimeout(()=>{I(f)},ece)},[f,I,g,rt]);ue.useEffect(()=>{if(f.promise&&ut==="loading"||f.duration===1/0||f.type==="loading")return;let bt;return E||m||F&&Vr?(()=>{if(Ce.current<lt.current){let Tt=new Date().getTime()-lt.current;je.current=je.current-Tt}Ce.current=new Date().getTime()})():je.current!==1/0&&(lt.current=new Date().getTime(),bt=setTimeout(()=>{var Tt;(Tt=f.onAutoClose)==null||Tt.call(f,f),_t()},je.current)),()=>clearTimeout(bt)},[E,m,f,ut,F,Vr,_t]),ue.useEffect(()=>{f.delete&&_t()},[_t,f.delete]);function Ut(){var bt,Tt,lr;return ve!=null&&ve.loading?ue.createElement("div",{className:ol(Z==null?void 0:Z.loader,(bt=f==null?void 0:f.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":ut==="loading"},ve.loading):K?ue.createElement("div",{className:ol(Z==null?void 0:Z.loader,(Tt=f==null?void 0:f.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":ut==="loading"},K):ue.createElement(Rle,{className:ol(Z==null?void 0:Z.loader,(lr=f==null?void 0:f.classNames)==null?void 0:lr.loader),visible:ut==="loading"})}return ue.createElement("li",{tabIndex:0,ref:et,className:ol(O,vt,Z==null?void 0:Z.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[ut],(r=f==null?void 0:f.classNames)==null?void 0:r[ut]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:j,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":ie,"data-promise":!!f.promise,"data-swiped":ee,"data-removed":he,"data-visible":Nt,"data-y-position":yt,"data-x-position":er,"data-index":_,"data-front":Yt,"data-swiping":X,"data-dismissible":Lt,"data-type":ut,"data-invert":hn,"data-swipe-out":de,"data-swipe-direction":oe,"data-expanded":!!(E||q&&ie),style:{"--index":_,"--toasts-before":_,"--z-index":A.length-_,"--offset":`${he?De:rt.current}px`,"--initial-height":q?"auto":`${_e}px`,...k,...f.style},onDragEnd:()=>{ne(!1),G(null),Ct.current=null},onPointerDown:bt=>{Mt||!Lt||(Me.current=new Date,Le(rt.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(ne(!0),Ct.current={x:bt.clientX,y:bt.clientY}))},onPointerUp:()=>{var bt,Tt,lr,cr;if(de||!Lt)return;Ct.current=null;let ot=Number(((bt=et.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qn=Number(((Tt=et.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Rn=new Date().getTime()-((lr=Me.current)==null?void 0:lr.getTime()),Dr=V==="x"?ot:Qn,ln=Math.abs(Dr)/Rn;if(Math.abs(Dr)>=Zle||ln>.11){Le(rt.current),(cr=f.onDismiss)==null||cr.call(f,f),J(V==="x"?ot>0?"right":"left":Qn>0?"down":"up"),_t(),ge(!0),Ae(!1);return}ne(!1),G(null)},onPointerMove:bt=>{var Tt,lr,cr,ot;if(!Ct.current||!Lt||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;let Qn=bt.clientY-Ct.current.y,Rn=bt.clientX-Ct.current.x,Dr=(lr=t.swipeDirections)!=null?lr:tce(re);!V&&(Math.abs(Rn)>1||Math.abs(Qn)>1)&&G(Math.abs(Rn)>Math.abs(Qn)?"x":"y");let ln={x:0,y:0};V==="y"?(Dr.includes("top")||Dr.includes("bottom"))&&(Dr.includes("top")&&Qn<0||Dr.includes("bottom")&&Qn>0)&&(ln.y=Qn):V==="x"&&(Dr.includes("left")||Dr.includes("right"))&&(Dr.includes("left")&&Rn<0||Dr.includes("right")&&Rn>0)&&(ln.x=Rn),(Math.abs(ln.x)>0||Math.abs(ln.y)>0)&&Ae(!0),(cr=et.current)==null||cr.style.setProperty("--swipe-amount-x",`${ln.x}px`),(ot=et.current)==null||ot.style.setProperty("--swipe-amount-y",`${ln.y}px`)}},Ze&&!f.jsx?ue.createElement("button",{"aria-label":ce,"data-disabled":Mt,"data-close-button":!0,onClick:Mt||!Lt?()=>{}:()=>{var bt;_t(),(bt=f.onDismiss)==null||bt.call(f,f)},className:ol(Z==null?void 0:Z.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(a=ve==null?void 0:ve.close)!=null?a:Fle):null,f.jsx||T.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:ue.createElement(ue.Fragment,null,ut||f.icon||f.promise?ue.createElement("div",{"data-icon":"",className:ol(Z==null?void 0:Z.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ut():null,f.type!=="loading"?f.icon||(ve==null?void 0:ve[ut])||Ile(ut):null):null,ue.createElement("div",{"data-content":"",className:ol(Z==null?void 0:Z.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},ue.createElement("div",{"data-title":"",className:ol(Z==null?void 0:Z.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?ue.createElement("div",{"data-description":"",className:ol(L,Ee,Z==null?void 0:Z.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),T.isValidElement(f.cancel)?f.cancel:f.cancel&&Xw(f.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||D,onClick:bt=>{var Tt,lr;Xw(f.cancel)&&Lt&&((lr=(Tt=f.cancel).onClick)==null||lr.call(Tt,bt),_t())},className:ol(Z==null?void 0:Z.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,T.isValidElement(f.action)?f.action:f.action&&Xw(f.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||C,onClick:bt=>{var Tt,lr;Xw(f.action)&&((lr=(Tt=f.action).onClick)==null||lr.call(Tt,bt),!bt.defaultPrevented&&_t())},className:ol(Z==null?void 0:Z.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function kL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function nce(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",o=a?Xle:Yle;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=o:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}var ice=T.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=Kle,toastOptions:m,dir:g=kL(),gap:y=Jle,loadingIcon:x,icons:_,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:E}=t,[I,j]=ue.useState([]),N=ue.useMemo(()=>Array.from(new Set([n].concat(I.filter(F=>F.position).map(F=>F.position)))),[I,n]),[k,D]=ue.useState([]),[C,O]=ue.useState(!1),[L,z]=ue.useState(!1),[re,Y]=ue.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ue.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=ue.useRef(null),ve=ue.useRef(!1),ce=ue.useCallback(F=>{j(V=>{var G;return(G=V.find(oe=>oe.id===F.id))!=null&&G.delete||gs.dismiss(F.id),V.filter(({id:oe})=>oe!==F.id)})},[]);return ue.useEffect(()=>gs.subscribe(F=>{if(F.dismiss){j(V=>V.map(G=>G.id===F.id?{...G,delete:!0}:G));return}setTimeout(()=>{vq.flushSync(()=>{j(V=>{let G=V.findIndex(oe=>oe.id===F.id);return G!==-1?[...V.slice(0,G),{...V[G],...F},...V.slice(G+1)]:[F,...V]})})})}),[]),ue.useEffect(()=>{if(d!=="system"){Y(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:V})=>{Y(V?"dark":"light")})}catch{F.addListener(({matches:G})=>{try{Y(G?"dark":"light")}catch(oe){console.error(oe)}})}},[d]),ue.useEffect(()=>{I.length<=1&&O(!1)},[I]),ue.useEffect(()=>{let F=V=>{var G,oe;i.every(J=>V[J]||V.code===J)&&(O(!0),(G=K.current)==null||G.focus()),V.code==="Escape"&&(document.activeElement===K.current||(oe=K.current)!=null&&oe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),ue.useEffect(()=>{if(K.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,ve.current=!1)}},[K.current]),ue.createElement("section",{ref:e,"aria-label":`${A} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((F,V)=>{var G;let[oe,J]=F.split("-");return I.length?ue.createElement("ol",{key:F,dir:g==="auto"?kL():g,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":oe,"data-lifted":C&&I.length>1&&!a,"data-x-position":J,style:{"--front-toast-height":`${((G=k[0])==null?void 0:G.height)||0}px`,"--width":`${Qle}px`,"--gap":`${y}px`,...f,...nce(l,u)},onBlur:ie=>{ve.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(ve.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||ve.current||(ve.current=!0,Z.current=ie.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},I.filter(ie=>!ie.position&&V===0||ie.position===F).map((ie,be)=>{var he,P;return ue.createElement(rce,{key:ie.id,icons:_,index:be,toast:ie,defaultRichColors:h,duration:(he=m==null?void 0:m.duration)!=null?he:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:v,closeButton:(P=m==null?void 0:m.closeButton)!=null?P:s,interacting:L,position:F,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ce,toasts:I.filter(X=>X.position==ie.position),heights:k.filter(X=>X.position==ie.position),setHeights:D,expandByDefault:a,gap:y,loadingIcon:x,expanded:C,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const ace=({...t})=>{const{theme:e="system"}=kle();return c.jsx(ice,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var sce=tI[" useId ".trim().toString()]||(()=>{}),oce=0;function Al(t){const[e,r]=T.useState(sce());return ta(()=>{r(n=>n??String(oce++))},[t]),e?`radix-${e}`:""}const lce=["top","right","bottom","left"],Wh=Math.min,Zs=Math.max,Y_=Math.round,Qw=Math.floor,xc=t=>({x:t,y:t}),cce={left:"right",right:"left",bottom:"top",top:"bottom"},uce={start:"end",end:"start"};function qT(t,e,r){return Zs(t,Wh(e,r))}function Uu(t,e){return typeof t=="function"?t(e):t}function Vu(t){return t.split("-")[0]}function yy(t){return t.split("-")[1]}function ZI(t){return t==="x"?"y":"x"}function eO(t){return t==="y"?"height":"width"}const dce=new Set(["top","bottom"]);function pc(t){return dce.has(Vu(t))?"y":"x"}function tO(t){return ZI(pc(t))}function hce(t,e,r){r===void 0&&(r=!1);const n=yy(t),i=tO(t),a=eO(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=X_(s)),[s,X_(s)]}function fce(t){const e=X_(t);return[WT(t),e,WT(e)]}function WT(t){return t.replace(/start|end/g,e=>uce[e])}const IL=["left","right"],OL=["right","left"],pce=["top","bottom"],mce=["bottom","top"];function gce(t,e,r){switch(t){case"top":case"bottom":return r?e?OL:IL:e?IL:OL;case"left":case"right":return e?pce:mce;default:return[]}}function vce(t,e,r,n){const i=yy(t);let a=gce(Vu(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(WT)))),a}function X_(t){return t.replace(/left|right|bottom|top/g,e=>cce[e])}function yce(t){return{top:0,right:0,bottom:0,left:0,...t}}function fW(t){return typeof t!="number"?yce(t):{top:t,right:t,bottom:t,left:t}}function Q_(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function RL(t,e,r){let{reference:n,floating:i}=t;const a=pc(e),s=tO(e),o=eO(s),l=Vu(e),u=a==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,p=n[o]/2-i[o]/2;let f;switch(l){case"top":f={x:d,y:n.y-i.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-i.width,y:h};break;default:f={x:n.x,y:n.y}}switch(yy(e)){case"start":f[s]-=p*(r&&u?-1:1);break;case"end":f[s]+=p*(r&&u?-1:1);break}return f}const bce=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=RL(u,n,l),p=n,f={},v=0;for(let m=0;m<o.length;m++){const{name:g,fn:y}=o[m],{x,y:_,data:A,reset:E}=await y({x:d,y:h,initialPlacement:n,placement:p,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:t,floating:e}});d=x??d,h=_??h,f={...f,[g]:{...f[g],...A}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:h}=RL(u,p,l)),m=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:f}};async function nb(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Uu(e,t),v=fW(f),g=o[p?h==="floating"?"reference":"floating":h],y=Q_(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),x=h==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),A=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},E=Q_(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-E.top+v.top)/A.y,bottom:(E.bottom-y.bottom+v.bottom)/A.y,left:(y.left-E.left+v.left)/A.x,right:(E.right-y.right+v.right)/A.x}}const xce=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=Uu(t,e)||{};if(u==null)return{};const h=fW(d),p={x:r,y:n},f=tO(i),v=eO(f),m=await s.getDimensions(u),g=f==="y",y=g?"top":"left",x=g?"bottom":"right",_=g?"clientHeight":"clientWidth",A=a.reference[v]+a.reference[f]-p[f]-a.floating[v],E=p[f]-a.reference[f],I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let j=I?I[_]:0;(!j||!await(s.isElement==null?void 0:s.isElement(I)))&&(j=o.floating[_]||a.floating[v]);const N=A/2-E/2,k=j/2-m[v]/2-1,D=Wh(h[y],k),C=Wh(h[x],k),O=D,L=j-m[v]-C,z=j/2-m[v]/2+N,re=qT(O,z,L),Y=!l.arrow&&yy(i)!=null&&z!==re&&a.reference[v]/2-(z<O?D:C)-m[v]/2<0,K=Y?z<O?z-O:z-L:0;return{[f]:p[f]+K,data:{[f]:re,centerOffset:z-re-K,...Y&&{alignmentOffset:K}},reset:Y}}}),wce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=Uu(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Vu(i),x=pc(o),_=Vu(o)===o,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=p||(_||!m?[X_(o)]:fce(o)),I=v!=="none";!p&&I&&E.push(...vce(o,m,v,A));const j=[o,...E],N=await nb(e,g),k=[];let D=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&k.push(N[y]),h){const z=hce(i,s,A);k.push(N[z[0]],N[z[1]])}if(D=[...D,{placement:i,overflows:k}],!k.every(z=>z<=0)){var C,O;const z=(((C=a.flip)==null?void 0:C.index)||0)+1,re=j[z];if(re&&(!(h==="alignment"?x!==pc(re):!1)||D.every(q=>q.overflows[0]>0&&pc(q.placement)===x)))return{data:{index:z,overflows:D},reset:{placement:re}};let Y=(O=D.filter(K=>K.overflows[0]<=0).sort((K,q)=>K.overflows[1]-q.overflows[1])[0])==null?void 0:O.placement;if(!Y)switch(f){case"bestFit":{var L;const K=(L=D.filter(q=>{if(I){const Z=pc(q.placement);return Z===x||Z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Z=>Z>0).reduce((Z,ve)=>Z+ve,0)]).sort((q,Z)=>q[1]-Z[1])[0])==null?void 0:L[0];K&&(Y=K);break}case"initialPlacement":Y=o;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function DL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function LL(t){return lce.some(e=>t[e]>=0)}const _ce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Uu(t,e);switch(n){case"referenceHidden":{const a=await nb(e,{...i,elementContext:"reference"}),s=DL(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:LL(s)}}}case"escaped":{const a=await nb(e,{...i,altBoundary:!0}),s=DL(a,r.floating);return{data:{escapedOffsets:s,escaped:LL(s)}}}default:return{}}}}},pW=new Set(["left","top"]);async function Sce(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Vu(r),o=yy(r),l=pc(r)==="y",u=pW.has(s)?-1:1,d=a&&l?-1:1,h=Uu(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof v=="number"&&(f=o==="end"?v*-1:v),l?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const Ace=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await Sce(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},Nce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:g=>{let{x:y,y:x}=g;return{x:y,y:x}}},...l}=Uu(t,e),u={x:r,y:n},d=await nb(e,l),h=pc(Vu(i)),p=ZI(h);let f=u[p],v=u[h];if(a){const g=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=f+d[g],_=f-d[y];f=qT(x,f,_)}if(s){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=v+d[g],_=v-d[y];v=qT(x,v,_)}const m=o.fn({...e,[p]:f,[h]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:a,[h]:s}}}}}},Ece=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Uu(t,e),d={x:r,y:n},h=pc(i),p=ZI(h);let f=d[p],v=d[h];const m=Uu(o,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=p==="y"?"height":"width",A=a.reference[p]-a.floating[_]+g.mainAxis,E=a.reference[p]+a.reference[_]-g.mainAxis;f<A?f=A:f>E&&(f=E)}if(u){var y,x;const _=p==="y"?"width":"height",A=pW.has(Vu(i)),E=a.reference[h]-a.floating[_]+(A&&((y=s.offset)==null?void 0:y[h])||0)+(A?0:g.crossAxis),I=a.reference[h]+a.reference[_]+(A?0:((x=s.offset)==null?void 0:x[h])||0)-(A?g.crossAxis:0);v<E?v=E:v>I&&(v=I)}return{[p]:f,[h]:v}}}},jce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...u}=Uu(t,e),d=await nb(e,u),h=Vu(i),p=yy(i),f=pc(i)==="y",{width:v,height:m}=a.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=p===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=h,g=p==="end"?"top":"bottom");const x=m-d.top-d.bottom,_=v-d.left-d.right,A=Wh(m-d[g],x),E=Wh(v-d[y],_),I=!e.middlewareData.shift;let j=A,N=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(N=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=x),I&&!p){const D=Zs(d.left,0),C=Zs(d.right,0),O=Zs(d.top,0),L=Zs(d.bottom,0);f?N=v-2*(D!==0||C!==0?D+C:Zs(d.left,d.right)):j=m-2*(O!==0||L!==0?O+L:Zs(d.top,d.bottom))}await l({...e,availableWidth:N,availableHeight:j});const k=await s.getDimensions(o.floating);return v!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function aA(){return typeof window<"u"}function by(t){return mW(t)?(t.nodeName||"").toLowerCase():"#document"}function so(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Lc(t){var e;return(e=(mW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mW(t){return aA()?t instanceof Node||t instanceof so(t).Node:!1}function Pl(t){return aA()?t instanceof Element||t instanceof so(t).Element:!1}function kc(t){return aA()?t instanceof HTMLElement||t instanceof so(t).HTMLElement:!1}function ML(t){return!aA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof so(t).ShadowRoot}const Pce=new Set(["inline","contents"]);function jx(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Tl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Pce.has(i)}const Tce=new Set(["table","td","th"]);function Cce(t){return Tce.has(by(t))}const kce=[":popover-open",":modal"];function sA(t){return kce.some(e=>{try{return t.matches(e)}catch{return!1}})}const Ice=["transform","translate","scale","rotate","perspective"],Oce=["transform","translate","scale","rotate","perspective","filter"],Rce=["paint","layout","strict","content"];function rO(t){const e=nO(),r=Pl(t)?Tl(t):t;return Ice.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Oce.some(n=>(r.willChange||"").includes(n))||Rce.some(n=>(r.contain||"").includes(n))}function Dce(t){let e=Hh(t);for(;kc(e)&&!Av(e);){if(rO(e))return e;if(sA(e))return null;e=Hh(e)}return null}function nO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Lce=new Set(["html","body","#document"]);function Av(t){return Lce.has(by(t))}function Tl(t){return so(t).getComputedStyle(t)}function oA(t){return Pl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hh(t){if(by(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ML(t)&&t.host||Lc(t);return ML(e)?e.host:e}function gW(t){const e=Hh(t);return Av(e)?t.ownerDocument?t.ownerDocument.body:t.body:kc(e)&&jx(e)?e:gW(e)}function ib(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=gW(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=so(i);if(a){const o=HT(s);return e.concat(s,s.visualViewport||[],jx(i)?i:[],o&&r?ib(o):[])}return e.concat(i,ib(i,[],r))}function HT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vW(t){const e=Tl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=kc(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=Y_(r)!==a||Y_(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function iO(t){return Pl(t)?t:t.contextElement}function Mg(t){const e=iO(t);if(!kc(e))return xc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=vW(e);let s=(a?Y_(r.width):r.width)/n,o=(a?Y_(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Mce=xc(0);function yW(t){const e=so(t);return!nO()||!e.visualViewport?Mce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $ce(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==so(t)?!1:e}function zp(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=iO(t);let s=xc(1);e&&(n?Pl(n)&&(s=Mg(n)):s=Mg(t));const o=$ce(a,r,n)?yW(a):xc(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(a){const p=so(a),f=n&&Pl(n)?so(n):n;let v=p,m=HT(v);for(;m&&n&&f!==v;){const g=Mg(m),y=m.getBoundingClientRect(),x=Tl(m),_=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*g.x,A=y.top+(m.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,h*=g.y,l+=_,u+=A,v=so(m),m=HT(v)}}return Q_({width:d,height:h,x:l,y:u})}function aO(t,e){const r=oA(t).scrollLeft;return e?e.left+r:zp(Lc(t)).left+r}function bW(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:aO(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function Fce(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=Lc(n),o=e?sA(e.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},u=xc(1);const d=xc(0),h=kc(n);if((h||!h&&!a)&&((by(n)!=="body"||jx(s))&&(l=oA(n)),kc(n))){const f=zp(n);u=Mg(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=s&&!h&&!a?bW(s,l,!0):xc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-l.scrollTop*u.y+d.y+p.y}}function Bce(t){return Array.from(t.getClientRects())}function Uce(t){const e=Lc(t),r=oA(t),n=t.ownerDocument.body,i=Zs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Zs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+aO(t);const o=-r.scrollTop;return Tl(n).direction==="rtl"&&(s+=Zs(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function Vce(t,e){const r=so(t),n=Lc(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=nO();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}const zce=new Set(["absolute","fixed"]);function qce(t,e){const r=zp(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=kc(t)?Mg(t):xc(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:s,height:o,x:l,y:u}}function $L(t,e,r){let n;if(e==="viewport")n=Vce(t,r);else if(e==="document")n=Uce(Lc(t));else if(Pl(e))n=qce(e,r);else{const i=yW(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Q_(n)}function xW(t,e){const r=Hh(t);return r===e||!Pl(r)||Av(r)?!1:Tl(r).position==="fixed"||xW(r,e)}function Wce(t,e){const r=e.get(t);if(r)return r;let n=ib(t,[],!1).filter(o=>Pl(o)&&by(o)!=="body"),i=null;const a=Tl(t).position==="fixed";let s=a?Hh(t):t;for(;Pl(s)&&!Av(s);){const o=Tl(s),l=rO(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&zce.has(i.position)||jx(s)&&!l&&xW(t,s))?n=n.filter(d=>d!==s):i=o,s=Hh(s)}return e.set(t,n),n}function Hce(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?sA(e)?[]:Wce(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,d)=>{const h=$L(e,d,i);return u.top=Zs(h.top,u.top),u.right=Wh(h.right,u.right),u.bottom=Wh(h.bottom,u.bottom),u.left=Zs(h.left,u.left),u},$L(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Gce(t){const{width:e,height:r}=vW(t);return{width:e,height:r}}function Kce(t,e,r){const n=kc(e),i=Lc(e),a=r==="fixed",s=zp(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=xc(0);function u(){l.x=aO(i)}if(n||!n&&!a)if((by(e)!=="body"||jx(i))&&(o=oA(e)),n){const f=zp(e,!0,a,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&u();a&&!n&&i&&u();const d=i&&!n&&!a?bW(i,o):xc(0),h=s.left+o.scrollLeft-l.x-d.x,p=s.top+o.scrollTop-l.y-d.y;return{x:h,y:p,width:s.width,height:s.height}}function ZE(t){return Tl(t).position==="static"}function FL(t,e){if(!kc(t)||Tl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Lc(t)===r&&(r=r.ownerDocument.body),r}function wW(t,e){const r=so(t);if(sA(t))return r;if(!kc(t)){let i=Hh(t);for(;i&&!Av(i);){if(Pl(i)&&!ZE(i))return i;i=Hh(i)}return r}let n=FL(t,e);for(;n&&Cce(n)&&ZE(n);)n=FL(n,e);return n&&Av(n)&&ZE(n)&&!rO(n)?r:n||Dce(t)||r}const Yce=async function(t){const e=this.getOffsetParent||wW,r=this.getDimensions,n=await r(t.floating);return{reference:Kce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xce(t){return Tl(t).direction==="rtl"}const Qce={convertOffsetParentRelativeRectToViewportRelativeRect:Fce,getDocumentElement:Lc,getClippingRect:Hce,getOffsetParent:wW,getElementRects:Yce,getClientRects:Bce,getDimensions:Gce,getScale:Mg,isElement:Pl,isRTL:Xce};function _W(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Jce(t,e){let r=null,n;const i=Lc(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(o||e(),!p||!f)return;const v=Qw(h),m=Qw(i.clientWidth-(d+p)),g=Qw(i.clientHeight-(h+f)),y=Qw(d),_={rootMargin:-v+"px "+-m+"px "+-g+"px "+-y+"px",threshold:Zs(0,Wh(1,l))||1};let A=!0;function E(I){const j=I[0].intersectionRatio;if(j!==l){if(!A)return s();j?s(!1,j):n=setTimeout(()=>{s(!1,1e-7)},1e3)}j===1&&!_W(u,t.getBoundingClientRect())&&s(),A=!1}try{r=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,_)}r.observe(t)}return s(!0),a}function Zce(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=iO(t),d=i||a?[...u?ib(u):[],...ib(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const h=u&&o?Jce(u,r):null;let p=-1,f=null;s&&(f=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),r()}),u&&!l&&f.observe(u),f.observe(e));let v,m=l?zp(t):null;l&&g();function g(){const y=zp(t);m&&!_W(m,y)&&r(),m=y,v=requestAnimationFrame(g)}return r(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const eue=Ace,tue=Nce,rue=wce,nue=jce,iue=_ce,BL=xce,aue=Ece,sue=(t,e,r)=>{const n=new Map,i={platform:Qce,...r},a={...i.platform,_c:n};return bce(t,e,{...i,platform:a})};var oue=typeof document<"u",lue=function(){},J2=oue?T.useLayoutEffect:lue;function J_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!J_(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!J_(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function SW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function UL(t,e){const r=SW(t);return Math.round(e*r)/r}function ej(t){const e=T.useRef(t);return J2(()=>{e.current=t}),e}function cue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,h]=T.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=T.useState(n);J_(p,n)||f(n);const[v,m]=T.useState(null),[g,y]=T.useState(null),x=T.useCallback(q=>{q!==I.current&&(I.current=q,m(q))},[]),_=T.useCallback(q=>{q!==j.current&&(j.current=q,y(q))},[]),A=a||v,E=s||g,I=T.useRef(null),j=T.useRef(null),N=T.useRef(d),k=l!=null,D=ej(l),C=ej(i),O=ej(u),L=T.useCallback(()=>{if(!I.current||!j.current)return;const q={placement:e,strategy:r,middleware:p};C.current&&(q.platform=C.current),sue(I.current,j.current,q).then(Z=>{const ve={...Z,isPositioned:O.current!==!1};z.current&&!J_(N.current,ve)&&(N.current=ve,pm.flushSync(()=>{h(ve)}))})},[p,e,r,C,O]);J2(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[u]);const z=T.useRef(!1);J2(()=>(z.current=!0,()=>{z.current=!1}),[]),J2(()=>{if(A&&(I.current=A),E&&(j.current=E),A&&E){if(D.current)return D.current(A,E,L);L()}},[A,E,L,D,k]);const re=T.useMemo(()=>({reference:I,floating:j,setReference:x,setFloating:_}),[x,_]),Y=T.useMemo(()=>({reference:A,floating:E}),[A,E]),K=T.useMemo(()=>{const q={position:r,left:0,top:0};if(!Y.floating)return q;const Z=UL(Y.floating,d.x),ve=UL(Y.floating,d.y);return o?{...q,transform:"translate("+Z+"px, "+ve+"px)",...SW(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:ve}},[r,o,Y.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:L,refs:re,elements:Y,floatingStyles:K}),[d,L,re,Y,K])}const uue=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?BL({element:n.current,padding:i}).fn(r):{}:n?BL({element:n,padding:i}).fn(r):{}}}},due=(t,e)=>({...eue(t),options:[t,e]}),hue=(t,e)=>({...tue(t),options:[t,e]}),fue=(t,e)=>({...aue(t),options:[t,e]}),pue=(t,e)=>({...rue(t),options:[t,e]}),mue=(t,e)=>({...nue(t),options:[t,e]}),gue=(t,e)=>({...iue(t),options:[t,e]}),vue=(t,e)=>({...uue(t),options:[t,e]});var yue="Arrow",AW=T.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return c.jsx(Ht.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});AW.displayName=yue;var bue=AW;function NW(t){const[e,r]=T.useState(void 0);return ta(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var sO="Popper",[EW,xy]=mo(sO),[xue,jW]=EW(sO),PW=t=>{const{__scopePopper:e,children:r}=t,[n,i]=T.useState(null);return c.jsx(xue,{scope:e,anchor:n,onAnchorChange:i,children:r})};PW.displayName=sO;var TW="PopperAnchor",CW=T.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=jW(TW,r),s=T.useRef(null),o=Rr(e,s);return T.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:c.jsx(Ht.div,{...i,ref:o})});CW.displayName=TW;var oO="PopperContent",[wue,_ue]=EW(oO),kW=T.forwardRef((t,e)=>{var ie,be,he,P,X,ne;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=t,g=jW(oO,r),[y,x]=T.useState(null),_=Rr(e,de=>x(de)),[A,E]=T.useState(null),I=NW(A),j=(I==null?void 0:I.width)??0,N=(I==null?void 0:I.height)??0,k=n+(a!=="center"?"-"+a:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],O=C.length>0,L={padding:D,boundary:C.filter(Aue),altBoundary:O},{refs:z,floatingStyles:re,placement:Y,isPositioned:K,middlewareData:q}=cue({strategy:"fixed",placement:k,whileElementsMounted:(...de)=>Zce(...de,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[due({mainAxis:i+N,alignmentAxis:s}),l&&hue({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fue():void 0,...L}),l&&pue({...L}),mue({...L,apply:({elements:de,rects:ge,availableWidth:ee,availableHeight:Ae})=>{const{width:De,height:Le}=ge.reference,_e=de.floating.style;_e.setProperty("--radix-popper-available-width",`${ee}px`),_e.setProperty("--radix-popper-available-height",`${Ae}px`),_e.setProperty("--radix-popper-anchor-width",`${De}px`),_e.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),A&&vue({element:A,padding:o}),Nue({arrowWidth:j,arrowHeight:N}),p&&gue({strategy:"referenceHidden",...L})]}),[Z,ve]=RW(Y),ce=Yo(v);ta(()=>{K&&(ce==null||ce())},[K,ce]);const F=(ie=q.arrow)==null?void 0:ie.x,V=(be=q.arrow)==null?void 0:be.y,G=((he=q.arrow)==null?void 0:he.centerOffset)!==0,[oe,J]=T.useState();return ta(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:K?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(P=q.transformOrigin)==null?void 0:P.x,(X=q.transformOrigin)==null?void 0:X.y].join(" "),...((ne=q.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(wue,{scope:r,placedSide:Z,onArrowChange:E,arrowX:F,arrowY:V,shouldHideArrow:G,children:c.jsx(Ht.div,{"data-side":Z,"data-align":ve,...m,ref:_,style:{...m.style,animation:K?void 0:"none"}})})})});kW.displayName=oO;var IW="PopperArrow",Sue={top:"bottom",right:"left",bottom:"top",left:"right"},OW=T.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=_ue(IW,n),s=Sue[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(bue,{...i,ref:r,style:{...i.style,display:"block"}})})});OW.displayName=IW;function Aue(t){return t!==null}var Nue=t=>({name:"transformOrigin",options:t,fn(e){var g,y,x;const{placement:r,rects:n,middlewareData:i}=e,s=((g=i.arrow)==null?void 0:g.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=RW(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,f=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",m="";return u==="bottom"?(v=s?h:`${p}px`,m=`${-l}px`):u==="top"?(v=s?h:`${p}px`,m=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,m=s?h:`${f}px`):u==="left"&&(v=`${n.floating.width+l}px`,m=s?h:`${f}px`),{data:{x:v,y:m}}}});function RW(t){const[e,r="center"]=t.split("-");return[e,r]}var DW=PW,lA=CW,lO=kW,cO=OW,[cA,zJe]=mo("Tooltip",[xy]),uO=xy(),LW="TooltipProvider",Eue=700,VL="tooltip.open",[jue,MW]=cA(LW),$W=t=>{const{__scopeTooltip:e,delayDuration:r=Eue,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,s=T.useRef(!0),o=T.useRef(!1),l=T.useRef(0);return T.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(jue,{scope:e,isOpenDelayedRef:s,delayDuration:r,onOpen:T.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:T.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:a})};$W.displayName=LW;var FW="Tooltip",[qJe,uA]=cA(FW),GT="TooltipTrigger",Pue=T.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=uA(GT,r),a=MW(GT,r),s=uO(r),o=T.useRef(null),l=Rr(e,o,i.onTriggerChange),u=T.useRef(!1),d=T.useRef(!1),h=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(lA,{asChild:!0,...s,children:c.jsx(Ht.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:kt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:kt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:kt(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:kt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:kt(t.onBlur,i.onClose),onClick:kt(t.onClick,i.onClose)})})});Pue.displayName=GT;var Tue="TooltipPortal",[WJe,Cue]=cA(Tue,{forceMount:void 0}),Nv="TooltipContent",BW=T.forwardRef((t,e)=>{const r=Cue(Nv,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,s=uA(Nv,t.__scopeTooltip);return c.jsx(Dc,{present:n||s.open,children:s.disableHoverableContent?c.jsx(UW,{side:i,...a,ref:e}):c.jsx(kue,{side:i,...a,ref:e})})}),kue=T.forwardRef((t,e)=>{const r=uA(Nv,t.__scopeTooltip),n=MW(Nv,t.__scopeTooltip),i=T.useRef(null),a=Rr(e,i),[s,o]=T.useState(null),{trigger:l,onClose:u}=r,d=i.current,{onPointerInTransitChange:h}=n,p=T.useCallback(()=>{o(null),h(!1)},[h]),f=T.useCallback((v,m)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},x=Lue(y,g.getBoundingClientRect()),_=Mue(y,x),A=$ue(m.getBoundingClientRect()),E=Bue([..._,...A]);o(E),h(!0)},[h]);return T.useEffect(()=>()=>p(),[p]),T.useEffect(()=>{if(l&&d){const v=g=>f(g,d),m=g=>f(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[l,d,f,p]),T.useEffect(()=>{if(s){const v=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),_=!Fue(y,s);x?p():_&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,s,u,p]),c.jsx(UW,{...t,ref:a})}),[Iue,Oue]=cA(FW,{isInside:!1}),Rue=wq("TooltipContent"),UW=T.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=uA(Nv,r),u=uO(r),{onClose:d}=l;return T.useEffect(()=>(document.addEventListener(VL,d),()=>document.removeEventListener(VL,d)),[d]),T.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(gy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(lO,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Rue,{children:n}),c.jsx(Iue,{scope:r,isInside:!0,children:c.jsx(coe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});BW.displayName=Nv;var VW="TooltipArrow",Due=T.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=uO(r);return Oue(VW,r).isInside?null:c.jsx(cO,{...i,...n,ref:e})});Due.displayName=VW;function Lue(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Mue(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function $ue(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Fue(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a],l=e[s],u=o.x,d=o.y,h=l.x,p=l.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(i=!i)}return i}function Bue(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Uue(e)}function Uue(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Vue=$W,zW=BW;const zue=Vue,que=T.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(zW,{ref:n,sideOffset:e,className:wt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));que.displayName=zW.displayName;var wy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qp=typeof window>"u"||"Deno"in globalThis;function Ya(){}function Wue(t,e){return typeof t=="function"?t(e):t}function KT(t){return typeof t=="number"&&t>=0&&t!==1/0}function qW(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ph(t,e){return typeof t=="function"?t(e):t}function Oo(t,e){return typeof t=="function"?t(e):t}function zL(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==dO(s,e.options))return!1}else if(!ab(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function qL(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Wp(e.options.mutationKey)!==Wp(a))return!1}else if(!ab(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function dO(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wp)(t)}function Wp(t){return JSON.stringify(t,(e,r)=>YT(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ab(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ab(t[r],e[r])):!1}function WW(t,e){if(t===e)return t;const r=WL(t)&&WL(e);if(r||YT(t)&&YT(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,o=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<s;d++){const h=r?d:a[d];(!r&&l.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(o[h]=void 0,u++):(o[h]=WW(t[h],e[h]),o[h]===t[h]&&t[h]!==void 0&&u++)}return i===s&&u===i?t:o}return e}function Z_(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function WL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function YT(t){if(!HL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!HL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function HL(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hue(t){return new Promise(e=>{setTimeout(e,t)})}function XT(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?WW(t,e):e}function Gue(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Kue(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var hO=Symbol();function HW(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===hO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function GW(t,e){return typeof t=="function"?t(...e):!!t}var vp,th,nv,YU,Yue=(YU=class extends wy{constructor(){super();$t(this,vp);$t(this,th);$t(this,nv);dt(this,nv,e=>{if(!qp&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){xe(this,th)||this.setEventListener(xe(this,nv))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,th))==null||e.call(this),dt(this,th,void 0))}setEventListener(e){var r;dt(this,nv,e),(r=xe(this,th))==null||r.call(this),dt(this,th,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){xe(this,vp)!==e&&(dt(this,vp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof xe(this,vp)=="boolean"?xe(this,vp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},vp=new WeakMap,th=new WeakMap,nv=new WeakMap,YU),fO=new Yue,iv,rh,av,XU,Xue=(XU=class extends wy{constructor(){super();$t(this,iv,!0);$t(this,rh);$t(this,av);dt(this,av,e=>{if(!qp&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){xe(this,rh)||this.setEventListener(xe(this,av))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,rh))==null||e.call(this),dt(this,rh,void 0))}setEventListener(e){var r;dt(this,av,e),(r=xe(this,rh))==null||r.call(this),dt(this,rh,e(this.setOnline.bind(this)))}setOnline(e){xe(this,iv)!==e&&(dt(this,iv,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return xe(this,iv)}},iv=new WeakMap,rh=new WeakMap,av=new WeakMap,XU),eS=new Xue;function QT(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Que(t){return Math.min(1e3*2**t,3e4)}function KW(t){return(t??"online")==="online"?eS.isOnline():!0}var YW=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tj(t){return t instanceof YW}function XW(t){let e=!1,r=0,n=!1,i;const a=QT(),s=m=>{var g;n||(p(new YW(m)),(g=t.abort)==null||g.call(t))},o=()=>{e=!0},l=()=>{e=!1},u=()=>fO.isFocused()&&(t.networkMode==="always"||eS.isOnline())&&t.canRun(),d=()=>KW(t.networkMode)&&t.canRun(),h=m=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,m),i==null||i(),a.resolve(m))},p=m=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,m),i==null||i(),a.reject(m))},f=()=>new Promise(m=>{var g;i=y=>{(n||u())&&m(y)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(n)return;let m;const g=r===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(h).catch(y=>{var I;if(n)return;const x=t.retry??(qp?0:3),_=t.retryDelay??Que,A=typeof _=="function"?_(r,y):_,E=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!E){p(y);return}r++,(I=t.onFail)==null||I.call(t,r,y),Hue(A).then(()=>u()?void 0:f()).then(()=>{e?p(y):v()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?v():f().then(v),a)}}var Jue=t=>setTimeout(t,0);function Zue(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Jue;const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Bi=Zue(),yp,QU,QW=(QU=class{constructor(){$t(this,yp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KT(this.gcTime)&&dt(this,yp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qp?1/0:5*60*1e3))}clearGcTimeout(){xe(this,yp)&&(clearTimeout(xe(this,yp)),dt(this,yp,void 0))}},yp=new WeakMap,QU),sv,bp,Io,xp,Pa,px,wp,hl,lu,JU,ede=(JU=class extends QW{constructor(r){super();$t(this,hl);$t(this,sv);$t(this,bp);$t(this,Io);$t(this,xp);$t(this,Pa);$t(this,px);$t(this,wp);dt(this,wp,!1),dt(this,px,r.defaultOptions),this.setOptions(r.options),this.observers=[],dt(this,xp,r.client),dt(this,Io,xe(this,xp).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,dt(this,sv,tde(this.options)),this.state=r.state??xe(this,sv),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=xe(this,Pa))==null?void 0:r.promise}setOptions(r){this.options={...xe(this,px),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,Io).remove(this)}setData(r,n){const i=XT(this.state.data,r,this.options);return mr(this,hl,lu).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){mr(this,hl,lu).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,a;const n=(i=xe(this,Pa))==null?void 0:i.promise;return(a=xe(this,Pa))==null||a.cancel(r),n?n.then(Ya).catch(Ya):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,sv))}isActive(){return this.observers.some(r=>Oo(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Ph(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!qW(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=xe(this,Pa))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=xe(this,Pa))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),xe(this,Io).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(xe(this,Pa)&&(xe(this,wp)?xe(this,Pa).cancel({revert:!0}):xe(this,Pa).cancelRetry()),this.scheduleGc()),xe(this,Io).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mr(this,hl,lu).call(this,{type:"invalidate"})}fetch(r,n){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(xe(this,Pa))return xe(this,Pa).continueRetry(),xe(this,Pa).promise}if(r&&this.setOptions(r),!this.options.queryFn){const f=this.observers.find(v=>v.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(dt(this,wp,!0),i.signal)})},s=()=>{const f=HW(this.options,n),m=(()=>{const g={client:xe(this,xp),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return dt(this,wp,!1),this.options.persister?this.options.persister(f,m,this):f(m)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:xe(this,xp),state:this.state,fetchFn:s};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),dt(this,bp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&mr(this,hl,lu).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const u=f=>{var v,m,g,y;tj(f)&&f.silent||mr(this,hl,lu).call(this,{type:"error",error:f}),tj(f)||((m=(v=xe(this,Io).config).onError)==null||m.call(v,f,this),(y=(g=xe(this,Io).config).onSettled)==null||y.call(g,this.state.data,f,this)),this.scheduleGc()};return dt(this,Pa,XW({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var v,m,g,y;if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){u(x);return}(m=(v=xe(this,Io).config).onSuccess)==null||m.call(v,f,this),(y=(g=xe(this,Io).config).onSettled)==null||y.call(g,f,this.state.error,this),this.scheduleGc()},onError:u,onFail:(f,v)=>{mr(this,hl,lu).call(this,{type:"failed",failureCount:f,error:v})},onPause:()=>{mr(this,hl,lu).call(this,{type:"pause"})},onContinue:()=>{mr(this,hl,lu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),xe(this,Pa).start()}},sv=new WeakMap,bp=new WeakMap,Io=new WeakMap,xp=new WeakMap,Pa=new WeakMap,px=new WeakMap,wp=new WeakMap,hl=new WeakSet,lu=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...JW(i.data,this.options),fetchMeta:r.meta??null};case"success":return dt(this,bp,void 0),{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return tj(a)&&a.revert&&xe(this,bp)?{...xe(this,bp),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),Bi.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),xe(this,Io).notify({query:this,type:"updated",action:r})})},JU);function JW(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KW(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tde(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var lc,ZU,rde=(ZU=class extends wy{constructor(e={}){super();$t(this,lc);this.config=e,dt(this,lc,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??dO(i,r);let s=this.get(a);return s||(s=new ede({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){xe(this,lc).has(e.queryHash)||(xe(this,lc).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=xe(this,lc).get(e.queryHash);r&&(e.destroy(),r===e&&xe(this,lc).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return xe(this,lc).get(e)}getAll(){return[...xe(this,lc).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>zL(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>zL(e,n)):r}notify(e){Bi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Bi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lc=new WeakMap,ZU),cc,Ha,_p,uc,Fd,eV,nde=(eV=class extends QW{constructor(r){super();$t(this,uc);$t(this,cc);$t(this,Ha);$t(this,_p);this.mutationId=r.mutationId,dt(this,Ha,r.mutationCache),dt(this,cc,[]),this.state=r.state||ZW(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){xe(this,cc).includes(r)||(xe(this,cc).push(r),this.clearGcTimeout(),xe(this,Ha).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){dt(this,cc,xe(this,cc).filter(n=>n!==r)),this.scheduleGc(),xe(this,Ha).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){xe(this,cc).length||(this.state.status==="pending"?this.scheduleGc():xe(this,Ha).remove(this))}continue(){var r;return((r=xe(this,_p))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,l,u,d,h,p,f,v,m,g,y,x,_,A,E,I,j,N,k;const n=()=>{mr(this,uc,Fd).call(this,{type:"continue"})};dt(this,_p,XW({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(D,C)=>{mr(this,uc,Fd).call(this,{type:"failed",failureCount:D,error:C})},onPause:()=>{mr(this,uc,Fd).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,Ha).canRun(this)}));const i=this.state.status==="pending",a=!xe(this,_p).canStart();try{if(i)n();else{mr(this,uc,Fd).call(this,{type:"pending",variables:r,isPaused:a}),await((o=(s=xe(this,Ha).config).onMutate)==null?void 0:o.call(s,r,this));const C=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,r));C!==this.state.context&&mr(this,uc,Fd).call(this,{type:"pending",context:C,variables:r,isPaused:a})}const D=await xe(this,_p).start();return await((h=(d=xe(this,Ha).config).onSuccess)==null?void 0:h.call(d,D,r,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,D,r,this.state.context)),await((m=(v=xe(this,Ha).config).onSettled)==null?void 0:m.call(v,D,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,D,null,r,this.state.context)),mr(this,uc,Fd).call(this,{type:"success",data:D}),D}catch(D){try{throw await((_=(x=xe(this,Ha).config).onError)==null?void 0:_.call(x,D,r,this.state.context,this)),await((E=(A=this.options).onError)==null?void 0:E.call(A,D,r,this.state.context)),await((j=(I=xe(this,Ha).config).onSettled)==null?void 0:j.call(I,void 0,D,this.state.variables,this.state.context,this)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,void 0,D,r,this.state.context)),D}finally{mr(this,uc,Fd).call(this,{type:"error",error:D})}}finally{xe(this,Ha).runNext(this)}}},cc=new WeakMap,Ha=new WeakMap,_p=new WeakMap,uc=new WeakSet,Fd=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Bi.batch(()=>{xe(this,cc).forEach(i=>{i.onMutationUpdate(r)}),xe(this,Ha).notify({mutation:this,type:"updated",action:r})})},eV);function ZW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yu,fl,mx,tV,ide=(tV=class extends wy{constructor(e={}){super();$t(this,yu);$t(this,fl);$t(this,mx);this.config=e,dt(this,yu,new Set),dt(this,fl,new Map),dt(this,mx,0)}build(e,r,n){const i=new nde({mutationCache:this,mutationId:++Tw(this,mx)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){xe(this,yu).add(e);const r=Jw(e);if(typeof r=="string"){const n=xe(this,fl).get(r);n?n.push(e):xe(this,fl).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(xe(this,yu).delete(e)){const r=Jw(e);if(typeof r=="string"){const n=xe(this,fl).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&xe(this,fl).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Jw(e);if(typeof r=="string"){const n=xe(this,fl).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Jw(e);if(typeof r=="string"){const i=(n=xe(this,fl).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bi.batch(()=>{xe(this,yu).forEach(e=>{this.notify({type:"removed",mutation:e})}),xe(this,yu).clear(),xe(this,fl).clear()})}getAll(){return Array.from(xe(this,yu))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>qL(r,n))}findAll(e={}){return this.getAll().filter(r=>qL(e,r))}notify(e){Bi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Bi.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ya))))}},yu=new WeakMap,fl=new WeakMap,mx=new WeakMap,tV);function Jw(t){var e;return(e=t.options.scope)==null?void 0:e.id}function GL(t){return{onFetch:(e,r)=>{var d,h,p,f,v;const n=e.options,i=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((f=e.state.data)==null?void 0:f.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const g=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=HW(e.options,e.fetchOptions),x=async(_,A,E)=>{if(m)return Promise.reject();if(A==null&&_.pages.length)return Promise.resolve(_);const j=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:A,direction:E?"backward":"forward",meta:e.options.meta};return g(C),C})(),N=await y(j),{maxPages:k}=e.options,D=E?Kue:Gue;return{pages:D(_.pages,N,k),pageParams:D(_.pageParams,A,k)}};if(i&&a.length){const _=i==="backward",A=_?ade:KL,E={pages:a,pageParams:s},I=A(n,E);o=await x(E,I,_)}else{const _=t??a.length;do{const A=l===0?s[0]??n.initialPageParam:KL(n,o);if(l>0&&A==null)break;o=await x(o,A),l++}while(l<_)}return o};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function KL(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ade(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var oi,nh,ih,ov,lv,ah,cv,uv,rV,sde=(rV=class{constructor(t={}){$t(this,oi);$t(this,nh);$t(this,ih);$t(this,ov);$t(this,lv);$t(this,ah);$t(this,cv);$t(this,uv);dt(this,oi,t.queryCache||new rde),dt(this,nh,t.mutationCache||new ide),dt(this,ih,t.defaultOptions||{}),dt(this,ov,new Map),dt(this,lv,new Map),dt(this,ah,0)}mount(){Tw(this,ah)._++,xe(this,ah)===1&&(dt(this,cv,fO.subscribe(async t=>{t&&(await this.resumePausedMutations(),xe(this,oi).onFocus())})),dt(this,uv,eS.subscribe(async t=>{t&&(await this.resumePausedMutations(),xe(this,oi).onOnline())})))}unmount(){var t,e;Tw(this,ah)._--,xe(this,ah)===0&&((t=xe(this,cv))==null||t.call(this),dt(this,cv,void 0),(e=xe(this,uv))==null||e.call(this),dt(this,uv,void 0))}isFetching(t){return xe(this,oi).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return xe(this,nh).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=xe(this,oi).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=xe(this,oi).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Ph(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return xe(this,oi).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=xe(this,oi).get(n.queryHash),a=i==null?void 0:i.state.data,s=Wue(e,a);if(s!==void 0)return xe(this,oi).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Bi.batch(()=>xe(this,oi).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=xe(this,oi).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=xe(this,oi);Bi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=xe(this,oi);return Bi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Bi.batch(()=>xe(this,oi).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ya).catch(Ya)}invalidateQueries(t,e={}){return Bi.batch(()=>(xe(this,oi).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Bi.batch(()=>xe(this,oi).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ya)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ya)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=xe(this,oi).build(this,e);return r.isStaleByTime(Ph(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ya).catch(Ya)}fetchInfiniteQuery(t){return t.behavior=GL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ya).catch(Ya)}ensureInfiniteQueryData(t){return t.behavior=GL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return eS.isOnline()?xe(this,nh).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,oi)}getMutationCache(){return xe(this,nh)}getDefaultOptions(){return xe(this,ih)}setDefaultOptions(t){dt(this,ih,t)}setQueryDefaults(t,e){xe(this,ov).set(Wp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...xe(this,ov).values()],r={};return e.forEach(n=>{ab(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){xe(this,lv).set(Wp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...xe(this,lv).values()],r={};return e.forEach(n=>{ab(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...xe(this,ih).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===hO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...xe(this,ih).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){xe(this,oi).clear(),xe(this,nh).clear()}},oi=new WeakMap,nh=new WeakMap,ih=new WeakMap,ov=new WeakMap,lv=new WeakMap,ah=new WeakMap,cv=new WeakMap,uv=new WeakMap,rV),ps,Er,gx,Ga,Sp,dv,sh,oh,vx,hv,fv,Ap,Np,lh,pv,Yr,G0,JT,ZT,eC,tC,rC,nC,iC,eH,nV,ode=(nV=class extends wy{constructor(e,r){super();$t(this,Yr);$t(this,ps);$t(this,Er);$t(this,gx);$t(this,Ga);$t(this,Sp);$t(this,dv);$t(this,sh);$t(this,oh);$t(this,vx);$t(this,hv);$t(this,fv);$t(this,Ap);$t(this,Np);$t(this,lh);$t(this,pv,new Set);this.options=r,dt(this,ps,e),dt(this,oh,null),dt(this,sh,QT()),this.options.experimental_prefetchInRender||xe(this,sh).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(xe(this,Er).addObserver(this),YL(xe(this,Er),this.options)?mr(this,Yr,G0).call(this):this.updateResult(),mr(this,Yr,tC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return aC(xe(this,Er),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return aC(xe(this,Er),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mr(this,Yr,rC).call(this),mr(this,Yr,nC).call(this),xe(this,Er).removeObserver(this)}setOptions(e){const r=this.options,n=xe(this,Er);if(this.options=xe(this,ps).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oo(this.options.enabled,xe(this,Er))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mr(this,Yr,iC).call(this),xe(this,Er).setOptions(this.options),r._defaulted&&!Z_(this.options,r)&&xe(this,ps).getQueryCache().notify({type:"observerOptionsUpdated",query:xe(this,Er),observer:this});const i=this.hasListeners();i&&XL(xe(this,Er),n,this.options,r)&&mr(this,Yr,G0).call(this),this.updateResult(),i&&(xe(this,Er)!==n||Oo(this.options.enabled,xe(this,Er))!==Oo(r.enabled,xe(this,Er))||Ph(this.options.staleTime,xe(this,Er))!==Ph(r.staleTime,xe(this,Er)))&&mr(this,Yr,JT).call(this);const a=mr(this,Yr,ZT).call(this);i&&(xe(this,Er)!==n||Oo(this.options.enabled,xe(this,Er))!==Oo(r.enabled,xe(this,Er))||a!==xe(this,lh))&&mr(this,Yr,eC).call(this,a)}getOptimisticResult(e){const r=xe(this,ps).getQueryCache().build(xe(this,ps),e),n=this.createResult(r,e);return cde(this,n)&&(dt(this,Ga,n),dt(this,dv,this.options),dt(this,Sp,xe(this,Er).state)),n}getCurrentResult(){return xe(this,Ga)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){xe(this,pv).add(e)}getCurrentQuery(){return xe(this,Er)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=xe(this,ps).defaultQueryOptions(e),n=xe(this,ps).getQueryCache().build(xe(this,ps),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return mr(this,Yr,G0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),xe(this,Ga)))}createResult(e,r){var k;const n=xe(this,Er),i=this.options,a=xe(this,Ga),s=xe(this,Sp),o=xe(this,dv),u=e!==n?e.state:xe(this,gx),{state:d}=e;let h={...d},p=!1,f;if(r._optimisticResults){const D=this.hasListeners(),C=!D&&YL(e,r),O=D&&XL(e,n,r,i);(C||O)&&(h={...h,...JW(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:g}=h;f=h.data;let y=!1;if(r.placeholderData!==void 0&&f===void 0&&g==="pending"){let D;a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(D=a.data,y=!0):D=typeof r.placeholderData=="function"?r.placeholderData((k=xe(this,fv))==null?void 0:k.state.data,xe(this,fv)):r.placeholderData,D!==void 0&&(g="success",f=XT(a==null?void 0:a.data,D,r),p=!0)}if(r.select&&f!==void 0&&!y)if(a&&f===(s==null?void 0:s.data)&&r.select===xe(this,vx))f=xe(this,hv);else try{dt(this,vx,r.select),f=r.select(f),f=XT(a==null?void 0:a.data,f,r),dt(this,hv,f),dt(this,oh,null)}catch(D){dt(this,oh,D)}xe(this,oh)&&(v=xe(this,oh),f=xe(this,hv),m=Date.now(),g="error");const x=h.fetchStatus==="fetching",_=g==="pending",A=g==="error",E=_&&x,I=f!==void 0,N={status:g,fetchStatus:h.fetchStatus,isPending:_,isSuccess:g==="success",isError:A,isInitialLoading:E,isLoading:E,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:A&&!I,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&I,isStale:pO(e,r),refetch:this.refetch,promise:xe(this,sh),isEnabled:Oo(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=L=>{N.status==="error"?L.reject(N.error):N.data!==void 0&&L.resolve(N.data)},C=()=>{const L=dt(this,sh,N.promise=QT());D(L)},O=xe(this,sh);switch(O.status){case"pending":e.queryHash===n.queryHash&&D(O);break;case"fulfilled":(N.status==="error"||N.data!==O.value)&&C();break;case"rejected":(N.status!=="error"||N.error!==O.reason)&&C();break}}return N}updateResult(){const e=xe(this,Ga),r=this.createResult(xe(this,Er),this.options);if(dt(this,Sp,xe(this,Er).state),dt(this,dv,this.options),xe(this,Sp).data!==void 0&&dt(this,fv,xe(this,Er)),Z_(r,e))return;dt(this,Ga,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!xe(this,pv).size)return!0;const s=new Set(a??xe(this,pv));return this.options.throwOnError&&s.add("error"),Object.keys(xe(this,Ga)).some(o=>{const l=o;return xe(this,Ga)[l]!==e[l]&&s.has(l)})};mr(this,Yr,eH).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mr(this,Yr,tC).call(this)}},ps=new WeakMap,Er=new WeakMap,gx=new WeakMap,Ga=new WeakMap,Sp=new WeakMap,dv=new WeakMap,sh=new WeakMap,oh=new WeakMap,vx=new WeakMap,hv=new WeakMap,fv=new WeakMap,Ap=new WeakMap,Np=new WeakMap,lh=new WeakMap,pv=new WeakMap,Yr=new WeakSet,G0=function(e){mr(this,Yr,iC).call(this);let r=xe(this,Er).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ya)),r},JT=function(){mr(this,Yr,rC).call(this);const e=Ph(this.options.staleTime,xe(this,Er));if(qp||xe(this,Ga).isStale||!KT(e))return;const n=qW(xe(this,Ga).dataUpdatedAt,e)+1;dt(this,Ap,setTimeout(()=>{xe(this,Ga).isStale||this.updateResult()},n))},ZT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(xe(this,Er)):this.options.refetchInterval)??!1},eC=function(e){mr(this,Yr,nC).call(this),dt(this,lh,e),!(qp||Oo(this.options.enabled,xe(this,Er))===!1||!KT(xe(this,lh))||xe(this,lh)===0)&&dt(this,Np,setInterval(()=>{(this.options.refetchIntervalInBackground||fO.isFocused())&&mr(this,Yr,G0).call(this)},xe(this,lh)))},tC=function(){mr(this,Yr,JT).call(this),mr(this,Yr,eC).call(this,mr(this,Yr,ZT).call(this))},rC=function(){xe(this,Ap)&&(clearTimeout(xe(this,Ap)),dt(this,Ap,void 0))},nC=function(){xe(this,Np)&&(clearInterval(xe(this,Np)),dt(this,Np,void 0))},iC=function(){const e=xe(this,ps).getQueryCache().build(xe(this,ps),this.options);if(e===xe(this,Er))return;const r=xe(this,Er);dt(this,Er,e),dt(this,gx,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},eH=function(e){Bi.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(xe(this,Ga))}),xe(this,ps).getQueryCache().notify({query:xe(this,Er),type:"observerResultsUpdated"})})},nV);function lde(t,e){return Oo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function YL(t,e){return lde(t,e)||t.state.data!==void 0&&aC(t,e,e.refetchOnMount)}function aC(t,e,r){if(Oo(e.enabled,t)!==!1&&Ph(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&pO(t,e)}return!1}function XL(t,e,r,n){return(t!==e||Oo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&pO(t,r)}function pO(t,e){return Oo(e.enabled,t)!==!1&&t.isStaleByTime(Ph(e.staleTime,t))}function cde(t,e){return!Z_(t.getCurrentResult(),e)}var ch,uh,ms,bu,Lu,Z2,sC,iV,ude=(iV=class extends wy{constructor(r,n){super();$t(this,Lu);$t(this,ch);$t(this,uh);$t(this,ms);$t(this,bu);dt(this,ch,r),this.setOptions(n),this.bindMethods(),mr(this,Lu,Z2).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=xe(this,ch).defaultMutationOptions(r),Z_(this.options,n)||xe(this,ch).getMutationCache().notify({type:"observerOptionsUpdated",mutation:xe(this,ms),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Wp(n.mutationKey)!==Wp(this.options.mutationKey)?this.reset():((i=xe(this,ms))==null?void 0:i.state.status)==="pending"&&xe(this,ms).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=xe(this,ms))==null||r.removeObserver(this)}onMutationUpdate(r){mr(this,Lu,Z2).call(this),mr(this,Lu,sC).call(this,r)}getCurrentResult(){return xe(this,uh)}reset(){var r;(r=xe(this,ms))==null||r.removeObserver(this),dt(this,ms,void 0),mr(this,Lu,Z2).call(this),mr(this,Lu,sC).call(this)}mutate(r,n){var i;return dt(this,bu,n),(i=xe(this,ms))==null||i.removeObserver(this),dt(this,ms,xe(this,ch).getMutationCache().build(xe(this,ch),this.options)),xe(this,ms).addObserver(this),xe(this,ms).execute(r)}},ch=new WeakMap,uh=new WeakMap,ms=new WeakMap,bu=new WeakMap,Lu=new WeakSet,Z2=function(){var n;const r=((n=xe(this,ms))==null?void 0:n.state)??ZW();dt(this,uh,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},sC=function(r){Bi.batch(()=>{var n,i,a,s,o,l,u,d;if(xe(this,bu)&&this.hasListeners()){const h=xe(this,uh).variables,p=xe(this,uh).context;(r==null?void 0:r.type)==="success"?((i=(n=xe(this,bu)).onSuccess)==null||i.call(n,r.data,h,p),(s=(a=xe(this,bu)).onSettled)==null||s.call(a,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((l=(o=xe(this,bu)).onError)==null||l.call(o,r.error,h,p),(d=(u=xe(this,bu)).onSettled)==null||d.call(u,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(xe(this,uh))})})},iV),tH=T.createContext(void 0),qi=t=>{const e=T.useContext(tH);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},dde=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(tH.Provider,{value:t,children:e})),rH=T.createContext(!1),hde=()=>T.useContext(rH);rH.Provider;function fde(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var pde=T.createContext(fde()),mde=()=>T.useContext(pde),gde=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},vde=t=>{T.useEffect(()=>{t.clearReset()},[t])},yde=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||GW(r,[t.error,n])),bde=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},xde=(t,e)=>t.isLoading&&t.isFetching&&!e,wde=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,QL=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function _de(t,e,r){var h,p,f,v,m;const n=hde(),i=mde(),a=qi(),s=a.defaultQueryOptions(t);(p=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,s),s._optimisticResults=n?"isRestoring":"optimistic",bde(s),gde(s,i),vde(i);const o=!a.getQueryCache().get(s.queryHash),[l]=T.useState(()=>new e(a,s)),u=l.getOptimisticResult(s),d=!n&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(g=>{const y=d?l.subscribe(Bi.batchCalls(g)):Ya;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),T.useEffect(()=>{l.setOptions(s)},[s,l]),wde(s,u))throw QL(s,l,i);if(yde({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((v=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,s,u),s.experimental_prefetchInRender&&!qp&&xde(u,n)){const g=o?QL(s,l,i):(m=a.getQueryCache().get(s.queryHash))==null?void 0:m.promise;g==null||g.catch(Ya).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function _y(t,e){return _de(t,ode)}function go(t,e){const r=qi(),[n]=T.useState(()=>new ude(r,t));T.useEffect(()=>{n.setOptions(t)},[n,t]);const i=T.useSyncExternalStore(T.useCallback(s=>n.subscribe(Bi.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=T.useCallback((s,o)=>{n.mutate(s,o).catch(Ya)},[n]);if(i.error&&GW(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sb.apply(this,arguments)}var fh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fh||(fh={}));const JL="popstate";function Sde(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return oC("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:tS(i)}return Nde(e,r,null,t)}function _i(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nH(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ade(){return Math.random().toString(36).substr(2,8)}function ZL(t,e){return{usr:t.state,key:t.key,idx:e}}function oC(t,e,r,n){return r===void 0&&(r=null),sb({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sy(e):e,{state:r,key:e&&e.key||n||Ade()})}function tS(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sy(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Nde(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=fh.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(sb({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function h(){o=fh.Pop;let g=d(),y=g==null?null:g-u;u=g,l&&l({action:o,location:m.location,delta:y})}function p(g,y){o=fh.Push;let x=oC(m.location,g,y);u=d()+1;let _=ZL(x,u),A=m.createHref(x);try{s.pushState(_,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(A)}a&&l&&l({action:o,location:m.location,delta:1})}function f(g,y){o=fh.Replace;let x=oC(m.location,g,y);u=d();let _=ZL(x,u),A=m.createHref(x);s.replaceState(_,"",A),a&&l&&l({action:o,location:m.location,delta:0})}function v(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof g=="string"?g:tS(g);return x=x.replace(/ $/,"%20"),_i(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return o},get location(){return t(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JL,h),l=g,()=>{i.removeEventListener(JL,h),l=null}},createHref(g){return e(i,g)},createURL:v,encodeLocation(g){let y=v(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(g){return s.go(g)}};return m}var eM;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eM||(eM={}));function Ede(t,e,r){return r===void 0&&(r="/"),jde(t,e,r,!1)}function jde(t,e,r,n){let i=typeof e=="string"?Sy(e):e,a=mO(i.pathname||"/",r);if(a==null)return null;let s=iH(t);Pde(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=Fde(a);o=Mde(s[l],u,n)}return o}function iH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(_i(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Th([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(_i(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iH(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Dde(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of aH(a.path))i(a,s,l)}),e}function aH(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=aH(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Pde(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Lde(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Tde=/^:[\w-]+$/,Cde=3,kde=2,Ide=1,Ode=10,Rde=-2,tM=t=>t==="*";function Dde(t,e){let r=t.split("/"),n=r.length;return r.some(tM)&&(n+=Rde),e&&(n+=kde),r.filter(i=>!tM(i)).reduce((i,a)=>i+(Tde.test(a)?Cde:a===""?Ide:Ode),n)}function Lde(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Mde(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=rM({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=rM({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Th([a,h.pathname]),pathnameBase:zde(Th([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Th([a,h.pathnameBase]))}return s}function rM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$de(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let m=o[h]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const v=o[h];return f&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function $de(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),nH(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Fde(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nH(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Bde(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Sy(t):t;return{pathname:r?r.startsWith("/")?r:Ude(r,e):e,search:qde(n),hash:Wde(i)}}function Ude(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rj(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vde(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function gO(t,e){let r=Vde(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function vO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Sy(t):(i=sb({},t),_i(!i.pathname||!i.pathname.includes("?"),rj("?","pathname","search",i)),_i(!i.pathname||!i.pathname.includes("#"),rj("#","pathname","hash",i)),_i(!i.search||!i.search.includes("#"),rj("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let h=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?e[h]:"/"}let l=Bde(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Th=t=>t.join("/").replace(/\/\/+/g,"/"),zde=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qde=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wde=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Hde(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sH=["post","put","patch","delete"];new Set(sH);const Gde=["get",...sH];new Set(Gde);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ob.apply(this,arguments)}const yO=T.createContext(null),Kde=T.createContext(null),hf=T.createContext(null),dA=T.createContext(null),Ju=T.createContext({outlet:null,matches:[],isDataRoute:!1}),oH=T.createContext(null);function Yde(t,e){let{relative:r}=e===void 0?{}:e;Ay()||_i(!1);let{basename:n,navigator:i}=T.useContext(hf),{hash:a,pathname:s,search:o}=cH(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Th([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Ay(){return T.useContext(dA)!=null}function ff(){return Ay()||_i(!1),T.useContext(dA).location}function lH(t){T.useContext(hf).static||T.useLayoutEffect(t)}function Wi(){let{isDataRoute:t}=T.useContext(Ju);return t?che():Xde()}function Xde(){Ay()||_i(!1);let t=T.useContext(yO),{basename:e,future:r,navigator:n}=T.useContext(hf),{matches:i}=T.useContext(Ju),{pathname:a}=ff(),s=JSON.stringify(gO(i,r.v7_relativeSplatPath)),o=T.useRef(!1);return lH(()=>{o.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=vO(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Th([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,a,t])}function Qde(){let{matches:t}=T.useContext(Ju),e=t[t.length-1];return e?e.params:{}}function cH(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(hf),{matches:i}=T.useContext(Ju),{pathname:a}=ff(),s=JSON.stringify(gO(i,n.v7_relativeSplatPath));return T.useMemo(()=>vO(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function Jde(t,e){return Zde(t,e)}function Zde(t,e,r,n){Ay()||_i(!1);let{navigator:i}=T.useContext(hf),{matches:a}=T.useContext(Ju),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ff(),d;if(e){var h;let g=typeof e=="string"?Sy(e):e;l==="/"||(h=g.pathname)!=null&&h.startsWith(l)||_i(!1),d=g}else d=u;let p=d.pathname||"/",f=p;if(l!=="/"){let g=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=Ede(t,{pathname:f}),m=ihe(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Th([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Th([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return e&&m?T.createElement(dA.Provider,{value:{location:ob({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fh.Pop}},m):m}function ehe(){let t=lhe(),e=Hde(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,null)}const the=T.createElement(ehe,null);class rhe extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(Ju.Provider,{value:this.props.routeContext},T.createElement(oH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nhe(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(yO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(Ju.Provider,{value:e},n)}function ihe(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||_i(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let f,v=!1,m=null,g=null;r&&(f=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||the,l&&(u<0&&p===0?(v=!0,g=null):u===p&&(v=!0,g=h.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,p+1)),x=()=>{let _;return f?_=m:v?_=g:h.route.Component?_=T.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,T.createElement(nhe,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(rhe,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var uH=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uH||{}),rS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rS||{});function ahe(t){let e=T.useContext(yO);return e||_i(!1),e}function she(t){let e=T.useContext(Kde);return e||_i(!1),e}function ohe(t){let e=T.useContext(Ju);return e||_i(!1),e}function dH(t){let e=ohe(),r=e.matches[e.matches.length-1];return r.route.id||_i(!1),r.route.id}function lhe(){var t;let e=T.useContext(oH),r=she(rS.UseRouteError),n=dH(rS.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function che(){let{router:t}=ahe(uH.UseNavigateStable),e=dH(rS.UseNavigateStable),r=T.useRef(!1);return lH(()=>{r.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ob({fromRouteId:e},a)))},[t,e])}function uhe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hH(t){let{to:e,replace:r,state:n,relative:i}=t;Ay()||_i(!1);let{future:a,static:s}=T.useContext(hf),{matches:o}=T.useContext(Ju),{pathname:l}=ff(),u=Wi(),d=vO(e,gO(o,a.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return T.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function jn(t){_i(!1)}function dhe(t){let{basename:e="/",children:r=null,location:n,navigationType:i=fh.Pop,navigator:a,static:s=!1,future:o}=t;Ay()&&_i(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:a,static:s,future:ob({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Sy(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:v="default"}=n,m=T.useMemo(()=>{let g=mO(d,l);return g==null?null:{location:{pathname:g,search:h,hash:p,state:f,key:v},navigationType:i}},[l,d,h,p,f,v,i]);return m==null?null:T.createElement(hf.Provider,{value:u},T.createElement(dA.Provider,{children:r,value:m}))}function hhe(t){let{children:e,location:r}=t;return Jde(lC(e),r)}new Promise(()=>{});function lC(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let a=[...e,i];if(n.type===T.Fragment){r.push.apply(r,lC(n.props.children,a));return}n.type!==jn&&_i(!1),!n.props.index||!n.props.children||_i(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=lC(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cC.apply(this,arguments)}function fhe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function phe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mhe(t,e){return t.button===0&&(!e||e==="_self")&&!phe(t)}function uC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function ghe(t,e){let r=uC(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const vhe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yhe="6";try{window.__reactRouterVersion=yhe}catch{}const bhe="startTransition",nM=tI[bhe];function xhe(t){let{basename:e,children:r,future:n,window:i}=t,a=T.useRef();a.current==null&&(a.current=Sde({window:i,v5Compat:!0}));let s=a.current,[o,l]=T.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=T.useCallback(h=>{u&&nM?nM(()=>l(h)):l(h)},[l,u]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.useEffect(()=>uhe(n),[n]),T.createElement(dhe,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const whe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_he=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iM=T.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,p=fhe(e,vhe),{basename:f}=T.useContext(hf),v,m=!1;if(typeof u=="string"&&_he.test(u)&&(v=u,whe))try{let _=new URL(window.location.href),A=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=mO(A.pathname,f);A.origin===_.origin&&E!=null?u=E+A.search+A.hash:m=!0}catch{}let g=Yde(u,{relative:i}),y=She(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function x(_){n&&n(_),_.defaultPrevented||y(_)}return T.createElement("a",cC({},p,{href:v||g,onClick:m||a?n:x,ref:r,target:l}))});var aM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aM||(aM={}));var sM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sM||(sM={}));function She(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Wi(),u=ff(),d=cH(t,{relative:s});return T.useCallback(h=>{if(mhe(h,r)){h.preventDefault();let p=n!==void 0?n:tS(u)===tS(d);l(t,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,t,a,s,o])}function fH(t){let e=T.useRef(uC(t)),r=T.useRef(!1),n=ff(),i=T.useMemo(()=>ghe(n.search,r.current?null:e.current),[n.search]),a=Wi(),s=T.useCallback((o,l)=>{const u=uC(typeof o=="function"?o(i):o);r.current=!0,a("?"+u,l)},[a,i]);return[i,s]}const Ahe=()=>{};var oM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Nhe=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},mH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,f=u&63;l||(f=64,s||(p=64)),n.push(r[d],r[h],r[p],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nhe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||h==null)throw new Ehe;const p=a<<2|o>>4;if(n.push(p),u!==64){const f=o<<4&240|u>>2;if(n.push(f),h!==64){const v=u<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ehe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jhe=function(t){const e=pH(t);return mH.encodeByteArray(e,!0)},nS=function(t){return jhe(t).replace(/\./g,"")},gH=function(t){try{return mH.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Phe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const The=()=>Phe().__FIREBASE_DEFAULTS__,Che=()=>{if(typeof process>"u"||typeof oM>"u")return;const t=oM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},khe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gH(t[1]);return e&&JSON.parse(e)},hA=()=>{try{return Ahe()||The()||Che()||khe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vH=t=>{var e,r;return(r=(e=hA())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Ihe=t=>{const e=vH(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},yH=()=>{var t;return(t=hA())==null?void 0:t.config},bH=t=>{var e;return(e=hA())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ohe=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xH(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rhe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nS(JSON.stringify(r)),nS(JSON.stringify(s)),""].join(".")}const v1={};function Dhe(){const t={prod:[],emulator:[]};for(const e of Object.keys(v1))v1[e]?t.emulator.push(e):t.prod.push(e);return t}function Lhe(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let lM=!1;function wH(t,e){if(typeof window>"u"||typeof document>"u"||!Ny(window.location.host)||v1[t]===e||v1[t]||lM)return;v1[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=Dhe().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,f){p.setAttribute("width","24"),p.setAttribute("id",f),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{lM=!0,s()},p}function d(p,f){p.setAttribute("id",f),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Lhe(n),f=r("text"),v=document.getElementById(f)||document.createElement("span"),m=r("learnmore"),g=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const _=p.element;o(_),d(g,m);const A=u();l(x,y),_.append(x,v,g,A),document.body.appendChild(_)}a?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mhe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ma())}function $he(){var e;const t=(e=hA())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fhe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bhe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Uhe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vhe(){const t=Ma();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zhe(){return!$he()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qhe(){try{return typeof indexedDB=="object"}catch{return!1}}function Whe(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe="FirebaseError";class Zu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Hhe,Object.setPrototypeOf(this,Zu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Px.prototype.create)}}class Px{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Ghe(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Zu(i,o,n)}}function Ghe(t,e){return t.replace(Khe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Khe=/\{\$([^}]+)}/g;function Yhe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(cM(a)&&cM(s)){if(!Hp(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function cM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function K0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Y0(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Xhe(t,e){const r=new Qhe(t,e);return r.subscribe.bind(r)}class Qhe{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Jhe(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=nj),i.error===void 0&&(i.error=nj),i.complete===void 0&&(i.complete=nj);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jhe(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function nj(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){return t&&t._delegate?t._delegate:t}class Gp{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zhe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Ohe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tfe(e))try{this.getOrInitializeService({instanceIdentifier:Yf})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Yf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yf){return this.instances.has(e)}getOptions(e=Yf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:efe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Yf){return this.component?this.component.multipleInstances?e:Yf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function efe(t){return t===Yf?void 0:t}function tfe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rfe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Zhe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wr||(wr={}));const nfe={debug:wr.DEBUG,verbose:wr.VERBOSE,info:wr.INFO,warn:wr.WARN,error:wr.ERROR,silent:wr.SILENT},ife=wr.INFO,afe={[wr.DEBUG]:"log",[wr.VERBOSE]:"log",[wr.INFO]:"info",[wr.WARN]:"warn",[wr.ERROR]:"error"},sfe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=afe[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bO{constructor(e){this.name=e,this._logLevel=ife,this._logHandler=sfe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nfe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wr.DEBUG,...e),this._logHandler(this,wr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wr.VERBOSE,...e),this._logHandler(this,wr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wr.INFO,...e),this._logHandler(this,wr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wr.WARN,...e),this._logHandler(this,wr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wr.ERROR,...e),this._logHandler(this,wr.ERROR,...e)}}const ofe=(t,e)=>e.some(r=>t instanceof r);let uM,dM;function lfe(){return uM||(uM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cfe(){return dM||(dM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _H=new WeakMap,dC=new WeakMap,SH=new WeakMap,ij=new WeakMap,xO=new WeakMap;function ufe(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Ch(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&_H.set(r,t)}).catch(()=>{}),xO.set(e,t),e}function dfe(t){if(dC.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});dC.set(t,e)}let hC={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return dC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SH.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ch(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hfe(t){hC=t(hC)}function ffe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(aj(this),e,...r);return SH.set(n,e.sort?e.sort():[e]),Ch(n)}:cfe().includes(t)?function(...e){return t.apply(aj(this),e),Ch(_H.get(this))}:function(...e){return Ch(t.apply(aj(this),e))}}function pfe(t){return typeof t=="function"?ffe(t):(t instanceof IDBTransaction&&dfe(t),ofe(t,lfe())?new Proxy(t,hC):t)}function Ch(t){if(t instanceof IDBRequest)return ufe(t);if(ij.has(t))return ij.get(t);const e=pfe(t);return e!==t&&(ij.set(t,e),xO.set(e,t)),e}const aj=t=>xO.get(t);function mfe(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Ch(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Ch(s.result),l.oldVersion,l.newVersion,Ch(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const gfe=["get","getKey","getAll","getAllKeys","count"],vfe=["put","add","delete","clear"],sj=new Map;function hM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sj.get(e))return sj.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=vfe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||gfe.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return sj.set(e,a),a}hfe(t=>({...t,get:(e,r,n)=>hM(e,r)||t.get(e,r,n),has:(e,r)=>!!hM(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yfe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bfe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function bfe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fC="@firebase/app",fM="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new bO("@firebase/app"),xfe="@firebase/app-compat",wfe="@firebase/analytics-compat",_fe="@firebase/analytics",Sfe="@firebase/app-check-compat",Afe="@firebase/app-check",Nfe="@firebase/auth",Efe="@firebase/auth-compat",jfe="@firebase/database",Pfe="@firebase/data-connect",Tfe="@firebase/database-compat",Cfe="@firebase/functions",kfe="@firebase/functions-compat",Ife="@firebase/installations",Ofe="@firebase/installations-compat",Rfe="@firebase/messaging",Dfe="@firebase/messaging-compat",Lfe="@firebase/performance",Mfe="@firebase/performance-compat",$fe="@firebase/remote-config",Ffe="@firebase/remote-config-compat",Bfe="@firebase/storage",Ufe="@firebase/storage-compat",Vfe="@firebase/firestore",zfe="@firebase/ai",qfe="@firebase/firestore-compat",Wfe="firebase",Hfe="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="[DEFAULT]",Gfe={[fC]:"fire-core",[xfe]:"fire-core-compat",[_fe]:"fire-analytics",[wfe]:"fire-analytics-compat",[Afe]:"fire-app-check",[Sfe]:"fire-app-check-compat",[Nfe]:"fire-auth",[Efe]:"fire-auth-compat",[jfe]:"fire-rtdb",[Pfe]:"fire-data-connect",[Tfe]:"fire-rtdb-compat",[Cfe]:"fire-fn",[kfe]:"fire-fn-compat",[Ife]:"fire-iid",[Ofe]:"fire-iid-compat",[Rfe]:"fire-fcm",[Dfe]:"fire-fcm-compat",[Lfe]:"fire-perf",[Mfe]:"fire-perf-compat",[$fe]:"fire-rc",[Ffe]:"fire-rc-compat",[Bfe]:"fire-gcs",[Ufe]:"fire-gcs-compat",[Vfe]:"fire-fst",[qfe]:"fire-fst-compat",[zfe]:"fire-vertex","fire-js":"fire-js",[Wfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map,Kfe=new Map,mC=new Map;function pM(t,e){try{t.container.addComponent(e)}catch(r){zu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ev(t){const e=t.name;if(mC.has(e))return zu.debug(`There were multiple attempts to register component ${e}.`),!1;mC.set(e,t);for(const r of iS.values())pM(r,t);for(const r of Kfe.values())pM(r,t);return!0}function wO(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Mo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kh=new Px("app","Firebase",Yfe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xfe{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=Hfe;function AH(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:pC,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw kh.create("bad-app-name",{appName:String(i)});if(r||(r=yH()),!r)throw kh.create("no-options");const a=iS.get(i);if(a){if(Hp(r,a.options)&&Hp(n,a.config))return a;throw kh.create("duplicate-app",{appName:i})}const s=new rfe(i);for(const l of mC.values())s.addComponent(l);const o=new Xfe(r,n,s);return iS.set(i,o),o}function NH(t=pC){const e=iS.get(t);if(!e&&t===pC&&yH())return AH();if(!e)throw kh.create("no-app",{appName:t});return e}function Ih(t,e,r){let n=Gfe[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zu.warn(s.join(" "));return}Ev(new Gp(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qfe="firebase-heartbeat-database",Jfe=1,lb="firebase-heartbeat-store";let oj=null;function EH(){return oj||(oj=mfe(Qfe,Jfe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lb)}catch(r){console.warn(r)}}}}).catch(t=>{throw kh.create("idb-open",{originalErrorMessage:t.message})})),oj}async function Zfe(t){try{const r=(await EH()).transaction(lb),n=await r.objectStore(lb).get(jH(t));return await r.done,n}catch(e){if(e instanceof Zu)zu.warn(e.message);else{const r=kh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zu.warn(r.message)}}}async function mM(t,e){try{const n=(await EH()).transaction(lb,"readwrite");await n.objectStore(lb).put(e,jH(t)),await n.done}catch(r){if(r instanceof Zu)zu.warn(r.message);else{const n=kh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});zu.warn(n.message)}}}function jH(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const epe=1024,tpe=30;class rpe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new ipe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=gM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>tpe){const s=ape(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){zu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=gM(),{heartbeatsToSend:n,unsentEntries:i}=npe(this._heartbeatsCache.heartbeats),a=nS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return zu.warn(r),""}}}function gM(){return new Date().toISOString().substring(0,10)}function npe(t,e=epe){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),vM(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),vM(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class ipe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qhe()?Whe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Zfe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return mM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return mM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function vM(t){return nS(JSON.stringify({version:2,heartbeats:t})).length}function ape(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function spe(t){Ev(new Gp("platform-logger",e=>new yfe(e),"PRIVATE")),Ev(new Gp("heartbeat",e=>new rpe(e),"PRIVATE")),Ih(fC,fM,t),Ih(fC,fM,"esm2020"),Ih("fire-js","")}spe("");function PH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ope=PH,TH=new Px("auth","Firebase",PH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new bO("@firebase/auth");function lpe(t,...e){aS.logLevel<=wr.WARN&&aS.warn(`Auth (${Ey}): ${t}`,...e)}function e_(t,...e){aS.logLevel<=wr.ERROR&&aS.error(`Auth (${Ey}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t,...e){throw _O(t,...e)}function wc(t,...e){return _O(t,...e)}function CH(t,e,r){const n={...ope(),[e]:r};return new Px("auth","Firebase",n).create(e,{appName:t.name})}function Pu(t){return CH(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _O(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return TH.create(t,...e)}function qt(t,e,...r){if(!t)throw _O(e,...r)}function _u(t){const e="INTERNAL ASSERTION FAILED: "+t;throw e_(e),new Error(e)}function qu(t,e){t||_u(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function cpe(){return yM()==="http:"||yM()==="https:"}function yM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function upe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cpe()||Bhe()||"connection"in navigator)?navigator.onLine:!0}function dpe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,r){this.shortDelay=e,this.longDelay=r,qu(r>e,"Short delay should be less than long delay!"),this.isMobile=Mhe()||Uhe()}get(){return upe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e){qu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_u("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_u("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_u("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fpe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ppe=new Cx(3e4,6e4);function pf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ed(t,e,r,n,i={}){return IH(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=Tx({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return Fhe()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ny(t.emulatorConfig.host)&&(u.credentials="include"),kH.fetch()(await OH(t,t.config.apiHost,r,o),u)})}async function IH(t,e,r){t._canInitEmulator=!1;const n={...hpe,...e};try{const i=new gpe(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Zw(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zw(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Zw(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Zw(t,"user-disabled",s);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw CH(t,d,u);Cl(t,d)}}catch(i){if(i instanceof Zu)throw i;Cl(t,"network-request-failed",{message:String(i)})}}async function kx(t,e,r,n,i={}){const a=await ed(t,e,r,n,i);return"mfaPendingCredential"in a&&Cl(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function OH(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?SO(t.config,i):`${t.config.apiScheme}://${i}`;return fpe.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function mpe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gpe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(wc(this.auth,"network-request-failed")),ppe.get())})}}function Zw(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=wc(t,e,n);return i.customData._tokenResponse=r,i}function bM(t){return t!==void 0&&t.enterprise!==void 0}class vpe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return mpe(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ype(t,e){return ed(t,"GET","/v2/recaptchaConfig",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bpe(t,e){return ed(t,"POST","/v1/accounts:delete",e)}async function sS(t,e){return ed(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xpe(t,e=!1){const r=Si(t),n=await r.getIdToken(e),i=AO(n);qt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:y1(lj(i.auth_time)),issuedAtTime:y1(lj(i.iat)),expirationTime:y1(lj(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function lj(t){return Number(t)*1e3}function AO(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return e_("JWT malformed, contained fewer than 3 sections"),null;try{const i=gH(r);return i?JSON.parse(i):(e_("Failed to decode base64 JWT payload"),null)}catch(i){return e_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xM(t){const e=AO(t);return qt(e,"internal-error"),qt(typeof e.exp<"u","internal-error"),qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jv(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Zu&&wpe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function wpe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=y1(this.lastLoginAt),this.creationTime=y1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(t){var h;const e=t.auth,r=await t.getIdToken(),n=await jv(t,sS(e,{idToken:r}));qt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?RH(i.providerUserInfo):[],s=Ape(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vC(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Spe(t){const e=Si(t);await oS(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ape(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function RH(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Npe(t,e){const r=await IH(t,{},async()=>{const n=Tx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await OH(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&Ny(t.emulatorConfig.host)&&(l.credentials="include"),kH.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Epe(t,e){return ed(t,"POST","/v2/accounts:revokeToken",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qt(e.idToken,"internal-error"),qt(typeof e.idToken<"u","internal-error"),qt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){qt(e.length!==0,"internal-error");const r=xM(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Npe(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new $g;return n&&(qt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(qt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(qt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $g,this.toJSON())}_performRefresh(){return _u("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e){qt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bl{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new _pe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await jv(this,this.stsTokenManager.getToken(this.auth,e));return qt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return xpe(this,e)}reload(){return Spe(this)}_assign(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new bl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await oS(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mo(this.auth.app))return Promise.reject(Pu(this.auth));const e=await this.getIdToken();return await jv(this,bpe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:f,providerData:v,stsTokenManager:m}=r;qt(h&&m,e,"internal-error");const g=$g.fromJSON(this.name,m);qt(typeof h=="string",e,"internal-error"),Rd(n,e.name),Rd(i,e.name),qt(typeof p=="boolean",e,"internal-error"),qt(typeof f=="boolean",e,"internal-error"),Rd(a,e.name),Rd(s,e.name),Rd(o,e.name),Rd(l,e.name),Rd(u,e.name),Rd(d,e.name);const y=new bl({uid:h,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:f,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:g,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(y.providerData=v.map(x=>({...x}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,r,n=!1){const i=new $g;i.updateFromServerResponse(r);const a=new bl({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await oS(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];qt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?RH(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new $g;o.updateFromIdToken(n);const l=new bl({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new vC(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=new Map;function Su(t){qu(t instanceof Function,"Expected a class definition");let e=wM.get(t);return e?(qu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}DH.type="NONE";const _M=DH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e,r){return`firebase:${t}:${e}:${r}`}class Fg{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=t_(this.userKey,i.apiKey,a),this.fullPersistenceKey=t_("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await sS(this.auth,{idToken:e}).catch(()=>{});return r?bl._fromGetAccountInfoResponse(this.auth,r,e):null}return bl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Fg(Su(_M),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Su(_M);const s=t_(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const d=await u._get(s);if(d){let h;if(typeof d=="string"){const p=await sS(e,{idToken:d}).catch(()=>{});if(!p)break;h=await bl._fromGetAccountInfoResponse(e,p,d)}else h=bl._fromJSON(e,d);u!==a&&(o=h),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Fg(a,e,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Fg(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UH(e))return"Blackberry";if(VH(e))return"Webos";if(MH(e))return"Safari";if((e.includes("chrome/")||$H(e))&&!e.includes("edge/"))return"Chrome";if(BH(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function LH(t=Ma()){return/firefox\//i.test(t)}function MH(t=Ma()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $H(t=Ma()){return/crios\//i.test(t)}function FH(t=Ma()){return/iemobile/i.test(t)}function BH(t=Ma()){return/android/i.test(t)}function UH(t=Ma()){return/blackberry/i.test(t)}function VH(t=Ma()){return/webos/i.test(t)}function NO(t=Ma()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jpe(t=Ma()){var e;return NO(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Ppe(){return Vhe()&&document.documentMode===10}function zH(t=Ma()){return NO(t)||BH(t)||VH(t)||UH(t)||/windows phone/i.test(t)||FH(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t,e=[]){let r;switch(t){case"Browser":r=SM(Ma());break;case"Worker":r=`${SM(Ma())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ey}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tpe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cpe(t,e={}){return ed(t,"GET","/v2/passwordPolicy",pf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kpe=6;class Ipe{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??kpe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ope{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AM(this),this.idTokenSubscription=new AM(this),this.beforeStateQueue=new Tpe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Su(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Fg.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await sS(this,{idToken:e}),n=await bl._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Mo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await oS(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dpe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mo(this.app))return Promise.reject(Pu(this));const r=e?Si(e):null;return r&&qt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mo(this.app)?Promise.reject(Pu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mo(this.app)?Promise.reject(Pu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Su(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cpe(this),r=new Ipe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Px("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Epe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Su(e)||this._popupRedirectResolver;qt(r,this,"argument-error"),this.redirectPersistenceManager=await Fg.create(this,[Su(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Mo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&lpe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function mm(t){return Si(t)}class AM{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xhe(r=>this.observer=r)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rpe(t){fA=t}function WH(t){return fA.loadJS(t)}function Dpe(){return fA.recaptchaEnterpriseScript}function Lpe(){return fA.gapiScript}function Mpe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $pe{constructor(){this.enterprise=new Fpe}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Fpe{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Bpe="recaptcha-enterprise",HH="NO_RECAPTCHA";class Upe{constructor(e){this.type=Bpe,this.auth=mm(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{ype(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new vpe(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;bM(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(HH)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $pe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&bM(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Dpe();l.length!==0&&(l+=o),WH(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function NM(t,e,r,n=!1,i=!1){const a=new Upe(t);let s;if(i)s=HH;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function yC(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await NM(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await NM(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vpe(t,e){const r=wO(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Hp(a,e??{}))return i;Cl(i,"already-initialized")}return r.initialize({options:e})}function zpe(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Su);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function qpe(t,e,r){const n=mm(t);qt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=GH(e),{host:s,port:o}=Wpe(e),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){qt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),qt(Hp(u,n.config.emulator)&&Hp(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Ny(s)?(xH(`${a}//${s}${l}`),wH("Auth",!0)):Hpe()}function GH(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wpe(t){const e=GH(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:EM(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:EM(s)}}}function EM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hpe(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return _u("not implemented")}_getIdTokenResponse(e){return _u("not implemented")}_linkToIdToken(e,r){return _u("not implemented")}_getReauthenticationResolver(e){return _u("not implemented")}}async function Gpe(t,e){return ed(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kpe(t,e){return kx(t,"POST","/v1/accounts:signInWithPassword",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ype(t,e){return kx(t,"POST","/v1/accounts:signInWithEmailLink",pf(t,e))}async function Xpe(t,e){return kx(t,"POST","/v1/accounts:signInWithEmailLink",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends EO{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new cb(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new cb(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yC(e,r,"signInWithPassword",Kpe);case"emailLink":return Ype(e,{email:this._email,oobCode:this._password});default:Cl(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yC(e,n,"signUpPassword",Gpe);case"emailLink":return Xpe(e,{idToken:r,email:this._email,oobCode:this._password});default:Cl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t,e){return kx(t,"POST","/v1/accounts:signInWithIdp",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qpe="http://localhost";class Kp extends EO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Kp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Cl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new Kp(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Bg(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Bg(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Bg(e,r)}buildRequest(){const e={requestUri:Qpe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Tx(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jpe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zpe(t){const e=K0(Y0(t)).link,r=e?K0(Y0(e)).deep_link_id:null,n=K0(Y0(t)).deep_link_id;return(n?K0(Y0(n)).link:null)||n||r||e||t}class jO{constructor(e){const r=K0(Y0(e)),n=r.apiKey??null,i=r.oobCode??null,a=Jpe(r.mode??null);qt(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Zpe(e);try{return new jO(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.providerId=jy.PROVIDER_ID}static credential(e,r){return cb._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=jO.parseLink(r);return qt(n,"argument-error"),cb._fromEmailAndCode(e,n.code,n.tenantId)}}jy.PROVIDER_ID="password";jy.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends KH{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends Ix{constructor(){super("facebook.com")}static credential(e){return Kp._fromParams({providerId:Kd.PROVIDER_ID,signInMethod:Kd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kd.credentialFromTaggedObject(e)}static credentialFromError(e){return Kd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kd.credential(e.oauthAccessToken)}catch{return null}}}Kd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Ix{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Kp._fromParams({providerId:Yd.PROVIDER_ID,signInMethod:Yd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Yd.credentialFromTaggedObject(e)}static credentialFromError(e){return Yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Yd.credential(r,n)}catch{return null}}}Yd.GOOGLE_SIGN_IN_METHOD="google.com";Yd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Ix{constructor(){super("github.com")}static credential(e){return Kp._fromParams({providerId:Xd.PROVIDER_ID,signInMethod:Xd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xd.credentialFromTaggedObject(e)}static credentialFromError(e){return Xd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xd.credential(e.oauthAccessToken)}catch{return null}}}Xd.GITHUB_SIGN_IN_METHOD="github.com";Xd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Ix{constructor(){super("twitter.com")}static credential(e,r){return Kp._fromParams({providerId:Qd.PROVIDER_ID,signInMethod:Qd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Qd.credentialFromTaggedObject(e)}static credentialFromError(e){return Qd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Qd.credential(r,n)}catch{return null}}}Qd.TWITTER_SIGN_IN_METHOD="twitter.com";Qd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eme(t,e){return kx(t,"POST","/v1/accounts:signUp",pf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await bl._fromIdTokenResponse(e,n,i),s=jM(n);return new Yp({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=jM(n);return new Yp({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function jM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends Zu{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,lS.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new lS(e,r,n,i)}}function YH(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?lS._fromErrorAndOperation(t,a,e,n):a})}async function tme(t,e,r=!1){const n=await jv(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Yp._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rme(t,e,r=!1){const{auth:n}=t;if(Mo(n.app))return Promise.reject(Pu(n));const i="reauthenticate";try{const a=await jv(t,YH(n,i,e,t),r);qt(a.idToken,n,"internal-error");const s=AO(a.idToken);qt(s,n,"internal-error");const{sub:o}=s;return qt(t.uid===o,n,"user-mismatch"),Yp._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Cl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(t,e,r=!1){if(Mo(t.app))return Promise.reject(Pu(t));const n="signIn",i=await YH(t,n,e),a=await Yp._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function nme(t,e){return XH(mm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QH(t){const e=mm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ime(t,e,r){if(Mo(t.app))return Promise.reject(Pu(t));const n=mm(t),s=await yC(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eme).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&QH(t),l}),o=await Yp._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function ame(t,e,r){return Mo(t.app)?Promise.reject(Pu(t)):nme(Si(t),jy.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&QH(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sme(t,e){return ed(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ome(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Si(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},s=await jv(n,sme(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function lme(t,e,r,n){return Si(t).onIdTokenChanged(e,r,n)}function cme(t,e,r){return Si(t).beforeAuthStateChanged(e,r)}function ume(t,e,r,n){return Si(t).onAuthStateChanged(e,r,n)}function dme(t){return Si(t).signOut()}async function hme(t){return Si(t).delete()}const cS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(cS,"1"),this.storage.removeItem(cS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fme=1e3,pme=10;class ZH extends JH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zH(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);Ppe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pme):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},fme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZH.type="LOCAL";const mme=ZH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG extends JH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}eG.type="SESSION";const tG=eG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gme(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new pA(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),l=await gme(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vme{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=PO("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(){return window}function yme(t){_c().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(){return typeof _c().WorkerGlobalScope<"u"&&typeof _c().importScripts=="function"}async function bme(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xme(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function wme(){return rG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG="firebaseLocalStorageDb",_me=1,uS="firebaseLocalStorage",iG="fbase_key";class Ox{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function mA(t,e){return t.transaction([uS],e?"readwrite":"readonly").objectStore(uS)}function Sme(){const t=indexedDB.deleteDatabase(nG);return new Ox(t).toPromise()}function bC(){const t=indexedDB.open(nG,_me);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(uS,{keyPath:iG})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(uS)?e(n):(n.close(),await Sme(),e(await bC()))})})}async function PM(t,e,r){const n=mA(t,!0).put({[iG]:e,value:r});return new Ox(n).toPromise()}async function Ame(t,e){const r=mA(t,!1).get(e),n=await new Ox(r).toPromise();return n===void 0?null:n.value}function TM(t,e){const r=mA(t,!0).delete(e);return new Ox(r).toPromise()}const Nme=800,Eme=3;class aG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bC(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Eme)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pA._getInstance(wme()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await bme(),!this.activeServiceWorker)return;this.sender=new vme(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xme()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bC();return await PM(e,cS,"1"),await TM(e,cS),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>PM(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Ame(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>TM(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=mA(i,!1).getAll();return new Ox(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aG.type="LOCAL";const jme=aG;new Cx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pme(t,e){return e?Su(e):(qt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO extends EO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bg(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Bg(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Bg(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Tme(t){return XH(t.auth,new TO(t),t.bypassAuthState)}function Cme(t){const{auth:e,user:r}=t;return qt(r,e,"internal-error"),rme(r,new TO(t),t.bypassAuthState)}async function kme(t){const{auth:e,user:r}=t;return qt(r,e,"internal-error"),tme(r,new TO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tme;case"linkViaPopup":case"linkViaRedirect":return kme;case"reauthViaPopup":case"reauthViaRedirect":return Cme;default:Cl(this.auth,"internal-error")}}resolve(e){qu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ime=new Cx(2e3,1e4);class Sg extends sG{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Sg.currentPopupAction&&Sg.currentPopupAction.cancel(),Sg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qt(e,this.auth,"internal-error"),e}async onExecution(){qu(this.filter.length===1,"Popup operations only handle one event");const e=PO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(wc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ime.get())};e()}}Sg.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ome="pendingRedirect",r_=new Map;class Rme extends sG{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=r_.get(this.auth._key());if(!e){try{const n=await Dme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}r_.set(this.auth._key(),e)}return this.bypassAuthState||r_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dme(t,e){const r=$me(e),n=Mme(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Lme(t,e){r_.set(t._key(),e)}function Mme(t){return Su(t._redirectPersistence)}function $me(t){return t_(Ome,t.config.apiKey,t.name)}async function Fme(t,e,r=!1){if(Mo(t.app))return Promise.reject(Pu(t));const n=mm(t),i=Pme(n,e),s=await new Rme(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bme=10*60*1e3;class Ume{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vme(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!oG(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(wc(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bme&&this.cachedEventUids.clear(),this.cachedEventUids.has(CM(e))}saveEventToCache(e){this.cachedEventUids.add(CM(e)),this.lastProcessedEventTime=Date.now()}}function CM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oG({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Vme(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oG(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zme(t,e={}){return ed(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wme=/^https?/;async function Hme(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zme(t);for(const r of e)try{if(Gme(r))return}catch{}Cl(t,"unauthorized-domain")}function Gme(t){const e=gC(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!Wme.test(r))return!1;if(qme.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kme=new Cx(3e4,6e4);function kM(){const t=_c().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Yme(t){return new Promise((e,r)=>{var i,a,s;function n(){kM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kM(),r(wc(t,"network-request-failed"))},timeout:Kme.get()})}if((a=(i=_c().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=_c().gapi)!=null&&s.load)n();else{const o=Mpe("iframefcb");return _c()[o]=()=>{gapi.load?n():r(wc(t,"network-request-failed"))},WH(`${Lpe()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw n_=null,e})}let n_=null;function Xme(t){return n_=n_||Yme(t),n_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qme=new Cx(5e3,15e3),Jme="__/auth/iframe",Zme="emulator/auth/iframe",ege={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rge(t){const e=t.config;qt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?SO(e,Zme):`https://${t.config.authDomain}/${Jme}`,n={apiKey:e.apiKey,appName:t.name,v:Ey},i=tge.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Tx(n).slice(1)}`}async function nge(t){const e=await Xme(t),r=_c().gapi;return qt(r,t,"internal-error"),e.open({where:document.body,url:rge(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ege,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=wc(t,"network-request-failed"),o=_c().setTimeout(()=>{a(s)},Qme.get());function l(){_c().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ige={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},age=500,sge=600,oge="_blank",lge="http://localhost";class IM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cge(t,e,r,n=age,i=sge){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...ige,width:n.toString(),height:i.toString(),top:a,left:s},u=Ma().toLowerCase();r&&(o=$H(u)?oge:r),LH(u)&&(e=e||lge,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[f,v])=>`${p}${f}=${v},`,"");if(jpe(u)&&o!=="_self")return uge(e||"",o),new IM(null);const h=window.open(e||"",o,d);qt(h,t,"popup-blocked");try{h.focus()}catch{}return new IM(h)}function uge(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dge="__/auth/handler",hge="emulator/auth/handler",fge=encodeURIComponent("fac");async function OM(t,e,r,n,i,a){qt(t.config.authDomain,t,"auth-domain-config-required"),qt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ey,eventId:i};if(e instanceof KH){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Yhe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof Ix){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${fge}=${encodeURIComponent(l)}`:"";return`${pge(t)}?${Tx(o).slice(1)}${u}`}function pge({config:t}){return t.emulator?SO(t,hge):`https://${t.authDomain}/${dge}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="webStorageSupport";class mge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tG,this._completeRedirectFn=Fme,this._overrideRedirectResult=Lme}async _openPopup(e,r,n,i){var s;qu((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await OM(e,r,n,gC(),i);return cge(e,a,PO())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await OM(e,r,n,gC(),i);return yme(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(qu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await nge(e),n=new Ume(e);return r.register("authEvent",i=>(qt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(cj,{type:cj},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[cj];a!==void 0&&r(!!a),Cl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Hme(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return zH()||MH()||NO()}}const gge=mge;var RM="@firebase/auth",DM="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bge(t){Ev(new Gp("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;qt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qH(t)},u=new Ope(n,i,a,l);return zpe(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ev(new Gp("auth-internal",e=>{const r=mm(e.getProvider("auth").getImmediate());return(n=>new vge(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ih(RM,DM,yge(t)),Ih(RM,DM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xge=5*60,wge=bH("authIdTokenMaxAge")||xge;let LM=null;const _ge=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>wge)return;const i=r==null?void 0:r.token;LM!==i&&(LM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Sge(t=NH()){const e=wO(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Vpe(t,{popupRedirectResolver:gge,persistence:[jme,mme,tG]}),n=bH("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=_ge(a.toString());cme(r,s,()=>s(r.currentUser)),lme(r,o=>s(o))}}const i=vH("auth");return i&&qpe(r,`http://${i}`),r}function Age(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Rpe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=wc("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Age().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bge("Browser");var Nge="firebase",Ege="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ih(Nge,Ege,"app");var MM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oh,lG;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,N){function k(){}k.prototype=N.prototype,j.F=N.prototype,j.prototype=new k,j.prototype.constructor=j,j.D=function(D,C,O){for(var L=Array(arguments.length-2),z=2;z<arguments.length;z++)L[z-2]=arguments[z];return N.prototype[C].apply(D,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,N,k){k||(k=0);const D=Array(16);if(typeof N=="string")for(var C=0;C<16;++C)D[C]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(C=0;C<16;++C)D[C]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=j.g[0],k=j.g[1],C=j.g[2];let O=j.g[3],L;L=N+(O^k&(C^O))+D[0]+3614090360&4294967295,N=k+(L<<7&4294967295|L>>>25),L=O+(C^N&(k^C))+D[1]+3905402710&4294967295,O=N+(L<<12&4294967295|L>>>20),L=C+(k^O&(N^k))+D[2]+606105819&4294967295,C=O+(L<<17&4294967295|L>>>15),L=k+(N^C&(O^N))+D[3]+3250441966&4294967295,k=C+(L<<22&4294967295|L>>>10),L=N+(O^k&(C^O))+D[4]+4118548399&4294967295,N=k+(L<<7&4294967295|L>>>25),L=O+(C^N&(k^C))+D[5]+1200080426&4294967295,O=N+(L<<12&4294967295|L>>>20),L=C+(k^O&(N^k))+D[6]+2821735955&4294967295,C=O+(L<<17&4294967295|L>>>15),L=k+(N^C&(O^N))+D[7]+4249261313&4294967295,k=C+(L<<22&4294967295|L>>>10),L=N+(O^k&(C^O))+D[8]+1770035416&4294967295,N=k+(L<<7&4294967295|L>>>25),L=O+(C^N&(k^C))+D[9]+2336552879&4294967295,O=N+(L<<12&4294967295|L>>>20),L=C+(k^O&(N^k))+D[10]+4294925233&4294967295,C=O+(L<<17&4294967295|L>>>15),L=k+(N^C&(O^N))+D[11]+2304563134&4294967295,k=C+(L<<22&4294967295|L>>>10),L=N+(O^k&(C^O))+D[12]+1804603682&4294967295,N=k+(L<<7&4294967295|L>>>25),L=O+(C^N&(k^C))+D[13]+4254626195&4294967295,O=N+(L<<12&4294967295|L>>>20),L=C+(k^O&(N^k))+D[14]+2792965006&4294967295,C=O+(L<<17&4294967295|L>>>15),L=k+(N^C&(O^N))+D[15]+1236535329&4294967295,k=C+(L<<22&4294967295|L>>>10),L=N+(C^O&(k^C))+D[1]+4129170786&4294967295,N=k+(L<<5&4294967295|L>>>27),L=O+(k^C&(N^k))+D[6]+3225465664&4294967295,O=N+(L<<9&4294967295|L>>>23),L=C+(N^k&(O^N))+D[11]+643717713&4294967295,C=O+(L<<14&4294967295|L>>>18),L=k+(O^N&(C^O))+D[0]+3921069994&4294967295,k=C+(L<<20&4294967295|L>>>12),L=N+(C^O&(k^C))+D[5]+3593408605&4294967295,N=k+(L<<5&4294967295|L>>>27),L=O+(k^C&(N^k))+D[10]+38016083&4294967295,O=N+(L<<9&4294967295|L>>>23),L=C+(N^k&(O^N))+D[15]+3634488961&4294967295,C=O+(L<<14&4294967295|L>>>18),L=k+(O^N&(C^O))+D[4]+3889429448&4294967295,k=C+(L<<20&4294967295|L>>>12),L=N+(C^O&(k^C))+D[9]+568446438&4294967295,N=k+(L<<5&4294967295|L>>>27),L=O+(k^C&(N^k))+D[14]+3275163606&4294967295,O=N+(L<<9&4294967295|L>>>23),L=C+(N^k&(O^N))+D[3]+4107603335&4294967295,C=O+(L<<14&4294967295|L>>>18),L=k+(O^N&(C^O))+D[8]+1163531501&4294967295,k=C+(L<<20&4294967295|L>>>12),L=N+(C^O&(k^C))+D[13]+2850285829&4294967295,N=k+(L<<5&4294967295|L>>>27),L=O+(k^C&(N^k))+D[2]+4243563512&4294967295,O=N+(L<<9&4294967295|L>>>23),L=C+(N^k&(O^N))+D[7]+1735328473&4294967295,C=O+(L<<14&4294967295|L>>>18),L=k+(O^N&(C^O))+D[12]+2368359562&4294967295,k=C+(L<<20&4294967295|L>>>12),L=N+(k^C^O)+D[5]+4294588738&4294967295,N=k+(L<<4&4294967295|L>>>28),L=O+(N^k^C)+D[8]+2272392833&4294967295,O=N+(L<<11&4294967295|L>>>21),L=C+(O^N^k)+D[11]+1839030562&4294967295,C=O+(L<<16&4294967295|L>>>16),L=k+(C^O^N)+D[14]+4259657740&4294967295,k=C+(L<<23&4294967295|L>>>9),L=N+(k^C^O)+D[1]+2763975236&4294967295,N=k+(L<<4&4294967295|L>>>28),L=O+(N^k^C)+D[4]+1272893353&4294967295,O=N+(L<<11&4294967295|L>>>21),L=C+(O^N^k)+D[7]+4139469664&4294967295,C=O+(L<<16&4294967295|L>>>16),L=k+(C^O^N)+D[10]+3200236656&4294967295,k=C+(L<<23&4294967295|L>>>9),L=N+(k^C^O)+D[13]+681279174&4294967295,N=k+(L<<4&4294967295|L>>>28),L=O+(N^k^C)+D[0]+3936430074&4294967295,O=N+(L<<11&4294967295|L>>>21),L=C+(O^N^k)+D[3]+3572445317&4294967295,C=O+(L<<16&4294967295|L>>>16),L=k+(C^O^N)+D[6]+76029189&4294967295,k=C+(L<<23&4294967295|L>>>9),L=N+(k^C^O)+D[9]+3654602809&4294967295,N=k+(L<<4&4294967295|L>>>28),L=O+(N^k^C)+D[12]+3873151461&4294967295,O=N+(L<<11&4294967295|L>>>21),L=C+(O^N^k)+D[15]+530742520&4294967295,C=O+(L<<16&4294967295|L>>>16),L=k+(C^O^N)+D[2]+3299628645&4294967295,k=C+(L<<23&4294967295|L>>>9),L=N+(C^(k|~O))+D[0]+4096336452&4294967295,N=k+(L<<6&4294967295|L>>>26),L=O+(k^(N|~C))+D[7]+1126891415&4294967295,O=N+(L<<10&4294967295|L>>>22),L=C+(N^(O|~k))+D[14]+2878612391&4294967295,C=O+(L<<15&4294967295|L>>>17),L=k+(O^(C|~N))+D[5]+4237533241&4294967295,k=C+(L<<21&4294967295|L>>>11),L=N+(C^(k|~O))+D[12]+1700485571&4294967295,N=k+(L<<6&4294967295|L>>>26),L=O+(k^(N|~C))+D[3]+2399980690&4294967295,O=N+(L<<10&4294967295|L>>>22),L=C+(N^(O|~k))+D[10]+4293915773&4294967295,C=O+(L<<15&4294967295|L>>>17),L=k+(O^(C|~N))+D[1]+2240044497&4294967295,k=C+(L<<21&4294967295|L>>>11),L=N+(C^(k|~O))+D[8]+1873313359&4294967295,N=k+(L<<6&4294967295|L>>>26),L=O+(k^(N|~C))+D[15]+4264355552&4294967295,O=N+(L<<10&4294967295|L>>>22),L=C+(N^(O|~k))+D[6]+2734768916&4294967295,C=O+(L<<15&4294967295|L>>>17),L=k+(O^(C|~N))+D[13]+1309151649&4294967295,k=C+(L<<21&4294967295|L>>>11),L=N+(C^(k|~O))+D[4]+4149444226&4294967295,N=k+(L<<6&4294967295|L>>>26),L=O+(k^(N|~C))+D[11]+3174756917&4294967295,O=N+(L<<10&4294967295|L>>>22),L=C+(N^(O|~k))+D[2]+718787259&4294967295,C=O+(L<<15&4294967295|L>>>17),L=k+(O^(C|~N))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(C+(L<<21&4294967295|L>>>11))&4294967295,j.g[2]=j.g[2]+C&4294967295,j.g[3]=j.g[3]+O&4294967295}n.prototype.v=function(j,N){N===void 0&&(N=j.length);const k=N-this.blockSize,D=this.C;let C=this.h,O=0;for(;O<N;){if(C==0)for(;O<=k;)i(this,j,O),O+=this.blockSize;if(typeof j=="string"){for(;O<N;)if(D[C++]=j.charCodeAt(O++),C==this.blockSize){i(this,D),C=0;break}}else for(;O<N;)if(D[C++]=j[O++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=N},n.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;N=this.o*8;for(var k=j.length-8;k<j.length;++k)j[k]=N&255,N/=256;for(this.v(j),j=Array(16),N=0,k=0;k<4;++k)for(let D=0;D<32;D+=8)j[N++]=this.g[k]>>>D&255;return j};function a(j,N){var k=o;return Object.prototype.hasOwnProperty.call(k,j)?k[j]:k[j]=N(j)}function s(j,N){this.h=N;const k=[];let D=!0;for(let C=j.length-1;C>=0;C--){const O=j[C]|0;D&&O==N||(k[C]=O,D=!1)}this.g=k}var o={};function l(j){return-128<=j&&j<128?a(j,function(N){return new s([N|0],N<0?-1:0)}):new s([j|0],j<0?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return h;if(j<0)return g(u(-j));const N=[];let k=1;for(let D=0;j>=k;D++)N[D]=j/k|0,k*=4294967296;return new s(N,0)}function d(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return g(d(j.substring(1),N));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=u(Math.pow(N,8));let D=h;for(let O=0;O<j.length;O+=8){var C=Math.min(8,j.length-O);const L=parseInt(j.substring(O,O+C),N);C<8?(C=u(Math.pow(N,C)),D=D.j(C).add(u(L))):(D=D.j(k),D=D.add(u(L)))}return D}var h=l(0),p=l(1),f=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-g(this).m();let j=0,N=1;for(let k=0;k<this.g.length;k++){const D=this.i(k);j+=(D>=0?D:4294967296+D)*N,N*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(v(this))return"0";if(m(this))return"-"+g(this).toString(j);const N=u(Math.pow(j,6));var k=this;let D="";for(;;){const C=A(k,N).g;k=y(k,C.j(N));let O=((k.g.length>0?k.g[0]:k.h)>>>0).toString(j);if(k=C,v(k))return O+D;for(;O.length<6;)O="0"+O;D=O+D}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function v(j){if(j.h!=0)return!1;for(let N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function m(j){return j.h==-1}t.l=function(j){return j=y(this,j),m(j)?-1:v(j)?0:1};function g(j){const N=j.g.length,k=[];for(let D=0;D<N;D++)k[D]=~j.g[D];return new s(k,~j.h).add(p)}t.abs=function(){return m(this)?g(this):this},t.add=function(j){const N=Math.max(this.g.length,j.g.length),k=[];let D=0;for(let C=0;C<=N;C++){let O=D+(this.i(C)&65535)+(j.i(C)&65535),L=(O>>>16)+(this.i(C)>>>16)+(j.i(C)>>>16);D=L>>>16,O&=65535,L&=65535,k[C]=L<<16|O}return new s(k,k[k.length-1]&-2147483648?-1:0)};function y(j,N){return j.add(g(N))}t.j=function(j){if(v(this)||v(j))return h;if(m(this))return m(j)?g(this).j(g(j)):g(g(this).j(j));if(m(j))return g(this.j(g(j)));if(this.l(f)<0&&j.l(f)<0)return u(this.m()*j.m());const N=this.g.length+j.g.length,k=[];for(var D=0;D<2*N;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(let C=0;C<j.g.length;C++){const O=this.i(D)>>>16,L=this.i(D)&65535,z=j.i(C)>>>16,re=j.i(C)&65535;k[2*D+2*C]+=L*re,x(k,2*D+2*C),k[2*D+2*C+1]+=O*re,x(k,2*D+2*C+1),k[2*D+2*C+1]+=L*z,x(k,2*D+2*C+1),k[2*D+2*C+2]+=O*z,x(k,2*D+2*C+2)}for(j=0;j<N;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=N;j<2*N;j++)k[j]=0;return new s(k,0)};function x(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function _(j,N){this.g=j,this.h=N}function A(j,N){if(v(N))throw Error("division by zero");if(v(j))return new _(h,h);if(m(j))return N=A(g(j),N),new _(g(N.g),g(N.h));if(m(N))return N=A(j,g(N)),new _(g(N.g),N.h);if(j.g.length>30){if(m(j)||m(N))throw Error("slowDivide_ only works with positive integers.");for(var k=p,D=N;D.l(j)<=0;)k=E(k),D=E(D);var C=I(k,1),O=I(D,1);for(D=I(D,2),k=I(k,2);!v(D);){var L=O.add(D);L.l(j)<=0&&(C=C.add(k),O=L),D=I(D,1),k=I(k,1)}return N=y(j,C.j(N)),new _(C,N)}for(C=h;j.l(N)>=0;){for(k=Math.max(1,Math.floor(j.m()/N.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),O=u(k),L=O.j(N);m(L)||L.l(j)>0;)k-=D,O=u(k),L=O.j(N);v(O)&&(O=p),C=C.add(O),j=y(j,L)}return new _(C,j)}t.B=function(j){return A(this,j).h},t.and=function(j){const N=Math.max(this.g.length,j.g.length),k=[];for(let D=0;D<N;D++)k[D]=this.i(D)&j.i(D);return new s(k,this.h&j.h)},t.or=function(j){const N=Math.max(this.g.length,j.g.length),k=[];for(let D=0;D<N;D++)k[D]=this.i(D)|j.i(D);return new s(k,this.h|j.h)},t.xor=function(j){const N=Math.max(this.g.length,j.g.length),k=[];for(let D=0;D<N;D++)k[D]=this.i(D)^j.i(D);return new s(k,this.h^j.h)};function E(j){const N=j.g.length+1,k=[];for(let D=0;D<N;D++)k[D]=j.i(D)<<1|j.i(D-1)>>>31;return new s(k,j.h)}function I(j,N){const k=N>>5;N%=32;const D=j.g.length-k,C=[];for(let O=0;O<D;O++)C[O]=N>0?j.i(O+k)>>>N|j.i(O+k+1)<<32-N:j.i(O+k);return new s(C,j.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,lG=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Oh=s}).apply(typeof MM<"u"?MM:typeof self<"u"?self:typeof window<"u"?window:{});var e2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cG,X0,uG,i_,xC,dG,hG,fG;(function(){var t,e=Object.defineProperty;function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof e2=="object"&&e2];for(var $=0;$<w.length;++$){var U=w[$];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var n=r(this);function i(w,$){if($)e:{var U=n;w=w.split(".");for(var se=0;se<w.length-1;se++){var Pe=w[se];if(!(Pe in U))break e;U=U[Pe]}w=w[w.length-1],se=U[w],$=$(se),$!=se&&$!=null&&e(U,w,{configurable:!0,writable:!0,value:$})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function($){var U=[],se;for(se in $)Object.prototype.hasOwnProperty.call($,se)&&U.push([se,$[se]]);return U}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(w){var $=typeof w;return $=="object"&&w!=null||$=="function"}function l(w,$,U){return w.call.apply(w.bind,arguments)}function u(w,$,U){return u=l,u.apply(null,arguments)}function d(w,$){var U=Array.prototype.slice.call(arguments,1);return function(){var se=U.slice();return se.push.apply(se,arguments),w.apply(this,se)}}function h(w,$){function U(){}U.prototype=$.prototype,w.Z=$.prototype,w.prototype=new U,w.prototype.constructor=w,w.Ob=function(se,Pe,Re){for(var nt=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)nt[Qt-2]=arguments[Qt];return $.prototype[Pe].apply(se,nt)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function f(w){const $=w.length;if($>0){const U=Array($);for(let se=0;se<$;se++)U[se]=w[se];return U}return[]}function v(w,$){for(let se=1;se<arguments.length;se++){const Pe=arguments[se];var U=typeof Pe;if(U=U!="object"?U:Pe?Array.isArray(Pe)?"array":U:"null",U=="array"||U=="object"&&typeof Pe.length=="number"){U=w.length||0;const Re=Pe.length||0;w.length=U+Re;for(let nt=0;nt<Re;nt++)w[U+nt]=Pe[nt]}else w.push(Pe)}}class m{constructor($,U){this.i=$,this.j=U,this.h=0,this.g=null}get(){let $;return this.h>0?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function g(w){s.setTimeout(()=>{throw w},0)}function y(){var w=j;let $=null;return w.g&&($=w.g,w.g=w.g.next,w.g||(w.h=null),$.next=null),$}class x{constructor(){this.h=this.g=null}add($,U){const se=_.get();se.set($,U),this.h?this.h.next=se:this.g=se,this.h=se}}var _=new m(()=>new A,w=>w.reset());class A{constructor(){this.next=this.g=this.h=null}set($,U){this.h=$,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let E,I=!1,j=new x,N=()=>{const w=Promise.resolve(void 0);E=()=>{w.then(k)}};function k(){for(var w;w=y();){try{w.h.call(w.g)}catch(U){g(U)}var $=_;$.j(w),$.h<100&&($.h++,w.next=$.g,$.g=w)}I=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(w,$){this.type=w,this.g=this.target=$,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var w=!1,$=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const U=()=>{};s.addEventListener("test",U,$),s.removeEventListener("test",U,$)}catch{}return w}();function L(w){return/^[\s\xa0]*$/.test(w)}function z(w,$){C.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,$)}h(z,C),z.prototype.init=function(w,$){const U=this.type=w.type,se=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=$,$=w.relatedTarget,$||(U=="mouseover"?$=w.fromElement:U=="mouseout"&&($=w.toElement)),this.relatedTarget=$,se?(this.clientX=se.clientX!==void 0?se.clientX:se.pageX,this.clientY=se.clientY!==void 0?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),Y=0;function K(w,$,U,se,Pe){this.listener=w,this.proxy=null,this.src=$,this.type=U,this.capture=!!se,this.ha=Pe,this.key=++Y,this.da=this.fa=!1}function q(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Z(w,$,U){for(const se in w)$.call(U,w[se],se,w)}function ve(w,$){for(const U in w)$.call(void 0,w[U],U,w)}function ce(w){const $={};for(const U in w)$[U]=w[U];return $}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(w,$){let U,se;for(let Pe=1;Pe<arguments.length;Pe++){se=arguments[Pe];for(U in se)w[U]=se[U];for(let Re=0;Re<F.length;Re++)U=F[Re],Object.prototype.hasOwnProperty.call(se,U)&&(w[U]=se[U])}}function G(w){this.src=w,this.g={},this.h=0}G.prototype.add=function(w,$,U,se,Pe){const Re=w.toString();w=this.g[Re],w||(w=this.g[Re]=[],this.h++);const nt=J(w,$,se,Pe);return nt>-1?($=w[nt],U||($.fa=!1)):($=new K($,this.src,Re,!!se,Pe),$.fa=U,w.push($)),$};function oe(w,$){const U=$.type;if(U in w.g){var se=w.g[U],Pe=Array.prototype.indexOf.call(se,$,void 0),Re;(Re=Pe>=0)&&Array.prototype.splice.call(se,Pe,1),Re&&(q($),w.g[U].length==0&&(delete w.g[U],w.h--))}}function J(w,$,U,se){for(let Pe=0;Pe<w.length;++Pe){const Re=w[Pe];if(!Re.da&&Re.listener==$&&Re.capture==!!U&&Re.ha==se)return Pe}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),be={};function he(w,$,U,se,Pe){if(Array.isArray($)){for(let Re=0;Re<$.length;Re++)he(w,$[Re],U,se,Pe);return null}return U=Le(U),w&&w[re]?w.J($,U,o(se)?!!se.capture:!!se,Pe):P(w,$,U,!1,se,Pe)}function P(w,$,U,se,Pe,Re){if(!$)throw Error("Invalid event type");const nt=o(Pe)?!!Pe.capture:!!Pe;let Qt=Ae(w);if(Qt||(w[ie]=Qt=new G(w)),U=Qt.add($,U,se,nt,Re),U.proxy)return U;if(se=X(),U.proxy=se,se.src=w,se.listener=U,w.addEventListener)O||(Pe=nt),Pe===void 0&&(Pe=!1),w.addEventListener($.toString(),se,Pe);else if(w.attachEvent)w.attachEvent(ge($.toString()),se);else if(w.addListener&&w.removeListener)w.addListener(se);else throw Error("addEventListener and attachEvent are unavailable.");return U}function X(){function w(U){return $.call(w.src,w.listener,U)}const $=ee;return w}function ne(w,$,U,se,Pe){if(Array.isArray($))for(var Re=0;Re<$.length;Re++)ne(w,$[Re],U,se,Pe);else se=o(se)?!!se.capture:!!se,U=Le(U),w&&w[re]?(w=w.i,Re=String($).toString(),Re in w.g&&($=w.g[Re],U=J($,U,se,Pe),U>-1&&(q($[U]),Array.prototype.splice.call($,U,1),$.length==0&&(delete w.g[Re],w.h--)))):w&&(w=Ae(w))&&($=w.g[$.toString()],w=-1,$&&(w=J($,U,se,Pe)),(U=w>-1?$[w]:null)&&de(U))}function de(w){if(typeof w!="number"&&w&&!w.da){var $=w.src;if($&&$[re])oe($.i,w);else{var U=w.type,se=w.proxy;$.removeEventListener?$.removeEventListener(U,se,w.capture):$.detachEvent?$.detachEvent(ge(U),se):$.addListener&&$.removeListener&&$.removeListener(se),(U=Ae($))?(oe(U,w),U.h==0&&(U.src=null,$[ie]=null)):q(w)}}}function ge(w){return w in be?be[w]:be[w]="on"+w}function ee(w,$){if(w.da)w=!0;else{$=new z($,this);const U=w.listener,se=w.ha||w.src;w.fa&&de(w),w=U.call(se,$)}return w}function Ae(w){return w=w[ie],w instanceof G?w:null}var De="__closure_events_fn_"+(Math.random()*1e9>>>0);function Le(w){return typeof w=="function"?w:(w[De]||(w[De]=function($){return w.handleEvent($)}),w[De])}function _e(){D.call(this),this.i=new G(this),this.M=this,this.G=null}h(_e,D),_e.prototype[re]=!0,_e.prototype.removeEventListener=function(w,$,U,se){ne(this,w,$,U,se)};function ke(w,$){var U,se=w.G;if(se)for(U=[];se;se=se.G)U.push(se);if(w=w.M,se=$.type||$,typeof $=="string")$=new C($,w);else if($ instanceof C)$.target=$.target||w;else{var Pe=$;$=new C(se,w),V($,Pe)}Pe=!0;let Re,nt;if(U)for(nt=U.length-1;nt>=0;nt--)Re=$.g=U[nt],Pe=je(Re,se,!0,$)&&Pe;if(Re=$.g=w,Pe=je(Re,se,!0,$)&&Pe,Pe=je(Re,se,!1,$)&&Pe,U)for(nt=0;nt<U.length;nt++)Re=$.g=U[nt],Pe=je(Re,se,!1,$)&&Pe}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var w=this.i;for(const $ in w.g){const U=w.g[$];for(let se=0;se<U.length;se++)q(U[se]);delete w.g[$],w.h--}}this.G=null},_e.prototype.J=function(w,$,U,se){return this.i.add(String(w),$,!1,U,se)},_e.prototype.K=function(w,$,U,se){return this.i.add(String(w),$,!0,U,se)};function je(w,$,U,se){if($=w.i.g[String($)],!$)return!0;$=$.concat();let Pe=!0;for(let Re=0;Re<$.length;++Re){const nt=$[Re];if(nt&&!nt.da&&nt.capture==U){const Qt=nt.listener,vn=nt.ha||nt.src;nt.fa&&oe(w.i,nt),Pe=Qt.call(vn,se)!==!1&&Pe}}return Pe&&!se.defaultPrevented}function Me(w,$){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=u(w.handleEvent,w);else throw Error("Invalid listener argument");return Number($)>2147483647?-1:s.setTimeout(w,$||0)}function et(w){w.g=Me(()=>{w.g=null,w.i&&(w.i=!1,et(w))},w.l);const $=w.h;w.h=null,w.m.apply(null,$)}class Yt extends D{constructor($,U){super(),this.m=$,this.l=U,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(w){D.call(this),this.h=w,this.g={}}h(Nt,D);var ut=[];function Lt(w){Z(w.g,function($,U){this.g.hasOwnProperty(U)&&de($)},w),w.g={}}Nt.prototype.N=function(){Nt.Z.N.call(this),Lt(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=s.JSON.stringify,Ee=s.JSON.parse,Ye=class{stringify(w){return s.JSON.stringify(w,void 0)}parse(w){return s.JSON.parse(w,void 0)}};function Ze(){}function ct(){}var lt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rt(){C.call(this,"d")}h(rt,C);function Ce(){C.call(this,"c")}h(Ce,C);var Ct={},yt=null;function er(){return yt=yt||new _e}Ct.Ia="serverreachability";function Bt(w){C.call(this,Ct.Ia,w)}h(Bt,C);function Vr(w){const $=er();ke($,new Bt($))}Ct.STAT_EVENT="statevent";function hn(w,$){C.call(this,Ct.STAT_EVENT,w),this.stat=$}h(hn,C);function Mt(w){const $=er();ke($,new hn($,w))}Ct.Ja="timingevent";function _t(w,$){C.call(this,Ct.Ja,w),this.size=$}h(_t,C);function Ut(w,$){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){w()},$)}function bt(){this.g=!0}bt.prototype.ua=function(){this.g=!1};function Tt(w,$,U,se,Pe,Re){w.info(function(){if(w.g)if(Re){var nt="",Qt=Re.split("&");for(let xr=0;xr<Qt.length;xr++){var vn=Qt[xr].split("=");if(vn.length>1){const Nn=vn[0];vn=vn[1];const Gi=Nn.split("_");nt=Gi.length>=2&&Gi[1]=="type"?nt+(Nn+"="+vn+"&"):nt+(Nn+"=redacted&")}}}else nt=null;else nt=Re;return"XMLHTTP REQ ("+se+") [attempt "+Pe+"]: "+$+`
`+U+`
`+nt})}function lr(w,$,U,se,Pe,Re,nt){w.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+Pe+"]: "+$+`
`+U+`
`+Re+" "+nt})}function cr(w,$,U,se){w.info(function(){return"XMLHTTP TEXT ("+$+"): "+Qn(w,U)+(se?" "+se:"")})}function ot(w,$){w.info(function(){return"TIMEOUT: "+$})}bt.prototype.info=function(){};function Qn(w,$){if(!w.g)return $;if(!$)return null;try{const Re=JSON.parse($);if(Re){for(w=0;w<Re.length;w++)if(Array.isArray(Re[w])){var U=Re[w];if(!(U.length<2)){var se=U[1];if(Array.isArray(se)&&!(se.length<1)){var Pe=se[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(let nt=1;nt<se.length;nt++)se[nt]=""}}}}return vt(Re)}catch{return $}}var Rn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ln;function Jr(){}h(Jr,Ze),Jr.prototype.g=function(){return new XMLHttpRequest},ln=new Jr;function fn(w){return encodeURIComponent(String(w))}function St(w){var $=1;w=w.split(":");const U=[];for(;$>0&&w.length;)U.push(w.shift()),$--;return w.length&&U.push(w.join(":")),U}function tr(w,$,U,se){this.j=w,this.i=$,this.l=U,this.S=se||1,this.V=new Nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}var yr={},cn={};function un(w,$,U){w.M=1,w.A=ga(Wr($)),w.u=U,w.R=!0,Dn(w,null)}function Dn(w,$){w.F=Date.now(),vo(w),w.B=Wr(w.A);var U=w.B,se=w.S;Array.isArray(se)||(se=[String(se)]),Im(U.i,"t",se),w.C=0,U=w.j.L,w.h=new Ar,w.g=ft(w.j,U?$:null,!w.u),w.P>0&&(w.O=new Yt(u(w.Y,w,w.g),w.P)),$=w.V,U=w.g,se=w.ba;var Pe="readystatechange";Array.isArray(Pe)||(Pe&&(ut[0]=Pe.toString()),Pe=ut);for(let Re=0;Re<Pe.length;Re++){const nt=he(U,Pe[Re],se||$.handleEvent,!1,$.h||$);if(!nt)break;$.g[nt.key]=nt}$=w.J?ce(w.J):{},w.u?(w.v||(w.v="POST"),$["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,$)):(w.v="GET",w.g.ea(w.B,w.v,null,$)),Vr(),Tt(w.i,w.v,w.B,w.l,w.S,w.u)}tr.prototype.ba=function(w){w=w.target;const $=this.O;$&&us(w)==3?$.j():this.Y(w)},tr.prototype.Y=function(w){try{if(w==this.g)e:{const Qt=us(this.g),vn=this.g.ya(),xr=this.g.ca();if(!(Qt<3)&&(Qt!=3||this.g&&(this.h.h||this.g.la()||md(this.g)))){this.K||Qt!=4||vn==7||(vn==8||xr<=0?Vr(3):Vr(2)),Ul(this);var $=this.g.ca();this.X=$;var U=pn(this);if(this.o=$==200,lr(this.i,this.v,this.B,this.l,this.S,Qt,$),this.o){if(this.U&&!this.L){t:{if(this.g){var se,Pe=this.g;if((se=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(se)){var Re=se;break t}}Re=null}if(w=Re)cr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vc(this,w);else{this.o=!1,this.m=3,Mt(12),tl(this),yo(this);break e}}if(this.R){w=!0;let Nn;for(;!this.K&&this.C<U.length;)if(Nn=Wn(this,U),Nn==cn){Qt==4&&(this.m=4,Mt(14),w=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==yr){this.m=4,Mt(15),cr(this.i,this.l,U,"[Invalid Chunk]"),w=!1;break}else cr(this.i,this.l,Nn,null),Vc(this,Nn);if(Lr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||U.length!=0||this.h.h||(this.m=1,Mt(16),w=!1),this.o=this.o&&w,!w)cr(this.i,this.l,U,"[Invalid Chunked Response]"),tl(this),yo(this);else if(U.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),vd(nt),nt.P=!0,Mt(11))}}else cr(this.i,this.l,U,null),Vc(this,U);Qt==4&&tl(this),this.o&&!this.K&&(Qt==4?fe(this.j,this):(this.o=!1,vo(this)))}else Kc(this.g),$==400&&U.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),tl(this),yo(this)}}}catch{}finally{}};function pn(w){if(!Lr(w))return w.g.la();const $=md(w.g);if($==="")return"";let U="";const se=$.length,Pe=us(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return tl(w),yo(w),"";w.h.i=new s.TextDecoder}for(let Re=0;Re<se;Re++)w.h.h=!0,U+=w.h.i.decode($[Re],{stream:!(Pe&&Re==se-1)});return $.length=0,w.h.g+=U,w.C=0,w.h.g}function Lr(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function Wn(w,$){var U=w.C,se=$.indexOf(`
`,U);return se==-1?cn:(U=Number($.substring(U,se)),isNaN(U)?yr:(se+=1,se+U>$.length?cn:($=$.slice(se,se+U),w.C=se+U,$)))}tr.prototype.cancel=function(){this.K=!0,tl(this)};function vo(w){w.T=Date.now()+w.H,Uc(w,w.H)}function Uc(w,$){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Ut(u(w.aa,w),$)}function Ul(w){w.D&&(s.clearTimeout(w.D),w.D=null)}tr.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(ot(this.i,this.B),this.M!=2&&(Vr(),Mt(17)),tl(this),this.m=2,yo(this)):Uc(this,this.T-w)};function yo(w){w.j.I==0||w.K||fe(w.j,w)}function tl(w){Ul(w);var $=w.O;$&&typeof $.dispose=="function"&&$.dispose(),w.O=null,Lt(w.V),w.g&&($=w.g,w.g=null,$.abort(),$.dispose())}function Vc(w,$){try{var U=w.j;if(U.I!=0&&(U.g==w||ld(U.h,w))){if(!w.L&&ld(U.h,w)&&U.I==3){try{var se=U.Ba.g.parse($)}catch{se=null}if(Array.isArray(se)&&se.length==3){var Pe=se;if(Pe[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<w.F)W(U),Kl(U);else break e;rl(U),Mt(18)}}else U.xa=Pe[1],0<U.xa-U.K&&Pe[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=Ut(u(U.Va,U),6e3));od(U.h)<=1&&U.ta&&(U.ta=void 0)}else Ne(U,11)}else if((w.L||U.g==w)&&W(U),!L($))for(Pe=U.Ba.g.parse($),$=0;$<Pe.length;$++){let xr=Pe[$];const Nn=xr[0];if(!(Nn<=U.K))if(U.K=Nn,xr=xr[1],U.I==2)if(xr[0]=="c"){U.M=xr[1],U.ba=xr[2];const Gi=xr[3];Gi!=null&&(U.ka=Gi,U.j.info("VER="+U.ka));const Va=xr[4];Va!=null&&(U.za=Va,U.j.info("SVER="+U.za));const Ln=xr[5];Ln!=null&&typeof Ln=="number"&&Ln>0&&(se=1.5*Ln,U.O=se,U.j.info("backChannelRequestTimeoutMs_="+se)),se=U;const ya=w.g;if(ya){const So=ya.g?ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var Re=se.h;Re.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(zc(Re,Re.h),Re.h=null))}if(se.G){const Xc=ya.g?ya.g.getResponseHeader("X-HTTP-Session-Id"):null;Xc&&(se.wa=Xc,Mr(se.J,se.G,Xc))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-w.F,U.j.info("Handshake RTT: "+U.T+"ms")),se=U;var nt=w;if(se.na=He(se,se.L?se.ba:null,se.W),nt.L){Pf(se.h,nt);var Qt=nt,vn=se.O;vn&&(Qt.H=vn),Qt.D&&(Ul(Qt),vo(Qt)),se.g=nt}else Lf(se);U.i.length>0&&Yc(U)}else xr[0]!="stop"&&xr[0]!="close"||Ne(U,7);else U.I==3&&(xr[0]=="stop"||xr[0]=="close"?xr[0]=="stop"?Ne(U,7):Gl(U):xr[0]!="noop"&&U.l&&U.l.qa(xr),U.A=0)}}Vr(4)}catch{}}var jm=class{constructor(w,$){this.g=w,this.map=$}};function jf(w){this.l=w||10,s.PerformanceNavigationTiming?(w=s.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fa(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function od(w){return w.h?1:w.g?w.g.size:0}function ld(w,$){return w.h?w.h==$:w.g?w.g.has($):!1}function zc(w,$){w.g?w.g.add($):w.h=$}function Pf(w,$){w.h&&w.h==$?w.h=null:w.g&&w.g.has($)&&w.g.delete($)}jf.prototype.cancel=function(){if(this.i=Tf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Tf(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let $=w.i;for(const U of w.g.values())$=$.concat(U.G);return $}return f(w.i)}var Cf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(w,$){if(w){w=w.split("&");for(let U=0;U<w.length;U++){const se=w[U].indexOf("=");let Pe,Re=null;se>=0?(Pe=w[U].substring(0,se),Re=w[U].substring(se+1)):Pe=w[U],$(Pe,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function bo(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let $;w instanceof bo?(this.l=w.l,Vl(this,w.j),this.o=w.o,this.g=w.g,zl(this,w.u),this.h=w.h,Ls(this,dd(w.i)),this.m=w.m):w&&($=String(w).match(Cf))?(this.l=!1,Vl(this,$[1]||"",!0),this.o=Ms($[2]||""),this.g=Ms($[3]||"",!0),zl(this,$[4]),this.h=Ms($[5]||"",!0),Ls(this,$[6]||"",!0),this.m=Ms($[7]||"")):(this.l=!1,this.i=new ql(null,this.l))}bo.prototype.toString=function(){const w=[];var $=this.j;$&&w.push(mn($,Pm,!0),":");var U=this.g;return(U||$=="file")&&(w.push("//"),($=this.o)&&w.push(mn($,Pm,!0),"@"),w.push(fn(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&w.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&w.push("/"),w.push(mn(U,U.charAt(0)=="/"?Zy:Jy,!0))),(U=this.i.toString())&&w.push("?",U),(U=this.m)&&w.push("#",mn(U,Tm)),w.join("")},bo.prototype.resolve=function(w){const $=Wr(this);let U=!!w.j;U?Vl($,w.j):U=!!w.o,U?$.o=w.o:U=!!w.g,U?$.g=w.g:U=w.u!=null;var se=w.h;if(U)zl($,w.u);else if(U=!!w.h){if(se.charAt(0)!="/")if(this.g&&!this.h)se="/"+se;else{var Pe=$.h.lastIndexOf("/");Pe!=-1&&(se=$.h.slice(0,Pe+1)+se)}if(Pe=se,Pe==".."||Pe==".")se="";else if(Pe.indexOf("./")!=-1||Pe.indexOf("/.")!=-1){se=Pe.lastIndexOf("/",0)==0,Pe=Pe.split("/");const Re=[];for(let nt=0;nt<Pe.length;){const Qt=Pe[nt++];Qt=="."?se&&nt==Pe.length&&Re.push(""):Qt==".."?((Re.length>1||Re.length==1&&Re[0]!="")&&Re.pop(),se&&nt==Pe.length&&Re.push("")):(Re.push(Qt),se=!0)}se=Re.join("/")}else se=Pe}return U?$.h=se:U=w.i.toString()!=="",U?Ls($,dd(w.i)):U=!!w.m,U&&($.m=w.m),$};function Wr(w){return new bo(w)}function Vl(w,$,U){w.j=U?Ms($,!0):$,w.j&&(w.j=w.j.replace(/:$/,""))}function zl(w,$){if($){if($=Number($),isNaN($)||$<0)throw Error("Bad port number "+$);w.u=$}else w.u=null}function Ls(w,$,U){$ instanceof ql?(w.i=$,Wl(w.i,w.l)):(U||($=mn($,xo)),w.i=new ql($,w.l))}function Mr(w,$,U){w.i.set($,U)}function ga(w){return Mr(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function Ms(w,$){return w?$?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function mn(w,$,U){return typeof w=="string"?(w=encodeURI(w).replace($,kf),U&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function kf(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Pm=/[#\/\?@]/g,Jy=/[#\?:]/g,Zy=/[#\?]/g,xo=/[#\?@]/g,Tm=/#/g;function ql(w,$){this.h=this.g=null,this.i=w||null,this.j=!!$}function va(w){w.g||(w.g=new Map,w.h=0,w.i&&cd(w.i,function($,U){w.add(decodeURIComponent($.replace(/\+/g," ")),U)}))}t=ql.prototype,t.add=function(w,$){va(this),this.i=null,w=ls(this,w);let U=this.g.get(w);return U||this.g.set(w,U=[]),U.push($),this.h+=1,this};function ud(w,$){va(w),$=ls(w,$),w.g.has($)&&(w.i=null,w.h-=w.g.get($).length,w.g.delete($))}function Cm(w,$){return va(w),$=ls(w,$),w.g.has($)}t.forEach=function(w,$){va(this),this.g.forEach(function(U,se){U.forEach(function(Pe){w.call($,Pe,se,this)},this)},this)};function km(w,$){va(w);let U=[];if(typeof $=="string")Cm(w,$)&&(U=U.concat(w.g.get(ls(w,$))));else for(w=Array.from(w.g.values()),$=0;$<w.length;$++)U=U.concat(w[$]);return U}t.set=function(w,$){return va(this),this.i=null,w=ls(this,w),Cm(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[$]),this.h+=1,this},t.get=function(w,$){return w?(w=km(this,w),w.length>0?String(w[0]):$):$};function Im(w,$,U){ud(w,$),U.length>0&&(w.i=null,w.g.set(ls(w,$),f(U)),w.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],$=Array.from(this.g.keys());for(let se=0;se<$.length;se++){var U=$[se];const Pe=fn(U);U=km(this,U);for(let Re=0;Re<U.length;Re++){let nt=Pe;U[Re]!==""&&(nt+="="+fn(U[Re])),w.push(nt)}}return this.i=w.join("&")};function dd(w){const $=new ql;return $.i=w.i,w.g&&($.g=new Map(w.g),$.h=w.h),$}function ls(w,$){return $=String($),w.j&&($=$.toLowerCase()),$}function Wl(w,$){$&&!w.j&&(va(w),w.i=null,w.g.forEach(function(U,se){const Pe=se.toLowerCase();se!=Pe&&(ud(this,se),Im(this,Pe,U))},w)),w.j=$}function e0(w,$){const U=new bt;if(s.Image){const se=new Image;se.onload=d(cs,U,"TestLoadImage: loaded",!0,$,se),se.onerror=d(cs,U,"TestLoadImage: error",!1,$,se),se.onabort=d(cs,U,"TestLoadImage: abort",!1,$,se),se.ontimeout=d(cs,U,"TestLoadImage: timeout",!1,$,se),s.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=w}else $(!1)}function qc(w,$){const U=new bt,se=new AbortController,Pe=setTimeout(()=>{se.abort(),cs(U,"TestPingServer: timeout",!1,$)},1e4);fetch(w,{signal:se.signal}).then(Re=>{clearTimeout(Pe),Re.ok?cs(U,"TestPingServer: ok",!0,$):cs(U,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(Pe),cs(U,"TestPingServer: error",!1,$)})}function cs(w,$,U,se,Pe){try{Pe&&(Pe.onload=null,Pe.onerror=null,Pe.onabort=null,Pe.ontimeout=null),se(U)}catch{}}function Xt(){this.g=new Ye}function If(w){this.i=w.Sb||null,this.h=w.ab||!1}h(If,Ze),If.prototype.g=function(){return new hd(this.i,this.h)};function hd(w,$){_e.call(this),this.H=w,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(hd,_e),t=hd.prototype,t.open=function(w,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=$,this.readyState=1,Ba(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const $={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&($.body=w),(this.H||s).fetch(new Request(this.D,$)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wc(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Om(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function Om(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var $=w.value?w.value:new Uint8Array(0);($=this.B.decode($,{stream:!w.done}))&&(this.response=this.responseText+=$)}w.done?Wc(this):Ba(this),this.readyState==3&&Om(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,Wc(this))},t.Na=function(w){this.g&&(this.response=w,Wc(this))},t.ga=function(){this.g&&Wc(this)};function Wc(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Ba(w)}t.setRequestHeader=function(w,$){this.A.append(w,$)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],$=this.h.entries();for(var U=$.next();!U.done;)U=U.value,w.push(U[0]+": "+U[1]),U=$.next();return w.join(`\r
`)};function Ba(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function wo(w){let $="";return Z(w,function(U,se){$+=se,$+=":",$+=U,$+=`\r
`}),$}function Of(w,$,U){e:{for(se in U){var se=!1;break e}se=!0}se||(U=wo(U),typeof w=="string"?U!=null&&fn(U):Mr(w,$,U))}function Sn(w){_e.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Sn,_e);var fd=/^https?$/i,Rf=["POST","PUT"];t=Sn.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,$,U,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);$=$?$.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ln.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open($,String(w),!0),this.B=!1}catch(Re){Hl(this,Re);return}if(w=U||"",U=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var Pe in se)U.set(Pe,se[Pe]);else if(typeof se.keys=="function"&&typeof se.get=="function")for(const Re of se.keys())U.set(Re,se.get(Re));else throw Error("Unknown input type for opt_headers: "+String(se));se=Array.from(U.keys()).find(Re=>Re.toLowerCase()=="content-type"),Pe=s.FormData&&w instanceof s.FormData,!(Array.prototype.indexOf.call(Rf,$,void 0)>=0)||se||Pe||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,nt]of U)this.g.setRequestHeader(Re,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(Re){Hl(this,Re)}};function Hl(w,$){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=$,w.o=5,Hc(w),pd(w)}function Hc(w){w.A||(w.A=!0,ke(w,"complete"),ke(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,ke(this,"complete"),ke(this,"abort"),pd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pd(this,!0)),Sn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Gc(this):this.Xa())},t.Xa=function(){Gc(this)};function Gc(w){if(w.h&&typeof a<"u"){if(w.v&&us(w)==4)setTimeout(w.Ca.bind(w),0);else if(ke(w,"readystatechange"),us(w)==4){w.h=!1;try{const Re=w.ca();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var U;if(!(U=$)){var se;if(se=Re===0){let nt=String(w.D).match(Cf)[1]||null;!nt&&s.self&&s.self.location&&(nt=s.self.location.protocol.slice(0,-1)),se=!fd.test(nt?nt.toLowerCase():"")}U=se}if(U)ke(w,"complete"),ke(w,"success");else{w.o=6;try{var Pe=us(w)>2?w.g.statusText:""}catch{Pe=""}w.l=Pe+" ["+w.ca()+"]",Hc(w)}}finally{pd(w)}}}}function pd(w,$){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const U=w.g;w.g=null,$||ke(w,"ready");try{U.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function us(w){return w.g?w.g.readyState:0}t.ca=function(){try{return us(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var $=this.g.responseText;return w&&$.indexOf(w)==0&&($=$.substring(w.length)),Ee($)}};function md(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Kc(w){const $={};w=(w.g&&us(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let se=0;se<w.length;se++){if(L(w[se]))continue;var U=St(w[se]);const Pe=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Re=$[Pe]||[];$[Pe]=Re,Re.push(U)}ve($,function(se){return se.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(w,$,U){return U&&U.internalChannelParams&&U.internalChannelParams[w]||$}function gd(w){this.za=0,this.i=[],this.j=new bt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$s("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$s("baseRetryDelayMs",5e3,w),this.Za=$s("retryDelaySeedMs",1e4,w),this.Ta=$s("forwardChannelMaxRetries",2,w),this.va=$s("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new jf(w&&w.concurrentRequestLimit),this.Ba=new Xt,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gd.prototype,t.ka=8,t.I=1,t.connect=function(w,$,U,se){Mt(0),this.W=w,this.H=$||{},U&&se!==void 0&&(this.H.OSID=U,this.H.OAID=se),this.F=this.X,this.J=He(this,null,this.W),Yc(this)};function Gl(w){if(Yl(w),w.I==3){var $=w.V++,U=Wr(w.J);if(Mr(U,"SID",w.M),Mr(U,"RID",$),Mr(U,"TYPE","terminate"),Ua(w,U),$=new tr(w,w.j,$),$.M=2,$.A=ga(Wr(U)),U=!1,s.navigator&&s.navigator.sendBeacon)try{U=s.navigator.sendBeacon($.A.toString(),"")}catch{}!U&&s.Image&&(new Image().src=$.A,U=!0),U||($.g=ft($.j,null),$.g.ea($.A)),$.F=Date.now(),vo($)}Fe(w)}function Kl(w){w.g&&(vd(w),w.g.cancel(),w.g=null)}function Yl(w){Kl(w),w.v&&(s.clearTimeout(w.v),w.v=null),W(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&s.clearTimeout(w.m),w.m=null)}function Yc(w){if(!Fa(w.h)&&!w.m){w.m=!0;var $=w.Ea;E||N(),I||(E(),I=!0),j.add($,w),w.D=0}}function Rm(w,$){return od(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=$.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Ut(u(w.Ea,w,$),ye(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const Pe=new tr(this,this.j,w);let Re=this.o;if(this.U&&(Re?(Re=ce(Re),V(Re,this.U)):Re=this.U),this.u!==null||this.R||(Pe.J=Re,Re=null),this.S)e:{for(var $=0,U=0;U<this.i.length;U++){t:{var se=this.i[U];if("__data__"in se.map&&(se=se.map.__data__,typeof se=="string")){se=se.length;break t}se=void 0}if(se===void 0)break;if($+=se,$>4096){$=U;break e}if($===4096||U===this.i.length-1){$=U+1;break e}}$=1e3}else $=1e3;$=Df(this,Pe,$),U=Wr(this.J),Mr(U,"RID",w),Mr(U,"CVER",22),this.G&&Mr(U,"X-HTTP-Session-Id",this.G),Ua(this,U),Re&&(this.R?$="headers="+fn(wo(Re))+"&"+$:this.u&&Of(U,this.u,Re)),zc(this.h,Pe),this.Ra&&Mr(U,"TYPE","init"),this.S?(Mr(U,"$req",$),Mr(U,"SID","null"),Pe.U=!0,un(Pe,U,null)):un(Pe,U,$),this.I=2}}else this.I==3&&(w?_o(this,w):this.i.length==0||Fa(this.h)||_o(this))};function _o(w,$){var U;$?U=$.l:U=w.V++;const se=Wr(w.J);Mr(se,"SID",w.M),Mr(se,"RID",U),Mr(se,"AID",w.K),Ua(w,se),w.u&&w.o&&Of(se,w.u,w.o),U=new tr(w,w.j,U,w.D+1),w.u===null&&(U.J=w.o),$&&(w.i=$.G.concat(w.i)),$=Df(w,U,1e3),U.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),zc(w.h,U),un(U,se,$)}function Ua(w,$){w.H&&Z(w.H,function(U,se){Mr($,se,U)}),w.l&&Z({},function(U,se){Mr($,se,U)})}function Df(w,$,U){U=Math.min(w.i.length,U);const se=w.l?u(w.l.Ka,w.l,w):null;e:{var Pe=w.i;let Qt=-1;for(;;){const vn=["count="+U];Qt==-1?U>0?(Qt=Pe[0].g,vn.push("ofs="+Qt)):Qt=0:vn.push("ofs="+Qt);let xr=!0;for(let Nn=0;Nn<U;Nn++){var Re=Pe[Nn].g;const Gi=Pe[Nn].map;if(Re-=Qt,Re<0)Qt=Math.max(0,Pe[Nn].g-100),xr=!1;else try{Re="req"+Re+"_"||"";try{var nt=Gi instanceof Map?Gi:Object.entries(Gi);for(const[Va,Ln]of nt){let ya=Ln;o(Ln)&&(ya=vt(Ln)),vn.push(Re+Va+"="+encodeURIComponent(ya))}}catch(Va){throw vn.push(Re+"type="+encodeURIComponent("_badmap")),Va}}catch{se&&se(Gi)}}if(xr){nt=vn.join("&");break e}}nt=void 0}return w=w.i.splice(0,U),$.G=w,nt}function Lf(w){if(!w.g&&!w.v){w.Y=1;var $=w.Da;E||N(),I||(E(),I=!0),j.add($,w),w.A=0}}function rl(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Ut(u(w.Da,w),ye(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,R(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Ut(u(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),Kl(this),R(this))};function vd(w){w.B!=null&&(s.clearTimeout(w.B),w.B=null)}function R(w){w.g=new tr(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var $=Wr(w.na);Mr($,"RID","rpc"),Mr($,"SID",w.M),Mr($,"AID",w.K),Mr($,"CI",w.F?"0":"1"),!w.F&&w.ia&&Mr($,"TO",w.ia),Mr($,"TYPE","xmlhttp"),Ua(w,$),w.u&&w.o&&Of($,w.u,w.o),w.O&&(w.g.H=w.O);var U=w.g;w=w.ba,U.M=1,U.A=ga(Wr($)),U.u=null,U.R=!0,Dn(U,w)}t.Va=function(){this.C!=null&&(this.C=null,Kl(this),rl(this),Mt(19))};function W(w){w.C!=null&&(s.clearTimeout(w.C),w.C=null)}function fe(w,$){var U=null;if(w.g==$){W(w),vd(w),w.g=null;var se=2}else if(ld(w.h,$))U=$.G,Pf(w.h,$),se=1;else return;if(w.I!=0){if($.o)if(se==1){U=$.u?$.u.length:0,$=Date.now()-$.F;var Pe=w.D;se=er(),ke(se,new _t(se,U)),Yc(w)}else Lf(w);else if(Pe=$.m,Pe==3||Pe==0&&$.X>0||!(se==1&&Rm(w,$)||se==2&&rl(w)))switch(U&&U.length>0&&($=w.h,$.i=$.i.concat(U)),Pe){case 1:Ne(w,5);break;case 4:Ne(w,10);break;case 3:Ne(w,6);break;default:Ne(w,2)}}}function ye(w,$){let U=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(U*=2),U*$}function Ne(w,$){if(w.j.info("Error code "+$),$==2){var U=u(w.bb,w),se=w.Ua;const Pe=!se;se=new bo(se||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Vl(se,"https"),ga(se),Pe?e0(se.toString(),U):qc(se.toString(),U)}else Mt(2);w.I=0,w.l&&w.l.pa($),Fe(w),Yl(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Fe(w){if(w.I=0,w.ja=[],w.l){const $=Tf(w.h);($.length!=0||w.i.length!=0)&&(v(w.ja,$),v(w.ja,w.i),w.h.i.length=0,f(w.i),w.i.length=0),w.l.oa()}}function He(w,$,U){var se=U instanceof bo?Wr(U):new bo(U);if(se.g!="")$&&(se.g=$+"."+se.g),zl(se,se.u);else{var Pe=s.location;se=Pe.protocol,$=$?$+"."+Pe.hostname:Pe.hostname,Pe=+Pe.port;const Re=new bo(null);se&&Vl(Re,se),$&&(Re.g=$),Pe&&zl(Re,Pe),U&&(Re.h=U),se=Re}return U=w.G,$=w.wa,U&&$&&Mr(se,U,$),Mr(se,"VER",w.ka),Ua(w,se),se}function ft(w,$,U){if($&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return $=w.Aa&&!w.ma?new Sn(new If({ab:U})):new Sn(w.ma),$.Fa(w.L),$}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function At(){}t=At.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vt(){}Vt.prototype.g=function(w,$){return new It(w,$)};function It(w,$){_e.call(this),this.g=new gd($),this.l=w,this.h=$&&$.messageUrlParams||null,w=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(w?w["X-WebChannel-Content-Type"]=$.messageContentType:w={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.sa&&(w?w["X-WebChannel-Client-Profile"]=$.sa:w={"X-WebChannel-Client-Profile":$.sa}),this.g.U=w,(w=$&&$.Qb)&&!L(w)&&(this.g.u=w),this.A=$&&$.supportsCrossDomainXhr||!1,this.v=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!L($)&&(this.g.G=$,w=this.h,w!==null&&$ in w&&(w=this.h,$ in w&&delete w[$])),this.j=new gn(this)}h(It,_e),It.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Gl(this.g)},It.prototype.o=function(w){var $=this.g;if(typeof w=="string"){var U={};U.__data__=w,w=U}else this.v&&(U={},U.__data__=vt(w),w=U);$.i.push(new jm($.Ya++,w)),$.I==3&&Yc($)},It.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,It.Z.N.call(this)};function Tr(w){rt.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var $=w.__sm__;if($){e:{for(const U in $){w=U;break e}w=void 0}(this.i=w)&&(w=this.i,$=$!==null&&w in $?$[w]:void 0),this.data=$}else this.data=w}h(Tr,rt);function An(){Ce.call(this),this.status=1}h(An,Ce);function gn(w){this.g=w}h(gn,At),gn.prototype.ra=function(){ke(this.g,"a")},gn.prototype.qa=function(w){ke(this.g,new Tr(w))},gn.prototype.pa=function(w){ke(this.g,new An)},gn.prototype.oa=function(){ke(this.g,"b")},Vt.prototype.createWebChannel=Vt.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,fG=function(){return new Vt},hG=function(){return er()},dG=Ct,xC={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rn.NO_ERROR=0,Rn.TIMEOUT=8,Rn.HTTP_ERROR=6,i_=Rn,Dr.COMPLETE="complete",uG=Dr,ct.EventType=lt,lt.OPEN="a",lt.CLOSE="b",lt.ERROR="c",lt.MESSAGE="d",_e.prototype.listen=_e.prototype.J,X0=ct,Sn.prototype.listenOnce=Sn.prototype.K,Sn.prototype.getLastError=Sn.prototype.Ha,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.ca,Sn.prototype.getResponseJson=Sn.prototype.La,Sn.prototype.getResponseText=Sn.prototype.la,Sn.prototype.send=Sn.prototype.ea,Sn.prototype.setWithCredentials=Sn.prototype.Fa,cG=Sn}).apply(typeof e2<"u"?e2:typeof self<"u"?self:typeof window<"u"?window:{});const $M="@firebase/firestore",FM="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ca.UNAUTHENTICATED=new Ca(null),Ca.GOOGLE_CREDENTIALS=new Ca("google-credentials-uid"),Ca.FIRST_PARTY=new Ca("first-party-uid"),Ca.MOCK_USER=new Ca("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new bO("@firebase/firestore");function rg(){return Xp.logLevel}function ht(t,...e){if(Xp.logLevel<=wr.DEBUG){const r=e.map(CO);Xp.debug(`Firestore (${Py}): ${t}`,...r)}}function Wu(t,...e){if(Xp.logLevel<=wr.ERROR){const r=e.map(CO);Xp.error(`Firestore (${Py}): ${t}`,...r)}}function Pv(t,...e){if(Xp.logLevel<=wr.WARN){const r=e.map(CO);Xp.warn(`Firestore (${Py}): ${t}`,...r)}}function CO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,pG(t,n,r)}function pG(t,e,r){let n=`FIRESTORE (${Py}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Wu(n),new Error(n)}function Xr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||pG(e,i,n)}function ar(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Zu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ca.UNAUTHENTICATED))}shutdown(){}}class Pge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Tge{constructor(e){this.t=e,this.currentUser=Ca.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Xr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Tu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Tu,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Tu)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xr(typeof n.accessToken=="string",31837,{l:n}),new mG(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xr(e===null||typeof e=="string",2055,{h:e}),new Ca(e)}}class Cge{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ca.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kge{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Cge(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ca.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ige{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Xr(this.o===void 0,3512);const n=a=>{a.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ht("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BM(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Xr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new BM(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Oge(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function _r(t,e){return t<e?-1:t>e?1:0}function wC(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return uj(i)===uj(a)?_r(i,a):uj(i)?1:-1}return _r(t.length,e.length)}const Rge=55296,Dge=57343;function uj(t){const e=t.charCodeAt(0);return e>=Rge&&e<=Dge}function Tv(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="__name__";class sc{constructor(e,r,n){r===void 0?r=0:r>e.length&&Wt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Wt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return sc.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof sc?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=sc.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return _r(e.length,r.length)}static compareSegments(e,r){const n=sc.isNumericId(e),i=sc.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?sc.extractNumericId(e).compare(sc.extractNumericId(r)):wC(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oh.fromString(e.substring(4,e.length-2))}}class wn extends sc{construct(e,r,n){return new wn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new it(Ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new wn(r)}static emptyPath(){return new wn([])}}const Lge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class da extends sc{construct(e,r,n){return new da(e,r,n)}static isValidIdentifier(e){return Lge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),da.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UM}static keyField(){return new da([UM])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new it(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new it(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new it(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new it(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new da(r)}static emptyPath(){return new da([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(wn.fromString(e))}static fromName(e){return new Dt(wn.fromString(e).popFirst(5))}static empty(){return new Dt(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t,e,r){if(!r)throw new it(Ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mge(t,e,r,n){if(e===!0&&n===!0)throw new it(Ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function VM(t){if(!Dt.isDocumentKey(t))throw new it(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zM(t){if(Dt.isDocumentKey(t))throw new it(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vG(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Wt(12329,{type:typeof t})}function kl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new it(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=gA(t);throw new it(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function $ge(t,e){if(e<=0)throw new it(Ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){const r={typeString:t};return e&&(r.value=e),r}function Rx(t,e){if(!vG(t))throw new it(Ue.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new it(Ue.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=-62135596800,WM=1e6;class Vn{static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*WM);return new Vn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new it(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new it(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<qM)throw new it(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WM}_compareTo(e){return this.seconds===e.seconds?_r(this.nanoseconds,e.nanoseconds):_r(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rx(e,Vn._jsonSchema))return new Vn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vn._jsonSchemaVersion="firestore/timestamp/1.0",Vn._jsonSchema={type:Ti("string",Vn._jsonSchemaVersion),seconds:Ti("number"),nanoseconds:Ti("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{static fromTimestamp(e){return new rr(e)}static min(){return new rr(new Vn(0,0))}static max(){return new rr(new Vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=-1;function Fge(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=rr.fromTimestamp(n===1e9?new Vn(r+1,0):new Vn(r,n));return new Gh(i,Dt.empty(),e)}function Bge(t){return new Gh(t.readTime,t.key,ub)}class Gh{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Gh(rr.min(),Dt.empty(),ub)}static max(){return new Gh(rr.max(),Dt.empty(),ub)}}function Uge(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Dt.comparator(t.documentKey,e.documentKey),r!==0?r:_r(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(t){if(t.code!==Ue.FAILED_PRECONDITION||t.message!==Vge)throw t;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new We((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof We?r:We.resolve(r)}catch(r){return We.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):We.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):We.reject(r)}static resolve(e){return new We((r,n)=>{r(e)})}static reject(e){return new We((r,n)=>{n(e)})}static waitFor(e){return new We((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(e){let r=We.resolve(!1);for(const n of e)r=r.next(i=>i?We.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new We((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(d=>{s[u]=d,++o,o===a&&n(s)},d=>i(d))}})}static doWhile(e,r){return new We((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function qge(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Cy(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vA.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=-1;function yA(t){return t==null}function dS(t){return t===0&&1/t==-1/0}function Wge(t){return typeof t=="number"&&Number.isInteger(t)&&!dS(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG="";function Hge(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=HM(e)),e=Gge(t.get(r),e);return HM(e)}function Gge(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case yG:r+="";break;default:r+=a}}return r}function HM(t){return t+yG+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function mf(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function bG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,r){this.comparator=e,this.root=r||ua.EMPTY}insert(e,r){return new ni(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ua.BLACK,null,null))}remove(e){return new ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ua.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t2(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t2(this.root,e,this.comparator,!1)}getReverseIterator(){return new t2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t2(this.root,e,this.comparator,!0)}}class t2{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ua{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??ua.RED,this.left=i??ua.EMPTY,this.right=a??ua.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new ua(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ua.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ua.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ua.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ua.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Wt(27949);return e+(this.isRed()?0:1)}}ua.EMPTY=null,ua.RED=!0,ua.BLACK=!1;ua.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt(57766)}get value(){throw Wt(16141)}get color(){throw Wt(16727)}get left(){throw Wt(29726)}get right(){throw Wt(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new ua(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.comparator=e,this.data=new ni(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new KM(this.data.getIterator())}getIteratorFrom(e){return new KM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof zi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new zi(this.comparator);return r.data=e,r}}class KM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.fields=e,e.sort(da.comparator)}static empty(){return new ro([])}unionWith(e){let r=new zi(da.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ro(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Tv(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xG("Invalid base64 string: "+a):a}}(e);return new ma(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new ma(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _r(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ma.EMPTY_BYTE_STRING=new ma("");const Kge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kh(t){if(Xr(!!t,39018),typeof t=="string"){let e=0;const r=Kge.exec(t);if(Xr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:gi(t.seconds),nanos:gi(t.nanos)}}function gi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yh(t){return typeof t=="string"?ma.fromBase64String(t):ma.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="server_timestamp",_G="__type__",SG="__previous_value__",AG="__local_write_time__";function bA(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[_G])==null?void 0:n.stringValue)===wG}function xA(t){const e=t.mapValue.fields[SG];return bA(e)?xA(e):e}function db(t){const e=Kh(t.mapValue.fields[AG].timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yge{constructor(e,r,n,i,a,s,o,l,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const hS="(default)";class hb{constructor(e,r){this.projectId=e,this.database=r||hS}static empty(){return new hb("","")}get isDefaultDatabase(){return this.database===hS}isEqual(e){return e instanceof hb&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="__type__",EG="__max__",r2={mapValue:{fields:{__type__:{stringValue:EG}}}},jG="__vector__",fS="value";function Xh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bA(t)?4:Qge(t)?9007199254740991:Xge(t)?10:11:Wt(28295,{value:t})}function Ic(t,e){if(t===e)return!0;const r=Xh(t);if(r!==Xh(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return db(t).isEqual(db(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Kh(i.timestampValue),o=Kh(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Yh(i.bytesValue).isEqual(Yh(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return gi(i.geoPointValue.latitude)===gi(a.geoPointValue.latitude)&&gi(i.geoPointValue.longitude)===gi(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return gi(i.integerValue)===gi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=gi(i.doubleValue),o=gi(a.doubleValue);return s===o?dS(s)===dS(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Tv(t.arrayValue.values||[],e.arrayValue.values||[],Ic);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(GM(s)!==GM(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Ic(s[l],o[l])))return!1;return!0}(t,e);default:return Wt(52216,{left:t})}}function fb(t,e){return(t.values||[]).find(r=>Ic(r,e))!==void 0}function Cv(t,e){if(t===e)return 0;const r=Xh(t),n=Xh(e);if(r!==n)return _r(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return _r(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=gi(a.integerValue||a.doubleValue),l=gi(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return YM(t.timestampValue,e.timestampValue);case 4:return YM(db(t),db(e));case 5:return wC(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Yh(a),l=Yh(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=_r(o[u],l[u]);if(d!==0)return d}return _r(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=_r(gi(a.latitude),gi(s.latitude));return o!==0?o:_r(gi(a.longitude),gi(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XM(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,f,v,m;const o=a.fields||{},l=s.fields||{},u=(p=o[fS])==null?void 0:p.arrayValue,d=(f=l[fS])==null?void 0:f.arrayValue,h=_r(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((m=d==null?void 0:d.values)==null?void 0:m.length)||0);return h!==0?h:XM(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===r2.mapValue&&s===r2.mapValue)return 0;if(a===r2.mapValue)return 1;if(s===r2.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=wC(l[h],d[h]);if(p!==0)return p;const f=Cv(o[l[h]],u[d[h]]);if(f!==0)return f}return _r(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Wt(23264,{he:r})}}function YM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _r(t,e);const r=Kh(t),n=Kh(e),i=_r(r.seconds,n.seconds);return i!==0?i:_r(r.nanos,n.nanos)}function XM(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Cv(r[i],n[i]);if(a)return a}return _r(r.length,n.length)}function kv(t){return _C(t)}function _C(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Kh(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Yh(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Dt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=_C(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${_C(r.fields[s])}`;return i+"}"}(t.mapValue):Wt(61005,{value:t})}function a_(t){switch(Xh(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xA(t);return e?16+a_(e):16;case 5:return 2*t.stringValue.length;case 6:return Yh(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+a_(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return mf(n.fields,(a,s)=>{i+=a.length+a_(s)}),i}(t.mapValue);default:throw Wt(13486,{value:t})}}function pS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function SC(t){return!!t&&"integerValue"in t}function OO(t){return!!t&&"arrayValue"in t}function QM(t){return!!t&&"nullValue"in t}function JM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function s_(t){return!!t&&"mapValue"in t}function Xge(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[NG])==null?void 0:n.stringValue)===jG}function b1(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mf(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=b1(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=b1(t.arrayValue.values[r]);return e}return{...t}}function Qge(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.value=e}static empty(){return new ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!s_(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=b1(r)}setAll(e){let r=da.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=b1(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());s_(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ic(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];s_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){mf(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new ws(b1(this.value))}}function PG(t){const e=[];return mf(t.fields,(r,n)=>{const i=new da([r]);if(s_(n)){const a=PG(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ro(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ia(e,0,rr.min(),rr.min(),rr.min(),ws.empty(),0)}static newFoundDocument(e,r,n,i){return new Ia(e,1,r,rr.min(),n,i,0)}static newNoDocument(e,r){return new Ia(e,2,r,rr.min(),rr.min(),ws.empty(),0)}static newUnknownDocument(e,r){return new Ia(e,3,r,rr.min(),rr.min(),ws.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(rr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ia&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ia(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,r){this.position=e,this.inclusive=r}}function ZM(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Dt.comparator(Dt.fromName(s.referenceValue),r.key):n=Cv(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function e8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ic(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,r="asc"){this.field=e,this.dir=r}}function Jge(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{}class Pi extends TG{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new eve(e,r,n):r==="array-contains"?new nve(e,n):r==="in"?new ive(e,n):r==="not-in"?new ave(e,n):r==="array-contains-any"?new sve(e,n):new Pi(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new tve(e,n):new rve(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Cv(r,this.value)):r!==null&&Xh(this.value)===Xh(r)&&this.matchesComparison(Cv(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Il extends TG{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Il(e,r)}matches(e){return CG(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CG(t){return t.op==="and"}function kG(t){return Zge(t)&&CG(t)}function Zge(t){for(const e of t.filters)if(e instanceof Il)return!1;return!0}function AC(t){if(t instanceof Pi)return t.field.canonicalString()+t.op.toString()+kv(t.value);if(kG(t))return t.filters.map(e=>AC(e)).join(",");{const e=t.filters.map(r=>AC(r)).join(",");return`${t.op}(${e})`}}function IG(t,e){return t instanceof Pi?function(n,i){return i instanceof Pi&&n.op===i.op&&n.field.isEqual(i.field)&&Ic(n.value,i.value)}(t,e):t instanceof Il?function(n,i){return i instanceof Il&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&IG(s,i.filters[o]),!0):!1}(t,e):void Wt(19439)}function OG(t){return t instanceof Pi?function(r){return`${r.field.canonicalString()} ${r.op} ${kv(r.value)}`}(t):t instanceof Il?function(r){return r.op.toString()+" {"+r.getFilters().map(OG).join(" ,")+"}"}(t):"Filter"}class eve extends Pi{constructor(e,r,n){super(e,r,n),this.key=Dt.fromName(n.referenceValue)}matches(e){const r=Dt.comparator(e.key,this.key);return this.matchesComparison(r)}}class tve extends Pi{constructor(e,r){super(e,"in",r),this.keys=RG("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class rve extends Pi{constructor(e,r){super(e,"not-in",r),this.keys=RG("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function RG(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Dt.fromName(n.referenceValue))}class nve extends Pi{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return OO(r)&&fb(r.arrayValue,this.value)}}class ive extends Pi{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&fb(this.value.arrayValue,r)}}class ave extends Pi{constructor(e,r){super(e,"not-in",r)}matches(e){if(fb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!fb(this.value.arrayValue,r)}}class sve extends Pi{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!OO(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>fb(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ove{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function t8(t,e=null,r=[],n=[],i=null,a=null,s=null){return new ove(t,e,r,n,i,a,s)}function RO(t){const e=ar(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>AC(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),yA(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>kv(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>kv(n)).join(",")),e.Te=r}return e.Te}function DO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Jge(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!IG(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e8(t.startAt,e.startAt)&&e8(t.endAt,e.endAt)}function NC(t){return Dt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lve(t,e,r,n,i,a,s,o){return new gf(t,e,r,n,i,a,s,o)}function LO(t){return new gf(t)}function r8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MO(t){return t.collectionGroup!==null}function Ug(t){const e=ar(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new zi(da.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new pb(a,n))}),r.has(da.keyField().canonicalString())||e.Ie.push(new pb(da.keyField(),n))}return e.Ie}function Sc(t){const e=ar(t);return e.Ee||(e.Ee=cve(e,Ug(t))),e.Ee}function cve(t,e){if(t.limitType==="F")return t8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new pb(i.field,a)});const r=t.endAt?new Iv(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Iv(t.startAt.position,t.startAt.inclusive):null;return t8(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function EC(t,e){const r=t.filters.concat([e]);return new gf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function mS(t,e,r){return new gf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function wA(t,e){return DO(Sc(t),Sc(e))&&t.limitType===e.limitType}function DG(t){return`${RO(Sc(t))}|lt:${t.limitType}`}function ng(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>OG(i)).join(", ")}]`),yA(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>kv(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>kv(i)).join(",")),`Target(${n})`}(Sc(t))}; limitType=${t.limitType})`}function _A(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Dt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Ug(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=ZM(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,Ug(n),i)||n.endAt&&!function(s,o,l){const u=ZM(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,Ug(n),i))}(t,e)}function uve(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LG(t){return(e,r)=>{let n=!1;for(const i of Ug(t)){const a=dve(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function dve(t,e,r){const n=t.field.isKeyField()?Dt.comparator(e.key,r.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?Cv(l,u):Wt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Wt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mf(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return bG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hve=new ni(Dt.comparator);function Hu(){return hve}const MG=new ni(Dt.comparator);function Q0(...t){let e=MG;for(const r of t)e=e.insert(r.key,r);return e}function $G(t){let e=MG;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function cp(){return x1()}function FG(){return x1()}function x1(){return new gm(t=>t.toString(),(t,e)=>t.isEqual(e))}const fve=new ni(Dt.comparator),pve=new zi(Dt.comparator);function Sr(...t){let e=pve;for(const r of t)e=e.add(r);return e}const mve=new zi(_r);function gve(){return mve}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dS(e)?"-0":e}}function BG(t){return{integerValue:""+t}}function vve(t,e){return Wge(e)?BG(e):$O(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this._=void 0}}function yve(t,e,r){return t instanceof mb?function(i,a){const s={fields:{[_G]:{stringValue:wG},[AG]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&bA(a)&&(a=xA(a)),a&&(s.fields[SG]=a),{mapValue:s}}(r,e):t instanceof gb?VG(t,e):t instanceof vb?zG(t,e):function(i,a){const s=UG(i,a),o=n8(s)+n8(i.Ae);return SC(s)&&SC(i.Ae)?BG(o):$O(i.serializer,o)}(t,e)}function bve(t,e,r){return t instanceof gb?VG(t,e):t instanceof vb?zG(t,e):r}function UG(t,e){return t instanceof gS?function(n){return SC(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class mb extends SA{}class gb extends SA{constructor(e){super(),this.elements=e}}function VG(t,e){const r=qG(e);for(const n of t.elements)r.some(i=>Ic(i,n))||r.push(n);return{arrayValue:{values:r}}}class vb extends SA{constructor(e){super(),this.elements=e}}function zG(t,e){let r=qG(e);for(const n of t.elements)r=r.filter(i=>!Ic(i,n));return{arrayValue:{values:r}}}class gS extends SA{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function n8(t){return gi(t.integerValue||t.doubleValue)}function qG(t){return OO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xve{constructor(e,r){this.field=e,this.transform=r}}function wve(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof gb&&i instanceof gb||n instanceof vb&&i instanceof vb?Tv(n.elements,i.elements,Ic):n instanceof gS&&i instanceof gS?Ic(n.Ae,i.Ae):n instanceof mb&&i instanceof mb}(t.transform,e.transform)}class _ve{constructor(e,r){this.version=e,this.transformResults=r}}class Wo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Wo}static exists(e){return new Wo(void 0,e)}static updateTime(e){return new Wo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function o_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class AA{}function WG(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new FO(t.key,Wo.none()):new Dx(t.key,t.data,Wo.none());{const r=t.data,n=ws.empty();let i=new zi(da.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new vf(t.key,n,new ro(i.toArray()),Wo.none())}}function Sve(t,e,r){t instanceof Dx?function(i,a,s){const o=i.value.clone(),l=a8(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof vf?function(i,a,s){if(!o_(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=a8(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(HG(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function w1(t,e,r,n){return t instanceof Dx?function(a,s,o,l){if(!o_(a.precondition,s))return o;const u=a.value.clone(),d=s8(a.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof vf?function(a,s,o,l){if(!o_(a.precondition,s))return o;const u=s8(a.fieldTransforms,l,s),d=s.data;return d.setAll(HG(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,s,o){return o_(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function Ave(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=UG(n.transform,i||null);a!=null&&(r===null&&(r=ws.empty()),r.set(n.field,a))}return r||null}function i8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Tv(n,i,(a,s)=>wve(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dx extends AA{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vf extends AA{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function HG(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function a8(t,e,r){const n=new Map;Xr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,bve(s,o,r[i]))}return n}function s8(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,yve(a,s,e))}return n}class FO extends AA{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nve extends AA{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eve{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Sve(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=w1(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=w1(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=FG();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=WG(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(rr.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Sr())}isEqual(e){return this.batchId===e.batchId&&Tv(this.mutations,e.mutations,(r,n)=>i8(r,n))&&Tv(this.baseMutations,e.baseMutations,(r,n)=>i8(r,n))}}class BO{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Xr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return fve}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new BO(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jve=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pve{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai,Ir;function Tve(t){switch(t){case Ue.OK:return Wt(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return Wt(15467,{code:t})}}function GG(t){if(t===void 0)return Wu("GRPC error has no .code"),Ue.UNKNOWN;switch(t){case Ai.OK:return Ue.OK;case Ai.CANCELLED:return Ue.CANCELLED;case Ai.UNKNOWN:return Ue.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return Ue.INTERNAL;case Ai.UNAVAILABLE:return Ue.UNAVAILABLE;case Ai.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Ai.NOT_FOUND:return Ue.NOT_FOUND;case Ai.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Ai.ABORTED:return Ue.ABORTED;case Ai.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Ai.DATA_LOSS:return Ue.DATA_LOSS;default:return Wt(39323,{code:t})}}(Ir=Ai||(Ai={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cve(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kve=new Oh([4294967295,4294967295],0);function o8(t){const e=Cve().encode(t),r=new lG;return r.update(e),new Uint8Array(r.digest())}function l8(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Oh([r,n],0),new Oh([i,a],0)]}class UO{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new J0(`Invalid padding: ${r}`);if(n<0)throw new J0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new J0(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new J0(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Oh.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Oh.fromNumber(n)));return i.compare(kve)===1&&(i=new Oh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=o8(e),[n,i]=l8(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new UO(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const r=o8(e),[n,i]=l8(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class J0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Lx.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new NA(rr.min(),i,new ni(_r),Hu(),Sr())}}class Lx{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Lx(n,r,Sr(),Sr(),Sr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class KG{constructor(e,r){this.targetId=e,this.Ce=r}}class YG{constructor(e,r,n=ma.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class c8{constructor(){this.ve=0,this.Fe=u8(),this.Me=ma.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Sr(),r=Sr(),n=Sr();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Wt(38017,{changeType:a})}}),new Lx(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=u8()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ive{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hu(),this.Je=n2(),this.He=n2(),this.Ye=new ni(_r)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Wt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(NC(a))if(n===0){const s=new Dt(a.path);this.et(r,s,Ia.newNoDocument(s,rr.min()))}else Xr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Yh(n).toUint8Array()}catch(l){if(l instanceof xG)return Pv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new UO(s,i,a)}catch(l){return Pv(l instanceof J0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&NC(o.target)){const l=new Dt(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Ia.newNoDocument(l,e))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=Sr();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new NA(e,r,this.Ye,this.je,n);return this.je=Hu(),this.Je=n2(),this.He=n2(),this.Ye=new ni(_r),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new c8,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new zi(_r),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new zi(_r),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ht("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c8),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function n2(){return new ni(Dt.comparator)}function u8(){return new ni(Dt.comparator)}const Ove={asc:"ASCENDING",desc:"DESCENDING"},Rve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dve={and:"AND",or:"OR"};class Lve{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function jC(t,e){return t.useProto3Json||yA(e)?e:{value:e}}function vS(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XG(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mve(t,e){return vS(t,e.toTimestamp())}function Ac(t){return Xr(!!t,49232),rr.fromTimestamp(function(r){const n=Kh(r);return new Vn(n.seconds,n.nanos)}(t))}function VO(t,e){return PC(t,e).canonicalString()}function PC(t,e){const r=function(i){return new wn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function QG(t){const e=wn.fromString(t);return Xr(rK(e),10190,{key:e.toString()}),e}function TC(t,e){return VO(t.databaseId,e.path)}function dj(t,e){const r=QG(e);if(r.get(1)!==t.databaseId.projectId)throw new it(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new it(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Dt(ZG(r))}function JG(t,e){return VO(t.databaseId,e)}function $ve(t){const e=QG(t);return e.length===4?wn.emptyPath():ZG(e)}function CC(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZG(t){return Xr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function d8(t,e,r){return{name:TC(t,e),fields:r.value.mapValue.fields}}function Fve(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Wt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Xr(d===void 0||typeof d=="string",58123),ma.fromBase64String(d||"")):(Xr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ma.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?Ue.UNKNOWN:GG(u.code);return new it(d,u.message||"")}(s);r=new YG(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=dj(t,n.document.name),a=Ac(n.document.updateTime),s=n.document.createTime?Ac(n.document.createTime):rr.min(),o=new ws({mapValue:{fields:n.document.fields}}),l=Ia.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new l_(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=dj(t,n.document),a=n.readTime?Ac(n.readTime):rr.min(),s=Ia.newNoDocument(i,a),o=n.removedTargetIds||[];r=new l_([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=dj(t,n.document),a=n.removedTargetIds||[];r=new l_([],a,i,null)}else{if(!("filter"in e))return Wt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new Pve(i,a),o=n.targetId;r=new KG(o,s)}}return r}function Bve(t,e){let r;if(e instanceof Dx)r={update:d8(t,e.key,e.value)};else if(e instanceof FO)r={delete:TC(t,e.key)};else if(e instanceof vf)r={update:d8(t,e.key,e.data),updateMask:Yve(e.fieldMask)};else{if(!(e instanceof Nve))return Wt(16599,{Vt:e.type});r={verify:TC(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof mb)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gb)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vb)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gS)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Wt(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Mve(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Wt(27497)}(t,e.precondition)),r}function Uve(t,e){return t&&t.length>0?(Xr(e!==void 0,14353),t.map(r=>function(i,a){let s=i.updateTime?Ac(i.updateTime):Ac(a);return s.isEqual(rr.min())&&(s=Ac(a)),new _ve(s,i.transformResults||[])}(r,e))):[]}function Vve(t,e){return{documents:[JG(t,e.path)]}}function zve(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=JG(t,i);const a=function(u){if(u.length!==0)return tK(Il.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:ig(p.field),direction:Hve(p.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=jC(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function qve(t){let e=$ve(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Xr(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const p=eK(h);return p instanceof Il&&kG(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(h){return h.map(p=>function(v){return new pb(ag(v.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,yA(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new Iv(f,p)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const p=!h.before,f=h.values||[];return new Iv(f,p)}(r.endAt)),lve(e,i,s,a,o,"F",l,u)}function Wve(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function eK(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ag(r.unaryFilter.field);return Pi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ag(r.unaryFilter.field);return Pi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ag(r.unaryFilter.field);return Pi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ag(r.unaryFilter.field);return Pi.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Wt(61313);default:return Wt(60726)}}(t):t.fieldFilter!==void 0?function(r){return Pi.create(ag(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Wt(58110);default:return Wt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Il.create(r.compositeFilter.filters.map(n=>eK(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Wt(1026)}}(r.compositeFilter.op))}(t):Wt(30097,{filter:t})}function Hve(t){return Ove[t]}function Gve(t){return Rve[t]}function Kve(t){return Dve[t]}function ig(t){return{fieldPath:t.canonicalString()}}function ag(t){return da.fromServerFormat(t.fieldPath)}function tK(t){return t instanceof Pi?function(r){if(r.op==="=="){if(JM(r.value))return{unaryFilter:{field:ig(r.field),op:"IS_NAN"}};if(QM(r.value))return{unaryFilter:{field:ig(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(JM(r.value))return{unaryFilter:{field:ig(r.field),op:"IS_NOT_NAN"}};if(QM(r.value))return{unaryFilter:{field:ig(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ig(r.field),op:Gve(r.op),value:r.value}}}(t):t instanceof Il?function(r){const n=r.getFilters().map(i=>tK(i));return n.length===1?n[0]:{compositeFilter:{op:Kve(r.op),filters:n}}}(t):Wt(54877,{filter:t})}function Yve(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function rK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,r,n,i,a=rr.min(),s=rr.min(),o=ma.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ph(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ph(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ph(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ph(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xve{constructor(e){this.yt=e}}function Qve(t){const e=qve({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jve{constructor(){this.Cn=new Zve}addToCollectionParentIndex(e,r){return this.Cn.add(r),We.resolve()}getCollectionParents(e,r){return We.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return We.resolve()}deleteFieldIndex(e,r){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,r){return We.resolve()}getDocumentsMatchingTarget(e,r){return We.resolve(null)}getIndexType(e,r){return We.resolve(0)}getFieldIndexes(e,r){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,r){return We.resolve(Gh.min())}getMinOffsetFromCollectionGroup(e,r){return We.resolve(Gh.min())}updateCollectionGroup(e,r,n){return We.resolve()}updateIndexEntries(e,r){return We.resolve()}}class Zve{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new zi(wn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new zi(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nK=41943040;class vs{static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(nK,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ov(0)}static cr(){return new Ov(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="LruGarbageCollector",eye=1048576;function p8([t,e],[r,n]){const i=_r(t,r);return i===0?_r(e,n):i}class tye{constructor(e){this.Ir=e,this.buffer=new zi(p8),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();p8(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class rye{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ht(f8,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Cy(r)?ht(f8,"Ignoring IndexedDB error during garbage collection: ",r):await Ty(r)}await this.Vr(3e5)})}}class nye{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return We.resolve(vA.ce);const n=new tye(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(h8)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h8):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,s,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,o=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),rg()<=wr.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function iye(t,e){return new nye(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aye{constructor(){this.changes=new gm(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ia.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?We.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sye{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oye{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&w1(n.mutation,i,ro.empty(),Vn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Sr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Sr()){const i=cp();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=Q0();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=cp();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Sr()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=Hu();const s=x1(),o=function(){return x1()}();return r.forEach((l,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof vf)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),w1(d.mutation,u,d.mutation.getFieldMask(),Vn.now())):s.set(u.key,ro.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,d)=>s.set(u,d)),r.forEach((u,d)=>o.set(u,new sye(d,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,r){const n=x1();let i=new ni((s,o)=>s-o),a=Sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||ro.empty();d=o.applyToLocalView(u,d),n.set(l,d);const h=(i.get(o.batchId)||Sr()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,h=FG();d.forEach(p=>{if(!a.has(p)){const f=WG(r.get(p),n.get(p));f!==null&&h.set(p,f),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return We.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):MO(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):We.resolve(cp());let o=ub,l=a;return s.next(u=>We.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?We.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Sr())).next(d=>({batchId:o,changes:$G(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Dt(r)).next(n=>{let i=Q0();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=Q0();return this.indexManager.getCollectionParents(e,a).next(o=>We.forEach(o,l=>{const u=function(h,p){return new gf(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Ia.newInvalidDocument(d)))});let o=Q0();return s.forEach((l,u)=>{const d=a.get(l);d!==void 0&&w1(d.mutation,u,ro.empty(),Vn.now()),_A(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lye{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return We.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ac(i.createTime)}}(r)),We.resolve()}getNamedQuery(e,r){return We.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:Qve(i.bundledQuery),readTime:Ac(i.readTime)}}(r)),We.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cye{constructor(){this.overlays=new ni(Dt.comparator),this.qr=new Map}getOverlay(e,r){return We.resolve(this.overlays.get(r))}getOverlays(e,r){const n=cp();return We.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),We.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),We.resolve()}getOverlaysForCollection(e,r,n){const i=cp(),a=r.length+1,s=new Dt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return We.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ni((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=cp(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=cp(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return We.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new jve(r,n));let a=this.qr.get(r);a===void 0&&(a=Sr(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uye{constructor(){this.sessionToken=ma.EMPTY_BYTE_STRING}getSessionToken(e){return We.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,We.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Qr=new zi(Yi.$r),this.Ur=new zi(Yi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Yi(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Yi(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Dt(new wn([])),n=new Yi(r,e),i=new Yi(r,e+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Dt(new wn([])),n=new Yi(r,e),i=new Yi(r,e+1);let a=Sr();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Yi(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Yi{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Dt.comparator(e.key,r.key)||_r(e.Yr,r.Yr)}static Kr(e,r){return _r(e.Yr,r.Yr)||Dt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dye{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new zi(Yi.$r)}checkEmpty(e){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Eve(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Yi(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return We.resolve(s)}lookupMutationBatch(e,r){return We.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return We.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?IO:this.tr-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Yi(r,0),i=new Yi(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),We.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new zi(_r);return r.forEach(i=>{const a=new Yi(i,0),s=new Yi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),We.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Dt.isDocumentKey(a)||(a=a.child(""));const s=new Yi(new Dt(a),0);let o=new zi(_r);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),We.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Xr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return We.forEach(r.mutations,i=>{const a=new Yi(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Yi(r,0),i=this.Zr.firstAfterOrEqual(n);return We.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,We.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hye{constructor(e){this.ri=e,this.docs=function(){return new ni(Dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return We.resolve(n?n.document.mutableCopy():Ia.newInvalidDocument(r))}getEntries(e,r){let n=Hu();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ia.newInvalidDocument(i))}),We.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Hu();const s=r.path,o=new Dt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Uge(Bge(d),n)<=0||(i.has(d.key)||_A(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return We.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Wt(9500)}ii(e,r){return We.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new fye(this)}getSize(e){return We.resolve(this.size)}}class fye extends aye{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),We.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pye{constructor(e){this.persistence=e,this.si=new gm(r=>RO(r),DO),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.oi=0,this._i=new zO,this.targetCount=0,this.ai=Ov.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),We.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ov(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,We.resolve()}updateTargetData(e,r){return this.Pr(r),We.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),We.waitFor(a).next(()=>i)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return We.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),We.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),We.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),We.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return We.resolve(n)}containsKey(e,r){return We.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e,r){this.ui={},this.overlays={},this.ci=new vA(0),this.li=!1,this.li=!0,this.hi=new uye,this.referenceDelegate=e(this),this.Pi=new pye(this),this.indexManager=new Jve,this.remoteDocumentCache=function(i){return new hye(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Xve(r),this.Ii=new lye(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new cye,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new dye(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ht("MemoryPersistence","Starting transaction:",e);const i=new mye(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return We.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class mye extends zge{constructor(e){super(),this.currentSequenceNumber=e}}class qO{constructor(e){this.persistence=e,this.Ri=new zO,this.Vi=null}static mi(e){return new qO(e)}get fi(){if(this.Vi)return this.Vi;throw Wt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),We.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),We.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),We.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.fi,n=>{const i=Dt.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,rr.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return We.or([()=>We.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class yS{constructor(e,r){this.persistence=e,this.pi=new gm(n=>Hge(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=iye(this,r)}static mi(e,r){return new yS(e,r)}Ei(){}di(e){return We.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return We.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?We.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,r).next(o=>{o||(n++,a.removeEntry(s,rr.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),We.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),We.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),We.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),We.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=a_(e.data.value)),r}br(e,r,n){return We.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return We.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Sr(),i=Sr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new WO(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gye{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vye{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zhe()?8:qge(Ma())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new gye;return this.Ss(e,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,r,s,o.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(rg()<=wr.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",ng(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),We.resolve()):(rg()<=wr.DEBUG&&ht("QueryEngine","Query:",ng(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(rg()<=wr.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",ng(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sc(r))):We.resolve())}ys(e,r){if(r8(r))return We.resolve(null);let n=Sc(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=mS(r,null,"F"),n=Sc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=Sr(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,s,l.readTime)?this.ys(e,mS(r,null,"F")):this.vs(e,u,r,l)}))})))}ws(e,r,n,i){return r8(r)||i.isEqual(rr.min())?We.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?We.resolve(null):(rg()<=wr.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ng(r)),this.vs(e,s,r,Fge(i,ub)).next(o=>o))})}Ds(e,r){let n=new zi(LG(e));return r.forEach((i,a)=>{_A(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return rg()<=wr.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",ng(r)),this.ps.getDocumentsMatchingQuery(e,r,Gh.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="LocalStore",yye=3e8;class bye{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new ni(_r),this.xs=new gm(a=>RO(a),DO),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oye(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function xye(t,e,r,n){return new bye(t,e,r,n)}async function aK(t,e){const r=ar(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=Sr();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function wye(t,e){const r=ar(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const h=u.batch,p=h.keys();let f=We.resolve();return p.forEach(v=>{f=f.next(()=>d.getEntry(l,v)).next(m=>{const g=u.docVersions.get(v);Xr(g!==null,48541),m.version.compareTo(g)<0&&(h.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),d.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Sr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function sK(t){const e=ar(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function _ye(t,e){const r=ar(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let f=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(ma.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,n)),i=i.insert(h,f),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=yye?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,f,d)&&o.push(r.Pi.updateTargetData(a,f))});let l=Hu(),u=Sr();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(Sye(a,s,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!n.isEqual(rr.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(d)}return We.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ms=i,a))}function Sye(t,e,r){let n=Sr(),i=Sr();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=Hu();return r.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(rr.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):ht(HO,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function Aye(t,e){const r=ar(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=IO),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Nye(t,e){const r=ar(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,We.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new ph(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function kC(t,e,r){const n=ar(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Cy(s))throw s;ht(HO,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function m8(t,e,r){const n=ar(t);let i=rr.min(),a=Sr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const h=ar(l),p=h.xs.get(d);return p!==void 0?We.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(n,s,Sc(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,r?i:rr.min(),r?a:Sr())).next(o=>(Eye(n,uve(e),o),{documents:o,Qs:a})))}function Eye(t,e,r){let n=t.Os.get(e)||rr.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class g8{constructor(){this.activeTargetIds=gve()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jye{constructor(){this.Mo=new g8,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g8,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pye{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="ConnectivityMonitor";class y8{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(v8,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ht(v8,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i2=null;function IC(){return i2===null?i2=function(){return 268435456+Math.round(2147483648*Math.random())}():i2++,"0x"+i2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="RestConnection",Tye={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cye{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===hS?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const s=IC(),o=this.zo(e,r.toUriEncodedString());ht(hj,`Sending RPC '${e}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),d=Ny(u);return this.Jo(e,o,l,n,d).then(h=>(ht(hj,`Received RPC '${e}' ${s}: `,h),h),h=>{throw Pv(hj,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",n),h})}Ho(e,r,n,i,a,s){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Py}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=Tye[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kye{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="WebChannelConnection";class Iye extends Cye{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const s=IC();return new Promise((o,l)=>{const u=new cG;u.setWithCredentials(!0),u.listenOnce(uG.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case i_.NO_ERROR:const h=u.getResponseJson();ht(_a,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case i_.TIMEOUT:ht(_a,`RPC '${e}' ${s} timed out`),l(new it(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case i_.HTTP_ERROR:const p=u.getStatus();if(ht(_a,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f==null?void 0:f.error;if(v&&v.status&&v.message){const m=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(x)>=0?x:Ue.UNKNOWN}(v.status);l(new it(m,v.message))}else l(new it(Ue.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new it(Ue.UNAVAILABLE,"Connection failed."));break;default:Wt(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ht(_a,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);ht(_a,`RPC '${e}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=IC(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fG(),o=hG(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=a.join("");ht(_a,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);this.I_(h);let p=!1,f=!1;const v=new kye({Yo:g=>{f?ht(_a,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(p||(ht(_a,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),ht(_a,`RPC '${e}' stream ${i} sending:`,g),h.send(g))},Zo:()=>h.close()}),m=(g,y,x)=>{g.listen(y,_=>{try{x(_)}catch(A){setTimeout(()=>{throw A},0)}})};return m(h,X0.EventType.OPEN,()=>{f||(ht(_a,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),m(h,X0.EventType.CLOSE,()=>{f||(f=!0,ht(_a,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(h))}),m(h,X0.EventType.ERROR,g=>{f||(f=!0,Pv(_a,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),v.a_(new it(Ue.UNAVAILABLE,"The operation could not be completed")))}),m(h,X0.EventType.MESSAGE,g=>{var y;if(!f){const x=g.data[0];Xr(!!x,16349);const _=x,A=(_==null?void 0:_.error)||((y=_[0])==null?void 0:y.error);if(A){ht(_a,`RPC '${e}' stream ${i} received error:`,A);const E=A.status;let I=function(k){const D=Ai[k];if(D!==void 0)return GG(D)}(E),j=A.message;I===void 0&&(I=Ue.INTERNAL,j="Unknown error status: "+E+" with message "+A.message),f=!0,v.a_(new it(I,j)),h.close()}else ht(_a,`RPC '${e}' stream ${i} received:`,x),v.u_(x)}}),m(o,dG.STAT_EVENT,g=>{g.stat===xC.PROXY?ht(_a,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===xC.NOPROXY&&ht(_a,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function fj(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){return new Lve(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ht("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="PersistentStream";class lK{constructor(e,r,n,i,a,s,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oK(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ue.RESOURCE_EXHAUSTED?(Wu(r.toString()),Wu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new it(Ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ht(b8,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ht(b8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oye extends lK{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Fve(this.serializer,e),n=function(a){if(!("targetChange"in a))return rr.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?rr.min():s.readTime?Ac(s.readTime):rr.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=CC(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=NC(l)?{documents:Vve(a,l)}:{query:zve(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=XG(a,s.resumeToken);const u=jC(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(rr.min())>0){o.readTime=vS(a,s.snapshotVersion.toTimestamp());const u=jC(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=Wve(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=CC(this.serializer),r.removeTarget=e,this.q_(r)}}class Rye extends lK{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Xr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Uve(e.writeResults,e.commitTime),n=Ac(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=CC(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Bve(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dye{}class Lye extends Dye{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new it(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,PC(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new it(Ue.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,PC(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Ue.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Mye{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wu(r),this.aa=!1):ht("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="RemoteStore";class $ye{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{vm(this)&&(ht(Qp,"Restarting streams for network reachability change."),await async function(l){const u=ar(l);u.Ea.add(4),await Mx(u),u.Ra.set("Unknown"),u.Ea.delete(4),await jA(u)}(this))})}),this.Ra=new Mye(n,i)}}async function jA(t){if(vm(t))for(const e of t.da)await e(!0)}async function Mx(t){for(const e of t.da)await e(!1)}function cK(t,e){const r=ar(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),XO(r)?YO(r):ky(r).O_()&&KO(r,e))}function GO(t,e){const r=ar(t),n=ky(r);r.Ia.delete(e),n.O_()&&uK(r,e),r.Ia.size===0&&(n.O_()?n.L_():vm(r)&&r.Ra.set("Unknown"))}function KO(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ky(t).Y_(e)}function uK(t,e){t.Va.Ue(e),ky(t).Z_(e)}function YO(t){t.Va=new Ive({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ky(t).start(),t.Ra.ua()}function XO(t){return vm(t)&&!ky(t).x_()&&t.Ia.size>0}function vm(t){return ar(t).Ea.size===0}function dK(t){t.Va=void 0}async function Fye(t){t.Ra.set("Online")}async function Bye(t){t.Ia.forEach((e,r)=>{KO(t,e)})}async function Uye(t,e){dK(t),XO(t)?(t.Ra.ha(e),YO(t)):t.Ra.set("Unknown")}async function Vye(t,e,r){if(t.Ra.set("Online"),e instanceof YG&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){ht(Qp,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await bS(t,n)}else if(e instanceof l_?t.Va.Ze(e):e instanceof KG?t.Va.st(e):t.Va.tt(e),!r.isEqual(rr.min()))try{const n=await sK(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const d=a.Ia.get(l);if(!d)return;a.Ia.set(l,d.withResumeToken(ma.EMPTY_BYTE_STRING,d.snapshotVersion)),uK(a,l);const h=new ph(d.target,l,u,d.sequenceNumber);KO(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ht(Qp,"Failed to raise snapshot:",n),await bS(t,n)}}async function bS(t,e,r){if(!Cy(e))throw e;t.Ea.add(1),await Mx(t),t.Ra.set("Offline"),r||(r=()=>sK(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ht(Qp,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await jA(t)})}function hK(t,e){return e().catch(r=>bS(t,r,e))}async function PA(t){const e=ar(t),r=Qh(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:IO;for(;zye(e);)try{const i=await Aye(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,qye(e,i)}catch(i){await bS(e,i)}fK(e)&&pK(e)}function zye(t){return vm(t)&&t.Ta.length<10}function qye(t,e){t.Ta.push(e);const r=Qh(t);r.O_()&&r.X_&&r.ea(e.mutations)}function fK(t){return vm(t)&&!Qh(t).x_()&&t.Ta.length>0}function pK(t){Qh(t).start()}async function Wye(t){Qh(t).ra()}async function Hye(t){const e=Qh(t);for(const r of t.Ta)e.ea(r.mutations)}async function Gye(t,e,r){const n=t.Ta.shift(),i=BO.from(n,e,r);await hK(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await PA(t)}async function Kye(t,e){e&&Qh(t).X_&&await async function(n,i){if(function(s){return Tve(s)&&s!==Ue.ABORTED}(i.code)){const a=n.Ta.shift();Qh(n).B_(),await hK(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await PA(n)}}(t,e),fK(t)&&pK(t)}async function x8(t,e){const r=ar(t);r.asyncQueue.verifyOperationInProgress(),ht(Qp,"RemoteStore received new credentials");const n=vm(r);r.Ea.add(3),await Mx(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await jA(r)}async function Yye(t,e){const r=ar(t);e?(r.Ea.delete(2),await jA(r)):e||(r.Ea.add(2),await Mx(r),r.Ra.set("Unknown"))}function ky(t){return t.ma||(t.ma=function(r,n,i){const a=ar(r);return a.sa(),new Oye(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Fye.bind(null,t),t_:Bye.bind(null,t),r_:Uye.bind(null,t),H_:Vye.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),XO(t)?YO(t):t.Ra.set("Unknown")):(await t.ma.stop(),dK(t))})),t.ma}function Qh(t){return t.fa||(t.fa=function(r,n,i){const a=ar(r);return a.sa(),new Rye(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Wye.bind(null,t),r_:Kye.bind(null,t),ta:Hye.bind(null,t),na:Gye.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await PA(t)):(await t.fa.stop(),t.Ta.length>0&&(ht(Qp,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Tu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new QO(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JO(t,e){if(Wu("AsyncQueue",`${e}: ${t}`),Cy(t))return new it(Ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{static emptySet(e){return new Vg(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Dt.comparator(r.key,n.key):(r,n)=>Dt.comparator(r.key,n.key),this.keyedMap=Q0(),this.sortedSet=new ni(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Vg)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Vg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.ga=new ni(Dt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Wt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Rv{constructor(e,r,n,i,a,s,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new Rv(e,r,Vg.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xye{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Qye{constructor(){this.queries=_8(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ar(r),a=i.queries;i.queries=_8(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new it(Ue.ABORTED,"Firestore shutting down"))}}function _8(){return new gm(t=>DG(t),wA)}async function mK(t,e){const r=ar(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new Xye,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=JO(s,`Initialization of query '${ng(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&ZO(r)}async function gK(t,e){const r=ar(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Jye(t,e){const r=ar(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&ZO(r)}function Zye(t,e,r){const n=ar(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function ZO(t){t.Ca.forEach(e=>{e.next()})}var OC,S8;(S8=OC||(OC={})).Ma="default",S8.Cache="cache";class vK{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Rv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Rv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==OC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(e){this.key=e}}class bK{constructor(e){this.key=e}}class e0e{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Sr(),this.mutatedKeys=Sr(),this.eu=LG(e),this.tu=new Vg(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new w8,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),f=_A(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;p&&f?p.data.isEqual(f.data)?v!==m&&(n.track({type:3,doc:f}),g=!0):this.su(p,f)||(n.track({type:2,doc:f}),g=!0,(l&&this.eu(f,l)>0||u&&this.eu(f,u)<0)&&(o=!0)):!p&&f?(n.track({type:0,doc:f}),g=!0):p&&!f&&(n.track({type:1,doc:p}),g=!0,(l||u)&&(o=!0)),g&&(f?(s=s.add(f),a=m?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,h)=>function(f,v){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt(20277,{Rt:g})}};return m(f)-m(v)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Rv(this.query,e.tu,a,s,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w8,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Sr(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new bK(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new yK(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Sr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Rv.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const e3="SyncEngine";class t0e{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class r0e{constructor(e){this.key=e,this.hu=!1}}class n0e{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new gm(o=>DG(o),wA),this.Iu=new Map,this.Eu=new Set,this.du=new ni(Dt.comparator),this.Au=new Map,this.Ru=new zO,this.Vu={},this.mu=new Map,this.fu=Ov.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i0e(t,e,r=!0){const n=NK(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await xK(n,e,r,!0),i}async function a0e(t,e){const r=NK(t);await xK(r,e,!0,!1)}async function xK(t,e,r,n){const i=await Nye(t.localStore,Sc(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await s0e(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&cK(t.remoteStore,i),o}async function s0e(t,e,r,n,i){t.pu=(h,p,f)=>async function(m,g,y,x){let _=g.view.ru(y);_.Cs&&(_=await m8(m.localStore,g.query,!1).then(({documents:j})=>g.view.ru(j,_)));const A=x&&x.targetChanges.get(g.targetId),E=x&&x.targetMismatches.get(g.targetId)!=null,I=g.view.applyChanges(_,m.isPrimaryClient,A,E);return N8(m,g.targetId,I.au),I.snapshot}(t,h,p,f);const a=await m8(t.localStore,e,!0),s=new e0e(e,a.Qs),o=s.ru(a.documents),l=Lx.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);N8(t,r,u.au);const d=new t0e(e,r,s);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function o0e(t,e,r){const n=ar(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!wA(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await kC(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&GO(n.remoteStore,i.targetId),RC(n,i.targetId)}).catch(Ty)):(RC(n,i.targetId),await kC(n.localStore,i.targetId,!0))}async function l0e(t,e){const r=ar(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),GO(r.remoteStore,n.targetId))}async function c0e(t,e,r){const n=g0e(t);try{const i=await function(s,o){const l=ar(s),u=Vn.now(),d=o.reduce((f,v)=>f.add(v.key),Sr());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=Hu(),m=Sr();return l.Ns.getEntries(f,d).next(g=>{v=g,v.forEach((y,x)=>{x.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,v)).next(g=>{h=g;const y=[];for(const x of o){const _=Ave(x,h.get(x.key).overlayedDocument);_!=null&&y.push(new vf(x.key,_,PG(_.value.mapValue),Wo.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,y,o)}).next(g=>{p=g;const y=g.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,y)})}).then(()=>({batchId:p.batchId,changes:$G(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new ni(_r)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await $x(n,i.changes),await PA(n.remoteStore)}catch(i){const a=JO(i,"Failed to persist write");r.reject(a)}}async function wK(t,e){const r=ar(t);try{const n=await _ye(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Xr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Xr(s.hu,14607):i.removedDocuments.size>0&&(Xr(s.hu,42227),s.hu=!1))}),await $x(r,n,e)}catch(n){await Ty(n)}}function A8(t,e,r){const n=ar(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=ar(s);l.onlineState=o;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(o)&&(u=!0)}),u&&ZO(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function u0e(t,e,r){const n=ar(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new ni(Dt.comparator);s=s.insert(a,Ia.newNoDocument(a,rr.min()));const o=Sr().add(a),l=new NA(rr.min(),new Map,new ni(_r),s,o);await wK(n,l),n.du=n.du.remove(a),n.Au.delete(e),t3(n)}else await kC(n.localStore,e,!1).then(()=>RC(n,e,r)).catch(Ty)}async function d0e(t,e){const r=ar(t),n=e.batch.batchId;try{const i=await wye(r.localStore,e);SK(r,n,null),_K(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await $x(r,i)}catch(i){await Ty(i)}}async function h0e(t,e,r){const n=ar(t);try{const i=await function(s,o){const l=ar(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(Xr(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(n.localStore,e);SK(n,e,r),_K(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await $x(n,i)}catch(i){await Ty(i)}}function _K(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function SK(t,e,r){const n=ar(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function RC(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||AK(t,n)})}function AK(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(GO(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),t3(t))}function N8(t,e,r){for(const n of r)n instanceof yK?(t.Ru.addReference(n.key,e),f0e(t,n)):n instanceof bK?(ht(e3,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||AK(t,n.key)):Wt(19791,{wu:n})}function f0e(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ht(e3,"New document in limbo: "+r),t.Eu.add(n),t3(t))}function t3(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Dt(wn.fromString(e)),n=t.fu.next();t.Au.set(n,new r0e(r)),t.du=t.du.insert(r,n),cK(t.remoteStore,new ph(Sc(LO(r.path)),n,"TargetPurposeLimboResolution",vA.ce))}}async function $x(t,e,r){const n=ar(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=WO.As(l.targetId,u);a.push(h)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,u){const d=ar(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>We.forEach(u,p=>We.forEach(p.Es,f=>d.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>We.forEach(p.ds,f=>d.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!Cy(h))throw h;ht(HO,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const f=d.Ms.get(p),v=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(p,m)}}}(n.localStore,a))}async function p0e(t,e){const r=ar(t);if(!r.currentUser.isEqual(e)){ht(e3,"User change. New user:",e.toKey());const n=await aK(r.localStore,e);r.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new it(Ue.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await $x(r,n.Ls)}}function m0e(t,e){const r=ar(t),n=r.Au.get(e);if(n&&n.hu)return Sr().add(n.key);{let i=Sr();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function NK(t){const e=ar(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m0e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u0e.bind(null,e),e.Pu.H_=Jye.bind(null,e.eventManager),e.Pu.yu=Zye.bind(null,e.eventManager),e}function g0e(t){const e=ar(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d0e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h0e.bind(null,e),e}class xS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=EA(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return xye(this.persistence,new vye,e.initialUser,this.serializer)}Cu(e){return new iK(qO.mi,this.serializer)}Du(e){return new jye}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xS.provider={build:()=>new xS};class v0e extends xS{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Xr(this.persistence.referenceDelegate instanceof yS,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new rye(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new iK(n=>yS.mi(n,r),this.serializer)}}class DC{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>A8(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=p0e.bind(null,this.syncEngine),await Yye(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qye}()}createDatastore(e){const r=EA(e.databaseInfo.databaseId),n=function(a){return new Iye(a)}(e.databaseInfo);return function(a,s,o,l){return new Lye(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new $ye(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>A8(this.syncEngine,r,0),function(){return y8.v()?new y8:new Pye}())}createSyncEngine(e,r){return function(i,a,s,o,l,u,d){const h=new n0e(i,a,s,o,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=ar(i);ht(Qp,"RemoteStore shutting down."),a.Ea.add(5),await Mx(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}DC.provider={build:()=>new DC};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="FirestoreClient";class y0e{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ca.UNAUTHENTICATED,this.clientId=kO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{ht(Jh,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(ht(Jh,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=JO(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function pj(t,e){t.asyncQueue.verifyOperationInProgress(),ht(Jh,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await aK(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E8(t,e){t.asyncQueue.verifyOperationInProgress();const r=await b0e(t);ht(Jh,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>x8(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>x8(e.remoteStore,i)),t._onlineComponents=e}async function b0e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ht(Jh,"Using user provided OfflineComponentProvider");try{await pj(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ue.FAILED_PRECONDITION||i.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Pv("Error using user provided cache. Falling back to memory cache: "+r),await pj(t,new xS)}}else ht(Jh,"Using default OfflineComponentProvider"),await pj(t,new v0e(void 0));return t._offlineComponents}async function jK(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ht(Jh,"Using user provided OnlineComponentProvider"),await E8(t,t._uninitializedComponentsProvider._online)):(ht(Jh,"Using default OnlineComponentProvider"),await E8(t,new DC))),t._onlineComponents}function x0e(t){return jK(t).then(e=>e.syncEngine)}async function PK(t){const e=await jK(t),r=e.eventManager;return r.onListen=i0e.bind(null,e.syncEngine),r.onUnlisten=o0e.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=a0e.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=l0e.bind(null,e.syncEngine),r}function w0e(t,e,r={}){const n=new Tu;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new EK({next:p=>{d.Nu(),s.enqueueAndForget(()=>gK(a,h));const f=p.docs.has(o);!f&&p.fromCache?u.reject(new it(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&l&&l.source==="server"?u.reject(new it(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new vK(LO(o.path),d,{includeMetadataChanges:!0,qa:!0});return mK(a,h)}(await PK(t),t.asyncQueue,e,r,n)),n.promise}function _0e(t,e,r={}){const n=new Tu;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new EK({next:p=>{d.Nu(),s.enqueueAndForget(()=>gK(a,h)),p.fromCache&&l.source==="server"?u.reject(new it(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new vK(o,d,{includeMetadataChanges:!0,qa:!0});return mK(a,h)}(await PK(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK="firestore.googleapis.com",P8=!0;class T8{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CK,this.ssl=P8}else this.host=e.host,this.ssl=e.ssl??P8;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nK;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eye)throw new it(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mge("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TK(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class TA{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T8({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T8(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jge;switch(n.type){case"firstParty":return new kge(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new it(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=j8.get(r);n&&(ht("ComponentProvider","Removing Datastore"),j8.delete(r),n.terminate())}(this),Promise.resolve()}}function S0e(t,e,r,n={}){var u;t=kl(t,TA);const i=Ny(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(xH(`https://${o}`),wH("Firestore",!0)),a.host!==CK&&a.host!==o&&Pv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!Hp(l,s)&&(t._setSettings(l),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=Ca.MOCK_USER;else{d=Rhe(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new it(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ca(p)}t._authCredentials=new Pge(new mG(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class wi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wi(this.firestore,e,this._key)}toJSON(){return{type:wi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Rx(r,wi._jsonSchema))return new wi(e,n||null,new Dt(wn.fromString(r.referencePath)))}}wi._jsonSchemaVersion="firestore/documentReference/1.0",wi._jsonSchema={type:Ti("string",wi._jsonSchemaVersion),referencePath:Ti("string")};class Rh extends Mc{constructor(e,r,n){super(e,r,LO(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wi(this.firestore,null,new Dt(e))}withConverter(e){return new Rh(this.firestore,e,this._path)}}function ra(t,e,...r){if(t=Si(t),gG("collection","path",e),t instanceof TA){const n=wn.fromString(e,...r);return zM(n),new Rh(t,null,n)}{if(!(t instanceof wi||t instanceof Rh))throw new it(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wn.fromString(e,...r));return zM(n),new Rh(t.firestore,null,n)}}function Ss(t,e,...r){if(t=Si(t),arguments.length===1&&(e=kO.newId()),gG("doc","path",e),t instanceof TA){const n=wn.fromString(e,...r);return VM(n),new wi(t,null,new Dt(n))}{if(!(t instanceof wi||t instanceof Rh))throw new it(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wn.fromString(e,...r));return VM(n),new wi(t.firestore,t instanceof Rh?t.converter:null,new Dt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="AsyncQueue";class k8{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oK(this,"async_queue_retry"),this._c=()=>{const n=fj();n&&ht(C8,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=fj();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=fj();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Tu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cy(e))throw e;ht(C8,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Wu("INTERNAL UNHANDLED ERROR: ",I8(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=QO.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Wt(47125,{Pc:I8(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function I8(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ym extends TA{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new k8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k8(e),this._firestoreClient=void 0,await e}}}function A0e(t,e){const r=typeof t=="object"?t:NH(),n=typeof t=="string"?t:hS,i=wO(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Ihe("firestore");a&&S0e(i,...a)}return i}function r3(t){if(t._terminated)throw new it(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||N0e(t),t._firestoreClient}function N0e(t){var n,i,a;const e=t._freezeSettings(),r=function(o,l,u,d){return new Yge(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TK(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new y0e(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(ma.fromBase64String(e))}catch(r){throw new it(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new $o(ma.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$o._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rx(e,$o._jsonSchema))return $o.fromBase64String(e.bytes)}}$o._jsonSchemaVersion="firestore/bytes/1.0",$o._jsonSchema={type:Ti("string",$o._jsonSchemaVersion),bytes:Ti("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new it(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new da(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new it(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new it(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _r(this._lat,e._lat)||_r(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nc._jsonSchemaVersion}}static fromJSON(e){if(Rx(e,Nc._jsonSchema))return new Nc(e.latitude,e.longitude)}}Nc._jsonSchemaVersion="firestore/geoPoint/1.0",Nc._jsonSchema={type:Ti("string",Nc._jsonSchemaVersion),latitude:Ti("number"),longitude:Ti("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ec._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rx(e,Ec._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Ec(e.vectorValues);throw new it(Ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ec._jsonSchemaVersion="firestore/vectorValue/1.0",Ec._jsonSchema={type:Ti("string",Ec._jsonSchemaVersion),vectorValues:Ti("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0e=/^__.*__$/;class j0e{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vf(e,this.data,this.fieldMask,r,this.fieldTransforms):new Dx(e,this.data,r,this.fieldTransforms)}}class kK{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new vf(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function IK(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt(40011,{Ac:t})}}class n3{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n3({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wS(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IK(this.Ac)&&E0e.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class P0e{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||EA(e)}Cc(e,r,n,i=!1){return new n3({Ac:e,methodName:r,Dc:n,path:da.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fx(t){const e=t._freezeSettings(),r=EA(t._databaseId);return new P0e(t._databaseId,!!e.ignoreUndefinedProperties,r)}function OK(t,e,r,n,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);a3("Data must be an object, but it was:",s,n);const o=DK(n,s);let l,u;if(a.merge)l=new ro(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const p=LC(e,h,r);if(!s.contains(p))throw new it(Ue.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);MK(d,p)||d.push(p)}l=new ro(d),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new j0e(new ws(o),l,u)}class IA extends kA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof IA}}class i3 extends kA{_toFieldTransform(e){return new xve(e.path,new mb)}isEqual(e){return e instanceof i3}}function T0e(t,e,r,n){const i=t.Cc(1,e,r);a3("Data must be an object, but it was:",i,n);const a=[],s=ws.empty();mf(n,(l,u)=>{const d=s3(e,l,r);u=Si(u);const h=i.yc(d);if(u instanceof IA)a.push(d);else{const p=Bx(u,h);p!=null&&(a.push(d),s.set(d,p))}});const o=new ro(a);return new kK(s,o,i.fieldTransforms)}function C0e(t,e,r,n,i,a){const s=t.Cc(1,e,r),o=[LC(e,n,r)],l=[i];if(a.length%2!=0)throw new it(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(LC(e,a[p])),l.push(a[p+1]);const u=[],d=ws.empty();for(let p=o.length-1;p>=0;--p)if(!MK(u,o[p])){const f=o[p];let v=l[p];v=Si(v);const m=s.yc(f);if(v instanceof IA)u.push(f);else{const g=Bx(v,m);g!=null&&(u.push(f),d.set(f,g))}}const h=new ro(u);return new kK(d,h,s.fieldTransforms)}function RK(t,e,r,n=!1){return Bx(r,t.Cc(n?4:3,e))}function Bx(t,e){if(LK(t=Si(t)))return a3("Unsupported field value:",e,t),DK(t,e);if(t instanceof kA)return function(n,i){if(!IK(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=Bx(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Si(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return vve(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Vn.fromDate(n);return{timestampValue:vS(i.serializer,a)}}if(n instanceof Vn){const a=new Vn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vS(i.serializer,a)}}if(n instanceof Nc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $o)return{bytesValue:XG(i.serializer,n._byteString)};if(n instanceof wi){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:VO(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ec)return function(s,o){return{mapValue:{fields:{[NG]:{stringValue:jG},[fS]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return $O(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${gA(n)}`)}(t,e)}function DK(t,e){const r={};return bG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mf(t,(n,i)=>{const a=Bx(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function LK(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof Nc||t instanceof $o||t instanceof wi||t instanceof kA||t instanceof Ec)}function a3(t,e,r){if(!LK(r)||!vG(r)){const n=gA(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function LC(t,e,r){if((e=Si(e))instanceof CA)return e._internalPath;if(typeof e=="string")return s3(t,e);throw wS("Field path arguments must be of type string or ",t,!1,void 0,r)}const k0e=new RegExp("[~\\*/\\[\\]]");function s3(t,e,r){if(e.search(k0e)>=0)throw wS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new CA(...e.split("."))._internalPath}catch{throw wS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function wS(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new it(Ue.INVALID_ARGUMENT,o+t+l)}function MK(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I0e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(OA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class I0e extends o3{data(){return super.data()}}function OA(t,e){return typeof e=="string"?s3(t,e):e instanceof CA?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new it(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l3{}class Ux extends l3{}function bm(t,e,...r){let n=[];e instanceof l3&&n.push(e),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof c3).length,o=a.filter(l=>l instanceof RA).length;if(s>1||s>0&&o>0)throw new it(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class RA extends Ux{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new RA(e,r,n)}_apply(e){const r=this._parse(e);return FK(e._query,r),new Mc(e.firestore,e.converter,EC(e._query,r))}_parse(e){const r=Fx(e.firestore);return function(a,s,o,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new it(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){R8(h,d);const v=[];for(const m of h)v.push(O8(l,a,m));p={arrayValue:{values:v}}}else p=O8(l,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||R8(h,d),p=RK(o,s,h,d==="in"||d==="not-in");return Pi.create(u,d,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Cu(t,e,r){const n=e,i=OA("where",t);return RA._create(i,n,r)}class c3 extends l3{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new c3(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Il.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)FK(s,l),s=EC(s,l)}(e._query,r),new Mc(e.firestore,e.converter,EC(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class u3 extends Ux{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new u3(e,r)}_apply(e){const r=function(i,a,s){if(i.startAt!==null)throw new it(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new it(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pb(a,s)}(e._query,this._field,this._direction);return new Mc(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new gf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Zh(t,e="asc"){const r=e,n=OA("orderBy",t);return u3._create(n,r)}class d3 extends Ux{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new d3(e,r,n)}_apply(e){return new Mc(e.firestore,e.converter,mS(e._query,this._limit,this._limitType))}}function yb(t){return $ge("limit",t),d3._create("limit",t,"F")}class h3 extends Ux{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new h3(e,r,n)}_apply(e){const r=$K(e,this.type,this._docOrFields,this._inclusive);return new Mc(e.firestore,e.converter,function(i,a){return new gf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,r))}}function R0e(...t){return h3._create("startAt",t,!0)}class f3 extends Ux{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new f3(e,r,n)}_apply(e){const r=$K(e,this.type,this._docOrFields,this._inclusive);return new Mc(e.firestore,e.converter,function(i,a){return new gf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)}(e._query,r))}}function D0e(...t){return f3._create("endAt",t,!0)}function $K(t,e,r,n){if(r[0]=Si(r[0]),r[0]instanceof o3)return function(a,s,o,l,u){if(!l)throw new it(Ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const h of Ug(a))if(h.field.isKeyField())d.push(pS(s,l.key));else{const p=l.data.field(h.field);if(bA(p))throw new it(Ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const f=h.field.canonicalString();throw new it(Ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}d.push(p)}return new Iv(d,u)}(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=Fx(t.firestore);return function(s,o,l,u,d,h){const p=s.explicitOrderBy;if(d.length>p.length)throw new it(Ue.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let v=0;v<d.length;v++){const m=d[v];if(p[v].field.isKeyField()){if(typeof m!="string")throw new it(Ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof m}`);if(!MO(s)&&m.indexOf("/")!==-1)throw new it(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${m}' contains a slash.`);const g=s.path.child(wn.fromString(m));if(!Dt.isDocumentKey(g))throw new it(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);const y=new Dt(g);f.push(pS(o,y))}else{const g=RK(l,u,m);f.push(g)}}return new Iv(f,h)}(t._query,t.firestore._databaseId,i,e,r,n)}}function O8(t,e,r){if(typeof(r=Si(r))=="string"){if(r==="")throw new it(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MO(e)&&r.indexOf("/")!==-1)throw new it(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wn.fromString(r));if(!Dt.isDocumentKey(n))throw new it(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return pS(t,new Dt(n))}if(r instanceof wi)return pS(t,r._key);throw new it(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gA(r)}.`)}function R8(t,e){if(!Array.isArray(t)||t.length===0)throw new it(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FK(t,e){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new it(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class L0e{convertValue(e,r="none"){switch(Xh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Yh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Wt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return mf(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[fS].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>gi(s.doubleValue));return new Ec(r)}convertGeoPoint(e){return new Nc(gi(e.latitude),gi(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=xA(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(db(e));default:return null}}convertTimestamp(e){const r=Kh(e);return new Vn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wn.fromString(e);Xr(rK(n),9688,{name:e});const i=new hb(n.get(1),n.get(3)),a=new Dt(n.popFirst(5));return i.isEqual(r)||Wu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Z0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tp extends o3{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new c_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(OA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Tp._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Tp._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tp._jsonSchema={type:Ti("string",Tp._jsonSchemaVersion),bundleSource:Ti("string","DocumentSnapshot"),bundleName:Ti("string"),bundle:Ti("string")};class c_ extends Tp{data(e={}){return super.data(e)}}class zg{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Z0(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new c_(this._firestore,this._userDataWriter,n.key,n,new Z0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new it(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new c_(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Z0(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new c_(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Z0(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:M0e(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kO.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function M0e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){t=kl(t,wi);const e=kl(t.firestore,ym);return w0e(r3(e),t._key).then(r=>F0e(e,t,r))}zg._jsonSchemaVersion="firestore/querySnapshot/1.0",zg._jsonSchema={type:Ti("string",zg._jsonSchemaVersion),bundleSource:Ti("string","QuerySnapshot"),bundleName:Ti("string"),bundle:Ti("string")};class UK extends L0e{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,r)}}function Xo(t){t=kl(t,Mc);const e=kl(t.firestore,ym),r=r3(e),n=new UK(e);return O0e(t._query),_0e(r,t._query).then(i=>new zg(e,n,t,i))}function Dv(t,e,r){t=kl(t,wi);const n=kl(t.firestore,ym),i=BK(t.converter,e,r);return DA(n,[OK(Fx(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Wo.none())])}function MC(t,e,r,...n){t=kl(t,wi);const i=kl(t.firestore,ym),a=Fx(i);let s;return s=typeof(e=Si(e))=="string"||e instanceof CA?C0e(a,"updateDoc",t._key,e,r,n):T0e(a,"updateDoc",t._key,e),DA(i,[s.toMutation(t._key,Wo.exists(!0))])}function $0e(t){return DA(kl(t.firestore,ym),[new FO(t._key,Wo.none())])}function Vx(t,e){const r=kl(t.firestore,ym),n=Ss(t),i=BK(t.converter,e);return DA(r,[OK(Fx(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Wo.exists(!1))]).then(()=>n)}function DA(t,e){return function(n,i){const a=new Tu;return n.asyncQueue.enqueueAndForget(async()=>c0e(await x0e(n),i,a)),a.promise}(r3(t),e)}function F0e(t,e,r){const n=r.docs.get(e._key),i=new UK(t);return new Tp(t,i,e._key,n,new Z0(r.hasPendingWrites,r.fromCache),e.converter)}function Qa(){return new i3("serverTimestamp")}(function(e,r=!0){(function(i){Py=i})(Ey),Ev(new Gp("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new ym(new Tge(n.getProvider("auth-internal")),new Ige(s,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new it(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hb(u.options.projectId,d)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Ih($M,FM,e),Ih($M,FM,"esm2020")})();const B0e={apiKey:"AIzaSyAStGKJqRedz12n8JUSfW1eKlPXKsFRHFA",authDomain:"optify-definitivo.firebaseapp.com",projectId:"optify-definitivo",storageBucket:"optify-definitivo.firebasestorage.app",messagingSenderId:"1083748361977",appId:"1:1083748361977:web:faf62042d761fddad26428"},VK=AH(B0e),nn=A0e(VK),e1=Sge(VK),U0e=["diegkamor@gmail.com"],_S=t=>t?U0e.includes(t.toLowerCase()):!1,V0e=async(t,e)=>{try{if(_S(e))return!0;const n=Ss(nn,"admins",t),i=await bb(n);if(i.exists()){const a=i.data();return(a==null?void 0:a.isAdmin)===!0}return!1}catch(r){return console.error("Erro ao verificar status de admin:",r),!1}},D8={free:{funcionarios:1,permissoes:{},isSubscriber:!1,isActive:!1},standard:{funcionarios:5,permissoes:{},isSubscriber:!0,isActive:!0},medium:{funcionarios:10,permissoes:{},isSubscriber:!0,isActive:!0},ultimate:{funcionarios:50,permissoes:{},isSubscriber:!0,isActive:!0}};class qg{static cleanData(e){return Object.fromEntries(Object.entries(e).filter(([r,n])=>n!==void 0))}static async createOrUpdateUserProfile(e,r){try{const n=Ss(nn,"users",e),i=await bb(n),a=D8[r.plano||"free"];if(i.exists()){const s=this.cleanData({email:r.email,name:r.name||r.displayName,displayName:r.displayName,photoURL:r.photoURL,plano:r.plano||"free",funcionariosPermitidos:a.funcionarios,permissoes:a.permissoes,isSubscriber:a.isSubscriber,isActive:a.isActive,updatedAt:Qa()});await MC(n,s)}else{const s=this.cleanData({id:e,email:r.email,name:r.name||r.displayName,displayName:r.displayName,photoURL:r.photoURL,plano:r.plano||"free",funcionariosPermitidos:a.funcionarios,permissoes:a.permissoes,isSubscriber:a.isSubscriber,isActive:a.isActive,isAdmin:!1,subscriptionStartDate:null,subscriptionEndDate:null,subscriptionMonths:null,createdAt:Qa(),updatedAt:Qa()});await Dv(n,s)}console.log(`✅ Perfil do usuário ${r.email} criado/atualizado no Firestore`)}catch(n){throw console.error("❌ Erro ao criar/atualizar perfil do usuário:",n),n}}static async getUserProfile(e){try{const r=Ss(nn,"users",e),n=await bb(r);if(n.exists()){const i=n.data();return{id:e,email:i.email,name:i.name,displayName:i.displayName,photoURL:i.photoURL,plano:i.plano||"free",funcionariosPermitidos:i.funcionariosPermitidos||1,permissoes:i.permissoes||{},isSubscriber:i.isSubscriber||!1,isActive:i.isActive||!1,isAdmin:i.isAdmin||!1,subscriptionStartDate:i.subscriptionStartDate,subscriptionEndDate:i.subscriptionEndDate,subscriptionMonths:i.subscriptionMonths,createdAt:i.createdAt,updatedAt:i.updatedAt}}return null}catch(r){throw console.error("❌ Erro ao buscar perfil do usuário:",r),r}}static async updateUserPlan(e,r,n){try{const i=Ss(nn,"users",e),a=D8[r],s={plano:r,funcionariosPermitidos:a.funcionarios,permissoes:a.permissoes,isSubscriber:a.isSubscriber,isActive:a.isActive,updatedAt:Qa()};if(r!=="free"){if(s.isSubscriber=!0,s.isActive=!0,n&&n>0){const l=new Date,u=new Date;u.setMonth(u.getMonth()+n),s.subscriptionStartDate=l,s.subscriptionEndDate=u,s.subscriptionMonths=n}}else s.isSubscriber=!1,s.isActive=!1,s.subscriptionStartDate=null,s.subscriptionEndDate=null,s.subscriptionMonths=null;const o=this.cleanData(s);await MC(i,o),console.log(`✅ Plano do usuário atualizado para ${r} no Firestore`)}catch(i){throw console.error("❌ Erro ao atualizar plano do usuário:",i),i}}}const zK=T.createContext(void 0),qr=()=>{const t=T.useContext(zK);if(t===void 0)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return t},z0e=({children:t})=>{const[e,r]=T.useState(null),[n,i]=T.useState(!0),[a,s]=T.useState(!1);T.useEffect(()=>ume(e1,async p=>{var f;if(r(p),p)try{await qg.getUserProfile(p.uid)||(await qg.createOrUpdateUserProfile(p.uid,{email:p.email||"",name:p.displayName||((f=p.email)==null?void 0:f.split("@")[0])||"Usuário",displayName:p.displayName,plano:"free"}),console.log(`✅ Perfil criado para usuário existente: ${p.email}`));const m=await V0e(p.uid,p.email);p.email==="diegkamor@gmail.com"?s(!0):s(m)}catch(v){console.error("Erro ao verificar/criar perfil do usuário:",v),p.email==="diegkamor@gmail.com"?s(!0):s(!1)}else s(!1);i(!1)}),[]);const d={user:e,loading:n,isAdmin:a,signIn:async(h,p)=>{try{await ame(e1,h,p)}catch(f){throw console.error("Erro ao fazer login:",f),f}},signUp:async(h,p,f)=>{try{const{user:v}=await ime(e1,h,p);f&&await ome(v,{displayName:f}),await qg.createOrUpdateUserProfile(v.uid,{email:v.email||h,name:f,displayName:f,plano:"free"}),console.log(`✅ Usuário ${h} criado com sucesso no Firestore`)}catch(v){throw console.error("Erro ao criar conta:",v),v}},logout:async()=>{try{await dme(e1)}catch(h){throw console.error("Erro ao fazer logout:",h),h}}};return c.jsx(zK.Provider,{value:d,children:t})},Sa=({children:t,requireAdmin:e=!1})=>{const{user:r,loading:n,isAdmin:i}=qr();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):r?c.jsx(c.Fragment,{children:t}):c.jsx(hH,{to:"/login",replace:!0})},p3={free:{maxEmployees:1,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!1,payments:!1,reports:!1,reportsAdvanced:!1,balances:!1,history:!1,chineseCpa:!1,advancedPanel:!1,dutchuingBot:!1,advancedIntegrations:!1,customApi:!1,prioritySupport:!1,dedicatedSupport:!1}},standard:{maxEmployees:5,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!1,payments:!1,reports:!0,reportsAdvanced:!1,balances:!1,history:!1,chineseCpa:!1,advancedPanel:!1,dutchuingBot:!1,advancedIntegrations:!1,customApi:!1,prioritySupport:!1,dedicatedSupport:!1}},medium:{maxEmployees:10,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!0,payments:!0,reports:!0,reportsAdvanced:!0,balances:!0,history:!0,chineseCpa:!1,advancedPanel:!1,dutchuingBot:!1,advancedIntegrations:!1,customApi:!1,prioritySupport:!1,dedicatedSupport:!1}},ultimate:{maxEmployees:50,features:{dashboard:!0,dailySummary:!0,calendar:!0,calendarPrevious:!0,payments:!0,reports:!0,reportsAdvanced:!0,balances:!0,history:!0,chineseCpa:!0,advancedPanel:!0,dutchuingBot:!0,advancedIntegrations:!0,customApi:!0,prioritySupport:!0,dedicatedSupport:!0}}},q0e=[{id:"free",name:"Free",description:"Plano gratuito para testar o sistema",monthlyPrice:0,annualPrice:0,annualDiscount:0,maxEmployees:1},{id:"standard",name:"Standard",description:"Ideal para pequenos negócios",monthlyPrice:1,annualPrice:10.2,annualDiscount:15,maxEmployees:5},{id:"medium",name:"Medium",description:"Plano mais popular para médias empresas",monthlyPrice:49.9,annualPrice:509.16,annualDiscount:15,maxEmployees:10,isPopular:!0},{id:"ultimate",name:"Ultimate",description:"Acesso total com recursos avançados",monthlyPrice:99.9,annualPrice:1018.32,annualDiscount:15,maxEmployees:50}],Mi=(t,e)=>{const r=p3[t];return r?r.features[e]:!1},W0e=(t,e)=>{const r=p3[t];return r?e<r.maxEmployees:!1},H0e=t=>{const e=p3[t];return(e==null?void 0:e.maxEmployees)||0},L8=t=>q0e.find(e=>e.id===t)||null,qK=(t,e)=>{const n={pagamentos:"payments",relatorios:"reports",saldos:"balances",historico:"history",admin:"advancedPanel"}[e.toLowerCase()];return n?Mi(t,n):!0},G0e=t=>Mi(t,"calendarPrevious"),E0=new Map,yf=()=>{const{user:t}=qr(),e=()=>t!=null&&t.uid&&E0.get(t.uid)||"free",[r,n]=T.useState(e),[i,a]=T.useState(null),[s,o]=T.useState(!0),[l,u]=T.useState(0),[d,h]=T.useState(0);T.useEffect(()=>{(async()=>{if(!t){o(!1);return}try{E0.has(t.uid)||o(!0);const E=await qg.getUserProfile(t.uid),I=(E==null?void 0:E.plano)||"free";E0.set(t.uid,I),n(I),o(!1)}catch(A){console.error("Erro ao buscar plano do usuário:",A),E0.has(t.uid)||n("free"),o(!1)}})()},[t,d]),T.useEffect(()=>{const _=A=>{const{userId:E,newPlan:I}=A.detail;t&&E===t.uid&&(E0.set(E,I),n(I),h(j=>j+1))};return window.addEventListener("planChanged",_),()=>{window.removeEventListener("planChanged",_)}},[t]),T.useEffect(()=>{const _=L8(r);if(_){const A={maxEmployees:_.maxEmployees,features:{dashboard:Mi(r,"dashboard"),dailySummary:Mi(r,"dailySummary"),calendar:Mi(r,"calendar"),calendarPrevious:Mi(r,"calendarPrevious"),payments:Mi(r,"payments"),reports:Mi(r,"reports"),reportsAdvanced:Mi(r,"reportsAdvanced"),balances:Mi(r,"balances"),history:Mi(r,"history"),chineseCpa:Mi(r,"chineseCpa"),advancedPanel:Mi(r,"advancedPanel"),dutchuingBot:Mi(r,"dutchuingBot"),advancedIntegrations:Mi(r,"advancedIntegrations"),customApi:Mi(r,"customApi"),prioritySupport:Mi(r,"prioritySupport"),dedicatedSupport:Mi(r,"dedicatedSupport")}};a(A)}},[r]);const p=_=>_==="advancedPanel"&&_S(t==null?void 0:t.email)?!0:Mi(r,_),f=()=>W0e(r,l),v=()=>H0e(r),m=_=>_.toLowerCase()==="admin"&&_S(t==null?void 0:t.email)?!0:qK(r,_),g=()=>G0e(r),y=L8(r);return{currentPlan:r,limitations:i,loading:s,employeeCount:l,setEmployeeCount:u,planInfo:y,canAccess:p,canAddMoreEmployees:f,getEmployeeLimitForPlan:v,canAccessPageRoute:m,canEditPreviousCalendarDays:g,refreshPlan:()=>{h(_=>_+1)}}},Qe=T.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:wt("rounded-2xl border border-border/50 bg-card text-card-foreground shadow-soft backdrop-blur-sm",t),...e}));Qe.displayName="Card";const K0e=T.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));K0e.displayName="CardHeader";const Y0e=T.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:wt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Y0e.displayName="CardTitle";const X0e=T.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:wt("text-sm text-muted-foreground",t),...e}));X0e.displayName="CardDescription";const Q0e=T.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:wt("p-6 pt-0",t),...e}));Q0e.displayName="CardContent";const J0e=T.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:wt("flex items-center p-6 pt-0",t),...e}));J0e.displayName="CardFooter";const xb=Nx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"gradient-primary text-primary-foreground hover:shadow-glow hover:scale-105",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:scale-105",outline:"border-2 border-primary/50 bg-transparent text-primary hover:bg-primary/10 hover:border-primary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:scale-105",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline",success:"gradient-success text-success-foreground hover:shadow-glow hover:scale-105",glass:"glass text-foreground hover:bg-primary/10"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-lg px-4",lg:"h-13 rounded-xl px-10 text-base",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),qe=T.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const s=n?Bse:"button";return c.jsx(s,{className:wt(xb({variant:e,size:r,className:t})),ref:a,...i})});qe.displayName="Button";const Z0e=Nx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ir({className:t,variant:e,...r}){return c.jsx("div",{className:wt(Z0e({variant:e}),t),...r})}const j0=({children:t,requiredFeature:e,pageName:r})=>{const{user:n}=qr(),i=Wi(),{currentPlan:a}=yf();if(!n)return c.jsx(hH,{to:"/login",replace:!0});let s=qK(a,e);return e==="advancedPanel"&&_S(n==null?void 0:n.email)&&(s=!0),e==="advancedPanel"&&(s=!0),s?c.jsx(c.Fragment,{children:t}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-background/95 p-4",children:c.jsx(Qe,{className:"w-full max-w-2xl p-8 text-center shadow-2xl",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"p-4 rounded-full bg-gradient-primary/10",children:c.jsx(nA,{className:"h-12 w-12 text-primary"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Funcionalidade Bloqueada"}),c.jsxs("p",{className:"text-muted-foreground text-lg",children:[r," está disponível apenas em planos superiores"]})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Plano atual:"}),c.jsx(ir,{variant:"outline",className:"capitalize",children:a})]}),c.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Com planos superiores você terá:"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Relatórios avançados"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Histórico completo"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Controle de saldos"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Mais funcionários"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[c.jsxs(qe,{onClick:()=>i("/planos"),className:"flex items-center gap-2 bg-gradient-primary",children:[c.jsx(Sv,{className:"h-4 w-4"}),"Ver Planos Disponíveis"]}),c.jsxs(qe,{variant:"outline",onClick:()=>i("/dashboard"),className:"flex items-center gap-2",children:[c.jsx(X2,{className:"h-4 w-4"}),"Voltar ao Dashboard"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Faça upgrade agora e desbloqueie todas as funcionalidades avançadas"})]})})})},e1e={async listActivePlans(){const t=ra(nn,"plans"),e=bm(t,Cu("active","==",!0),Zh("order","asc"));return(await Xo(e)).docs.map(n=>({id:n.id,...n.data()}))}};function t1e(){return _y({queryKey:["plans","active"],queryFn:()=>e1e.listActivePlans(),staleTime:1e3*60*5})}var LA="Collapsible",[r1e,WK]=mo(LA),[n1e,m3]=r1e(LA),HK=T.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:s,...o}=t,[l,u]=jl({prop:n,defaultProp:i??!1,onChange:s,caller:LA});return c.jsx(n1e,{scope:r,disabled:a,contentId:Al(),open:l,onOpenToggle:T.useCallback(()=>u(d=>!d),[u]),children:c.jsx(Ht.div,{"data-state":v3(l),"data-disabled":a?"":void 0,...o,ref:e})})});HK.displayName=LA;var GK="CollapsibleTrigger",KK=T.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=m3(GK,r);return c.jsx(Ht.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":v3(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:kt(t.onClick,i.onOpenToggle)})});KK.displayName=GK;var g3="CollapsibleContent",YK=T.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=m3(g3,t.__scopeCollapsible);return c.jsx(Dc,{present:r||i.open,children:({present:a})=>c.jsx(i1e,{...n,ref:e,present:a})})});YK.displayName=g3;var i1e=T.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,s=m3(g3,r),[o,l]=T.useState(n),u=T.useRef(null),d=Rr(e,u),h=T.useRef(0),p=h.current,f=T.useRef(0),v=f.current,m=s.open||o,g=T.useRef(m),y=T.useRef(void 0);return T.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),ta(()=>{const x=u.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const _=x.getBoundingClientRect();h.current=_.height,f.current=_.width,g.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),l(n)}},[s.open,n]),c.jsx(Ht.div,{"data-state":v3(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:m&&i})});function v3(t){return t?"open":"closed"}var a1e=HK,s1e=KK,o1e=YK,l1e=T.createContext(void 0);function MA(t){const e=T.useContext(l1e);return t||e||"ltr"}var Ll="Accordion",c1e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[y3,u1e,d1e]=J5(Ll),[$A,JJe]=mo(Ll,[d1e,WK]),b3=WK(),XK=ue.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return c.jsx(y3.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?c.jsx(m1e,{...a,ref:e}):c.jsx(p1e,{...i,ref:e})})});XK.displayName=Ll;var[QK,h1e]=$A(Ll),[JK,f1e]=$A(Ll,{collapsible:!1}),p1e=ue.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...s}=t,[o,l]=jl({prop:r,defaultProp:n??"",onChange:i,caller:Ll});return c.jsx(QK,{scope:t.__scopeAccordion,value:ue.useMemo(()=>o?[o]:[],[o]),onItemOpen:l,onItemClose:ue.useCallback(()=>a&&l(""),[a,l]),children:c.jsx(JK,{scope:t.__scopeAccordion,collapsible:a,children:c.jsx(ZK,{...s,ref:e})})})}),m1e=ue.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[s,o]=jl({prop:r,defaultProp:n??[],onChange:i,caller:Ll}),l=ue.useCallback(d=>o((h=[])=>[...h,d]),[o]),u=ue.useCallback(d=>o((h=[])=>h.filter(p=>p!==d)),[o]);return c.jsx(QK,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:u,children:c.jsx(JK,{scope:t.__scopeAccordion,collapsible:!0,children:c.jsx(ZK,{...a,ref:e})})})}),[g1e,FA]=$A(Ll),ZK=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...s}=t,o=ue.useRef(null),l=Rr(o,e),u=u1e(r),h=MA(i)==="ltr",p=kt(t.onKeyDown,f=>{var N;if(!c1e.includes(f.key))return;const v=f.target,m=u().filter(k=>{var D;return!((D=k.ref.current)!=null&&D.disabled)}),g=m.findIndex(k=>k.ref.current===v),y=m.length;if(g===-1)return;f.preventDefault();let x=g;const _=0,A=y-1,E=()=>{x=g+1,x>A&&(x=_)},I=()=>{x=g-1,x<_&&(x=A)};switch(f.key){case"Home":x=_;break;case"End":x=A;break;case"ArrowRight":a==="horizontal"&&(h?E():I());break;case"ArrowDown":a==="vertical"&&E();break;case"ArrowLeft":a==="horizontal"&&(h?I():E());break;case"ArrowUp":a==="vertical"&&I();break}const j=x%y;(N=m[j].ref.current)==null||N.focus()});return c.jsx(g1e,{scope:r,disabled:n,direction:i,orientation:a,children:c.jsx(y3.Slot,{scope:r,children:c.jsx(Ht.div,{...s,"data-orientation":a,ref:l,onKeyDown:n?void 0:p})})})}),SS="AccordionItem",[v1e,x3]=$A(SS),eY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=FA(SS,r),s=h1e(SS,r),o=b3(r),l=Al(),u=n&&s.value.includes(n)||!1,d=a.disabled||t.disabled;return c.jsx(v1e,{scope:r,open:u,disabled:d,triggerId:l,children:c.jsx(a1e,{"data-orientation":a.orientation,"data-state":sY(u),...o,...i,ref:e,disabled:d,open:u,onOpenChange:h=>{h?s.onItemOpen(n):s.onItemClose(n)}})})});eY.displayName=SS;var tY="AccordionHeader",rY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=FA(Ll,r),a=x3(tY,r);return c.jsx(Ht.h3,{"data-orientation":i.orientation,"data-state":sY(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});rY.displayName=tY;var $C="AccordionTrigger",nY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=FA(Ll,r),a=x3($C,r),s=f1e($C,r),o=b3(r);return c.jsx(y3.ItemSlot,{scope:r,children:c.jsx(s1e,{"aria-disabled":a.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...o,...n,ref:e})})});nY.displayName=$C;var iY="AccordionContent",aY=ue.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=FA(Ll,r),a=x3(iY,r),s=b3(r);return c.jsx(o1e,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});aY.displayName=iY;function sY(t){return t?"open":"closed"}var y1e=XK,b1e=eY,x1e=rY,oY=nY,lY=aY;const w1e=y1e,cu=T.forwardRef(({className:t,...e},r)=>c.jsx(b1e,{ref:r,className:wt("border-b",t),...e}));cu.displayName="AccordionItem";const uu=T.forwardRef(({className:t,children:e,...r},n)=>c.jsx(x1e,{className:"flex",children:c.jsxs(oY,{ref:n,className:wt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,c.jsx(YI,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));uu.displayName=oY.displayName;const du=T.forwardRef(({className:t,children:e,...r},n)=>c.jsx(lY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:c.jsx("div",{className:wt("pb-4 pt-0",t),children:e})}));du.displayName=lY.displayName;const _1e=()=>{const t=Wi(),{user:e}=qr();T.useEffect(()=>{e&&t("/dashboard")},[e,t]),T.useEffect(()=>{const d={threshold:.2,rootMargin:"0px 0px -100px 0px"},h=new IntersectionObserver(f=>{f.forEach(v=>{v.isIntersecting&&v.target.classList.add("is-visible")})},d);return document.querySelectorAll(".animate-fade-in-scroll").forEach(f=>h.observe(f)),()=>h.disconnect()},[]);const r=[{icon:di,title:"Gestão de Operações Completa",description:"Controle total sobre receitas, despesas e lucros em tempo real"},{icon:es,title:"Gestão de Funcionários",description:"Cadastre, acompanhe e gerencie sua equipe de forma eficiente"},{icon:Vp,title:"Seguro e Confiável",description:"Seus dados protegidos com a melhor tecnologia de segurança"},{icon:K_,title:"Relatórios Inteligentes",description:"Insights poderosos para tomar decisões estratégicas"}],n=["Sem custos ocultos","Suporte 24/7","Interface intuitiva","Relatórios em tempo real","Integração completa","Dados seguros"],i=[{label:"Gestão de Funcionários",icon:es},{label:"Transações em Tempo Real",icon:Woe},{label:"Relatórios e Exportações",icon:$T},{label:"Calendário de Pagamentos",icon:_v},{label:"Fechamento Diário Automático",icon:Doe},{label:"Segurança e Privacidade",icon:nA},{label:"Plataformas Personalizadas",icon:XE},{label:"Painéis Analíticos",icon:di}],{data:a,isLoading:s}=t1e(),o=[{name:"Free",price:0,period:"Grátis",badge:"Comece grátis",icon:XE,highlight:!1,features:["Até 1 funcionário","Dashboard básico","Resumo do dia","Visualização de transações","Funcionalidades básicas"]},{name:"Standard",price:1,period:"/mês",badge:void 0,icon:Vp,highlight:!1,features:["Até 5 funcionários","Dashboard básico","Resumo do dia","Relatórios básicos","Suporte por email"]},{name:"Medium",price:49.9,period:"/mês",badge:"Mais popular",icon:K_,highlight:!0,features:["Até 10 funcionários","Pagamentos","Saldos de contas","Histórico completo","Relatórios avançados","Calendário anterior"]},{name:"Ultimate",price:99.9,period:"/mês",badge:"Para equipes",icon:Sv,highlight:!1,features:["Funcionários ilimitados","Todas as funcionalidades","Prioridade no suporte","Recursos exclusivos","Integrações avançadas","API personalizada","Painel avançado","Suporte dedicado"]}],l=(a&&a.length>0?a:o).map(d=>({...d,period:d.period||"/mês",icon:d.icon||(d.highlight||d.popular||/pro|medium/i.test(d.name)?Sv:/enterprise|ultimate|business/i.test(d.name)?Ioe:XE),highlight:!!(d.highlight||d.popular),badge:d.badge||(d.popular?"Mais popular":void 0)})),u=d=>{const h=document.getElementById(d);h&&h.scrollIntoView({behavior:"smooth",block:"start"})};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsx("header",{className:"sticky top-0 z-20 border-b border-border/50 backdrop-blur-sm/60 bg-background/60",children:c.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("svg",{className:"w-10 h-10 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]}),c.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Optify"})]}),c.jsxs("nav",{className:"hidden md:flex items-center justify-center gap-6 text-sm ml-24",children:[c.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>u("features"),children:"Funcionalidades"}),c.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>u("plans"),children:"Planos"}),c.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>u("faq"),children:"FAQ"}),c.jsx("button",{className:"hover:text-primary transition-colors",onClick:()=>u("contact"),children:"Contato"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx(qe,{variant:"ghost",onClick:()=>t("/login"),children:"Entrar"}),c.jsx(qe,{onClick:()=>t("/signup"),children:"Começar Agora"})]})]})}),c.jsx("section",{id:"hero",className:"relative z-10 container mx-auto px-4 py-20 md:py-32",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsxs("svg",{className:"w-16 h-16 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]}),c.jsx("h2",{className:"text-5xl md:text-7xl font-bold leading-tight",children:c.jsx("span",{className:"gradient-primary bg-clip-text text-transparent",children:"Optify"})})]}),c.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto",children:"Transforme a gestão das suas operações. Gerencie funcionários, pagamentos e relatórios em um só lugar."}),c.jsx("div",{className:"glass rounded-xl p-4 max-w-lg mx-auto border border-primary/20",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),c.jsxs("span",{className:"text-muted-foreground",children:[c.jsx("span",{className:"text-primary font-semibold",children:"7 dias grátis"})," com o plano Ultimate"]}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(qe,{size:"lg",className:"text-xl px-12 py-6",onClick:()=>t("/signup"),children:"Começar Teste Gratuito"}),c.jsx(qe,{size:"lg",variant:"outline",className:"text-xl px-12 py-6",onClick:()=>u("plans"),children:"Ver Planos"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-w-2xl mx-auto pt-8",children:n.map((d,h)=>c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Eh,{className:"h-4 w-4 text-success flex-shrink-0"}),c.jsx("span",{children:d})]},h))})]})}),c.jsx("section",{id:"features",className:"relative z-10 container mx-auto px-4 py-20",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((d,h)=>c.jsxs("div",{className:"glass p-6 rounded-xl hover:shadow-glow transition-all animate-fade-in",style:{animationDelay:`${h*.1}s`},children:[c.jsx("div",{className:"p-3 bg-primary/10 rounded-lg w-fit mb-4",children:c.jsx(d.icon,{className:"h-6 w-6 text-primary"})}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.title}),c.jsx("p",{className:"text-muted-foreground",children:d.description})]},h))})}),c.jsx("section",{className:"relative z-10 container mx-auto px-4 py-8",children:c.jsx("div",{className:"overflow-hidden rounded-xl border border-border/50",children:c.jsx("div",{className:"marquee flex gap-6 py-6",children:[...Array(2)].flatMap(()=>i).map((d,h)=>c.jsxs("div",{className:"glass px-4 py-3 rounded-lg flex items-center gap-2 card-hover whitespace-nowrap",children:[c.jsx(d.icon,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:d.label})]},h))})})}),c.jsx("section",{className:"relative z-10 container mx-auto px-4 py-16",children:c.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in-scroll",children:c.jsxs("div",{className:"glass rounded-2xl p-8 md:p-12 text-center border border-primary/20",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),c.jsxs("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:[c.jsx("span",{className:"text-primary",children:"7 dias grátis"})," com o plano Ultimate"]}),c.jsx("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Experimente todas as funcionalidades premium sem compromisso. Acesse recursos ilimitados, suporte prioritário e muito mais."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),c.jsx("span",{children:"Funcionários ilimitados"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),c.jsx("span",{children:"Suporte prioritário 24h"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),c.jsx("span",{children:"Recursos exclusivos"})]})]}),c.jsxs(qe,{size:"lg",className:"text-xl px-12 py-6",onClick:()=>t("/signup"),children:["Começar Teste Gratuito",c.jsx(X2,{className:"ml-2 h-5 w-5"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Sem cartão de crédito • Cancele quando quiser"})]})})}),c.jsxs("section",{id:"plans",className:"relative z-10 container mx-auto px-4 py-20",children:[c.jsxs("div",{className:"text-center mb-12 animate-fade-in-scroll",children:[c.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Planos para cada estágio"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Escolha o plano ideal e comece agora mesmo"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto animate-fade-in-scroll",children:l.map((d,h)=>c.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-border hover:shadow-glow transition-all",children:c.jsxs("div",{className:`glass p-6 ${d.badge?"pt-12":""} h-full flex flex-col`,children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:`w-12 h-12 rounded-full mx-auto mb-3 flex items-center justify-center ${d.name==="Free"?"bg-gray-500/20":d.name==="Standard"?"bg-blue-500/20":d.name==="Medium"?"bg-green-500/20":"bg-purple-500/20"}`,children:c.jsx(d.icon,{className:`h-6 w-6 ${d.name==="Free"?"text-gray-400":d.name==="Standard"?"text-blue-400":d.name==="Medium"?"text-green-400":"text-purple-400"}`})}),c.jsx("h4",{className:"text-xl font-bold mb-1",children:d.name}),d.name==="Free"&&c.jsx("div",{className:"text-2xl font-bold text-green-400",children:"Grátis"})]}),d.name!=="Free"&&c.jsxs("div",{className:"text-center mb-6",children:[c.jsxs("div",{className:"text-3xl font-extrabold",children:["R$ ",d.price.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),c.jsx("div",{className:"text-muted-foreground",children:d.period})]}),c.jsx("ul",{className:"space-y-3 mb-8 flex-grow",children:(d.features||[]).map((p,f)=>c.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[c.jsx(Eh,{className:"h-4 w-4 text-success flex-shrink-0"}),c.jsx("span",{className:"text-muted-foreground",children:p})]},f))})]})},h))}),c.jsx("div",{className:"text-center mt-16 mb-8",children:c.jsxs(qe,{size:"lg",className:"text-xl px-12 py-6 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:()=>t("/signup"),children:["Começar 7 dias grátis",c.jsx(X2,{className:"ml-2 h-5 w-5"})]})})]}),c.jsx("section",{id:"metrics",className:"relative z-10 container mx-auto px-4 py-12",children:c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-6xl mx-auto animate-fade-in-scroll",children:[{label:"Usuários ativos",value:"250+"},{label:"Transações/mês",value:"120K+"},{label:"Tempo economizado",value:"80h+"},{label:"Satisfação",value:"98%+"}].map((d,h)=>c.jsxs("div",{className:"glass rounded-xl p-6 text-center card-hover",children:[c.jsx("div",{className:"text-3xl font-extrabold mb-1",children:d.value}),c.jsx("div",{className:"text-sm text-muted-foreground",children:d.label})]},h))})}),c.jsxs("section",{id:"faq",className:"relative z-10 container mx-auto px-4 py-20",children:[c.jsxs("div",{className:"text-center mb-10 animate-fade-in-scroll",children:[c.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Perguntas frequentes"}),c.jsx("p",{className:"text-muted-foreground",children:"Tudo o que você precisa saber para começar"})]}),c.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in-scroll",children:c.jsxs(w1e,{type:"single",collapsible:!0,className:"space-y-3",children:[c.jsxs(cu,{value:"item-1",className:"glass rounded-xl px-4",children:[c.jsx(uu,{children:"Posso começar grátis e mudar depois?"}),c.jsx(du,{children:"Sim. Você pode começar no plano gratuito e migrar para outro quando quiser. Não há taxas de cancelamento ou multas."})]}),c.jsxs(cu,{value:"item-2",className:"glass rounded-xl px-4",children:[c.jsx(uu,{children:"Como funciona o fechamento diário?"}),c.jsx(du,{children:"Todos os dias às 00:00 salvamos automaticamente um resumo das transações no seu histórico. Você também pode fazer fechamentos manuais quando necessário."})]}),c.jsxs(cu,{value:"item-3",className:"glass rounded-xl px-4",children:[c.jsx(uu,{children:"Quais são os planos disponíveis?"}),c.jsx(du,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Free:"})," Até 1 funcionário, dashboard básico, resumo do dia e visualização de transações."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Standard:"})," Até 5 funcionários, relatórios básicos e suporte por email."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Medium:"})," Até 10 funcionários, pagamentos, saldos, histórico completo e relatórios avançados."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Ultimate:"})," Funcionários ilimitados, todas as funcionalidades, suporte prioritário e recursos exclusivos."]})]})})]}),c.jsxs(cu,{value:"item-4",className:"glass rounded-xl px-4",children:[c.jsx(uu,{children:"Como faço para cancelar minha assinatura?"}),c.jsx(du,{children:"Você pode cancelar sua assinatura a qualquer momento através do seu painel de controle. Não há taxas de cancelamento e você continuará tendo acesso até o final do período pago."})]}),c.jsxs(cu,{value:"item-5",className:"glass rounded-xl px-4",children:[c.jsx(uu,{children:"Posso importar dados de outros sistemas?"}),c.jsx(du,{children:"Sim! Oferecemos importação em CSV/Excel para funcionários e transações. Nossa equipe também pode ajudar com migrações de dados mais complexas nos planos pagos."})]}),c.jsxs(cu,{value:"item-6",className:"glass rounded-xl px-4",children:[c.jsx(uu,{children:"Há limite de transações por mês?"}),c.jsx(du,{children:"O plano Free tem limite de 50 transações por mês. Os planos pagos têm limites mais altos ou ilimitados, dependendo do plano escolhido."})]}),c.jsxs(cu,{value:"item-7",className:"glass rounded-xl px-4",children:[c.jsx(uu,{children:"Como funciona o suporte técnico?"}),c.jsx(du,{children:"Oferecemos suporte via WhatsApp para todos os planos. Planos pagos têm suporte prioritário e resposta mais rápida. O plano Ultimate inclui suporte dedicado."})]}),c.jsxs(cu,{value:"item-8",className:"glass rounded-xl px-4",children:[c.jsx(uu,{children:"Meus dados estão seguros?"}),c.jsx(du,{children:"Sim. Utilizamos criptografia de ponta a ponta e seguimos as melhores práticas de segurança da indústria para proteger seus dados e informações financeiras."})]})]})})]}),c.jsxs("section",{id:"contact",className:"relative z-10 container mx-auto px-4 py-20",children:[c.jsxs("div",{className:"text-center mb-10 animate-fade-in-scroll",children:[c.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Fale com a gente"}),c.jsx("p",{className:"text-muted-foreground",children:"Entre em contato pelos nossos canais oficiais"})]}),c.jsxs("div",{className:"max-w-3xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-6 animate-fade-in-scroll",children:[c.jsxs("a",{href:"https://wa.me/556295536121",target:"_blank",rel:"noreferrer",className:"glass rounded-xl p-6 flex items-center gap-3 hover:shadow-glow transition-all",children:[c.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:"WhatsApp"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Atendimento rápido"})]})]}),c.jsxs("a",{href:"https://instagram.com/optify",target:"_blank",rel:"noreferrer",className:"glass rounded-xl p-6 flex items-center gap-3 hover:shadow-glow transition-all",children:[c.jsx($oe,{className:"h-6 w-6 text-white"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:"Instagram"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Acompanhe as novidades"})]})]})]})]}),c.jsx("section",{className:"relative z-10 container mx-auto px-4 py-20",children:c.jsxs("div",{className:"glass rounded-2xl p-8 md:p-12 text-center border border-primary/20 max-w-4xl mx-auto space-y-6 animate-fade-in-scroll",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsxs("svg",{className:"w-16 h-16 text-primary animate-pulse",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsxs("h3",{className:"text-4xl md:text-5xl font-bold leading-tight",children:[c.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"Pronto para transformar"}),c.jsx("br",{}),c.jsx("span",{className:"text-foreground",children:"a gestão das suas operações?"})]}),c.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Junte-se a centenas de usuários que já usam o Optify para revolucionar sua gestão"}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-8 py-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-primary",children:"250+"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Usuários ativos"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-primary",children:"98%"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Satisfação"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-primary",children:"24h"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Suporte"})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[c.jsxs(qe,{size:"lg",className:"text-lg px-10 py-6 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:()=>t("/signup"),children:["Começar Teste Gratuito",c.jsx(X2,{className:"ml-2 h-5 w-5"})]}),c.jsx(qe,{size:"lg",variant:"outline",className:"text-lg px-10 py-6 border-primary/50 hover:border-primary hover:bg-primary/10 transition-all duration-300",onClick:()=>t("/login"),children:"Já tenho conta"})]}),c.jsx("p",{className:"text-sm text-muted-foreground pt-4",children:"Sem compromisso • Comece grátis • Cancele quando quiser"})]})}),c.jsx("footer",{className:"relative z-10 border-t border-border/50 backdrop-blur-sm mt-20",children:c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2025 Optify. Todos os direitos reservados."}),c.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[c.jsx("a",{href:"/termos",className:"hover:text-primary transition-colors",children:"Termos"}),c.jsx("a",{href:"/privacidade",className:"hover:text-primary transition-colors",children:"Privacidade"}),c.jsx("a",{href:"/suporte",className:"hover:text-primary transition-colors",children:"Suporte"})]})]})})})]})},Ft=T.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:wt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ft.displayName="Input";var S1e="Label",cY=T.forwardRef((t,e)=>c.jsx(Ht.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));cY.displayName=S1e;var uY=cY;const A1e=Nx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),st=T.forwardRef(({className:t,...e},r)=>c.jsx(uY,{ref:r,className:wt(A1e(),t),...e}));st.displayName=uY.displayName;const N1e=()=>{const[t,e]=T.useState(""),[r,n]=T.useState(""),[i,a]=T.useState(!1),s=Wi(),{signIn:o,user:l}=qr();if(l)return s("/dashboard"),null;const u=async d=>{d.preventDefault(),a(!0);try{await o(t,r),Ge.success("Login realizado com sucesso!"),s("/dashboard")}catch{Ge.error("Erro ao fazer login. Tente novamente.")}finally{a(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Entre na sua conta e gerencie suas operações"}),c.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"Email"}),c.jsx(Ft,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:d=>e(d.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"password",className:"text-sm font-medium text-foreground",children:"Senha"}),c.jsx(Ft,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:d=>n(d.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsx(qe,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx(Pp,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"})]}),c.jsxs("div",{className:"mt-6 text-center text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Não tem uma conta? "}),c.jsx("button",{onClick:()=>s("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Cadastre-se"})]}),c.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg text-xs text-muted-foreground",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Teste com:"}),c.jsx("p",{children:"Email: admin@optify.com"}),c.jsx("p",{children:"Senha: qualquer senha"})]})]})]})},E1e=()=>{const[t,e]=T.useState(""),[r,n]=T.useState(""),[i,a]=T.useState(""),[s,o]=T.useState(!1),l=Wi(),{signUp:u,user:d}=qr();if(d)return l("/dashboard"),null;const h=async p=>{if(p.preventDefault(),r!==i){Ge.error("As senhas não coincidem");return}o(!0);try{await u(t,r,""),Ge.success("Cadastro realizado com sucesso!"),l("/basic-info")}catch(f){const v=(f==null?void 0:f.code)||"";v==="auth/email-already-in-use"?(Ge.error("Este e-mail já está em uso. Faça login ou use outro e-mail."),setTimeout(()=>l("/login"),300)):v==="auth/invalid-email"?Ge.error("E-mail inválido. Verifique e tente novamente."):v==="auth/weak-password"?Ge.error("Senha fraca. Use pelo menos 6 caracteres."):Ge.error("Erro ao criar conta. Tente novamente.")}finally{o(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("button",{onClick:()=>l("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),c.jsx("button",{onClick:()=>l("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Crie sua conta e gerencie suas operações"}),c.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"Email"}),c.jsx(Ft,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:p=>e(p.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"password",className:"text-sm font-medium text-foreground",children:"Senha"}),c.jsx(Ft,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:p=>n(p.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,minLength:6})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"confirmPassword",className:"text-sm font-medium text-foreground",children:"Confirmar senha"}),c.jsx(Ft,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:i,onChange:p=>a(p.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,minLength:6})]}),c.jsx(qe,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(Pp,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar conta"})]}),c.jsxs("div",{className:"mt-6 text-center text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Já tem uma conta? "}),c.jsx("button",{onClick:()=>l("/login"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Faça login"})]})]})]})};class Pr{static async saveToUserSubcollection(e,r,n,i){try{const a=Ss(nn,this.usersCollection,e,r,n),s={...i,createdAt:Qa(),updatedAt:Qa()};await Dv(a,s)}catch(a){throw console.error(`Erro ao salvar em ${r}:`,a),new Error(`Falha ao salvar dados em ${r}`)}}static async getFromUserSubcollection(e,r,n){var i,a;try{const s=Ss(nn,this.usersCollection,e,r,n),o=await bb(s);if(o.exists()){const l=o.data();return{...l,createdAt:((i=l.createdAt)==null?void 0:i.toDate())||new Date,updatedAt:((a=l.updatedAt)==null?void 0:a.toDate())||new Date}}return null}catch(s){throw console.error(`Erro ao buscar de ${r}:`,s),new Error(`Falha ao buscar dados de ${r}`)}}static async updateUserSubcollection(e,r,n,i){try{const a=Ss(nn,this.usersCollection,e,r,n),s=Object.fromEntries(Object.entries(i).filter(([l,u])=>u!==void 0));(await bb(a)).exists()?await MC(a,{...s,updatedAt:Qa()}):await Dv(a,{...s,createdAt:Qa(),updatedAt:Qa()})}catch(a){throw console.error(`Erro ao atualizar ${r}:`,a),new Error(`Falha ao atualizar dados de ${r}`)}}static async getAllFromUserSubcollection(e,r,n=[]){try{const i=ra(nn,this.usersCollection,e,r),a=bm(i,...n);return(await Xo(a)).docs.map(o=>{var l,u;return{id:o.id,...o.data(),createdAt:((l=o.data().createdAt)==null?void 0:l.toDate())||new Date,updatedAt:((u=o.data().updatedAt)==null?void 0:u.toDate())||new Date}})}catch(i){throw console.error(`Erro ao buscar todos de ${r}:`,i),new Error(`Falha ao buscar dados de ${r}`)}}static async addToUserSubcollection(e,r,n){try{console.log(`UserSubcollectionsService.addToUserSubcollection - salvando em ${r}:`,{userId:e,data:n});const i=ra(nn,this.usersCollection,e,r),a={...n,createdAt:Qa(),updatedAt:Qa()};console.log("Dados com timestamps:",a);const s=await Vx(i,a);return console.log(`Documento criado com ID: ${s.id}`),s.id}catch(i){throw console.error(`Erro ao adicionar em ${r}:`,i),new Error(`Falha ao adicionar dados em ${r}`)}}static async deleteFromUserSubcollection(e,r,n){try{const i=Ss(nn,this.usersCollection,e,r,n);await $0e(i)}catch(i){throw console.error(`Erro ao deletar de ${r}:`,i),new Error(`Falha ao deletar dados de ${r}`)}}}kr(Pr,"usersCollection","users");const Fr={PROFILE:"profile",CONFIG:"config",EMPLOYEES:"employees",PLATFORMS:"platforms",TRANSACTIONS:"transactions",DAILY_SUMMARIES:"dailySummaries",ACCOUNTS:"accounts",PAYMENTS:"payments",GOALS:"goals",REPORTS:"reports"};async function j1e(t){const e=Object.values(Fr);for(const r of e)try{r===Fr.PROFILE?await Pr.deleteFromUserSubcollection(t,r,"basic"):r===Fr.CONFIG&&await Pr.deleteFromUserSubcollection(t,r,"initial");const n=await Pr.getAllFromUserSubcollection(t,r);await Promise.all(n.map(i=>i!=null&&i.id?Pr.deleteFromUserSubcollection(t,r,i.id):Promise.resolve()))}catch(n){console.warn(`Falha parcial ao deletar subcoleção ${r} do usuário ${t}:`,n)}}class dY{static async saveBasicInfo(e,r){return Pr.saveToUserSubcollection(e,Fr.PROFILE,this.docId,r)}static async getUserBasicInfo(e){return Pr.getFromUserSubcollection(e,Fr.PROFILE,this.docId)}static async updateBasicInfo(e,r){return Pr.updateUserSubcollection(e,Fr.PROFILE,this.docId,r)}}kr(dY,"docId","basic");const P1e=()=>{const[t,e]=T.useState(""),[r,n]=T.useState(""),[i,a]=T.useState(!1),s=Wi(),{user:o}=qr(),l=async u=>{if(u.preventDefault(),!t.trim()||!r.trim()){Ge.error("Por favor, preencha todos os campos");return}a(!0);try{if(!(o!=null&&o.uid)){Ge.error("Usuário não autenticado");return}await dY.saveBasicInfo(o.uid,{name:t,phone:r}),Ge.success("Informações básicas salvas!"),s("/initial-setup")}catch{Ge.error("Erro ao salvar informações. Tente novamente.")}finally{a(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute w-96 h-96 bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-float-slow"}),c.jsx("div",{className:"absolute w-96 h-96 bg-secondary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-float-reverse"}),c.jsx("div",{className:"absolute w-64 h-64 bg-primary/10 rounded-full blur-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-float-center"})]}),c.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),c.jsx("div",{className:"absolute top-40 right-32 w-1 h-1 bg-secondary rounded-full animate-bounce delay-700"}),c.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-1000"}),c.jsx("div",{className:"absolute bottom-20 right-20 w-2 h-2 bg-secondary rounded-full animate-bounce delay-500"}),c.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Complete suas informações básicas"}),c.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),c.jsxs("form",{onSubmit:l,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(st,{htmlFor:"name",className:"text-sm font-medium text-foreground flex items-center gap-2",children:[c.jsx(tW,{className:"w-4 h-4"}),"Nome completo"]}),c.jsx(Ft,{id:"name",type:"text",placeholder:"Digite seu nome completo",value:t,onChange:u=>e(u.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"phone",className:"text-sm font-medium text-foreground",children:"Telefone"}),c.jsx(Ft,{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:r,onChange:u=>n(u.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0})]}),c.jsx(qe,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:i,children:i?"Salvando...":"Continuar"})]}),c.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:c.jsx("p",{children:"Passo 1 de 2 - Informações básicas"})})]})]})};class AS{static async saveInitialSetup(e,r){return Pr.saveToUserSubcollection(e,Fr.CONFIG,this.docId,r)}static async getUserConfig(e){return Pr.getFromUserSubcollection(e,Fr.CONFIG,this.docId)}static async updateUserPlan(e,r){return Pr.updateUserSubcollection(e,Fr.CONFIG,this.docId,{currentPlan:r})}static async updateMonthlyGoal(e,r){return Pr.updateUserSubcollection(e,Fr.CONFIG,this.docId,{monthlyGoal:r})}static async updateSelectedPlatforms(e,r){return Pr.updateUserSubcollection(e,Fr.CONFIG,this.docId,{selectedPlatforms:r})}}kr(AS,"docId","initial");class wb{static async createEmployee(e,r){return console.log("UserEmployeeService.createEmployee - dados recebidos:",{userId:e,employeeData:r}),Pr.addToUserSubcollection(e,Fr.EMPLOYEES,r)}static async getEmployees(e){console.log("UserEmployeeService.getEmployees - buscando funcionários para userId:",e);const r=await Pr.getAllFromUserSubcollection(e,Fr.EMPLOYEES,[Zh("createdAt","desc")]);return console.log("Funcionários encontrados:",r),r}static async getActiveEmployees(e){return Pr.getAllFromUserSubcollection(e,Fr.EMPLOYEES,[Cu("status","==","active"),Zh("createdAt","desc")])}static async updateEmployee(e,r,n){return Pr.updateUserSubcollection(e,Fr.EMPLOYEES,r,n)}static async deleteEmployee(e,r){return Pr.deleteFromUserSubcollection(e,Fr.EMPLOYEES,r)}}class ku{static async createPlatform(e,r){return Pr.addToUserSubcollection(e,Fr.PLATFORMS,r)}static async getPlatforms(e){return Pr.getAllFromUserSubcollection(e,Fr.PLATFORMS,[Zh("name","asc")])}static async getActivePlatforms(e){return Pr.getAllFromUserSubcollection(e,Fr.PLATFORMS,[Cu("isActive","==",!0),Zh("name","asc")])}static async updatePlatform(e,r,n){return Pr.updateUserSubcollection(e,Fr.PLATFORMS,r,n)}static async deletePlatform(e,r){return Pr.deleteFromUserSubcollection(e,Fr.PLATFORMS,r)}}class Lv{static async createTransaction(e,r){return Pr.addToUserSubcollection(e,Fr.TRANSACTIONS,r)}static async getTransactions(e,r=100){return Pr.getAllFromUserSubcollection(e,Fr.TRANSACTIONS,[yb(r)])}static async getTransactionsByDateRange(e,r,n){console.log("UserTransactionService.getTransactionsByDateRange - userId:",e),console.log("UserTransactionService.getTransactionsByDateRange - startDate:",r),console.log("UserTransactionService.getTransactionsByDateRange - endDate:",n);const i=await Pr.getAllFromUserSubcollection(e,Fr.TRANSACTIONS,[Cu("date",">=",r),Cu("date","<=",n)]);return console.log("UserTransactionService.getTransactionsByDateRange - transactions found:",i),i}static async getTransactionsByEmployee(e,r){return Pr.getAllFromUserSubcollection(e,Fr.TRANSACTIONS,[Cu("employeeId","==",r)])}static async updateTransaction(e,r,n){return Pr.updateUserSubcollection(e,Fr.TRANSACTIONS,r,n)}static async deleteTransaction(e,r){return Pr.deleteFromUserSubcollection(e,Fr.TRANSACTIONS,r)}}class Lo{static async createDailySummary(e,r){return Pr.addToUserSubcollection(e,Fr.DAILY_SUMMARIES,r)}static async getAllDailySummaries(e){console.log("UserDailySummaryService.getAllDailySummaries - userId:",e);const r=await Pr.getAllFromUserSubcollection(e,Fr.DAILY_SUMMARIES,[]);return console.log("UserDailySummaryService.getAllDailySummaries - summaries found:",r),r}static async updateDailySummary(e,r,n){return Pr.updateUserSubcollection(e,Fr.DAILY_SUMMARIES,r,n)}static async deleteDailySummary(e,r){return Pr.deleteFromUserSubcollection(e,Fr.DAILY_SUMMARIES,r)}static async getDailySummaries(e,r=30){return Pr.getAllFromUserSubcollection(e,Fr.DAILY_SUMMARIES,[Zh("date","desc"),yb(r)])}static async getDailySummaryByDate(e,r){const n=await Pr.getAllFromUserSubcollection(e,Fr.DAILY_SUMMARIES,[Cu("date","==",r),yb(1)]);return n.length>0?n[0]:null}}const T1e=()=>{const[t,e]=T.useState(""),[r,n]=T.useState([]),[i,a]=T.useState(!1),s=Wi(),{user:o}=qr(),l=[{name:"Pixbet",color:"rgb(173, 216, 230)"},{name:"Betano",color:"rgb(255, 102, 0)"},{name:"Mcgames",color:"rgb(220, 20, 60)"},{name:"Kto",color:"rgb(200, 0, 0)"},{name:"Realsbet",color:"rgb(0, 255, 200)"},{name:"Vaidebet",color:"rgb(255, 215, 0)"},{name:"Sportingbet",color:"rgb(70, 130, 180)"},{name:"Superbet",color:"rgb(255, 51, 102)"},{name:"Betao",color:"rgb(255, 165, 80)"},{name:"Bet365",color:"rgb(0, 128, 64)"},{name:"Esportivabet",color:"rgb(255, 140, 0)"},{name:"Hiperbet",color:"rgb(220, 0, 0)"},{name:"Luvabet",color:"rgb(173, 255, 47)"},{name:"Cassinopix",color:"rgb(135, 206, 235)"},{name:"Multibet",color:"rgb(72, 61, 139)"}],u=h=>{n(p=>p.includes(h)?p.filter(f=>f!==h):[...p,h])},d=async h=>{if(h.preventDefault(),!t||r.length===0){Ge.error("Por favor, defina sua meta mensal e selecione pelo menos uma plataforma");return}a(!0);try{if(!(o!=null&&o.uid)){Ge.error("Usuário não autenticado");return}await AS.saveInitialSetup(o.uid,{monthlyGoal:Number(t),selectedPlatforms:r,setupCompleted:!0});const p=await ku.getPlatforms(o.uid),f={};(p||[]).forEach(m=>{f[(m.name||"").toLowerCase()]=m});const v=r.map(async m=>{const g=l.find(A=>A.name===m),y=(g==null?void 0:g.color)||"#FF5C00",x=m.toLowerCase(),_=f[x];return _!=null&&_.id?ku.updatePlatform(o.uid,_.id,{isActive:!0,color:y}):ku.createPlatform(o.uid,{name:m,color:y,isActive:!0})});await Promise.all(v),Ge.success("Configuração inicial concluída!"),s("/dashboard")}catch{Ge.error("Erro ao salvar configurações. Tente novamente.")}finally{a(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute w-96 h-96 bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-float-slow"}),c.jsx("div",{className:"absolute w-96 h-96 bg-secondary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-float-reverse"}),c.jsx("div",{className:"absolute w-64 h-64 bg-primary/10 rounded-full blur-2xl top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-float-center"})]}),c.jsx("div",{className:"absolute top-20 left-20 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),c.jsx("div",{className:"absolute top-40 right-32 w-1 h-1 bg-secondary rounded-full animate-bounce delay-700"}),c.jsx("div",{className:"absolute bottom-32 left-40 w-1.5 h-1.5 bg-primary rounded-full animate-bounce delay-1000"}),c.jsx("div",{className:"absolute bottom-20 right-20 w-2 h-2 bg-secondary rounded-full animate-bounce delay-500"}),c.jsxs("div",{className:"w-full max-w-2xl p-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 relative",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsxs("svg",{className:"w-16 h-16 text-primary mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]})}),c.jsx("div",{className:"absolute -right-8 top-1/2 -translate-y-1/2 w-16 h-16 bg-primary/30 rounded-full blur-xl animate-pulse"})]}),c.jsx("button",{onClick:()=>s("/"),className:"cursor-pointer hover:scale-105 transition-transform duration-200",children:c.jsx("h1",{className:"text-5xl font-black text-foreground tracking-tight mb-2",children:"Optify"})})]}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Configure suas preferências"}),c.jsx("div",{className:"w-16 h-0.5 bg-gradient-primary mx-auto mt-4 rounded-full"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-8",children:[c.jsxs(Qe,{className:"p-6 border border-primary/20 bg-card/80 backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(QI,{className:"w-6 h-6 text-primary"}),c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Meta Mensal"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"monthlyGoal",className:"text-sm font-medium text-foreground",children:"Defina sua meta de lucro mensal (R$)"}),c.jsx(Ft,{id:"monthlyGoal",type:"number",placeholder:"Ex: 5000",value:t,onChange:h=>e(h.target.value),className:"h-12 border-border/50 focus:border-primary transition-colors",required:!0,min:"1"})]})]}),c.jsxs(Qe,{className:"p-6 border border-primary/20 bg-card/80 backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-6 h-6 rounded bg-primary flex items-center justify-center",children:c.jsx(fr,{className:"w-4 h-4 text-primary-foreground"})}),c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Plataformas Principais"})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Selecione as plataformas que você mais utiliza. Elas aparecerão na aba Saldos."}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.map(h=>c.jsx("button",{type:"button",onClick:()=>u(h.name),className:`p-3 rounded-lg border-2 transition-all duration-200 text-sm font-medium ${r.includes(h.name)?"border-primary bg-primary/10 text-primary":"border-border/50 bg-background/50 text-foreground hover:border-primary/50"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color}}),h.name]})},h.name))}),c.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[r.length," plataforma(s) selecionada(s)"]})]}),c.jsx(qe,{type:"submit",className:"w-full h-12 bg-gradient-primary hover:bg-gradient-accent text-primary-foreground font-semibold shadow-glow transition-all duration-300",disabled:i,children:i?"Configurando...":"Finalizar Configuração"}),c.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:c.jsx("p",{children:"Passo 2 de 2 - Configurações avançadas"})})]})]})]})};var mj="focusScope.autoFocusOnMount",gj="focusScope.autoFocusOnUnmount",M8={bubbles:!1,cancelable:!0},C1e="FocusScope",BA=T.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=T.useState(null),u=Yo(i),d=Yo(a),h=T.useRef(null),p=Rr(e,m=>l(m)),f=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(n){let m=function(_){if(f.paused||!o)return;const A=_.target;o.contains(A)?h.current=A:Bd(h.current,{select:!0})},g=function(_){if(f.paused||!o)return;const A=_.relatedTarget;A!==null&&(o.contains(A)||Bd(h.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&Bd(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),x.disconnect()}}},[n,o,f.paused]),T.useEffect(()=>{if(o){F8.add(f);const m=document.activeElement;if(!o.contains(m)){const y=new CustomEvent(mj,M8);o.addEventListener(mj,u),o.dispatchEvent(y),y.defaultPrevented||(k1e(L1e(hY(o)),{select:!0}),document.activeElement===m&&Bd(o))}return()=>{o.removeEventListener(mj,u),setTimeout(()=>{const y=new CustomEvent(gj,M8);o.addEventListener(gj,d),o.dispatchEvent(y),y.defaultPrevented||Bd(m??document.body,{select:!0}),o.removeEventListener(gj,d),F8.remove(f)},0)}}},[o,u,d,f]);const v=T.useCallback(m=>{if(!r&&!n||f.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const x=m.currentTarget,[_,A]=I1e(x);_&&A?!m.shiftKey&&y===A?(m.preventDefault(),r&&Bd(_,{select:!0})):m.shiftKey&&y===_&&(m.preventDefault(),r&&Bd(A,{select:!0})):y===x&&m.preventDefault()}},[r,n,f.paused]);return c.jsx(Ht.div,{tabIndex:-1,...s,ref:p,onKeyDown:v})});BA.displayName=C1e;function k1e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Bd(n,{select:e}),document.activeElement!==r)return}function I1e(t){const e=hY(t),r=$8(e,t),n=$8(e.reverse(),t);return[r,n]}function hY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function $8(t,e){for(const r of t)if(!O1e(r,{upTo:e}))return r}function O1e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function R1e(t){return t instanceof HTMLInputElement&&"select"in t}function Bd(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&R1e(t)&&e&&t.select()}}var F8=D1e();function D1e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=B8(t,e),t.unshift(e)},remove(e){var r;t=B8(t,e),(r=t[0])==null||r.resume()}}}function B8(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function L1e(t){return t.filter(e=>e.tagName!=="A")}var vj=0;function w3(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??U8()),document.body.insertAdjacentElement("beforeend",t[1]??U8()),vj++,()=>{vj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vj--}},[])}function U8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hc=function(){return hc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hc.apply(this,arguments)};function fY(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function M1e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var u_="right-scroll-bar-position",d_="width-before-scroll-bar",$1e="with-scroll-bars-hidden",F1e="--removed-body-scroll-bar-size";function yj(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function B1e(t,e){var r=T.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var U1e=typeof window<"u"?T.useLayoutEffect:T.useEffect,V8=new WeakMap;function V1e(t,e){var r=B1e(null,function(n){return t.forEach(function(i){return yj(i,n)})});return U1e(function(){var n=V8.get(r);if(n){var i=new Set(n),a=new Set(t),s=r.current;i.forEach(function(o){a.has(o)||yj(o,null)}),a.forEach(function(o){i.has(o)||yj(o,s)})}V8.set(r,t)},[t]),r}function z1e(t){return t}function q1e(t,e){e===void 0&&(e=z1e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var l=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return i}function W1e(t){t===void 0&&(t={});var e=q1e(null);return e.options=hc({async:!0,ssr:!1},t),e}var pY=function(t){var e=t.sideCar,r=fY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return T.createElement(n,hc({},r))};pY.isSideCarExport=!0;function H1e(t,e){return t.useMedium(e),pY}var mY=W1e(),bj=function(){},UA=T.forwardRef(function(t,e){var r=T.useRef(null),n=T.useState({onScrollCapture:bj,onWheelCapture:bj,onTouchMoveCapture:bj}),i=n[0],a=n[1],s=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,f=t.noRelative,v=t.noIsolation,m=t.inert,g=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,_=t.gapMode,A=fY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,I=V1e([r,e]),j=hc(hc({},A),i);return T.createElement(T.Fragment,null,d&&T.createElement(E,{sideCar:mY,removeScrollBar:u,shards:h,noRelative:f,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:_}),s?T.cloneElement(T.Children.only(o),hc(hc({},j),{ref:I})):T.createElement(x,hc({},j,{className:l,ref:I}),o))});UA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};UA.classNames={fullWidth:d_,zeroRight:u_};var G1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function K1e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=G1e();return e&&t.setAttribute("nonce",e),t}function Y1e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function X1e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Q1e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=K1e())&&(Y1e(e,r),X1e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},J1e=function(){var t=Q1e();return function(e,r){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},gY=function(){var t=J1e(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Z1e={left:0,top:0,right:0,gap:0},xj=function(t){return parseInt(t||"",10)||0},ebe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[xj(r),xj(n),xj(i)]},tbe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Z1e;var e=ebe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},rbe=gY(),Wg="data-scroll-locked",nbe=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat($1e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Wg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(u_,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(d_,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(u_," .").concat(u_,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(d_," .").concat(d_,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Wg,`] {
    `).concat(F1e,": ").concat(o,`px;
  }
`)},z8=function(){var t=parseInt(document.body.getAttribute(Wg)||"0",10);return isFinite(t)?t:0},ibe=function(){T.useEffect(function(){return document.body.setAttribute(Wg,(z8()+1).toString()),function(){var t=z8()-1;t<=0?document.body.removeAttribute(Wg):document.body.setAttribute(Wg,t.toString())}},[])},abe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;ibe();var a=T.useMemo(function(){return tbe(i)},[i]);return T.createElement(rbe,{styles:nbe(a,!e,i,r?"":"!important")})},FC=!1;if(typeof window<"u")try{var a2=Object.defineProperty({},"passive",{get:function(){return FC=!0,!0}});window.addEventListener("test",a2,a2),window.removeEventListener("test",a2,a2)}catch{FC=!1}var Bm=FC?{passive:!1}:!1,sbe=function(t){return t.tagName==="TEXTAREA"},vY=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!sbe(t)&&r[e]==="visible")},obe=function(t){return vY(t,"overflowY")},lbe=function(t){return vY(t,"overflowX")},q8=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=yY(t,n);if(i){var a=bY(t,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},cbe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},ube=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},yY=function(t,e){return t==="v"?obe(e):lbe(e)},bY=function(t,e){return t==="v"?cbe(e):ube(e)},dbe=function(t,e){return t==="h"&&e==="rtl"?-1:1},hbe=function(t,e,r,n,i){var a=dbe(t,window.getComputedStyle(e).direction),s=a*n,o=r.target,l=e.contains(o),u=!1,d=s>0,h=0,p=0;do{if(!o)break;var f=bY(t,o),v=f[0],m=f[1],g=f[2],y=m-g-a*v;(v||y)&&yY(t,o)&&(h+=y,p+=v);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(u=!0),u},s2=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},W8=function(t){return[t.deltaX,t.deltaY]},H8=function(t){return t&&"current"in t?t.current:t},fbe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pbe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},mbe=0,Um=[];function gbe(t){var e=T.useRef([]),r=T.useRef([0,0]),n=T.useRef(),i=T.useState(mbe++)[0],a=T.useState(gY)[0],s=T.useRef(t);T.useEffect(function(){s.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=M1e([t.lockRef.current],(t.shards||[]).map(H8),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=T.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var y=s2(m),x=r.current,_="deltaX"in m?m.deltaX:x[0]-y[0],A="deltaY"in m?m.deltaY:x[1]-y[1],E,I=m.target,j=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in m&&j==="h"&&I.type==="range")return!1;var N=q8(j,I);if(!N)return!0;if(N?E=j:(E=j==="v"?"h":"v",N=q8(j,I)),!N)return!1;if(!n.current&&"changedTouches"in m&&(_||A)&&(n.current=E),!E)return!0;var k=n.current||E;return hbe(k,g,m,k==="h"?_:A,!0)},[]),l=T.useCallback(function(m){var g=m;if(!(!Um.length||Um[Um.length-1]!==a)){var y="deltaY"in g?W8(g):s2(g),x=e.current.filter(function(E){return E.name===g.type&&(E.target===g.target||g.target===E.shadowParent)&&fbe(E.delta,y)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var _=(s.current.shards||[]).map(H8).filter(Boolean).filter(function(E){return E.contains(g.target)}),A=_.length>0?o(g,_[0]):!s.current.noIsolation;A&&g.cancelable&&g.preventDefault()}}},[]),u=T.useCallback(function(m,g,y,x){var _={name:m,delta:g,target:y,should:x,shadowParent:vbe(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(A){return A!==_})},1)},[]),d=T.useCallback(function(m){r.current=s2(m),n.current=void 0},[]),h=T.useCallback(function(m){u(m.type,W8(m),m.target,o(m,t.lockRef.current))},[]),p=T.useCallback(function(m){u(m.type,s2(m),m.target,o(m,t.lockRef.current))},[]);T.useEffect(function(){return Um.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Bm),document.addEventListener("touchmove",l,Bm),document.addEventListener("touchstart",d,Bm),function(){Um=Um.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,Bm),document.removeEventListener("touchmove",l,Bm),document.removeEventListener("touchstart",d,Bm)}},[]);var f=t.removeScrollBar,v=t.inert;return T.createElement(T.Fragment,null,v?T.createElement(a,{styles:pbe(i)}):null,f?T.createElement(abe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function vbe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ybe=H1e(mY,gbe);var VA=T.forwardRef(function(t,e){return T.createElement(UA,hc({},t,{ref:e,sideCar:ybe}))});VA.classNames=UA.classNames;var bbe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vm=new WeakMap,o2=new WeakMap,l2={},wj=0,xY=function(t){return t&&(t.host||xY(t.parentNode))},xbe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=xY(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},wbe=function(t,e,r,n){var i=xbe(e,Array.isArray(t)?t:[t]);l2[r]||(l2[r]=new WeakMap);var a=l2[r],s=[],o=new Set,l=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(o.has(p))d(p);else try{var f=p.getAttribute(n),v=f!==null&&f!=="false",m=(Vm.get(p)||0)+1,g=(a.get(p)||0)+1;Vm.set(p,m),a.set(p,g),s.push(p),m===1&&v&&o2.set(p,!0),g===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(e),o.clear(),wj++,function(){s.forEach(function(h){var p=Vm.get(h)-1,f=a.get(h)-1;Vm.set(h,p),a.set(h,f),p||(o2.has(h)||h.removeAttribute(n),o2.delete(h)),f||h.removeAttribute(r)}),wj--,wj||(Vm=new WeakMap,Vm=new WeakMap,o2=new WeakMap,l2={})}},_3=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=bbe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),wbe(n,i,r,"aria-hidden")):function(){return null}},zA="Dialog",[wY,_Y]=mo(zA),[_be,Ml]=wY(zA),SY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=T.useRef(null),l=T.useRef(null),[u,d]=jl({prop:n,defaultProp:i??!1,onChange:a,caller:zA});return c.jsx(_be,{scope:e,triggerRef:o,contentRef:l,contentId:Al(),titleId:Al(),descriptionId:Al(),open:u,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(h=>!h),[d]),modal:s,children:r})};SY.displayName=zA;var AY="DialogTrigger",NY=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(AY,r),a=Rr(e,i.triggerRef);return c.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":N3(i.open),...n,ref:a,onClick:kt(t.onClick,i.onOpenToggle)})});NY.displayName=AY;var S3="DialogPortal",[Sbe,EY]=wY(S3,{forceMount:void 0}),jY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Ml(S3,e);return c.jsx(Sbe,{scope:e,forceMount:r,children:T.Children.map(n,s=>c.jsx(Dc,{present:r||a.open,children:c.jsx(Sx,{asChild:!0,container:i,children:s})}))})};jY.displayName=S3;var NS="DialogOverlay",PY=T.forwardRef((t,e)=>{const r=EY(NS,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Ml(NS,t.__scopeDialog);return a.modal?c.jsx(Dc,{present:n||a.open,children:c.jsx(Nbe,{...i,ref:e})}):null});PY.displayName=NS;var Abe=Bp("DialogOverlay.RemoveScroll"),Nbe=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(NS,r);return c.jsx(VA,{as:Abe,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Ht.div,{"data-state":N3(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Jp="DialogContent",TY=T.forwardRef((t,e)=>{const r=EY(Jp,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Ml(Jp,t.__scopeDialog);return c.jsx(Dc,{present:n||a.open,children:a.modal?c.jsx(Ebe,{...i,ref:e}):c.jsx(jbe,{...i,ref:e})})});TY.displayName=Jp;var Ebe=T.forwardRef((t,e)=>{const r=Ml(Jp,t.__scopeDialog),n=T.useRef(null),i=Rr(e,r.contentRef,n);return T.useEffect(()=>{const a=n.current;if(a)return _3(a)},[]),c.jsx(CY,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:kt(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:kt(t.onFocusOutside,a=>a.preventDefault())})}),jbe=T.forwardRef((t,e)=>{const r=Ml(Jp,t.__scopeDialog),n=T.useRef(!1),i=T.useRef(!1);return c.jsx(CY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),CY=T.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Ml(Jp,r),l=T.useRef(null),u=Rr(e,l);return w3(),c.jsxs(c.Fragment,{children:[c.jsx(BA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(gy,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":N3(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Tbe,{titleId:o.titleId}),c.jsx(kbe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),A3="DialogTitle",kY=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(A3,r);return c.jsx(Ht.h2,{id:i.titleId,...n,ref:e})});kY.displayName=A3;var IY="DialogDescription",OY=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(IY,r);return c.jsx(Ht.p,{id:i.descriptionId,...n,ref:e})});OY.displayName=IY;var RY="DialogClose",DY=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ml(RY,r);return c.jsx(Ht.button,{type:"button",...n,ref:e,onClick:kt(t.onClick,()=>i.onOpenChange(!1))})});DY.displayName=RY;function N3(t){return t?"open":"closed"}var LY="DialogTitleWarning",[Pbe,MY]=$se(LY,{contentName:Jp,titleName:A3,docsSlug:"dialog"}),Tbe=({titleId:t})=>{const e=MY(LY),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Cbe="DialogDescriptionWarning",kbe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MY(Cbe).contentName}}.`;return T.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},$Y=SY,FY=NY,BY=jY,E3=PY,j3=TY,P3=kY,T3=OY,C3=DY,UY="AlertDialog",[Ibe,ZJe]=mo(UY,[_Y]),td=_Y(),VY=t=>{const{__scopeAlertDialog:e,...r}=t,n=td(e);return c.jsx($Y,{...n,...r,modal:!0})};VY.displayName=UY;var Obe="AlertDialogTrigger",zY=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return c.jsx(FY,{...i,...n,ref:e})});zY.displayName=Obe;var Rbe="AlertDialogPortal",qY=t=>{const{__scopeAlertDialog:e,...r}=t,n=td(e);return c.jsx(BY,{...n,...r})};qY.displayName=Rbe;var Dbe="AlertDialogOverlay",WY=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return c.jsx(E3,{...i,...n,ref:e})});WY.displayName=Dbe;var Hg="AlertDialogContent",[Lbe,Mbe]=Ibe(Hg),$be=wq("AlertDialogContent"),HY=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=td(r),s=T.useRef(null),o=Rr(e,s),l=T.useRef(null);return c.jsx(Pbe,{contentName:Hg,titleName:GY,docsSlug:"alert-dialog",children:c.jsx(Lbe,{scope:r,cancelRef:l,children:c.jsxs(j3,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:kt(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx($be,{children:n}),c.jsx(Bbe,{contentRef:s})]})})})});HY.displayName=Hg;var GY="AlertDialogTitle",KY=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return c.jsx(P3,{...i,...n,ref:e})});KY.displayName=GY;var YY="AlertDialogDescription",XY=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return c.jsx(T3,{...i,...n,ref:e})});XY.displayName=YY;var Fbe="AlertDialogAction",QY=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=td(r);return c.jsx(C3,{...i,...n,ref:e})});QY.displayName=Fbe;var JY="AlertDialogCancel",ZY=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Mbe(JY,r),a=td(r),s=Rr(e,i);return c.jsx(C3,{...a,...n,ref:s})});ZY.displayName=JY;var Bbe=({contentRef:t})=>{const e=`\`${Hg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hg}\` by passing a \`${YY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Ube=VY,Vbe=zY,zbe=qY,eX=WY,tX=HY,rX=QY,nX=ZY,iX=KY,aX=XY;const Zp=Ube,Iy=Vbe,qbe=zbe,sX=T.forwardRef(({className:t,...e},r)=>c.jsx(eX,{className:wt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));sX.displayName=eX.displayName;const ef=T.forwardRef(({className:t,...e},r)=>c.jsxs(qbe,{children:[c.jsx(sX,{}),c.jsx(tX,{ref:r,className:wt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));ef.displayName=tX.displayName;const tf=({className:t,...e})=>c.jsx("div",{className:wt("flex flex-col space-y-2 text-center sm:text-left",t),...e});tf.displayName="AlertDialogHeader";const rf=({className:t,...e})=>c.jsx("div",{className:wt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});rf.displayName="AlertDialogFooter";const nf=T.forwardRef(({className:t,...e},r)=>c.jsx(iX,{ref:r,className:wt("text-lg font-semibold",t),...e}));nf.displayName=iX.displayName;const af=T.forwardRef(({className:t,...e},r)=>c.jsx(aX,{ref:r,className:wt("text-sm text-muted-foreground",t),...e}));af.displayName=aX.displayName;const sf=T.forwardRef(({className:t,...e},r)=>c.jsx(rX,{ref:r,className:wt(xb(),t),...e}));sf.displayName=rX.displayName;const of=T.forwardRef(({className:t,...e},r)=>c.jsx(nX,{ref:r,className:wt(xb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));of.displayName=nX.displayName;const $a=({children:t})=>{const e=Wi(),r=ff(),{user:n,isAdmin:i,logout:a}=qr(),{canAccess:s,currentPlan:o}=yf(),l=[{icon:Foe,label:"Dashboard",path:"/dashboard",requiredFeature:"dashboard"},{icon:es,label:"Funcionários",path:"/gestao-funcionarios",requiredFeature:"dashboard"},{icon:Up,label:"Pagamentos",path:"/pagamentos",requiredFeature:"payments"},{icon:rA,label:"Resumo do Dia",path:"/resumo-dia",requiredFeature:"dailySummary"},{icon:Ooe,label:"Saldos",path:"/saldos",requiredFeature:"balances"},{icon:di,label:"Relatórios",path:"/relatorios",requiredFeature:"reports"},{icon:_v,label:"Histórico",path:"/historico",requiredFeature:"history"},{icon:Sv,label:"Planos",path:"/planos",requiredFeature:"dashboard"},{icon:Moe,label:"Afiliados",path:"/afiliados",requiredFeature:"dashboard"}].filter(p=>s(p.requiredFeature)),u=[{icon:Qq,label:"Perfil",path:"/perfil"},{icon:Zq,label:"Configurações",path:"/settings"},...i||(n==null?void 0:n.email)==="diegkamor@gmail.com"?[{icon:Vp,label:"Admin",path:"/admin",requiredFeature:"advancedPanel"}]:[]],d=p=>r.pathname===p,h=()=>{a(),e("/"),Ge.success("Logout realizado com sucesso!")};return c.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[c.jsxs("aside",{className:"w-72 bg-sidebar border-r border-sidebar-border flex flex-col shadow-xl fixed left-0 top-0 h-screen z-50",children:[c.jsxs("div",{className:"p-8 border-b border-sidebar-border/50",children:[c.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-3 mb-4",children:[c.jsxs("svg",{className:"w-10 h-10 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),c.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),c.jsx("path",{d:"M2 9h20"})]}),c.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Optify"})]}),c.jsxs("div",{className:"px-4 py-2 rounded-xl bg-primary/10 border border-primary/20",children:[c.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Plano Atual"}),c.jsx("p",{className:"text-sm font-bold text-primary capitalize",children:o})]})]}),c.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:l.map(p=>c.jsxs("button",{onClick:()=>e(p.path),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all group ${d(p.path)?"bg-gradient-primary text-primary-foreground shadow-glow scale-105":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground hover:scale-105"}`,children:[c.jsx(p.icon,{className:`h-5 w-5 ${d(p.path)?"":"group-hover:scale-110 transition-transform"}`}),c.jsx("span",{className:"text-sm font-semibold",children:p.label})]},p.path))}),c.jsxs("div",{className:"p-3 border-t border-sidebar-border/50 space-y-1",children:[u.map(p=>c.jsxs("button",{onClick:()=>e(p.path),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-xl transition-all ${d(p.path)?"bg-gradient-primary text-primary-foreground shadow-glow":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground"}`,children:[c.jsx(p.icon,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-semibold",children:p.label})]},p.path)),c.jsxs(Zp,{children:[c.jsx(Iy,{asChild:!0,children:c.jsxs(qe,{variant:"ghost",className:"w-full justify-start gap-3 px-4 py-2.5 text-destructive hover:text-destructive hover:bg-destructive/10 rounded-xl",children:[c.jsx(Boe,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-semibold",children:"Sair"})]})}),c.jsxs(ef,{className:"bg-card border-border",children:[c.jsxs(tf,{children:[c.jsx(nf,{className:"text-foreground",children:"Confirmar Logout"}),c.jsx(af,{className:"text-muted-foreground",children:"Tem certeza que deseja sair da sua conta? Você precisará fazer login novamente para acessar o sistema."})]}),c.jsxs(rf,{children:[c.jsx(of,{className:"bg-muted hover:bg-muted/80 text-foreground border-border",children:"Cancelar"}),c.jsx(sf,{onClick:h,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Sair da Conta"})]})]})]})]})]}),c.jsx("main",{className:"flex-1 overflow-y-auto bg-gradient-to-br from-background to-background/95 ml-72",children:c.jsx("div",{className:"p-8 max-w-[1600px] mx-auto",children:t})})]})},t1=({title:t,value:e,icon:r,trend:n,className:i,valueColor:a="default",onClick:s,clickable:o=!1})=>c.jsxs(Qe,{className:wt("p-6 card-hover relative overflow-hidden group hover:shadow-glow transition-all duration-300",o&&"cursor-pointer hover:scale-105 transition-transform",i),onClick:s,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-primary opacity-0 group-hover:opacity-5 transition-opacity"}),c.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:t}),c.jsx("p",{className:wt("text-4xl font-bold",a==="positive"&&"text-success",a==="negative"&&"text-destructive",a==="default"&&"text-foreground"),children:e}),n&&c.jsxs("div",{className:`inline-flex items-center gap-1 text-sm font-semibold px-3 py-1 rounded-full ${n.isPositive?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[n.isPositive?"+":"",n.value,"% vs. anterior"]})]}),c.jsx("div",{className:"p-4 bg-gradient-primary rounded-2xl shadow-glow",children:c.jsx(r,{className:"h-7 w-7 text-primary-foreground"})})]})]}),oo=$Y,Gg=FY,Wbe=BY,oX=T.forwardRef(({className:t,...e},r)=>c.jsx(E3,{ref:r,className:wt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));oX.displayName=E3.displayName;const Cs=T.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(Wbe,{children:[c.jsx(oX,{}),c.jsxs(j3,{ref:n,className:wt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(C3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(rW,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cs.displayName=j3.displayName;const ks=({className:t,...e})=>c.jsx("div",{className:wt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ks.displayName="DialogHeader";const Is=T.forwardRef(({className:t,...e},r)=>c.jsx(P3,{ref:r,className:wt("text-lg font-semibold leading-none tracking-tight",t),...e}));Is.displayName=P3.displayName;const Hbe=T.forwardRef(({className:t,...e},r)=>c.jsx(T3,{ref:r,className:wt("text-sm text-muted-foreground",t),...e}));Hbe.displayName=T3.displayName;const rd=t=>_y({queryKey:["firebase-employees",t],queryFn:()=>wb.getEmployees(t),enabled:!!t}),lX=()=>{const t=qi();return go({mutationFn:e=>{if(console.log("useCreateEmployee - dados recebidos:",e),e.userId){const{userId:r,...n}=e;return wb.createEmployee(r,n)}return wb.createEmployee(e.userId,e.data)},onSuccess:()=>{console.log("useCreateEmployee - funcionário criado com sucesso, invalidando queries"),t.invalidateQueries({queryKey:["firebase-employees"]})},onError:e=>{console.error("useCreateEmployee - erro ao criar funcionário:",e)}})},cX=()=>{const t=qi();return go({mutationFn:({userId:e,id:r,data:n})=>wb.updateEmployee(e,r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-employees"]})}})},Gbe=()=>{const t=qi();return go({mutationFn:({userId:e,id:r})=>wb.deleteEmployee(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-employees"]})}})},Oy=t=>_y({queryKey:["firebase-platforms",t],queryFn:()=>ku.getPlatforms(t),enabled:!!t}),Kbe=()=>{const t=qi();return go({mutationFn:({userId:e,name:r,color:n})=>ku.createPlatform(e,{name:r,color:n,isActive:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},Ybe=()=>{const t=qi();return go({mutationFn:({userId:e,id:r,data:n})=>ku.updatePlatform(e,r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},Xbe=()=>{const t=qi();return go({mutationFn:({userId:e,id:r})=>ku.deletePlatform(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},lo=(t,e,r)=>_y({queryKey:["firebase-transactions",t,e,r],queryFn:()=>(console.log("useTransactions - userId:",t),console.log("useTransactions - startDate:",e),console.log("useTransactions - endDate:",r),e&&r?(console.log("useTransactions - Calling getTransactionsByDateRange"),Lv.getTransactionsByDateRange(t,e,r)):(console.log("useTransactions - Calling getTransactions"),Lv.getTransactions(t))),enabled:!!t}),k3=()=>{const t=qi();return go({mutationFn:e=>{const{userId:r,...n}=e||{};return Lv.createTransaction(r,n)},onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-transactions"]})}})},I3=()=>{const t=qi(),{user:e}=qr();return go({mutationFn:r=>Lv.deleteTransaction((e==null?void 0:e.uid)||"",r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-transactions"]}),t.invalidateQueries({queryKey:["firebase-employees"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-platforms"]}),t.refetchQueries()}})},Qbe=()=>{const t=qi(),{user:e}=qr();return go({mutationFn:({id:r,data:n})=>Lv.updateTransaction((e==null?void 0:e.uid)||"",r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-transactions"]}),t.invalidateQueries({queryKey:["firebase-employees"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-platforms"]}),t.refetchQueries()}})},Jbe=()=>{const t=qi();return go({mutationFn:async e=>{if((await ku.getPlatforms(e)).length>0)return;const i=[{name:"Pixbet",color:"#ADD8E6"},{name:"Betano",color:"#FF6600"},{name:"Mcgames",color:"#DC143C"},{name:"Kto",color:"#C80000"},{name:"Realsbet",color:"#00FFC8"},{name:"Vaidebet",color:"#FFD700"},{name:"Sportingbet",color:"#4682B4"},{name:"Superbet",color:"#FF3366"},{name:"Betao",color:"#FFA550"},{name:"Bet365",color:"#008040"},{name:"Esportivabet",color:"#FF8C00"},{name:"Hiperbet",color:"#DC0000"},{name:"Luvabet",color:"#ADFF2F"},{name:"Cassinopix",color:"#87CEEB"},{name:"Multibet",color:"#483D8B"}].map(a=>ku.createPlatform(e,{name:a.name,color:a.color,isActive:!0}));await Promise.all(i)},onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-platforms"]})}})},zx=t=>_y({queryKey:["firebase-all-daily-summaries",t],queryFn:async()=>{console.log("useAllDailySummaries - userId:",t);const e=await Lo.getAllDailySummaries(t);return console.log("useAllDailySummaries - summaries found:",e),e},enabled:!!t}),Zbe=()=>{const t=qi(),{user:e}=qr();return go({mutationFn:({summaryId:r,summaryData:n})=>Lo.updateDailySummary((e==null?void 0:e.uid)||"",r,n),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]})}})},exe=()=>{const t=qi(),{user:e}=qr();return go({mutationFn:r=>Lo.deleteDailySummary((e==null?void 0:e.uid)||"",r),onSuccess:()=>{t.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),t.invalidateQueries({queryKey:["firebase-daily-summaries"]})}})},txe=()=>{const t=qi(),{user:e}=qr(),[r,n]=T.useState(""),[i,a]=T.useState(!1),{data:s}=_y({queryKey:["user-config",e==null?void 0:e.uid],queryFn:async()=>e!=null&&e.uid?AS.getUserConfig(e.uid):null,enabled:!!(e!=null&&e.uid)}),[o,l]=T.useState((s==null?void 0:s.monthlyGoal)||1e4);ue.useEffect(()=>{s!=null&&s.monthlyGoal&&l(s.monthlyGoal)},[s]);const u=new Date,d=new Date(u.getFullYear(),u.getMonth(),1),h=new Date(u.getFullYear(),u.getMonth()+1,0),p=d.toISOString().split("T")[0],f=h.toISOString().split("T")[0],{data:v=[]}=lo((e==null?void 0:e.uid)||"",p,f),{data:m=[]}=zx((e==null?void 0:e.uid)||""),g=u.getFullYear(),y=u.getMonth(),x=m.filter(D=>{const C=new Date(D.date);return C.getFullYear()===g&&C.getMonth()===y}),_=x.reduce((D,C)=>D+(C.profit||C.margin||0),0),A=new Set(x.map(D=>D.date)),E=v.filter(D=>!A.has(D.date)),I=E.reduce((D,C)=>{const O=C.type==="withdraw"?C.amount:-C.amount;return D+O},0),j=_+I,N=async()=>{const D=Number(r);if(D<=0){Ge.error("A meta deve ser maior que zero");return}try{e!=null&&e.uid&&await AS.updateMonthlyGoal(e.uid,D),l(D),Ge.success("Meta atualizada!"),a(!1),n(""),t.invalidateQueries({queryKey:["user-config",e==null?void 0:e.uid]})}catch(C){console.error("Erro ao atualizar meta:",C),Ge.error("Erro ao atualizar meta. Tente novamente.")}},k=o>0?Math.min(j/o*100,100):0;return console.log("MonthlyGoalCard Debug:",{monthlyProfit:j,monthlyGoal:o,progress:k,monthlyTransactions:v.length,monthlySummaries:x.length,monthlyRevenueFromSummaries:_,openTransactions:E.length,monthlyRevenueFromTransactions:I,startDate:p,endDate:f}),console.log("MonthlyGoalCard - Fechamentos Diários:"),x.forEach((D,C)=>{console.log(`  ${C+1}. Data: ${D.date}, Profit: ${D.profit||D.margin||0}`)}),console.log("MonthlyGoalCard - Transações Abertas:"),E.forEach((D,C)=>{const O=D.type==="withdraw"?D.amount:-D.amount;console.log(`  ${C+1}. Data: ${D.date}, Tipo: ${D.type}, Valor: ${D.amount}, Profit: ${O}`)}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Meta Mensal"}),c.jsxs("p",{className:"text-3xl font-bold",children:["R$ ",o.toLocaleString("pt-BR")]})]}),c.jsxs(oo,{open:i,onOpenChange:a,children:[c.jsx(Gg,{asChild:!0,children:c.jsx("button",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow hover:shadow-glow-lg transition-all duration-300 cursor-pointer",children:c.jsx(QI,{className:"h-6 w-6 text-primary-foreground"})})}),c.jsxs(Cs,{children:[c.jsx(ks,{children:c.jsx(Is,{children:"Alterar Meta Mensal"})}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nova Meta (R$)"}),c.jsx(Ft,{type:"number",step:"0.01",placeholder:"0,00",value:r,onChange:D=>n(D.target.value)})]}),c.jsx(qe,{className:"w-full",onClick:N,children:"Salvar Meta"})]})]})]})]}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),c.jsxs("span",{className:"font-semibold text-primary",children:[k.toFixed(1),"%"]})]}),c.jsxs("div",{className:"relative w-full h-4 bg-muted rounded-full overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 h-full gradient-primary transition-all duration-1000 ease-out rounded-full",style:{width:`${Math.min(k,100)}%`,minWidth:k>0?"2px":"0px"}}),k>100&&c.jsx("div",{className:"absolute top-0 left-0 h-full gradient-success transition-all duration-1000 ease-out rounded-full w-full"})]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["R$ ",j.toLocaleString("pt-BR")," de R$ ",o.toLocaleString("pt-BR")]})]})]})},O3="America/Sao_Paulo",rxe=()=>{if(typeof Intl<"u"&&Intl.DateTimeFormat){const t=Intl.DateTimeFormat;Intl.DateTimeFormat=function(e,r){return t(e,{...r,timeZone:(r==null?void 0:r.timeZone)||O3})}}},oc=()=>{const t=new Date;return new Date(t.toLocaleString("en-US",{timeZone:O3}))},R3=()=>{const t=new Date,e=new Date(t.toLocaleString("en-US",{timeZone:O3})),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${i}`};function G8(t,[e,r]){return Math.min(r,Math.max(e,t))}function uX(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var nxe=[" ","Enter","ArrowUp","ArrowDown"],ixe=[" ","Enter"],em="Select",[qA,WA,axe]=J5(em),[Ry,eZe]=mo(em,[axe,xy]),HA=xy(),[sxe,bf]=Ry(em),[oxe,lxe]=Ry(em),dX=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:v}=t,m=HA(e),[g,y]=T.useState(null),[x,_]=T.useState(null),[A,E]=T.useState(!1),I=MA(u),[j,N]=jl({prop:n,defaultProp:i??!1,onChange:a,caller:em}),[k,D]=jl({prop:s,defaultProp:o,onChange:l,caller:em}),C=T.useRef(null),O=g?v||!!g.closest("form"):!0,[L,z]=T.useState(new Set),re=Array.from(L).map(Y=>Y.props.value).join(";");return c.jsx(DW,{...m,children:c.jsxs(sxe,{required:f,scope:e,trigger:g,onTriggerChange:y,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:A,onValueNodeHasChildrenChange:E,contentId:Al(),value:k,onValueChange:D,open:j,onOpenChange:N,dir:I,triggerPointerDownPosRef:C,disabled:p,children:[c.jsx(qA.Provider,{scope:e,children:c.jsx(oxe,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(Y=>{z(K=>new Set(K).add(Y))},[]),onNativeOptionRemove:T.useCallback(Y=>{z(K=>{const q=new Set(K);return q.delete(Y),q})},[]),children:r})}),O?c.jsxs(DX,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:k,onChange:Y=>D(Y.target.value),disabled:p,form:v,children:[k===void 0?c.jsx("option",{value:""}):null,Array.from(L)]},re):null]})})};dX.displayName=em;var hX="SelectTrigger",fX=T.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=HA(r),s=bf(hX,r),o=s.disabled||n,l=Rr(e,s.onTriggerChange),u=WA(r),d=T.useRef("touch"),[h,p,f]=MX(m=>{const g=u().filter(_=>!_.disabled),y=g.find(_=>_.value===s.value),x=$X(g,m,y);x!==void 0&&s.onValueChange(x.value)}),v=m=>{o||(s.onOpenChange(!0),f()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return c.jsx(lA,{asChild:!0,...a,children:c.jsx(Ht.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":LX(s.value)?"":void 0,...i,ref:l,onClick:kt(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:kt(i.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:kt(i.onKeyDown,m=>{const g=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&nxe.includes(m.key)&&(v(),m.preventDefault())})})})});fX.displayName=hX;var pX="SelectValue",mX=T.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=t,l=bf(pX,r),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,h=Rr(e,l.onValueNodeChange);return ta(()=>{u(d)},[u,d]),c.jsx(Ht.span,{...o,ref:h,style:{pointerEvents:"none"},children:LX(l.value)?c.jsx(c.Fragment,{children:s}):a})});mX.displayName=pX;var cxe="SelectIcon",gX=T.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return c.jsx(Ht.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});gX.displayName=cxe;var uxe="SelectPortal",vX=t=>c.jsx(Sx,{asChild:!0,...t});vX.displayName=uxe;var tm="SelectContent",yX=T.forwardRef((t,e)=>{const r=bf(tm,t.__scopeSelect),[n,i]=T.useState();if(ta(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?pm.createPortal(c.jsx(bX,{scope:t.__scopeSelect,children:c.jsx(qA.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),a):null}return c.jsx(xX,{...t,ref:e})});yX.displayName=tm;var ul=10,[bX,xf]=Ry(tm),dxe="SelectContentImpl",hxe=Bp("SelectContent.RemoveScroll"),xX=T.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:g,...y}=t,x=bf(tm,r),[_,A]=T.useState(null),[E,I]=T.useState(null),j=Rr(e,ie=>A(ie)),[N,k]=T.useState(null),[D,C]=T.useState(null),O=WA(r),[L,z]=T.useState(!1),re=T.useRef(!1);T.useEffect(()=>{if(_)return _3(_)},[_]),w3();const Y=T.useCallback(ie=>{const[be,...he]=O().map(ne=>ne.ref.current),[P]=he.slice(-1),X=document.activeElement;for(const ne of ie)if(ne===X||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===be&&E&&(E.scrollTop=0),ne===P&&E&&(E.scrollTop=E.scrollHeight),ne==null||ne.focus(),document.activeElement!==X))return},[O,E]),K=T.useCallback(()=>Y([N,_]),[Y,N,_]);T.useEffect(()=>{L&&K()},[L,K]);const{onOpenChange:q,triggerPointerDownPosRef:Z}=x;T.useEffect(()=>{if(_){let ie={x:0,y:0};const be=P=>{var X,ne;ie={x:Math.abs(Math.round(P.pageX)-(((X=Z.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(P.pageY)-(((ne=Z.current)==null?void 0:ne.y)??0))}},he=P=>{ie.x<=10&&ie.y<=10?P.preventDefault():_.contains(P.target)||q(!1),document.removeEventListener("pointermove",be),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",he,{capture:!0})}}},[_,q,Z]),T.useEffect(()=>{const ie=()=>q(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[q]);const[ve,ce]=MX(ie=>{const be=O().filter(X=>!X.disabled),he=be.find(X=>X.ref.current===document.activeElement),P=$X(be,ie,he);P&&setTimeout(()=>P.ref.current.focus())}),F=T.useCallback((ie,be,he)=>{const P=!re.current&&!he;(x.value!==void 0&&x.value===be||P)&&(k(ie),P&&(re.current=!0))},[x.value]),V=T.useCallback(()=>_==null?void 0:_.focus(),[_]),G=T.useCallback((ie,be,he)=>{const P=!re.current&&!he;(x.value!==void 0&&x.value===be||P)&&C(ie)},[x.value]),oe=n==="popper"?BC:wX,J=oe===BC?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return c.jsx(bX,{scope:r,content:_,viewport:E,onViewportChange:I,itemRefCallback:F,selectedItem:N,onItemLeave:V,itemTextRefCallback:G,focusSelectedItem:K,selectedItemText:D,position:n,isPositioned:L,searchRef:ve,children:c.jsx(VA,{as:hxe,allowPinchZoom:!0,children:c.jsx(BA,{asChild:!0,trapped:x.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:kt(i,ie=>{var be;(be=x.trigger)==null||be.focus({preventScroll:!0}),ie.preventDefault()}),children:c.jsx(gy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:c.jsx(oe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ie=>ie.preventDefault(),...y,...J,onPlaced:()=>z(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:kt(y.onKeyDown,ie=>{const be=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!be&&ie.key.length===1&&ce(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let P=O().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(P=P.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const X=ie.target,ne=P.indexOf(X);P=P.slice(ne+1)}setTimeout(()=>Y(P)),ie.preventDefault()}})})})})})})});xX.displayName=dxe;var fxe="SelectItemAlignedPosition",wX=T.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=bf(tm,r),s=xf(tm,r),[o,l]=T.useState(null),[u,d]=T.useState(null),h=Rr(e,j=>d(j)),p=WA(r),f=T.useRef(!1),v=T.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:x}=s,_=T.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&m&&g&&y){const j=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(a.dir!=="rtl"){const X=D.left-N.left,ne=k.left-X,de=j.left-ne,ge=j.width+de,ee=Math.max(ge,N.width),Ae=window.innerWidth-ul,De=G8(ne,[ul,Math.max(ul,Ae-ee)]);o.style.minWidth=ge+"px",o.style.left=De+"px"}else{const X=N.right-D.right,ne=window.innerWidth-k.right-X,de=window.innerWidth-j.right-ne,ge=j.width+de,ee=Math.max(ge,N.width),Ae=window.innerWidth-ul,De=G8(ne,[ul,Math.max(ul,Ae-ee)]);o.style.minWidth=ge+"px",o.style.right=De+"px"}const C=p(),O=window.innerHeight-ul*2,L=m.scrollHeight,z=window.getComputedStyle(u),re=parseInt(z.borderTopWidth,10),Y=parseInt(z.paddingTop,10),K=parseInt(z.borderBottomWidth,10),q=parseInt(z.paddingBottom,10),Z=re+Y+L+q+K,ve=Math.min(g.offsetHeight*5,Z),ce=window.getComputedStyle(m),F=parseInt(ce.paddingTop,10),V=parseInt(ce.paddingBottom,10),G=j.top+j.height/2-ul,oe=O-G,J=g.offsetHeight/2,ie=g.offsetTop+J,be=re+Y+ie,he=Z-be;if(be<=G){const X=C.length>0&&g===C[C.length-1].ref.current;o.style.bottom="0px";const ne=u.clientHeight-m.offsetTop-m.offsetHeight,de=Math.max(oe,J+(X?V:0)+ne+K),ge=be+de;o.style.height=ge+"px"}else{const X=C.length>0&&g===C[0].ref.current;o.style.top="0px";const de=Math.max(G,re+m.offsetTop+(X?F:0)+J)+he;o.style.height=de+"px",m.scrollTop=be-G+m.offsetTop}o.style.margin=`${ul}px 0`,o.style.minHeight=ve+"px",o.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,a.trigger,a.valueNode,o,u,m,g,y,a.dir,n]);ta(()=>_(),[_]);const[A,E]=T.useState();ta(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const I=T.useCallback(j=>{j&&v.current===!0&&(_(),x==null||x(),v.current=!1)},[_,x]);return c.jsx(mxe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:f,onScrollButtonChange:I,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:c.jsx(Ht.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});wX.displayName=fxe;var pxe="SelectPopperPosition",BC=T.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ul,...a}=t,s=HA(r);return c.jsx(lO,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});BC.displayName=pxe;var[mxe,D3]=Ry(tm,{}),UC="SelectViewport",_X=T.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=xf(UC,r),s=D3(UC,r),o=Rr(e,a.onViewportChange),l=T.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(qA.Slot,{scope:r,children:c.jsx(Ht.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:kt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&h){const f=Math.abs(l.current-d.scrollTop);if(f>0){const v=window.innerHeight-ul*2,m=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(m,g);if(y<v){const x=y+f,_=Math.min(v,x),A=x-_;h.style.height=_+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});_X.displayName=UC;var SX="SelectGroup",[gxe,vxe]=Ry(SX),yxe=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Al();return c.jsx(gxe,{scope:r,id:i,children:c.jsx(Ht.div,{role:"group","aria-labelledby":i,...n,ref:e})})});yxe.displayName=SX;var AX="SelectLabel",NX=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=vxe(AX,r);return c.jsx(Ht.div,{id:i.id,...n,ref:e})});NX.displayName=AX;var ES="SelectItem",[bxe,EX]=Ry(ES),jX=T.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=bf(ES,r),l=xf(ES,r),u=o.value===n,[d,h]=T.useState(a??""),[p,f]=T.useState(!1),v=Rr(e,x=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,x,n,i)}),m=Al(),g=T.useRef("touch"),y=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(bxe,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:T.useCallback(x=>{h(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:c.jsx(qA.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:c.jsx(Ht.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:kt(s.onFocus,()=>f(!0)),onBlur:kt(s.onBlur,()=>f(!1)),onClick:kt(s.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:kt(s.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:kt(s.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:kt(s.onPointerMove,x=>{var _;g.current=x.pointerType,i?(_=l.onItemLeave)==null||_.call(l):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:kt(s.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:kt(s.onKeyDown,x=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&x.key===" "||(ixe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});jX.displayName=ES;var r1="SelectItemText",PX=T.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=bf(r1,r),o=xf(r1,r),l=EX(r1,r),u=lxe(r1,r),[d,h]=T.useState(null),p=Rr(e,y=>h(y),l.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,l.value,l.disabled)}),f=d==null?void 0:d.textContent,v=T.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return ta(()=>(m(v),()=>g(v)),[m,g,v]),c.jsxs(c.Fragment,{children:[c.jsx(Ht.span,{id:l.textId,...a,ref:p}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?pm.createPortal(a.children,s.valueNode):null]})});PX.displayName=r1;var TX="SelectItemIndicator",CX=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return EX(TX,r).isSelected?c.jsx(Ht.span,{"aria-hidden":!0,...n,ref:e}):null});CX.displayName=TX;var VC="SelectScrollUpButton",kX=T.forwardRef((t,e)=>{const r=xf(VC,t.__scopeSelect),n=D3(VC,t.__scopeSelect),[i,a]=T.useState(!1),s=Rr(e,n.onScrollButtonChange);return ta(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollTop>0;a(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?c.jsx(OX,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});kX.displayName=VC;var zC="SelectScrollDownButton",IX=T.forwardRef((t,e)=>{const r=xf(zC,t.__scopeSelect),n=D3(zC,t.__scopeSelect),[i,a]=T.useState(!1),s=Rr(e,n.onScrollButtonChange);return ta(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?c.jsx(OX,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});IX.displayName=zC;var OX=T.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=xf("SelectScrollButton",r),s=T.useRef(null),o=WA(r),l=T.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),ta(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(Ht.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:kt(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:kt(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:kt(i.onPointerLeave,()=>{l()})})}),xxe="SelectSeparator",RX=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(Ht.div,{"aria-hidden":!0,...n,ref:e})});RX.displayName=xxe;var qC="SelectArrow",wxe=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=HA(r),a=bf(qC,r),s=xf(qC,r);return a.open&&s.position==="popper"?c.jsx(cO,{...i,...n,ref:e}):null});wxe.displayName=qC;var _xe="SelectBubbleInput",DX=T.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=T.useRef(null),a=Rr(n,i),s=uX(e);return T.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&d){const h=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[s,e]),c.jsx(Ht.select,{...r,style:{...Eq,...r.style},ref:a,defaultValue:e})});DX.displayName=_xe;function LX(t){return t===""||t===void 0}function MX(t){const e=Yo(t),r=T.useRef(""),n=T.useRef(0),i=T.useCallback(s=>{const o=r.current+s;e(o),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=T.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function $X(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=Sxe(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function Sxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Axe=dX,FX=fX,Nxe=mX,Exe=gX,jxe=vX,BX=yX,Pxe=_X,UX=NX,VX=jX,Txe=PX,Cxe=CX,zX=kX,qX=IX,WX=RX;const Zn=Axe,ei=Nxe,Kn=T.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(FX,{ref:n,className:wt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(Exe,{asChild:!0,children:c.jsx(YI,{className:"h-4 w-4 opacity-50"})})]}));Kn.displayName=FX.displayName;const HX=T.forwardRef(({className:t,...e},r)=>c.jsx(zX,{ref:r,className:wt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Roe,{className:"h-4 w-4"})}));HX.displayName=zX.displayName;const GX=T.forwardRef(({className:t,...e},r)=>c.jsx(qX,{ref:r,className:wt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(YI,{className:"h-4 w-4"})}));GX.displayName=qX.displayName;const Yn=T.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>c.jsx(jxe,{children:c.jsxs(BX,{ref:i,className:wt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(HX,{}),c.jsx(Pxe,{className:wt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(GX,{})]})}));Yn.displayName=BX.displayName;const kxe=T.forwardRef(({className:t,...e},r)=>c.jsx(UX,{ref:r,className:wt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));kxe.displayName=UX.displayName;const Or=T.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(VX,{ref:n,className:wt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Cxe,{children:c.jsx(fr,{className:"h-4 w-4"})})}),c.jsx(Txe,{children:e})]}));Or.displayName=VX.displayName;const Ixe=T.forwardRef(({className:t,...e},r)=>c.jsx(WX,{ref:r,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));Ixe.displayName=WX.displayName;function Ur(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ho(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Xa(t,e){const r=Ur(t);return isNaN(e)?ho(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Ol(t,e){const r=Ur(t);if(isNaN(e))return ho(t,NaN);if(!e)return r;const n=r.getDate(),i=ho(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const L3=6048e5,Oxe=864e5;let Rxe={};function qx(){return Rxe}function Oc(t,e){var o,l,u,d;const r=qx(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Ur(t),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function rm(t){return Oc(t,{weekStartsOn:1})}function KX(t){const e=Ur(t),r=e.getFullYear(),n=ho(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=rm(n),a=ho(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=rm(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function Mv(t){const e=Ur(t);return e.setHours(0,0,0,0),e}function jS(t){const e=Ur(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function mc(t,e){const r=Mv(t),n=Mv(e),i=+r-jS(r),a=+n-jS(n);return Math.round((i-a)/Oxe)}function Dxe(t){const e=KX(t),r=ho(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),rm(r)}function WC(t,e){const r=e*7;return Xa(t,r)}function Lxe(t,e){return Ol(t,e*12)}function Mxe(t){let e;return t.forEach(function(r){const n=Ur(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function $xe(t){let e;return t.forEach(r=>{const n=Ur(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function As(t,e){const r=Mv(t),n=Mv(e);return+r==+n}function M3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Fxe(t){if(!M3(t)&&typeof t!="number")return!1;const e=Ur(t);return!isNaN(Number(e))}function _b(t,e){const r=Ur(t),n=Ur(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Bxe(t,e,r){const n=Oc(t,r),i=Oc(e,r),a=+n-jS(n),s=+i-jS(i);return Math.round((a-s)/L3)}function $3(t){const e=Ur(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Os(t){const e=Ur(t);return e.setDate(1),e.setHours(0,0,0,0),e}function YX(t){const e=Ur(t),r=ho(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function F3(t,e){var o,l,u,d;const r=qx(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Ur(t),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function XX(t){return F3(t,{weekStartsOn:1})}const Uxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vxe=(t,e,r)=>{let n;const i=Uxe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Iu(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const zxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hxe={date:Iu({formats:zxe,defaultWidth:"full"}),time:Iu({formats:qxe,defaultWidth:"full"}),dateTime:Iu({formats:Wxe,defaultWidth:"full"})},Gxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kxe=(t,e,r,n)=>Gxe[t];function Ja(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Yxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ewe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},twe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rwe={ordinalNumber:twe,era:Ja({values:Yxe,defaultWidth:"wide"}),quarter:Ja({values:Xxe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ja({values:Qxe,defaultWidth:"wide"}),day:Ja({values:Jxe,defaultWidth:"wide"}),dayPeriod:Ja({values:Zxe,defaultWidth:"wide",formattingValues:ewe,defaultFormattingWidth:"wide"})};function Za(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?iwe(o,h=>h.test(s)):nwe(o,h=>h.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function nwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function iwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function B3(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const awe=/^(\d+)(th|st|nd|rd)?/i,swe=/\d+/i,owe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lwe={any:[/^b/i,/^(a|c)/i]},cwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uwe={any:[/1/i,/2/i,/3/i,/4/i]},dwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vwe={ordinalNumber:B3({matchPattern:awe,parsePattern:swe,valueCallback:t=>parseInt(t,10)}),era:Za({matchPatterns:owe,defaultMatchWidth:"wide",parsePatterns:lwe,defaultParseWidth:"any"}),quarter:Za({matchPatterns:cwe,defaultMatchWidth:"wide",parsePatterns:uwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Za({matchPatterns:dwe,defaultMatchWidth:"wide",parsePatterns:hwe,defaultParseWidth:"any"}),day:Za({matchPatterns:fwe,defaultMatchWidth:"wide",parsePatterns:pwe,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:mwe,defaultMatchWidth:"any",parsePatterns:gwe,defaultParseWidth:"any"})},QX={code:"en-US",formatDistance:Vxe,formatLong:Hxe,formatRelative:Kxe,localize:rwe,match:vwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ywe(t){const e=Ur(t);return mc(e,YX(e))+1}function JX(t){const e=Ur(t),r=+rm(e)-+Dxe(e);return Math.round(r/L3)+1}function ZX(t,e){var d,h,p,f;const r=Ur(t),n=r.getFullYear(),i=qx(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(p=i.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,s=ho(t,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=Oc(s,e),l=ho(t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=Oc(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function bwe(t,e){var o,l,u,d;const r=qx(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=ZX(t,e),a=ho(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Oc(a,e)}function eQ(t,e){const r=Ur(t),n=+Oc(r,e)-+bwe(r,e);return Math.round(n/L3)+1}function tn(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Dd={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return tn(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):tn(r+1,2)},d(t,e){return tn(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return tn(t.getHours()%12||12,e.length)},H(t,e){return tn(t.getHours(),e.length)},m(t,e){return tn(t.getMinutes(),e.length)},s(t,e){return tn(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return tn(i,e.length)}},zm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K8={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Dd.y(t,e)},Y:function(t,e,r,n){const i=ZX(t,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return tn(s,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):tn(a,e.length)},R:function(t,e){const r=KX(t);return tn(r,e.length)},u:function(t,e){const r=t.getFullYear();return tn(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return tn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return tn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Dd.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return tn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=eQ(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):tn(i,e.length)},I:function(t,e,r){const n=JX(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):tn(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Dd.d(t,e)},D:function(t,e,r){const n=ywe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):tn(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return tn(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return tn(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return tn(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=zm.noon:n===0?i=zm.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=zm.evening:n>=12?i=zm.afternoon:n>=4?i=zm.morning:i=zm.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Dd.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Dd.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):tn(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):tn(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dd.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Dd.s(t,e)},S:function(t,e){return Dd.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return X8(n);case"XXXX":case"XX":return Xf(n);case"XXXXX":case"XXX":default:return Xf(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return X8(n);case"xxxx":case"xx":return Xf(n);case"xxxxx":case"xxx":default:return Xf(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Y8(n,":");case"OOOO":default:return"GMT"+Xf(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Y8(n,":");case"zzzz":default:return"GMT"+Xf(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return tn(n,e.length)},T:function(t,e,r){const n=t.getTime();return tn(n,e.length)}};function Y8(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+tn(a,2)}function X8(t,e){return t%60===0?(t>0?"-":"+")+tn(Math.abs(t)/60,2):Xf(t,e)}function Xf(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=tn(Math.trunc(n/60),2),a=tn(n%60,2);return r+i+e+a}const Q8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tQ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xwe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Q8(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Q8(n,e)).replace("{{time}}",tQ(i,e))},wwe={p:tQ,P:xwe},_we=/^D+$/,Swe=/^Y+$/,Awe=["D","DD","YY","YYYY"];function Nwe(t){return _we.test(t)}function Ewe(t){return Swe.test(t)}function jwe(t,e,r){const n=Pwe(t,e,r);if(console.warn(n),Awe.includes(t))throw new RangeError(n)}function Pwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Twe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kwe=/^'([^]*?)'?$/,Iwe=/''/g,Owe=/[a-zA-Z]/;function fa(t,e,r){var d,h,p,f,v,m,g,y;const n=qx(),i=(r==null?void 0:r.locale)??n.locale??QX,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,o=Ur(t);if(!Fxe(o))throw new RangeError("Invalid time value");let l=e.match(Cwe).map(x=>{const _=x[0];if(_==="p"||_==="P"){const A=wwe[_];return A(x,i.formatLong)}return x}).join("").match(Twe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const _=x[0];if(_==="'")return{isToken:!1,value:Rwe(x)};if(K8[_])return{isToken:!0,value:x};if(_.match(Owe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const _=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Ewe(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Nwe(_))&&jwe(_,e,String(t));const A=K8[_[0]];return A(o,_,i.localize,u)}).join("")}function Rwe(t){const e=t.match(kwe);return e?e[1].replace(Iwe,"'"):t}function Dwe(t){const e=Ur(t),r=e.getFullYear(),n=e.getMonth(),i=ho(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Lwe(t){return Math.trunc(+Ur(t)/1e3)}function Mwe(t){const e=Ur(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function $we(t,e){return Bxe(Mwe(t),Os(t),e)+1}function HC(t,e){const r=Ur(t),n=Ur(e);return r.getTime()>n.getTime()}function rQ(t,e){const r=Ur(t),n=Ur(e);return+r<+n}function U3(t,e){const r=Ur(t),n=Ur(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Fwe(t,e){const r=Ur(t),n=Ur(e);return r.getFullYear()===n.getFullYear()}function _j(t,e){return Xa(t,-e)}function Sj(t,e){const r=Ur(t),n=r.getFullYear(),i=r.getDate(),a=ho(t,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const s=Dwe(a);return r.setMonth(e,Math.min(i,s)),r}function J8(t,e){const r=Ur(t);return isNaN(+r)?ho(t,NaN):(r.setFullYear(e),r)}const Bwe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Uwe=(t,e,r)=>{let n;const i=Bwe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"daqui a "+n:"há "+n:n},Vwe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},zwe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},qwe={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wwe={date:Iu({formats:Vwe,defaultWidth:"full"}),time:Iu({formats:zwe,defaultWidth:"full"}),dateTime:Iu({formats:qwe,defaultWidth:"full"})},Hwe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Gwe=(t,e,r,n)=>{const i=Hwe[t];return typeof i=="function"?i(e):i},Kwe={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},Ywe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Xwe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Qwe={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sáb"],abbreviated:["dom","seg","ter","qua","qui","sex","sáb"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Jwe={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"}},Zwe={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},e2e=(t,e)=>Number(t)+"º",t2e={ordinalNumber:e2e,era:Ja({values:Kwe,defaultWidth:"wide"}),quarter:Ja({values:Ywe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ja({values:Xwe,defaultWidth:"wide"}),day:Ja({values:Qwe,defaultWidth:"wide"}),dayPeriod:Ja({values:Jwe,defaultWidth:"wide",formattingValues:Zwe,defaultFormattingWidth:"wide"})},r2e=/^(\d+)(º|ª)?/i,n2e=/\d+/i,i2e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},a2e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},s2e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º|ª)? trimestre/i},o2e={any:[/1/i,/2/i,/3/i,/4/i]},l2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},c2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},u2e={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,wide:/^(domingo|segunda-?\s?feira|terça-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[áa]bado)/i},d2e={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[áa]/i]},h2e={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i},f2e={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[ãa]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},p2e={ordinalNumber:B3({matchPattern:r2e,parsePattern:n2e,valueCallback:t=>parseInt(t,10)}),era:Za({matchPatterns:i2e,defaultMatchWidth:"wide",parsePatterns:a2e,defaultParseWidth:"any"}),quarter:Za({matchPatterns:s2e,defaultMatchWidth:"wide",parsePatterns:o2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Za({matchPatterns:l2e,defaultMatchWidth:"wide",parsePatterns:c2e,defaultParseWidth:"any"}),day:Za({matchPatterns:u2e,defaultMatchWidth:"wide",parsePatterns:d2e,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:h2e,defaultMatchWidth:"any",parsePatterns:f2e,defaultParseWidth:"any"})},Aj={code:"pt",formatDistance:Uwe,formatLong:Wwe,formatRelative:Gwe,localize:t2e,match:p2e,options:{weekStartsOn:1,firstWeekContainsDate:4}},m2e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},g2e=(t,e,r)=>{let n;const i=m2e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},v2e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},y2e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},b2e={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x2e={date:Iu({formats:v2e,defaultWidth:"full"}),time:Iu({formats:y2e,defaultWidth:"full"}),dateTime:Iu({formats:b2e,defaultWidth:"full"})},w2e={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},_2e=(t,e,r,n)=>{const i=w2e[t];return typeof i=="function"?i(e):i},S2e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},A2e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},N2e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},E2e={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},j2e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},P2e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},T2e=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"ª":r+"º"},C2e={ordinalNumber:T2e,era:Ja({values:S2e,defaultWidth:"wide"}),quarter:Ja({values:A2e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ja({values:N2e,defaultWidth:"wide"}),day:Ja({values:E2e,defaultWidth:"wide"}),dayPeriod:Ja({values:j2e,defaultWidth:"wide",formattingValues:P2e,defaultFormattingWidth:"wide"})},k2e=/^(\d+)[ºªo]?/i,I2e=/\d+/i,O2e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},R2e={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},D2e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},L2e={any:[/1/i,/2/i,/3/i,/4/i]},M2e={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},F2e={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},B2e={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},U2e={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},V2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},z2e={ordinalNumber:B3({matchPattern:k2e,parsePattern:I2e,valueCallback:t=>parseInt(t,10)}),era:Za({matchPatterns:O2e,defaultMatchWidth:"wide",parsePatterns:R2e,defaultParseWidth:"any"}),quarter:Za({matchPatterns:D2e,defaultMatchWidth:"wide",parsePatterns:L2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Za({matchPatterns:M2e,defaultMatchWidth:"wide",parsePatterns:$2e,defaultParseWidth:"any"}),day:Za({matchPatterns:F2e,defaultMatchWidth:"wide",parsePatterns:B2e,defaultParseWidth:"any"}),dayPeriod:Za({matchPatterns:U2e,defaultMatchWidth:"any",parsePatterns:V2e,defaultParseWidth:"any"})},nQ={code:"pt-BR",formatDistance:g2e,formatLong:x2e,formatRelative:_2e,localize:C2e,match:z2e,options:{weekStartsOn:0,firstWeekContainsDate:1}},q2e=({date:t})=>{const{user:e}=qr(),[r,n]=T.useState(""),[i,a]=T.useState(""),[s,o]=T.useState(""),[l,u]=T.useState(""),d=fa(t,"yyyy-MM-dd"),{data:h=[]}=Oy((e==null?void 0:e.uid)||""),{data:p=[]}=lo((e==null?void 0:e.uid)||""),f=p.filter(A=>A.date===d),v=k3(),m=I3(),g=async(A,E,I)=>{if(!(e!=null&&e.uid)||!E||!I){Ge.error("Preencha todos os campos");return}try{const j={userId:e.uid,employeeId:"",platformId:I,type:A,amount:Number(E),date:d};console.log("Creating transaction for date:",d,j),console.log("Transaction data being sent:",JSON.stringify(j,null,2));const N=await v.mutateAsync(j);console.log("Transaction created successfully with ID:",N),Ge.success(`${A==="deposit"?"Depósito":"Saque"} registrado com sucesso!`),A==="deposit"?(n(""),o("")):(a(""),u(""))}catch(j){console.error("Erro ao criar transação:",j),console.error("Error details:",j),Ge.error("Erro ao registrar transação: "+j.message)}},y=async A=>{try{await m.mutateAsync(A),Ge.success("Transação excluída com sucesso!")}catch(E){console.error("Erro ao excluir transação:",E),Ge.error("Erro ao excluir transação")}},x=A=>{const E=h.find(I=>I.id===A);return(E==null?void 0:E.name)||"N/A"},_=A=>{const E=h.find(I=>I.id===A);return(E==null?void 0:E.color)||"#666"};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Transações - ",fa(t,"dd 'de' MMMM 'de' yyyy",{locale:nQ})]}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie as movimentações deste dia"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(di,{className:"h-5 w-5 text-success"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Registrar Depósito"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"deposit-amount",children:"Valor (R$)"}),c.jsx(Ft,{id:"deposit-amount",type:"number",step:"0.01",placeholder:"0,00",value:r,onChange:A=>n(A.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"deposit-platform",children:"Plataforma"}),c.jsxs(Zn,{value:s,onValueChange:o,children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione..."})}),c.jsx(Yn,{children:h.map(A=>c.jsx(Or,{value:A.id,children:A.name},A.id))})]})]}),c.jsxs(qe,{onClick:()=>g("deposit",r,s),className:"w-full gap-2",disabled:!r||!s||v.isPending,children:[c.jsx(di,{className:"h-4 w-4"}),"Registrar Depósito"]})]}),c.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qh,{className:"h-5 w-5 text-destructive"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Registrar Saque"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"withdraw-amount",children:"Valor (R$)"}),c.jsx(Ft,{id:"withdraw-amount",type:"number",step:"0.01",placeholder:"0,00",value:i,onChange:A=>a(A.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"withdraw-platform",children:"Plataforma"}),c.jsxs(Zn,{value:l,onValueChange:u,children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione..."})}),c.jsx(Yn,{children:h.map(A=>c.jsx(Or,{value:A.id,children:A.name},A.id))})]})]}),c.jsxs(qe,{onClick:()=>g("withdraw",i,l),className:"w-full gap-2",disabled:!i||!l||v.isPending,children:[c.jsx(qh,{className:"h-4 w-4"}),"Registrar Saque"]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Transações do Dia"}),f.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação registrada para este dia"}):c.jsx("div",{className:"space-y-2",children:f.map(A=>{var E,I;return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ir,{variant:A.type==="deposit"?"default":"destructive",style:{backgroundColor:_(A.platformId)},children:A.type==="deposit"?"Receita":"Despesa"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:x(A.platformId)}),c.jsx("div",{className:"text-sm text-muted-foreground",children:fa(new Date(((I=(E=A.createdAt)==null?void 0:E.toDate)==null?void 0:I.call(E))||A.date),"HH:mm")})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:`font-bold ${A.type==="deposit"?"text-success":"text-destructive"}`,children:[A.type==="deposit"?"+":"-","R$ ",Number(A.amount).toLocaleString("pt-BR")]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>y(A.id),className:"text-destructive hover:text-destructive",children:c.jsx(zh,{className:"h-4 w-4"})})]})]},A.id)})})]}),f.length>0&&c.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Resumo do Dia"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Depósitos"}),c.jsxs("div",{className:"font-bold text-success",children:["R$ ",f.filter(A=>A.type==="deposit").reduce((A,E)=>A+Number(E.amount),0).toLocaleString("pt-BR")]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Saques"}),c.jsxs("div",{className:"font-bold text-destructive",children:["R$ ",f.filter(A=>A.type==="withdraw").reduce((A,E)=>A+Number(E.amount),0).toLocaleString("pt-BR")]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Lucro"}),c.jsxs("div",{className:`font-bold ${f.reduce((A,E)=>A+(E.type==="withdraw"?E.amount:-E.amount),0)>=0?"text-success":"text-destructive"}`,children:["R$ ",f.reduce((A,E)=>A+(E.type==="withdraw"?E.amount:-E.amount),0).toLocaleString("pt-BR")]})]})]})]})]})},W2e=()=>{const[t,e]=T.useState(oc()),[r,n]=T.useState(null),{user:i}=qr(),{canEditPreviousCalendarDays:a}=yf(),{data:s=[]}=zx((i==null?void 0:i.uid)||""),{data:o=[]}=lo((i==null?void 0:i.uid)||"");console.log("MonthlyCalendar - Historical Summaries:",s),console.log("MonthlyCalendar - Historical Summaries length:",(s==null?void 0:s.length)||0),console.log("MonthlyCalendar - All Transactions:",o),console.log("MonthlyCalendar - All Transactions length:",(o==null?void 0:o.length)||0),console.log("MonthlyCalendar - Current Date:",t),console.log("MonthlyCalendar - User ID:",i==null?void 0:i.uid);const l=T.useMemo(()=>{const y=new Map;return console.log("Calculating daily profits..."),s.forEach(x=>{let _;typeof x.date=="string"?_=x.date:x.date&&x.date.toDate?_=fa(x.date.toDate(),"yyyy-MM-dd"):_=fa(new Date(x.date),"yyyy-MM-dd"),console.log(`Adding historical profit for ${_}: ${x.profit||x.margin}`),y.set(_,x.profit||x.margin||0)}),o.forEach(x=>{const _=x.date;console.log(`Processing transaction for date ${_}:`,x);const A=x.type==="withdraw"?x.amount:-x.amount;if(y.has(_)){const E=y.get(_)||0,I=E+A;console.log(`Adding to existing profit for ${_}: ${E} + ${A} = ${I}`),y.set(_,I)}else console.log(`Creating new profit for ${_}: ${A}`),y.set(_,A)}),console.log("Final daily profits Map:",Array.from(y.entries())),y},[s,o]),u=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],d=y=>{const x=y.getFullYear(),_=y.getMonth(),A=new Date(x,_,1),I=new Date(x,_+1,0).getDate(),j=A.getDay();return{daysInMonth:I,startingDayOfWeek:j}},{daysInMonth:h,startingDayOfWeek:p}=d(t),f=()=>{e(new Date(t.getFullYear(),t.getMonth()-1))},v=()=>{e(new Date(t.getFullYear(),t.getMonth()+1))},m=y=>{const x=new Date(t.getFullYear(),t.getMonth(),y),_=fa(x,"yyyy-MM-dd");console.log(`Looking for profit for day ${y}, date string: ${_}`);const A=l.get(_);return console.log(`Profit found for day ${y}:`,A),A},g=y=>{const x=new Date(t.getFullYear(),t.getMonth(),y),_=new Date;if(_.setHours(0,0,0,0),!a()&&x.getTime()!==_.getTime()){const A=x<_?"Edição de dias passados disponível apenas no plano Medium ou superior. Faça upgrade para acessar esta funcionalidade.":"Edição de dias futuros disponível apenas no plano Medium ou superior. Faça upgrade para acessar esta funcionalidade.";Ge.error(A);return}n(x)};return c.jsxs(c.Fragment,{children:[c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold",children:[u[t.getMonth()]," ",t.getFullYear()]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(qe,{variant:"outline",onClick:()=>{console.log("=== DEBUG INFO ==="),console.log("User ID:",i==null?void 0:i.uid),console.log("Historical Summaries:",s),console.log("All Transactions:",o),console.log("Daily Profits Map:",Array.from(l.entries())),console.log("==================")},children:"Debug"}),c.jsx(qe,{variant:"outline",size:"icon",onClick:f,children:c.jsx(Kq,{className:"h-4 w-4"})}),c.jsx(qe,{variant:"outline",size:"icon",onClick:v,children:c.jsx(XI,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(y=>c.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground p-2",children:y},y)),Array.from({length:p}).map((y,x)=>c.jsx("div",{},`empty-${x}`)),Array.from({length:h}).map((y,x)=>{const _=x+1,A=m(_),E=new Date(t.getFullYear(),t.getMonth(),_),I=new Date;I.setHours(0,0,0,0);const j=E.getTime()===I.getTime(),N=E<I,k=E>I,D=!a()&&(N||k);return c.jsxs("button",{onClick:()=>g(_),className:`
                  min-h-[80px] p-3 rounded-lg border transition-all hover:shadow-md relative group
                  ${j?"border-primary border-2":"border-border"}
                  ${N&&A!==void 0?"bg-muted/50":"bg-card"}
                  hover:bg-accent
                `,children:[c.jsx("div",{className:"absolute top-2 right-2 text-lg font-bold text-primary group-hover:text-black transition-colors duration-200",children:_}),D&&c.jsx("div",{className:"absolute top-2 left-2",children:c.jsx(nA,{className:"h-3 w-3 text-muted-foreground"})}),A!==void 0&&c.jsxs("div",{className:"flex flex-col items-center justify-center h-full pt-4",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"BRL"}),c.jsxs("div",{className:`text-sm font-bold ${A>=0?"text-success":"text-destructive"}`,children:[A>=0?"+":"","R$ ",A.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},_)})]})]}),c.jsx(oo,{open:!!r,onOpenChange:y=>!y&&n(null),children:c.jsxs(Cs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(ks,{children:c.jsxs(Is,{children:["Transações - ",r==null?void 0:r.toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})]})}),r&&c.jsx(q2e,{date:r})]})})]})};class Ks{static startDailyClosureService(e){this.stopDailyClosureService();const r=this.getNextMidnightInSaoPaulo(),n=r.getTime()-new Date().getTime();console.log("🕛 Serviço de fechamento diário iniciado"),console.log(`📅 Próximo fechamento em: ${r.toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})}`),this.closureInterval=setTimeout(()=>{this.processDailyClosure(e),this.closureInterval=setInterval(()=>{this.processDailyClosure(e)},24*60*60*1e3)},n)}static stopDailyClosureService(){this.closureInterval&&(clearTimeout(this.closureInterval),clearInterval(this.closureInterval),this.closureInterval=null,console.log("🛑 Serviço de fechamento diário parado"))}static async processManualClosure(e,r){const n=r||this.getCurrentDateInSaoPaulo();await this.processDailyClosure(e,n)}static async processDailyClosure(e,r){if(this.isProcessing){console.log("⚠️ Fechamento diário já está sendo processado");return}this.isProcessing=!0;const n=r||this.getCurrentDateInSaoPaulo();try{console.log(`🔄 Iniciando fechamento diário para ${n}`);const i=await Lv.getTransactionsByDateRange(e,n,n);if(i.length===0){console.log("📝 Nenhuma transação encontrada para o dia"),this.isProcessing=!1;return}const a=await this.calculateDailySummary(e,n,i),s=await this.getExistingSummary(e,n);s?(console.log("📝 Atualizando resumo existente"),await Lo.updateDailySummary(e,s.id,a)):(console.log("📝 Criando novo resumo diário"),await Lo.createDailySummary(e,a)),console.log(`✅ Fechamento diário concluído para ${n}`),console.log(`📊 Resumo: ${a.totalDeposits} depósitos, ${a.totalWithdraws} saques, ${a.totalProfit} lucro`)}catch(i){console.error("❌ Erro no fechamento diário:",i)}finally{this.isProcessing=!1}}static async calculateDailySummary(e,r,n){const i=n.filter(u=>u.type==="deposit").reduce((u,d)=>u+(d.amount||0),0),a=n.filter(u=>u.type==="withdraw").reduce((u,d)=>u+(d.amount||0),0),s=a-i,o=n.reduce((u,d)=>{const h=d.employeeId;return u[h]||(u[h]={employeeId:h,employeeName:"Funcionário não encontrado",deposits:0,withdraws:0,profit:0,transactionCount:0}),d.type==="deposit"?u[h].deposits+=d.amount||0:u[h].withdraws+=d.amount||0,u[h].transactionCount++,u},{});Object.values(o).forEach(u=>{u.profit=u.withdraws-u.deposits});const l=Object.values(o);return{date:r,totalDeposits:i,totalWithdraws:a,totalProfit:s,transactionCount:n.length,employeeSummaries:l}}static async getExistingSummary(e,r){try{return(await Lo.getDailySummaries(e)).find(i=>i.date===r)||null}catch(n){return console.error("Erro ao buscar resumo existente:",n),null}}static getNextMidnightInSaoPaulo(){const e=new Date,r=new Date(e.toLocaleString("en-US",{timeZone:"America/Sao_Paulo"})),n=new Date(r);return n.setDate(n.getDate()+1),n.setHours(0,0,0,0),new Date(n.toLocaleString("en-US",{timeZone:"UTC"}))}static getCurrentDateInSaoPaulo(){return new Date().toLocaleDateString("en-CA",{timeZone:"America/Sao_Paulo"})}static isServiceActive(){return this.closureInterval!==null}static getNextClosureInfo(){return{nextClosure:this.getNextMidnightInSaoPaulo(),isActive:this.isServiceActive()}}}kr(Ks,"closureInterval",null),kr(Ks,"isProcessing",!1);const H2e=()=>{const{user:t}=qr(),[e,r]=T.useState(!1),[n,i]=T.useState(null);return T.useEffect(()=>{if(t!=null&&t.uid){console.log("🚀 Iniciando serviço de fechamento diário para usuário:",t.uid),Ks.startDailyClosureService(t.uid),r(Ks.isServiceActive());const{nextClosure:l}=Ks.getNextClosureInfo();i(l);const u=setInterval(()=>{r(Ks.isServiceActive());const{nextClosure:d}=Ks.getNextClosureInfo();i(d)},6e4);return()=>{clearInterval(u),Ks.stopDailyClosureService(),console.log("🛑 Serviço de fechamento diário parado")}}},[t==null?void 0:t.uid]),{isServiceActive:e,nextClosure:n,processManualClosure:async l=>{if(!(t!=null&&t.uid)){Ge.error("Usuário não autenticado");return}try{Ge.loading("Processando fechamento diário...",{id:"daily-closure"}),await Ks.processManualClosure(t.uid,l),Ge.success("Fechamento diário processado com sucesso!",{id:"daily-closure"})}catch(u){console.error("Erro no fechamento manual:",u),Ge.error("Erro ao processar fechamento diário",{id:"daily-closure"})}},stopService:()=>{Ks.stopDailyClosureService(),r(!1),i(null),Ge.info("Serviço de fechamento diário parado")},restartService:()=>{if(t!=null&&t.uid){Ks.startDailyClosureService(t.uid),r(Ks.isServiceActive());const{nextClosure:l}=Ks.getNextClosureInfo();i(l),Ge.success("Serviço de fechamento diário reiniciado")}}}},G2e=()=>{var Z,ve;const{user:t}=qr(),e=Wi();H2e();const{data:r=[],isLoading:n,error:i}=rd((t==null?void 0:t.uid)||""),a=R3(),s=new Date(oc().getTime()-7*24*60*60*1e3).toISOString().split("T")[0],o=new Date(oc().getFullYear(),oc().getMonth(),1).toISOString().split("T")[0],l=new Date(oc().getFullYear(),oc().getMonth()+1,0).toISOString().split("T")[0],{data:u=[],isLoading:d,error:h}=lo((t==null?void 0:t.uid)||"",a,a),{data:p=[],isLoading:f}=lo((t==null?void 0:t.uid)||"",s,a),{data:v=[],isLoading:m}=lo((t==null?void 0:t.uid)||"",o,l),{data:g=[]}=zx((t==null?void 0:t.uid)||"");console.log("Dashboard Debug:",{user:t==null?void 0:t.uid,employees:r.length,todayTransactions:u.length,today:a,employeesLoading:n,transactionsLoading:d,employeesError:i,transactionsError:h});const y=((Z=u==null?void 0:u.filter(ce=>ce.type==="deposit"))==null?void 0:Z.reduce((ce,F)=>ce+(F.amount||0),0))||0,_=(((ve=u==null?void 0:u.filter(ce=>ce.type==="withdraw"))==null?void 0:ve.reduce((ce,F)=>ce+(F.amount||0),0))||0)-y,A=(r==null?void 0:r.filter(ce=>ce.status==="active"))||[];u!=null&&u.length;const E=oc().getFullYear(),I=oc().getMonth(),j=g.filter(ce=>{const F=new Date(ce.date);return F.getFullYear()===E&&F.getMonth()===I}),N=j.reduce((ce,F)=>ce+(F.profit||F.margin||0),0),k=new Set(j.map(ce=>ce.date)),D=v.filter(ce=>!k.has(ce.date)),C=D.reduce((ce,F)=>{const V=F.type==="withdraw"?F.amount:-F.amount;return ce+V},0);console.log("Dashboard - Transações Abertas (não fechadas):",{totalMonthlyTransactions:v.length,closedDates:Array.from(k),openTransactions:D.length,monthlyRevenueFromTransactions:C});const O=N+C;console.log("Dashboard - Cálculo Receita Mensal:",{currentYear:E,currentMonth:I,monthlySummaries:j.length,monthlyRevenueFromSummaries:N,monthlyTransactions:v.length,monthlyRevenueFromTransactions:C,monthlyRevenue:O}),console.log("Dashboard - Fechamentos Diários Detalhados:"),j.forEach((ce,F)=>{console.log(`  ${F+1}. Data: ${ce.date}, Profit: ${ce.profit||ce.margin||0}`)}),console.log("Dashboard - Transações Abertas Detalhadas:"),D.forEach((ce,F)=>{const V=ce.type==="withdraw"?ce.amount:-ce.amount;console.log(`  ${F+1}. Data: ${ce.date}, Tipo: ${ce.type}, Valor: ${ce.amount}, Profit: ${V}`)}),A.length*1e4;const L=[{title:"Receita Hoje",value:`R$ ${_.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:Up,valueColor:_>=0?"positive":"negative",clickable:!0,onClick:()=>e("/resumo-dia")},{title:"Receita do Mês",value:`R$ ${O.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:O>=0?di:qh,valueColor:O>=0?"positive":"negative",clickable:!0,onClick:()=>e("/relatorios")},{title:"Funcionários Ativos",value:A.length.toString(),icon:es,valueColor:"default",clickable:!0,onClick:()=>e("/gestao-funcionarios")},{title:"Transações do Mês",value:v.length.toString(),icon:rA,valueColor:"default",clickable:!0,onClick:()=>{e("/relatorios"),setTimeout(()=>{const ce=document.getElementById("weekly-chart-section");ce&&ce.scrollIntoView({behavior:"smooth",block:"start"})},500)}}];(()=>{const ce=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],F=[];for(let V=6;V>=0;V--){const G=new Date;G.setDate(G.getDate()-V);const oe=G.toISOString().split("T")[0],J=p.filter(P=>{var ne,de;return new Date(((de=(ne=P.createdAt)==null?void 0:ne.toDate)==null?void 0:de.call(ne))||P.createdAt).toISOString().split("T")[0]===oe}),ie=J.filter(P=>P.type==="withdraw").reduce((P,X)=>P+(Number(X.amount)||0),0),be=J.filter(P=>P.type==="deposit").reduce((P,X)=>P+(Number(X.amount)||0),0),he=F.length>0?F[F.length-1].lucroAcumulado+ie-be:ie-be;F.push({name:ce[G.getDay()],receita:ie,despesa:be,lucro:ie-be,lucroAcumulado:he,date:oe,isToday:V===0})}return F})();const re=()=>{const ce=[];return p.sort((F,V)=>{var G,oe,J,ie;return new Date(((oe=(G=V.createdAt)==null?void 0:G.toDate)==null?void 0:oe.call(G))||V.createdAt).getTime()-new Date(((ie=(J=F.createdAt)==null?void 0:J.toDate)==null?void 0:ie.call(J))||F.createdAt).getTime()}).slice(0,5).forEach(F=>{var oe,J;const V=r.find(ie=>ie.id===F.employeeId),G=Y(new Date(((J=(oe=F.createdAt)==null?void 0:oe.toDate)==null?void 0:J.call(oe))||F.createdAt));F.type==="withdraw"?ce.push({id:`transaction-${F.id}`,action:"Pagamento recebido",employee:(V==null?void 0:V.name)||"Funcionário não encontrado",value:`R$ ${Number(F.amount||0).toLocaleString("pt-BR")}`,time:G,type:"payment",icon:Up}):F.type==="deposit"&&ce.push({id:`transaction-${F.id}`,action:"Pagamento pendente",employee:(V==null?void 0:V.name)||"Funcionário não encontrado",value:`R$ ${Number(F.amount||0).toLocaleString("pt-BR")}`,time:G,type:"pending",icon:tA})}),r.sort((F,V)=>{var G,oe,J,ie;return new Date(((oe=(G=V.createdAt)==null?void 0:G.toDate)==null?void 0:oe.call(G))||V.createdAt).getTime()-new Date(((ie=(J=F.createdAt)==null?void 0:J.toDate)==null?void 0:ie.call(J))||F.createdAt).getTime()}).slice(0,2).forEach(F=>{var G,oe;const V=Y(new Date(((oe=(G=F.createdAt)==null?void 0:G.toDate)==null?void 0:oe.call(G))||F.createdAt));ce.push({id:`employee-${F.id}`,action:"Novo funcionário",employee:F.name,value:"",time:V,type:"employee",icon:eW})}),ce.sort((F,V)=>{const G=K(F.time),oe=K(V.time);return G-oe}).slice(0,5)},Y=ce=>{const V=Math.floor((new Date-ce)/(1e3*60));if(V<1)return"Agora mesmo";if(V<60)return`${V} min atrás`;const G=Math.floor(V/60);if(G<24)return`${G} hora${G>1?"s":""} atrás`;const oe=Math.floor(G/24);return`${oe} dia${oe>1?"s":""} atrás`},K=ce=>ce==="Agora mesmo"?0:ce.includes("min")?parseInt(ce):ce.includes("hora")?parseInt(ce)*60:ce.includes("dia")?parseInt(ce)*24*60:999999,q=re();return c.jsx($a,{children:c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Visão geral do seu negócio"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:L.map(ce=>c.jsx(t1,{title:ce.title,value:ce.value,icon:ce.icon,valueColor:ce.valueColor,clickable:ce.clickable,onClick:ce.onClick},ce.title))}),c.jsx(txe,{}),c.jsx(W2e,{}),c.jsxs(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Atividades Recentes"}),c.jsx("div",{className:"space-y-4",children:q.length>0?q.map(ce=>{const F=ce.icon;return c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:`p-2 rounded-full ${ce.type==="payment"?"bg-success/10":ce.type==="pending"?"bg-warning/10":"bg-primary/10"}`,children:c.jsx(F,{className:`h-4 w-4 ${ce.type==="payment"?"text-success":ce.type==="pending"?"text-warning":"text-primary"}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:ce.action}),c.jsx("p",{className:"text-sm text-muted-foreground",children:ce.employee})]})]}),c.jsxs("div",{className:"text-right",children:[ce.value&&c.jsx("p",{className:`font-semibold ${ce.type==="payment"?"text-success":ce.type==="pending"?"text-warning":"text-foreground"}`,children:ce.value}),c.jsx("p",{className:"text-xs text-muted-foreground",children:ce.time})]})]},ce.id)}):c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(es,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Nenhuma atividade recente"}),c.jsx("p",{className:"text-sm",children:"As atividades aparecerão aqui conforme você usa o sistema"})]})})]})]})})},K2e="modulepreload",Y2e=function(t){return"/"+t},Z8={},Dh=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Y2e(l),l in Z8)return;Z8[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":K2e,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},X2e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Dh(async()=>{const{default:n}=await Promise.resolve().then(()=>Dy);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class V3 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class e$ extends V3{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class t$ extends V3{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class r$ extends V3{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var GC;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(GC||(GC={}));var Q2e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class J2e{constructor(e,{headers:r={},customFetch:n,region:i=GC.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=X2e(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Q2e(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s,signal:o}=r;let l={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(l["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(l["Content-Type"]="application/json",h=JSON.stringify(s)));const p=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h,signal:o}).catch(g=>{throw g.name==="AbortError"?g:new e$(g)}),f=p.headers.get("x-relay-error");if(f&&f==="true")throw new t$(p);if(!p.ok)throw new r$(p);let v=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return v==="application/json"?m=yield p.json():v==="application/octet-stream"?m=yield p.blob():v==="text/event-stream"?m=p:v==="multipart/form-data"?m=yield p.formData():m=yield p.text(),{data:m,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new e$(i)}:{data:null,error:i,response:i instanceof r$||i instanceof t$?i.context:void 0}}})}}var xs={},z3={},GA={},Wx={},KA={},YA={},Z2e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$v=Z2e();const e_e=$v.fetch,iQ=$v.fetch.bind($v),aQ=$v.Headers,t_e=$v.Request,r_e=$v.Response,Dy=Object.freeze(Object.defineProperty({__proto__:null,Headers:aQ,Request:t_e,Response:r_e,default:iQ,fetch:e_e},Symbol.toStringTag,{value:"Module"})),n_e=sie(Dy);var XA={};Object.defineProperty(XA,"__esModule",{value:!0});let i_e=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};XA.default=i_e;var sQ=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(YA,"__esModule",{value:!0});const a_e=sQ(n_e),s_e=sQ(XA);let o_e=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=a_e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l,u;let d=null,h=null,p=null,f=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?h=x:h=JSON.parse(x))}const g=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,f=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const g=await a.text();try{d=JSON.parse(g),Array.isArray(d)&&a.status===404&&(h=[],d=null,f=200,v="OK")}catch{a.status===404&&g===""?(f=204,v="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,f=200,v="OK"),d&&this.shouldThrowOnError)throw new s_e.default(d)}return{error:d,data:h,count:p,status:f,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};YA.default=o_e;var l_e=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(KA,"__esModule",{value:!0});const c_e=l_e(YA);let u_e=class extends c_e.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};KA.default=u_e;var d_e=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wx,"__esModule",{value:!0});const h_e=d_e(KA);let f_e=class extends h_e.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Wx.default=f_e;var p_e=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(GA,"__esModule",{value:!0});const P0=p_e(Wx);let m_e=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new P0.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new P0.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new P0.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new P0.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new P0.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};GA.default=m_e;var oQ=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(z3,"__esModule",{value:!0});const g_e=oQ(GA),v_e=oQ(Wx);let y_e=class lQ{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new g_e.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new lQ(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{l.searchParams.append(h,p)})):(o="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new v_e.default({method:o,url:l,headers:d,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};z3.default=y_e;var Ly=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xs,"__esModule",{value:!0});xs.PostgrestError=xs.PostgrestBuilder=xs.PostgrestTransformBuilder=xs.PostgrestFilterBuilder=xs.PostgrestQueryBuilder=xs.PostgrestClient=void 0;const cQ=Ly(z3);xs.PostgrestClient=cQ.default;const uQ=Ly(GA);xs.PostgrestQueryBuilder=uQ.default;const dQ=Ly(Wx);xs.PostgrestFilterBuilder=dQ.default;const hQ=Ly(KA);xs.PostgrestTransformBuilder=hQ.default;const fQ=Ly(YA);xs.PostgrestBuilder=fQ.default;const pQ=Ly(XA);xs.PostgrestError=pQ.default;var b_e=xs.default={PostgrestClient:cQ.default,PostgrestQueryBuilder:uQ.default,PostgrestFilterBuilder:dQ.default,PostgrestTransformBuilder:hQ.default,PostgrestBuilder:fQ.default,PostgrestError:pQ.default};const{PostgrestClient:x_e,PostgrestQueryBuilder:sZe,PostgrestFilterBuilder:oZe,PostgrestTransformBuilder:lZe,PostgrestBuilder:cZe,PostgrestError:uZe}=b_e;class w_e{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const __e="2.15.5",S_e=`realtime-js/${__e}`,A_e="1.0.0",KC=1e4,N_e=1e3,E_e=100;var _1;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_1||(_1={}));var $i;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})($i||($i={}));var ml;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ml||(ml={}));var YC;(function(t){t.websocket="websocket"})(YC||(YC={}));var np;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(np||(np={}));class j_e{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class mQ{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pn||(Pn={}));const n$=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,s)=>(a[s]=P_e(s,t,e,i),a),{})},P_e=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?gQ(a,s):XC(s)},gQ=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return I_e(e,r)}switch(t){case Pn.bool:return T_e(e);case Pn.float4:case Pn.float8:case Pn.int2:case Pn.int4:case Pn.int8:case Pn.numeric:case Pn.oid:return C_e(e);case Pn.json:case Pn.jsonb:return k_e(e);case Pn.timestamp:return O_e(e);case Pn.abstime:case Pn.date:case Pn.daterange:case Pn.int4range:case Pn.int8range:case Pn.money:case Pn.reltime:case Pn.text:case Pn.time:case Pn.timestamptz:case Pn.timetz:case Pn.tsrange:case Pn.tstzrange:return XC(e);default:return XC(e)}},XC=t=>t,T_e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},C_e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},k_e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},I_e=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>gQ(e,o))}return t},O_e=t=>typeof t=="string"?t.replace(" ","T"):t,vQ=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Nj{constructor(e,r,n={},i=KC){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var i$;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(i$||(i$={}));class S1{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=S1.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=S1.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=S1.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const h=a[u];if(h){const p=d.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),v=d.filter(g=>f.indexOf(g.presence_ref)<0),m=h.filter(g=>p.indexOf(g.presence_ref)<0);v.length>0&&(o[u]=v),m.length>0&&(l[u]=m)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);e[o].unshift(...p)}n(o,d,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var a$;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(a$||(a$={}));var A1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(A1||(A1={}));var fu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(fu||(fu={}));class q3{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=$i.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nj(this,ml.join,this.params,this.timeout),this.rejoinTimer=new mQ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$i.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$i.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=$i.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$i.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=$i.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ml.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new S1(this),this.broadcastEndpointURL=vQ(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==$i.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[A1.PRESENCE]&&this.bindings[A1.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(fu.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(fu.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){e==null||e(fu.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<g;x++){const _=m[x],{filter:{event:A,schema:E,table:I,filter:j}}=_,N=f&&f[x];if(N&&N.event===A&&N.schema===E&&N.table===I&&N.filter===j)y.push(Object.assign(Object.assign({},_),{id:N.id}));else{this.unsubscribe(),this.state=$i.errored,e==null||e(fu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(fu.SUBSCRIBED);return}}).receive("error",f=>{this.state=$i.errored,e==null||e(fu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(fu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===$i.joined&&e===A1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$i.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ml.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Nj(this,ml.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$i.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Nj(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>E_e){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=ml;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,m,g;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=f.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(f=>f.callback(p,n)):(a=this.bindings[s])===null||a===void 0||a.filter(f=>{var v,m,g,y,x,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const A=f.id,E=(v=f.filter)===null||v===void 0?void 0:v.event;return A&&((m=r.ids)===null||m===void 0?void 0:m.includes(A))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const A=(x=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return A==="*"||A===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:m,table:g,commit_timestamp:y,type:x,errors:_}=v;p=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(v))}f.callback(p,n)})}_isClosed(){return this.state===$i.closed}_isJoined(){return this.state===$i.joined}_isJoining(){return this.state===$i.joining}_isLeaving(){return this.state===$i.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&q3.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ml.close,{},e)}_onError(e){this._on(ml.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$i.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=n$(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=n$(e.columns,e.old_record)),r}}const Ej=()=>{},c2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R_e=[1e3,2e3,5e3,1e4],D_e=1e4,L_e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class M_e{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=KC,this.transport=null,this.heartbeatIntervalMs=c2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ej,this.ref=0,this.reconnectTimer=null,this.logger=Ej,this.conn=null,this.sendBuffer=[],this.serializer=new j_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Dh(async()=>{const{default:o}=await Promise.resolve().then(()=>Dy);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${YC.websocket}`,this.httpEndpoint=vQ(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w_e.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:A_e}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _1.connecting:return np.Connecting;case _1.open:return np.Open;case _1.closing:return np.Closing;default:return np.Closed}}isConnected(){return this.connectionState()===np.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new q3(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(N_e,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},c2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ml.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([L_e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:S_e};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ml.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new mQ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},c2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,o,l,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:KC,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:c2.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Ej,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>R_e[h-1]||D_e,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class W3 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ei(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $_e extends W3{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class QC extends W3{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var F_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const yQ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Dh(async()=>{const{default:n}=await Promise.resolve().then(()=>Dy);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},B_e=()=>F_e(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dh(()=>Promise.resolve().then(()=>Dy),void 0)).Response:Response}),JC=t=>{if(Array.isArray(t))return t.map(r=>JC(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=JC(n)}),e},U_e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var xm=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const jj=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),V_e=(t,e,r)=>xm(void 0,void 0,void 0,function*(){const n=yield B_e();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new $_e(jj(i),a,s))}).catch(i=>{e(new QC(jj(i),i))}):e(new QC(jj(t),t))}),z_e=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(U_e(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Hx(t,e,r,n,i,a){return xm(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,z_e(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>V_e(l,o,n))})})}function PS(t,e,r,n){return xm(this,void 0,void 0,function*(){return Hx(t,"GET",e,r,n)})}function ic(t,e,r,n,i){return xm(this,void 0,void 0,function*(){return Hx(t,"POST",e,n,i,r)})}function ZC(t,e,r,n,i){return xm(this,void 0,void 0,function*(){return Hx(t,"PUT",e,n,i,r)})}function q_e(t,e,r,n){return xm(this,void 0,void 0,function*(){return Hx(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function bQ(t,e,r,n,i){return xm(this,void 0,void 0,function*(){return Hx(t,"DELETE",e,n,i,r)})}var W_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class H_e{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return W_e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ei(e))return{data:null,error:e};throw e}})}}var G_e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class K_e{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new H_e(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return G_e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ei(e))return{data:null,error:e};throw e}})}}var fs=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Y_e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},s$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class X_e{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=yQ(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return fs(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},s$),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?ZC:ic)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ei(a))return{data:null,error:a};throw a}})}upload(e,r,n){return fs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return fs(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:s$.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield ZC(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ei(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return fs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ic(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new W3("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}update(e,r,n){return fs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return fs(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}copy(e,r,n){return fs(this,void 0,void 0,function*(){try{return{data:{path:(yield ic(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return fs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ic(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return fs(this,void 0,void 0,function*(){try{const i=yield ic(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(e),l=()=>PS(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new K_e(l,this.shouldThrowOnError)}info(e){return fs(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield PS(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:JC(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}exists(e){return fs(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield q_e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n)&&n instanceof QC){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return fs(this,void 0,void 0,function*(){try{return{data:yield bQ(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}})}list(e,r,n){return fs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Y_e),r),{prefix:e||""});return{data:yield ic(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ei(i))return{data:null,error:i};throw i}})}listV2(e,r){return fs(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ic(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Q_e="2.12.2",J_e={"X-Client-Info":`storage-js/${Q_e}`};var qm=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class Z_e{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},J_e),r),this.fetch=yQ(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qm(this,void 0,void 0,function*(){try{return{data:yield PS(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ei(e))return{data:null,error:e};throw e}})}getBucket(e){return qm(this,void 0,void 0,function*(){try{return{data:yield PS(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return qm(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return qm(this,void 0,void 0,function*(){try{return{data:yield ZC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ei(n))return{data:null,error:n};throw n}})}emptyBucket(e){return qm(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}})}deleteBucket(e){return qm(this,void 0,void 0,function*(){try{return{data:yield bQ(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ei(r))return{data:null,error:r};throw r}})}}class eSe extends Z_e{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new X_e(this.url,this.headers,e,this.fetch)}}const tSe="2.58.0";let n1="";typeof Deno<"u"?n1="deno":typeof document<"u"?n1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n1="react-native":n1="node";const rSe={"X-Client-Info":`supabase-js-${n1}/${tSe}`},nSe={headers:rSe},iSe={schema:"public"},aSe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sSe={};var oSe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const lSe=t=>{let e;return t?e=t:typeof fetch>"u"?e=iQ:e=fetch,(...r)=>e(...r)},cSe=()=>typeof Headers>"u"?aQ:Headers,uSe=(t,e,r)=>{const n=lSe(r),i=cSe();return(a,s)=>oSe(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var dSe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function hSe(t){return t.endsWith("/")?t:t+"/"}function fSe(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>dSe(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function pSe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hSe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const xQ="2.72.0",sg=30*1e3,ek=3,Pj=ek*sg,mSe="http://localhost:9999",gSe="supabase.auth.token",vSe={"X-Client-Info":`gotrue-js/${xQ}`},tk="X-Supabase-Api-Version",wQ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ySe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bSe=10*60*1e3;class H3 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function or(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xSe extends H3{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wSe(t){return or(t)&&t.name==="AuthApiError"}class _Q extends H3{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wf extends H3{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ud extends wf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _Se(t){return or(t)&&t.name==="AuthSessionMissingError"}class T0 extends wf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class u2 extends wf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class d2 extends wf{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SSe(t){return or(t)&&t.name==="AuthImplicitGrantRedirectError"}class o$ extends wf{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rk extends wf{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Tj(t){return or(t)&&t.name==="AuthRetryableFetchError"}class l$ extends wf{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nk extends wf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const TS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),c$=` 	
\r=`.split(""),ASe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<c$.length;e+=1)t[c$[e].charCodeAt(0)]=-2;for(let e=0;e<TS.length;e+=1)t[TS[e].charCodeAt(0)]=e;return t})();function u$(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(TS[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(TS[n]),e.queuedBits-=6}}function SQ(t,e,r){const n=ASe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function d$(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{jSe(s,n,r)};for(let s=0;s<t.length;s+=1)SQ(t.charCodeAt(s),i,a);return e.join("")}function NSe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ESe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}NSe(n,e)}}function jSe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function PSe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)SQ(t.charCodeAt(i),r,n);return new Uint8Array(e)}function TSe(t){const e=[];return ESe(t,r=>e.push(r)),new Uint8Array(e)}function CSe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>u$(i,r,n)),u$(null,r,n),e.join("")}function kSe(t){return Math.round(Date.now()/1e3)+t}function ISe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ko=()=>typeof window<"u"&&typeof document<"u",Vf={tested:!1,writable:!1},AQ=()=>{if(!ko())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vf.tested)return Vf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vf.tested=!0,Vf.writable=!0}catch{Vf.tested=!0,Vf.writable=!1}return Vf.writable};function OSe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const NQ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Dh(async()=>{const{default:n}=await Promise.resolve().then(()=>Dy);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},RSe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",og=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},zf=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ld=async(t,e)=>{await t.removeItem(e)};class QA{constructor(){this.promise=new QA.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}QA.promiseConstructor=Promise;function Cj(t){const e=t.split(".");if(e.length!==3)throw new nk("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!ySe.test(e[n]))throw new nk("JWT not in base64url format");return{header:JSON.parse(d$(e[0])),payload:JSON.parse(d$(e[1])),signature:PSe(e[2]),raw:{header:e[0],payload:e[1]}}}async function DSe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LSe(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function MSe(t){return("0"+t.toString(16)).substr(-2)}function $Se(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,MSe).join("")}async function FSe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function BSe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await FSe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wm(t,e,r=!1){const n=$Se();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await og(t,`${e}-code-verifier`,i);const a=await BSe(n);return[a,n===a?"plain":"s256"]}const USe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VSe(t){const e=t.headers.get(tk);if(!e||!e.match(USe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zSe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qSe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WSe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hm(t){if(!WSe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kj(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h$(t){return JSON.parse(JSON.stringify(t))}var HSe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Qf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),GSe=[502,503,504];async function f$(t){var e;if(!RSe(t))throw new rk(Qf(t),0);if(GSe.includes(t.status))throw new rk(Qf(t),t.status);let r;try{r=await t.json()}catch(a){throw new _Q(Qf(a),a)}let n;const i=VSe(t);if(i&&i.getTime()>=wQ["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new l$(Qf(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ud}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new l$(Qf(r),t.status,r.weak_password.reasons);throw new xSe(Qf(r),t.status||500,n)}const KSe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function gr(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[tk]||(a[tk]=wQ["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await YSe(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function YSe(t,e,r,n,i,a){const s=KSe(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new rk(Qf(l),0)}if(o.ok||await f$(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await f$(l)}}function tc(t){var e;let r=null;ZSe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=kSe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function p$(t){const e=tc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jd(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function XSe(t){return{data:t,error:null}}function QSe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=HSe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function JSe(t){return t}function ZSe(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ij=["global","local","others"];var e5e=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class t5e{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=NQ(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Ij[0]){if(Ij.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ij.join(", ")}`);try{return await gr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await gr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jd})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=e5e(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await gr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:QSe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(or(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await gr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jd})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await gr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:JSe});if(d.error)throw d.error;const h=await d.json(),p=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(or(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Hm(e);try{return await gr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jd})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Hm(e);try{return await gr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Jd})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Hm(e);try{return await gr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jd})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Hm(e.userId);try{const{data:r,error:n}=await gr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(or(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Hm(e.userId),Hm(e.id);try{return{data:await gr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}}function m$(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function r5e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gm={debug:!!(globalThis&&AQ()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class EQ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class n5e extends EQ{}async function i5e(t,e,r){Gm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Gm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Gm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Gm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Gm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new n5e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gm.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jQ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function a5e(t){return parseInt(t,16)}function s5e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function o5e(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=jQ(t.address),v=d?`${d}://${n}`:n,m=t.statement?`${t.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${f}

${m}`;let y=`URI: ${h}
Version: ${p}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}y+=x}return`${g}
${y}`}r5e();const l5e={url:mSe,storageKey:gSe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vSe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function g$(t,e,r){return await r()}const Km={};class Sb{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sb.nextInstanceID,Sb.nextInstanceID+=1,this.instanceID>0&&ko()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},l5e),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new t5e({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=NQ(i.fetch),this.lock=i.lock||g$,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ko()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=i5e:this.lock=g$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:AQ()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=m$(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=m$(this.memoryStorage)),ko()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Km[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Km[this.storageKey]=Object.assign(Object.assign({},Km[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Km[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Km[this.storageKey]=Object.assign(Object.assign({},Km[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xQ}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=OSe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ko()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),SSe(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return or(r)?{error:r}:{error:new _Q("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:tc}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:h,options:p}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Wm(this.storage,this.storageKey)),a=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:tc})}else if("phone"in e){const{phone:d,password:h,options:p}=e;a=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:tc})}else throw new u2("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:p$})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:p$})}else throw new u2("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new T0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,o,l,u,d,h,p;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:m,wallet:g,statement:y,options:x}=e;let _;if(ko())if(typeof g=="object")_=g;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")_=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const A=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),E=await _.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=jQ(E[0]);let j=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const k=await _.request({method:"eth_chainId"});j=a5e(k)}const N={domain:A.host,address:I,statement:y,uri:A.href,version:"1",chainId:j,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=o5e(N),v=await _.request({method:"personal_sign",params:[s5e(f),I]})}try{const{data:m,error:g}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:tc});if(g)throw g;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new T0}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:g})}catch(m){if(or(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(e){var r,n,i,a,s,o,l,u,d,h,p,f;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:g,wallet:y,statement:x,options:_}=e;let A;if(ko())if(typeof y=="object")A=y;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))A=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=y}const E=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const I=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),x?{statement:x}:null));let j;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")j=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)j=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),m=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const I=await A.signMessage(new TextEncoder().encode(v),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=I}}try{const{data:g,error:y}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:CSe(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:tc});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new T0}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(or(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const r=await zf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:tc});if(await Ld(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new T0}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(or(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await gr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tc}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new T0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wm(this.storage,this.storageKey));const{error:h}=await gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new u2("You must provide either an email or phone number.")}catch(o){if(or(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await gr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:tc});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Wm(this.storage,this.storageKey)),await gr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:XSe})}catch(a){if(or(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ud;const{error:i}=await gr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(or(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await gr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await gr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new u2("You must provide either an email or phone number and a type")}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await zf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Pj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await zf(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=kj()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await gr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jd}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ud}:await gr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Jd})})}catch(r){if(or(r))return _Se(r)&&(await this._removeSession(),await Ld(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ud;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Wm(this.storage,this.storageKey));const{data:u,error:d}=await gr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Jd});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ud;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Cj(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(or(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ud;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ko())throw new d2("No browser detected.");if(e.error||e.error_description||e.error_code)throw new d2(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new o$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new d2("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new o$("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!s||!u)throw new d2("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let p=d+h;l&&(p=parseInt(l));const f=p-d;f*1e3<=sg&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:p,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(or(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await zf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(wSe(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ld(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ISe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Wm(this.storage,this.storageKey,!0));try{return await gr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(or(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:h,error:p}=a;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await gr(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ko()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(or(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await gr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await LSe(async i=>(i>0&&await DSe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await gr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tc})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Tj(a)&&Date.now()+s-n<sg})}catch(n){if(this._debug(r,"error",n),or(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ko()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await zf(this.storage,this.storageKey);if(i&&this.userStorage){let s=await zf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await og(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:kj()}else if(i&&!i.user&&!i.user){const s=await zf(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Ld(this.storage,this.storageKey+"-user"),await og(this.storage,this.storageKey,i)):i.user=kj()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pj;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Pj}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Tj(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ud;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new QA;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Ud;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),or(a)){const s={session:null,error:a};return Tj(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await og(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=h$(i);await og(this.storage,this.storageKey,a)}else{const i=h$(r);await og(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ld(this.storage,this.storageKey),await Ld(this.storage,this.storageKey+"-code-verifier"),await Ld(this.storage,this.storageKey+"-user"),this.userStorage&&await Ld(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ko()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sg);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/sg);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sg}ms, refresh threshold is ${ek} ticks`),i<=ek&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof EQ)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ko()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Wm(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await gr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await gr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await gr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await gr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Cj(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+bSe>i)return n;const{data:a,error:s}=await gr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};n=f.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Cj(n);r!=null&&r.allowExpired||zSe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:i,signature:s},error:null}}const d=qSe(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,s,TSe(`${o}.${l}`)))throw new nk("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}}Sb.nextInstanceID=0;const c5e=Sb;class u5e extends c5e{constructor(e){super(e)}}var d5e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function l(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class h5e{constructor(e,r,n){var i,a,s;this.supabaseUrl=e,this.supabaseKey=r;const o=pSe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:iSe,realtime:sSe,auth:Object.assign(Object.assign({},aSe),{storageKey:l}),global:nSe},d=fSe(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=uSe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new x_e(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new eSe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new J2e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return d5e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u5e({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new M_e(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f5e=(t,e,r)=>new h5e(t,e,r);function p5e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}p5e()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const m5e="https://jfesttwhhxkdhdukragt.supabase.co",g5e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmZXN0dHdoaHhrZGhkdWtyYWd0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2OTUwNTIsImV4cCI6MjA3NTI3MTA1Mn0.gMf-lnIAOFF1EOK_tCLlF7_kFsNpakdQGuxuOBPIkgU",N1=f5e(m5e,g5e,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),PQ=async()=>{try{const{data:{user:t}}=await N1.auth.getUser();if(!t){console.error("Usuário não autenticado");return}console.log("Gerando funcionários para o usuário:",t.id);const e=[{name:"João Silva",cpf:"123.456.789-00",email:"joao.silva@exemplo.com",phone:"(11) 99999-1111",birth_date:"1990-05-15",pay_day:5,salary:3500,status:"active"},{name:"Maria Santos",cpf:"987.654.321-00",email:"maria.santos@exemplo.com",phone:"(11) 99999-2222",birth_date:"1988-12-03",pay_day:10,salary:4200,status:"active"},{name:"Pedro Costa",cpf:"456.789.123-00",email:"pedro.costa@exemplo.com",phone:"(11) 99999-3333",birth_date:"1992-08-20",pay_day:15,salary:2800,status:"active"},{name:"Ana Oliveira",cpf:"789.123.456-00",email:"ana.oliveira@exemplo.com",phone:"(11) 99999-4444",birth_date:"1995-03-12",pay_day:20,salary:3100,status:"active"},{name:"Carlos Ferreira",cpf:"321.654.987-00",email:"carlos.ferreira@exemplo.com",phone:"(11) 99999-5555",birth_date:"1987-11-25",pay_day:25,salary:3800,status:"active"}],{data:r,error:n}=await N1.from("employees").insert(e.map(i=>({...i,user_id:t.id}))).select();if(n){console.error("Erro ao inserir funcionários:",n);return}return console.log("✅ Funcionários criados com sucesso:",r),await v5e(t.id,r),r}catch(t){console.error("Erro ao gerar dados de teste:",t)}},v5e=async(t,e)=>{try{const{data:r}=await N1.from("platforms").select("*").eq("user_id",t);if(!r||r.length===0){const s=[{name:"Bet365",color:"#00AB4E"},{name:"Betano",color:"#1E90FF"},{name:"BetVip",color:"#FF5C00"},{name:"Sportingbet",color:"#8B5CF6"}],{data:o}=await N1.from("platforms").insert(s.map(l=>({...l,user_id:t}))).select();o&&r.push(...o)}const n=[],i=new Date;for(let s=0;s<30;s++){const o=new Date(i);o.setDate(o.getDate()-s);const l=Math.floor(Math.random()*4)+2;for(let u=0;u<l;u++){const d=e[Math.floor(Math.random()*e.length)],h=r[Math.floor(Math.random()*r.length)],p=Math.random()>.4?"deposit":"withdraw",f=Math.floor(Math.random()*5e3)+100;n.push({user_id:t,employee_id:d.id,platform_id:h.id,type:p,amount:f,description:`${p==="deposit"?"Depósito":"Saque"} - ${h.name}`,transaction_date:o.toISOString().split("T")[0]})}}const{error:a}=await N1.from("transactions").insert(n);if(a){console.error("Erro ao inserir transações:",a);return}console.log(`✅ ${n.length} transações criadas com sucesso`)}catch(r){console.error("Erro ao gerar transações de teste:",r)}};window.generateTestData=PQ;const v$=()=>{const{user:t}=qr(),e=lX();rd((t==null?void 0:t.uid)||"");const{canAddMoreEmployees:r}=yf(),[n,i]=T.useState(!1),[a,s]=T.useState({name:"",cpf:"",email:"",phone:"",birthDate:"",salary:0}),[o,l]=T.useState({}),u=()=>{const v={};return a.name.trim()||(v.name="Nome é obrigatório"),a.cpf.trim()&&!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(a.cpf)&&(v.cpf="CPF deve estar no formato 000.000.000-00"),a.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(v.email="E-mail inválido"),a.phone.trim()&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(a.phone)&&(v.phone="Telefone deve estar no formato (00) 00000-0000"),l(v),Object.keys(v).length===0},d=v=>v.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),h=v=>{const m=v.replace(/\D/g,"");return m.length<=10?m.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):m.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},p=(v,m)=>{let g=m;v==="cpf"?g=d(m):v==="phone"&&(g=h(m)),s(y=>({...y,[v]:g})),o[v]&&l(y=>({...y,[v]:void 0}))},f=async v=>{if(v.preventDefault(),!(t!=null&&t.uid)){Ge.error("Usuário não autenticado");return}if(!r()){Ge.error("Você atingiu o limite de funcionários do seu plano. Faça upgrade para adicionar mais funcionários.");return}if(!u()){Ge.error("Por favor, corrija os erros no formulário");return}try{const m={userId:t.uid,name:a.name.trim(),cpf:a.cpf.trim()||"",email:a.email.trim()||"",phone:a.phone.trim()||"",birthDate:a.birthDate||"",salary:a.salary||0,status:"active"};console.log("Criando funcionário com dados:",m),await e.mutateAsync(m),Ge.success("Funcionário cadastrado com sucesso!"),i(!1),s({name:"",cpf:"",email:"",phone:"",birthDate:"",salary:0})}catch(m){console.error("Erro ao cadastrar funcionário:",m),Ge.error("Erro ao cadastrar funcionário. Tente novamente.")}};return c.jsxs(oo,{open:n,onOpenChange:i,children:[c.jsx(Gg,{asChild:!0,children:c.jsxs(qe,{className:"gap-2",children:[c.jsx(G_,{className:"h-4 w-4"}),"Cadastrar Funcionário"]})}),c.jsxs(Cs,{className:"sm:max-w-[500px]",children:[c.jsxs(ks,{children:[c.jsx(Is,{children:"Cadastrar Novo Funcionário"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Preencha as informações do funcionário. Apenas o nome é obrigatório."})]}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"name",children:"Nome Completo *"}),c.jsx(Ft,{id:"name",value:a.name,onChange:v=>p("name",v.target.value),placeholder:"Digite o nome completo",className:o.name?"border-destructive":""}),o.name&&c.jsx("p",{className:"text-sm text-destructive",children:o.name})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"cpf",children:"CPF"}),c.jsx(Ft,{id:"cpf",value:a.cpf,onChange:v=>p("cpf",v.target.value),placeholder:"000.000.000-00 (opcional)",maxLength:14,className:o.cpf?"border-destructive":""}),o.cpf&&c.jsx("p",{className:"text-sm text-destructive",children:o.cpf})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"email",children:"E-mail"}),c.jsx(Ft,{id:"email",type:"email",value:a.email,onChange:v=>p("email",v.target.value),placeholder:"exemplo@email.com (opcional)",className:o.email?"border-destructive":""}),o.email&&c.jsx("p",{className:"text-sm text-destructive",children:o.email})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"phone",children:"Telefone"}),c.jsx(Ft,{id:"phone",value:a.phone,onChange:v=>p("phone",v.target.value),placeholder:"(00) 00000-0000 (opcional)",maxLength:15,className:o.phone?"border-destructive":""}),o.phone&&c.jsx("p",{className:"text-sm text-destructive",children:o.phone})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"birthDate",children:"Data de Nascimento"}),c.jsx(Ft,{id:"birthDate",type:"date",value:a.birthDate,onChange:v=>p("birthDate",v.target.value),className:o.birthDate?"border-destructive":""}),o.birthDate&&c.jsx("p",{className:"text-sm text-destructive",children:o.birthDate})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"salary",children:"Salário (R$)"}),c.jsx(Ft,{id:"salary",type:"number",value:a.salary,onChange:v=>p("salary",v.target.value),placeholder:"0",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),c.jsx(qe,{type:"submit",disabled:e.isPending,children:e.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Pp,{className:"h-4 w-4 mr-2 animate-spin"}),"Cadastrando..."]}):"Cadastrar"})]})]})]})]})},y5e=Nx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),E1=T.forwardRef(({className:t,variant:e,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:wt(y5e({variant:e}),t),...r}));E1.displayName="Alert";const b5e=T.forwardRef(({className:t,...e},r)=>c.jsx("h5",{ref:r,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));b5e.displayName="AlertTitle";const j1=T.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));j1.displayName="AlertDescription";const x5e=({currentCount:t,showUpgrade:e=!0})=>{const r=Wi(),{getEmployeeLimitForPlan:n,currentPlan:i,planInfo:a}=yf(),s=n(),o=t>=s,l=s-t;return!o&&l>1?null:c.jsxs(E1,{variant:o?"destructive":"default",className:"mb-4",children:[c.jsx(qoe,{className:"h-4 w-4"}),c.jsxs(j1,{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("div",{children:o?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-semibold",children:"Limite de funcionários atingido!"}),c.jsxs("p",{className:"text-sm",children:["Você atingiu o limite de ",s," funcionário",s>1?"s":""," do plano"," ",c.jsx(ir,{variant:"outline",className:"capitalize ml-1",children:i})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-semibold",children:"Limite de funcionários quase atingido"}),c.jsxs("p",{className:"text-sm",children:["Você pode adicionar apenas mais ",l," funcionário",l>1?"s":""]})]})})}),e&&c.jsxs(qe,{size:"sm",onClick:()=>r("/planos"),className:"flex items-center gap-2",variant:o?"default":"outline",children:[c.jsx(Sv,{className:"h-4 w-4"}),o?"Fazer Upgrade":"Ver Planos"]})]})]})},w5e=()=>{const t=Wi(),e=qi(),{user:r}=qr();yf();const[n,i]=T.useState(""),[a,s]=T.useState(!1),[o,l]=T.useState([]),[u,d]=T.useState("idle"),[h,p]=T.useState({success:0,errors:0,details:[]}),f=T.useRef(null),[v,m]=T.useState(!1),g=async()=>{m(!0);try{await PQ(),e.invalidateQueries({queryKey:["employees"]}),e.invalidateQueries({queryKey:["platforms"]}),e.invalidateQueries({queryKey:["transactions"]}),Ge.success("Dados de teste gerados com sucesso!")}catch(Y){Ge.error("Erro ao gerar dados de teste"),console.error(Y)}finally{m(!1)}},{data:y=[],isLoading:x}=rd((r==null?void 0:r.uid)||""),_=lX(),A=Y=>{const K=new FileReader;K.onload=q=>{var V;const ve=((V=q.target)==null?void 0:V.result).split(`
`),ce=ve[0].split(",").map(G=>G.trim().toLowerCase()),F=ve.slice(1).map(G=>{const oe=G.split(",").map(ie=>ie.trim()),J={};return ce.forEach((ie,be)=>{const he=oe[be]||"";switch(ie){case"nome":case"name":J.name=he;break;case"cpf":J.cpf=he;break;case"email":case"e-mail":J.email=he;break;case"telefone":case"phone":J.phone=he;break;case"data_nascimento":case"birth_date":case"nascimento":J.birthDate=he;break;case"salario":case"salary":J.salary=parseFloat(he)||0;break;case"dia_pagamento":case"pay_day":case"pagamento":J.payDay=parseInt(he)||1;break;case"status":J.status=he.toLowerCase()==="ativo"||he.toLowerCase()==="active"?"active":"inactive";break}}),J}).filter(G=>G.name);l(F),d("idle")},K.readAsText(Y)},E=Y=>{Ge.error("Importação de Excel ainda não implementada. Use arquivo CSV.")},I=Y=>{var Z,ve;const K=(Z=Y.target.files)==null?void 0:Z[0];if(!K)return;const q=(ve=K.name.split(".").pop())==null?void 0:ve.toLowerCase();if(q==="csv")A(K);else if(q==="xlsx"||q==="xls")E();else{Ge.error("Formato de arquivo não suportado. Use CSV ou Excel.");return}},j=async()=>{if(!(r!=null&&r.uid)||o.length===0)return;d("processing");const Y={success:0,errors:0,details:[]};for(const K of o)try{await _.mutateAsync({userId:r.uid,name:K.name,cpf:K.cpf||"",email:K.email||"",phone:K.phone||"",birthDate:K.birthDate||"",salary:K.salary||0,payDay:K.payDay||1,status:K.status||"active"}),Y.success++,Y.details.push(`✅ ${K.name} - Criado com sucesso`)}catch(q){Y.errors++,Y.details.push(`❌ ${K.name} - Erro: ${q}`)}p(Y),d(Y.errors===0?"success":"error"),Y.success>0&&Ge.success(`${Y.success} funcionário(s) importado(s) com sucesso!`),Y.errors>0&&Ge.error(`${Y.errors} funcionário(s) falharam na importação.`)},N=()=>{l([]),d("idle"),p({success:0,errors:0,details:[]}),f.current&&(f.current.value="")},k=new Date().toISOString().split("T")[0],{data:D=[]}=lo((r==null?void 0:r.uid)||"",k,k),C=y.filter(Y=>(Y.name||"").toLowerCase().includes(n.toLowerCase())||(Y.cpf||"").includes(n)||Y.email&&Y.email.toLowerCase().includes(n.toLowerCase())),O=D.filter(Y=>Y.type==="deposit").reduce((Y,K)=>Y+(K.amount||0),0),L=D.filter(Y=>Y.type==="withdraw").reduce((Y,K)=>Y+(K.amount||0),0),z=L-O,re=Y=>{const K=D.filter(ve=>ve.employeeId===Y.id),q=K.filter(ve=>ve.type==="deposit").reduce((ve,ce)=>ve+Number(ce.amount),0);return K.filter(ve=>ve.type==="withdraw").reduce((ve,ce)=>ve+Number(ce.amount),0)-q};return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Gestão de Funcionários"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua equipe e transações"})]}),c.jsxs("div",{className:"flex gap-2",children:[y.length===0&&c.jsxs(qe,{variant:"outline",className:"gap-2",onClick:g,disabled:v,children:[c.jsx(zoe,{className:"h-4 w-4"}),v?"Gerando...":"Dados de Teste"]}),c.jsx(v$,{})]})]}),c.jsx(x5e,{currentCount:y.length}),c.jsx(Qe,{className:"p-4 shadow-card",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(iA,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Ft,{placeholder:"Buscar por nome, CPF ou email...",value:n,onChange:Y=>i(Y.target.value),className:"pl-10"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(oo,{open:a,onOpenChange:s,children:[c.jsx(Gg,{asChild:!0,children:c.jsxs(qe,{variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[c.jsx(QE,{className:"h-4 w-4"}),"Importar CSV/Excel"]})}),c.jsxs(Cs,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[c.jsx(ks,{children:c.jsxs(Is,{className:"flex items-center gap-2",children:[c.jsx(rA,{className:"h-5 w-5"}),"Importar Funcionários"]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[c.jsx("input",{ref:f,type:"file",accept:".csv,.xlsx,.xls",onChange:I,className:"hidden"}),c.jsx(QE,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Selecione um arquivo CSV ou Excel"}),c.jsxs(qe,{variant:"outline",onClick:()=>{var Y;return(Y=f.current)==null?void 0:Y.click()},className:"gap-2",children:[c.jsx(QE,{className:"h-4 w-4"}),"Escolher Arquivo"]})]}),c.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Formato esperado do CSV:"}),c.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Colunas suportadas:"})," nome, cpf, email, telefone, data_nascimento, salario, dia_pagamento, status"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Obrigatório:"})," nome"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Opcional:"})," todos os outros campos"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"}),' "ativo" ou "inativo" (padrão: ativo)']})]})]}),o.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h4",{className:"font-semibold",children:["Preview (",o.length," funcionário(s) encontrado(s))"]}),c.jsx(qe,{variant:"outline",size:"sm",onClick:N,children:"Limpar"})]}),c.jsxs("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:[c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-muted/50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 text-left",children:"Nome"}),c.jsx("th",{className:"p-2 text-left",children:"CPF"}),c.jsx("th",{className:"p-2 text-left",children:"Email"}),c.jsx("th",{className:"p-2 text-left",children:"Status"})]})}),c.jsx("tbody",{children:o.slice(0,10).map((Y,K)=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"p-2",children:Y.name}),c.jsx("td",{className:"p-2",children:Y.cpf||"-"}),c.jsx("td",{className:"p-2",children:Y.email||"-"}),c.jsx("td",{className:"p-2",children:c.jsx(ir,{variant:Y.status==="active"?"default":"secondary",children:Y.status==="active"?"Ativo":"Inativo"})})]},K))})]}),o.length>10&&c.jsxs("div",{className:"p-2 text-center text-sm text-muted-foreground",children:["... e mais ",o.length-10," funcionário(s)"]})]}),c.jsx(qe,{onClick:j,disabled:u==="processing",className:"w-full gap-2",children:u==="processing"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Importando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Eh,{className:"h-4 w-4"}),"Importar ",o.length," Funcionário(s)"]})})]}),u!=="idle"&&h.details.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u==="success"?c.jsx(Eh,{className:"h-5 w-5 text-green-500"}):u==="error"?c.jsx(Jq,{className:"h-5 w-5 text-red-500"}):c.jsx(FT,{className:"h-5 w-5 text-yellow-500"}),c.jsx("h4",{className:"font-semibold",children:"Resultado da Importação"})]}),c.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex gap-4 mb-3",children:[c.jsxs("div",{className:"text-green-600",children:[c.jsx("strong",{children:h.success})," sucesso(s)"]}),c.jsxs("div",{className:"text-red-600",children:[c.jsx("strong",{children:h.errors})," erro(s)"]})]}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:h.details.map((Y,K)=>c.jsx("div",{className:"text-sm",children:Y},K))})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(qe,{variant:"outline",onClick:N,className:"flex-1",children:"Nova Importação"}),c.jsx(qe,{onClick:()=>s(!1),className:"flex-1",children:"Fechar"})]})]})]})]})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx(Qe,{className:"p-6 shadow-card card-hover hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Funcionários"}),c.jsx("p",{className:"text-3xl font-bold",children:y.length})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(es,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Qe,{className:"p-6 shadow-card card-hover cursor-pointer hover:shadow-glow transition-all duration-300",onClick:()=>t("/relatorios"),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-white mb-2",children:"Total de Depósitos do Dia"}),c.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["R$ ",O.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(Xq,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Qe,{className:"p-6 shadow-card card-hover cursor-pointer hover:shadow-glow transition-all duration-300",onClick:()=>t("/relatorios"),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques do Dia"}),c.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["R$ ",L.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(Yq,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Qe,{className:"p-6 shadow-card card-hover cursor-pointer hover:shadow-glow transition-all duration-300",onClick:()=>t("/relatorios"),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Lucro do Dia"}),c.jsxs("p",{className:`text-3xl font-bold ${z>=0?"text-success":"text-destructive"}`,children:[z>=0?"+":"","R$ ",z.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:z>=0?c.jsx(di,{className:"h-6 w-6 text-primary-foreground"}):c.jsx(qh,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),x?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):C.length===0?c.jsxs(Qe,{className:"p-12 text-center shadow-card",children:[c.jsx(es,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-lg font-semibold mb-2",children:"Nenhum funcionário encontrado"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:n?"Tente buscar com outros termos":"Comece cadastrando seu primeiro funcionário"}),!n&&c.jsx(v$,{})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(Y=>{const K=re(Y),q=K>=0;return c.jsx(Qe,{className:`p-6 shadow-card card-hover cursor-pointer group transition-all duration-300 ${Y.status==="inactive"?"opacity-60 grayscale-[0.3] border-dashed border-2 border-muted-foreground/30":""}`,onClick:()=>t(`/gestao-funcionarios/${Y.id}`),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:`text-xl font-bold mb-1 group-hover:text-primary transition-colors ${Y.status==="inactive"?"text-muted-foreground line-through":""}`,children:Y.name}),c.jsx("p",{className:`text-sm ${Y.status==="inactive"?"text-muted-foreground/70":"text-muted-foreground"}`,children:Y.cpf})]}),c.jsx(ir,{variant:Y.status==="active"?"default":"secondary",className:Y.status==="inactive"?"bg-red-500 hover:bg-red-600 text-white":"",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${Y.status==="active","bg-white"}`}),Y.status==="active"?"Ativo":"Inativo"]})})]}),c.jsx("div",{className:"pt-4",children:c.jsx("div",{className:`p-4 rounded-xl border-2 ${Y.status==="inactive"?"bg-muted/20 border-muted/30":q?"bg-success/10 border-success/20":"bg-destructive/10 border-destructive/20"}`,children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Lucro do Dia"}),c.jsx("div",{className:"flex items-center gap-2",children:Y.status==="inactive"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-5 w-5 rounded-full bg-muted-foreground/50 flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),c.jsx("span",{className:"text-2xl font-bold text-muted-foreground",children:"R$ 0"})]}):q?c.jsxs(c.Fragment,{children:[c.jsx(di,{className:"h-5 w-5 text-success"}),c.jsxs("span",{className:"text-2xl font-bold text-success",children:["+R$ ",Math.abs(K).toLocaleString("pt-BR")]})]}):c.jsxs(c.Fragment,{children:[c.jsx(qh,{className:"h-5 w-5 text-destructive"}),c.jsxs("span",{className:"text-2xl font-bold text-destructive",children:["-R$ ",Math.abs(K).toLocaleString("pt-BR")]})]})})]})})})}),c.jsx("div",{className:"flex items-center justify-end pt-2",children:c.jsxs(qe,{variant:"ghost",size:"sm",className:`gap-2 transition-all ${Y.status==="inactive"?"text-muted-foreground/70 hover:text-muted-foreground":"group-hover:gap-3"}`,children:["Ver Detalhes",c.jsx(XI,{className:"h-4 w-4"})]})})]})},Y.id)})})]})})},_5e=()=>{const{user:t}=qr(),{data:e=[]}=rd((t==null?void 0:t.uid)||""),r=cX(),[n,i]=T.useState({}),[a,s]=T.useState({}),[o,l]=T.useState({}),[u,d]=T.useState({}),h=T.useRef({}),[p,f]=T.useState("name"),[v,m]=T.useState("asc");T.useEffect(()=>{const O={};e.forEach(L=>{O[L.id]=L.salary||0}),i(O)},[e]),T.useEffect(()=>()=>{Object.values(h.current).forEach(O=>{O&&clearTimeout(O)})},[]);const x=[...e].sort((O,L)=>{let z,re;switch(p){case"name":z=O.name.toLowerCase(),re=L.name.toLowerCase();break;case"salary":z=n[O.id]||O.salary||0,re=n[L.id]||L.salary||0;break;case"payDay":z=O.payDay||1,re=L.payDay||1;break;default:return 0}return z<re?v==="asc"?-1:1:z>re?v==="asc"?1:-1:0}).map(O=>({id:O.id,employeeId:O.id,employeeName:O.name,amount:n[O.id]||O.salary||0,status:Math.random()>.5?"paid":"pending",dueDate:new Date().toISOString(),paidDate:Math.random()>.5?new Date().toISOString():void 0})),_=async(O,L)=>{if(t!=null&&t.uid){l(z=>({...z,[O]:!0}));try{await r.mutateAsync({userId:t.uid,id:O,data:{salary:L,updatedAt:new Date}}),Ge.success("Salário atualizado com sucesso!")}catch(z){console.error("Erro ao atualizar salário:",z),Ge.error("Erro ao atualizar salário. Tente novamente.")}finally{l(z=>({...z,[O]:!1}))}}},A=(O,L)=>{const z=parseFloat(L)||0;i(re=>({...re,[O]:z})),h.current[O]&&clearTimeout(h.current[O]),h.current[O]=setTimeout(()=>{_(O,z)},2e3)},E=O=>{d(L=>({...L,[O]:!0}))},I=O=>{d(L=>({...L,[O]:!1}))},j=O=>{p===O?m(v==="asc"?"desc":"asc"):(f(O),m("asc"))},N=O=>{s(L=>({...L,[O]:L[O]==="paid"?"pending":"paid"})),Ge.success("Status atualizado!")},k=O=>a[O.id]||O.status,D=x.filter(O=>k(O)==="pending").reduce((O,L)=>O+L.amount,0),C=x.filter(O=>k(O)==="paid").reduce((O,L)=>O+L.amount,0);return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Pagamentos"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie os pagamentos dos funcionários"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total a Pagar"}),c.jsxs("p",{className:"text-3xl font-bold text-warning",children:["R$ ",D.toLocaleString("pt-BR")]})]}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total Pago"}),c.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",C.toLocaleString("pt-BR")]})]}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total Geral"}),c.jsxs("p",{className:"text-3xl font-bold",children:["R$ ",(D+C).toLocaleString("pt-BR")]})]})]}),c.jsx(Qe,{className:"p-4 shadow-card",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Ordenar por:"}),c.jsxs(Zn,{value:p,onValueChange:O=>f(O),children:[c.jsx(Kn,{className:"w-40",children:c.jsx(ei,{})}),c.jsxs(Yn,{children:[c.jsx(Or,{value:"name",children:"Nome"}),c.jsx(Or,{value:"salary",children:"Salário"}),c.jsx(Or,{value:"payDay",children:"Dia do Pagamento"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Ordem:"}),c.jsxs(Zn,{value:v,onValueChange:O=>m(O),children:[c.jsx(Kn,{className:"w-32",children:c.jsx(ei,{})}),c.jsxs(Yn,{children:[c.jsx(Or,{value:"asc",children:"Crescente"}),c.jsx(Or,{value:"desc",children:"Decrescente"})]})]})]})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[x.length," funcionário(s) encontrado(s)"]})]})}),c.jsx(Qe,{className:"shadow-card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-muted/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:c.jsxs("button",{onClick:()=>j("name"),className:"flex items-center gap-2 hover:text-primary transition-colors cursor-pointer",children:["Funcionário",p==="name"&&c.jsx("span",{className:"text-primary text-xs",children:v==="asc"?"↑":"↓"})]})}),c.jsx("th",{className:"text-left p-4 font-semibold",children:c.jsxs("button",{onClick:()=>j("salary"),className:"flex items-center gap-2 hover:text-primary transition-colors cursor-pointer",children:["Valor",p==="salary"&&c.jsx("span",{className:"text-primary text-xs",children:v==="asc"?"↑":"↓"})]})}),c.jsx("th",{className:"text-left p-4 font-semibold",children:c.jsxs("button",{onClick:()=>j("payDay"),className:"flex items-center gap-2 hover:text-primary transition-colors cursor-pointer",children:["Vencimento",p==="payDay"&&c.jsx("span",{className:"text-primary text-xs",children:v==="asc"?"↑":"↓"})]})}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Ações"})]})}),c.jsx("tbody",{children:x.map(O=>c.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[c.jsx("td",{className:"p-4 font-medium",children:O.employeeName}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ft,{type:"number",value:u[O.employeeId]&&(n[O.employeeId]||0)===0?"":n[O.employeeId]||0,className:"w-32 pr-8",placeholder:"0,00",onChange:L=>A(O.employeeId,L.target.value),onFocus:()=>E(O.employeeId),onBlur:()=>I(O.employeeId)}),o[O.employeeId]&&c.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})})]})}),c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(O.dueDate).toLocaleDateString("pt-BR")}),c.jsx("td",{className:"p-4",children:c.jsx(ir,{variant:k(O)==="paid"?"default":"secondary",children:k(O)==="paid"?"Pago":"Pendente"})}),c.jsx("td",{className:"p-4",children:c.jsx(qe,{size:"sm",variant:k(O)==="paid"?"outline":"default",onClick:()=>N(O.id),children:k(O)==="paid"?"Marcar como Pendente":"Marcar como Pago"})})]},O.id))})]})})}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx(qe,{variant:"outline",children:"Exportar"}),c.jsx(qe,{variant:"success",children:"Processar Pagamentos"})]})]})})};var Gt=function(){return Gt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gt.apply(this,arguments)};function S5e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function TQ(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Gx(t){return t.mode==="multiple"}function Kx(t){return t.mode==="range"}function JA(t){return t.mode==="single"}var A5e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function N5e(t,e){return fa(t,"LLLL y",e)}function E5e(t,e){return fa(t,"d",e)}function j5e(t,e){return fa(t,"LLLL",e)}function P5e(t){return"".concat(t)}function T5e(t,e){return fa(t,"cccccc",e)}function C5e(t,e){return fa(t,"yyyy",e)}var k5e=Object.freeze({__proto__:null,formatCaption:N5e,formatDay:E5e,formatMonthCaption:j5e,formatWeekNumber:P5e,formatWeekdayName:T5e,formatYearCaption:C5e}),I5e=function(t,e,r){return fa(t,"do MMMM (EEEE)",r)},O5e=function(){return"Month: "},R5e=function(){return"Go to next month"},D5e=function(){return"Go to previous month"},L5e=function(t,e){return fa(t,"cccc",e)},M5e=function(t){return"Week n. ".concat(t)},$5e=function(){return"Year: "},F5e=Object.freeze({__proto__:null,labelDay:I5e,labelMonthDropdown:O5e,labelNext:R5e,labelPrevious:D5e,labelWeekNumber:M5e,labelWeekday:L5e,labelYearDropdown:$5e});function B5e(){var t="buttons",e=A5e,r=QX,n={},i={},a=1,s={},o=new Date;return{captionLayout:t,classNames:e,formatters:k5e,labels:F5e,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:s,today:o,mode:"default"}}function U5e(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,a=t.fromDate,s=t.toDate;return n?a=Os(n):e&&(a=new Date(e,0,1)),i?s=$3(i):r&&(s=new Date(r,11,31)),{fromDate:a?Mv(a):void 0,toDate:s?Mv(s):void 0}}var CQ=T.createContext(void 0);function V5e(t){var e,r=t.initialProps,n=B5e(),i=U5e(r),a=i.fromDate,s=i.toDate,o=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;o!=="buttons"&&(!a||!s)&&(o="buttons");var l;(JA(r)||Gx(r)||Kx(r))&&(l=r.onSelect);var u=Gt(Gt(Gt({},n),r),{captionLayout:o,classNames:Gt(Gt({},n.classNames),r.classNames),components:Gt({},r.components),formatters:Gt(Gt({},n.formatters),r.formatters),fromDate:a,labels:Gt(Gt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Gt(Gt({},n.modifiers),r.modifiers),modifiersClassNames:Gt(Gt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:Gt(Gt({},n.styles),r.styles),toDate:s});return c.jsx(CQ.Provider,{value:u,children:t.children})}function On(){var t=T.useContext(CQ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function kQ(t){var e=On(),r=e.locale,n=e.classNames,i=e.styles,a=e.formatters.formatCaption;return c.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function z5e(t){return c.jsx("svg",Gt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IQ(t){var e,r,n=t.onChange,i=t.value,a=t.children,s=t.caption,o=t.className,l=t.style,u=On(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:z5e;return c.jsxs("div",{className:o,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:a}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,c.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function q5e(t){var e,r=On(),n=r.fromDate,i=r.toDate,a=r.styles,s=r.locale,o=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});var h=[];if(Fwe(n,i))for(var p=Os(n),f=n.getMonth();f<=i.getMonth();f++)h.push(Sj(p,f));else for(var p=Os(new Date),f=0;f<=11;f++)h.push(Sj(p,f));var v=function(g){var y=Number(g.target.value),x=Sj(Os(t.displayMonth),y);t.onChange(x)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:IQ;return c.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:a.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:s}),children:h.map(function(g){return c.jsx("option",{value:g.getMonth(),children:o(g,{locale:s})},g.getMonth())})})}function W5e(t){var e,r=t.displayMonth,n=On(),i=n.fromDate,a=n.toDate,s=n.locale,o=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,p=[];if(!i)return c.jsx(c.Fragment,{});if(!a)return c.jsx(c.Fragment,{});for(var f=i.getFullYear(),v=a.getFullYear(),m=f;m<=v;m++)p.push(J8(YX(new Date),m));var g=function(x){var _=J8(Os(r),Number(x.target.value));t.onChange(_)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:IQ;return c.jsx(y,{name:"years","aria-label":h(),className:l.dropdown_year,style:o.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:s}),children:p.map(function(x){return c.jsx("option",{value:x.getFullYear(),children:d(x,{locale:s})},x.getFullYear())})})}function H5e(t,e){var r=T.useState(t),n=r[0],i=r[1],a=e===void 0?n:e;return[a,i]}function G5e(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,a=t.toDate,s=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(a&&_b(a,i)<0){var u=-1*(l-1);i=Ol(a,u)}return s&&_b(i,s)<0&&(i=s),Os(i)}function K5e(){var t=On(),e=G5e(t),r=H5e(e,t.month),n=r[0],i=r[1],a=function(s){var o;if(!t.disableNavigation){var l=Os(s);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[n,a]}function Y5e(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=Os(t),a=Os(Ol(i,n)),s=_b(a,i),o=[],l=0;l<s;l++){var u=Ol(i,l);o.push(u)}return r&&(o=o.reverse()),o}function X5e(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=n?a:1,o=Os(t);if(!r)return Ol(o,s);var l=_b(r,t);if(!(l<a))return Ol(o,s)}}function Q5e(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,s=n?a:1,o=Os(t);if(!r)return Ol(o,-s);var l=_b(o,r);if(!(l<=0))return Ol(o,-s)}}var OQ=T.createContext(void 0);function J5e(t){var e=On(),r=K5e(),n=r[0],i=r[1],a=Y5e(n,e),s=X5e(n,e),o=Q5e(n,e),l=function(h){return a.some(function(p){return U3(h,p)})},u=function(h,p){l(h)||(p&&rQ(h,p)?i(Ol(h,1+e.numberOfMonths*-1)):i(h))},d={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:l};return c.jsx(OQ.Provider,{value:d,children:t.children})}function Yx(){var t=T.useContext(OQ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function y$(t){var e,r=On(),n=r.classNames,i=r.styles,a=r.components,s=Yx().goToMonth,o=function(d){s(Ol(d,t.displayIndex?-t.displayIndex:0))},l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:kQ,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[c.jsx("div",{className:n.vhidden,children:u}),c.jsx(q5e,{onChange:o,displayMonth:t.displayMonth}),c.jsx(W5e,{onChange:o,displayMonth:t.displayMonth})]})}function Z5e(t){return c.jsx("svg",Gt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eAe(t){return c.jsx("svg",Gt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var CS=T.forwardRef(function(t,e){var r=On(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var s=a.join(" "),o=Gt(Gt({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),c.jsx("button",Gt({},t,{ref:e,type:"button",className:s,style:o}))});function tAe(t){var e,r,n=On(),i=n.dir,a=n.locale,s=n.classNames,o=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,h=n.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var p=u(t.previousMonth,{locale:a}),f=[s.nav_button,s.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:a}),m=[s.nav_button,s.nav_button_next].join(" "),g=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:eAe,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Z5e;return c.jsxs("div",{className:s.nav,style:o.nav,children:[!t.hidePrevious&&c.jsx(CS,{name:"previous-month","aria-label":p,className:f,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?c.jsx(g,{className:s.nav_icon,style:o.nav_icon}):c.jsx(y,{className:s.nav_icon,style:o.nav_icon})}),!t.hideNext&&c.jsx(CS,{name:"next-month","aria-label":v,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?c.jsx(y,{className:s.nav_icon,style:o.nav_icon}):c.jsx(g,{className:s.nav_icon,style:o.nav_icon})})]})}function b$(t){var e=On().numberOfMonths,r=Yx(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,s=r.displayMonths,o=s.findIndex(function(v){return U3(t.displayMonth,v)}),l=o===0,u=o===s.length-1,d=e>1&&(l||!u),h=e>1&&(u||!l),p=function(){n&&a(n)},f=function(){i&&a(i)};return c.jsx(tAe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:i,previousMonth:n,onPreviousClick:p,onNextClick:f})}function rAe(t){var e,r=On(),n=r.classNames,i=r.disableNavigation,a=r.styles,s=r.captionLayout,o=r.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:kQ,u;return i?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=c.jsx(y$,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(y$,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(b$,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(b$,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:n.caption,style:a.caption,children:u})}function nAe(t){var e=On(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?c.jsx("tfoot",{className:i,style:n.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:r})})}):c.jsx(c.Fragment,{})}function iAe(t,e,r){for(var n=r?rm(new Date):Oc(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var s=Xa(n,a);i.push(s)}return i}function aAe(){var t=On(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,s=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=iAe(i,a,s);return c.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&c.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,h){return c.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":l(d,{locale:i}),children:o(d,{locale:i})},h)})]})}function sAe(){var t,e=On(),r=e.classNames,n=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:aAe;return c.jsx("thead",{style:n.head,className:r.head,children:c.jsx(a,{})})}function oAe(t){var e=On(),r=e.locale,n=e.formatters.formatDay;return c.jsx(c.Fragment,{children:n(t.date,{locale:r})})}var G3=T.createContext(void 0);function lAe(t){if(!Gx(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(G3.Provider,{value:e,children:t.children})}return c.jsx(cAe,{initialProps:t.initialProps,children:t.children})}function cAe(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,a=e.max,s=function(u,d,h){var p,f;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,h);var v=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var m=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!m){var g=n?TQ([],n):[];if(d.selected){var y=g.findIndex(function(x){return As(u,x)});g.splice(y,1)}else g.push(u);(f=e.onSelect)===null||f===void 0||f.call(e,g,u,d,h)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=a&&n.length>a-1,h=n.some(function(p){return As(p,u)});return!!(d&&!h)});var l={selected:n,onDayClick:s,modifiers:o};return c.jsx(G3.Provider,{value:l,children:r})}function K3(){var t=T.useContext(G3);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function uAe(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?As(i,t)&&As(n,t)?void 0:As(i,t)?{from:i,to:void 0}:As(n,t)?void 0:HC(n,t)?{from:t,to:i}:{from:n,to:t}:i?HC(t,i)?{from:i,to:t}:{from:t,to:i}:n?rQ(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var Y3=T.createContext(void 0);function dAe(t){if(!Kx(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(Y3.Provider,{value:e,children:t.children})}return c.jsx(hAe,{initialProps:t.initialProps,children:t.children})}function hAe(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},a=i.from,s=i.to,o=e.min,l=e.max,u=function(f,v,m){var g,y;(g=e.onDayClick)===null||g===void 0||g.call(e,f,v,m);var x=uAe(f,n);(y=e.onSelect)===null||y===void 0||y.call(e,x,f,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],s?(d.range_end=[s],As(a,s)||(d.range_middle=[{after:a,before:s}])):d.range_end=[a]):s&&(d.range_start=[s],d.range_end=[s]),o&&(a&&!s&&d.disabled.push({after:_j(a,o-1),before:Xa(a,o-1)}),a&&s&&d.disabled.push({after:a,before:Xa(a,o-1)}),!a&&s&&d.disabled.push({after:_j(s,o-1),before:Xa(s,o-1)})),l){if(a&&!s&&(d.disabled.push({before:Xa(a,-l+1)}),d.disabled.push({after:Xa(a,l-1)})),a&&s){var h=mc(s,a)+1,p=l-h;d.disabled.push({before:_j(a,p)}),d.disabled.push({after:Xa(s,p)})}!a&&s&&(d.disabled.push({before:Xa(s,-l+1)}),d.disabled.push({after:Xa(s,l-1)}))}return c.jsx(Y3.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function X3(){var t=T.useContext(Y3);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function h_(t){return Array.isArray(t)?TQ([],t):t!==void 0?[t]:[]}function fAe(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=h_(i)}),e}var Rl;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Rl||(Rl={}));var pAe=Rl.Selected,iu=Rl.Disabled,mAe=Rl.Hidden,gAe=Rl.Today,Oj=Rl.RangeEnd,Rj=Rl.RangeMiddle,Dj=Rl.RangeStart,vAe=Rl.Outside;function yAe(t,e,r){var n,i=(n={},n[pAe]=h_(t.selected),n[iu]=h_(t.disabled),n[mAe]=h_(t.hidden),n[gAe]=[t.today],n[Oj]=[],n[Rj]=[],n[Dj]=[],n[vAe]=[],n);return t.fromDate&&i[iu].push({before:t.fromDate}),t.toDate&&i[iu].push({after:t.toDate}),Gx(t)?i[iu]=i[iu].concat(e.modifiers[iu]):Kx(t)&&(i[iu]=i[iu].concat(r.modifiers[iu]),i[Dj]=r.modifiers[Dj],i[Rj]=r.modifiers[Rj],i[Oj]=r.modifiers[Oj]),i}var RQ=T.createContext(void 0);function bAe(t){var e=On(),r=K3(),n=X3(),i=yAe(e,r,n),a=fAe(e.modifiers),s=Gt(Gt({},i),a);return c.jsx(RQ.Provider,{value:s,children:t.children})}function DQ(){var t=T.useContext(RQ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function xAe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function wAe(t){return!!(t&&typeof t=="object"&&"from"in t)}function _Ae(t){return!!(t&&typeof t=="object"&&"after"in t)}function SAe(t){return!!(t&&typeof t=="object"&&"before"in t)}function AAe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function NAe(t,e){var r,n=e.from,i=e.to;if(n&&i){var a=mc(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var s=mc(t,n)>=0&&mc(i,t)>=0;return s}return i?As(i,t):n?As(n,t):!1}function EAe(t){return M3(t)}function jAe(t){return Array.isArray(t)&&t.every(M3)}function PAe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(EAe(r))return As(t,r);if(jAe(r))return r.includes(t);if(wAe(r))return NAe(t,r);if(AAe(r))return r.dayOfWeek.includes(t.getDay());if(xAe(r)){var n=mc(r.before,t),i=mc(r.after,t),a=n>0,s=i<0,o=HC(r.before,r.after);return o?s&&a:a||s}return _Ae(r)?mc(t,r.after)>0:SAe(r)?mc(r.before,t)>0:typeof r=="function"?r(t):!1})}function Q3(t,e,r){var n=Object.keys(e).reduce(function(a,s){var o=e[s];return PAe(t,o)&&a.push(s),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!U3(t,r)&&(i.outside=!0),i}function TAe(t,e){for(var r=Os(t[0]),n=$3(t[t.length-1]),i,a,s=r;s<=n;){var o=Q3(s,e),l=!o.disabled&&!o.hidden;if(!l){s=Xa(s,1);continue}if(o.selected)return s;o.today&&!a&&(a=s),i||(i=s),s=Xa(s,1)}return a||i}var CAe=365;function LQ(t,e){var r=e.moveBy,n=e.direction,i=e.context,a=e.modifiers,s=e.retry,o=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,u=i.fromDate,d=i.toDate,h=i.locale,p={day:Xa,week:WC,month:Ol,year:Lxe,startOfWeek:function(g){return i.ISOWeek?rm(g):Oc(g,{locale:h,weekStartsOn:l})},endOfWeek:function(g){return i.ISOWeek?XX(g):F3(g,{locale:h,weekStartsOn:l})}},f=p[r](t,n==="after"?1:-1);n==="before"&&u?f=Mxe([u,f]):n==="after"&&d&&(f=$xe([d,f]));var v=!0;if(a){var m=Q3(f,a);v=!m.disabled&&!m.hidden}return v?f:o.count>CAe?o.lastFocused:LQ(f,{moveBy:r,direction:n,context:i,modifiers:a,retry:Gt(Gt({},o),{count:o.count+1})})}var MQ=T.createContext(void 0);function kAe(t){var e=Yx(),r=DQ(),n=T.useState(),i=n[0],a=n[1],s=T.useState(),o=s[0],l=s[1],u=TAe(e.displayMonths,r),d=i??(o&&e.isDateDisplayed(o))?o:u,h=function(){l(i),a(void 0)},p=function(g){a(g)},f=On(),v=function(g,y){if(i){var x=LQ(i,{moveBy:g,direction:y,context:f,modifiers:r});As(i,x)||(e.goToDate(x,i),p(x))}},m={focusedDay:i,focusTarget:d,blur:h,focus:p,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return c.jsx(MQ.Provider,{value:m,children:t.children})}function J3(){var t=T.useContext(MQ);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function IAe(t,e){var r=DQ(),n=Q3(t,r,e);return n}var Z3=T.createContext(void 0);function OAe(t){if(!JA(t.initialProps)){var e={selected:void 0};return c.jsx(Z3.Provider,{value:e,children:t.children})}return c.jsx(RAe,{initialProps:t.initialProps,children:t.children})}function RAe(t){var e=t.initialProps,r=t.children,n=function(a,s,o){var l,u,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,a,s,o),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,s,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,s,o)},i={selected:e.selected,onDayClick:n};return c.jsx(Z3.Provider,{value:i,children:r})}function $Q(){var t=T.useContext(Z3);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function DAe(t,e){var r=On(),n=$Q(),i=K3(),a=X3(),s=J3(),o=s.focusDayAfter,l=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,h=s.blur,p=s.focus,f=s.focusMonthBefore,v=s.focusMonthAfter,m=s.focusYearBefore,g=s.focusYearAfter,y=s.focusStartOfWeek,x=s.focusEndOfWeek,_=function(K){var q,Z,ve,ce;JA(r)?(q=n.onDayClick)===null||q===void 0||q.call(n,t,e,K):Gx(r)?(Z=i.onDayClick)===null||Z===void 0||Z.call(i,t,e,K):Kx(r)?(ve=a.onDayClick)===null||ve===void 0||ve.call(a,t,e,K):(ce=r.onDayClick)===null||ce===void 0||ce.call(r,t,e,K)},A=function(K){var q;p(t),(q=r.onDayFocus)===null||q===void 0||q.call(r,t,e,K)},E=function(K){var q;h(),(q=r.onDayBlur)===null||q===void 0||q.call(r,t,e,K)},I=function(K){var q;(q=r.onDayMouseEnter)===null||q===void 0||q.call(r,t,e,K)},j=function(K){var q;(q=r.onDayMouseLeave)===null||q===void 0||q.call(r,t,e,K)},N=function(K){var q;(q=r.onDayPointerEnter)===null||q===void 0||q.call(r,t,e,K)},k=function(K){var q;(q=r.onDayPointerLeave)===null||q===void 0||q.call(r,t,e,K)},D=function(K){var q;(q=r.onDayTouchCancel)===null||q===void 0||q.call(r,t,e,K)},C=function(K){var q;(q=r.onDayTouchEnd)===null||q===void 0||q.call(r,t,e,K)},O=function(K){var q;(q=r.onDayTouchMove)===null||q===void 0||q.call(r,t,e,K)},L=function(K){var q;(q=r.onDayTouchStart)===null||q===void 0||q.call(r,t,e,K)},z=function(K){var q;(q=r.onDayKeyUp)===null||q===void 0||q.call(r,t,e,K)},re=function(K){var q;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?o():l();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?l():o();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),u();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),d();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?m():f();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?g():v();break;case"Home":K.preventDefault(),K.stopPropagation(),y();break;case"End":K.preventDefault(),K.stopPropagation(),x();break}(q=r.onDayKeyDown)===null||q===void 0||q.call(r,t,e,K)},Y={onClick:_,onFocus:A,onBlur:E,onKeyDown:re,onKeyUp:z,onMouseEnter:I,onMouseLeave:j,onPointerEnter:N,onPointerLeave:k,onTouchCancel:D,onTouchEnd:C,onTouchMove:O,onTouchStart:L};return Y}function LAe(){var t=On(),e=$Q(),r=K3(),n=X3(),i=JA(t)?e.selected:Gx(t)?r.selected:Kx(t)?n.selected:void 0;return i}function MAe(t){return Object.values(Rl).includes(t)}function $Ae(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(MAe(n)){var a=t.classNames["day_".concat(n)];a&&r.push(a)}}),r}function FAe(t,e){var r=Gt({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=Gt(Gt({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function BAe(t,e,r){var n,i,a,s=On(),o=J3(),l=IAe(t,e),u=DAe(t,l),d=LAe(),h=!!(s.onDayClick||s.mode!=="default");T.useEffect(function(){var I;l.outside||o.focusedDay&&h&&As(o.focusedDay,t)&&((I=r.current)===null||I===void 0||I.focus())},[o.focusedDay,t,r,h,l.outside]);var p=$Ae(s,l).join(" "),f=FAe(s,l),v=!!(l.outside&&!s.showOutsideDays||l.hidden),m=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:oAe,g=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),y={style:f,className:p,children:g,role:"gridcell"},x=o.focusTarget&&As(o.focusTarget,t)&&!l.outside,_=o.focusedDay&&As(o.focusedDay,t),A=Gt(Gt(Gt({},y),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=_||x?0:-1,n)),u),E={isButton:h,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:A,divProps:y};return E}function UAe(t){var e=T.useRef(null),r=BAe(t.date,t.displayMonth,e);return r.isHidden?c.jsx("div",{role:"gridcell"}):r.isButton?c.jsx(CS,Gt({name:"day",ref:e},r.buttonProps)):c.jsx("div",Gt({},r.divProps))}function VAe(t){var e=t.number,r=t.dates,n=On(),i=n.onWeekNumberClick,a=n.styles,s=n.classNames,o=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:o});if(!i)return c.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:d});var h=l(Number(e),{locale:o}),p=function(f){i(e,r,f)};return c.jsx(CS,{name:"week-number","aria-label":h,className:s.weeknumber,style:a.weeknumber,onClick:p,children:d})}function zAe(t){var e,r,n=On(),i=n.styles,a=n.classNames,s=n.showWeekNumber,o=n.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:UAe,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:VAe,d;return s&&(d=c.jsx("td",{className:a.cell,style:i.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:a.row,style:i.row,children:[d,t.dates.map(function(h){return c.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:h})},Lwe(h))})]})}function x$(t,e,r){for(var n=r!=null&&r.ISOWeek?XX(e):F3(e,r),i=r!=null&&r.ISOWeek?rm(t):Oc(t,r),a=mc(n,i),s=[],o=0;o<=a;o++)s.push(Xa(i,o));var l=s.reduce(function(u,d){var h=r!=null&&r.ISOWeek?JX(d):eQ(d,r),p=u.find(function(f){return f.weekNumber===h});return p?(p.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return l}function qAe(t,e){var r=x$(Os(t),$3(t),e);if(e!=null&&e.useFixedWeeks){var n=$we(t,e);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],s=WC(a,6-n),o=x$(WC(a,1),s,e);r.push.apply(r,o)}}return r}function WAe(t){var e,r,n,i=On(),a=i.locale,s=i.classNames,o=i.styles,l=i.hideHead,u=i.fixedWeeks,d=i.components,h=i.weekStartsOn,p=i.firstWeekContainsDate,f=i.ISOWeek,v=qAe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:f,locale:a,weekStartsOn:h,firstWeekContainsDate:p}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:sAe,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:zAe,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:nAe;return c.jsxs("table",{id:t.id,className:s.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:s.tbody,style:o.tbody,children:v.map(function(x){return c.jsx(g,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),c.jsx(y,{displayMonth:t.displayMonth})]})}function HAe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var GAe=HAe()?T.useLayoutEffect:T.useEffect,Lj=!1,KAe=0;function w$(){return"react-day-picker-".concat(++KAe)}function YAe(t){var e,r=t??(Lj?w$():null),n=T.useState(r),i=n[0],a=n[1];return GAe(function(){i===null&&a(w$())},[]),T.useEffect(function(){Lj===!1&&(Lj=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function XAe(t){var e,r,n=On(),i=n.dir,a=n.classNames,s=n.styles,o=n.components,l=Yx().displayMonths,u=YAe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,h=[a.month],p=s.month,f=t.displayIndex===0,v=t.displayIndex===l.length-1,m=!f&&!v;i==="rtl"&&(e=[f,v],v=e[0],f=e[1]),f&&(h.push(a.caption_start),p=Gt(Gt({},p),s.caption_start)),v&&(h.push(a.caption_end),p=Gt(Gt({},p),s.caption_end)),m&&(h.push(a.caption_between),p=Gt(Gt({},p),s.caption_between));var g=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:rAe;return c.jsxs("div",{className:h.join(" "),style:p,children:[c.jsx(g,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(WAe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function QAe(t){var e=On(),r=e.classNames,n=e.styles;return c.jsx("div",{className:r.months,style:n.months,children:t.children})}function JAe(t){var e,r,n=t.initialProps,i=On(),a=J3(),s=Yx(),o=T.useState(!1),l=o[0],u=o[1];T.useEffect(function(){i.initialFocus&&a.focusTarget&&(l||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,l,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var h=Gt(Gt({},i.styles.root),i.style),p=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var g;return Gt(Gt({},v),(g={},g[m]=n[m],g))},{}),f=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:QAe;return c.jsx("div",Gt({className:d.join(" "),style:h,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:c.jsx(f,{children:s.displayMonths.map(function(v,m){return c.jsx(XAe,{displayIndex:m,displayMonth:v},m)})})}))}function ZAe(t){var e=t.children,r=S5e(t,["children"]);return c.jsx(V5e,{initialProps:r,children:c.jsx(J5e,{children:c.jsx(OAe,{initialProps:r,children:c.jsx(lAe,{initialProps:r,children:c.jsx(dAe,{initialProps:r,children:c.jsx(bAe,{children:c.jsx(kAe,{children:e})})})})})})})}function eNe(t){return c.jsx(ZAe,Gt({},t,{children:c.jsx(JAe,{initialProps:t})}))}function FQ({className:t,classNames:e,showOutsideDays:r=!0,...n}){return c.jsx(eNe,{showOutsideDays:r,className:wt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:wt(xb({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:wt(xb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>c.jsx(Kq,{className:"h-4 w-4"}),IconRight:({...i})=>c.jsx(XI,{className:"h-4 w-4"})},...n})}FQ.displayName="Calendar";var ZA="Popover",[BQ,dZe]=mo(ZA,[xy]),Xx=xy(),[tNe,_f]=BQ(ZA),UQ=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=t,o=Xx(e),l=T.useRef(null),[u,d]=T.useState(!1),[h,p]=jl({prop:n,defaultProp:i??!1,onChange:a,caller:ZA});return c.jsx(DW,{...o,children:c.jsx(tNe,{scope:e,contentId:Al(),triggerRef:l,open:h,onOpenChange:p,onOpenToggle:T.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:u,onCustomAnchorAdd:T.useCallback(()=>d(!0),[]),onCustomAnchorRemove:T.useCallback(()=>d(!1),[]),modal:s,children:r})})};UQ.displayName=ZA;var VQ="PopoverAnchor",rNe=T.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=_f(VQ,r),a=Xx(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=i;return T.useEffect(()=>(s(),()=>o()),[s,o]),c.jsx(lA,{...a,...n,ref:e})});rNe.displayName=VQ;var zQ="PopoverTrigger",qQ=T.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=_f(zQ,r),a=Xx(r),s=Rr(e,i.triggerRef),o=c.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":YQ(i.open),...n,ref:s,onClick:kt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:c.jsx(lA,{asChild:!0,...a,children:o})});qQ.displayName=zQ;var eR="PopoverPortal",[nNe,iNe]=BQ(eR,{forceMount:void 0}),WQ=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=_f(eR,e);return c.jsx(nNe,{scope:e,forceMount:r,children:c.jsx(Dc,{present:r||a.open,children:c.jsx(Sx,{asChild:!0,container:i,children:n})})})};WQ.displayName=eR;var Fv="PopoverContent",HQ=T.forwardRef((t,e)=>{const r=iNe(Fv,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=_f(Fv,t.__scopePopover);return c.jsx(Dc,{present:n||a.open,children:a.modal?c.jsx(sNe,{...i,ref:e}):c.jsx(oNe,{...i,ref:e})})});HQ.displayName=Fv;var aNe=Bp("PopoverContent.RemoveScroll"),sNe=T.forwardRef((t,e)=>{const r=_f(Fv,t.__scopePopover),n=T.useRef(null),i=Rr(e,n),a=T.useRef(!1);return T.useEffect(()=>{const s=n.current;if(s)return _3(s)},[]),c.jsx(VA,{as:aNe,allowPinchZoom:!0,children:c.jsx(GQ,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:kt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:kt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),oNe=T.forwardRef((t,e)=>{const r=_f(Fv,t.__scopePopover),n=T.useRef(!1),i=T.useRef(!1);return c.jsx(GQ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),GQ=T.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...h}=t,p=_f(Fv,r),f=Xx(r);return w3(),c.jsx(BA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(gy,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:c.jsx(lO,{"data-state":YQ(p.open),role:"dialog",id:p.contentId,...f,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),KQ="PopoverClose",lNe=T.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=_f(KQ,r);return c.jsx(Ht.button,{type:"button",...n,ref:e,onClick:kt(t.onClick,()=>i.onOpenChange(!1))})});lNe.displayName=KQ;var cNe="PopoverArrow",uNe=T.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Xx(r);return c.jsx(cO,{...i,...n,ref:e})});uNe.displayName=cNe;function YQ(t){return t?"open":"closed"}var dNe=UQ,hNe=qQ,fNe=WQ,XQ=HQ;const pNe=dNe,mNe=hNe,QQ=T.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>c.jsx(fNe,{children:c.jsx(XQ,{ref:i,align:e,sideOffset:r,className:wt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));QQ.displayName=XQ.displayName;var gNe=Array.isArray,Rs=gNe,vNe=typeof Da=="object"&&Da&&Da.Object===Object&&Da,JQ=vNe,yNe=JQ,bNe=typeof self=="object"&&self&&self.Object===Object&&self,xNe=yNe||bNe||Function("return this")(),$c=xNe,wNe=$c,_Ne=wNe.Symbol,Qx=_Ne,_$=Qx,ZQ=Object.prototype,SNe=ZQ.hasOwnProperty,ANe=ZQ.toString,C0=_$?_$.toStringTag:void 0;function NNe(t){var e=SNe.call(t,C0),r=t[C0];try{t[C0]=void 0;var n=!0}catch{}var i=ANe.call(t);return n&&(e?t[C0]=r:delete t[C0]),i}var ENe=NNe,jNe=Object.prototype,PNe=jNe.toString;function TNe(t){return PNe.call(t)}var CNe=TNe,S$=Qx,kNe=ENe,INe=CNe,ONe="[object Null]",RNe="[object Undefined]",A$=S$?S$.toStringTag:void 0;function DNe(t){return t==null?t===void 0?RNe:ONe:A$&&A$ in Object(t)?kNe(t):INe(t)}var nd=DNe;function LNe(t){return t!=null&&typeof t=="object"}var id=LNe,MNe=nd,$Ne=id,FNe="[object Symbol]";function BNe(t){return typeof t=="symbol"||$Ne(t)&&MNe(t)==FNe}var My=BNe,UNe=Rs,VNe=My,zNe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qNe=/^\w*$/;function WNe(t,e){if(UNe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||VNe(t)?!0:qNe.test(t)||!zNe.test(t)||e!=null&&t in Object(e)}var tR=WNe;function HNe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Sf=HNe;const $y=Qr(Sf);var GNe=nd,KNe=Sf,YNe="[object AsyncFunction]",XNe="[object Function]",QNe="[object GeneratorFunction]",JNe="[object Proxy]";function ZNe(t){if(!KNe(t))return!1;var e=GNe(t);return e==XNe||e==QNe||e==YNe||e==JNe}var rR=ZNe;const Zt=Qr(rR);var eEe=$c,tEe=eEe["__core-js_shared__"],rEe=tEe,Mj=rEe,N$=function(){var t=/[^.]+$/.exec(Mj&&Mj.keys&&Mj.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function nEe(t){return!!N$&&N$ in t}var iEe=nEe,aEe=Function.prototype,sEe=aEe.toString;function oEe(t){if(t!=null){try{return sEe.call(t)}catch{}try{return t+""}catch{}}return""}var eJ=oEe,lEe=rR,cEe=iEe,uEe=Sf,dEe=eJ,hEe=/[\\^$.*+?()[\]{}|]/g,fEe=/^\[object .+?Constructor\]$/,pEe=Function.prototype,mEe=Object.prototype,gEe=pEe.toString,vEe=mEe.hasOwnProperty,yEe=RegExp("^"+gEe.call(vEe).replace(hEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bEe(t){if(!uEe(t)||cEe(t))return!1;var e=lEe(t)?yEe:fEe;return e.test(dEe(t))}var xEe=bEe;function wEe(t,e){return t==null?void 0:t[e]}var _Ee=wEe,SEe=xEe,AEe=_Ee;function NEe(t,e){var r=AEe(t,e);return SEe(r)?r:void 0}var wm=NEe,EEe=wm,jEe=EEe(Object,"create"),eN=jEe,E$=eN;function PEe(){this.__data__=E$?E$(null):{},this.size=0}var TEe=PEe;function CEe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kEe=CEe,IEe=eN,OEe="__lodash_hash_undefined__",REe=Object.prototype,DEe=REe.hasOwnProperty;function LEe(t){var e=this.__data__;if(IEe){var r=e[t];return r===OEe?void 0:r}return DEe.call(e,t)?e[t]:void 0}var MEe=LEe,$Ee=eN,FEe=Object.prototype,BEe=FEe.hasOwnProperty;function UEe(t){var e=this.__data__;return $Ee?e[t]!==void 0:BEe.call(e,t)}var VEe=UEe,zEe=eN,qEe="__lodash_hash_undefined__";function WEe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=zEe&&e===void 0?qEe:e,this}var HEe=WEe,GEe=TEe,KEe=kEe,YEe=MEe,XEe=VEe,QEe=HEe;function Fy(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fy.prototype.clear=GEe;Fy.prototype.delete=KEe;Fy.prototype.get=YEe;Fy.prototype.has=XEe;Fy.prototype.set=QEe;var JEe=Fy;function ZEe(){this.__data__=[],this.size=0}var eje=ZEe;function tje(t,e){return t===e||t!==t&&e!==e}var nR=tje,rje=nR;function nje(t,e){for(var r=t.length;r--;)if(rje(t[r][0],e))return r;return-1}var tN=nje,ije=tN,aje=Array.prototype,sje=aje.splice;function oje(t){var e=this.__data__,r=ije(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():sje.call(e,r,1),--this.size,!0}var lje=oje,cje=tN;function uje(t){var e=this.__data__,r=cje(e,t);return r<0?void 0:e[r][1]}var dje=uje,hje=tN;function fje(t){return hje(this.__data__,t)>-1}var pje=fje,mje=tN;function gje(t,e){var r=this.__data__,n=mje(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var vje=gje,yje=eje,bje=lje,xje=dje,wje=pje,_je=vje;function By(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}By.prototype.clear=yje;By.prototype.delete=bje;By.prototype.get=xje;By.prototype.has=wje;By.prototype.set=_je;var rN=By,Sje=wm,Aje=$c,Nje=Sje(Aje,"Map"),iR=Nje,j$=JEe,Eje=rN,jje=iR;function Pje(){this.size=0,this.__data__={hash:new j$,map:new(jje||Eje),string:new j$}}var Tje=Pje;function Cje(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var kje=Cje,Ije=kje;function Oje(t,e){var r=t.__data__;return Ije(e)?r[typeof e=="string"?"string":"hash"]:r.map}var nN=Oje,Rje=nN;function Dje(t){var e=Rje(this,t).delete(t);return this.size-=e?1:0,e}var Lje=Dje,Mje=nN;function $je(t){return Mje(this,t).get(t)}var Fje=$je,Bje=nN;function Uje(t){return Bje(this,t).has(t)}var Vje=Uje,zje=nN;function qje(t,e){var r=zje(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Wje=qje,Hje=Tje,Gje=Lje,Kje=Fje,Yje=Vje,Xje=Wje;function Uy(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Uy.prototype.clear=Hje;Uy.prototype.delete=Gje;Uy.prototype.get=Kje;Uy.prototype.has=Yje;Uy.prototype.set=Xje;var aR=Uy,tJ=aR,Qje="Expected a function";function sR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Qje);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(sR.Cache||tJ),r}sR.Cache=tJ;var rJ=sR;const Jje=Qr(rJ);var Zje=rJ,ePe=500;function tPe(t){var e=Zje(t,function(n){return r.size===ePe&&r.clear(),n}),r=e.cache;return e}var rPe=tPe,nPe=rPe,iPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aPe=/\\(\\)?/g,sPe=nPe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(iPe,function(r,n,i,a){e.push(i?a.replace(aPe,"$1"):n||r)}),e}),oPe=sPe;function lPe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var oR=lPe,P$=Qx,cPe=oR,uPe=Rs,dPe=My,hPe=1/0,T$=P$?P$.prototype:void 0,C$=T$?T$.toString:void 0;function nJ(t){if(typeof t=="string")return t;if(uPe(t))return cPe(t,nJ)+"";if(dPe(t))return C$?C$.call(t):"";var e=t+"";return e=="0"&&1/t==-hPe?"-0":e}var fPe=nJ,pPe=fPe;function mPe(t){return t==null?"":pPe(t)}var iJ=mPe,gPe=Rs,vPe=tR,yPe=oPe,bPe=iJ;function xPe(t,e){return gPe(t)?t:vPe(t,e)?[t]:yPe(bPe(t))}var aJ=xPe,wPe=My,_Pe=1/0;function SPe(t){if(typeof t=="string"||wPe(t))return t;var e=t+"";return e=="0"&&1/t==-_Pe?"-0":e}var iN=SPe,APe=aJ,NPe=iN;function EPe(t,e){e=APe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[NPe(e[r++])];return r&&r==n?t:void 0}var lR=EPe,jPe=lR;function PPe(t,e,r){var n=t==null?void 0:jPe(t,e);return n===void 0?r:n}var sJ=PPe;const co=Qr(sJ);function TPe(t){return t==null}var CPe=TPe;const vr=Qr(CPe);var kPe=nd,IPe=Rs,OPe=id,RPe="[object String]";function DPe(t){return typeof t=="string"||!IPe(t)&&OPe(t)&&kPe(t)==RPe}var LPe=DPe;const nm=Qr(LPe);var oJ={exports:{}},on={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR=Symbol.for("react.element"),uR=Symbol.for("react.portal"),aN=Symbol.for("react.fragment"),sN=Symbol.for("react.strict_mode"),oN=Symbol.for("react.profiler"),lN=Symbol.for("react.provider"),cN=Symbol.for("react.context"),MPe=Symbol.for("react.server_context"),uN=Symbol.for("react.forward_ref"),dN=Symbol.for("react.suspense"),hN=Symbol.for("react.suspense_list"),fN=Symbol.for("react.memo"),pN=Symbol.for("react.lazy"),$Pe=Symbol.for("react.offscreen"),lJ;lJ=Symbol.for("react.module.reference");function Zo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cR:switch(t=t.type,t){case aN:case oN:case sN:case dN:case hN:return t;default:switch(t=t&&t.$$typeof,t){case MPe:case cN:case uN:case pN:case fN:case lN:return t;default:return e}}case uR:return e}}}on.ContextConsumer=cN;on.ContextProvider=lN;on.Element=cR;on.ForwardRef=uN;on.Fragment=aN;on.Lazy=pN;on.Memo=fN;on.Portal=uR;on.Profiler=oN;on.StrictMode=sN;on.Suspense=dN;on.SuspenseList=hN;on.isAsyncMode=function(){return!1};on.isConcurrentMode=function(){return!1};on.isContextConsumer=function(t){return Zo(t)===cN};on.isContextProvider=function(t){return Zo(t)===lN};on.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cR};on.isForwardRef=function(t){return Zo(t)===uN};on.isFragment=function(t){return Zo(t)===aN};on.isLazy=function(t){return Zo(t)===pN};on.isMemo=function(t){return Zo(t)===fN};on.isPortal=function(t){return Zo(t)===uR};on.isProfiler=function(t){return Zo(t)===oN};on.isStrictMode=function(t){return Zo(t)===sN};on.isSuspense=function(t){return Zo(t)===dN};on.isSuspenseList=function(t){return Zo(t)===hN};on.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===aN||t===oN||t===sN||t===dN||t===hN||t===$Pe||typeof t=="object"&&t!==null&&(t.$$typeof===pN||t.$$typeof===fN||t.$$typeof===lN||t.$$typeof===cN||t.$$typeof===uN||t.$$typeof===lJ||t.getModuleId!==void 0)};on.typeOf=Zo;oJ.exports=on;var FPe=oJ.exports,BPe=nd,UPe=id,VPe="[object Number]";function zPe(t){return typeof t=="number"||UPe(t)&&BPe(t)==VPe}var cJ=zPe;const qPe=Qr(cJ);var WPe=cJ;function HPe(t){return WPe(t)&&t!=+t}var GPe=HPe;const Jx=Qr(GPe);var ts=function(e){return e===0?0:e>0?1:-1},up=function(e){return nm(e)&&e.indexOf("%")===e.length-1},tt=function(e){return qPe(e)&&!Jx(e)},KPe=function(e){return vr(e)},Vi=function(e){return tt(e)||nm(e)},YPe=0,Zx=function(e){var r=++YPe;return"".concat(e||"").concat(r)},rs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(e)&&!nm(e))return n;var a;if(up(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Jx(a)&&(a=n),i&&a>r&&(a=r),a},Zd=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},XPe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},qd=function(e,r){return tt(e)&&tt(r)?function(n){return e+n*(r-e)}:function(){return r}};function ik(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):co(n,e))===r})}var QPe=function(e,r){return tt(e)&&tt(r)?e-r:nm(e)&&nm(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Kg(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ak(t){"@babel/helpers - typeof";return ak=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ak(t)}var JPe=["viewBox","children"],ZPe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k$=["points","pathLength"],$j={svg:JPe,polygon:k$,polyline:k$},dR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kS=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!$y(n))return null;var i={};return Object.keys(n).forEach(function(a){dR.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},eTe=function(e,r,n){return function(i){return e(r,n,i),null}},im=function(e,r,n){if(!$y(e)||ak(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];dR.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=eTe(s,r,n))}),i},tTe=["children"],rTe=["children"];function I$(t,e){if(t==null)return{};var r=nTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var O$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ou=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},R$=null,Fj=null,hR=function t(e){if(e===R$&&Array.isArray(Fj))return Fj;var r=[];return T.Children.forEach(e,function(n){vr(n)||(FPe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Fj=r,R$=e,r};function Ho(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ou(i)}):n=[Ou(e)],hR(t).forEach(function(i){var a=co(i,"type.displayName")||co(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Js(t,e){var r=Ho(t,e);return r&&r[0]}var D$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!tt(n)||n<=0||!tt(i)||i<=0)},iTe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aTe=function(e){return e&&e.type&&nm(e.type)&&iTe.indexOf(e.type)>=0},sTe=function(e,r,n,i){var a,s=(a=$j==null?void 0:$j[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Zt(e)&&(i&&s.includes(r)||ZPe.includes(r))||n&&dR.includes(r)},Kt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!$y(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;sTe((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},sk=function t(e,r){if(e===r)return!0;var n=T.Children.count(e);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return L$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!L$(a,s))return!1}return!0},L$=function(e,r){if(vr(e)&&vr(r))return!0;if(!vr(e)&&!vr(r)){var n=e.props||{},i=n.children,a=I$(n,tTe),s=r.props||{},o=s.children,l=I$(s,rTe);return i&&o?Kg(a,l)&&sk(i,o):!i&&!o?Kg(a,l):!1}return!1},M$=function(e,r){var n=[],i={};return hR(e).forEach(function(a,s){if(aTe(a))n.push(a);else if(a){var o=Ou(a.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var h=u(a,o,s);n.push(h),i[o]=!0}}}),n},oTe=function(e){var r=e&&e.type;return r&&O$[r]?O$[r]:null},lTe=function(e,r){return hR(r).indexOf(e)},cTe=["children","width","height","viewBox","className","style","title","desc"];function ok(){return ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ok.apply(this,arguments)}function uTe(t,e){if(t==null)return{};var r=dTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lk(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=uTe(t,cTe),d=i||{width:r,height:n,x:0,y:0},h=pr("recharts-surface",a);return ue.createElement("svg",ok({},Kt(u,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ue.createElement("title",null,o),ue.createElement("desc",null,l),e)}var hTe=["children","className"];function ck(){return ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ck.apply(this,arguments)}function fTe(t,e){if(t==null)return{};var r=pTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var an=ue.forwardRef(function(t,e){var r=t.children,n=t.className,i=fTe(t,hTe),a=pr("recharts-layer",n);return ue.createElement("g",ck({className:a},Kt(i,!0),{ref:e}),r)}),Nl=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function mTe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var gTe=mTe,vTe=gTe;function yTe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:vTe(t,e,r)}var bTe=yTe,xTe="\\ud800-\\udfff",wTe="\\u0300-\\u036f",_Te="\\ufe20-\\ufe2f",STe="\\u20d0-\\u20ff",ATe=wTe+_Te+STe,NTe="\\ufe0e\\ufe0f",ETe="\\u200d",jTe=RegExp("["+ETe+xTe+ATe+NTe+"]");function PTe(t){return jTe.test(t)}var uJ=PTe;function TTe(t){return t.split("")}var CTe=TTe,dJ="\\ud800-\\udfff",kTe="\\u0300-\\u036f",ITe="\\ufe20-\\ufe2f",OTe="\\u20d0-\\u20ff",RTe=kTe+ITe+OTe,DTe="\\ufe0e\\ufe0f",LTe="["+dJ+"]",uk="["+RTe+"]",dk="\\ud83c[\\udffb-\\udfff]",MTe="(?:"+uk+"|"+dk+")",hJ="[^"+dJ+"]",fJ="(?:\\ud83c[\\udde6-\\uddff]){2}",pJ="[\\ud800-\\udbff][\\udc00-\\udfff]",$Te="\\u200d",mJ=MTe+"?",gJ="["+DTe+"]?",FTe="(?:"+$Te+"(?:"+[hJ,fJ,pJ].join("|")+")"+gJ+mJ+")*",BTe=gJ+mJ+FTe,UTe="(?:"+[hJ+uk+"?",uk,fJ,pJ,LTe].join("|")+")",VTe=RegExp(dk+"(?="+dk+")|"+UTe+BTe,"g");function zTe(t){return t.match(VTe)||[]}var qTe=zTe,WTe=CTe,HTe=uJ,GTe=qTe;function KTe(t){return HTe(t)?GTe(t):WTe(t)}var YTe=KTe,XTe=bTe,QTe=uJ,JTe=YTe,ZTe=iJ;function eCe(t){return function(e){e=ZTe(e);var r=QTe(e)?JTe(e):void 0,n=r?r[0]:e.charAt(0),i=r?XTe(r,1).join(""):e.slice(1);return n[t]()+i}}var tCe=eCe,rCe=tCe,nCe=rCe("toUpperCase"),iCe=nCe;const mN=Qr(iCe);function Cn(t){return function(){return t}}const vJ=Math.cos,IS=Math.sin,$l=Math.sqrt,OS=Math.PI,gN=2*OS,hk=Math.PI,fk=2*hk,Jf=1e-6,aCe=fk-Jf;function yJ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function sCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yJ;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class oCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yJ:sCe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,d=s-e,h=o-r,p=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Jf)if(!(Math.abs(h*l-u*d)>Jf)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-s,v=i-o,m=l*l+u*u,g=f*f+v*v,y=Math.sqrt(m),x=Math.sqrt(p),_=a*Math.tan((hk-Math.acos((m+p-g)/(2*y*x)))/2),A=_/x,E=_/y;Math.abs(A-1)>Jf&&this._append`L${e+A*d},${r+A*h}`,this._append`A${a},${a},0,0,${+(h*f>d*v)},${this._x1=e+E*l},${this._y1=r+E*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,h=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Jf||Math.abs(this._y1-d)>Jf)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%fk+fk),p>aCe?this._append`A${n},${n},0,1,${h},${e-o},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:p>Jf&&this._append`A${n},${n},0,${+(p>=hk)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function fR(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new oCe(e)}function pR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bJ(t){this._context=t}bJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vN(t){return new bJ(t)}function xJ(t){return t[0]}function wJ(t){return t[1]}function _J(t,e){var r=Cn(!0),n=null,i=vN,a=null,s=fR(o);t=typeof t=="function"?t:t===void 0?xJ:Cn(t),e=typeof e=="function"?e:e===void 0?wJ:Cn(e);function o(l){var u,d=(l=pR(l)).length,h,p=!1,f;for(n==null&&(a=i(f=s())),u=0;u<=d;++u)!(u<d&&r(h=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(h,u,l),+e(h,u,l));if(f)return a=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Cn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Cn(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Cn(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function h2(t,e,r){var n=null,i=Cn(!0),a=null,s=vN,o=null,l=fR(u);t=typeof t=="function"?t:t===void 0?xJ:Cn(+t),e=typeof e=="function"?e:Cn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?wJ:Cn(+r);function u(h){var p,f,v,m=(h=pR(h)).length,g,y=!1,x,_=new Array(m),A=new Array(m);for(a==null&&(o=s(x=l())),p=0;p<=m;++p){if(!(p<m&&i(g=h[p],p,h))===y)if(y=!y)f=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=f;--v)o.point(_[v],A[v]);o.lineEnd(),o.areaEnd()}y&&(_[p]=+t(g,p,h),A[p]=+e(g,p,h),o.point(n?+n(g,p,h):_[p],r?+r(g,p,h):A[p]))}if(x)return o=null,x+""||null}function d(){return _J().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Cn(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Cn(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Cn(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Cn(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Cn(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Cn(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Cn(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class SJ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function lCe(t){return new SJ(t,!0)}function cCe(t){return new SJ(t,!1)}const mR={draw(t,e){const r=$l(e/OS);t.moveTo(r,0),t.arc(0,0,r,0,gN)}},uCe={draw(t,e){const r=$l(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},AJ=$l(1/3),dCe=AJ*2,hCe={draw(t,e){const r=$l(e/dCe),n=r*AJ;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},fCe={draw(t,e){const r=$l(e),n=-r/2;t.rect(n,n,r,r)}},pCe=.8908130915292852,NJ=IS(OS/10)/IS(7*OS/10),mCe=IS(gN/10)*NJ,gCe=-vJ(gN/10)*NJ,vCe={draw(t,e){const r=$l(e*pCe),n=mCe*r,i=gCe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=gN*a/5,o=vJ(s),l=IS(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},Bj=$l(3),yCe={draw(t,e){const r=-$l(e/(Bj*3));t.moveTo(0,r*2),t.lineTo(-Bj*r,-r),t.lineTo(Bj*r,-r),t.closePath()}},Po=-.5,To=$l(3)/2,pk=1/$l(12),bCe=(pk/2+1)*3,xCe={draw(t,e){const r=$l(e/bCe),n=r/2,i=r*pk,a=n,s=r*pk+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Po*n-To*i,To*n+Po*i),t.lineTo(Po*a-To*s,To*a+Po*s),t.lineTo(Po*o-To*l,To*o+Po*l),t.lineTo(Po*n+To*i,Po*i-To*n),t.lineTo(Po*a+To*s,Po*s-To*a),t.lineTo(Po*o+To*l,Po*l-To*o),t.closePath()}};function wCe(t,e){let r=null,n=fR(i);t=typeof t=="function"?t:Cn(t||mR),e=typeof e=="function"?e:Cn(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Cn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Cn(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function RS(){}function DS(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function EJ(t){this._context=t}EJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:DS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:DS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Ce(t){return new EJ(t)}function jJ(t){this._context=t}jJ.prototype={areaStart:RS,areaEnd:RS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:DS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SCe(t){return new jJ(t)}function PJ(t){this._context=t}PJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:DS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ACe(t){return new PJ(t)}function TJ(t){this._context=t}TJ.prototype={areaStart:RS,areaEnd:RS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function NCe(t){return new TJ(t)}function $$(t){return t<0?-1:1}function F$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return($$(a)+$$(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function B$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Uj(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function LS(t){this._context=t}LS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uj(this,this._t0,B$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Uj(this,B$(this,r=F$(this,t,e)),r);break;default:Uj(this,this._t0,r=F$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function CJ(t){this._context=new kJ(t)}(CJ.prototype=Object.create(LS.prototype)).point=function(t,e){LS.prototype.point.call(this,e,t)};function kJ(t){this._context=t}kJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function ECe(t){return new LS(t)}function jCe(t){return new CJ(t)}function IJ(t){this._context=t}IJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=U$(t),i=U$(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function U$(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function PCe(t){return new IJ(t)}function yN(t,e){this._context=t,this._t=e}yN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function TCe(t){return new yN(t,.5)}function CCe(t){return new yN(t,0)}function kCe(t){return new yN(t,1)}function Bv(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function mk(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ICe(t,e){return t[e]}function OCe(t){const e=[];return e.key=t,e}function RCe(){var t=Cn([]),e=mk,r=Bv,n=ICe;function i(a){var s=Array.from(t.apply(this,arguments),OCe),o,l=s.length,u=-1,d;for(const h of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(h,s[o].key,u,a)]).data=h;for(o=0,d=pR(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Cn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Cn(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?mk:typeof a=="function"?a:Cn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Bv,i):r},i}function DCe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Bv(t,e)}}function LCe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Bv(t,e)}}function MCe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],h=d[n][1]||0,p=d[n-1][1]||0,f=(h-p)/2,v=0;v<o;++v){var m=t[e[v]],g=m[n][1]||0,y=m[n-1][1]||0;f+=g-y}l+=h,u+=f*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Bv(t,e)}}function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}var $Ce=["type","size","sizeType"];function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gk.apply(this,arguments)}function V$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(r),!0).forEach(function(n){FCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FCe(t,e,r){return e=BCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BCe(t){var e=UCe(t,"string");return Ab(e)=="symbol"?e:e+""}function UCe(t,e){if(Ab(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ab(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VCe(t,e){if(t==null)return{};var r=zCe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var OJ={symbolCircle:mR,symbolCross:uCe,symbolDiamond:hCe,symbolSquare:fCe,symbolStar:vCe,symbolTriangle:yCe,symbolWye:xCe},qCe=Math.PI/180,WCe=function(e){var r="symbol".concat(mN(e));return OJ[r]||mR},HCe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*qCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GCe=function(e,r){OJ["symbol".concat(mN(e))]=r},gR=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=VCe(e,$Ce),u=z$(z$({},l),{},{type:n,size:a,sizeType:o}),d=function(){var g=WCe(n),y=wCe().type(g).size(HCe(a,o,n));return y()},h=u.className,p=u.cx,f=u.cy,v=Kt(u,!0);return p===+p&&f===+f&&a===+a?ue.createElement("path",gk({},v,{className:pr("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(f,")"),d:d()})):null};gR.registerSymbol=GCe;function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function vk(){return vk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vk.apply(this,arguments)}function q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KCe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(r),!0).forEach(function(n){Nb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DJ(n.key),n)}}function QCe(t,e,r){return e&&XCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JCe(t,e,r){return e=MS(e),ZCe(t,RJ()?Reflect.construct(e,r||[],MS(t).constructor):e.apply(t,r))}function ZCe(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eke(t)}function eke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RJ=function(){return!!t})()}function MS(t){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},MS(t)}function tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yk(t,e)}function yk(t,e){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yk(t,e)}function Nb(t,e,r){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DJ(t){var e=rke(t,"string");return Uv(e)=="symbol"?e:e+""}function rke(t,e){if(Uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Co=32,vR=function(t){function e(){return YCe(this,e),JCe(this,e,arguments)}return tke(e,t),QCe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Co/2,s=Co/6,o=Co/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ue.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Co,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ue.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Co,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ue.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Co/8,"h").concat(Co,"v").concat(Co*3/4,"h").concat(-Co,"z"),className:"recharts-legend-icon"});if(ue.isValidElement(n.legendIcon)){var u=KCe({},n);return delete u.legendIcon,ue.cloneElement(n.legendIcon,u)}return ue.createElement(gR,{fill:l,cx:a,cy:a,size:Co,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Co,height:Co},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,v){var m=f.formatter||l,g=pr(Nb(Nb({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=Zt(f.value)?null:f.value;Nl(!Zt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=f.inactive?u:f.color;return ue.createElement("li",vk({className:g,style:h,key:"legend-item-".concat(v)},im(n.props,f,v)),ue.createElement(lk,{width:s,height:s,viewBox:d,style:p},n.renderIcon(f)),ue.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(y,f,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ue.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(T.PureComponent);Nb(vR,"displayName","Legend");Nb(vR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var nke=rN;function ike(){this.__data__=new nke,this.size=0}var ake=ike;function ske(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var oke=ske;function lke(t){return this.__data__.get(t)}var cke=lke;function uke(t){return this.__data__.has(t)}var dke=uke,hke=rN,fke=iR,pke=aR,mke=200;function gke(t,e){var r=this.__data__;if(r instanceof hke){var n=r.__data__;if(!fke||n.length<mke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new pke(n)}return r.set(t,e),this.size=r.size,this}var vke=gke,yke=rN,bke=ake,xke=oke,wke=cke,_ke=dke,Ske=vke;function Vy(t){var e=this.__data__=new yke(t);this.size=e.size}Vy.prototype.clear=bke;Vy.prototype.delete=xke;Vy.prototype.get=wke;Vy.prototype.has=_ke;Vy.prototype.set=Ske;var LJ=Vy,Ake="__lodash_hash_undefined__";function Nke(t){return this.__data__.set(t,Ake),this}var Eke=Nke;function jke(t){return this.__data__.has(t)}var Pke=jke,Tke=aR,Cke=Eke,kke=Pke;function $S(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Tke;++e<r;)this.add(t[e])}$S.prototype.add=$S.prototype.push=Cke;$S.prototype.has=kke;var MJ=$S;function Ike(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var $J=Ike;function Oke(t,e){return t.has(e)}var FJ=Oke,Rke=MJ,Dke=$J,Lke=FJ,Mke=1,$ke=2;function Fke(t,e,r,n,i,a){var s=r&Mke,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,p=!0,f=r&$ke?new Rke:void 0;for(a.set(t,e),a.set(e,t);++h<o;){var v=t[h],m=e[h];if(n)var g=s?n(m,v,h,e,t,a):n(v,m,h,t,e,a);if(g!==void 0){if(g)continue;p=!1;break}if(f){if(!Dke(e,function(y,x){if(!Lke(f,x)&&(v===y||i(v,y,r,n,a)))return f.push(x)})){p=!1;break}}else if(!(v===m||i(v,m,r,n,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var BJ=Fke,Bke=$c,Uke=Bke.Uint8Array,Vke=Uke;function zke(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var qke=zke;function Wke(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var yR=Wke,W$=Qx,H$=Vke,Hke=nR,Gke=BJ,Kke=qke,Yke=yR,Xke=1,Qke=2,Jke="[object Boolean]",Zke="[object Date]",e4e="[object Error]",t4e="[object Map]",r4e="[object Number]",n4e="[object RegExp]",i4e="[object Set]",a4e="[object String]",s4e="[object Symbol]",o4e="[object ArrayBuffer]",l4e="[object DataView]",G$=W$?W$.prototype:void 0,Vj=G$?G$.valueOf:void 0;function c4e(t,e,r,n,i,a,s){switch(r){case l4e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case o4e:return!(t.byteLength!=e.byteLength||!a(new H$(t),new H$(e)));case Jke:case Zke:case r4e:return Hke(+t,+e);case e4e:return t.name==e.name&&t.message==e.message;case n4e:case a4e:return t==e+"";case t4e:var o=Kke;case i4e:var l=n&Xke;if(o||(o=Yke),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=Qke,s.set(t,e);var d=Gke(o(t),o(e),n,i,a,s);return s.delete(t),d;case s4e:if(Vj)return Vj.call(t)==Vj.call(e)}return!1}var u4e=c4e;function d4e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var UJ=d4e,h4e=UJ,f4e=Rs;function p4e(t,e,r){var n=e(t);return f4e(t)?n:h4e(n,r(t))}var m4e=p4e;function g4e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var v4e=g4e;function y4e(){return[]}var b4e=y4e,x4e=v4e,w4e=b4e,_4e=Object.prototype,S4e=_4e.propertyIsEnumerable,K$=Object.getOwnPropertySymbols,A4e=K$?function(t){return t==null?[]:(t=Object(t),x4e(K$(t),function(e){return S4e.call(t,e)}))}:w4e,N4e=A4e;function E4e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var j4e=E4e,P4e=nd,T4e=id,C4e="[object Arguments]";function k4e(t){return T4e(t)&&P4e(t)==C4e}var I4e=k4e,Y$=I4e,O4e=id,VJ=Object.prototype,R4e=VJ.hasOwnProperty,D4e=VJ.propertyIsEnumerable,L4e=Y$(function(){return arguments}())?Y$:function(t){return O4e(t)&&R4e.call(t,"callee")&&!D4e.call(t,"callee")},bR=L4e,FS={exports:{}};function M4e(){return!1}var $4e=M4e;FS.exports;(function(t,e){var r=$c,n=$4e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(FS,FS.exports);var zJ=FS.exports,F4e=9007199254740991,B4e=/^(?:0|[1-9]\d*)$/;function U4e(t,e){var r=typeof t;return e=e??F4e,!!e&&(r=="number"||r!="symbol"&&B4e.test(t))&&t>-1&&t%1==0&&t<e}var xR=U4e,V4e=9007199254740991;function z4e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=V4e}var wR=z4e,q4e=nd,W4e=wR,H4e=id,G4e="[object Arguments]",K4e="[object Array]",Y4e="[object Boolean]",X4e="[object Date]",Q4e="[object Error]",J4e="[object Function]",Z4e="[object Map]",eIe="[object Number]",tIe="[object Object]",rIe="[object RegExp]",nIe="[object Set]",iIe="[object String]",aIe="[object WeakMap]",sIe="[object ArrayBuffer]",oIe="[object DataView]",lIe="[object Float32Array]",cIe="[object Float64Array]",uIe="[object Int8Array]",dIe="[object Int16Array]",hIe="[object Int32Array]",fIe="[object Uint8Array]",pIe="[object Uint8ClampedArray]",mIe="[object Uint16Array]",gIe="[object Uint32Array]",Bn={};Bn[lIe]=Bn[cIe]=Bn[uIe]=Bn[dIe]=Bn[hIe]=Bn[fIe]=Bn[pIe]=Bn[mIe]=Bn[gIe]=!0;Bn[G4e]=Bn[K4e]=Bn[sIe]=Bn[Y4e]=Bn[oIe]=Bn[X4e]=Bn[Q4e]=Bn[J4e]=Bn[Z4e]=Bn[eIe]=Bn[tIe]=Bn[rIe]=Bn[nIe]=Bn[iIe]=Bn[aIe]=!1;function vIe(t){return H4e(t)&&W4e(t.length)&&!!Bn[q4e(t)]}var yIe=vIe;function bIe(t){return function(e){return t(e)}}var qJ=bIe,BS={exports:{}};BS.exports;(function(t,e){var r=JQ,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(BS,BS.exports);var xIe=BS.exports,wIe=yIe,_Ie=qJ,X$=xIe,Q$=X$&&X$.isTypedArray,SIe=Q$?_Ie(Q$):wIe,WJ=SIe,AIe=j4e,NIe=bR,EIe=Rs,jIe=zJ,PIe=xR,TIe=WJ,CIe=Object.prototype,kIe=CIe.hasOwnProperty;function IIe(t,e){var r=EIe(t),n=!r&&NIe(t),i=!r&&!n&&jIe(t),a=!r&&!n&&!i&&TIe(t),s=r||n||i||a,o=s?AIe(t.length,String):[],l=o.length;for(var u in t)(e||kIe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||PIe(u,l)))&&o.push(u);return o}var OIe=IIe,RIe=Object.prototype;function DIe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||RIe;return t===r}var LIe=DIe;function MIe(t,e){return function(r){return t(e(r))}}var HJ=MIe,$Ie=HJ,FIe=$Ie(Object.keys,Object),BIe=FIe,UIe=LIe,VIe=BIe,zIe=Object.prototype,qIe=zIe.hasOwnProperty;function WIe(t){if(!UIe(t))return VIe(t);var e=[];for(var r in Object(t))qIe.call(t,r)&&r!="constructor"&&e.push(r);return e}var HIe=WIe,GIe=rR,KIe=wR;function YIe(t){return t!=null&&KIe(t.length)&&!GIe(t)}var ew=YIe,XIe=OIe,QIe=HIe,JIe=ew;function ZIe(t){return JIe(t)?XIe(t):QIe(t)}var bN=ZIe,eOe=m4e,tOe=N4e,rOe=bN;function nOe(t){return eOe(t,rOe,tOe)}var iOe=nOe,J$=iOe,aOe=1,sOe=Object.prototype,oOe=sOe.hasOwnProperty;function lOe(t,e,r,n,i,a){var s=r&aOe,o=J$(t),l=o.length,u=J$(e),d=u.length;if(l!=d&&!s)return!1;for(var h=l;h--;){var p=o[h];if(!(s?p in e:oOe.call(e,p)))return!1}var f=a.get(t),v=a.get(e);if(f&&v)return f==e&&v==t;var m=!0;a.set(t,e),a.set(e,t);for(var g=s;++h<l;){p=o[h];var y=t[p],x=e[p];if(n)var _=s?n(x,y,p,e,t,a):n(y,x,p,t,e,a);if(!(_===void 0?y===x||i(y,x,r,n,a):_)){m=!1;break}g||(g=p=="constructor")}if(m&&!g){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof E=="function"&&E instanceof E)&&(m=!1)}return a.delete(t),a.delete(e),m}var cOe=lOe,uOe=wm,dOe=$c,hOe=uOe(dOe,"DataView"),fOe=hOe,pOe=wm,mOe=$c,gOe=pOe(mOe,"Promise"),vOe=gOe,yOe=wm,bOe=$c,xOe=yOe(bOe,"Set"),GJ=xOe,wOe=wm,_Oe=$c,SOe=wOe(_Oe,"WeakMap"),AOe=SOe,bk=fOe,xk=iR,wk=vOe,_k=GJ,Sk=AOe,KJ=nd,zy=eJ,Z$="[object Map]",NOe="[object Object]",eF="[object Promise]",tF="[object Set]",rF="[object WeakMap]",nF="[object DataView]",EOe=zy(bk),jOe=zy(xk),POe=zy(wk),TOe=zy(_k),COe=zy(Sk),Zf=KJ;(bk&&Zf(new bk(new ArrayBuffer(1)))!=nF||xk&&Zf(new xk)!=Z$||wk&&Zf(wk.resolve())!=eF||_k&&Zf(new _k)!=tF||Sk&&Zf(new Sk)!=rF)&&(Zf=function(t){var e=KJ(t),r=e==NOe?t.constructor:void 0,n=r?zy(r):"";if(n)switch(n){case EOe:return nF;case jOe:return Z$;case POe:return eF;case TOe:return tF;case COe:return rF}return e});var kOe=Zf,zj=LJ,IOe=BJ,OOe=u4e,ROe=cOe,iF=kOe,aF=Rs,sF=zJ,DOe=WJ,LOe=1,oF="[object Arguments]",lF="[object Array]",f2="[object Object]",MOe=Object.prototype,cF=MOe.hasOwnProperty;function $Oe(t,e,r,n,i,a){var s=aF(t),o=aF(e),l=s?lF:iF(t),u=o?lF:iF(e);l=l==oF?f2:l,u=u==oF?f2:u;var d=l==f2,h=u==f2,p=l==u;if(p&&sF(t)){if(!sF(e))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new zj),s||DOe(t)?IOe(t,e,r,n,i,a):OOe(t,e,l,r,n,i,a);if(!(r&LOe)){var f=d&&cF.call(t,"__wrapped__"),v=h&&cF.call(e,"__wrapped__");if(f||v){var m=f?t.value():t,g=v?e.value():e;return a||(a=new zj),i(m,g,r,n,a)}}return p?(a||(a=new zj),ROe(t,e,r,n,i,a)):!1}var FOe=$Oe,BOe=FOe,uF=id;function YJ(t,e,r,n,i){return t===e?!0:t==null||e==null||!uF(t)&&!uF(e)?t!==t&&e!==e:BOe(t,e,r,n,YJ,i)}var _R=YJ,UOe=LJ,VOe=_R,zOe=1,qOe=2;function WOe(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var h=new UOe;if(n)var p=n(u,d,l,t,e,h);if(!(p===void 0?VOe(d,u,zOe|qOe,n,h):p))return!1}}return!0}var HOe=WOe,GOe=Sf;function KOe(t){return t===t&&!GOe(t)}var XJ=KOe,YOe=XJ,XOe=bN;function QOe(t){for(var e=XOe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,YOe(i)]}return e}var JOe=QOe;function ZOe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var QJ=ZOe,e3e=HOe,t3e=JOe,r3e=QJ;function n3e(t){var e=t3e(t);return e.length==1&&e[0][2]?r3e(e[0][0],e[0][1]):function(r){return r===t||e3e(r,t,e)}}var i3e=n3e;function a3e(t,e){return t!=null&&e in Object(t)}var s3e=a3e,o3e=aJ,l3e=bR,c3e=Rs,u3e=xR,d3e=wR,h3e=iN;function f3e(t,e,r){e=o3e(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=h3e(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&d3e(i)&&u3e(s,i)&&(c3e(t)||l3e(t)))}var p3e=f3e,m3e=s3e,g3e=p3e;function v3e(t,e){return t!=null&&g3e(t,e,m3e)}var y3e=v3e,b3e=_R,x3e=sJ,w3e=y3e,_3e=tR,S3e=XJ,A3e=QJ,N3e=iN,E3e=1,j3e=2;function P3e(t,e){return _3e(t)&&S3e(e)?A3e(N3e(t),e):function(r){var n=x3e(r,t);return n===void 0&&n===e?w3e(r,t):b3e(e,n,E3e|j3e)}}var T3e=P3e;function C3e(t){return t}var qy=C3e;function k3e(t){return function(e){return e==null?void 0:e[t]}}var I3e=k3e,O3e=lR;function R3e(t){return function(e){return O3e(e,t)}}var D3e=R3e,L3e=I3e,M3e=D3e,$3e=tR,F3e=iN;function B3e(t){return $3e(t)?L3e(F3e(t)):M3e(t)}var U3e=B3e,V3e=i3e,z3e=T3e,q3e=qy,W3e=Rs,H3e=U3e;function G3e(t){return typeof t=="function"?t:t==null?q3e:typeof t=="object"?W3e(t)?z3e(t[0],t[1]):V3e(t):H3e(t)}var Fc=G3e;function K3e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var JJ=K3e;function Y3e(t){return t!==t}var X3e=Y3e;function Q3e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var J3e=Q3e,Z3e=JJ,eRe=X3e,tRe=J3e;function rRe(t,e,r){return e===e?tRe(t,e,r):Z3e(t,eRe,r)}var nRe=rRe,iRe=nRe;function aRe(t,e){var r=t==null?0:t.length;return!!r&&iRe(t,e,0)>-1}var sRe=aRe;function oRe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var lRe=oRe;function cRe(){}var uRe=cRe,qj=GJ,dRe=uRe,hRe=yR,fRe=1/0,pRe=qj&&1/hRe(new qj([,-0]))[1]==fRe?function(t){return new qj(t)}:dRe,mRe=pRe,gRe=MJ,vRe=sRe,yRe=lRe,bRe=FJ,xRe=mRe,wRe=yR,_Re=200;function SRe(t,e,r){var n=-1,i=vRe,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=yRe;else if(a>=_Re){var u=e?null:xRe(t);if(u)return wRe(u);s=!1,i=bRe,l=new gRe}else l=e?[]:o;e:for(;++n<a;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,s&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue e;e&&l.push(h),o.push(d)}else i(l,h,r)||(l!==o&&l.push(h),o.push(d))}return o}var ARe=SRe,NRe=Fc,ERe=ARe;function jRe(t,e){return t&&t.length?ERe(t,NRe(e)):[]}var PRe=jRe;const dF=Qr(PRe);function ZJ(t,e,r){return e===!0?dF(t,r):Zt(e)?dF(t,e):t}function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}var TRe=["ref"];function hF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function au(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(r),!0).forEach(function(n){xN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tZ(n.key),n)}}function kRe(t,e,r){return e&&fF(t.prototype,e),r&&fF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IRe(t,e,r){return e=US(e),ORe(t,eZ()?Reflect.construct(e,r||[],US(t).constructor):e.apply(t,r))}function ORe(t,e){if(e&&(Vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RRe(t)}function RRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eZ=function(){return!!t})()}function US(t){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},US(t)}function DRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ak(t,e)}function Ak(t,e){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ak(t,e)}function xN(t,e,r){return e=tZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tZ(t){var e=LRe(t,"string");return Vv(e)=="symbol"?e:e+""}function LRe(t,e){if(Vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MRe(t,e){if(t==null)return{};var r=$Re(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Re(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FRe(t){return t.value}function BRe(t,e){if(ue.isValidElement(t))return ue.cloneElement(t,e);if(typeof t=="function")return ue.createElement(t,e);e.ref;var r=MRe(e,TRe);return ue.createElement(vR,r)}var pF=1,Yg=function(t){function e(){var r;CRe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=IRe(this,e,[].concat(i)),xN(r,"lastBoundingBox",{width:-1,height:-1}),r}return DRe(e,t),kRe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pF||Math.abs(i.height-this.lastBoundingBox.height)>pF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?au({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,h,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();h={left:((u||0)-f.width)/2}}else h=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();p={top:((d||0)-v.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return au(au({},h),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=au(au({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ue.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){n.wrapperNode=f}},BRe(a,au(au({},this.props),{},{payload:ZJ(d,u,FRe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=au(au({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&tt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(T.PureComponent);xN(Yg,"displayName","Legend");xN(Yg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mF=Qx,URe=bR,VRe=Rs,gF=mF?mF.isConcatSpreadable:void 0;function zRe(t){return VRe(t)||URe(t)||!!(gF&&t&&t[gF])}var qRe=zRe,WRe=UJ,HRe=qRe;function rZ(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=HRe),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?rZ(o,e-1,r,n,i):WRe(i,o):n||(i[i.length]=o)}return i}var nZ=rZ;function GRe(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var KRe=GRe,YRe=KRe,XRe=YRe(),QRe=XRe,JRe=QRe,ZRe=bN;function eDe(t,e){return t&&JRe(t,e,ZRe)}var iZ=eDe,tDe=ew;function rDe(t,e){return function(r,n){if(r==null)return r;if(!tDe(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var nDe=rDe,iDe=iZ,aDe=nDe,sDe=aDe(iDe),SR=sDe,oDe=SR,lDe=ew;function cDe(t,e){var r=-1,n=lDe(t)?Array(t.length):[];return oDe(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var aZ=cDe;function uDe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var dDe=uDe,vF=My;function hDe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=vF(t),s=e!==void 0,o=e===null,l=e===e,u=vF(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var fDe=hDe,pDe=fDe;function mDe(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=pDe(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var gDe=mDe,Wj=oR,vDe=lR,yDe=Fc,bDe=aZ,xDe=dDe,wDe=qJ,_De=gDe,SDe=qy,ADe=Rs;function NDe(t,e,r){e.length?e=Wj(e,function(a){return ADe(a)?function(s){return vDe(s,a.length===1?a[0]:a)}:a}):e=[SDe];var n=-1;e=Wj(e,wDe(yDe));var i=bDe(t,function(a,s,o){var l=Wj(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return xDe(i,function(a,s){return _De(a,s,r)})}var EDe=NDe;function jDe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var PDe=jDe,TDe=PDe,yF=Math.max;function CDe(t,e,r){return e=yF(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=yF(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),TDe(t,this,o)}}var kDe=CDe;function IDe(t){return function(){return t}}var ODe=IDe,RDe=wm,DDe=function(){try{var t=RDe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),sZ=DDe,LDe=ODe,bF=sZ,MDe=qy,$De=bF?function(t,e){return bF(t,"toString",{configurable:!0,enumerable:!1,value:LDe(e),writable:!0})}:MDe,FDe=$De,BDe=800,UDe=16,VDe=Date.now;function zDe(t){var e=0,r=0;return function(){var n=VDe(),i=UDe-(n-r);if(r=n,i>0){if(++e>=BDe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qDe=zDe,WDe=FDe,HDe=qDe,GDe=HDe(WDe),KDe=GDe,YDe=qy,XDe=kDe,QDe=KDe;function JDe(t,e){return QDe(XDe(t,e,YDe),t+"")}var ZDe=JDe,e6e=nR,t6e=ew,r6e=xR,n6e=Sf;function i6e(t,e,r){if(!n6e(r))return!1;var n=typeof e;return(n=="number"?t6e(r)&&r6e(e,r.length):n=="string"&&e in r)?e6e(r[e],t):!1}var wN=i6e,a6e=nZ,s6e=EDe,o6e=ZDe,xF=wN,l6e=o6e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&xF(t,e[0],e[1])?e=[]:r>2&&xF(e[0],e[1],e[2])&&(e=[e[0]]),s6e(t,a6e(e,1),[])}),c6e=l6e;const AR=Qr(c6e);function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function Nk(){return Nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nk.apply(this,arguments)}function u6e(t,e){return p6e(t)||f6e(t,e)||h6e(t,e)||d6e()}function d6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6e(t,e){if(t){if(typeof t=="string")return wF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wF(t,e)}}function wF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function p6e(t){if(Array.isArray(t))return t}function _F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(r),!0).forEach(function(n){m6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m6e(t,e,r){return e=g6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g6e(t){var e=v6e(t,"string");return Eb(e)=="symbol"?e:e+""}function v6e(t,e){if(Eb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Eb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y6e(t){return Array.isArray(t)&&Vi(t[0])&&Vi(t[1])?t.join(" ~ "):t}var b6e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,h=e.formatter,p=e.itemSorter,f=e.wrapperClassName,v=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,_=function(){if(d&&d.length){var O={padding:0,margin:0},L=(p?AR(d,p):d).map(function(z,re){if(z.type==="none")return null;var Y=Hj({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},o),K=z.formatter||h||y6e,q=z.value,Z=z.name,ve=q,ce=Z;if(K&&ve!=null&&ce!=null){var F=K(q,Z,z,re,d);if(Array.isArray(F)){var V=u6e(F,2);ve=V[0],ce=V[1]}else ve=F}return ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:Y},Vi(ce)?ue.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,Vi(ce)?ue.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ue.createElement("span",{className:"recharts-tooltip-item-value"},ve),ue.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return ue.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},A=Hj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=Hj({margin:0},u),I=!vr(m),j=I?m:"",N=pr("recharts-default-tooltip",f),k=pr("recharts-tooltip-label",v);I&&g&&d!==void 0&&d!==null&&(j=g(m,d));var D=x?{role:"status","aria-live":"assertive"}:{};return ue.createElement("div",Nk({className:N,style:A},D),ue.createElement("p",{className:k,style:E},ue.isValidElement(j)?j:"".concat(j)),_())};function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function p2(t,e,r){return e=x6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x6e(t){var e=w6e(t,"string");return jb(e)=="symbol"?e:e+""}function w6e(t,e){if(jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k0="recharts-tooltip-wrapper",_6e={visibility:"hidden"};function S6e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return pr(k0,p2(p2(p2(p2({},"".concat(k0,"-right"),tt(r)&&e&&tt(e.x)&&r>=e.x),"".concat(k0,"-left"),tt(r)&&e&&tt(e.x)&&r<e.x),"".concat(k0,"-bottom"),tt(n)&&e&&tt(e.y)&&n>=e.y),"".concat(k0,"-top"),tt(n)&&e&&tt(e.y)&&n<e.y))}function SF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&tt(a[n]))return a[n];var d=r[n]-o-i,h=r[n]+i;if(e[n])return s[n]?d:h;if(s[n]){var p=d,f=l[n];return p<f?Math.max(h,l[n]):Math.max(d,l[n])}var v=h+o,m=l[n]+u;return v>m?Math.max(d,l[n]):Math.max(h,l[n])}function A6e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function N6e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,h;return s.height>0&&s.width>0&&r?(d=SF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=SF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=A6e({translateX:d,translateY:h,useTranslate3d:o})):u=_6e,{cssProperties:u,cssClasses:S6e({translateX:d,translateY:h,coordinate:r})}}function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function AF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(r),!0).forEach(function(n){jk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lZ(n.key),n)}}function P6e(t,e,r){return e&&j6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T6e(t,e,r){return e=VS(e),C6e(t,oZ()?Reflect.construct(e,r||[],VS(t).constructor):e.apply(t,r))}function C6e(t,e){if(e&&(zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k6e(t)}function k6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oZ=function(){return!!t})()}function VS(t){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},VS(t)}function I6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ek(t,e)}function Ek(t,e){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ek(t,e)}function jk(t,e,r){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZ(t){var e=O6e(t,"string");return zv(e)=="symbol"?e:e+""}function O6e(t,e){if(zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EF=1,R6e=function(t){function e(){var r;E6e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=T6e(this,e,[].concat(i)),jk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jk(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return I6e(e,t),P6e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>EF||Math.abs(n.height-this.state.lastBoundingBox.height)>EF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,f=i.offset,v=i.position,m=i.reverseDirection,g=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,_=N6e({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:f,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),A=_.cssClasses,E=_.cssProperties,I=NF(NF({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},x);return ue.createElement("div",{tabIndex:-1,className:A,style:I,ref:function(N){n.wrapperNode=N}},u)}}])}(T.PureComponent),D6e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ru={isSsr:D6e(),get:function(e){return Ru[e]},set:function(e,r){if(typeof e=="string")Ru[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Ru[i]=e[i]})}}};function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function jF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(r),!0).forEach(function(n){NR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uZ(n.key),n)}}function $6e(t,e,r){return e&&M6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F6e(t,e,r){return e=zS(e),B6e(t,cZ()?Reflect.construct(e,r||[],zS(t).constructor):e.apply(t,r))}function B6e(t,e){if(e&&(qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U6e(t)}function U6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cZ=function(){return!!t})()}function zS(t){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zS(t)}function V6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pk(t,e)}function Pk(t,e){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pk(t,e)}function NR(t,e,r){return e=uZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uZ(t){var e=z6e(t,"string");return qv(e)=="symbol"?e:e+""}function z6e(t,e){if(qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q6e(t){return t.dataKey}function W6e(t,e){return ue.isValidElement(t)?ue.cloneElement(t,e):typeof t=="function"?ue.createElement(t,e):ue.createElement(b6e,e)}var ys=function(t){function e(){return L6e(this,e),F6e(this,e,arguments)}return V6e(e,t),$6e(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,p=i.isAnimationActive,f=i.offset,v=i.payload,m=i.payloadUniqBy,g=i.position,y=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,A=i.wrapperStyle,E=v??[];h&&E.length&&(E=ZJ(v.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),m,q6e));var I=E.length>0;return ue.createElement(R6e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:d,hasPayload:I,offset:f,position:g,reverseDirection:y,useTranslate3d:x,viewBox:_,wrapperStyle:A},W6e(u,PF(PF({},this.props),{},{payload:E})))}}])}(T.PureComponent);NR(ys,"displayName","Tooltip");NR(ys,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ru.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var H6e=$c,G6e=function(){return H6e.Date.now()},K6e=G6e,Y6e=/\s/;function X6e(t){for(var e=t.length;e--&&Y6e.test(t.charAt(e)););return e}var Q6e=X6e,J6e=Q6e,Z6e=/^\s+/;function eLe(t){return t&&t.slice(0,J6e(t)+1).replace(Z6e,"")}var tLe=eLe,rLe=tLe,TF=Sf,nLe=My,CF=NaN,iLe=/^[-+]0x[0-9a-f]+$/i,aLe=/^0b[01]+$/i,sLe=/^0o[0-7]+$/i,oLe=parseInt;function lLe(t){if(typeof t=="number")return t;if(nLe(t))return CF;if(TF(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=TF(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rLe(t);var r=aLe.test(t);return r||sLe.test(t)?oLe(t.slice(2),r?2:8):iLe.test(t)?CF:+t}var dZ=lLe,cLe=Sf,Gj=K6e,kF=dZ,uLe="Expected a function",dLe=Math.max,hLe=Math.min;function fLe(t,e,r){var n,i,a,s,o,l,u=0,d=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(uLe);e=kF(e)||0,cLe(r)&&(d=!!r.leading,h="maxWait"in r,a=h?dLe(kF(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function f(I){var j=n,N=i;return n=i=void 0,u=I,s=t.apply(N,j),s}function v(I){return u=I,o=setTimeout(y,e),d?f(I):s}function m(I){var j=I-l,N=I-u,k=e-j;return h?hLe(k,a-N):k}function g(I){var j=I-l,N=I-u;return l===void 0||j>=e||j<0||h&&N>=a}function y(){var I=Gj();if(g(I))return x(I);o=setTimeout(y,m(I))}function x(I){return o=void 0,p&&n?f(I):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function A(){return o===void 0?s:x(Gj())}function E(){var I=Gj(),j=g(I);if(n=arguments,i=this,l=I,j){if(o===void 0)return v(l);if(h)return clearTimeout(o),o=setTimeout(y,e),f(l)}return o===void 0&&(o=setTimeout(y,e)),s}return E.cancel=_,E.flush=A,E}var pLe=fLe,mLe=pLe,gLe=Sf,vLe="Expected a function";function yLe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(vLe);return gLe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),mLe(t,e,{leading:n,maxWait:e,trailing:i})}var bLe=yLe;const hZ=Qr(bLe);function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function IF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(r),!0).forEach(function(n){xLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xLe(t,e,r){return e=wLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wLe(t){var e=_Le(t,"string");return Pb(e)=="symbol"?e:e+""}function _Le(t,e){if(Pb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SLe(t,e){return jLe(t)||ELe(t,e)||NLe(t,e)||ALe()}function ALe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NLe(t,e){if(t){if(typeof t=="string")return OF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OF(t,e)}}function OF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ELe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function jLe(t){if(Array.isArray(t))return t}var P1=T.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,p=t.maxHeight,f=t.children,v=t.debounce,m=v===void 0?0:v,g=t.id,y=t.className,x=t.onResize,_=t.style,A=_===void 0?{}:_,E=T.useRef(null),I=T.useRef();I.current=x,T.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var j=T.useState({containerWidth:i.width,containerHeight:i.height}),N=SLe(j,2),k=N[0],D=N[1],C=T.useCallback(function(L,z){D(function(re){var Y=Math.round(L),K=Math.round(z);return re.containerWidth===Y&&re.containerHeight===K?re:{containerWidth:Y,containerHeight:K}})},[]);T.useEffect(function(){var L=function(Z){var ve,ce=Z[0].contentRect,F=ce.width,V=ce.height;C(F,V),(ve=I.current)===null||ve===void 0||ve.call(I,F,V)};m>0&&(L=hZ(L,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),re=E.current.getBoundingClientRect(),Y=re.width,K=re.height;return C(Y,K),z.observe(E.current),function(){z.disconnect()}},[C,m]);var O=T.useMemo(function(){var L=k.containerWidth,z=k.containerHeight;if(L<0||z<0)return null;Nl(up(s)||up(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Nl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var re=up(s)?L:s,Y=up(l)?z:l;r&&r>0&&(re?Y=re/r:Y&&(re=Y*r),p&&Y>p&&(Y=p)),Nl(re>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,re,Y,s,l,d,h,r);var K=!Array.isArray(f)&&Ou(f.type).endsWith("Chart");return ue.Children.map(f,function(q){return ue.isValidElement(q)?T.cloneElement(q,m2({width:re,height:Y},K?{style:m2({height:"100%",width:"100%",maxHeight:Y,maxWidth:re},q.props.style)}:{})):q})},[r,f,l,p,h,d,k,s]);return ue.createElement("div",{id:g?"".concat(g):void 0,className:pr("recharts-responsive-container",y),style:m2(m2({},A),{},{width:s,height:l,minWidth:d,minHeight:h,maxHeight:p}),ref:E},O)}),_N=function(e){return null};_N.displayName="Cell";function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){PLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PLe(t,e,r){return e=TLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TLe(t){var e=CLe(t,"string");return Tb(e)=="symbol"?e:e+""}function CLe(t,e){if(Tb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ym={widthCache:{},cacheCount:0},kLe=2e3,ILe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DF="recharts_measurement_span";function OLe(t){var e=Tk({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var T1=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ru.isSsr)return{width:0,height:0};var n=OLe(r),i=JSON.stringify({text:e,copyStyle:n});if(Ym.widthCache[i])return Ym.widthCache[i];try{var a=document.getElementById(DF);a||(a=document.createElement("span"),a.setAttribute("id",DF),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Tk(Tk({},ILe),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Ym.widthCache[i]=l,++Ym.cacheCount>kLe&&(Ym.cacheCount=0,Ym.widthCache={}),l}catch{return{width:0,height:0}}},RLe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function qS(t,e){return $Le(t)||MLe(t,e)||LLe(t,e)||DLe()}function DLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LLe(t,e){if(t){if(typeof t=="string")return LF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LF(t,e)}}function LF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function $Le(t){if(Array.isArray(t))return t}function FLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ULe(n.key),n)}}function BLe(t,e,r){return e&&MF(t.prototype,e),r&&MF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ULe(t){var e=VLe(t,"string");return Cb(e)=="symbol"?e:e+""}function VLe(t,e){if(Cb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $F=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qLe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WLe=Object.keys(fZ),Ag="NaN";function HLe(t,e){return t*fZ[e]}var g2=function(){function t(e,r){FLe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!zLe.test(r)&&(this.num=NaN,this.unit=""),WLe.includes(r)&&(this.num=HLe(e,r),this.unit="px")}return BLe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=qLe.exec(r))!==null&&n!==void 0?n:[],a=qS(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function pZ(t){if(t.includes(Ag))return Ag;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=$F.exec(e))!==null&&r!==void 0?r:[],i=qS(n,4),a=i[1],s=i[2],o=i[3],l=g2.parse(a??""),u=g2.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Ag;e=e.replace($F,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=FF.exec(e))!==null&&h!==void 0?h:[],f=qS(p,4),v=f[1],m=f[2],g=f[3],y=g2.parse(v??""),x=g2.parse(g??""),_=m==="+"?y.add(x):y.subtract(x);if(_.isNaN())return Ag;e=e.replace(FF,_.toString())}return e}var BF=/\(([^()]*)\)/;function GLe(t){for(var e=t;e.includes("(");){var r=BF.exec(e),n=qS(r,2),i=n[1];e=e.replace(BF,pZ(i))}return e}function KLe(t){var e=t.replace(/\s+/g,"");return e=GLe(e),e=pZ(e),e}function YLe(t){try{return KLe(t)}catch{return Ag}}function Kj(t){var e=YLe(t.slice(5,-1));return e===Ag?"":e}var XLe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QLe=["dx","dy","angle","className","breakAll"];function Ck(){return Ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ck.apply(this,arguments)}function UF(t,e){if(t==null)return{};var r=JLe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VF(t,e){return rMe(t)||tMe(t,e)||eMe(t,e)||ZLe()}function ZLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eMe(t,e){if(t){if(typeof t=="string")return zF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zF(t,e)}}function zF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function rMe(t){if(Array.isArray(t))return t}var mZ=/[ \f\n\r\t\v\u2028\u2029]+/,gZ=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];vr(r)||(n?a=r.toString().split(""):a=r.toString().split(mZ));var s=a.map(function(l){return{word:l,width:T1(l,i).width}}),o=n?0:T1(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},nMe=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=tt(s),h=o,p=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re.reduce(function(Y,K){var q=K.word,Z=K.width,ve=Y[Y.length-1];if(ve&&(i==null||a||ve.width+Z+n<Number(i)))ve.words.push(q),ve.width+=Z+n;else{var ce={words:[q],width:Z};Y.push(ce)}return Y},[])},f=p(r),v=function(re){return re.reduce(function(Y,K){return Y.width>K.width?Y:K})};if(!d)return f;for(var m="…",g=function(re){var Y=h.slice(0,re),K=gZ({breakAll:u,style:l,children:Y+m}).wordsWithComputedWidth,q=p(K),Z=q.length>s||v(q).width>Number(i);return[Z,q]},y=0,x=h.length-1,_=0,A;y<=x&&_<=h.length-1;){var E=Math.floor((y+x)/2),I=E-1,j=g(I),N=VF(j,2),k=N[0],D=N[1],C=g(E),O=VF(C,1),L=O[0];if(!k&&!L&&(y=E+1),k&&L&&(x=E-1),!k&&L){A=D;break}_++}return A||f},qF=function(e){var r=vr(e)?[]:e.toString().split(mZ);return[{words:r}]},iMe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Ru.isSsr){var l,u,d=gZ({breakAll:s,children:i,style:a});if(d){var h=d.wordsWithComputedWidth,p=d.spaceWidth;l=h,u=p}else return qF(i);return nMe({breakAll:s,children:i,maxLines:o,style:a},l,u,r,n)}return qF(i)},WF="#808080",am=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,p=e.textAnchor,f=p===void 0?"start":p,v=e.verticalAnchor,m=v===void 0?"end":v,g=e.fill,y=g===void 0?WF:g,x=UF(e,XLe),_=T.useMemo(function(){return iMe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:h,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,h,x.style,x.width]),A=x.dx,E=x.dy,I=x.angle,j=x.className,N=x.breakAll,k=UF(x,QLe);if(!Vi(n)||!Vi(a))return null;var D=n+(tt(A)?A:0),C=a+(tt(E)?E:0),O;switch(m){case"start":O=Kj("calc(".concat(u,")"));break;case"middle":O=Kj("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=Kj("calc(".concat(_.length-1," * -").concat(o,")"));break}var L=[];if(h){var z=_[0].width,re=x.width;L.push("scale(".concat((tt(re)?re/z:1)/z,")"))}return I&&L.push("rotate(".concat(I,", ").concat(D,", ").concat(C,")")),L.length&&(k.transform=L.join(" ")),ue.createElement("text",Ck({},Kt(k,!0),{x:D,y:C,className:pr("recharts-text",j),textAnchor:f,fill:y.includes("url")?WF:y}),_.map(function(Y,K){var q=Y.words.join(N?"":" ");return ue.createElement("tspan",{x:D,dy:K===0?O:o,key:"".concat(q,"-").concat(K)},q)}))};function Lh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ER(t){let e,r,n;t.length!==2?(e=Lh,r=(o,l)=>Lh(t(o),l),n=(o,l)=>t(o)-l):(e=t===Lh||t===aMe?t:sMe,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;r(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;r(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function sMe(){return 0}function vZ(t){return t===null?NaN:+t}function*oMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const lMe=ER(Lh),tw=lMe.right;ER(vZ).center;class HF extends Map{constructor(e,r=dMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(GF(this,e))}has(e){return super.has(GF(this,e))}set(e,r){return super.set(cMe(this,e),r)}delete(e){return super.delete(uMe(this,e))}}function GF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function cMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function uMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function dMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hMe(t=Lh){if(t===Lh)return yZ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function yZ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fMe=Math.sqrt(50),pMe=Math.sqrt(10),mMe=Math.sqrt(2);function WS(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=fMe?10:a>=pMe?5:a>=mMe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?WS(t,e,r*2):[o,l,u]}function kk(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?WS(e,t,r):WS(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Ik(t,e,r){return e=+e,t=+t,r=+r,WS(t,e,r)[2]}function Ok(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Ik(e,t,r):Ik(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function KF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function YF(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bZ(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?yZ:hMe(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),h=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),f=Math.max(r,Math.floor(e-u*h/l+p)),v=Math.min(n,Math.floor(e+(l-u)*h/l+p));bZ(t,e,f,v,i)}const a=t[e];let s=r,o=n;for(I0(t,r,e),i(t[n],a)>0&&I0(t,r,n);s<o;){for(I0(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?I0(t,r,o):(++o,I0(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function I0(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function gMe(t,e,r){if(t=Float64Array.from(oMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return YF(t);if(e>=1)return KF(t);var n,i=(n-1)*e,a=Math.floor(i),s=KF(bZ(t,a).subarray(0,a+1)),o=YF(t.subarray(a+1));return s+(o-s)*(i-a)}}function vMe(t,e,r=vZ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function yMe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function el(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ad(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Rk=Symbol("implicit");function jR(){var t=new HF,e=[],r=[],n=Rk;function i(a){let s=t.get(a);if(s===void 0){if(n!==Rk)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new HF;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jR(e,r).unknown(n)},el.apply(i,arguments),i}function kb(){var t=jR().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function h(){var p=e().length,f=i<n,v=f?i:n,m=f?n:i;a=(m-v)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),v+=(m-v-a*(p-l))*d,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var g=yMe(p).map(function(y){return v+a*y});return r(f?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,h()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),h()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),h()):d},t.copy=function(){return kb(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},el.apply(h(),arguments)}function xZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xZ(e())},t}function C1(){return xZ(kb.apply(null,arguments).paddingInner(1))}function PR(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function wZ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function rw(){}var Ib=.7,HS=1/Ib,Xg="\\s*([+-]?\\d+)\\s*",Ob="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bMe=/^#([0-9a-f]{3,8})$/,xMe=new RegExp(`^rgb\\(${Xg},${Xg},${Xg}\\)$`),wMe=new RegExp(`^rgb\\(${jc},${jc},${jc}\\)$`),_Me=new RegExp(`^rgba\\(${Xg},${Xg},${Xg},${Ob}\\)$`),SMe=new RegExp(`^rgba\\(${jc},${jc},${jc},${Ob}\\)$`),AMe=new RegExp(`^hsl\\(${Ob},${jc},${jc}\\)$`),NMe=new RegExp(`^hsla\\(${Ob},${jc},${jc},${Ob}\\)$`),XF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PR(rw,Rb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:QF,formatHex:QF,formatHex8:EMe,formatHsl:jMe,formatRgb:JF,toString:JF});function QF(){return this.rgb().formatHex()}function EMe(){return this.rgb().formatHex8()}function jMe(){return _Z(this).formatHsl()}function JF(){return this.rgb().formatRgb()}function Rb(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=bMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?ZF(e):r===3?new Ns(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?v2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?v2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xMe.exec(t))?new Ns(e[1],e[2],e[3],1):(e=wMe.exec(t))?new Ns(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_Me.exec(t))?v2(e[1],e[2],e[3],e[4]):(e=SMe.exec(t))?v2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=AMe.exec(t))?r7(e[1],e[2]/100,e[3]/100,1):(e=NMe.exec(t))?r7(e[1],e[2]/100,e[3]/100,e[4]):XF.hasOwnProperty(t)?ZF(XF[t]):t==="transparent"?new Ns(NaN,NaN,NaN,0):null}function ZF(t){return new Ns(t>>16&255,t>>8&255,t&255,1)}function v2(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ns(t,e,r,n)}function PMe(t){return t instanceof rw||(t=Rb(t)),t?(t=t.rgb(),new Ns(t.r,t.g,t.b,t.opacity)):new Ns}function Dk(t,e,r,n){return arguments.length===1?PMe(t):new Ns(t,e,r,n??1)}function Ns(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}PR(Ns,Dk,wZ(rw,{brighter(t){return t=t==null?HS:Math.pow(HS,t),new Ns(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ib:Math.pow(Ib,t),new Ns(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ns(Cp(this.r),Cp(this.g),Cp(this.b),GS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e7,formatHex:e7,formatHex8:TMe,formatRgb:t7,toString:t7}));function e7(){return`#${dp(this.r)}${dp(this.g)}${dp(this.b)}`}function TMe(){return`#${dp(this.r)}${dp(this.g)}${dp(this.b)}${dp((isNaN(this.opacity)?1:this.opacity)*255)}`}function t7(){const t=GS(this.opacity);return`${t===1?"rgb(":"rgba("}${Cp(this.r)}, ${Cp(this.g)}, ${Cp(this.b)}${t===1?")":`, ${t})`}`}function GS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dp(t){return t=Cp(t),(t<16?"0":"")+t.toString(16)}function r7(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new yl(t,e,r,n)}function _Z(t){if(t instanceof yl)return new yl(t.h,t.s,t.l,t.opacity);if(t instanceof rw||(t=Rb(t)),!t)return new yl;if(t instanceof yl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new yl(s,o,l,t.opacity)}function CMe(t,e,r,n){return arguments.length===1?_Z(t):new yl(t,e,r,n??1)}function yl(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}PR(yl,CMe,wZ(rw,{brighter(t){return t=t==null?HS:Math.pow(HS,t),new yl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ib:Math.pow(Ib,t),new yl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ns(Yj(t>=240?t-240:t+120,i,n),Yj(t,i,n),Yj(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new yl(n7(this.h),y2(this.s),y2(this.l),GS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=GS(this.opacity);return`${t===1?"hsl(":"hsla("}${n7(this.h)}, ${y2(this.s)*100}%, ${y2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function n7(t){return t=(t||0)%360,t<0?t+360:t}function y2(t){return Math.max(0,Math.min(1,t||0))}function Yj(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const TR=t=>()=>t;function kMe(t,e){return function(r){return t+r*e}}function IMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function OMe(t){return(t=+t)==1?SZ:function(e,r){return r-e?IMe(e,r,t):TR(isNaN(e)?r:e)}}function SZ(t,e){var r=e-t;return r?kMe(t,r):TR(isNaN(t)?e:t)}const i7=function t(e){var r=OMe(e);function n(i,a){var s=r((i=Dk(i)).r,(a=Dk(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=SZ(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function RMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function DMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function LMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Wy(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function MMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function KS(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function $Me(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Wy(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Lk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xj=new RegExp(Lk.source,"g");function FMe(t){return function(){return t}}function BMe(t){return function(e){return t(e)+""}}function UMe(t,e){var r=Lk.lastIndex=Xj.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Lk.exec(t))&&(i=Xj.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:KS(n,i)})),r=Xj.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?BMe(l[0].x):FMe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function Wy(t,e){var r=typeof e,n;return e==null||r==="boolean"?TR(e):(r==="number"?KS:r==="string"?(n=Rb(e))?(e=n,i7):UMe:e instanceof Rb?i7:e instanceof Date?MMe:DMe(e)?RMe:Array.isArray(e)?LMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$Me:KS)(t,e)}function CR(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function VMe(t,e){e===void 0&&(e=t,t=Wy);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function zMe(t){return function(){return t}}function YS(t){return+t}var a7=[0,1];function ns(t){return t}function Mk(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:zMe(isNaN(e)?NaN:.5)}function qMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function WMe(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Mk(i,n),a=r(s,a)):(n=Mk(n,i),a=r(a,s)),function(o){return a(n(o))}}function HMe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Mk(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=tw(t,o,1,n)-1;return a[l](i[l](o))}}function nw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function SN(){var t=a7,e=a7,r=Wy,n,i,a,s=ns,o,l,u;function d(){var p=Math.min(t.length,e.length);return s!==ns&&(s=qMe(t[0],t[p-1])),o=p>2?HMe:WMe,l=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return h.invert=function(p){return s(i((u||(u=o(e,t.map(n),KS)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,YS),d()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=CR,d()},h.clamp=function(p){return arguments.length?(s=p?!0:ns,d()):s!==ns},h.interpolate=function(p){return arguments.length?(r=p,d()):r},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,f){return n=p,i=f,d()}}function kR(){return SN()(ns,ns)}function GMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function XS(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Wv(t){return t=XS(Math.abs(t)),t?t[1]:NaN}function KMe(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function YMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var XMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Db(t){if(!(e=XMe.exec(t)))throw new Error("invalid format: "+t);var e;return new IR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Db.prototype=IR.prototype;function IR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QMe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var AZ;function JMe(t,e){var r=XS(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(AZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+XS(t,Math.max(0,e+a-1))[0]}function s7(t,e){var r=XS(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const o7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>s7(t*100,e),r:s7,s:JMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function l7(t){return t}var c7=Array.prototype.map,u7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ZMe(t){var e=t.grouping===void 0||t.thousands===void 0?l7:KMe(c7.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?l7:YMe(c7.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Db(h);var p=h.fill,f=h.align,v=h.sign,m=h.symbol,g=h.zero,y=h.width,x=h.comma,_=h.precision,A=h.trim,E=h.type;E==="n"?(x=!0,E="g"):o7[E]||(_===void 0&&(_=12),A=!0,E="g"),(g||p==="0"&&f==="=")&&(g=!0,p="0",f="=");var I=m==="$"?r:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",j=m==="$"?n:/[%p]/.test(E)?s:"",N=o7[E],k=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(C){var O=I,L=j,z,re,Y;if(E==="c")L=N(C)+L,C="";else{C=+C;var K=C<0||1/C<0;if(C=isNaN(C)?l:N(Math.abs(C),_),A&&(C=QMe(C)),K&&+C==0&&v!=="+"&&(K=!1),O=(K?v==="("?v:o:v==="-"||v==="("?"":v)+O,L=(E==="s"?u7[8+AZ/3]:"")+L+(K&&v==="("?")":""),k){for(z=-1,re=C.length;++z<re;)if(Y=C.charCodeAt(z),48>Y||Y>57){L=(Y===46?i+C.slice(z+1):C.slice(z))+L,C=C.slice(0,z);break}}}x&&!g&&(C=e(C,1/0));var q=O.length+C.length+L.length,Z=q<y?new Array(y-q+1).join(p):"";switch(x&&g&&(C=e(Z+C,Z.length?y-L.length:1/0),Z=""),f){case"<":C=O+C+L+Z;break;case"=":C=O+Z+C+L;break;case"^":C=Z.slice(0,q=Z.length>>1)+O+C+L+Z.slice(q);break;default:C=Z+O+C+L;break}return a(C)}return D.toString=function(){return h+""},D}function d(h,p){var f=u((h=Db(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Wv(p)/3)))*3,m=Math.pow(10,-v),g=u7[8+v/3];return function(y){return f(m*y)+g}}return{format:u,formatPrefix:d}}var b2,OR,NZ;e8e({thousands:",",grouping:[3],currency:["$",""]});function e8e(t){return b2=ZMe(t),OR=b2.format,NZ=b2.formatPrefix,b2}function t8e(t){return Math.max(0,-Wv(Math.abs(t)))}function r8e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wv(e)/3)))*3-Wv(Math.abs(t)))}function n8e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wv(e)-Wv(t))+1}function EZ(t,e,r,n){var i=Ok(t,e,r),a;switch(n=Db(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=r8e(i,s))&&(n.precision=a),NZ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=n8e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=t8e(i))&&(n.precision=a-(n.type==="%")*2);break}}return OR(n)}function Af(t){var e=t.domain;return t.ticks=function(r){var n=e();return kk(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return EZ(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Ik(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function QS(){var t=kR();return t.copy=function(){return nw(t,QS())},el.apply(t,arguments),Af(t)}function jZ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,YS),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return jZ(t).unknown(e)},t=arguments.length?Array.from(t,YS):[0,1],Af(r)}function PZ(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function d7(t){return Math.log(t)}function h7(t){return Math.exp(t)}function i8e(t){return-Math.log(-t)}function a8e(t){return-Math.exp(-t)}function s8e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function o8e(t){return t===10?s8e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function l8e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function f7(t){return(e,r)=>-t(-e,r)}function RR(t){const e=t(d7,h7),r=e.domain;let n=10,i,a;function s(){return i=l8e(n),a=o8e(n),r()[0]<0?(i=f7(i),a=f7(a),t(i8e,a8e)):t(d7,h7),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let p=i(u),f=i(d),v,m;const g=o==null?10:+o;let y=[];if(!(n%1)&&f-p<g){if(p=Math.floor(p),f=Math.ceil(f),u>0){for(;p<=f;++p)for(v=1;v<n;++v)if(m=p<0?v/a(-p):v*a(p),!(m<u)){if(m>d)break;y.push(m)}}else for(;p<=f;++p)for(v=n-1;v>=1;--v)if(m=p>0?v/a(-p):v*a(p),!(m<u)){if(m>d)break;y.push(m)}y.length*2<g&&(y=kk(u,d,g))}else y=kk(p,f,Math.min(f-p,g)).map(a);return h?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Db(l)).precision==null&&(l.trim=!0),l=OR(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?l(d):""}},e.nice=()=>r(PZ(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function TZ(){const t=RR(SN()).domain([1,10]);return t.copy=()=>nw(t,TZ()).base(t.base()),el.apply(t,arguments),t}function p7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function m7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function DR(t){var e=1,r=t(p7(e),m7(e));return r.constant=function(n){return arguments.length?t(p7(e=+n),m7(e)):e},Af(r)}function CZ(){var t=DR(SN());return t.copy=function(){return nw(t,CZ()).constant(t.constant())},el.apply(t,arguments)}function g7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function c8e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function u8e(t){return t<0?-t*t:t*t}function LR(t){var e=t(ns,ns),r=1;function n(){return r===1?t(ns,ns):r===.5?t(c8e,u8e):t(g7(r),g7(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Af(e)}function MR(){var t=LR(SN());return t.copy=function(){return nw(t,MR()).exponent(t.exponent())},el.apply(t,arguments),t}function d8e(){return MR.apply(null,arguments).exponent(.5)}function v7(t){return Math.sign(t)*t*t}function h8e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kZ(){var t=kR(),e=[0,1],r=!1,n;function i(a){var s=h8e(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(v7(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,YS)).map(v7)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kZ(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},el.apply(i,arguments),Af(i)}function IZ(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=vMe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[tw(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Lh),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return IZ().domain(t).range(e).unknown(n)},el.apply(a,arguments)}function OZ(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[tw(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return OZ().domain([t,e]).range(i).unknown(a)},el.apply(Af(s),arguments)}function RZ(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[tw(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return RZ().domain(t).range(e).unknown(r)},el.apply(i,arguments)}const Qj=new Date,Jj=new Date;function Hi(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Hi(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Qj.setTime(+a),Jj.setTime(+s),t(Qj),t(Jj),Math.floor(r(Qj,Jj))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const JS=Hi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);JS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Hi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):JS);JS.range;const Au=1e3,zo=Au*60,Nu=zo*60,Gu=Nu*24,$R=Gu*7,y7=Gu*30,Zj=Gu*365,hp=Hi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Au)},(t,e)=>(e-t)/Au,t=>t.getUTCSeconds());hp.range;const FR=Hi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Au)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getMinutes());FR.range;const BR=Hi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCMinutes());BR.range;const UR=Hi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Au-t.getMinutes()*zo)},(t,e)=>{t.setTime(+t+e*Nu)},(t,e)=>(e-t)/Nu,t=>t.getHours());UR.range;const VR=Hi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nu)},(t,e)=>(e-t)/Nu,t=>t.getUTCHours());VR.range;const iw=Hi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zo)/Gu,t=>t.getDate()-1);iw.range;const AN=Hi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gu,t=>t.getUTCDate()-1);AN.range;const DZ=Hi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gu,t=>Math.floor(t/Gu));DZ.range;function _m(t){return Hi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*zo)/$R)}const NN=_m(0),ZS=_m(1),f8e=_m(2),p8e=_m(3),Hv=_m(4),m8e=_m(5),g8e=_m(6);NN.range;ZS.range;f8e.range;p8e.range;Hv.range;m8e.range;g8e.range;function Sm(t){return Hi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/$R)}const EN=Sm(0),e5=Sm(1),v8e=Sm(2),y8e=Sm(3),Gv=Sm(4),b8e=Sm(5),x8e=Sm(6);EN.range;e5.range;v8e.range;y8e.range;Gv.range;b8e.range;x8e.range;const zR=Hi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zR.range;const qR=Hi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qR.range;const Ku=Hi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ku.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ku.range;const Yu=Hi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Yu.range;function LZ(t,e,r,n,i,a){const s=[[hp,1,Au],[hp,5,5*Au],[hp,15,15*Au],[hp,30,30*Au],[a,1,zo],[a,5,5*zo],[a,15,15*zo],[a,30,30*zo],[i,1,Nu],[i,3,3*Nu],[i,6,6*Nu],[i,12,12*Nu],[n,1,Gu],[n,2,2*Gu],[r,1,$R],[e,1,y7],[e,3,3*y7],[t,1,Zj]];function o(u,d,h){const p=d<u;p&&([u,d]=[d,u]);const f=h&&typeof h.range=="function"?h:l(u,d,h),v=f?f.range(u,+d+1):[];return p?v.reverse():v}function l(u,d,h){const p=Math.abs(d-u)/h,f=ER(([,,g])=>g).right(s,p);if(f===s.length)return t.every(Ok(u/Zj,d/Zj,h));if(f===0)return JS.every(Math.max(Ok(u,d,h),1));const[v,m]=s[p/s[f-1][2]<s[f][2]/p?f-1:f];return v.every(m)}return[o,l]}const[w8e,_8e]=LZ(Yu,qR,EN,DZ,VR,BR),[S8e,A8e]=LZ(Ku,zR,NN,iw,UR,FR);function eP(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tP(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function O0(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function N8e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=R0(i),d=D0(i),h=R0(a),p=D0(a),f=R0(s),v=D0(s),m=R0(o),g=D0(o),y=R0(l),x=D0(l),_={a:K,A:q,b:Z,B:ve,c:null,d:A7,e:A7,f:K8e,g:i$e,G:s$e,H:W8e,I:H8e,j:G8e,L:MZ,m:Y8e,M:X8e,p:ce,q:F,Q:j7,s:P7,S:Q8e,u:J8e,U:Z8e,V:e$e,w:t$e,W:r$e,x:null,X:null,y:n$e,Y:a$e,Z:o$e,"%":E7},A={a:V,A:G,b:oe,B:J,c:null,d:N7,e:N7,f:d$e,g:w$e,G:S$e,H:l$e,I:c$e,j:u$e,L:FZ,m:h$e,M:f$e,p:ie,q:be,Q:j7,s:P7,S:p$e,u:m$e,U:g$e,V:v$e,w:y$e,W:b$e,x:null,X:null,y:x$e,Y:_$e,Z:A$e,"%":E7},E={a:D,A:C,b:O,B:L,c:z,d:_7,e:_7,f:U8e,g:w7,G:x7,H:S7,I:S7,j:M8e,L:B8e,m:L8e,M:$8e,p:k,q:D8e,Q:z8e,s:q8e,S:F8e,u:C8e,U:k8e,V:I8e,w:T8e,W:O8e,x:re,X:Y,y:w7,Y:x7,Z:R8e,"%":V8e};_.x=I(r,_),_.X=I(n,_),_.c=I(e,_),A.x=I(r,A),A.X=I(n,A),A.c=I(e,A);function I(he,P){return function(X){var ne=[],de=-1,ge=0,ee=he.length,Ae,De,Le;for(X instanceof Date||(X=new Date(+X));++de<ee;)he.charCodeAt(de)===37&&(ne.push(he.slice(ge,de)),(De=b7[Ae=he.charAt(++de)])!=null?Ae=he.charAt(++de):De=Ae==="e"?" ":"0",(Le=P[Ae])&&(Ae=Le(X,De)),ne.push(Ae),ge=de+1);return ne.push(he.slice(ge,de)),ne.join("")}}function j(he,P){return function(X){var ne=O0(1900,void 0,1),de=N(ne,he,X+="",0),ge,ee;if(de!=X.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(P&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(ge=tP(O0(ne.y,0,1)),ee=ge.getUTCDay(),ge=ee>4||ee===0?e5.ceil(ge):e5(ge),ge=AN.offset(ge,(ne.V-1)*7),ne.y=ge.getUTCFullYear(),ne.m=ge.getUTCMonth(),ne.d=ge.getUTCDate()+(ne.w+6)%7):(ge=eP(O0(ne.y,0,1)),ee=ge.getDay(),ge=ee>4||ee===0?ZS.ceil(ge):ZS(ge),ge=iw.offset(ge,(ne.V-1)*7),ne.y=ge.getFullYear(),ne.m=ge.getMonth(),ne.d=ge.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),ee="Z"in ne?tP(O0(ne.y,0,1)).getUTCDay():eP(O0(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(ee+5)%7:ne.w+ne.U*7-(ee+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,tP(ne)):eP(ne)}}function N(he,P,X,ne){for(var de=0,ge=P.length,ee=X.length,Ae,De;de<ge;){if(ne>=ee)return-1;if(Ae=P.charCodeAt(de++),Ae===37){if(Ae=P.charAt(de++),De=E[Ae in b7?P.charAt(de++):Ae],!De||(ne=De(he,X,ne))<0)return-1}else if(Ae!=X.charCodeAt(ne++))return-1}return ne}function k(he,P,X){var ne=u.exec(P.slice(X));return ne?(he.p=d.get(ne[0].toLowerCase()),X+ne[0].length):-1}function D(he,P,X){var ne=f.exec(P.slice(X));return ne?(he.w=v.get(ne[0].toLowerCase()),X+ne[0].length):-1}function C(he,P,X){var ne=h.exec(P.slice(X));return ne?(he.w=p.get(ne[0].toLowerCase()),X+ne[0].length):-1}function O(he,P,X){var ne=y.exec(P.slice(X));return ne?(he.m=x.get(ne[0].toLowerCase()),X+ne[0].length):-1}function L(he,P,X){var ne=m.exec(P.slice(X));return ne?(he.m=g.get(ne[0].toLowerCase()),X+ne[0].length):-1}function z(he,P,X){return N(he,e,P,X)}function re(he,P,X){return N(he,r,P,X)}function Y(he,P,X){return N(he,n,P,X)}function K(he){return s[he.getDay()]}function q(he){return a[he.getDay()]}function Z(he){return l[he.getMonth()]}function ve(he){return o[he.getMonth()]}function ce(he){return i[+(he.getHours()>=12)]}function F(he){return 1+~~(he.getMonth()/3)}function V(he){return s[he.getUTCDay()]}function G(he){return a[he.getUTCDay()]}function oe(he){return l[he.getUTCMonth()]}function J(he){return o[he.getUTCMonth()]}function ie(he){return i[+(he.getUTCHours()>=12)]}function be(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var P=I(he+="",_);return P.toString=function(){return he},P},parse:function(he){var P=j(he+="",!1);return P.toString=function(){return he},P},utcFormat:function(he){var P=I(he+="",A);return P.toString=function(){return he},P},utcParse:function(he){var P=j(he+="",!0);return P.toString=function(){return he},P}}}var b7={"-":"",_:" ",0:"0"},na=/^\s*\d+/,E8e=/^%/,j8e=/[\\^$*+?|[\]().{}]/g;function zr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function P8e(t){return t.replace(j8e,"\\$&")}function R0(t){return new RegExp("^(?:"+t.map(P8e).join("|")+")","i")}function D0(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function T8e(t,e,r){var n=na.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function C8e(t,e,r){var n=na.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function k8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function I8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function O8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function x7(t,e,r){var n=na.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function w7(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function R8e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function D8e(t,e,r){var n=na.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function L8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function _7(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function M8e(t,e,r){var n=na.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function S7(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function $8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function F8e(t,e,r){var n=na.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function B8e(t,e,r){var n=na.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function U8e(t,e,r){var n=na.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function V8e(t,e,r){var n=E8e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function z8e(t,e,r){var n=na.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function q8e(t,e,r){var n=na.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function A7(t,e){return zr(t.getDate(),e,2)}function W8e(t,e){return zr(t.getHours(),e,2)}function H8e(t,e){return zr(t.getHours()%12||12,e,2)}function G8e(t,e){return zr(1+iw.count(Ku(t),t),e,3)}function MZ(t,e){return zr(t.getMilliseconds(),e,3)}function K8e(t,e){return MZ(t,e)+"000"}function Y8e(t,e){return zr(t.getMonth()+1,e,2)}function X8e(t,e){return zr(t.getMinutes(),e,2)}function Q8e(t,e){return zr(t.getSeconds(),e,2)}function J8e(t){var e=t.getDay();return e===0?7:e}function Z8e(t,e){return zr(NN.count(Ku(t)-1,t),e,2)}function $Z(t){var e=t.getDay();return e>=4||e===0?Hv(t):Hv.ceil(t)}function e$e(t,e){return t=$Z(t),zr(Hv.count(Ku(t),t)+(Ku(t).getDay()===4),e,2)}function t$e(t){return t.getDay()}function r$e(t,e){return zr(ZS.count(Ku(t)-1,t),e,2)}function n$e(t,e){return zr(t.getFullYear()%100,e,2)}function i$e(t,e){return t=$Z(t),zr(t.getFullYear()%100,e,2)}function a$e(t,e){return zr(t.getFullYear()%1e4,e,4)}function s$e(t,e){var r=t.getDay();return t=r>=4||r===0?Hv(t):Hv.ceil(t),zr(t.getFullYear()%1e4,e,4)}function o$e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zr(e/60|0,"0",2)+zr(e%60,"0",2)}function N7(t,e){return zr(t.getUTCDate(),e,2)}function l$e(t,e){return zr(t.getUTCHours(),e,2)}function c$e(t,e){return zr(t.getUTCHours()%12||12,e,2)}function u$e(t,e){return zr(1+AN.count(Yu(t),t),e,3)}function FZ(t,e){return zr(t.getUTCMilliseconds(),e,3)}function d$e(t,e){return FZ(t,e)+"000"}function h$e(t,e){return zr(t.getUTCMonth()+1,e,2)}function f$e(t,e){return zr(t.getUTCMinutes(),e,2)}function p$e(t,e){return zr(t.getUTCSeconds(),e,2)}function m$e(t){var e=t.getUTCDay();return e===0?7:e}function g$e(t,e){return zr(EN.count(Yu(t)-1,t),e,2)}function BZ(t){var e=t.getUTCDay();return e>=4||e===0?Gv(t):Gv.ceil(t)}function v$e(t,e){return t=BZ(t),zr(Gv.count(Yu(t),t)+(Yu(t).getUTCDay()===4),e,2)}function y$e(t){return t.getUTCDay()}function b$e(t,e){return zr(e5.count(Yu(t)-1,t),e,2)}function x$e(t,e){return zr(t.getUTCFullYear()%100,e,2)}function w$e(t,e){return t=BZ(t),zr(t.getUTCFullYear()%100,e,2)}function _$e(t,e){return zr(t.getUTCFullYear()%1e4,e,4)}function S$e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Gv(t):Gv.ceil(t),zr(t.getUTCFullYear()%1e4,e,4)}function A$e(){return"+0000"}function E7(){return"%"}function j7(t){return+t}function P7(t){return Math.floor(+t/1e3)}var Xm,UZ,VZ;N$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function N$e(t){return Xm=N8e(t),UZ=Xm.format,Xm.parse,VZ=Xm.utcFormat,Xm.utcParse,Xm}function E$e(t){return new Date(t)}function j$e(t){return t instanceof Date?+t:+new Date(+t)}function WR(t,e,r,n,i,a,s,o,l,u){var d=kR(),h=d.invert,p=d.domain,f=u(".%L"),v=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),x=u("%b %d"),_=u("%B"),A=u("%Y");function E(I){return(l(I)<I?f:o(I)<I?v:s(I)<I?m:a(I)<I?g:n(I)<I?i(I)<I?y:x:r(I)<I?_:A)(I)}return d.invert=function(I){return new Date(h(I))},d.domain=function(I){return arguments.length?p(Array.from(I,j$e)):p().map(E$e)},d.ticks=function(I){var j=p();return t(j[0],j[j.length-1],I??10)},d.tickFormat=function(I,j){return j==null?E:u(j)},d.nice=function(I){var j=p();return(!I||typeof I.range!="function")&&(I=e(j[0],j[j.length-1],I??10)),I?p(PZ(j,I)):d},d.copy=function(){return nw(d,WR(t,e,r,n,i,a,s,o,l,u))},d}function P$e(){return el.apply(WR(S8e,A8e,Ku,zR,NN,iw,UR,FR,hp,UZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T$e(){return el.apply(WR(w8e,_8e,Yu,qR,EN,AN,VR,BR,hp,VZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jN(){var t=0,e=1,r,n,i,a,s=ns,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(p){var f,v;return arguments.length?([f,v]=p,s=h(f,v),u):[s(0),s(1)]}}return u.range=d(Wy),u.rangeRound=d(CR),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function Nf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zZ(){var t=Af(jN()(ns));return t.copy=function(){return Nf(t,zZ())},ad.apply(t,arguments)}function qZ(){var t=RR(jN()).domain([1,10]);return t.copy=function(){return Nf(t,qZ()).base(t.base())},ad.apply(t,arguments)}function WZ(){var t=DR(jN());return t.copy=function(){return Nf(t,WZ()).constant(t.constant())},ad.apply(t,arguments)}function HR(){var t=LR(jN());return t.copy=function(){return Nf(t,HR()).exponent(t.exponent())},ad.apply(t,arguments)}function C$e(){return HR.apply(null,arguments).exponent(.5)}function HZ(){var t=[],e=ns;function r(n){if(n!=null&&!isNaN(n=+n))return e((tw(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Lh),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>gMe(t,a/n))},r.copy=function(){return HZ(e).domain(t)},ad.apply(r,arguments)}function PN(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,u=ns,d,h=!1,p;function f(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-a)*(n*m<n*a?o:l),u(h?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e,r]=m,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,f):[t,e,r]},f.clamp=function(m){return arguments.length?(h=!!m,f):h},f.interpolator=function(m){return arguments.length?(u=m,f):u};function v(m){return function(g){var y,x,_;return arguments.length?([y,x,_]=g,u=VMe(m,[y,x,_]),f):[u(0),u(.5),u(1)]}}return f.range=v(Wy),f.rangeRound=v(CR),f.unknown=function(m){return arguments.length?(p=m,f):p},function(m){return d=m,i=m(t),a=m(e),s=m(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,f}}function GZ(){var t=Af(PN()(ns));return t.copy=function(){return Nf(t,GZ())},ad.apply(t,arguments)}function KZ(){var t=RR(PN()).domain([.1,1,10]);return t.copy=function(){return Nf(t,KZ()).base(t.base())},ad.apply(t,arguments)}function YZ(){var t=DR(PN());return t.copy=function(){return Nf(t,YZ()).constant(t.constant())},ad.apply(t,arguments)}function GR(){var t=LR(PN());return t.copy=function(){return Nf(t,GR()).exponent(t.exponent())},ad.apply(t,arguments)}function k$e(){return GR.apply(null,arguments).exponent(.5)}const T7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kb,scaleDiverging:GZ,scaleDivergingLog:KZ,scaleDivergingPow:GR,scaleDivergingSqrt:k$e,scaleDivergingSymlog:YZ,scaleIdentity:jZ,scaleImplicit:Rk,scaleLinear:QS,scaleLog:TZ,scaleOrdinal:jR,scalePoint:C1,scalePow:MR,scaleQuantile:IZ,scaleQuantize:OZ,scaleRadial:kZ,scaleSequential:zZ,scaleSequentialLog:qZ,scaleSequentialPow:HR,scaleSequentialQuantile:HZ,scaleSequentialSqrt:C$e,scaleSequentialSymlog:WZ,scaleSqrt:d8e,scaleSymlog:CZ,scaleThreshold:RZ,scaleTime:P$e,scaleUtc:T$e,tickFormat:EZ},Symbol.toStringTag,{value:"Module"}));var I$e=My;function O$e(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!I$e(s):r(s,o)))var o=s,l=a}return l}var TN=O$e;function R$e(t,e){return t>e}var XZ=R$e,D$e=TN,L$e=XZ,M$e=qy;function $$e(t){return t&&t.length?D$e(t,M$e,L$e):void 0}var F$e=$$e;const CN=Qr(F$e);function B$e(t,e){return t<e}var QZ=B$e,U$e=TN,V$e=QZ,z$e=qy;function q$e(t){return t&&t.length?U$e(t,z$e,V$e):void 0}var W$e=q$e;const kN=Qr(W$e);var H$e=oR,G$e=Fc,K$e=aZ,Y$e=Rs;function X$e(t,e){var r=Y$e(t)?H$e:K$e;return r(t,G$e(e))}var Q$e=X$e,J$e=nZ,Z$e=Q$e;function eFe(t,e){return J$e(Z$e(t,e),1)}var tFe=eFe;const rFe=Qr(tFe);var nFe=_R;function iFe(t,e){return nFe(t,e)}var aFe=iFe;const IN=Qr(aFe);var Hy=1e9,sFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},YR,Xn=!0,Qo="[DecimalError] ",kp=Qo+"Invalid argument: ",KR=Qo+"Exponent out of range: ",Gy=Math.floor,ep=Math.pow,oFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,eo,Xi=1e7,Un=7,JZ=9007199254740991,t5=Gy(JZ/Un),mt={};mt.absoluteValue=mt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};mt.comparedTo=mt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Un;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};mt.dividedBy=mt.div=function(t){return Du(this,new this.constructor(t))};mt.dividedToIntegerBy=mt.idiv=function(t){var e=this,r=e.constructor;return _n(Du(e,new r(t),0,1),r.precision)};mt.equals=mt.eq=function(t){return!this.cmp(t)};mt.exponent=function(){return Ci(this)};mt.greaterThan=mt.gt=function(t){return this.cmp(t)>0};mt.greaterThanOrEqualTo=mt.gte=function(t){return this.cmp(t)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(t){return this.cmp(t)<0};mt.lessThanOrEqualTo=mt.lte=function(t){return this.cmp(t)<1};mt.logarithm=mt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(eo))throw Error(Qo+"NaN");if(r.s<1)throw Error(Qo+(r.s?"NaN":"-Infinity"));return r.eq(eo)?new n(0):(Xn=!1,e=Du(Lb(r,a),Lb(t,a),a),Xn=!0,_n(e,i))};mt.minus=mt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tee(e,t):ZZ(e,(t.s=-t.s,t))};mt.modulo=mt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Qo+"NaN");return r.s?(Xn=!1,e=Du(r,t,0,1).times(t),Xn=!0,r.minus(e)):_n(new n(r),i)};mt.naturalExponential=mt.exp=function(){return eee(this)};mt.naturalLogarithm=mt.ln=function(){return Lb(this)};mt.negated=mt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};mt.plus=mt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZZ(e,t):tee(e,(t.s=-t.s,t))};mt.precision=mt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kp+t);if(e=Ci(i)+1,n=i.d.length-1,r=n*Un+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};mt.squareRoot=mt.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Qo+"NaN")}for(t=Ci(o),Xn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=gc(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Gy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Du(o,a,s+2)).times(.5),gc(a.d).slice(0,s)===(e=gc(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(_n(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Xn=!0,_n(n,r)};mt.times=mt.mul=function(t){var e,r,n,i,a,s,o,l,u,d=this,h=d.constructor,p=d.d,f=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,l=p.length,u=f.length,l<u&&(a=p,p=f,f=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+f[n]*p[i-n-1]+e,a[i--]=o%Xi|0,e=o/Xi|0;a[i]=(a[i]+e)%Xi|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Xn?_n(t,h.precision):t};mt.toDecimalPlaces=mt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Rc(t,0,Hy),e===void 0?e=n.rounding:Rc(e,0,8),_n(r,t+Ci(r)+1,e))};mt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=sm(n,!0):(Rc(t,0,Hy),e===void 0?e=i.rounding:Rc(e,0,8),n=_n(new i(n),t+1,e),r=sm(n,!0,t+1)),r};mt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?sm(i):(Rc(t,0,Hy),e===void 0?e=a.rounding:Rc(e,0,8),n=_n(new a(i),t+Ci(i)+1,e),r=sm(n.abs(),!1,t+Ci(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};mt.toInteger=mt.toint=function(){var t=this,e=t.constructor;return _n(new e(t),Ci(t)+1,e.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(eo);if(o=new l(o),!o.s){if(t.s<1)throw Error(Qo+"Infinity");return o}if(o.eq(eo))return o;if(n=l.precision,t.eq(eo))return _n(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=JZ){for(i=new l(eo),e=Math.ceil(n/Un+4),Xn=!1;r%2&&(i=i.times(o),k7(i.d,e)),r=Gy(r/2),r!==0;)o=o.times(o),k7(o.d,e);return Xn=!0,t.s<0?new l(eo).div(i):_n(i,n)}}else if(a<0)throw Error(Qo+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Xn=!1,i=t.times(Lb(o,n+u)),Xn=!0,i=eee(i),i.s=a,i};mt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ci(i),n=sm(i,r<=a.toExpNeg||r>=a.toExpPos)):(Rc(t,1,Hy),e===void 0?e=a.rounding:Rc(e,0,8),i=_n(new a(i),t,e),r=Ci(i),n=sm(i,t<=r||r<=a.toExpNeg,t)),n};mt.toSignificantDigits=mt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Rc(t,1,Hy),e===void 0?e=n.rounding:Rc(e,0,8)),_n(new n(r),t,e)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ci(t),r=t.constructor;return sm(t,e<=r.toExpNeg||e>=r.toExpPos)};function ZZ(t,e){var r,n,i,a,s,o,l,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Xn?_n(e,h):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(h/Un),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Xi|0,l[a]%=Xi;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Xn?_n(e,h):e}function Rc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(kp+t)}function gc(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Un-n.length,r&&(a+=Wd(r)),a+=n;s=t[e],n=s+"",r=Un-n.length,r&&(a+=Wd(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Du=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Xi|0,s=a/Xi|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Xi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,h,p,f,v,m,g,y,x,_,A,E,I,j,N,k=n.constructor,D=n.s==i.s?1:-1,C=n.d,O=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(Qo+"Division by zero");for(l=n.e-i.e,j=O.length,E=C.length,f=new k(D),v=f.d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--l,a==null?x=a=k.precision:s?x=a+(Ci(n)-Ci(i))+1:x=a,x<0)return new k(0);if(x=x/Un+2|0,u=0,j==1)for(d=0,O=O[0],x++;(u<E||d)&&x--;u++)_=d*Xi+(C[u]||0),v[u]=_/O|0,d=_%O|0;else{for(d=Xi/(O[0]+1)|0,d>1&&(O=t(O,d),C=t(C,d),j=O.length,E=C.length),A=j,m=C.slice(0,j),g=m.length;g<j;)m[g++]=0;N=O.slice(),N.unshift(0),I=O[0],O[1]>=Xi/2&&++I;do d=0,o=e(O,m,j,g),o<0?(y=m[0],j!=g&&(y=y*Xi+(m[1]||0)),d=y/I|0,d>1?(d>=Xi&&(d=Xi-1),h=t(O,d),p=h.length,g=m.length,o=e(h,m,p,g),o==1&&(d--,r(h,j<p?N:O,p))):(d==0&&(o=d=1),h=O.slice()),p=h.length,p<g&&h.unshift(0),r(m,h,g),o==-1&&(g=m.length,o=e(O,m,j,g),o<1&&(d++,r(m,j<g?N:O,g))),g=m.length):o===0&&(d++,m=[0]),v[u++]=d,o&&m[0]?m[g++]=C[A]||0:(m=[C[A]],g=1);while((A++<E||m[0]!==void 0)&&x--)}return v[0]||v.shift(),f.e=l,_n(f,s?a+Ci(f)+1:a)}}();function eee(t,e){var r,n,i,a,s,o,l=0,u=0,d=t.constructor,h=d.precision;if(Ci(t)>16)throw Error(KR+Ci(t));if(!t.s)return new d(eo);for(e==null?(Xn=!1,o=h):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(ep(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(eo),d.precision=o;;){if(i=_n(i.times(t),o),r=r.times(++l),s=a.plus(Du(i,r,o)),gc(s.d).slice(0,o)===gc(a.d).slice(0,o)){for(;u--;)a=_n(a.times(a),o);return d.precision=h,e==null?(Xn=!0,_n(a,h)):a}a=s}}function Ci(t){for(var e=t.e*Un,r=t.d[0];r>=10;r/=10)e++;return e}function rP(t,e,r){if(e>t.LN10.sd())throw Xn=!0,r&&(t.precision=r),Error(Qo+"LN10 precision limit exceeded");return _n(new t(t.LN10),e)}function Wd(t){for(var e="";t--;)e+="0";return e}function Lb(t,e){var r,n,i,a,s,o,l,u,d,h=1,p=10,f=t,v=f.d,m=f.constructor,g=m.precision;if(f.s<1)throw Error(Qo+(f.s?"NaN":"-Infinity"));if(f.eq(eo))return new m(0);if(e==null?(Xn=!1,u=g):u=e,f.eq(10))return e==null&&(Xn=!0),rP(m,u);if(u+=p,m.precision=u,r=gc(v),n=r.charAt(0),a=Ci(f),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=gc(f.d),n=r.charAt(0),h++;a=Ci(f),n>1?(f=new m("0."+r),a++):f=new m(n+"."+r.slice(1))}else return l=rP(m,u+2,g).times(a+""),f=Lb(new m(n+"."+r.slice(1)),u-p).plus(l),m.precision=g,e==null?(Xn=!0,_n(f,g)):f;for(o=s=f=Du(f.minus(eo),f.plus(eo),u),d=_n(f.times(f),u),i=3;;){if(s=_n(s.times(d),u),l=o.plus(Du(s,new m(i),u)),gc(l.d).slice(0,u)===gc(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(rP(m,u+2,g).times(a+""))),o=Du(o,new m(h),u),m.precision=g,e==null?(Xn=!0,_n(o,g)):o;o=l,i+=2}}function C7(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Gy(r/Un),t.d=[],n=(r+1)%Un,r<0&&(n+=Un),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Un;n<i;)t.d.push(+e.slice(n,n+=Un));e=e.slice(n),n=Un-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Xn&&(t.e>t5||t.e<-t5))throw Error(KR+r)}else t.s=0,t.e=0,t.d=[0];return t}function _n(t,e,r){var n,i,a,s,o,l,u,d,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Un,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Un),a=h.length,d>=a)return t;for(u=a=h[d],s=1;a>=10;a/=10)s++;n%=Un,i=n-Un+s}if(r!==void 0&&(a=ep(10,s-i-1),o=u/a%10|0,l=e<0||h[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/ep(10,s-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return l?(a=Ci(t),h.length=1,e=e-a-1,h[0]=ep(10,(Un-e%Un)%Un),t.e=Gy(-e/Un)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=ep(10,Un-n),h[d]=i>0?(u/ep(10,s-i)%ep(10,i)|0)*a:0),l)for(;;)if(d==0){(h[0]+=a)==Xi&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=Xi)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Xn&&(t.e>t5||t.e<-t5))throw Error(KR+Ci(t));return t}function tee(t,e){var r,n,i,a,s,o,l,u,d,h,p=t.constructor,f=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Xn?_n(e,f):e;if(l=t.d,h=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=h.length):(r=h,n=u,o=l.length),i=Math.max(Math.ceil(f/Un),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}s=0}for(d&&(r=l,l=h,h=r,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=Xi-1;--l[a],l[i]+=Xi}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Xn?_n(e,f):e):new p(0)}function sm(t,e,r){var n,i=Ci(t),a=gc(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Wd(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Wd(-i-1)+a,r&&(n=r-s)>0&&(a+=Wd(n))):i>=s?(a+=Wd(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Wd(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Wd(n))),t.s<0?"-"+a:a}function k7(t,e){if(t.length>e)return t.length=e,!0}function ree(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kp+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return C7(s,a.toString())}else if(typeof a!="string")throw Error(kp+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,oFe.test(a))C7(s,a);else throw Error(kp+a)}if(i.prototype=mt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ree,i.config=i.set=lFe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function lFe(t){if(!t||typeof t!="object")throw Error(Qo+"Object expected");var e,r,n,i=["precision",1,Hy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Gy(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(kp+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(kp+r+": "+n);return this}var YR=ree(sFe);eo=new YR(1);const dn=YR;function cFe(t){return fFe(t)||hFe(t)||dFe(t)||uFe()}function uFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dFe(t,e){if(t){if(typeof t=="string")return $k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(t,e)}}function hFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fFe(t){if(Array.isArray(t))return $k(t)}function $k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pFe=function(e){return e},nee={"@@functional/placeholder":!0},iee=function(e){return e===nee},I7=function(e){return function r(){return arguments.length===0||arguments.length===1&&iee(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},mFe=function t(e,r){return e===1?r:I7(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==nee}).length;return s>=e?r.apply(void 0,i):t(e-s,I7(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(h){return iee(h)?l.shift():h});return r.apply(void 0,cFe(d).concat(l))}))})},ON=function(e){return mFe(e.length,e)},Fk=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},gFe=ON(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),vFe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return pFe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},Bk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},aee=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function yFe(t){var e;return t===0?e=1:e=Math.floor(new dn(t).abs().log(10).toNumber())+1,e}function bFe(t,e,r){for(var n=new dn(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var xFe=ON(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),wFe=ON(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),_Fe=ON(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const RN={rangeStep:bFe,getDigitCount:yFe,interpolateNumber:xFe,uninterpolateNumber:wFe,uninterpolateTruncation:_Fe};function Uk(t){return NFe(t)||AFe(t)||see(t)||SFe()}function SFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function NFe(t){if(Array.isArray(t))return Vk(t)}function Mb(t,e){return PFe(t)||jFe(t,e)||see(t,e)||EFe()}function EFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function see(t,e){if(t){if(typeof t=="string")return Vk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jFe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function PFe(t){if(Array.isArray(t))return t}function oee(t){var e=Mb(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function lee(t,e,r){if(t.lte(0))return new dn(0);var n=RN.getDigitCount(t.toNumber()),i=new dn(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new dn(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new dn(Math.ceil(l))}function TFe(t,e,r){var n=1,i=new dn(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new dn(10).pow(RN.getDigitCount(t)-1),i=new dn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new dn(Math.floor(t)))}else t===0?i=new dn(Math.floor((e-1)/2)):r||(i=new dn(Math.floor(t)));var s=Math.floor((e-1)/2),o=vFe(gFe(function(l){return i.add(new dn(l-s).mul(n)).toNumber()}),Fk);return o(0,e)}function cee(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new dn(0),tickMin:new dn(0),tickMax:new dn(0)};var a=lee(new dn(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new dn(0):(s=new dn(t).add(e).div(2),s=s.sub(new dn(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new dn(e).sub(s).div(a).toNumber()),u=o+l+1;return u>r?cee(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:a,tickMin:s.sub(new dn(o).mul(a)),tickMax:s.add(new dn(l).mul(a))})}function CFe(t){var e=Mb(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=oee([r,n]),l=Mb(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(Uk(Fk(0,i-1).map(function(){return 1/0}))):[].concat(Uk(Fk(0,i-1).map(function(){return-1/0})),[d]);return r>n?Bk(h):h}if(u===d)return TFe(u,i,a);var p=cee(u,d,s,a),f=p.step,v=p.tickMin,m=p.tickMax,g=RN.rangeStep(v,m.add(new dn(.1).mul(f)),f);return r>n?Bk(g):g}function kFe(t,e){var r=Mb(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=oee([n,i]),o=Mb(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),h=lee(new dn(u).sub(l).div(d-1),a,0),p=[].concat(Uk(RN.rangeStep(new dn(l),new dn(u).sub(new dn(.99).mul(h)),h)),[u]);return n>i?Bk(p):p}var IFe=aee(CFe),OFe=aee(kFe),RFe="Invariant failed";function om(t,e){throw new Error(RFe)}var DFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function r5(){return r5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r5.apply(this,arguments)}function LFe(t,e){return BFe(t)||FFe(t,e)||$Fe(t,e)||MFe()}function MFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Fe(t,e){if(t){if(typeof t=="string")return O7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O7(t,e)}}function O7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function BFe(t){if(Array.isArray(t))return t}function UFe(t,e){if(t==null)return{};var r=VFe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hee(n.key),n)}}function WFe(t,e,r){return e&&qFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HFe(t,e,r){return e=n5(e),GFe(t,uee()?Reflect.construct(e,r||[],n5(t).constructor):e.apply(t,r))}function GFe(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KFe(t)}function KFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uee=function(){return!!t})()}function n5(t){return n5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n5(t)}function YFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zk(t,e)}function zk(t,e){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zk(t,e)}function dee(t,e,r){return e=hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hee(t){var e=XFe(t,"string");return Kv(e)=="symbol"?e:e+""}function XFe(t,e){if(Kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DN=function(t){function e(){return zFe(this,e),HFe(this,e,arguments)}return YFe(e,t),WFe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,p=UFe(n,DFe),f=Kt(p,!1);this.props.direction==="x"&&d.type!=="number"&&om();var v=l.map(function(m){var g=u(m,o),y=g.x,x=g.y,_=g.value,A=g.errorVal;if(!A)return null;var E=[],I,j;if(Array.isArray(A)){var N=LFe(A,2);I=N[0],j=N[1]}else I=j=A;if(a==="vertical"){var k=d.scale,D=x+i,C=D+s,O=D-s,L=k(_-I),z=k(_+j);E.push({x1:z,y1:C,x2:z,y2:O}),E.push({x1:L,y1:D,x2:z,y2:D}),E.push({x1:L,y1:C,x2:L,y2:O})}else if(a==="horizontal"){var re=h.scale,Y=y+i,K=Y-s,q=Y+s,Z=re(_-I),ve=re(_+j);E.push({x1:K,y1:ve,x2:q,y2:ve}),E.push({x1:Y,y1:Z,x2:Y,y2:ve}),E.push({x1:K,y1:Z,x2:q,y2:Z})}return ue.createElement(an,r5({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},f),E.map(function(ce){return ue.createElement("line",r5({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return ue.createElement(an,{className:"recharts-errorBars"},v)}}])}(ue.Component);dee(DN,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dee(DN,"displayName","ErrorBar");function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}function R7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R7(Object(r),!0).forEach(function(n){QFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QFe(t,e,r){return e=JFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JFe(t){var e=ZFe(t,"string");return $b(e)=="symbol"?e:e+""}function ZFe(t,e){if($b(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($b(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fee=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Js(r,Yg);if(!s)return null;var o=Yg.defaultProps,l=o!==void 0?qf(qf({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,h){var p=h.item,f=h.props,v=f.sectors||f.data||[];return d.concat(v.map(function(m){return{type:s.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var h=d.item,p=h.type.defaultProps,f=p!==void 0?qf(qf({},p),h.props):{},v=f.dataKey,m=f.name,g=f.legendType,y=f.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:XR(h),value:m||v,payload:f}}),qf(qf(qf({},l),Yg.getWithHeight(s,i)),{},{payload:u,item:s})};function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function D7(t){return n7e(t)||r7e(t)||t7e(t)||e7e()}function e7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t7e(t,e){if(t){if(typeof t=="string")return qk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qk(t,e)}}function r7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n7e(t){if(Array.isArray(t))return qk(t)}function qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L7(Object(r),!0).forEach(function(n){Qg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qg(t,e,r){return e=i7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i7e(t){var e=a7e(t,"string");return Fb(e)=="symbol"?e:e+""}function a7e(t,e){if(Fb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ra(t,e,r){return vr(t)||vr(e)?r:Vi(e)?co(t,e,r):Zt(e)?e(t):r}function k1(t,e,r,n){var i=rFe(t,function(o){return Ra(o,e)});if(r==="number"){var a=i.filter(function(o){return tt(o)||parseFloat(o)});return a.length?[kN(a),CN(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!vr(o)}):i;return s.map(function(o){return Vi(o)||o instanceof Date?o:""})}var s7e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,h=i[u].coordinate,p=u>=o-1?i[0].coordinate:i[u+1].coordinate,f=void 0;if(ts(h-d)!==ts(p-h)){var v=[];if(ts(p-h)===ts(l[1]-l[0])){f=p;var m=h+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{f=d;var g=p+l[1]-l[0];v[0]=Math.min(h,(g+h)/2),v[1]=Math.max(h,(g+h)/2)}var y=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var x=Math.min(d,p),_=Math.max(d,p);if(e>(x+h)/2&&e<=(_+h)/2){s=i[u].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){s=n[A].index;break}return s},XR=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ui(ui({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},o7e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var d=a[o[l]].stackGroups,h=Object.keys(d),p=0,f=h.length;p<f;p++){var v=d[h[p]],m=v.items,g=v.cateAxisId,y=m.filter(function(j){return Ou(j.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,_=x!==void 0?ui(ui({},x),y[0].props):y[0].props,A=_.barSize,E=_[g];s[E]||(s[E]=[]);var I=vr(A)?r:A;s[E].push({item:y[0],stackList:y.slice(1),barSize:vr(I)?void 0:rs(I,n,0)})}}return s},l7e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=rs(r,i,0,!0),d,h=[];if(s[0].barSize===+s[0].barSize){var p=!1,f=i/l,v=s.reduce(function(A,E){return A+E.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&f>0&&(p=!0,f*=.9,v=l*f);var m=(i-v)/2>>0,g={offset:m-u,size:0};d=s.reduce(function(A,E){var I={item:E.item,position:{offset:g.offset+g.size+u,size:p?f:E.barSize}},j=[].concat(D7(A),[I]);return g=j[j.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(N){j.push({item:N,position:g})}),j},h)}else{var y=rs(n,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var x=(i-2*y-(l-1)*u)/l;x>1&&(x>>=0);var _=o===+o?Math.min(x,o):x;d=s.reduce(function(A,E,I){var j=[].concat(D7(A),[{item:E.item,position:{offset:y+(x+u)*I+(x-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(N){j.push({item:N,position:j[j.length-1].position})}),j},h)}return d},c7e=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=fee({children:a,legendWidth:l});if(u){var d=i||{},h=d.width,p=d.height,f=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&f!=="center"&&tt(e[f]))return ui(ui({},e),{},Qg({},f,e[f]+(h||0)));if((m==="horizontal"||m==="vertical"&&f==="center")&&v!=="middle"&&tt(e[v]))return ui(ui({},e),{},Qg({},v,e[v]+(p||0)))}return e},u7e=function(e,r,n){return vr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pee=function(e,r,n,i,a){var s=r.props.children,o=Ho(s,DN).filter(function(u){return u7e(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=Ra(d,n);if(vr(h))return u;var p=Array.isArray(h)?[kN(h),CN(h)]:[h,h],f=l.reduce(function(v,m){var g=Ra(d,m,0),y=p[0]-Math.abs(Array.isArray(g)?g[0]:g),x=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},d7e=function(e,r,n,i,a){var s=r.map(function(o){return pee(e,o,n,a,i)}).filter(function(o){return!vr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},mee=function(e,r,n,i,a){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&pee(e,l,u,i)||k1(e,u,n,a)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,h=u.length;d<h;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},gee=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},vee=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Eu=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ts(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var p=a?a.indexOf(h):h;return{coordinate:i(p)+u,value:h,offset:u}});return d.filter(function(h){return!Jx(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+u,value:h,index:p,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,p){return{coordinate:i(h)+u,value:a?a[h]:h,index:p,offset:u}})},nP=new WeakMap,x2=function(e,r){if(typeof r!="function")return e;nP.has(e)||nP.set(e,new WeakMap);var n=nP.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},yee=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:kb(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:QS(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:C1(),realScaleType:"point"}:a==="category"?{scale:kb(),realScaleType:"band"}:{scale:QS(),realScaleType:"linear"};if(nm(i)){var l="scale".concat(mN(i));return{scale:(T7[l]||C1)(),realScaleType:T7[l]?l:"point"}}return Zt(i)?{scale:i}:{scale:C1(),realScaleType:"point"}},M7=1e-4,bee=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-M7,s=Math.max(i[0],i[1])+M7,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},h7e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},f7e=function(e,r){if(!r||r.length!==2||!tt(r[0])||!tt(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!tt(e[0])||e[0]<n)&&(a[0]=n),(!tt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},p7e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Jx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},m7e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Jx(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},g7e={sign:p7e,expand:DCe,none:Bv,silhouette:LCe,wiggle:MCe,positive:m7e},v7e=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=g7e[n],s=RCe().keys(i).value(function(o,l){return+Ra(o,l,0)}).order(mk).offset(a);return s(e)},y7e=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(h,p){var f,v=(f=p.type)!==null&&f!==void 0&&f.defaultProps?ui(ui({},p.type.defaultProps),p.props):p.props,m=v.stackId,g=v.hide;if(g)return h;var y=v[n],x=h[y]||{hasStack:!1,stackGroups:{}};if(Vi(m)){var _=x.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),x.hasStack=!0,x.stackGroups[m]=_}else x.stackGroups[Zx("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return ui(ui({},h),{},Qg({},y,x))},l),d={};return Object.keys(u).reduce(function(h,p){var f=u[p];if(f.hasStack){var v={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(m,g){var y=f.stackGroups[g];return ui(ui({},m),{},Qg({},g,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:v7e(e,y.items,a)}))},v)}return ui(ui({},h),{},Qg({},p,f))},d)},xee=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=IFe(u,a,o);return e.domain([kN(d),CN(d)]),{niceTicks:d}}if(a&&i==="number"){var h=e.domain(),p=OFe(h,a,o);return{niceTicks:p}}return null},$7=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=Ra(s,r.dataKey,r.domain[o]);return vr(l)?null:r.scale(l)-a/2+i},b7e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},x7e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ui(ui({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Vi(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},w7e=function(e){return e.reduce(function(r,n){return[kN(n.concat([r[0]]).filter(tt)),CN(n.concat([r[1]]).filter(tt))]},[1/0,-1/0])},wee=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,d){var h=w7e(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},F7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wk=function(e,r,n){if(Zt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(tt(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(F7.test(e[0])){var a=+F7.exec(e[0])[1];i[0]=r[0]-a}else Zt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(tt(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(B7.test(e[1])){var s=+B7.exec(e[1])[1];i[1]=r[1]+s}else Zt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},i5=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=AR(r,function(h){return h.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},U7=function(e,r,n){return!e||!e.length||IN(e,co(n,"type.defaultProps.domain"))?r:e},_ee=function(e,r){var n=e.type.defaultProps?ui(ui({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return ui(ui({},Kt(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:XR(e),value:Ra(r,i),type:l,payload:r,chartType:u,hide:d})};function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function V7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(r),!0).forEach(function(n){See(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function See(t,e,r){return e=_7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _7e(t){var e=S7e(t,"string");return Bb(e)=="symbol"?e:e+""}function S7e(t,e){if(Bb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A7e(t,e){return P7e(t)||j7e(t,e)||E7e(t,e)||N7e()}function N7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7e(t,e){if(t){if(typeof t=="string")return z7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z7(t,e)}}function z7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function P7e(t){if(Array.isArray(t))return t}var a5=Math.PI/180,T7e=function(e){return e*180/Math.PI},In=function(e,r,n,i){return{x:e+Math.cos(-a5*i)*n,y:r+Math.sin(-a5*i)*n}},Aee=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},C7e=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.startAngle,u=e.endAngle,d=rs(e.cx,s,s/2),h=rs(e.cy,o,o/2),p=Aee(s,o,n),f=rs(e.innerRadius,p,0),v=rs(e.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(g,y){var x=r[y],_=x.domain,A=x.reversed,E;if(vr(x.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[f,v]),A&&(E=[E[1],E[0]]);else{E=x.range;var I=E,j=A7e(I,2);l=j[0],u=j[1]}var N=yee(x,a),k=N.realScaleType,D=N.scale;D.domain(_).range(E),bee(D);var C=xee(D,pu(pu({},x),{},{realScaleType:k})),O=pu(pu(pu({},x),C),{},{range:E,radius:v,realScaleType:k,scale:D,cx:d,cy:h,innerRadius:f,outerRadius:v,startAngle:l,endAngle:u});return pu(pu({},g),{},See({},y,O))},{})},k7e=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},I7e=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=k7e({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:T7e(u),angleInRadian:u}},O7e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},R7e=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},q7=function(e,r){var n=e.x,i=e.y,a=I7e({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=O7e(r),h=d.startAngle,p=d.endAngle,f=o,v;if(h<=p){for(;f>p;)f-=360;for(;f<h;)f+=360;v=f>=h&&f<=p}else{for(;f>h;)f-=360;for(;f<p;)f+=360;v=f>=p&&f<=h}return v?pu(pu({},r),{},{radius:s,angle:R7e(f,r)}):null},Nee=function(e){return!T.isValidElement(e)&&!Zt(e)&&typeof e!="boolean"?e.className:""};function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}var D7e=["offset"];function L7e(t){return B7e(t)||F7e(t)||$7e(t)||M7e()}function M7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7e(t,e){if(t){if(typeof t=="string")return Hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(t,e)}}function F7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B7e(t){if(Array.isArray(t))return Hk(t)}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U7e(t,e){if(t==null)return{};var r=V7e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function W7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W7(Object(r),!0).forEach(function(n){z7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z7e(t,e,r){return e=q7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q7e(t){var e=W7e(t,"string");return Ub(e)=="symbol"?e:e+""}function W7e(t,e){if(Ub(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ub(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}var H7e=function(e){var r=e.value,n=e.formatter,i=vr(e.children)?r:e.children;return Zt(n)?n(i):i},G7e=function(e,r){var n=ts(r-e),i=Math.min(Math.abs(r-e),360);return n*i},K7e=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,d=l.cy,h=l.innerRadius,p=l.outerRadius,f=l.startAngle,v=l.endAngle,m=l.clockWise,g=(h+p)/2,y=G7e(f,v),x=y>=0?1:-1,_,A;i==="insideStart"?(_=f+x*s,A=m):i==="insideEnd"?(_=v-x*s,A=!m):i==="end"&&(_=v+x*s,A=m),A=y<=0?A:!A;var E=In(u,d,g,_),I=In(u,d,g,_+(A?1:-1)*359),j="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(A?0:1,`,
    `).concat(I.x,",").concat(I.y),N=vr(e.id)?Zx("recharts-radial-line-"):e.id;return ue.createElement("text",Vb({},n,{dominantBaseline:"central",className:pr("recharts-radial-bar-label",o)}),ue.createElement("defs",null,ue.createElement("path",{id:N,d:j})),ue.createElement("textPath",{xlinkHref:"#".concat(N)},r))},Y7e=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,p=(d+h)/2;if(i==="outside"){var f=In(s,o,u+n,p),v=f.x,m=f.y;return{x:v,y:m,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+u)/2,y=In(s,o,g,p),x=y.x,_=y.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},X7e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,h=d>=0?1:-1,p=h*i,f=h>0?"end":"start",v=h>0?"start":"end",m=u>=0?1:-1,g=m*i,y=m>0?"end":"start",x=m>0?"start":"end";if(a==="top"){var _={x:o+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:f};return Li(Li({},_),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var A={x:o+u/2,y:l+d+p,textAnchor:"middle",verticalAnchor:v};return Li(Li({},A),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var E={x:o-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Li(Li({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(a==="right"){var I={x:o+u+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Li(Li({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return a==="insideLeft"?Li({x:o+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},j):a==="insideRight"?Li({x:o+u-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},j):a==="insideTop"?Li({x:o+u/2,y:l+p,textAnchor:"middle",verticalAnchor:v},j):a==="insideBottom"?Li({x:o+u/2,y:l+d-p,textAnchor:"middle",verticalAnchor:f},j):a==="insideTopLeft"?Li({x:o+g,y:l+p,textAnchor:x,verticalAnchor:v},j):a==="insideTopRight"?Li({x:o+u-g,y:l+p,textAnchor:y,verticalAnchor:v},j):a==="insideBottomLeft"?Li({x:o+g,y:l+d-p,textAnchor:x,verticalAnchor:f},j):a==="insideBottomRight"?Li({x:o+u-g,y:l+d-p,textAnchor:y,verticalAnchor:f},j):$y(a)&&(tt(a.x)||up(a.x))&&(tt(a.y)||up(a.y))?Li({x:o+rs(a.x,u),y:l+rs(a.y,d),textAnchor:"end",verticalAnchor:"end"},j):Li({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Q7e=function(e){return"cx"in e&&tt(e.cx)};function Zi(t){var e=t.offset,r=e===void 0?5:e,n=U7e(t,D7e),i=Li({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,d=i.className,h=d===void 0?"":d,p=i.textBreakAll;if(!a||vr(o)&&vr(l)&&!T.isValidElement(u)&&!Zt(u))return null;if(T.isValidElement(u))return T.cloneElement(u,i);var f;if(Zt(u)){if(f=T.createElement(u,i),T.isValidElement(f))return f}else f=H7e(i);var v=Q7e(a),m=Kt(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return K7e(i,f,m);var g=v?Y7e(i):X7e(i);return ue.createElement(am,Vb({className:pr("recharts-label",h)},m,g,{breakAll:p}),f)}Zi.displayName="Label";var Eee=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,p=e.y,f=e.top,v=e.left,m=e.width,g=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(tt(m)&&tt(g)){if(tt(h)&&tt(p))return{x:h,y:p,width:m,height:g};if(tt(f)&&tt(v))return{x:f,y:v,width:m,height:g}}return tt(h)&&tt(p)?{x:h,y:p,width:0,height:0}:tt(r)&&tt(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},J7e=function(e,r){return e?e===!0?ue.createElement(Zi,{key:"label-implicit",viewBox:r}):Vi(e)?ue.createElement(Zi,{key:"label-implicit",viewBox:r,value:e}):T.isValidElement(e)?e.type===Zi?T.cloneElement(e,{key:"label-implicit",viewBox:r}):ue.createElement(Zi,{key:"label-implicit",content:e,viewBox:r}):Zt(e)?ue.createElement(Zi,{key:"label-implicit",content:e,viewBox:r}):$y(e)?ue.createElement(Zi,Vb({viewBox:r},e,{key:"label-implicit"})):null:null},Z7e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Eee(e),s=Ho(i,Zi).map(function(l,u){return T.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=J7e(e.label,r||a);return[o].concat(L7e(s))};Zi.parseViewBox=Eee;Zi.renderCallByParent=Z7e;function e9e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var t9e=e9e;const r9e=Qr(t9e);function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}var n9e=["valueAccessor"],i9e=["data","dataKey","clockWise","id","textBreakAll"];function a9e(t){return c9e(t)||l9e(t)||o9e(t)||s9e()}function s9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o9e(t,e){if(t){if(typeof t=="string")return Gk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(t,e)}}function l9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c9e(t){if(Array.isArray(t))return Gk(t)}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s5(){return s5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s5.apply(this,arguments)}function H7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H7(Object(r),!0).forEach(function(n){u9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u9e(t,e,r){return e=d9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d9e(t){var e=h9e(t,"string");return zb(e)=="symbol"?e:e+""}function h9e(t,e){if(zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K7(t,e){if(t==null)return{};var r=f9e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var p9e=function(e){return Array.isArray(e.value)?r9e(e.value):e.value};function Mh(t){var e=t.valueAccessor,r=e===void 0?p9e:e,n=K7(t,n9e),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=K7(n,i9e);return!i||!i.length?null:ue.createElement(an,{className:"recharts-label-list"},i.map(function(d,h){var p=vr(a)?r(d,h):Ra(d&&d.payload,a),f=vr(o)?{}:{id:"".concat(o,"-").concat(h)};return ue.createElement(Zi,s5({},Kt(d,!0),u,f,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:Zi.parseViewBox(vr(s)?d:G7(G7({},d),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Mh.displayName="LabelList";function m9e(t,e){return t?t===!0?ue.createElement(Mh,{key:"labelList-implicit",data:e}):ue.isValidElement(t)||Zt(t)?ue.createElement(Mh,{key:"labelList-implicit",data:e,content:t}):$y(t)?ue.createElement(Mh,s5({data:e},t,{key:"labelList-implicit"})):null:null}function g9e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ho(n,Mh).map(function(s,o){return T.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=m9e(t.label,e);return[a].concat(a9e(i))}Mh.renderCallByParent=g9e;function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}function Kk(){return Kk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kk.apply(this,arguments)}function Y7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y7(Object(r),!0).forEach(function(n){v9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v9e(t,e,r){return e=y9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y9e(t){var e=b9e(t,"string");return qb(e)=="symbol"?e:e+""}function b9e(t,e){if(qb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x9e=function(e,r){var n=ts(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},w2=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,h=Math.asin(l/d)/a5,p=u?a:a+s*h,f=In(r,n,d,p),v=In(r,n,i,p),m=u?a-s*h:a,g=In(r,n,d*Math.cos(h*a5),m);return{center:f,circleTangency:v,lineTangency:g,theta:h}},jee=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=x9e(s,o),u=s+l,d=In(r,n,a,s),h=In(r,n,a,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var f=In(r,n,i,s),v=In(r,n,i,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},w9e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=ts(d-u),p=w2({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:s,cornerIsExternal:l}),f=p.circleTangency,v=p.lineTangency,m=p.theta,g=w2({cx:r,cy:n,radius:a,angle:d,sign:-h,cornerRadius:s,cornerIsExternal:l}),y=g.circleTangency,x=g.lineTangency,_=g.theta,A=l?Math.abs(u-d):Math.abs(u-d)-m-_;if(A<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):jee({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var I=w2({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=I.circleTangency,N=I.lineTangency,k=I.theta,D=w2({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=D.circleTangency,O=D.lineTangency,L=D.theta,z=l?Math.abs(u-d):Math.abs(u-d)-k-L;if(z<0&&s===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},_9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Pee=function(e){var r=X7(X7({},_9e),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,p=r.className;if(s<a||d===h)return null;var f=pr("recharts-sector",p),v=s-a,m=rs(o,v,0,!0),g;return m>0&&Math.abs(d-h)<360?g=w9e({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):g=jee({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:h}),ue.createElement("path",Kk({},Kt(r,!0),{className:f,d:g,role:"img"}))};function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}function Yk(){return Yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yk.apply(this,arguments)}function Q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(r),!0).forEach(function(n){S9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S9e(t,e,r){return e=A9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A9e(t){var e=N9e(t,"string");return Wb(e)=="symbol"?e:e+""}function N9e(t,e){if(Wb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z7={curveBasisClosed:SCe,curveBasisOpen:ACe,curveBasis:_Ce,curveBumpX:lCe,curveBumpY:cCe,curveLinearClosed:NCe,curveLinear:vN,curveMonotoneX:ECe,curveMonotoneY:jCe,curveNatural:PCe,curveStep:TCe,curveStepAfter:kCe,curveStepBefore:CCe},_2=function(e){return e.x===+e.x&&e.y===+e.y},L0=function(e){return e.x},M0=function(e){return e.y},E9e=function(e,r){if(Zt(e))return e;var n="curve".concat(mN(e));return(n==="curveMonotone"||n==="curveBump")&&r?Z7["".concat(n).concat(r==="vertical"?"Y":"X")]:Z7[n]||vN},j9e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=E9e(n,o),h=u?a.filter(function(m){return _2(m)}):a,p;if(Array.isArray(s)){var f=u?s.filter(function(m){return _2(m)}):s,v=h.map(function(m,g){return J7(J7({},m),{},{base:f[g]})});return o==="vertical"?p=h2().y(M0).x1(L0).x0(function(m){return m.base.x}):p=h2().x(L0).y1(M0).y0(function(m){return m.base.y}),p.defined(_2).curve(d),p(v)}return o==="vertical"&&tt(s)?p=h2().y(M0).x1(L0).x0(s):tt(s)?p=h2().x(L0).y1(M0).y0(s):p=_J().x(L0).y(M0),p.defined(_2).curve(d),p(h)},Xk=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?j9e(e):i;return T.createElement("path",Yk({},Kt(e,!1),kS(e),{className:pr("recharts-curve",r),d:s,ref:a}))},Tee={exports:{}},P9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",T9e=P9e,C9e=T9e;function Cee(){}function kee(){}kee.resetWarningCache=Cee;var k9e=function(){function t(n,i,a,s,o,l){if(l!==C9e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kee,resetWarningCache:Cee};return r.PropTypes=r,r};Tee.exports=k9e();var I9e=Tee.exports;const Kr=Qr(I9e);var O9e=Object.getOwnPropertyNames,R9e=Object.getOwnPropertySymbols,D9e=Object.prototype.hasOwnProperty;function e9(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function S2(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function t9(t){return O9e(t).concat(R9e(t))}var L9e=Object.hasOwn||function(t,e){return D9e.call(t,e)};function Am(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var M9e="__v",$9e="__o",F9e="_owner",r9=Object.getOwnPropertyDescriptor,n9=Object.keys;function B9e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function U9e(t,e){return Am(t.getTime(),e.getTime())}function V9e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function z9e(t,e){return t===e}function i9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,h=0;(o=u.next())&&!o.done;){if(i[h]){h++;continue}var p=s.value,f=o.value;if(r.equals(p[0],f[0],l,h,t,e,r)&&r.equals(p[1],f[1],p[0],f[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;l++}return!0}var q9e=Am;function W9e(t,e,r){var n=n9(t),i=n.length;if(n9(e).length!==i)return!1;for(;i-- >0;)if(!Iee(t,e,r,n[i]))return!1;return!0}function $0(t,e,r){var n=t9(t),i=n.length;if(t9(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!Iee(t,e,r,a)||(s=r9(t,a),o=r9(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function H9e(t,e){return Am(t.valueOf(),e.valueOf())}function G9e(t,e){return t.source===e.source&&t.flags===e.flags}function a9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function K9e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Y9e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Iee(t,e,r,n){return(n===F9e||n===$9e||n===M9e)&&(t.$$typeof||e.$$typeof)?!0:L9e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var X9e="[object Arguments]",Q9e="[object Boolean]",J9e="[object Date]",Z9e="[object Error]",eBe="[object Map]",tBe="[object Number]",rBe="[object Object]",nBe="[object RegExp]",iBe="[object Set]",aBe="[object String]",sBe="[object URL]",oBe=Array.isArray,s9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,o9=Object.assign,lBe=Object.prototype.toString.call.bind(Object.prototype.toString);function cBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var y=typeof v;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(v,m,g):y==="function"?i(v,m,g):!1;var x=v.constructor;if(x!==m.constructor)return!1;if(x===Object)return o(v,m,g);if(oBe(v))return e(v,m,g);if(s9!=null&&s9(v))return h(v,m,g);if(x===Date)return r(v,m,g);if(x===RegExp)return u(v,m,g);if(x===Map)return a(v,m,g);if(x===Set)return d(v,m,g);var _=lBe(v);return _===J9e?r(v,m,g):_===nBe?u(v,m,g):_===eBe?a(v,m,g):_===iBe?d(v,m,g):_===rBe?typeof v.then!="function"&&typeof m.then!="function"&&o(v,m,g):_===sBe?p(v,m,g):_===Z9e?n(v,m,g):_===X9e?o(v,m,g):_===Q9e||_===tBe||_===aBe?l(v,m,g):!1}}function uBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?$0:B9e,areDatesEqual:U9e,areErrorsEqual:V9e,areFunctionsEqual:z9e,areMapsEqual:n?e9(i9,$0):i9,areNumbersEqual:q9e,areObjectsEqual:n?$0:W9e,arePrimitiveWrappersEqual:H9e,areRegExpsEqual:G9e,areSetsEqual:n?e9(a9,$0):a9,areTypedArraysEqual:n?$0:K9e,areUrlsEqual:Y9e};if(r&&(i=o9({},i,r(i))),e){var a=S2(i.areArraysEqual),s=S2(i.areMapsEqual),o=S2(i.areObjectsEqual),l=S2(i.areSetsEqual);i=o9({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function dBe(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function hBe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),h=d.cache,p=h===void 0?e?new WeakMap:void 0:h,f=d.meta;return r(l,u,{cache:p,equals:i,meta:f,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,s)}}var fBe=Ef();Ef({strict:!0});Ef({circular:!0});Ef({circular:!0,strict:!0});Ef({createInternalComparator:function(){return Am}});Ef({strict:!0,createInternalComparator:function(){return Am}});Ef({circular:!0,createInternalComparator:function(){return Am}});Ef({circular:!0,createInternalComparator:function(){return Am},strict:!0});function Ef(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=uBe(t),l=cBe(o),u=n?n(l):dBe(l);return hBe({circular:r,comparator:l,createState:i,equals:u,strict:s})}function pBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function l9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):pBe(i)};requestAnimationFrame(n)}function Qk(t){"@babel/helpers - typeof";return Qk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qk(t)}function mBe(t){return bBe(t)||yBe(t)||vBe(t)||gBe()}function gBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vBe(t,e){if(t){if(typeof t=="string")return c9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c9(t,e)}}function c9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bBe(t){if(Array.isArray(t))return t}function xBe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=mBe(s),l=o[0],u=o.slice(1);if(typeof l=="number"){l9(i.bind(null,u),l);return}i(l),l9(i.bind(null,u));return}Qk(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}function u9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u9(Object(r),!0).forEach(function(n){Oee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oee(t,e,r){return e=wBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wBe(t){var e=_Be(t,"string");return Hb(e)==="symbol"?e:String(e)}function _Be(t,e){if(Hb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SBe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},ABe=function(e){return e},NBe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},I1=function(e,r){return Object.keys(r).reduce(function(n,i){return d9(d9({},n),{},Oee({},i,e(i,r[i])))},{})},h9=function(e,r,n){return e.map(function(i){return"".concat(NBe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function EBe(t,e){return TBe(t)||PBe(t,e)||Ree(t,e)||jBe()}function jBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function TBe(t){if(Array.isArray(t))return t}function CBe(t){return OBe(t)||IBe(t)||Ree(t)||kBe()}function kBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ree(t,e){if(t){if(typeof t=="string")return Jk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jk(t,e)}}function IBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OBe(t){if(Array.isArray(t))return Jk(t)}function Jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var o5=1e-4,Dee=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Lee=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},f9=function(e,r){return function(n){var i=Dee(e,r);return Lee(i,n)}},RBe=function(e,r){return function(n){var i=Dee(e,r),a=[].concat(CBe(i.map(function(s,o){return s*o}).slice(1)),[0]);return Lee(a,n)}},p9=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=EBe(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var h=f9(i,s),p=f9(a,o),f=RBe(i,s),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var x=y>1?1:y,_=x,A=0;A<8;++A){var E=h(_)-x,I=f(_);if(Math.abs(E-x)<o5||I<o5)return p(_);_=v(_-E/I)}return p(_)};return m.isStepper=!1,m},DBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,h,p){var f=-(d-h)*n,v=p*a,m=p+(f-v)*o/1e3,g=p*o/1e3+d;return Math.abs(g-h)<o5&&Math.abs(m)<o5?[h,0]:[g,m]};return l.isStepper=!0,l.dt=o,l},LBe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return p9(i);case"spring":return DBe();default:if(i.split("(")[0]==="cubic-bezier")return p9(i)}return typeof i=="function"?i:null};function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function m9(t){return FBe(t)||$Be(t)||Mee(t)||MBe()}function MBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Be(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FBe(t){if(Array.isArray(t))return e4(t)}function g9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g9(Object(r),!0).forEach(function(n){Zk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zk(t,e,r){return e=BBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BBe(t){var e=UBe(t,"string");return Gb(e)==="symbol"?e:String(e)}function UBe(t,e){if(Gb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VBe(t,e){return WBe(t)||qBe(t,e)||Mee(t,e)||zBe()}function zBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mee(t,e){if(t){if(typeof t=="string")return e4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e4(t,e)}}function e4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function WBe(t){if(Array.isArray(t))return t}var l5=function(e,r,n){return e+(r-e)*n},t4=function(e){var r=e.from,n=e.to;return r!==n},HBe=function t(e,r,n){var i=I1(function(a,s){if(t4(s)){var o=e(s.from,s.to,s.velocity),l=VBe(o,2),u=l[0],d=l[1];return oa(oa({},s),{},{from:u,velocity:d})}return s},r);return n<1?I1(function(a,s){return t4(s)?oa(oa({},s),{},{velocity:l5(s.velocity,i[a].velocity,n),from:l5(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const GBe=function(t,e,r,n,i){var a=SBe(t,e),s=a.reduce(function(g,y){return oa(oa({},g),{},Zk({},y,[t[y],e[y]]))},{}),o=a.reduce(function(g,y){return oa(oa({},g),{},Zk({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,d,h=function(){return null},p=function(){return I1(function(y,x){return x.from},o)},f=function(){return!Object.values(o).filter(t4).length},v=function(y){u||(u=y);var x=y-u,_=x/r.dt;o=HBe(r,o,_),i(oa(oa(oa({},t),e),p())),u=y,f()||(l=requestAnimationFrame(h))},m=function(y){d||(d=y);var x=(y-d)/n,_=I1(function(E,I){return l5.apply(void 0,m9(I).concat([r(x)]))},s);if(i(oa(oa(oa({},t),e),_)),x<1)l=requestAnimationFrame(h);else{var A=I1(function(E,I){return l5.apply(void 0,m9(I).concat([r(1)]))},s);i(oa(oa(oa({},t),e),A))}};return h=r.isStepper?v:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}var KBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function YBe(t,e){if(t==null)return{};var r=XBe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XBe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function iP(t){return eUe(t)||ZBe(t)||JBe(t)||QBe()}function QBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JBe(t,e){if(t){if(typeof t=="string")return r4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r4(t,e)}}function ZBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eUe(t){if(Array.isArray(t))return r4(t)}function r4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v9(Object(r),!0).forEach(function(n){i1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i1(t,e,r){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$ee(n.key),n)}}function nUe(t,e,r){return e&&rUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ee(t){var e=iUe(t,"string");return Yv(e)==="symbol"?e:String(e)}function iUe(t,e){if(Yv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n4(t,e)}function n4(t,e){return n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n4(t,e)}function sUe(t){var e=oUe();return function(){var n=c5(t),i;if(e){var a=c5(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return i4(this,i)}}function i4(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a4(t)}function a4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c5(t){return c5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c5(t)}var Xu=function(t){aUe(r,t);var e=sUe(r);function r(n,i){var a;tUe(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,h=s.steps,p=s.children,f=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(a4(a)),a.changeStyle=a.changeStyle.bind(a4(a)),!o||f<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:d}),i4(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof p=="function")return a.state={style:u},i4(a);a.state={style:l?i1({},l,u):u}}else a.state={style:{}};return a}return nUe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,p=this.state.style;if(o){if(!s){var f={style:l?i1({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(f);return}if(!(fBe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?h:i.to;if(this.state&&p){var g={style:l?i1({},l,m):m};(l&&p[l]!==m||!l&&p!==m)&&this.setState(g)}this.runAnimation(ll(ll({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,f=GBe(s,o,LBe(u),l,this.changeStyle),v=function(){a.stopJSAnimation=f()};this.manager.start([p,d,v,l,h])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,h=u.duration,p=h===void 0?0:h,f=function(m,g,y){if(y===0)return m;var x=g.duration,_=g.easing,A=_===void 0?"ease":_,E=g.style,I=g.properties,j=g.onAnimationEnd,N=y>0?s[y-1]:g,k=I||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(iP(m),[a.runJSAnimation.bind(a,{from:N.style,to:E,duration:x,easing:A}),x]);var D=h9(k,x,A),C=ll(ll(ll({},N.style),E),{},{transition:D});return[].concat(iP(m),[C,x,j]).filter(ABe)};return this.manager.start([l].concat(iP(s.reduce(f,[d,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=xBe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,f=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var m=o?i1({},o,l):l,g=h9(Object.keys(m),s,u);v.start([d,a,ll(ll({},m),{},{transition:g}),s,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=YBe(i,KBe),u=T.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var h=function(f){var v=f.props,m=v.style,g=m===void 0?{}:m,y=v.className,x=T.cloneElement(f,ll(ll({},l),{},{style:ll(ll({},g),d),className:y}));return x};return u===1?h(T.Children.only(a)):ue.createElement("div",null,T.Children.map(a,function(p){return h(p)}))}}]),r}(T.PureComponent);Xu.displayName="Animate";Xu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xu.propTypes={from:Kr.oneOfType([Kr.object,Kr.string]),to:Kr.oneOfType([Kr.object,Kr.string]),attributeName:Kr.string,duration:Kr.number,begin:Kr.number,easing:Kr.oneOfType([Kr.string,Kr.func]),steps:Kr.arrayOf(Kr.shape({duration:Kr.number.isRequired,style:Kr.object.isRequired,easing:Kr.oneOfType([Kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Kr.func]),properties:Kr.arrayOf("string"),onAnimationEnd:Kr.func})),children:Kr.oneOfType([Kr.node,Kr.func]),isActive:Kr.bool,canBegin:Kr.bool,onAnimationEnd:Kr.func,shouldReAnimate:Kr.bool,onAnimationStart:Kr.func,onAnimationReStart:Kr.func};function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function u5(){return u5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u5.apply(this,arguments)}function lUe(t,e){return hUe(t)||dUe(t,e)||uUe(t,e)||cUe()}function cUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uUe(t,e){if(t){if(typeof t=="string")return y9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y9(t,e)}}function y9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function hUe(t){if(Array.isArray(t))return t}function b9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(r),!0).forEach(function(n){fUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fUe(t,e,r){return e=pUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pUe(t){var e=mUe(t,"string");return Kb(e)=="symbol"?e:e+""}function mUe(t,e){if(Kb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w9=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,f=4;p<f;p++)h[p]=a[p]>s?s:a[p];d="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(r)),d+="L ".concat(e+n-l*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*h[1])),d+="L ".concat(e+n,",").concat(r+i-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(r+i)),d+="L ".concat(e+l*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*h[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);d="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-l*v,",").concat(r+i,`
            L `).concat(e+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},gUe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),h=Math.min(s,s+l),p=Math.max(s,s+l);return n>=u&&n<=d&&i>=h&&i<=p}return!1},vUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QR=function(e){var r=x9(x9({},vUe),e),n=T.useRef(),i=T.useState(-1),a=lUe(i,2),s=a[0],o=a[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&o(A)}catch{}},[]);var l=r.x,u=r.y,d=r.width,h=r.height,p=r.radius,f=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var _=pr("recharts-rectangle",f);return x?ue.createElement(Xu,{canBegin:s>0,from:{width:d,height:h,x:l,y:u},to:{width:d,height:h,x:l,y:u},duration:m,animationEasing:v,isActive:x},function(A){var E=A.width,I=A.height,j=A.x,N=A.y;return ue.createElement(Xu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},ue.createElement("path",u5({},Kt(r,!0),{className:_,d:w9(j,N,E,I,p),ref:n})))}):ue.createElement("path",u5({},Kt(r,!0),{className:_,d:w9(l,u,d,h,p)}))},yUe=["points","className","baseLinePoints","connectNulls"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(this,arguments)}function bUe(t,e){if(t==null)return{};var r=xUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _9(t){return AUe(t)||SUe(t)||_Ue(t)||wUe()}function wUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ue(t,e){if(t){if(typeof t=="string")return s4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s4(t,e)}}function SUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AUe(t){if(Array.isArray(t))return s4(t)}function s4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var S9=function(e){return e&&e.x===+e.x&&e.y===+e.y},NUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){S9(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),S9(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},O1=function(e,r){var n=NUe(e);r&&(n=[n.reduce(function(a,s){return[].concat(_9(a),_9(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},EUe=function(e,r,n){var i=O1(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(O1(r.reverse(),n).slice(1))},jUe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=bUe(e,yUe);if(!r||!r.length)return null;var o=pr("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=EUe(r,i,a);return ue.createElement("g",{className:o},ue.createElement("path",Ng({},Kt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?ue.createElement("path",Ng({},Kt(s,!0),{fill:"none",d:O1(r,a)})):null,l?ue.createElement("path",Ng({},Kt(s,!0),{fill:"none",d:O1(i,a)})):null)}var d=O1(r,a);return ue.createElement("path",Ng({},Kt(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function o4(){return o4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o4.apply(this,arguments)}var JR=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=pr("recharts-dot",a);return r===+r&&n===+n&&i===+i?T.createElement("circle",o4({},Kt(e,!1),kS(e),{className:s,cx:r,cy:n,r:i})):null};function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}var PUe=["x","y","top","left","width","height","className"];function l4(){return l4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l4.apply(this,arguments)}function A9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TUe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(r),!0).forEach(function(n){CUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CUe(t,e,r){return e=kUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kUe(t){var e=IUe(t,"string");return Yb(e)=="symbol"?e:e+""}function IUe(t,e){if(Yb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OUe(t,e){if(t==null)return{};var r=RUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DUe=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},LUe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,h=d===void 0?0:d,p=e.height,f=p===void 0?0:p,v=e.className,m=OUe(e,PUe),g=TUe({x:n,y:a,top:o,left:u,width:h,height:f},m);return!tt(n)||!tt(a)||!tt(h)||!tt(f)||!tt(o)||!tt(u)?null:ue.createElement("path",l4({},Kt(g,!0),{className:pr("recharts-cross",v),d:DUe(n,a,h,f,o,u)}))},MUe=TN,$Ue=XZ,FUe=Fc;function BUe(t,e){return t&&t.length?MUe(t,FUe(e),$Ue):void 0}var UUe=BUe;const VUe=Qr(UUe);var zUe=TN,qUe=Fc,WUe=QZ;function HUe(t,e){return t&&t.length?zUe(t,qUe(e),WUe):void 0}var GUe=HUe;const KUe=Qr(GUe);var YUe=["cx","cy","angle","ticks","axisLine"],XUe=["ticks","tick","angle","tickFormatter","stroke"];function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R1.apply(this,arguments)}function N9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N9(Object(r),!0).forEach(function(n){LN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E9(t,e){if(t==null)return{};var r=QUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bee(n.key),n)}}function ZUe(t,e,r){return e&&j9(t.prototype,e),r&&j9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eVe(t,e,r){return e=d5(e),tVe(t,Fee()?Reflect.construct(e,r||[],d5(t).constructor):e.apply(t,r))}function tVe(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rVe(t)}function rVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fee=function(){return!!t})()}function d5(t){return d5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d5(t)}function nVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c4(t,e)}function c4(t,e){return c4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c4(t,e)}function LN(t,e,r){return e=Bee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bee(t){var e=iVe(t,"string");return Xv(e)=="symbol"?e:e+""}function iVe(t,e){if(Xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MN=function(t){function e(){return JUe(this,e),eVe(this,e,arguments)}return nVe(e,t),ZUe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return In(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=VUe(o,function(d){return d.coordinate||0}),u=KUe(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,u=E9(n,YUe),d=o.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),h=In(i,a,d[0],s),p=In(i,a,d[1],s),f=Wf(Wf(Wf({},Kt(u,!1)),{},{fill:"none"},Kt(l,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return ue.createElement("line",R1({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,d=E9(i,XUe),h=this.getTickTextAnchor(),p=Kt(d,!1),f=Kt(s,!1),v=a.map(function(m,g){var y=n.getTickValueCoord(m),x=Wf(Wf(Wf(Wf({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:u},f),{},{index:g},y),{},{payload:m});return ue.createElement(an,R1({className:pr("recharts-polar-radius-axis-tick",Nee(s)),key:"tick-".concat(m.coordinate)},im(n.props,m,g)),e.renderTickItem(s,x,l?l(m.value,g):m.value))});return ue.createElement(an,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:ue.createElement(an,{className:pr("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Zi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ue.isValidElement(n)?s=ue.cloneElement(n,i):Zt(n)?s=n(i):s=ue.createElement(am,R1({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(T.PureComponent);LN(MN,"displayName","PolarRadiusAxis");LN(MN,"axisType","radiusAxis");LN(MN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function ip(){return ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ip.apply(this,arguments)}function P9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P9(Object(r),!0).forEach(function(n){$N(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vee(n.key),n)}}function sVe(t,e,r){return e&&T9(t.prototype,e),r&&T9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oVe(t,e,r){return e=h5(e),lVe(t,Uee()?Reflect.construct(e,r||[],h5(t).constructor):e.apply(t,r))}function lVe(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cVe(t)}function cVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uee=function(){return!!t})()}function h5(t){return h5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h5(t)}function uVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u4(t,e)}function u4(t,e){return u4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u4(t,e)}function $N(t,e,r){return e=Vee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vee(t){var e=dVe(t,"string");return Qv(e)=="symbol"?e:e+""}function dVe(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hVe=Math.PI/180,C9=1e-5,FN=function(t){function e(){return aVe(this,e),oVe(this,e,arguments)}return uVe(e,t),sVe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,d=u||8,h=In(a,s,o,n.coordinate),p=In(a,s,o+(l==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*hVe),s;return a>C9?s=i==="outer"?"start":"end":a<-C9?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,u=Hf(Hf({},Kt(this.props,!1)),{},{fill:"none"},Kt(o,!1));if(l==="circle")return ue.createElement(JR,ip({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,h=d.map(function(p){return In(i,a,s,p.coordinate)});return ue.createElement(jUe,ip({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,d=Kt(this.props,!1),h=Kt(s,!1),p=Hf(Hf({},d),{},{fill:"none"},Kt(o,!1)),f=a.map(function(v,m){var g=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),x=Hf(Hf(Hf({textAnchor:y},d),{},{stroke:"none",fill:u},h),{},{index:m,payload:v,x:g.x2,y:g.y2});return ue.createElement(an,ip({className:pr("recharts-polar-angle-axis-tick",Nee(s)),key:"tick-".concat(v.coordinate)},im(n.props,v,m)),o&&ue.createElement("line",ip({className:"recharts-polar-angle-axis-tick-line"},p,g)),s&&e.renderTickItem(s,x,l?l(v.value,m):v.value))});return ue.createElement(an,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:ue.createElement(an,{className:pr("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return ue.isValidElement(n)?s=ue.cloneElement(n,i):Zt(n)?s=n(i):s=ue.createElement(am,ip({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(T.PureComponent);$N(FN,"displayName","PolarAngleAxis");$N(FN,"axisType","angleAxis");$N(FN,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fVe=HJ,pVe=fVe(Object.getPrototypeOf,Object),mVe=pVe,gVe=nd,vVe=mVe,yVe=id,bVe="[object Object]",xVe=Function.prototype,wVe=Object.prototype,zee=xVe.toString,_Ve=wVe.hasOwnProperty,SVe=zee.call(Object);function AVe(t){if(!yVe(t)||gVe(t)!=bVe)return!1;var e=vVe(t);if(e===null)return!0;var r=_Ve.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&zee.call(r)==SVe}var NVe=AVe;const EVe=Qr(NVe);var jVe=nd,PVe=id,TVe="[object Boolean]";function CVe(t){return t===!0||t===!1||PVe(t)&&jVe(t)==TVe}var kVe=CVe;const IVe=Qr(kVe);function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function f5(){return f5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f5.apply(this,arguments)}function OVe(t,e){return MVe(t)||LVe(t,e)||DVe(t,e)||RVe()}function RVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DVe(t,e){if(t){if(typeof t=="string")return k9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k9(t,e)}}function k9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function MVe(t){if(Array.isArray(t))return t}function I9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I9(Object(r),!0).forEach(function(n){$Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ve(t,e,r){return e=FVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FVe(t){var e=BVe(t,"string");return Xb(e)=="symbol"?e:e+""}function BVe(t,e){if(Xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R9=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},UVe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VVe=function(e){var r=O9(O9({},UVe),e),n=T.useRef(),i=T.useState(-1),a=OVe(i,2),s=a[0],o=a[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,p=r.height,f=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||p!==+p||d===0&&h===0||p===0)return null;var x=pr("recharts-trapezoid",f);return y?ue.createElement(Xu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:d,lowerWidth:h,height:p,x:l,y:u},duration:m,animationEasing:v,isActive:y},function(_){var A=_.upperWidth,E=_.lowerWidth,I=_.height,j=_.x,N=_.y;return ue.createElement(Xu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},ue.createElement("path",f5({},Kt(r,!0),{className:x,d:R9(j,N,A,E,I),ref:n})))}):ue.createElement("g",null,ue.createElement("path",f5({},Kt(r,!0),{className:x,d:R9(l,u,d,h,p)})))},zVe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}function qVe(t,e){if(t==null)return{};var r=WVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(r),!0).forEach(function(n){HVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HVe(t,e,r){return e=GVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GVe(t){var e=KVe(t,"string");return Qb(e)=="symbol"?e:e+""}function KVe(t,e){if(Qb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YVe(t,e){return p5(p5({},e),t)}function XVe(t,e){return t==="symbols"}function L9(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ue.createElement(QR,r);case"trapezoid":return ue.createElement(VVe,r);case"sector":return ue.createElement(Pee,r);case"symbols":if(XVe(e))return ue.createElement(gR,r);break;default:return null}}function QVe(t){return T.isValidElement(t)?t.props:t}function qee(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?YVe:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=qVe(t,zVe),u;if(T.isValidElement(e))u=T.cloneElement(e,p5(p5({},l),QVe(e)));else if(Zt(e))u=e(l);else if(EVe(e)&&!IVe(e)){var d=i(e,l);u=ue.createElement(L9,{shapeType:r,elementProps:d})}else{var h=l;u=ue.createElement(L9,{shapeType:r,elementProps:h})}return o?ue.createElement(an,{className:s},u):u}function BN(t,e){return e!=null&&"trapezoids"in t.props}function UN(t,e){return e!=null&&"sectors"in t.props}function Jb(t,e){return e!=null&&"points"in t.props}function JVe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function ZVe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function eze(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function tze(t,e){var r;return BN(t,e)?r=JVe:UN(t,e)?r=ZVe:Jb(t,e)&&(r=eze),r}function rze(t,e){var r;return BN(t,e)?r="trapezoids":UN(t,e)?r="sectors":Jb(t,e)&&(r="points"),r}function nze(t,e){if(BN(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(UN(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Jb(t,e)?e.payload:{}}function ize(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=rze(r,e),a=nze(r,e),s=n.filter(function(l,u){var d=IN(a,l),h=r.props[i].filter(function(v){var m=tze(r,e);return m(v,e)}),p=r.props[i].indexOf(h[h.length-1]),f=u===p;return d&&f}),o=n.indexOf(s[s.length-1]);return o}var f_;function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eg.apply(this,arguments)}function M9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(r),!0).forEach(function(n){Fo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hee(n.key),n)}}function sze(t,e,r){return e&&$9(t.prototype,e),r&&$9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oze(t,e,r){return e=m5(e),lze(t,Wee()?Reflect.construct(e,r||[],m5(t).constructor):e.apply(t,r))}function lze(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cze(t)}function cze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wee=function(){return!!t})()}function m5(t){return m5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m5(t)}function uze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d4(t,e)}function d4(t,e){return d4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d4(t,e)}function Fo(t,e,r){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hee(t){var e=dze(t,"string");return Jv(e)=="symbol"?e:e+""}function dze(t,e){if(Jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sd=function(t){function e(r){var n;return aze(this,e),n=oze(this,e,[r]),Fo(n,"pieRef",null),Fo(n,"sectorRefs",[]),Fo(n,"id",Zx("recharts-pie-")),Fo(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Zt(i)&&i()}),Fo(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Zt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return uze(e,t),sze(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,u=a.valueKey,d=Kt(this.props,!1),h=Kt(s,!1),p=Kt(o,!1),f=s&&s.offsetRadius||20,v=n.map(function(m,g){var y=(m.startAngle+m.endAngle)/2,x=In(m.cx,m.cy,m.outerRadius+f,y),_=Tn(Tn(Tn(Tn({},d),m),{},{stroke:"none"},h),{},{index:g,textAnchor:e.getTextAnchor(x.x,m.cx)},x),A=Tn(Tn(Tn(Tn({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:g,points:[In(m.cx,m.cy,m.outerRadius,y),x]}),E=l;return vr(l)&&vr(u)?E="value":vr(l)&&(E=u),ue.createElement(an,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},o&&e.renderLabelLineItem(o,A,"line"),e.renderLabelItem(s,_,Ra(m,E)))});return ue.createElement(an,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),p=l&&i.hasActiveIndex()?l:null,f=h?s:p,v=Tn(Tn({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return ue.createElement(an,Eg({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},im(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ue.createElement(qee,Eg({option:f,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,p=h.prevSectors,f=h.prevIsAnimationActive;return ue.createElement(Xu,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(_,A){var E=p&&p[A],I=A>0?co(_,"paddingAngle",0):0;if(E){var j=qd(E.endAngle-E.startAngle,_.endAngle-_.startAngle),N=Tn(Tn({},_),{},{startAngle:x+I,endAngle:x+j(m)+I});g.push(N),x=N.endAngle}else{var k=_.endAngle,D=_.startAngle,C=qd(0,k-D),O=C(m),L=Tn(Tn({},_),{},{startAngle:x+I,endAngle:x+O+I});g.push(L),x=L.endAngle}}),ue.createElement(an,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!IN(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,u=i.cx,d=i.cy,h=i.innerRadius,p=i.outerRadius,f=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!s||!s.length||!tt(u)||!tt(d)||!tt(h)||!tt(p))return null;var m=pr("recharts-pie",o);return ue.createElement(an,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(s),Zi.renderCallByParent(this.props,null,!1),(!f||v)&&Mh.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(ue.isValidElement(n))return ue.cloneElement(n,i);if(Zt(n))return n(i);var s=pr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ue.createElement(Xk,Eg({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(ue.isValidElement(n))return ue.cloneElement(n,i);var s=a;if(Zt(n)&&(s=n(i),ue.isValidElement(s)))return s;var o=pr("recharts-pie-label-text",typeof n!="boolean"&&!Zt(n)?n.className:"");return ue.createElement(am,Eg({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(T.PureComponent);f_=sd;Fo(sd,"displayName","Pie");Fo(sd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ru.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fo(sd,"parseDeltaAngle",function(t,e){var r=ts(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Fo(sd,"getRealPieData",function(t){var e=t.data,r=t.children,n=Kt(t,!1),i=Ho(r,_N);return e&&e.length?e.map(function(a,s){return Tn(Tn(Tn({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Tn(Tn({},n),a.props)}):[]});Fo(sd,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=Aee(i,a),o=n+rs(t.cx,i,i/2),l=r+rs(t.cy,a,a/2),u=rs(t.innerRadius,s,0),d=rs(t.outerRadius,s,s*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:d,maxRadius:h}});Fo(sd,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Tn(Tn({},e.type.defaultProps),e.props):e.props,i=f_.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,p=n.tooltipType,f=Math.abs(n.minAngle),v=f_.parseCoordinateOfPie(n,r),m=f_.parseDeltaAngle(s,o),g=Math.abs(m),y=u;vr(u)&&vr(h)?(Nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):vr(u)&&(Nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=h);var x=i.filter(function(N){return Ra(N,y,0)!==0}).length,_=(g>=360?x:x-1)*l,A=g-x*f-_,E=i.reduce(function(N,k){var D=Ra(k,y,0);return N+(tt(D)?D:0)},0),I;if(E>0){var j;I=i.map(function(N,k){var D=Ra(N,y,0),C=Ra(N,d,k),O=(tt(D)?D:0)/E,L;k?L=j.endAngle+ts(m)*l*(D!==0?1:0):L=s;var z=L+ts(m)*((D!==0?f:0)+O*A),re=(L+z)/2,Y=(v.innerRadius+v.outerRadius)/2,K=[{name:C,value:D,payload:N,dataKey:y,type:p}],q=In(v.cx,v.cy,Y,re);return j=Tn(Tn(Tn({percent:O,cornerRadius:a,name:C,tooltipPayload:K,midAngle:re,middleRadius:Y,tooltipPosition:q},N),v),{},{value:Ra(N,y),startAngle:L,endAngle:z,payload:N,paddingAngle:ts(m)*l}),j})}return Tn(Tn({},v),{},{sectors:I,data:i})});var hze=Math.ceil,fze=Math.max;function pze(t,e,r,n){for(var i=-1,a=fze(hze((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var mze=pze,gze=dZ,F9=1/0,vze=17976931348623157e292;function yze(t){if(!t)return t===0?t:0;if(t=gze(t),t===F9||t===-F9){var e=t<0?-1:1;return e*vze}return t===t?t:0}var Gee=yze,bze=mze,xze=wN,aP=Gee;function wze(t){return function(e,r,n){return n&&typeof n!="number"&&xze(e,r,n)&&(r=n=void 0),e=aP(e),r===void 0?(r=e,e=0):r=aP(r),n=n===void 0?e<r?1:-1:aP(n),bze(e,r,n,t)}}var _ze=wze,Sze=_ze,Aze=Sze(),Nze=Aze;const g5=Qr(Nze);function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function B9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B9(Object(r),!0).forEach(function(n){Kee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kee(t,e,r){return e=Eze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eze(t){var e=jze(t,"string");return Zb(e)=="symbol"?e:e+""}function jze(t,e){if(Zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pze=["Webkit","Moz","O","ms"],Tze=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Pze.reduce(function(a,s){return U9(U9({},a),{},Kee({},s+n,r))},{});return i[e]=r,i};function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function v5(){return v5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v5.apply(this,arguments)}function V9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(r),!0).forEach(function(n){Ys(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xee(n.key),n)}}function kze(t,e,r){return e&&z9(t.prototype,e),r&&z9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ize(t,e,r){return e=y5(e),Oze(t,Yee()?Reflect.construct(e,r||[],y5(t).constructor):e.apply(t,r))}function Oze(t,e){if(e&&(Zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rze(t)}function Rze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yee=function(){return!!t})()}function y5(t){return y5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y5(t)}function Dze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h4(t,e)}function h4(t,e){return h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h4(t,e)}function Ys(t,e,r){return e=Xee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xee(t){var e=Lze(t,"string");return Zv(e)=="symbol"?e:e+""}function Lze(t,e){if(Zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mze=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=C1().domain(g5(0,l)).range([a,a+s-o]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},q9=function(e){return e.changedTouches&&!!e.changedTouches.length},ey=function(t){function e(r){var n;return Cze(this,e),n=Ize(this,e,[r]),Ys(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ys(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ys(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Ys(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ys(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ys(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ys(n,"handleSlideDragStart",function(i){var a=q9(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Dze(e,t),kze(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,h=Math.min(i,a),p=Math.max(i,a),f=e.getIndexInRange(s,h),v=e.getIndexInRange(s,p);return{startIndex:f-f%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Ra(a[n],o,n);return Zt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,h=l.travellerWidth,p=l.startIndex,f=l.endIndex,v=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+d-h-o,u+d-h-s):m<0&&(m=Math.max(m,u-s,u-o));var g=this.getIndex({startX:s+m,endX:o+m});(g.startIndex!==p||g.endIndex!==f)&&v&&v(g),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=q9(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],d=this.props,h=d.x,p=d.width,f=d.travellerWidth,v=d.onChange,m=d.gap,g=d.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,h+p-f-u):x<0&&(x=Math.max(x,h-u)),y[s]=u+x;var _=this.getIndex(y),A=_.startIndex,E=_.endIndex,I=function(){var N=g.length-1;return s==="startX"&&(o>l?A%m===0:E%m===0)||o<l&&E===N||s==="endX"&&(o>l?E%m===0:A%m===0)||o>l&&E===N};this.setState(Ys(Ys({},s,u+x),"brushMoveStartX",n.pageX),function(){v&&I()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],h=o.indexOf(d);if(h!==-1){var p=h+n;if(!(p===-1||p>=o.length)){var f=o[p];i==="startX"&&f>=u||i==="endX"&&f<=l||this.setState(Ys({},i,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return ue.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,h=T.Children.only(u);return h?ue.cloneElement(h,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,h=l.height,p=l.traveller,f=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),x=sP(sP({},Kt(this.props,!1)),{},{x:y,y:u,width:d,height:h}),_=f||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=v[g])===null||s===void 0?void 0:s.name);return ue.createElement(an,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:h,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,p=d.endX,f=5,v={pointerEvents:"none",fill:u};return ue.createElement(an,{className:"recharts-brush-texts"},ue.createElement(am,v5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-f,y:s+o/2},v),this.getTextOfTick(i)),ue.createElement(am,v5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+l+f,y:s+o/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,h=n.alwaysShowText,p=this.state,f=p.startX,v=p.endX,m=p.isTextActive,g=p.isSlideMoving,y=p.isTravellerMoving,x=p.isTravellerFocused;if(!i||!i.length||!tt(o)||!tt(l)||!tt(u)||!tt(d)||u<=0||d<=0)return null;var _=pr("recharts-brush",a),A=ue.Children.count(s)===1,E=Tze("userSelect","none");return ue.createElement(an,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(f,v),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||x||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(a+o/2)-1;return ue.createElement(ue.Fragment,null,ue.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),ue.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),ue.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ue.isValidElement(n)?a=ue.cloneElement(n,i):Zt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return sP({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?Mze({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(T.PureComponent);Ys(ey,"displayName","Brush");Ys(ey,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $ze=SR;function Fze(t,e){var r;return $ze(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Bze=Fze,Uze=$J,Vze=Fc,zze=Bze,qze=Rs,Wze=wN;function Hze(t,e,r){var n=qze(t)?Uze:zze;return r&&Wze(t,e,r)&&(e=void 0),n(t,Vze(e))}var Gze=Hze;const Kze=Qr(Gze);var Pc=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},W9=sZ;function Yze(t,e,r){e=="__proto__"&&W9?W9(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Xze=Yze,Qze=Xze,Jze=iZ,Zze=Fc;function eqe(t,e){var r={};return e=Zze(e),Jze(t,function(n,i,a){Qze(r,i,e(n,i,a))}),r}var tqe=eqe;const rqe=Qr(tqe);function nqe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var iqe=nqe,aqe=SR;function sqe(t,e){var r=!0;return aqe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var oqe=sqe,lqe=iqe,cqe=oqe,uqe=Fc,dqe=Rs,hqe=wN;function fqe(t,e,r){var n=dqe(t)?lqe:cqe;return r&&hqe(t,e,r)&&(e=void 0),n(t,uqe(e))}var pqe=fqe;const Qee=Qr(pqe);var mqe=["x","y"];function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function f4(){return f4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f4.apply(this,arguments)}function H9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(r),!0).forEach(function(n){gqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gqe(t,e,r){return e=vqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vqe(t){var e=yqe(t,"string");return ex(e)=="symbol"?e:e+""}function yqe(t,e){if(ex(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bqe(t,e){if(t==null)return{};var r=xqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wqe(t,e){var r=t.x,n=t.y,i=bqe(t,mqe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),p=parseInt(h,10);return F0(F0(F0(F0(F0({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function G9(t){return ue.createElement(qee,f4({shapeType:"rectangle",propTransformer:wqe,activeClassName:"recharts-active-bar"},t))}var _qe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=tt(n)||KPe(n);return a?e(n,i):(a||om(),r)}},Sqe=["value","background"],Jee;function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function Aqe(t,e){if(t==null)return{};var r=Nqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function b5(){return b5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b5.apply(this,arguments)}function K9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(r),!0).forEach(function(n){mh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ete(n.key),n)}}function jqe(t,e,r){return e&&Y9(t.prototype,e),r&&Y9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pqe(t,e,r){return e=x5(e),Tqe(t,Zee()?Reflect.construct(e,r||[],x5(t).constructor):e.apply(t,r))}function Tqe(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cqe(t)}function Cqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zee=function(){return!!t})()}function x5(t){return x5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x5(t)}function kqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p4(t,e)}function p4(t,e){return p4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p4(t,e)}function mh(t,e,r){return e=ete(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ete(t){var e=Iqe(t,"string");return ty(e)=="symbol"?e:e+""}function Iqe(t,e){if(ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bo=function(t){function e(){var r;Eqe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Pqe(this,e,[].concat(i)),mh(r,"state",{isAnimationFinished:!1}),mh(r,"id",Zx("recharts-bar-")),mh(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),mh(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return kqe(e,t),jqe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,d=Kt(this.props,!1);return n&&n.map(function(h,p){var f=p===l,v=f?u:s,m=Ni(Ni(Ni({},d),h),{},{isActive:f,option:v,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ue.createElement(an,b5({className:"recharts-bar-rectangle"},im(i.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(p)}),ue.createElement(G9,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,p=this.state.prevData;return ue.createElement(Xu,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var v=f.t,m=a.map(function(g,y){var x=p&&p[y];if(x){var _=qd(x.x,g.x),A=qd(x.y,g.y),E=qd(x.width,g.width),I=qd(x.height,g.height);return Ni(Ni({},g),{},{x:_(v),y:A(v),width:E(v),height:I(v)})}if(s==="horizontal"){var j=qd(0,g.height),N=j(v);return Ni(Ni({},g),{},{y:g.y+g.height-N,height:N})}var k=qd(0,g.width),D=k(v);return Ni(Ni({},g),{},{width:D})});return ue.createElement(an,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!IN(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Kt(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,p=Aqe(u,Sqe);if(!h)return null;var f=Ni(Ni(Ni(Ni(Ni({},p),{},{fill:"#eee"},h),l),im(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return ue.createElement(G9,b5({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},f))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,h=Ho(d,DN);if(!h)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,f=function(g,y){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:Ra(g,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ue.createElement(an,v,h.map(function(m){return ue.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:p,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,h=n.width,p=n.height,f=n.isAnimationActive,v=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=pr("recharts-bar",s),x=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,A=x||_,E=vr(m)?this.id:m;return ue.createElement(an,{className:y},x||_?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(E)},ue.createElement("rect",{x:x?u:u-h/2,y:_?d:d-p/2,width:x?h:h*2,height:_?p:p*2}))):null,ue.createElement(an,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!f||g)&&Mh.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(T.PureComponent);Jee=Bo;mh(Bo,"displayName","Bar");mh(Bo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ru.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mh(Bo,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,p=t.offset,f=h7e(n,r);if(!f)return null;var v=e.layout,m=r.type.defaultProps,g=m!==void 0?Ni(Ni({},m),r.props):r.props,y=g.dataKey,x=g.children,_=g.minPointSize,A=v==="horizontal"?s:a,E=u?A.scale.domain():null,I=b7e({numericAxis:A}),j=Ho(x,_N),N=h.map(function(k,D){var C,O,L,z,re,Y;u?C=f7e(u[d+D],E):(C=Ra(k,y),Array.isArray(C)||(C=[I,C]));var K=_qe(_,Jee.defaultProps.minPointSize)(C[1],D);if(v==="horizontal"){var q,Z=[s.scale(C[0]),s.scale(C[1])],ve=Z[0],ce=Z[1];O=$7({axis:a,ticks:o,bandSize:i,offset:f.offset,entry:k,index:D}),L=(q=ce??ve)!==null&&q!==void 0?q:void 0,z=f.size;var F=ve-ce;if(re=Number.isNaN(F)?0:F,Y={x:O,y:s.y,width:z,height:s.height},Math.abs(K)>0&&Math.abs(re)<Math.abs(K)){var V=ts(re||K)*(Math.abs(K)-Math.abs(re));L-=V,re+=V}}else{var G=[a.scale(C[0]),a.scale(C[1])],oe=G[0],J=G[1];if(O=oe,L=$7({axis:s,ticks:l,bandSize:i,offset:f.offset,entry:k,index:D}),z=J-oe,re=f.size,Y={x:a.x,y:L,width:a.width,height:re},Math.abs(K)>0&&Math.abs(z)<Math.abs(K)){var ie=ts(z||K)*(Math.abs(K)-Math.abs(z));z+=ie}}return Ni(Ni(Ni({},k),{},{x:O,y:L,width:z,height:re,value:u?C:C[1],payload:k,background:Y},j&&j[D]&&j[D].props),{},{tooltipPayload:[_ee(r,k)],tooltipPosition:{x:O+z/2,y:L+re/2}})});return Ni({data:N,layout:v},p)});function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function Oqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tte(n.key),n)}}function Rqe(t,e,r){return e&&X9(t.prototype,e),r&&X9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(r),!0).forEach(function(n){VN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VN(t,e,r){return e=tte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tte(t){var e=Dqe(t,"string");return tx(e)=="symbol"?e:e+""}function Dqe(t,e){if(tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lqe=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!Js(u,Bo);return d.reduce(function(f,v){var m=r[v],g=m.orientation,y=m.domain,x=m.padding,_=x===void 0?{}:x,A=m.mirror,E=m.reversed,I="".concat(g).concat(A?"Mirror":""),j,N,k,D,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=y[1]-y[0],L=1/0,z=m.categoricalDomain.sort(QPe);if(z.forEach(function(G,oe){oe>0&&(L=Math.min((G||0)-(z[oe-1]||0),L))}),Number.isFinite(L)){var re=L/O,Y=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(j=re*Y/2),m.padding==="no-gap"){var K=rs(e.barCategoryGap,re*Y),q=re*Y/2;j=q-K-(q-K)/Y*K}}}i==="xAxis"?N=[n.left+(_.left||0)+(j||0),n.left+n.width-(_.right||0)-(j||0)]:i==="yAxis"?N=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(j||0),n.top+n.height-(_.bottom||0)-(j||0)]:N=m.range,E&&(N=[N[1],N[0]]);var Z=yee(m,a,p),ve=Z.scale,ce=Z.realScaleType;ve.domain(y).range(N),bee(ve);var F=xee(ve,gl(gl({},m),{},{realScaleType:ce}));i==="xAxis"?(C=g==="top"&&!A||g==="bottom"&&A,k=n.left,D=h[I]-C*m.height):i==="yAxis"&&(C=g==="left"&&!A||g==="right"&&A,k=h[I]-C*m.width,D=n.top);var V=gl(gl(gl({},m),F),{},{realScaleType:ce,x:k,y:D,scale:ve,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return V.bandSize=i5(V,F),!m.hide&&i==="xAxis"?h[I]+=(C?-1:1)*V.height:m.hide||(h[I]+=(C?-1:1)*V.width),gl(gl({},f),{},VN({},v,V))},{})},rte=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Mqe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return rte({x:r,y:n},{x:i,y:a})},nte=function(){function t(e){Oqe(this,t),this.scale=e}return Rqe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();VN(nte,"EPS",1e-4);var ZR=function(e){var r=Object.keys(e).reduce(function(n,i){return gl(gl({},n),{},VN({},i,nte.create(e[i])))},{});return gl(gl({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return rqe(i,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return Qee(i,function(a,s){return r[s].isInRange(a)})}})};function $qe(t){return(t%180+180)%180}var Fqe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$qe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Bqe=Fc,Uqe=ew,Vqe=bN;function zqe(t){return function(e,r,n){var i=Object(e);if(!Uqe(e)){var a=Bqe(r);e=Vqe(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var qqe=zqe,Wqe=Gee;function Hqe(t){var e=Wqe(t),r=e%1;return e===e?r?e-r:e:0}var Gqe=Hqe,Kqe=JJ,Yqe=Fc,Xqe=Gqe,Qqe=Math.max;function Jqe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Xqe(r);return i<0&&(i=Qqe(n+i,0)),Kqe(t,Yqe(e),i)}var Zqe=Jqe,eWe=qqe,tWe=Zqe,rWe=eWe(tWe),nWe=rWe;const iWe=Qr(nWe);var aWe=Jje(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),eD=T.createContext(void 0),tD=T.createContext(void 0),ite=T.createContext(void 0),ate=T.createContext({}),ste=T.createContext(void 0),ote=T.createContext(0),lte=T.createContext(0),J9=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=aWe(a);return ue.createElement(eD.Provider,{value:n},ue.createElement(tD.Provider,{value:i},ue.createElement(ate.Provider,{value:a},ue.createElement(ite.Provider,{value:d},ue.createElement(ste.Provider,{value:s},ue.createElement(ote.Provider,{value:u},ue.createElement(lte.Provider,{value:l},o)))))))},sWe=function(){return T.useContext(ste)},cte=function(e){var r=T.useContext(eD);r==null&&om();var n=r[e];return n==null&&om(),n},oWe=function(){var e=T.useContext(eD);return Zd(e)},lWe=function(){var e=T.useContext(tD),r=iWe(e,function(n){return Qee(n.domain,Number.isFinite)});return r||Zd(e)},ute=function(e){var r=T.useContext(tD);r==null&&om();var n=r[e];return n==null&&om(),n},cWe=function(){var e=T.useContext(ite);return e},uWe=function(){return T.useContext(ate)},rD=function(){return T.useContext(lte)},nD=function(){return T.useContext(ote)};function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function dWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hte(n.key),n)}}function fWe(t,e,r){return e&&hWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pWe(t,e,r){return e=w5(e),mWe(t,dte()?Reflect.construct(e,r||[],w5(t).constructor):e.apply(t,r))}function mWe(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gWe(t)}function gWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dte=function(){return!!t})()}function w5(t){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w5(t)}function vWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m4(t,e)}function m4(t,e){return m4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m4(t,e)}function Z9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(r),!0).forEach(function(n){iD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iD(t,e,r){return e=hte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hte(t){var e=yWe(t,"string");return ry(e)=="symbol"?e:e+""}function yWe(t,e){if(ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bWe(t,e){return SWe(t)||_We(t,e)||wWe(t,e)||xWe()}function xWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wWe(t,e){if(t){if(typeof t=="string")return tB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tB(t,e)}}function tB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _We(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function SWe(t){if(Array.isArray(t))return t}function g4(){return g4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g4.apply(this,arguments)}var AWe=function(e,r){var n;return ue.isValidElement(e)?n=ue.cloneElement(e,r):Zt(e)?n=e(r):n=ue.createElement("line",g4({},r,{className:"recharts-reference-line-line"})),n},NWe=function(e,r,n,i,a,s,o,l,u){var d=a.x,h=a.y,p=a.width,f=a.height;if(n){var v=u.y,m=e.y.apply(v,{position:s});if(Pc(u,"discard")&&!e.y.isInRange(m))return null;var g=[{x:d+p,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(r){var y=u.x,x=e.x.apply(y,{position:s});if(Pc(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:h+f},{x,y:h}];return o==="top"?_.reverse():_}if(i){var A=u.segment,E=A.map(function(I){return e.apply(I,{position:s})});return Pc(u,"discard")&&Kze(E,function(I){return!e.isInRange(I)})?null:E}return null};function EWe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=sWe(),d=cte(i),h=ute(a),p=cWe();if(!u||!p)return null;Nl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ZR({x:d.scale,y:h.scale}),v=Vi(e),m=Vi(r),g=n&&n.length===2,y=NWe(f,v,m,g,p,t.position,d.orientation,h.orientation,t);if(!y)return null;var x=bWe(y,2),_=x[0],A=_.x,E=_.y,I=x[1],j=I.x,N=I.y,k=Pc(t,"hidden")?"url(#".concat(u,")"):void 0,D=eB(eB({clipPath:k},Kt(t,!0)),{},{x1:A,y1:E,x2:j,y2:N});return ue.createElement(an,{className:pr("recharts-reference-line",o)},AWe(s,D),Zi.renderCallByParent(t,Mqe({x1:A,y1:E,x2:j,y2:N})))}var aD=function(t){function e(){return dWe(this,e),pWe(this,e,arguments)}return vWe(e,t),fWe(e,[{key:"render",value:function(){return ue.createElement(EWe,this.props)}}])}(ue.Component);iD(aD,"displayName","ReferenceLine");iD(aD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function v4(){return v4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v4.apply(this,arguments)}function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function rB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(r),!0).forEach(function(n){zN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pte(n.key),n)}}function TWe(t,e,r){return e&&PWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CWe(t,e,r){return e=_5(e),kWe(t,fte()?Reflect.construct(e,r||[],_5(t).constructor):e.apply(t,r))}function kWe(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IWe(t)}function IWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fte=function(){return!!t})()}function _5(t){return _5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_5(t)}function OWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y4(t,e)}function y4(t,e){return y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y4(t,e)}function zN(t,e,r){return e=pte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pte(t){var e=RWe(t,"string");return ny(e)=="symbol"?e:e+""}function RWe(t,e){if(ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DWe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=ZR({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Pc(e,"discard")&&!s.isInRange(o)?null:o},qN=function(t){function e(){return jWe(this,e),CWe(this,e,arguments)}return OWe(e,t),TWe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Vi(i),d=Vi(a);if(Nl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=DWe(this.props);if(!h)return null;var p=h.x,f=h.y,v=this.props,m=v.shape,g=v.className,y=Pc(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=nB(nB({clipPath:y},Kt(this.props,!0)),{},{cx:p,cy:f});return ue.createElement(an,{className:pr("recharts-reference-dot",g)},e.renderDot(m,x),Zi.renderCallByParent(this.props,{x:p-s,y:f-s,width:2*s,height:2*s}))}}])}(ue.Component);zN(qN,"displayName","ReferenceDot");zN(qN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zN(qN,"renderDot",function(t,e){var r;return ue.isValidElement(t)?r=ue.cloneElement(t,e):Zt(t)?r=t(e):r=ue.createElement(JR,v4({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function b4(){return b4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b4.apply(this,arguments)}function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function iB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(r),!0).forEach(function(n){WN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gte(n.key),n)}}function $We(t,e,r){return e&&MWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FWe(t,e,r){return e=S5(e),BWe(t,mte()?Reflect.construct(e,r||[],S5(t).constructor):e.apply(t,r))}function BWe(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UWe(t)}function UWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mte=function(){return!!t})()}function S5(t){return S5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S5(t)}function VWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x4(t,e)}function x4(t,e){return x4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x4(t,e)}function WN(t,e,r){return e=gte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gte(t){var e=zWe(t,"string");return iy(e)=="symbol"?e:e+""}function zWe(t,e){if(iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qWe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var p=ZR({x:d.scale,y:h.scale}),f={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Pc(a,"discard")&&(!p.isInRange(f)||!p.isInRange(v))?null:rte(f,v)},HN=function(t){function e(){return LWe(this,e),FWe(this,e,arguments)}return VWe(e,t),$We(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Nl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Vi(i),p=Vi(a),f=Vi(s),v=Vi(o),m=this.props.shape;if(!h&&!p&&!f&&!v&&!m)return null;var g=qWe(h,p,f,v,this.props);if(!g&&!m)return null;var y=Pc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ue.createElement(an,{className:pr("recharts-reference-area",l)},e.renderRect(m,aB(aB({clipPath:y},Kt(this.props,!0)),g)),Zi.renderCallByParent(this.props,g))}}])}(ue.Component);WN(HN,"displayName","ReferenceArea");WN(HN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});WN(HN,"renderRect",function(t,e){var r;return ue.isValidElement(t)?r=ue.cloneElement(t,e):Zt(t)?r=t(e):r=ue.createElement(QR,b4({},e,{className:"recharts-reference-area-rect"})),r});function vte(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function WWe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Fqe(n,r)}function HWe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function A5(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function GWe(t,e){return vte(t,e+1)}function KWe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,h=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:vte(n,u)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},x=v.coordinate,_=l===0||A5(t,x,y,d,o);_||(l=0,d=s,u+=1),_&&(d=x+t*(y()/2+i),l+=u)},p;u<=a.length;)if(p=h(),p)return p.v;return[]}function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function sB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(r),!0).forEach(function(n){YWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YWe(t,e,r){return e=XWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XWe(t){var e=QWe(t,"string");return rx(e)=="symbol"?e:e+""}function QWe(t,e){if(rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JWe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(p){var f=a[p],v,m=function(){return v===void 0&&(v=r(f,p)),v};if(p===s-1){var g=t*(f.coordinate+t*m()/2-l);a[p]=f=Ta(Ta({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate})}else a[p]=f=Ta(Ta({},f),{},{tickCoord:f.coordinate});var y=A5(t,f.tickCoord,m,o,l);y&&(l=f.tickCoord-t*(m()/2+i),a[p]=Ta(Ta({},f),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function ZWe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var d=n[o-1],h=r(d,o-1),p=t*(d.coordinate+t*h/2-u);s[o-1]=d=Ta(Ta({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var f=A5(t,d.tickCoord,function(){return h},l,u);f&&(u=d.tickCoord-t*(h/2+i),s[o-1]=Ta(Ta({},d),{},{isShow:!0}))}for(var v=a?o-1:o,m=function(x){var _=s[x],A,E=function(){return A===void 0&&(A=r(_,x)),A};if(x===0){var I=t*(_.coordinate-t*E()/2-l);s[x]=_=Ta(Ta({},_),{},{tickCoord:I<0?_.coordinate-I*t:_.coordinate})}else s[x]=_=Ta(Ta({},_),{},{tickCoord:_.coordinate});var j=A5(t,_.tickCoord,E,l,u);j&&(l=_.tickCoord+t*(E()/2+i),s[x]=Ta(Ta({},_),{},{isShow:!0}))},g=0;g<v;g++)m(g);return s}function sD(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(tt(l)||Ru.isSsr)return GWe(i,typeof l=="number"&&tt(l)?l:0);var p=[],f=o==="top"||o==="bottom"?"width":"height",v=d&&f==="width"?T1(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(_,A){var E=Zt(u)?u(_.value,A):_.value;return f==="width"?WWe(T1(E,{fontSize:e,letterSpacing:r}),v,h):T1(E,{fontSize:e,letterSpacing:r})[f]},g=i.length>=2?ts(i[1].coordinate-i[0].coordinate):1,y=HWe(a,g,f);return l==="equidistantPreserveStart"?KWe(g,y,m,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=ZWe(g,y,m,i,s,l==="preserveStartEnd"):p=JWe(g,y,m,i,s),p.filter(function(x){return x.isShow}))}var eHe=["viewBox"],tHe=["viewBox"],rHe=["ticks"];function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jg.apply(this,arguments)}function oB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(r),!0).forEach(function(n){oD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oP(t,e){if(t==null)return{};var r=nHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bte(n.key),n)}}function aHe(t,e,r){return e&&lB(t.prototype,e),r&&lB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sHe(t,e,r){return e=N5(e),oHe(t,yte()?Reflect.construct(e,r||[],N5(t).constructor):e.apply(t,r))}function oHe(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lHe(t)}function lHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yte=function(){return!!t})()}function N5(t){return N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N5(t)}function cHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w4(t,e)}function w4(t,e){return w4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w4(t,e)}function oD(t,e,r){return e=bte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bte(t){var e=uHe(t,"string");return ay(e)=="symbol"?e:e+""}function uHe(t,e){if(ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ky=function(t){function e(r){var n;return iHe(this,e),n=sHe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return cHe(e,t),aHe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=oP(n,eHe),o=this.props,l=o.viewBox,u=oP(o,tHe);return!Kg(a,l)||!Kg(s,u)||!Kg(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,p=i.tickMargin,f,v,m,g,y,x,_=h?-1:1,A=n.tickSize||d,E=tt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":f=v=n.coordinate,g=s+ +!h*l,m=g-_*A,x=m-_*p,y=E;break;case"left":m=g=n.coordinate,v=a+ +!h*o,f=v-_*A,y=f-_*p,x=E;break;case"right":m=g=n.coordinate,v=a+ +h*o,f=v+_*A,y=f+_*p,x=E;break;default:f=v=n.coordinate,g=s+ +h*l,m=g+_*A,x=m+_*p,y=E;break}return{line:{x1:f,y1:m,x2:v,y2:g},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,h=Di(Di(Di({},Kt(this.props,!1)),Kt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);h=Di(Di({},h),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var f=+(l==="left"&&!u||l==="right"&&u);h=Di(Di({},h),{},{x1:i+f*s,y1:a,x2:i+f*s,y2:a+o})}return ue.createElement("line",jg({},h,{className:pr("recharts-cartesian-axis-line",co(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,h=o.tickFormatter,p=o.unit,f=sD(Di(Di({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Kt(this.props,!1),y=Kt(d,!1),x=Di(Di({},g),{},{fill:"none"},Kt(l,!1)),_=f.map(function(A,E){var I=s.getTickLineCoord(A),j=I.line,N=I.tick,k=Di(Di(Di(Di({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:u},y),N),{},{index:E,payload:A,visibleTicksCount:f.length,tickFormatter:h});return ue.createElement(an,jg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},im(s.props,A,E)),l&&ue.createElement("line",jg({},x,j,{className:pr("recharts-cartesian-axis-tick-line",co(l,"className"))})),d&&e.renderTickItem(d,k,"".concat(Zt(h)?h(A.value,E):A.value).concat(p||"")))});return ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,p=h.ticks,f=oP(h,rHe),v=p;return Zt(l)&&(v=p&&p.length>0?l(this.props):l(f)),s<=0||o<=0||!v||!v.length?null:ue.createElement(an,{className:pr("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Zi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=pr(i.className,"recharts-cartesian-axis-tick-value");return ue.isValidElement(n)?s=ue.cloneElement(n,Di(Di({},i),{},{className:o})):Zt(n)?s=n(Di(Di({},i),{},{className:o})):s=ue.createElement(am,jg({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(T.Component);oD(Ky,"displayName","CartesianAxis");oD(Ky,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dHe=["x1","y1","x2","y2","key"],hHe=["offset"];function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function cB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(r),!0).forEach(function(n){fHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fHe(t,e,r){return e=pHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pHe(t){var e=mHe(t,"string");return lm(e)=="symbol"?e:e+""}function mHe(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(this,arguments)}function uB(t,e){if(t==null)return{};var r=gHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vHe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return ue.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xte(t,e){var r;if(ue.isValidElement(t))r=ue.cloneElement(t,e);else if(Zt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=uB(e,dHe),u=Kt(l,!1);u.offset;var d=uB(u,hHe);r=ue.createElement("line",fp({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function yHe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Oa(Oa({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return xte(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function bHe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=Oa(Oa({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return xte(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function xHe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,f){return p-f});i!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var v=!d[f+1],m=v?i+s-p:d[f+1]-p;if(m<=0)return null;var g=f%e.length;return ue.createElement("rect",{key:"react-".concat(f),y:p,x:n,height:m,width:a,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function wHe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,f){return p-f});a!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var v=!d[f+1],m=v?a+o-p:d[f+1]-p;if(m<=0)return null;var g=f%n.length;return ue.createElement("rect",{key:"react-".concat(f),x:p,y:s,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var _He=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return vee(sD(Oa(Oa(Oa({},Ky.defaultProps),n),{},{ticks:Eu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},SHe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return vee(sD(Oa(Oa(Oa({},Ky.defaultProps),n),{},{ticks:Eu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Qm={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function D1(t){var e,r,n,i,a,s,o=rD(),l=nD(),u=uWe(),d=Oa(Oa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Qm.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Qm.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Qm.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Qm.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Qm.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Qm.verticalFill,x:tt(t.x)?t.x:u.left,y:tt(t.y)?t.y:u.top,width:tt(t.width)?t.width:u.width,height:tt(t.height)?t.height:u.height}),h=d.x,p=d.y,f=d.width,v=d.height,m=d.syncWithTicks,g=d.horizontalValues,y=d.verticalValues,x=oWe(),_=lWe();if(!tt(f)||f<=0||!tt(v)||v<=0||!tt(h)||h!==+h||!tt(p)||p!==+p)return null;var A=d.verticalCoordinatesGenerator||_He,E=d.horizontalCoordinatesGenerator||SHe,I=d.horizontalPoints,j=d.verticalPoints;if((!I||!I.length)&&Zt(E)){var N=g&&g.length,k=E({yAxis:_?Oa(Oa({},_),{},{ticks:N?g:_.ticks}):void 0,width:o,height:l,offset:u},N?!0:m);Nl(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lm(k),"]")),Array.isArray(k)&&(I=k)}if((!j||!j.length)&&Zt(A)){var D=y&&y.length,C=A({xAxis:x?Oa(Oa({},x),{},{ticks:D?y:x.ticks}):void 0,width:o,height:l,offset:u},D?!0:m);Nl(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lm(C),"]")),Array.isArray(C)&&(j=C)}return ue.createElement("g",{className:"recharts-cartesian-grid"},ue.createElement(vHe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ue.createElement(yHe,fp({},d,{offset:u,horizontalPoints:I,xAxis:x,yAxis:_})),ue.createElement(bHe,fp({},d,{offset:u,verticalPoints:j,xAxis:x,yAxis:_})),ue.createElement(xHe,fp({},d,{horizontalPoints:I})),ue.createElement(wHe,fp({},d,{verticalPoints:j})))}D1.displayName="CartesianGrid";function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function AHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ste(n.key),n)}}function EHe(t,e,r){return e&&NHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jHe(t,e,r){return e=E5(e),PHe(t,wte()?Reflect.construct(e,r||[],E5(t).constructor):e.apply(t,r))}function PHe(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return THe(t)}function THe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wte=function(){return!!t})()}function E5(t){return E5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E5(t)}function CHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_4(t,e)}function _4(t,e){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_4(t,e)}function _te(t,e,r){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ste(t){var e=kHe(t,"string");return sy(e)=="symbol"?e:e+""}function kHe(t,e){if(sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S4(){return S4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S4.apply(this,arguments)}function IHe(t){var e=t.xAxisId,r=rD(),n=nD(),i=cte(e);return i==null?null:T.createElement(Ky,S4({},i,{className:pr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Eu(s,!0)}}))}var Ip=function(t){function e(){return AHe(this,e),jHe(this,e,arguments)}return CHe(e,t),EHe(e,[{key:"render",value:function(){return T.createElement(IHe,this.props)}}])}(T.Component);_te(Ip,"displayName","XAxis");_te(Ip,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function OHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ete(n.key),n)}}function DHe(t,e,r){return e&&RHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LHe(t,e,r){return e=j5(e),MHe(t,Ate()?Reflect.construct(e,r||[],j5(t).constructor):e.apply(t,r))}function MHe(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $He(t)}function $He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ate(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ate=function(){return!!t})()}function j5(t){return j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j5(t)}function FHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A4(t,e)}function A4(t,e){return A4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A4(t,e)}function Nte(t,e,r){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ete(t){var e=BHe(t,"string");return oy(e)=="symbol"?e:e+""}function BHe(t,e){if(oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N4(){return N4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N4.apply(this,arguments)}var UHe=function(e){var r=e.yAxisId,n=rD(),i=nD(),a=ute(r);return a==null?null:T.createElement(Ky,N4({},a,{className:pr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Eu(o,!0)}}))},Op=function(t){function e(){return OHe(this,e),LHe(this,e,arguments)}return FHe(e,t),DHe(e,[{key:"render",value:function(){return T.createElement(UHe,this.props)}}])}(T.Component);Nte(Op,"displayName","YAxis");Nte(Op,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dB(t){return WHe(t)||qHe(t)||zHe(t)||VHe()}function VHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zHe(t,e){if(t){if(typeof t=="string")return E4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E4(t,e)}}function qHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WHe(t){if(Array.isArray(t))return E4(t)}function E4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j4=function(e,r,n,i,a){var s=Ho(e,aD),o=Ho(e,qN),l=[].concat(dB(s),dB(o)),u=Ho(e,HN),d="".concat(i,"Id"),h=i[0],p=r;if(l.length&&(p=l.reduce(function(m,g){if(g.props[d]===n&&Pc(g.props,"extendDomain")&&tt(g.props[h])){var y=g.props[h];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},p)),u.length){var f="".concat(h,"1"),v="".concat(h,"2");p=u.reduce(function(m,g){if(g.props[d]===n&&Pc(g.props,"extendDomain")&&tt(g.props[f])&&tt(g.props[v])){var y=g.props[f],x=g.props[v];return[Math.min(m[0],y,x),Math.max(m[1],y,x)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,g){return tt(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},p)),p},jte={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new i(d,h||l,p),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],f]:l._events[v].push(f):(l._events[v]=f,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,f=h.length,v=new Array(f);p<f;p++)v[p]=h[p].fn;return v},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,p,f,v){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,x,_;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,h),!0;case 4:return g.fn.call(g.context,d,h,p),!0;case 5:return g.fn.call(g.context,d,h,p,f),!0;case 6:return g.fn.call(g.context,d,h,p,f,v),!0}for(_=1,x=new Array(y-1);_<y;_++)x[_-1]=arguments[_];g.fn.apply(g.context,x)}else{var A=g.length,E;for(_=0;_<A;_++)switch(g[_].once&&this.removeListener(u,g[_].fn,void 0,!0),y){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,d);break;case 3:g[_].fn.call(g[_].context,d,h);break;case 4:g[_].fn.call(g[_].context,d,h,p);break;default:if(!x)for(E=1,x=new Array(y-1);E<y;E++)x[E-1]=arguments[E];g[_].fn.apply(g[_].context,x)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,p){var f=r?r+u:u;if(!this._events[f])return this;if(!d)return s(this,f),this;var v=this._events[f];if(v.fn)v.fn===d&&(!p||v.once)&&(!h||v.context===h)&&s(this,f);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==d||p&&!v[m].once||h&&v[m].context!==h)&&g.push(v[m]);g.length?this._events[f]=g.length===1?g[0]:g:s(this,f)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(jte);var HHe=jte.exports;const GHe=Qr(HHe);var lP=new GHe,cP="recharts.syncMouseEvents";function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function KHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pte(n.key),n)}}function XHe(t,e,r){return e&&YHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uP(t,e,r){return e=Pte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pte(t){var e=QHe(t,"string");return nx(e)=="symbol"?e:e+""}function QHe(t,e){if(nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JHe=function(){function t(){KHe(this,t),uP(this,"activeIndex",0),uP(this,"coordinateList",[]),uP(this,"layout","horizontal")}return XHe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,h=d===void 0?null:d,p=r.mouseHandlerCallback,f=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+l+u,p=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function ZHe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&tt(n)&&tt(i))return!0}return!1}function eGe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Tte(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=In(e,r,n,i),o=In(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function tGe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,p=In(o,l,u,h),f=In(o,l,d,h);n=p.x,i=p.y,a=f.x,s=f.y}else return Tte(e);return[{x:n,y:i},{x:a,y:s}]}function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function hB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(r),!0).forEach(function(n){rGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rGe(t,e,r){return e=nGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nGe(t){var e=iGe(t,"string");return ix(e)=="symbol"?e:e+""}function iGe(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aGe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var v,m=Xk;if(p==="ScatterChart")v=s,m=LUe;else if(p==="BarChart")v=eGe(h,s,l,d),m=QR;else if(h==="radial"){var g=Tte(s),y=g.cx,x=g.cy,_=g.radius,A=g.startAngle,E=g.endAngle;v={cx:y,cy:x,startAngle:A,endAngle:E,innerRadius:_,outerRadius:_},m=Pee}else v={points:tGe(h,s,l)},m=Xk;var I=A2(A2(A2(A2({stroke:"#ccc",pointerEvents:"none"},l),v),Kt(f,!1)),{},{payload:o,payloadIndex:u,className:pr("recharts-tooltip-cursor",f.className)});return T.isValidElement(f)?T.cloneElement(f,I):T.createElement(m,I)}var sGe=["item"],oGe=["children","className","width","height","style","compact","title","desc"];function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pg.apply(this,arguments)}function fB(t,e){return uGe(t)||cGe(t,e)||kte(t,e)||lGe()}function lGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function uGe(t){if(Array.isArray(t))return t}function pB(t,e){if(t==null)return{};var r=dGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fGe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ite(n.key),n)}}function pGe(t,e,r){return e&&fGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mGe(t,e,r){return e=P5(e),gGe(t,Cte()?Reflect.construct(e,r||[],P5(t).constructor):e.apply(t,r))}function gGe(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vGe(t)}function vGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cte=function(){return!!t})()}function P5(t){return P5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P5(t)}function yGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P4(t,e)}function P4(t,e){return P4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P4(t,e)}function cy(t){return wGe(t)||xGe(t)||kte(t)||bGe()}function bGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kte(t,e){if(t){if(typeof t=="string")return T4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T4(t,e)}}function xGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wGe(t){if(Array.isArray(t))return T4(t)}function T4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mB(Object(r),!0).forEach(function(n){zt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zt(t,e,r){return e=Ite(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ite(t){var e=_Ge(t,"string");return ly(e)=="symbol"?e:e+""}function _Ge(t,e){if(ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SGe={xAxis:["bottom","top"],yAxis:["left","right"]},AGe={width:"100%",height:"100%"},Ote={x:0,y:0};function N2(t){return t}var NGe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},EGe=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Be(Be(Be({},i),In(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return Be(Be(Be({},i),In(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Ote},GN=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(cy(o),cy(u)):o},[]);return s.length>0?s:e&&e.length&&tt(i)&&tt(a)?e.slice(i,a+1):[]};function Rte(t){return t==="number"?[0,"auto"]:void 0}var C4=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=GN(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var f=h===void 0?o:h;p=ik(f,s.dataKey,i)}else p=h&&h[n]||o[n];return p?[].concat(cy(l),[_ee(u,p)]):l},[])},gB=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=NGe(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=s7e(s,o,u,l);if(d>=0&&u){var h=u[d]&&u[d].value,p=C4(e,r,d,h),f=EGe(n,o,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:p,activeCoordinate:f}}return null},jGe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,p=e.stackOffset,f=gee(d,a);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?Be(Be({},m.type.defaultProps),m.props):m.props,x=y.type,_=y.dataKey,A=y.allowDataOverflow,E=y.allowDuplicatedCategory,I=y.scale,j=y.ticks,N=y.includeHidden,k=y[s];if(v[k])return v;var D=GN(e.data,{graphicalItems:i.filter(function(F){var V,G=s in F.props?F.props[s]:(V=F.type.defaultProps)===null||V===void 0?void 0:V[s];return G===k}),dataStartIndex:l,dataEndIndex:u}),C=D.length,O,L,z;ZHe(y.domain,A,x)&&(O=Wk(y.domain,null,A),f&&(x==="number"||I!=="auto")&&(z=k1(D,_,"category")));var re=Rte(x);if(!O||O.length===0){var Y,K=(Y=y.domain)!==null&&Y!==void 0?Y:re;if(_){if(O=k1(D,_,x),x==="category"&&f){var q=XPe(O);E&&q?(L=O,O=g5(0,C)):E||(O=U7(K,O,m).reduce(function(F,V){return F.indexOf(V)>=0?F:[].concat(cy(F),[V])},[]))}else if(x==="category")E?O=O.filter(function(F){return F!==""&&!vr(F)}):O=U7(K,O,m).reduce(function(F,V){return F.indexOf(V)>=0||V===""||vr(V)?F:[].concat(cy(F),[V])},[]);else if(x==="number"){var Z=d7e(D,i.filter(function(F){var V,G,oe=s in F.props?F.props[s]:(V=F.type.defaultProps)===null||V===void 0?void 0:V[s],J="hide"in F.props?F.props.hide:(G=F.type.defaultProps)===null||G===void 0?void 0:G.hide;return oe===k&&(N||!J)}),_,a,d);Z&&(O=Z)}f&&(x==="number"||I!=="auto")&&(z=k1(D,_,"category"))}else f?O=g5(0,C):o&&o[k]&&o[k].hasStack&&x==="number"?O=p==="expand"?[0,1]:wee(o[k].stackGroups,l,u):O=mee(D,i.filter(function(F){var V=s in F.props?F.props[s]:F.type.defaultProps[s],G="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return V===k&&(N||!G)}),x,d,!0);if(x==="number")O=j4(h,O,k,a,j),K&&(O=Wk(K,O,A));else if(x==="category"&&K){var ve=K,ce=O.every(function(F){return ve.indexOf(F)>=0});ce&&(O=ve)}}return Be(Be({},v),{},zt({},k,Be(Be({},y),{},{axisType:a,domain:O,categoricalDomain:z,duplicateDomain:L,originalDomain:(g=y.domain)!==null&&g!==void 0?g:re,isCategorical:f,layout:d})))},{})},PGe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,p=GN(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),f=p.length,v=gee(d,a),m=-1;return n.reduce(function(g,y){var x=y.type.defaultProps!==void 0?Be(Be({},y.type.defaultProps),y.props):y.props,_=x[s],A=Rte("number");if(!g[_]){m++;var E;return v?E=g5(0,f):o&&o[_]&&o[_].hasStack?(E=wee(o[_].stackGroups,l,u),E=j4(h,E,_,a)):(E=Wk(A,mee(p,n.filter(function(I){var j,N,k=s in I.props?I.props[s]:(j=I.type.defaultProps)===null||j===void 0?void 0:j[s],D="hide"in I.props?I.props.hide:(N=I.type.defaultProps)===null||N===void 0?void 0:N.hide;return k===_&&!D}),"number",d),i.defaultProps.allowDataOverflow),E=j4(h,E,_,a)),Be(Be({},g),{},zt({},_,Be(Be({axisType:a},i.defaultProps),{},{hide:!0,orientation:co(SGe,"".concat(a,".").concat(m%2),null),domain:E,originalDomain:A,isCategorical:v,layout:d})))}return g},{})},TGe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),p=Ho(d,a),f={};return p&&p.length?f=jGe(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(f=PGe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),f},CGe=function(e){var r=Zd(e),n=Eu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:AR(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:i5(r,n)}},vB=function(e){var r=e.children,n=e.defaultShowTooltip,i=Js(r,ey),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},kGe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ou(r&&r.type);return n&&n.indexOf("Bar")>=0})},yB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},IGe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,h=n.children,p=n.margin||{},f=Js(h,ey),v=Js(h,Yg),m=Object.keys(l).reduce(function(E,I){var j=l[I],N=j.orientation;return!j.mirror&&!j.hide?Be(Be({},E),{},zt({},N,E[N]+j.width)):E},{left:p.left||0,right:p.right||0}),g=Object.keys(s).reduce(function(E,I){var j=s[I],N=j.orientation;return!j.mirror&&!j.hide?Be(Be({},E),{},zt({},N,co(E,"".concat(N))+j.height)):E},{top:p.top||0,bottom:p.bottom||0}),y=Be(Be({},g),m),x=y.bottom;f&&(y.bottom+=f.props.height||ey.defaultProps.height),v&&r&&(y=c7e(y,i,n,r));var _=u-y.left-y.right,A=d-y.top-y.bottom;return Be(Be({brushBottom:x},y),{},{width:Math.max(_,0),height:Math.max(A,0)})},OGe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Dte=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,p=function(y,x){var _=x.graphicalItems,A=x.stackGroups,E=x.offset,I=x.updateId,j=x.dataStartIndex,N=x.dataEndIndex,k=y.barSize,D=y.layout,C=y.barGap,O=y.barCategoryGap,L=y.maxBarSize,z=yB(D),re=z.numericAxisName,Y=z.cateAxisName,K=kGe(_),q=[];return _.forEach(function(Z,ve){var ce=GN(y.data,{graphicalItems:[Z],dataStartIndex:j,dataEndIndex:N}),F=Z.type.defaultProps!==void 0?Be(Be({},Z.type.defaultProps),Z.props):Z.props,V=F.dataKey,G=F.maxBarSize,oe=F["".concat(re,"Id")],J=F["".concat(Y,"Id")],ie={},be=l.reduce(function(je,Me){var et=x["".concat(Me.axisType,"Map")],Yt=F["".concat(Me.axisType,"Id")];et&&et[Yt]||Me.axisType==="zAxis"||om();var Nt=et[Yt];return Be(Be({},je),{},zt(zt({},Me.axisType,Nt),"".concat(Me.axisType,"Ticks"),Eu(Nt)))},ie),he=be[Y],P=be["".concat(Y,"Ticks")],X=A&&A[oe]&&A[oe].hasStack&&x7e(Z,A[oe].stackGroups),ne=Ou(Z.type).indexOf("Bar")>=0,de=i5(he,P),ge=[],ee=K&&o7e({barSize:k,stackGroups:A,totalSize:OGe(be,Y)});if(ne){var Ae,De,Le=vr(G)?L:G,_e=(Ae=(De=i5(he,P,!0))!==null&&De!==void 0?De:Le)!==null&&Ae!==void 0?Ae:0;ge=l7e({barGap:C,barCategoryGap:O,bandSize:_e!==de?_e:de,sizeList:ee[J],maxBarSize:Le}),_e!==de&&(ge=ge.map(function(je){return Be(Be({},je),{},{position:Be(Be({},je.position),{},{offset:je.position.offset-_e/2})})}))}var ke=Z&&Z.type&&Z.type.getComposedData;ke&&q.push({props:Be(Be({},ke(Be(Be({},be),{},{displayedData:ce,props:y,dataKey:V,item:Z,bandSize:de,barPosition:ge,offset:E,stackedData:X,layout:D,dataStartIndex:j,dataEndIndex:N}))),{},zt(zt(zt({key:Z.key||"item-".concat(ve)},re,be[re]),Y,be[Y]),"animationId",I)),childIndex:lTe(Z,y.children),item:Z})}),q},f=function(y,x){var _=y.props,A=y.dataStartIndex,E=y.dataEndIndex,I=y.updateId;if(!D$({props:_}))return null;var j=_.children,N=_.layout,k=_.stackOffset,D=_.data,C=_.reverseStackOrder,O=yB(N),L=O.numericAxisName,z=O.cateAxisName,re=Ho(j,n),Y=y7e(D,re,"".concat(L,"Id"),"".concat(z,"Id"),k,C),K=l.reduce(function(F,V){var G="".concat(V.axisType,"Map");return Be(Be({},F),{},zt({},G,TGe(_,Be(Be({},V),{},{graphicalItems:re,stackGroups:V.axisType===L&&Y,dataStartIndex:A,dataEndIndex:E}))))},{}),q=IGe(Be(Be({},K),{},{props:_,graphicalItems:re}),x==null?void 0:x.legendBBox);Object.keys(K).forEach(function(F){K[F]=d(_,K[F],q,F.replace("Map",""),r)});var Z=K["".concat(z,"Map")],ve=CGe(Z),ce=p(_,Be(Be({},K),{},{dataStartIndex:A,dataEndIndex:E,updateId:I,graphicalItems:re,stackGroups:Y,offset:q}));return Be(Be({formattedGraphicalItems:ce,graphicalItems:re,offset:q,stackGroups:Y},ve),K)},v=function(g){function y(x){var _,A,E;return hGe(this,y),E=mGe(this,y,[x]),zt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),zt(E,"accessibilityManager",new JHe),zt(E,"handleLegendBBoxUpdate",function(I){if(I){var j=E.state,N=j.dataStartIndex,k=j.dataEndIndex,D=j.updateId;E.setState(Be({legendBBox:I},f({props:E.props,dataStartIndex:N,dataEndIndex:k,updateId:D},Be(Be({},E.state),{},{legendBBox:I}))))}}),zt(E,"handleReceiveSyncEvent",function(I,j,N){if(E.props.syncId===I){if(N===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(j)}}),zt(E,"handleBrushChange",function(I){var j=I.startIndex,N=I.endIndex;if(j!==E.state.dataStartIndex||N!==E.state.dataEndIndex){var k=E.state.updateId;E.setState(function(){return Be({dataStartIndex:j,dataEndIndex:N},f({props:E.props,dataStartIndex:j,dataEndIndex:N,updateId:k},E.state))}),E.triggerSyncEvent({dataStartIndex:j,dataEndIndex:N})}}),zt(E,"handleMouseEnter",function(I){var j=E.getMouseInfo(I);if(j){var N=Be(Be({},j),{},{isTooltipActive:!0});E.setState(N),E.triggerSyncEvent(N);var k=E.props.onMouseEnter;Zt(k)&&k(N,I)}}),zt(E,"triggeredAfterMouseMove",function(I){var j=E.getMouseInfo(I),N=j?Be(Be({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(N),E.triggerSyncEvent(N);var k=E.props.onMouseMove;Zt(k)&&k(N,I)}),zt(E,"handleItemMouseEnter",function(I){E.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),zt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),zt(E,"handleMouseMove",function(I){I.persist(),E.throttleTriggeredAfterMouseMove(I)}),zt(E,"handleMouseLeave",function(I){E.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};E.setState(j),E.triggerSyncEvent(j);var N=E.props.onMouseLeave;Zt(N)&&N(j,I)}),zt(E,"handleOuterEvent",function(I){var j=oTe(I),N=co(E.props,"".concat(j));if(j&&Zt(N)){var k,D;/.*touch.*/i.test(j)?D=E.getMouseInfo(I.changedTouches[0]):D=E.getMouseInfo(I),N((k=D)!==null&&k!==void 0?k:{},I)}}),zt(E,"handleClick",function(I){var j=E.getMouseInfo(I);if(j){var N=Be(Be({},j),{},{isTooltipActive:!0});E.setState(N),E.triggerSyncEvent(N);var k=E.props.onClick;Zt(k)&&k(N,I)}}),zt(E,"handleMouseDown",function(I){var j=E.props.onMouseDown;if(Zt(j)){var N=E.getMouseInfo(I);j(N,I)}}),zt(E,"handleMouseUp",function(I){var j=E.props.onMouseUp;if(Zt(j)){var N=E.getMouseInfo(I);j(N,I)}}),zt(E,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),zt(E,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&E.handleMouseDown(I.changedTouches[0])}),zt(E,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&E.handleMouseUp(I.changedTouches[0])}),zt(E,"handleDoubleClick",function(I){var j=E.props.onDoubleClick;if(Zt(j)){var N=E.getMouseInfo(I);j(N,I)}}),zt(E,"handleContextMenu",function(I){var j=E.props.onContextMenu;if(Zt(j)){var N=E.getMouseInfo(I);j(N,I)}}),zt(E,"triggerSyncEvent",function(I){E.props.syncId!==void 0&&lP.emit(cP,E.props.syncId,I,E.eventEmitterSymbol)}),zt(E,"applySyncEvent",function(I){var j=E.props,N=j.layout,k=j.syncMethod,D=E.state.updateId,C=I.dataStartIndex,O=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)E.setState(Be({dataStartIndex:C,dataEndIndex:O},f({props:E.props,dataStartIndex:C,dataEndIndex:O,updateId:D},E.state)));else if(I.activeTooltipIndex!==void 0){var L=I.chartX,z=I.chartY,re=I.activeTooltipIndex,Y=E.state,K=Y.offset,q=Y.tooltipTicks;if(!K)return;if(typeof k=="function")re=k(q,I);else if(k==="value"){re=-1;for(var Z=0;Z<q.length;Z++)if(q[Z].value===I.activeLabel){re=Z;break}}var ve=Be(Be({},K),{},{x:K.left,y:K.top}),ce=Math.min(L,ve.x+ve.width),F=Math.min(z,ve.y+ve.height),V=q[re]&&q[re].value,G=C4(E.state,E.props.data,re),oe=q[re]?{x:N==="horizontal"?q[re].coordinate:ce,y:N==="horizontal"?F:q[re].coordinate}:Ote;E.setState(Be(Be({},I),{},{activeLabel:V,activeCoordinate:oe,activePayload:G,activeTooltipIndex:re}))}else E.setState(I)}),zt(E,"renderCursor",function(I){var j,N=E.state,k=N.isTooltipActive,D=N.activeCoordinate,C=N.activePayload,O=N.offset,L=N.activeTooltipIndex,z=N.tooltipAxisBandSize,re=E.getTooltipEventType(),Y=(j=I.props.active)!==null&&j!==void 0?j:k,K=E.props.layout,q=I.key||"_recharts-cursor";return ue.createElement(aGe,{key:q,activeCoordinate:D,activePayload:C,activeTooltipIndex:L,chartName:r,element:I,isActive:Y,layout:K,offset:O,tooltipAxisBandSize:z,tooltipEventType:re})}),zt(E,"renderPolarAxis",function(I,j,N){var k=co(I,"type.axisType"),D=co(E.state,"".concat(k,"Map")),C=I.type.defaultProps,O=C!==void 0?Be(Be({},C),I.props):I.props,L=D&&D[O["".concat(k,"Id")]];return T.cloneElement(I,Be(Be({},L),{},{className:pr(k,L.className),key:I.key||"".concat(j,"-").concat(N),ticks:Eu(L,!0)}))}),zt(E,"renderPolarGrid",function(I){var j=I.props,N=j.radialLines,k=j.polarAngles,D=j.polarRadius,C=E.state,O=C.radiusAxisMap,L=C.angleAxisMap,z=Zd(O),re=Zd(L),Y=re.cx,K=re.cy,q=re.innerRadius,Z=re.outerRadius;return T.cloneElement(I,{polarAngles:Array.isArray(k)?k:Eu(re,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(D)?D:Eu(z,!0).map(function(ve){return ve.coordinate}),cx:Y,cy:K,innerRadius:q,outerRadius:Z,key:I.key||"polar-grid",radialLines:N})}),zt(E,"renderLegend",function(){var I=E.state.formattedGraphicalItems,j=E.props,N=j.children,k=j.width,D=j.height,C=E.props.margin||{},O=k-(C.left||0)-(C.right||0),L=fee({children:N,formattedGraphicalItems:I,legendWidth:O,legendContent:u});if(!L)return null;var z=L.item,re=pB(L,sGe);return T.cloneElement(z,Be(Be({},re),{},{chartWidth:k,chartHeight:D,margin:C,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),zt(E,"renderTooltip",function(){var I,j=E.props,N=j.children,k=j.accessibilityLayer,D=Js(N,ys);if(!D)return null;var C=E.state,O=C.isTooltipActive,L=C.activeCoordinate,z=C.activePayload,re=C.activeLabel,Y=C.offset,K=(I=D.props.active)!==null&&I!==void 0?I:O;return T.cloneElement(D,{viewBox:Be(Be({},Y),{},{x:Y.left,y:Y.top}),active:K,label:re,payload:K?z:[],coordinate:L,accessibilityLayer:k})}),zt(E,"renderBrush",function(I){var j=E.props,N=j.margin,k=j.data,D=E.state,C=D.offset,O=D.dataStartIndex,L=D.dataEndIndex,z=D.updateId;return T.cloneElement(I,{key:I.key||"_recharts-brush",onChange:x2(E.handleBrushChange,I.props.onChange),data:k,x:tt(I.props.x)?I.props.x:C.left,y:tt(I.props.y)?I.props.y:C.top+C.height+C.brushBottom-(N.bottom||0),width:tt(I.props.width)?I.props.width:C.width,startIndex:O,endIndex:L,updateId:"brush-".concat(z)})}),zt(E,"renderReferenceElement",function(I,j,N){if(!I)return null;var k=E,D=k.clipPathId,C=E.state,O=C.xAxisMap,L=C.yAxisMap,z=C.offset,re=I.type.defaultProps||{},Y=I.props,K=Y.xAxisId,q=K===void 0?re.xAxisId:K,Z=Y.yAxisId,ve=Z===void 0?re.yAxisId:Z;return T.cloneElement(I,{key:I.key||"".concat(j,"-").concat(N),xAxis:O[q],yAxis:L[ve],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:D})}),zt(E,"renderActivePoints",function(I){var j=I.item,N=I.activePoint,k=I.basePoint,D=I.childIndex,C=I.isRange,O=[],L=j.props.key,z=j.item.type.defaultProps!==void 0?Be(Be({},j.item.type.defaultProps),j.item.props):j.item.props,re=z.activeDot,Y=z.dataKey,K=Be(Be({index:D,dataKey:Y,cx:N.x,cy:N.y,r:4,fill:XR(j.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Kt(re,!1)),kS(re));return O.push(y.renderActiveDot(re,K,"".concat(L,"-activePoint-").concat(D))),k?O.push(y.renderActiveDot(re,Be(Be({},K),{},{cx:k.x,cy:k.y}),"".concat(L,"-basePoint-").concat(D))):C&&O.push(null),O}),zt(E,"renderGraphicChild",function(I,j,N){var k=E.filterFormatItem(I,j,N);if(!k)return null;var D=E.getTooltipEventType(),C=E.state,O=C.isTooltipActive,L=C.tooltipAxis,z=C.activeTooltipIndex,re=C.activeLabel,Y=E.props.children,K=Js(Y,ys),q=k.props,Z=q.points,ve=q.isRange,ce=q.baseLine,F=k.item.type.defaultProps!==void 0?Be(Be({},k.item.type.defaultProps),k.item.props):k.item.props,V=F.activeDot,G=F.hide,oe=F.activeBar,J=F.activeShape,ie=!!(!G&&O&&K&&(V||oe||J)),be={};D!=="axis"&&K&&K.props.trigger==="click"?be={onClick:x2(E.handleItemMouseEnter,I.props.onClick)}:D!=="axis"&&(be={onMouseLeave:x2(E.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:x2(E.handleItemMouseEnter,I.props.onMouseEnter)});var he=T.cloneElement(I,Be(Be({},k.props),be));function P(Me){return typeof L.dataKey=="function"?L.dataKey(Me.payload):null}if(ie)if(z>=0){var X,ne;if(L.dataKey&&!L.allowDuplicatedCategory){var de=typeof L.dataKey=="function"?P:"payload.".concat(L.dataKey.toString());X=ik(Z,de,re),ne=ve&&ce&&ik(ce,de,re)}else X=Z==null?void 0:Z[z],ne=ve&&ce&&ce[z];if(J||oe){var ge=I.props.activeIndex!==void 0?I.props.activeIndex:z;return[T.cloneElement(I,Be(Be(Be({},k.props),be),{},{activeIndex:ge})),null,null]}if(!vr(X))return[he].concat(cy(E.renderActivePoints({item:k,activePoint:X,basePoint:ne,childIndex:z,isRange:ve})))}else{var ee,Ae=(ee=E.getItemByXY(E.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:he},De=Ae.graphicalItem,Le=De.item,_e=Le===void 0?I:Le,ke=De.childIndex,je=Be(Be(Be({},k.props),be),{},{activeIndex:ke});return[T.cloneElement(_e,je),null,null]}return ve?[he,null,null]:[he,null]}),zt(E,"renderCustomized",function(I,j,N){return T.cloneElement(I,Be(Be({key:"recharts-customized-".concat(N)},E.props),E.state))}),zt(E,"renderMap",{CartesianGrid:{handler:N2,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:N2},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:N2},YAxis:{handler:N2},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Zx("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=hZ(E.triggeredAfterMouseMove,(A=x.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return yGe(y,g),pGe(y,[{key:"componentDidMount",value:function(){var _,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,A=_.children,E=_.data,I=_.height,j=_.layout,N=Js(A,ys);if(N){var k=N.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,C=C4(this.state,E,k,D),O=this.state.tooltipTicks[k].coordinate,L=(this.state.offset.top+I)/2,z=j==="horizontal",re=z?{x:O,y:L}:{y:O,x:L},Y=this.state.formattedGraphicalItems.find(function(q){var Z=q.item;return Z.type.name==="Scatter"});Y&&(re=Be(Be({},re),Y.props.points[k].tooltipPosition),C=Y.props.points[k].tooltipPayload);var K={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:D,activePayload:C,activeCoordinate:re};this.setState(K),this.renderCursor(N),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,I;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(_){sk([Js(_.children,ys)],[Js(this.props.children,ys)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Js(this.props.children,ys);if(_&&typeof _.props.shared=="boolean"){var A=_.props.shared?"axis":"item";return o.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),I=RLe(E),j={chartX:Math.round(_.pageX-I.left),chartY:Math.round(_.pageY-I.top)},N=E.width/A.offsetWidth||1,k=this.inRange(j.chartX,j.chartY,N);if(!k)return null;var D=this.state,C=D.xAxisMap,O=D.yAxisMap,L=this.getTooltipEventType(),z=gB(this.state,this.props.data,this.props.layout,k);if(L!=="axis"&&C&&O){var re=Zd(C).scale,Y=Zd(O).scale,K=re&&re.invert?re.invert(j.chartX):null,q=Y&&Y.invert?Y.invert(j.chartY):null;return Be(Be({},j),{},{xValue:K,yValue:q},z)}return z?Be(Be({},j),z):null}},{key:"inRange",value:function(_,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,j=_/E,N=A/E;if(I==="horizontal"||I==="vertical"){var k=this.state.offset,D=j>=k.left&&j<=k.left+k.width&&N>=k.top&&N<=k.top+k.height;return D?{x:j,y:N}:null}var C=this.state,O=C.angleAxisMap,L=C.radiusAxisMap;if(O&&L){var z=Zd(O);return q7({x:j,y:N},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,A=this.getTooltipEventType(),E=Js(_,ys),I={};E&&A==="axis"&&(E.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=kS(this.props,this.handleOuterEvent);return Be(Be({},j),I)}},{key:"addListener",value:function(){lP.on(cP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){lP.removeListener(cP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,A,E){for(var I=this.state.formattedGraphicalItems,j=0,N=I.length;j<N;j++){var k=I[j];if(k.item===_||k.props.key===_.key||A===Ou(k.item.type)&&E===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,A=this.state.offset,E=A.left,I=A.top,j=A.height,N=A.width;return ue.createElement("defs",null,ue.createElement("clipPath",{id:_},ue.createElement("rect",{x:E,y:I,height:j,width:N})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(A,E){var I=fB(E,2),j=I[0],N=I[1];return Be(Be({},A),{},zt({},j,N.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(A,E){var I=fB(E,2),j=I[0],N=I[1];return Be(Be({},A),{},zt({},j,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(_){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(_){var A=this.state,E=A.formattedGraphicalItems,I=A.activeItem;if(E&&E.length)for(var j=0,N=E.length;j<N;j++){var k=E[j],D=k.props,C=k.item,O=C.type.defaultProps!==void 0?Be(Be({},C.type.defaultProps),C.props):C.props,L=Ou(C.type);if(L==="Bar"){var z=(D.data||[]).find(function(q){return gUe(_,q)});if(z)return{graphicalItem:k,payload:z}}else if(L==="RadialBar"){var re=(D.data||[]).find(function(q){return q7(_,q)});if(re)return{graphicalItem:k,payload:re}}else if(BN(k,I)||UN(k,I)||Jb(k,I)){var Y=ize({graphicalItem:k,activeTooltipItem:I,itemData:O.data}),K=O.activeIndex===void 0?Y:O.activeIndex;return{graphicalItem:Be(Be({},k),{},{childIndex:K}),payload:Jb(k,I)?O.data[Y]:k.props.data[Y]}}}return null}},{key:"render",value:function(){var _=this;if(!D$(this))return null;var A=this.props,E=A.children,I=A.className,j=A.width,N=A.height,k=A.style,D=A.compact,C=A.title,O=A.desc,L=pB(A,oGe),z=Kt(L,!1);if(D)return ue.createElement(J9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement(lk,Pg({},z,{width:j,height:N,title:C,desc:O}),this.renderClipPath(),M$(E,this.renderMap)));if(this.props.accessibilityLayer){var re,Y;z.tabIndex=(re=this.props.tabIndex)!==null&&re!==void 0?re:0,z.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",z.onKeyDown=function(q){_.accessibilityManager.keyboardEvent(q)},z.onFocus=function(){_.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return ue.createElement(J9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement("div",Pg({className:pr("recharts-wrapper",I),style:Be({position:"relative",cursor:"default",width:j,height:N},k)},K,{ref:function(Z){_.container=Z}}),ue.createElement(lk,Pg({},z,{width:j,height:N,title:C,desc:O,style:AGe}),this.renderClipPath(),M$(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);zt(v,"displayName",r),zt(v,"defaultProps",Be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),zt(v,"getDerivedStateFromProps",function(g,y){var x=g.dataKey,_=g.data,A=g.children,E=g.width,I=g.height,j=g.layout,N=g.stackOffset,k=g.margin,D=y.dataStartIndex,C=y.dataEndIndex;if(y.updateId===void 0){var O=vB(g);return Be(Be(Be({},O),{},{updateId:0},f(Be(Be({props:g},O),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:_,prevWidth:E,prevHeight:I,prevLayout:j,prevStackOffset:N,prevMargin:k,prevChildren:A})}if(x!==y.prevDataKey||_!==y.prevData||E!==y.prevWidth||I!==y.prevHeight||j!==y.prevLayout||N!==y.prevStackOffset||!Kg(k,y.prevMargin)){var L=vB(g),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},re=Be(Be({},gB(y,_,j)),{},{updateId:y.updateId+1}),Y=Be(Be(Be({},L),z),re);return Be(Be(Be({},Y),f(Be({props:g},Y),y)),{},{prevDataKey:x,prevData:_,prevWidth:E,prevHeight:I,prevLayout:j,prevStackOffset:N,prevMargin:k,prevChildren:A})}if(!sk(A,y.prevChildren)){var K,q,Z,ve,ce=Js(A,ey),F=ce&&(K=(q=ce.props)===null||q===void 0?void 0:q.startIndex)!==null&&K!==void 0?K:D,V=ce&&(Z=(ve=ce.props)===null||ve===void 0?void 0:ve.endIndex)!==null&&Z!==void 0?Z:C,G=F!==D||V!==C,oe=!vr(_),J=oe&&!G?y.updateId:y.updateId+1;return Be(Be({updateId:J},f(Be(Be({props:g},y),{},{updateId:J,dataStartIndex:F,dataEndIndex:V}),y)),{},{prevChildren:A,dataStartIndex:F,dataEndIndex:V})}return null}),zt(v,"renderActiveDot",function(g,y,x){var _;return T.isValidElement(g)?_=T.cloneElement(g,y):Zt(g)?_=g(y):_=ue.createElement(JR,y),ue.createElement(an,{className:"recharts-active-dot",key:x},_)});var m=T.forwardRef(function(y,x){return ue.createElement(v,Pg({},y,{ref:x}))});return m.displayName=v.displayName,m},p_=Dte({chartName:"BarChart",GraphicalChild:Bo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ip},{axisType:"yAxis",AxisComp:Op}],formatAxisMap:Lqe}),RGe=Dte({chartName:"PieChart",GraphicalChild:sd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:FN},{axisType:"radiusAxis",AxisComp:MN}],formatAxisMap:C7e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const DGe=()=>{var be,he;const{user:t}=qr(),[e]=fH(),r=Wi(),n=qi(),[i,a]=T.useState(oc()),[s,o]=T.useState(!1),[l,u]=T.useState(!1),[d,h]=T.useState(!1),[p,f]=T.useState([]),[v,m]=T.useState(""),[g,y]=T.useState(""),[x,_]=T.useState(""),[A,E]=T.useState(""),I=i.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");T.useEffect(()=>{const P=e.get("filter");y(P||"")},[e]);const{data:j=[]}=rd((t==null?void 0:t.uid)||""),{data:N=[]}=Oy((t==null?void 0:t.uid)||""),{data:k=[]}=lo((t==null?void 0:t.uid)||""),D=I3(),C=k.filter(P=>(console.log("Comparando:",P.date,"===",I,"?",P.date===I),P.date===I));console.log("ResumoDia - selectedDateString:",I),console.log("ResumoDia - allTransactions:",k),console.log("ResumoDia - allTransactions dates:",k.map(P=>({id:P.id,date:P.date,type:P.type,amount:P.amount}))),console.log("ResumoDia - todayTransactions (filtradas):",C),T.useEffect(()=>{if(k.length>0&&p.length===0){const P=R3(),X=k.filter(ne=>ne.date===P);X.length>0&&(f(X),m(P),console.log("ResumoDia - Transações do dia original capturadas:",X),console.log("ResumoDia - Data original:",P))}},[k,p.length]);const L=(()=>{let P=C;switch(g){case"deposits":P=P.filter(X=>X.type==="deposit");break;case"withdraws":P=P.filter(X=>X.type==="withdraw");break}return x&&(P=P.filter(X=>X.platformId===x)),A&&(P=P.filter(X=>X.employeeId===A)),P})(),z=C.filter(P=>P.type==="deposit"),re=C.filter(P=>P.type==="withdraw"),Y=z.reduce((P,X)=>P+Number(X.amount||0),0),K=re.reduce((P,X)=>P+Number(X.amount||0),0),q=K-Y,Z=L.length;console.log("ResumoDia - Cálculos:"),console.log("- deposits:",z),console.log("- withdraws:",re),console.log("- totalDeposits:",Y),console.log("- totalWithdraws:",K),console.log("- profit:",q),console.log("- transactionCount:",Z);const ve=N.map(P=>{const X=C.filter(ee=>ee.platformId===P.id),ne=X.filter(ee=>ee.type==="deposit").reduce((ee,Ae)=>ee+Number(Ae.amount||0),0),de=X.filter(ee=>ee.type==="withdraw").reduce((ee,Ae)=>ee+Number(Ae.amount||0),0),ge=de-ne;return{name:P.name,color:P.color,deposits:ne,withdraws:de,profit:ge,transactions:X.length}}).filter(P=>P.transactions>0).sort((P,X)=>X.profit-P.profit),ce=j.map(P=>{const X=C.filter(ee=>ee.employeeId===P.id),ne=X.filter(ee=>ee.type==="deposit").reduce((ee,Ae)=>ee+Number(Ae.amount||0),0),de=X.filter(ee=>ee.type==="withdraw").reduce((ee,Ae)=>ee+Number(Ae.amount||0),0),ge=de-ne;return{name:P.name,deposits:ne,withdraws:de,profit:ge,transactions:X.length}}).filter(P=>P.transactions>0).sort((P,X)=>X.profit-P.profit),F=ve[0],V=ce[0],G=async()=>{try{const P=p.length>0?p:C,X=v||I,ne=P.filter(je=>je.type==="deposit"),de=P.filter(je=>je.type==="withdraw"),ge=ne.reduce((je,Me)=>je+Number(Me.amount||0),0),ee=de.reduce((je,Me)=>je+Number(Me.amount||0),0),Ae=ee-ge;if(console.log("Fechando dia - Data:",X),console.log("Fechando dia - Transações originais:",p),console.log("Fechando dia - Transações selecionadas:",P),console.log("Fechando dia - Total Deposits:",ge),console.log("Fechando dia - Total Withdraws:",ee),console.log("Fechando dia - Profit:",Ae),!(t!=null&&t.uid)){Ge.error("Usuário não autenticado");return}const Le=(await Lo.getAllDailySummaries(t.uid)).find(je=>je.date===X);let _e;Le?(_e={date:X,totalDeposits:(Le.totalDeposits||0)+ge,totalWithdraws:(Le.totalWithdraws||0)+ee,profit:(Le.profit||Le.margin||0)+Ae,transactionCount:(Le.transactionCount||0)+P.length,transactionsSnapshot:[...Le.transactionsSnapshot||[],...P],byEmployee:[],margin:(Le.profit||Le.margin||0)+Ae,createdAt:Le.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente:",_e),await Lo.updateDailySummary(t.uid,Le.id,_e)):(_e={date:X,totalDeposits:ge,totalWithdraws:ee,profit:Ae,transactionCount:P.length,transactionsSnapshot:P,byEmployee:[],margin:Ae,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento:",_e),await Lo.createDailySummary(t.uid,_e));const ke=P.map(je=>D.mutateAsync(je.id));await Promise.all(ke),Ge.success("Dia fechado com sucesso!"),u(!1),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(P){console.error("Erro ao fechar o dia:",P),Ge.error("Erro ao fechar o dia. Tente novamente.")}},oe=async P=>{try{if(console.log("=== INICIANDO SALVAMENTO EM OUTRA DATA ==="),console.log("Target Date recebida:",P),console.log("Transações do dia original:",p),console.log("Data original:",v),console.log("Transações do dia atual (selectedDate):",C),console.log("Total Deposits:",Y),console.log("Total Withdraws:",K),console.log("Profit calculado:",q),!(t!=null&&t.uid)){Ge.error("Usuário não autenticado");return}const X=P.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");console.log("Salvando em outra data - Target Date String:",X);const ne=p.length>0?p:C,de=ne.filter(Me=>Me.type==="deposit"),ge=ne.filter(Me=>Me.type==="withdraw"),ee=de.reduce((Me,et)=>Me+Number(et.amount||0),0),Ae=ge.reduce((Me,et)=>Me+Number(et.amount||0),0),De=Ae-ee;console.log("Dados a serem salvos:"),console.log("- transactionsToSave:",ne),console.log("- totalDepositsToSave:",ee),console.log("- totalWithdrawsToSave:",Ae),console.log("- profitToSave:",De);const _e=(await Lo.getAllDailySummaries(t.uid)).find(Me=>Me.date===X);let ke;_e?(ke={date:X,totalDeposits:(_e.totalDeposits||0)+ee,totalWithdraws:(_e.totalWithdraws||0)+Ae,profit:(_e.profit||_e.margin||0)+De,transactionCount:(_e.transactionCount||0)+ne.length,transactionsSnapshot:[..._e.transactionsSnapshot||[],...ne],byEmployee:[],margin:(_e.profit||_e.margin||0)+De,createdAt:_e.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente para data:",ke),await Lo.updateDailySummary(t.uid,_e.id,ke)):(ke={date:X,totalDeposits:ee,totalWithdraws:Ae,profit:De,transactionCount:ne.length,transactionsSnapshot:ne,byEmployee:[],margin:De,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento para data:",ke),await Lo.createDailySummary(t.uid,ke)),console.log("Resumo salvo com sucesso na data:",X),console.log("Deletando transações do dia selecionado:",ne);const je=ne.map(Me=>(console.log("Deletando transação:",Me.id),D.mutateAsync(Me.id)));await Promise.all(je),console.log("Todas as transações foram deletadas com sucesso"),n.invalidateQueries({queryKey:["firebase-transactions"]}),n.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),n.invalidateQueries({queryKey:["firebase-daily-summaries"]}),Ge.success(`Resumo salvo para ${fa(P,"dd/MM/yyyy",{locale:Aj})}! Transações do dia atual foram apagadas.`),o(!1)}catch(X){console.error("Erro ao salvar em outra data:",X),Ge.error("Erro ao salvar em outra data. Tente novamente.")}},J=ve.map(P=>({name:P.name,value:P.profit,color:P.color})),ie=ce.map(P=>({name:P.name,receita:P.profit,depositos:P.deposits,saques:P.withdraws}));return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h1",{className:"text-4xl font-bold",children:"Resumo do Dia"}),g&&c.jsxs(ir,{variant:"secondary",className:"gap-1 bg-primary/10 text-primary border-primary/20",children:[c.jsx(KE,{className:"h-3 w-3"}),g==="deposits"&&"Depósitos",g==="withdraws"&&"Saques",g==="profit"&&"Lucro"]})]}),c.jsx("p",{className:"text-muted-foreground",children:fa(i,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Aj})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(pNe,{open:s,onOpenChange:o,children:[c.jsx(mNe,{asChild:!0,children:c.jsxs(qe,{variant:"outline",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white border-orange-500",children:[c.jsx(_v,{className:"h-4 w-4"}),"Salvar em outra data"]})}),c.jsx(QQ,{className:"w-auto p-0",align:"end",children:c.jsx(FQ,{mode:"single",selected:i,onSelect:P=>{P&&(a(P),o(!1),h(!0))},initialFocus:!0})})]}),c.jsx(Zp,{open:d,onOpenChange:h,children:c.jsxs(ef,{children:[c.jsxs(tf,{children:[c.jsx(nf,{children:"Salvar em Outra Data"}),c.jsxs(af,{children:["Tem certeza que deseja salvar o resumo do dia atual para ",i&&fa(i,"dd/MM/yyyy",{locale:Aj}),"?",c.jsx("br",{}),c.jsx("br",{}),c.jsx("strong",{children:"Esta ação irá:"}),c.jsx("br",{}),"• Salvar todas as transações atuais para a data selecionada",c.jsx("br",{}),"• Apagar todas as transações do dia atual",c.jsx("br",{}),"• Permitir que você comece um novo dia",c.jsx("br",{}),c.jsx("br",{}),c.jsx("strong",{children:"Esta ação não pode ser desfeita."})]})]}),c.jsxs(rf,{children:[c.jsx(of,{children:"Cancelar"}),c.jsx(sf,{onClick:async()=>{i&&(console.log("Executando saveToAnotherDate com data:",i),await oe(i),h(!1))},children:"Salvar e Apagar Transações"})]})]})}),c.jsxs(Zp,{open:l,onOpenChange:u,children:[c.jsx(Iy,{asChild:!0,children:c.jsxs(qe,{variant:"destructive",className:"gap-2",children:[c.jsx(nA,{className:"h-4 w-4"}),"Fechar o Dia"]})}),c.jsxs(ef,{children:[c.jsxs(tf,{children:[c.jsx(nf,{children:"Fechar o Dia"}),c.jsx(af,{children:"Tem certeza que deseja fechar o dia? Esta ação salvará todas as movimentações do dia e resetará as transações para um novo dia."})]}),c.jsxs(rf,{children:[c.jsx(of,{children:"Cancelar"}),c.jsx(sf,{onClick:G,children:"Fechar o Dia"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Dia"}),c.jsxs("p",{className:`text-3xl font-bold ${q>=0?"text-success":"text-destructive"}`,children:["R$ ",q.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(di,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),c.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",Y.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(AL,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),c.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",K.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(NL,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),c.jsx("p",{className:"text-3xl font-bold",children:Z})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(QI,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[F&&c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(EL,{className:"h-6 w-6 text-yellow-500"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Plataforma do Dia"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:F.color}}),c.jsx("span",{className:"font-medium",children:F.name})]}),c.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",F.profit.toLocaleString("pt-BR")]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[F.transactions," transações • R$ ",F.deposits.toLocaleString("pt-BR")," depósitos • R$ ",F.withdraws.toLocaleString("pt-BR")," saques"]})]})]}),V&&c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(EL,{className:"h-6 w-6 text-yellow-500"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Funcionário do Dia"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"font-medium",children:V.name}),c.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",V.profit.toLocaleString("pt-BR")]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.transactions," transações • R$ ",V.deposits.toLocaleString("pt-BR")," depósitos • R$ ",V.withdraws.toLocaleString("pt-BR")," saques"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[J.length>0&&c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Receita por Plataforma"}),c.jsx(P1,{width:"100%",height:300,children:c.jsxs(RGe,{children:[c.jsx(sd,{data:J,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:P,value:X})=>`${P}: R$ ${X.toLocaleString("pt-BR")}`,children:J.map((P,X)=>c.jsx(_N,{fill:P.color},`cell-${X}`))}),c.jsx(ys,{formatter:P=>[`R$ ${P.toLocaleString("pt-BR")}`,"Receita"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})]}),ie.length>0&&c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),c.jsx(P1,{width:"100%",height:300,children:c.jsxs(p_,{data:ie,children:[c.jsx(D1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),c.jsx(Ip,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),c.jsx(Op,{stroke:"hsl(var(--muted-foreground))"}),c.jsx(ys,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),c.jsx(Bo,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]})]}),c.jsxs(Qe,{className:"shadow-card overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("h3",{className:"text-lg font-semibold",children:["Transações do Dia",(g||x||A)&&c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",L.length," transação(ões) encontrada(s))"]})]})}),c.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Plataforma:"}),c.jsxs(Zn,{value:x||"all",onValueChange:P=>_(P==="all"?"":P),children:[c.jsx(Kn,{className:"w-[160px]",children:c.jsx(ei,{placeholder:"Todas"})}),c.jsxs(Yn,{children:[c.jsx(Or,{value:"all",children:"Todas as plataformas"}),N.map(P=>c.jsx(Or,{value:P.id,children:P.name},P.id))]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Funcionário:"}),c.jsxs(Zn,{value:A||"all",onValueChange:P=>E(P==="all"?"":P),children:[c.jsx(Kn,{className:"w-[160px]",children:c.jsx(ei,{placeholder:"Todos"})}),c.jsxs(Yn,{children:[c.jsx(Or,{value:"all",children:"Todos os funcionários"}),j.map(P=>c.jsx(Or,{value:P.id,children:P.name},P.id))]})]})]}),(g||x||A)&&c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>{y(""),_(""),E(""),r("/resumo-dia")},children:"Limpar Filtros"})]})]}),c.jsxs("div",{className:"space-y-4 mt-4",children:[(g||x||A)&&c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[c.jsx(KE,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm text-primary font-medium",children:"Filtros ativos:"}),c.jsxs("div",{className:"flex gap-2",children:[g&&c.jsxs(ir,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:[g==="deposits"&&"Depósitos",g==="withdraws"&&"Saques",g==="profit"&&"Lucro"]}),x&&c.jsxs(ir,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Plataforma: ",((be=N.find(P=>P.id===x))==null?void 0:be.name)||"N/A"]}),A&&c.jsxs(ir,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Funcionário: ",((he=j.find(P=>P.id===A))==null?void 0:he.name)||"N/A"]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs(qe,{variant:g===""?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia"),className:"gap-2",children:[c.jsx(KE,{className:"h-3 w-3"}),"Todas",c.jsx(ir,{variant:"secondary",className:"ml-1",children:C.length})]}),c.jsxs(qe,{variant:g==="deposits"?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia?filter=deposits"),className:"gap-2",children:[c.jsx(AL,{className:"h-3 w-3"}),"Depósitos",c.jsx(ir,{variant:"secondary",className:"ml-1",children:z.length})]}),c.jsxs(qe,{variant:g==="withdraws"?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia?filter=withdraws"),className:"gap-2",children:[c.jsx(NL,{className:"h-3 w-3"}),"Saques",c.jsx(ir,{variant:"secondary",className:"ml-1",children:re.length})]}),c.jsxs(qe,{variant:g==="profit"?"default":"outline",size:"sm",onClick:()=>r("/resumo-dia?filter=profit"),className:"gap-2",children:[c.jsx(di,{className:"h-3 w-3"}),"Lucro",c.jsx(ir,{variant:"secondary",className:"ml-1",children:C.length})]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted/50",children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:"Funcionário"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Plataforma"}),c.jsx("th",{className:"text-center p-4 font-semibold",children:"Tipo"}),c.jsx("th",{className:"text-right p-4 font-semibold",children:"Valor"}),c.jsx("th",{className:"text-center p-4 font-semibold",children:"Horário"})]})}),c.jsxs("tbody",{children:[L.map(P=>{var de,ge;const X=j.find(ee=>ee.id===P.employeeId),ne=N.find(ee=>ee.id===P.platformId);return c.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[c.jsx("td",{className:"p-4 font-medium",children:(X==null?void 0:X.name)||"N/A"}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[ne&&c.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:ne.color}}),(ne==null?void 0:ne.name)||"N/A"]})}),c.jsx("td",{className:"p-4 text-center",children:c.jsx(ir,{variant:P.type==="deposit"?"destructive":"default",children:P.type==="deposit"?"Depósito":"Saque"})}),c.jsxs("td",{className:`p-4 text-right font-semibold ${P.type==="deposit"?"text-destructive":"text-success"}`,children:[P.type==="deposit"?"-":"+","R$ ",Number(P.amount||0).toLocaleString("pt-BR")]}),c.jsx("td",{className:"p-4 text-center text-sm text-muted-foreground",children:new Date(((ge=(de=P.createdAt)==null?void 0:de.toDate)==null?void 0:ge.call(de))||P.createdAt).toLocaleTimeString("pt-BR")})]},P.id)}),L.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:g?c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{children:"Nenhuma transação encontrada para o filtro selecionado."}),c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>r("/resumo-dia"),children:"Ver todas as transações"})]}):"Nenhuma transação registrada para este dia."})})]})]})})]})]})})},LGe=()=>{qi();const{user:t}=qr(),[e,r]=T.useState({name:"",color:"#FF5C00"}),[n,i]=T.useState(null),[a,s]=T.useState(!1),[o,l]=T.useState(!1),[u,d]=T.useState(""),[h,p]=T.useState(null),[f,v]=T.useState({}),{data:m=[]}=rd((t==null?void 0:t.uid)||""),{data:g=[]}=Oy((t==null?void 0:t.uid)||""),{data:y=[]}=lo((t==null?void 0:t.uid)||"","","");console.log("Saldos - Employees:",m.length),console.log("Saldos - Platforms:",g.length),console.log("Saldos - Transactions:",y.length),console.log("Saldos - All Transactions:",y),console.log("Saldos - Platforms IDs:",g.map(V=>({id:V.id,name:V.name}))),y.forEach((V,G)=>{console.log(`Transaction ${G}:`,{id:V.id,employeeId:V.employeeId,platformId:V.platformId,type:V.type,amount:V.amount,date:V.date})});const x=Kbe(),_=Ybe(),A=Xbe(),E=Jbe(),I=k3(),N=(()=>{const V={};return m.forEach(G=>{V[G.id]={name:G.name,platforms:{},total:0},g.forEach(oe=>{const J=y.filter(P=>P.employeeId===G.id&&P.platformId===oe.id);console.log(`Debug - Employee: ${G.name}, Platform: ${oe.name}, Transactions:`,J);const ie=J.filter(P=>P.type==="deposit").reduce((P,X)=>P+Number(X.amount||0),0),be=J.filter(P=>P.type==="withdraw").reduce((P,X)=>P+Number(X.amount||0),0);console.log(`Debug - Deposits: ${ie}, Withdraws: ${be}`);const he=ie-be;V[G.id].platforms[oe.id]=Math.max(0,he),V[G.id].total+=Math.max(0,he)})}),Object.values(V)})();console.log("Saldos - Platform Balances:",N);const k=[...m].sort((V,G)=>V.name.localeCompare(G.name)),D=g.filter(V=>V.isActive!==!1),O=[...D.reduce((V,G)=>(V.find(J=>J.id===G.id||J.name===G.name)||V.push(G),V),[])].sort((V,G)=>{const oe=N.reduce((ie,be)=>{var he;return ie+(Number((he=be.platforms)==null?void 0:he[V.id])||0)},0),J=N.reduce((ie,be)=>{var he;return ie+(Number((he=be.platforms)==null?void 0:he[G.id])||0)},0);return Number(J)-Number(oe)}),L=N.reduce((V,G)=>V+(G.total||0),0),z=g.filter(V=>V.name.toLowerCase().includes(u.toLowerCase())),re=(V,G,oe)=>{const J=`${V}-${G}`;v({...f,[J]:{employeeId:V,platformId:G,value:oe.toString()}})},Y=async(V,G)=>{var ie;const oe=`${V}-${G}`,J=f[oe];if(J)try{const be=Number(J.value),he=m.find(ge=>ge.id===V),P=N.find(ge=>ge.name===(he==null?void 0:he.name)),X=((ie=P==null?void 0:P.platforms)==null?void 0:ie[G])||0,ne=be-X;if(ne!==0){const ge={userId:(t==null?void 0:t.uid)||"",employeeId:V,platformId:G,type:ne>0?"deposit":"withdraw",amount:Math.abs(ne),date:new Date().toISOString().split("T")[0],description:"Ajuste manual de saldo"};await I.mutateAsync(ge)}const de={...f};delete de[oe],v(de),Ge.success("Saldo atualizado!")}catch(be){console.error("Erro ao atualizar saldo:",be),Ge.error("Erro ao atualizar saldo")}},K=(V,G)=>{const oe=`${V}-${G}`,J={...f};delete J[oe],v(J)},q=async()=>{if(t!=null&&t.uid)try{await x.mutateAsync({userId:t.uid,name:e.name,color:e.color}),Ge.success("Casa de aposta criada!"),r({name:"",color:"#FF5C00"}),s(!1)}catch{Ge.error("Erro ao criar casa de aposta")}},Z=async()=>{if(n)try{await _.mutateAsync({userId:(t==null?void 0:t.uid)||"",id:n.id,data:{name:n.name,color:n.color}}),Ge.success("Casa de aposta atualizada!"),i(null)}catch{Ge.error("Erro ao atualizar casa de aposta")}},ve=async V=>{try{await A.mutateAsync({userId:(t==null?void 0:t.uid)||"",id:V}),Ge.success("Casa de aposta excluída!")}catch{Ge.error("Erro ao excluir casa de aposta")}},ce=async()=>{if(t!=null&&t.uid)try{await E.mutateAsync(t.uid),Ge.success("Plataformas padrão criadas com sucesso!")}catch{Ge.error("Erro ao criar plataformas padrão")}},F=async()=>{if(t!=null&&t.uid)try{const V=[{name:"Pixbet",color:"#ADD8E6"},{name:"Betano",color:"#FF6600"},{name:"Mcgames",color:"#DC143C"},{name:"Kto",color:"#C80000"},{name:"Realsbet",color:"#00FFC8"},{name:"Vaidebet",color:"#FFD700"},{name:"Sportingbet",color:"#4682B4"},{name:"Superbet",color:"#FF3366"},{name:"Betao",color:"#FFA550"},{name:"Bet365",color:"#008040"},{name:"Esportivabet",color:"#FF8C00"},{name:"Hiperbet",color:"#DC0000"},{name:"Luvabet",color:"#ADFF2F"},{name:"Cassinopix",color:"#87CEEB"},{name:"Multibet",color:"#483D8B"}],G=g.map(oe=>{const J=V.find(ie=>ie.name===oe.name);return J&&oe.color!==J.color?_.mutateAsync({userId:t.uid,id:oe.id,data:{color:J.color}}):Promise.resolve()});await Promise.all(G),Ge.success("Cores das plataformas atualizadas!")}catch{Ge.error("Erro ao atualizar cores das plataformas")}};return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Saldos"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie contas e saldos por plataforma"})]}),c.jsxs("div",{className:"flex gap-2",children:[D.length===0&&c.jsxs(qe,{onClick:ce,disabled:E.isPending,className:"gap-2",children:[c.jsx(G_,{className:"h-4 w-4"}),E.isPending?"Criando...":"Criar Plataformas Padrão"]}),D.length>0&&c.jsxs(qe,{onClick:F,disabled:_.isPending,variant:"outline",className:"gap-2",children:[c.jsx(jh,{className:"h-4 w-4"}),_.isPending?"Atualizando...":"Atualizar Cores"]}),D.length>0&&c.jsxs(oo,{open:o,onOpenChange:l,children:[c.jsx(Gg,{asChild:!0,children:c.jsxs(qe,{variant:"outline",className:"gap-2",children:[c.jsx(iA,{className:"h-4 w-4"}),"Pesquisar Plataforma"]})}),c.jsxs(Cs,{children:[c.jsx(ks,{children:c.jsx(Is,{children:"Pesquisar Plataforma"})}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nome da Plataforma"}),c.jsx(Ft,{placeholder:"Digite o nome da plataforma...",value:u,onChange:V=>d(V.target.value)})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:z.map(V=>c.jsxs(qe,{variant:"outline",className:"w-full justify-start mb-2",onClick:()=>{p(V),l(!1),d("")},children:[c.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:V.color}}),V.name]},V.id))})]})]})]}),c.jsxs(oo,{open:a,onOpenChange:s,children:[c.jsx(Gg,{asChild:!0,children:c.jsxs(qe,{variant:"outline",className:"gap-2",children:[c.jsx(G_,{className:"h-4 w-4"}),"Criar Casa"]})}),c.jsxs(Cs,{children:[c.jsx(ks,{children:c.jsx(Is,{children:"Criar Casa de Aposta"})}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nome"}),c.jsx(Ft,{value:e.name,onChange:V=>r({...e,name:V.target.value})})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Cor"}),c.jsx(Ft,{type:"color",value:e.color,onChange:V=>r({...e,color:V.target.value})})]}),c.jsx(qe,{className:"w-full",onClick:q,disabled:!e.name.trim(),children:"Criar"})]})]})]})]})]}),c.jsxs(Qe,{className:"p-6 shadow-card gradient-success",children:[c.jsx("p",{className:"text-sm text-success-foreground/80 mb-2",children:"Saldo Total"}),c.jsxs("p",{className:"text-4xl font-bold text-success-foreground",children:["R$ ",Number(L||0).toLocaleString("pt-BR")]})]}),c.jsxs(Qe,{className:"shadow-card overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Saldos por Plataforma"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Clique nos valores para editar. Os valores são salvos automaticamente ao sair do campo."}),h&&c.jsxs("div",{className:"mt-2 p-2 bg-muted rounded",children:[c.jsx("span",{className:"text-sm",children:"Filtrado por: "}),c.jsx("span",{className:"inline-block w-3 h-3 rounded mr-1",style:{backgroundColor:h.color}}),c.jsx("span",{className:"font-medium",children:h.name}),c.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>p(null),className:"ml-2 h-6 px-2",children:"Limpar filtro"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-muted/50",children:[c.jsx("th",{className:"text-left p-4 font-semibold sticky left-0 bg-background z-10",children:"Funcionário"}),c.jsx("th",{className:"text-center p-4 font-semibold sticky left-20 bg-background z-10",children:"Total por Funcionário"}),O.map(V=>{var G;return c.jsx("th",{className:"text-center p-4 font-semibold min-w-[120px]",style:{backgroundColor:V.color+"20"},children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("span",{className:"text-white font-medium",children:V.name}),c.jsxs(oo,{open:(n==null?void 0:n.id)===V.id,onOpenChange:oe=>!oe&&i(null),children:[c.jsx(Gg,{asChild:!0,children:c.jsx(qe,{size:"icon",variant:"ghost",className:"h-6 w-6 text-white hover:bg-white/20",onClick:()=>i(V),children:c.jsx(jh,{className:"h-3 w-3"})})}),c.jsxs(Cs,{children:[c.jsx(ks,{children:c.jsx(Is,{children:"Editar Casa de Aposta"})}),c.jsxs("div",{className:"space-y-4 pt-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nome"}),c.jsx(Ft,{value:(n==null?void 0:n.name)||"",onChange:oe=>i({...n,name:oe.target.value})})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Cor"}),c.jsx(Ft,{type:"color",value:(n==null?void 0:n.color)||"#FF5C00",onChange:oe=>i({...n,color:oe.target.value})})]}),c.jsx(qe,{className:"w-full",onClick:Z,disabled:!((G=n==null?void 0:n.name)!=null&&G.trim()),children:"Salvar"})]})]})]}),c.jsxs(Zp,{children:[c.jsx(Iy,{asChild:!0,children:c.jsx(qe,{size:"icon",variant:"ghost",className:"h-6 w-6 text-white hover:bg-white/20",children:c.jsx(zh,{className:"h-3 w-3"})})}),c.jsxs(ef,{children:[c.jsxs(tf,{children:[c.jsx(nf,{children:"Excluir casa de aposta?"}),c.jsx(af,{children:"Esta ação não pode ser desfeita. Todas as transações relacionadas a esta plataforma serão mantidas."})]}),c.jsxs(rf,{children:[c.jsx(of,{children:"Cancelar"}),c.jsx(sf,{onClick:()=>ve(V.id),children:"Excluir"})]})]})]})]})},V.id)})]})}),c.jsx("tbody",{children:k.map(V=>{const G=N.find(oe=>oe.name===V.name);return c.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[c.jsx("td",{className:"p-4 font-medium sticky left-0 bg-background z-10",children:V.name}),c.jsx("td",{className:"p-4 text-center font-bold sticky left-20 bg-background z-10",children:c.jsxs("span",{className:"text-success",children:["R$ ",((G==null?void 0:G.total)||0).toLocaleString("pt-BR")]})}),O.map(oe=>{var he;const J=`${V.id}-${oe.id}`,ie=f[J],be=((he=G==null?void 0:G.platforms)==null?void 0:he[oe.id])||0;return c.jsx("td",{className:"p-4 text-center",children:ie?c.jsx("div",{className:"flex items-center gap-1",children:c.jsx(Ft,{type:"number",value:ie.value,onChange:P=>v({...f,[J]:{...ie,value:P.target.value}}),className:"w-20 h-8 text-center",onKeyDown:P=>{P.key==="Enter"?Y(V.id,oe.id):P.key==="Escape"&&K(V.id,oe.id)},onBlur:()=>Y(V.id,oe.id),autoFocus:!0})}):c.jsxs("span",{className:"text-success cursor-pointer hover:bg-muted/50 p-1 rounded",onClick:()=>re(V.id,oe.id,be),children:["R$ ",be.toLocaleString("pt-BR")]})},oe.id)})]},V.id)})})]})})]})]})})};function rn(t){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(t)}var Dl=Uint8Array,no=Uint16Array,lD=Int32Array,cD=new Dl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),uD=new Dl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bB=new Dl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Lte=function(t,e){for(var r=new no(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new lD(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},Mte=Lte(cD,2),MGe=Mte.b,k4=Mte.r;MGe[28]=258,k4[258]=28;var $Ge=Lte(uD,0),xB=$Ge.r,I4=new no(32768);for(var zn=0;zn<32768;++zn){var Md=(zn&43690)>>1|(zn&21845)<<1;Md=(Md&52428)>>2|(Md&13107)<<2,Md=(Md&61680)>>4|(Md&3855)<<4,I4[zn]=((Md&65280)>>8|(Md&255)<<8)>>1}var L1=function(t,e,r){for(var n=t.length,i=0,a=new no(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new no(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new no(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],h=s[t[i]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)o[I4[h]>>l]=u}else for(o=new no(n),i=0;i<n;++i)t[i]&&(o[i]=I4[s[t[i]-1]++]>>15-t[i]);return o},cm=new Dl(288);for(var zn=0;zn<144;++zn)cm[zn]=8;for(var zn=144;zn<256;++zn)cm[zn]=9;for(var zn=256;zn<280;++zn)cm[zn]=7;for(var zn=280;zn<288;++zn)cm[zn]=8;var T5=new Dl(32);for(var zn=0;zn<32;++zn)T5[zn]=5;var FGe=L1(cm,9,0),BGe=L1(T5,5,0),$te=function(t){return(t+7)/8|0},UGe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Dl(t.subarray(e,r))},su=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},B0=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},dP=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:Bte,l:0};if(i==1){var s=new Dl(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(E,I){return E.f-I.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[u].f<r[h].f?u++:h++],l=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var f=new no(p+1),v=O4(r[d-1],f,0);if(v>e){var n=0,m=0,g=v-e,y=1<<g;for(a.sort(function(I,j){return f[j.s]-f[I.s]||I.f-j.f});n<i;++n){var x=a[n].s;if(f[x]>e)m+=y-(1<<v-f[x]),f[x]=e;else break}for(m>>=g;m>0;){var _=a[n].s;f[_]<e?m-=1<<e-f[_]++-1:++n}for(;n>=0&&m;--n){var A=a[n].s;f[A]==e&&(--f[A],++m)}v=e}return{t:new Dl(f),l:v}},O4=function(t,e,r){return t.s==-1?Math.max(O4(t.l,e,r+1),O4(t.r,e,r+1)):e[t.s]=r},wB=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new no(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},U0=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Fte=function(t,e,r){var n=r.length,i=$te(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},_B=function(t,e,r,n,i,a,s,o,l,u,d){su(e,d++,r),++i[256];for(var h=dP(i,15),p=h.t,f=h.l,v=dP(a,15),m=v.t,g=v.l,y=wB(p),x=y.c,_=y.n,A=wB(m),E=A.c,I=A.n,j=new no(19),N=0;N<x.length;++N)++j[x[N]&31];for(var N=0;N<E.length;++N)++j[E[N]&31];for(var k=dP(j,7),D=k.t,C=k.l,O=19;O>4&&!D[bB[O-1]];--O);var L=u+5<<3,z=U0(i,cm)+U0(a,T5)+s,re=U0(i,p)+U0(a,m)+s+14+3*O+U0(j,D)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&L<=z&&L<=re)return Fte(e,d,t.subarray(l,l+u));var Y,K,q,Z;if(su(e,d,1+(re<z)),d+=2,re<z){Y=L1(p,f,0),K=p,q=L1(m,g,0),Z=m;var ve=L1(D,C,0);su(e,d,_-257),su(e,d+5,I-1),su(e,d+10,O-4),d+=14;for(var N=0;N<O;++N)su(e,d+3*N,D[bB[N]]);d+=3*O;for(var ce=[x,E],F=0;F<2;++F)for(var V=ce[F],N=0;N<V.length;++N){var G=V[N]&31;su(e,d,ve[G]),d+=D[G],G>15&&(su(e,d,V[N]>>5&127),d+=V[N]>>12)}}else Y=FGe,K=cm,q=BGe,Z=T5;for(var N=0;N<o;++N){var oe=n[N];if(oe>255){var G=oe>>18&31;B0(e,d,Y[G+257]),d+=K[G+257],G>7&&(su(e,d,oe>>23&31),d+=cD[G]);var J=oe&31;B0(e,d,q[J]),d+=Z[J],J>3&&(B0(e,d,oe>>5&8191),d+=uD[J])}else B0(e,d,Y[oe]),d+=K[oe]}return B0(e,d,Y[256]),d+K[256]},VGe=new lD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Bte=new Dl(0),zGe=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Dl(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),u=a.l,d=(a.r||0)&7;if(e){d&&(l[0]=a.r>>3);for(var h=VGe[e-1],p=h>>13,f=h&8191,v=(1<<r)-1,m=a.p||new no(32768),g=a.h||new no(v+1),y=Math.ceil(r/3),x=2*y,_=function(ge){return(t[ge]^t[ge+1]<<y^t[ge+2]<<x)&v},A=new lD(25e3),E=new no(288),I=new no(32),j=0,N=0,k=a.i||0,D=0,C=a.w||0,O=0;k+2<s;++k){var L=_(k),z=k&32767,re=g[L];if(m[z]=re,g[L]=z,C<=k){var Y=s-k;if((j>7e3||D>24576)&&(Y>423||!u)){d=_B(t,l,0,A,E,I,N,D,O,k-O,d),D=j=N=0,O=k;for(var K=0;K<286;++K)E[K]=0;for(var K=0;K<30;++K)I[K]=0}var q=2,Z=0,ve=f,ce=z-re&32767;if(Y>2&&L==_(k-ce))for(var F=Math.min(p,Y)-1,V=Math.min(32767,k),G=Math.min(258,Y);ce<=V&&--ve&&z!=re;){if(t[k+q]==t[k+q-ce]){for(var oe=0;oe<G&&t[k+oe]==t[k+oe-ce];++oe);if(oe>q){if(q=oe,Z=ce,oe>F)break;for(var J=Math.min(ce,oe-2),ie=0,K=0;K<J;++K){var be=k-ce+K&32767,he=m[be],P=be-he&32767;P>ie&&(ie=P,re=be)}}}z=re,re=m[z],ce+=z-re&32767}if(Z){A[D++]=268435456|k4[q]<<18|xB[Z];var X=k4[q]&31,ne=xB[Z]&31;N+=cD[X]+uD[ne],++E[257+X],++I[ne],C=k+q,++j}else A[D++]=t[k],++E[t[k]]}}for(k=Math.max(k,C);k<s;++k)A[D++]=t[k],++E[t[k]];d=_B(t,l,u,A,E,I,N,D,O,k-O,d),u||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=g,a.p=m,a.i=k,a.w=C)}else{for(var k=a.w||0;k<s+u;k+=65535){var de=k+65535;de>=s&&(l[d/8|0]=u,de=s),d=Fte(l,d+1,t.subarray(k,de))}a.i=s}return UGe(o,0,n+$te(d)+i)},Ute=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},qGe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Dl(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return zGe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Vte=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},WGe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Ute();i.p(e.dictionary),Vte(t,2,i.d())}};function R4(t,e){e||(e={});var r=Ute();r.p(t);var n=qGe(t,e,e.dictionary?6:2,4);return WGe(n,e),Vte(n,n.length-4,r.d()),n}var HGe=typeof TextDecoder<"u"&&new TextDecoder,GGe=0;try{HGe.decode(Bte,{stream:!0}),GGe=1}catch{}function KGe(t){if(Array.isArray(t))return t}function YGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function SB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function XGe(t,e){if(t){if(typeof t=="string")return SB(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?SB(t,e):void 0}}function QGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AB(t,e){return KGe(t)||YGe(t,e)||XGe(t,e)||QGe()}function NB(t,e="utf8"){return new TextDecoder(e).decode(t)}const JGe=new TextEncoder;function ZGe(t){return JGe.encode(t)}const eKe=1024*8,tKe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),hP={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class dD{constructor(e=eKe,r={}){kr(this,"buffer");kr(this,"byteLength");kr(this,"byteOffset");kr(this,"length");kr(this,"offset");kr(this,"lastWrittenByte");kr(this,"littleEndian");kr(this,"_data");kr(this,"_mark");kr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof dD)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=hP[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===tKe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new hP[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new hP[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return NB(this.readBytes(e))}decodeText(e=1,r="utf8"){return NB(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(ZGe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const rKe=4,EB=0,jB=1,nKe=2;function Yy(t){let e=t.length;for(;--e>=0;)t[e]=0}const iKe=0,zte=1,aKe=2,sKe=3,oKe=258,hD=29,aw=256,ax=aw+1+hD,Jg=30,fD=19,qte=2*ax+1,pp=15,fP=16,lKe=7,pD=256,Wte=16,Hte=17,Gte=18,D4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),m_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cKe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Kte=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uKe=512,gu=new Array((ax+2)*2);Yy(gu);const M1=new Array(Jg*2);Yy(M1);const sx=new Array(uKe);Yy(sx);const ox=new Array(oKe-sKe+1);Yy(ox);const mD=new Array(hD);Yy(mD);const C5=new Array(Jg);Yy(C5);function pP(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let Yte,Xte,Qte;function mP(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Jte=t=>t<256?sx[t]:sx[256+(t>>>7)],lx=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Es=(t,e,r)=>{t.bi_valid>fP-r?(t.bi_buf|=e<<t.bi_valid&65535,lx(t,t.bi_buf),t.bi_buf=e>>fP-t.bi_valid,t.bi_valid+=r-fP):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},fc=(t,e,r)=>{Es(t,r[e*2],r[e*2+1])},Zte=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},dKe=t=>{t.bi_valid===16?(lx(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},hKe=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,d,h,p,f,v,m=0;for(p=0;p<=pp;p++)t.bl_count[p]=0;for(r[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<qte;u++)d=t.heap[u],p=r[r[d*2+1]*2+1]+1,p>l&&(p=l,m++),r[d*2+1]=p,!(d>n)&&(t.bl_count[p]++,f=0,d>=o&&(f=s[d-o]),v=r[d*2],t.opt_len+=v*(p+f),a&&(t.static_len+=v*(i[d*2+1]+f)));if(m!==0){do{for(p=l-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(p=l;p!==0;p--)for(d=t.bl_count[p];d!==0;)h=t.heap[--u],!(h>n)&&(r[h*2+1]!==p&&(t.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),d--)}},ere=(t,e,r)=>{const n=new Array(pp+1);let i=0,a,s;for(a=1;a<=pp;a++)i=i+r[a-1]<<1,n[a]=i;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=Zte(n[o]++,o))}},fKe=()=>{let t,e,r,n,i;const a=new Array(pp+1);for(r=0,n=0;n<hD-1;n++)for(mD[n]=r,t=0;t<1<<D4[n];t++)ox[r++]=n;for(ox[r-1]=n,i=0,n=0;n<16;n++)for(C5[n]=i,t=0;t<1<<m_[n];t++)sx[i++]=n;for(i>>=7;n<Jg;n++)for(C5[n]=i<<7,t=0;t<1<<m_[n]-7;t++)sx[256+i++]=n;for(e=0;e<=pp;e++)a[e]=0;for(t=0;t<=143;)gu[t*2+1]=8,t++,a[8]++;for(;t<=255;)gu[t*2+1]=9,t++,a[9]++;for(;t<=279;)gu[t*2+1]=7,t++,a[7]++;for(;t<=287;)gu[t*2+1]=8,t++,a[8]++;for(ere(gu,ax+1,a),t=0;t<Jg;t++)M1[t*2+1]=5,M1[t*2]=Zte(t,5);Yte=new pP(gu,D4,aw+1,ax,pp),Xte=new pP(M1,m_,0,Jg,pp),Qte=new pP(new Array(0),cKe,0,fD,lKe)},tre=t=>{let e;for(e=0;e<ax;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Jg;e++)t.dyn_dtree[e*2]=0;for(e=0;e<fD;e++)t.bl_tree[e*2]=0;t.dyn_ltree[pD*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},rre=t=>{t.bi_valid>8?lx(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},PB=(t,e,r,n)=>{const i=e*2,a=r*2;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},gP=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&PB(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!PB(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},TB=(t,e,r)=>{let n,i,a=0,s,o;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,i=t.pending_buf[t.sym_buf+a++],n===0?fc(t,i,e):(s=ox[i],fc(t,s+aw+1,e),o=D4[s],o!==0&&(i-=mD[s],Es(t,i,o)),n--,s=Jte(n),fc(t,s,r),o=m_[s],o!==0&&(n-=C5[s],Es(t,n,o)));while(a<t.sym_next);fc(t,pD,e)},L4=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,o,l=-1,u;for(t.heap_len=0,t.heap_max=qte,s=0;s<a;s++)r[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):r[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,r[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[u*2+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)gP(t,r,s);u=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],gP(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,r[u*2]=r[s*2]+r[o*2],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,r[s*2+1]=r[o*2+1]=u,t.heap[1]=u++,gP(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],hKe(t,e),ere(r,l,t.bl_count)},CB=(t,e,r)=>{let n,i=-1,a,s=e[0*2+1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=e[(n+1)*2+1],!(++o<l&&a===s)&&(o<u?t.bl_tree[a*2]+=o:a!==0?(a!==i&&t.bl_tree[a*2]++,t.bl_tree[Wte*2]++):o<=10?t.bl_tree[Hte*2]++:t.bl_tree[Gte*2]++,o=0,i=a,s===0?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4))},kB=(t,e,r)=>{let n,i=-1,a,s=e[0*2+1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),n=0;n<=r;n++)if(a=s,s=e[(n+1)*2+1],!(++o<l&&a===s)){if(o<u)do fc(t,a,t.bl_tree);while(--o!==0);else a!==0?(a!==i&&(fc(t,a,t.bl_tree),o--),fc(t,Wte,t.bl_tree),Es(t,o-3,2)):o<=10?(fc(t,Hte,t.bl_tree),Es(t,o-3,3)):(fc(t,Gte,t.bl_tree),Es(t,o-11,7));o=0,i=a,s===0?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4)}},pKe=t=>{let e;for(CB(t,t.dyn_ltree,t.l_desc.max_code),CB(t,t.dyn_dtree,t.d_desc.max_code),L4(t,t.bl_desc),e=fD-1;e>=3&&t.bl_tree[Kte[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},mKe=(t,e,r,n)=>{let i;for(Es(t,e-257,5),Es(t,r-1,5),Es(t,n-4,4),i=0;i<n;i++)Es(t,t.bl_tree[Kte[i]*2+1],3);kB(t,t.dyn_ltree,e-1),kB(t,t.dyn_dtree,r-1)},gKe=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return EB;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return jB;for(r=32;r<aw;r++)if(t.dyn_ltree[r*2]!==0)return jB;return EB};let IB=!1;const vKe=t=>{IB||(fKe(),IB=!0),t.l_desc=new mP(t.dyn_ltree,Yte),t.d_desc=new mP(t.dyn_dtree,Xte),t.bl_desc=new mP(t.bl_tree,Qte),t.bi_buf=0,t.bi_valid=0,tre(t)},nre=(t,e,r,n)=>{Es(t,(iKe<<1)+(n?1:0),3),rre(t),lx(t,r),lx(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},yKe=t=>{Es(t,zte<<1,3),fc(t,pD,gu),dKe(t)},bKe=(t,e,r,n)=>{let i,a,s=0;t.level>0?(t.strm.data_type===nKe&&(t.strm.data_type=gKe(t)),L4(t,t.l_desc),L4(t,t.d_desc),s=pKe(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?nre(t,e,r,n):t.strategy===rKe||a===i?(Es(t,(zte<<1)+(n?1:0),3),TB(t,gu,M1)):(Es(t,(aKe<<1)+(n?1:0),3),mKe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),TB(t,t.dyn_ltree,t.dyn_dtree)),tre(t),n&&rre(t)},xKe=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(ox[r]+aw+1)*2]++,t.dyn_dtree[Jte(e)*2]++),t.sym_next===t.sym_end);var wKe=vKe,_Ke=nre,SKe=bKe,AKe=xKe,NKe=yKe,EKe={_tr_init:wKe,_tr_stored_block:_Ke,_tr_flush_block:SKe,_tr_tally:AKe,_tr_align:NKe};const jKe=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var cx=jKe;const PKe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},TKe=new Uint32Array(PKe()),CKe=(t,e,r,n)=>{const i=TKe,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Ki=CKe,uy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:kKe,_tr_stored_block:M4,_tr_flush_block:IKe,_tr_tally:$h,_tr_align:OKe}=EKe,{Z_NO_FLUSH:Fh,Z_PARTIAL_FLUSH:RKe,Z_FULL_FLUSH:DKe,Z_FINISH:Uo,Z_BLOCK:OB,Z_OK:ca,Z_STREAM_END:RB,Z_STREAM_ERROR:Tc,Z_DATA_ERROR:LKe,Z_BUF_ERROR:vP,Z_DEFAULT_COMPRESSION:MKe,Z_FILTERED:$Ke,Z_HUFFMAN_ONLY:E2,Z_RLE:FKe,Z_FIXED:BKe,Z_DEFAULT_STRATEGY:UKe,Z_UNKNOWN:VKe,Z_DEFLATED:KN}=sw,zKe=9,qKe=15,WKe=8,HKe=29,GKe=256,$4=GKe+1+HKe,KKe=30,YKe=19,XKe=2*$4+1,QKe=15,jr=3,gh=258,Cc=gh+jr+1,JKe=32,dy=42,gD=57,F4=69,B4=73,U4=91,V4=103,mp=113,a1=666,is=1,Xy=2,um=3,Qy=4,ZKe=3,gp=(t,e)=>(t.msg=uy[e],e),DB=t=>t*2-(t>4?9:0),eh=t=>{let e=t.length;for(;--e>=0;)t[e]=0},eYe=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e);e=i,n=e;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)};let tYe=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,Bh=tYe;const Xs=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},io=(t,e)=>{IKe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Xs(t.strm)},Hr=(t,e)=>{t.pending_buf[t.pending++]=e},V0=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},z4=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=cx(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Ki(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},ire=(t,e)=>{let r=t.max_chain_length,n=t.strstart,i,a,s=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-Cc?t.strstart-(t.w_size-Cc):0,u=t.window,d=t.w_mask,h=t.prev,p=t.strstart+gh;let f=u[n+s-1],v=u[n+s];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(i=e,!(u[i+s]!==v||u[i+s-1]!==f||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<p);if(a=gh-(p-n),n=p-gh,a>s){if(t.match_start=e,s=a,a>=o)break;f=u[n+s-1],v=u[n+s]}}while((e=h[e&d])>l&&--r!==0);return s<=t.lookahead?s:t.lookahead},hy=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Cc)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),eYe(t),n+=e),t.strm.avail_in===0)break;if(r=z4(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=jr)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Bh(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Bh(t,t.ins_h,t.window[i+jr-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<jr)););}while(t.lookahead<Cc&&t.strm.avail_in!==0)},are=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,a,s=0,o=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&e!==Uo||e===Fh||n!==i+t.strm.avail_in)))break;s=e===Uo&&n===i+t.strm.avail_in?1:0,M4(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Xs(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(z4(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(s===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Qy:e!==Fh&&e!==Uo&&t.strm.avail_in===0&&t.strstart===t.block_start?Xy:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(z4(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,r=a>t.w_size?t.w_size:a,i=t.strstart-t.block_start,(i>=r||(i||e===Uo)&&e!==Fh&&t.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,s=e===Uo&&t.strm.avail_in===0&&n===i?1:0,M4(t,t.block_start,n,s),t.block_start+=n,Xs(t.strm)),s?um:is)},yP=(t,e)=>{let r,n;for(;;){if(t.lookahead<Cc){if(hy(t),t.lookahead<Cc&&e===Fh)return is;if(t.lookahead===0)break}if(r=0,t.lookahead>=jr&&(t.ins_h=Bh(t,t.ins_h,t.window[t.strstart+jr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Cc&&(t.match_length=ire(t,r)),t.match_length>=jr)if(n=$h(t,t.strstart-t.match_start,t.match_length-jr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=jr){t.match_length--;do t.strstart++,t.ins_h=Bh(t,t.ins_h,t.window[t.strstart+jr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Bh(t,t.ins_h,t.window[t.strstart+1]);else n=$h(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(io(t,!1),t.strm.avail_out===0))return is}return t.insert=t.strstart<jr-1?t.strstart:jr-1,e===Uo?(io(t,!0),t.strm.avail_out===0?um:Qy):t.sym_next&&(io(t,!1),t.strm.avail_out===0)?is:Xy},Jm=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Cc){if(hy(t),t.lookahead<Cc&&e===Fh)return is;if(t.lookahead===0)break}if(r=0,t.lookahead>=jr&&(t.ins_h=Bh(t,t.ins_h,t.window[t.strstart+jr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=jr-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Cc&&(t.match_length=ire(t,r),t.match_length<=5&&(t.strategy===$Ke||t.match_length===jr&&t.strstart-t.match_start>4096)&&(t.match_length=jr-1)),t.prev_length>=jr&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-jr,n=$h(t,t.strstart-1-t.prev_match,t.prev_length-jr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Bh(t,t.ins_h,t.window[t.strstart+jr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=jr-1,t.strstart++,n&&(io(t,!1),t.strm.avail_out===0))return is}else if(t.match_available){if(n=$h(t,0,t.window[t.strstart-1]),n&&io(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return is}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=$h(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<jr-1?t.strstart:jr-1,e===Uo?(io(t,!0),t.strm.avail_out===0?um:Qy):t.sym_next&&(io(t,!1),t.strm.avail_out===0)?is:Xy},rYe=(t,e)=>{let r,n,i,a;const s=t.window;for(;;){if(t.lookahead<=gh){if(hy(t),t.lookahead<=gh&&e===Fh)return is;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=jr&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=t.strstart+gh;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=gh-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=jr?(r=$h(t,1,t.match_length-jr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=$h(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(io(t,!1),t.strm.avail_out===0))return is}return t.insert=0,e===Uo?(io(t,!0),t.strm.avail_out===0?um:Qy):t.sym_next&&(io(t,!1),t.strm.avail_out===0)?is:Xy},nYe=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(hy(t),t.lookahead===0)){if(e===Fh)return is;break}if(t.match_length=0,r=$h(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(io(t,!1),t.strm.avail_out===0))return is}return t.insert=0,e===Uo?(io(t,!0),t.strm.avail_out===0?um:Qy):t.sym_next&&(io(t,!1),t.strm.avail_out===0)?is:Xy};function ec(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const s1=[new ec(0,0,0,0,are),new ec(4,4,8,4,yP),new ec(4,5,16,8,yP),new ec(4,6,32,32,yP),new ec(4,4,16,16,Jm),new ec(8,16,32,32,Jm),new ec(8,16,128,128,Jm),new ec(8,32,128,256,Jm),new ec(32,128,258,1024,Jm),new ec(32,258,258,4096,Jm)],iYe=t=>{t.window_size=2*t.w_size,eh(t.head),t.max_lazy_match=s1[t.level].max_lazy,t.good_match=s1[t.level].good_length,t.nice_match=s1[t.level].nice_length,t.max_chain_length=s1[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=jr-1,t.match_available=0,t.ins_h=0};function aYe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=KN,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(XKe*2),this.dyn_dtree=new Uint16Array((2*KKe+1)*2),this.bl_tree=new Uint16Array((2*YKe+1)*2),eh(this.dyn_ltree),eh(this.dyn_dtree),eh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(QKe+1),this.heap=new Uint16Array(2*$4+1),eh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*$4+1),eh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ow=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==dy&&e.status!==gD&&e.status!==F4&&e.status!==B4&&e.status!==U4&&e.status!==V4&&e.status!==mp&&e.status!==a1?1:0},sre=t=>{if(ow(t))return gp(t,Tc);t.total_in=t.total_out=0,t.data_type=VKe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?gD:e.wrap?dy:mp,t.adler=e.wrap===2?0:1,e.last_flush=-2,kKe(e),ca},ore=t=>{const e=sre(t);return e===ca&&iYe(t.state),e},sYe=(t,e)=>ow(t)||t.state.wrap!==2?Tc:(t.state.gzhead=e,ca),lre=(t,e,r,n,i,a)=>{if(!t)return Tc;let s=1;if(e===MKe&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>zKe||r!==KN||n<8||n>15||e<0||e>9||a<0||a>BKe||n===8&&s!==1)return gp(t,Tc);n===8&&(n=9);const o=new aYe;return t.state=o,o.strm=t,o.status=dy,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+jr-1)/jr),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=a,o.method=r,ore(t)},oYe=(t,e)=>lre(t,e,KN,qKe,WKe,UKe),lYe=(t,e)=>{if(ow(t)||e>OB||e<0)return t?gp(t,Tc):Tc;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===a1&&e!==Uo)return gp(t,t.avail_out===0?vP:Tc);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(Xs(t),t.avail_out===0)return r.last_flush=-1,ca}else if(t.avail_in===0&&DB(e)<=DB(n)&&e!==Uo)return gp(t,vP);if(r.status===a1&&t.avail_in!==0)return gp(t,vP);if(r.status===dy&&r.wrap===0&&(r.status=mp),r.status===dy){let i=KN+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=E2||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=JKe),i+=31-i%31,V0(r,i),r.strstart!==0&&(V0(r,t.adler>>>16),V0(r,t.adler&65535)),t.adler=1,r.status=mp,Xs(t),r.pending!==0)return r.last_flush=-1,ca}if(r.status===gD){if(t.adler=0,Hr(r,31),Hr(r,139),Hr(r,8),r.gzhead)Hr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Hr(r,r.gzhead.time&255),Hr(r,r.gzhead.time>>8&255),Hr(r,r.gzhead.time>>16&255),Hr(r,r.gzhead.time>>24&255),Hr(r,r.level===9?2:r.strategy>=E2||r.level<2?4:0),Hr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Hr(r,r.gzhead.extra.length&255),Hr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Ki(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=F4;else if(Hr(r,0),Hr(r,0),Hr(r,0),Hr(r,0),Hr(r,0),Hr(r,r.level===9?2:r.strategy>=E2||r.level<2?4:0),Hr(r,ZKe),r.status=mp,Xs(t),r.pending!==0)return r.last_flush=-1,ca}if(r.status===F4){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,Xs(t),r.pending!==0)return r.last_flush=-1,ca;i=0,a-=o}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=B4}if(r.status===B4){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),Xs(t),r.pending!==0)return r.last_flush=-1,ca;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,Hr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=U4}if(r.status===U4){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i)),Xs(t),r.pending!==0)return r.last_flush=-1,ca;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,Hr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Ki(t.adler,r.pending_buf,r.pending-i,i))}r.status=V4}if(r.status===V4){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Xs(t),r.pending!==0))return r.last_flush=-1,ca;Hr(r,t.adler&255),Hr(r,t.adler>>8&255),t.adler=0}if(r.status=mp,Xs(t),r.pending!==0)return r.last_flush=-1,ca}if(t.avail_in!==0||r.lookahead!==0||e!==Fh&&r.status!==a1){let i=r.level===0?are(r,e):r.strategy===E2?nYe(r,e):r.strategy===FKe?rYe(r,e):s1[r.level].func(r,e);if((i===um||i===Qy)&&(r.status=a1),i===is||i===um)return t.avail_out===0&&(r.last_flush=-1),ca;if(i===Xy&&(e===RKe?OKe(r):e!==OB&&(M4(r,0,0,!1),e===DKe&&(eh(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Xs(t),t.avail_out===0))return r.last_flush=-1,ca}return e!==Uo?ca:r.wrap<=0?RB:(r.wrap===2?(Hr(r,t.adler&255),Hr(r,t.adler>>8&255),Hr(r,t.adler>>16&255),Hr(r,t.adler>>24&255),Hr(r,t.total_in&255),Hr(r,t.total_in>>8&255),Hr(r,t.total_in>>16&255),Hr(r,t.total_in>>24&255)):(V0(r,t.adler>>>16),V0(r,t.adler&65535)),Xs(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?ca:RB)},cYe=t=>{if(ow(t))return Tc;const e=t.state.status;return t.state=null,e===mp?gp(t,LKe):ca},uYe=(t,e)=>{let r=e.length;if(ow(t))return Tc;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==dy||n.lookahead)return Tc;if(i===1&&(t.adler=cx(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(eh(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(r-n.w_size,r),0),e=l,r=n.w_size}const a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,hy(n);n.lookahead>=jr;){let l=n.strstart,u=n.lookahead-(jr-1);do n.ins_h=Bh(n,n.ins_h,n.window[l+jr-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--u);n.strstart=l,n.lookahead=jr-1,hy(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=jr-1,n.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,n.wrap=i,ca};var dYe=oYe,hYe=lre,fYe=ore,pYe=sre,mYe=sYe,gYe=lYe,vYe=cYe,yYe=uYe,bYe="pako deflate (from Nodeca project)",$1={deflateInit:dYe,deflateInit2:hYe,deflateReset:fYe,deflateResetKeep:pYe,deflateSetHeader:mYe,deflate:gYe,deflateEnd:vYe,deflateSetDictionary:yYe,deflateInfo:bYe};const xYe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var wYe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)xYe(r,n)&&(t[n]=r[n])}}return t},_Ye=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},YN={assign:wYe,flattenChunks:_Ye};let cre=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cre=!1}const ux=new Uint8Array(256);for(let t=0;t<256;t++)ux[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ux[254]=ux[254]=1;var SYe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const AYe=(t,e)=>{if(e<65534&&t.subarray&&cre)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var NYe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=ux[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return AYe(a,i)},EYe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ux[t[r]]>e?r:e},dx={string2buf:SYe,buf2string:NYe,utf8border:EYe};function jYe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ure=jYe;const dre=Object.prototype.toString,{Z_NO_FLUSH:PYe,Z_SYNC_FLUSH:TYe,Z_FULL_FLUSH:CYe,Z_FINISH:kYe,Z_OK:k5,Z_STREAM_END:IYe,Z_DEFAULT_COMPRESSION:OYe,Z_DEFAULT_STRATEGY:RYe,Z_DEFLATED:DYe}=sw;function vD(t){this.options=YN.assign({level:OYe,method:DYe,chunkSize:16384,windowBits:15,memLevel:8,strategy:RYe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ure,this.strm.avail_out=0;let r=$1.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==k5)throw new Error(uy[r]);if(e.header&&$1.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=dx.string2buf(e.dictionary):dre.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=$1.deflateSetDictionary(this.strm,n),r!==k5)throw new Error(uy[r]);this._dict_set=!0}}vD.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?kYe:PYe,typeof t=="string"?r.input=dx.string2buf(t):dre.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===TYe||a===CYe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=$1.deflate(r,a),i===IYe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=$1.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===k5;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};vD.prototype.onData=function(t){this.chunks.push(t)};vD.prototype.onEnd=function(t){t===k5&&(this.result=YN.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const j2=16209,LYe=16191;var MYe=function(e,r){let n,i,a,s,o,l,u,d,h,p,f,v,m,g,y,x,_,A,E,I,j,N,k,D;const C=e.state;n=e.next_in,k=e.input,i=n+(e.avail_in-5),a=e.next_out,D=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),l=C.dmax,u=C.wsize,d=C.whave,h=C.wnext,p=C.window,f=C.hold,v=C.bits,m=C.lencode,g=C.distcode,y=(1<<C.lenbits)-1,x=(1<<C.distbits)-1;e:do{v<15&&(f+=k[n++]<<v,v+=8,f+=k[n++]<<v,v+=8),_=m[f&y];t:for(;;){if(A=_>>>24,f>>>=A,v-=A,A=_>>>16&255,A===0)D[a++]=_&65535;else if(A&16){E=_&65535,A&=15,A&&(v<A&&(f+=k[n++]<<v,v+=8),E+=f&(1<<A)-1,f>>>=A,v-=A),v<15&&(f+=k[n++]<<v,v+=8,f+=k[n++]<<v,v+=8),_=g[f&x];r:for(;;){if(A=_>>>24,f>>>=A,v-=A,A=_>>>16&255,A&16){if(I=_&65535,A&=15,v<A&&(f+=k[n++]<<v,v+=8,v<A&&(f+=k[n++]<<v,v+=8)),I+=f&(1<<A)-1,I>l){e.msg="invalid distance too far back",C.mode=j2;break e}if(f>>>=A,v-=A,A=a-s,I>A){if(A=I-A,A>d&&C.sane){e.msg="invalid distance too far back",C.mode=j2;break e}if(j=0,N=p,h===0){if(j+=u-A,A<E){E-=A;do D[a++]=p[j++];while(--A);j=a-I,N=D}}else if(h<A){if(j+=u+h-A,A-=h,A<E){E-=A;do D[a++]=p[j++];while(--A);if(j=0,h<E){A=h,E-=A;do D[a++]=p[j++];while(--A);j=a-I,N=D}}}else if(j+=h-A,A<E){E-=A;do D[a++]=p[j++];while(--A);j=a-I,N=D}for(;E>2;)D[a++]=N[j++],D[a++]=N[j++],D[a++]=N[j++],E-=3;E&&(D[a++]=N[j++],E>1&&(D[a++]=N[j++]))}else{j=a-I;do D[a++]=D[j++],D[a++]=D[j++],D[a++]=D[j++],E-=3;while(E>2);E&&(D[a++]=D[j++],E>1&&(D[a++]=D[j++]))}}else if(A&64){e.msg="invalid distance code",C.mode=j2;break e}else{_=g[(_&65535)+(f&(1<<A)-1)];continue r}break}}else if(A&64)if(A&32){C.mode=LYe;break e}else{e.msg="invalid literal/length code",C.mode=j2;break e}else{_=m[(_&65535)+(f&(1<<A)-1)];continue t}break}}while(n<i&&a<o);E=v>>3,n-=E,v-=E<<3,f&=(1<<v)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),C.hold=f,C.bits=v};const Zm=15,LB=852,MB=592,$B=0,bP=1,FB=2,$Ye=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),FYe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),BYe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),UYe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),VYe=(t,e,r,n,i,a,s,o)=>{const l=o.bits;let u=0,d=0,h=0,p=0,f=0,v=0,m=0,g=0,y=0,x=0,_,A,E,I,j,N=null,k;const D=new Uint16Array(Zm+1),C=new Uint16Array(Zm+1);let O=null,L,z,re;for(u=0;u<=Zm;u++)D[u]=0;for(d=0;d<n;d++)D[e[r+d]]++;for(f=l,p=Zm;p>=1&&D[p]===0;p--);if(f>p&&(f=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<p&&D[h]===0;h++);for(f<h&&(f=h),g=1,u=1;u<=Zm;u++)if(g<<=1,g-=D[u],g<0)return-1;if(g>0&&(t===$B||p!==1))return-1;for(C[1]=0,u=1;u<Zm;u++)C[u+1]=C[u]+D[u];for(d=0;d<n;d++)e[r+d]!==0&&(s[C[e[r+d]]++]=d);if(t===$B?(N=O=s,k=20):t===bP?(N=$Ye,O=FYe,k=257):(N=BYe,O=UYe,k=0),x=0,d=0,u=h,j=a,v=f,m=0,E=-1,y=1<<f,I=y-1,t===bP&&y>LB||t===FB&&y>MB)return 1;for(;;){L=u-m,s[d]+1<k?(z=0,re=s[d]):s[d]>=k?(z=O[s[d]-k],re=N[s[d]-k]):(z=96,re=0),_=1<<u-m,A=1<<v,h=A;do A-=_,i[j+(x>>m)+A]=L<<24|z<<16|re|0;while(A!==0);for(_=1<<u-1;x&_;)_>>=1;if(_!==0?(x&=_-1,x+=_):x=0,d++,--D[u]===0){if(u===p)break;u=e[r+s[d]]}if(u>f&&(x&I)!==E){for(m===0&&(m=f),j+=h,v=u-m,g=1<<v;v+m<p&&(g-=D[v+m],!(g<=0));)v++,g<<=1;if(y+=1<<v,t===bP&&y>LB||t===FB&&y>MB)return 1;E=x&I,i[E]=f<<24|v<<16|j-a|0}}return x!==0&&(i[j+x]=u-m<<24|64<<16|0),o.bits=f,0};var F1=VYe;const zYe=0,hre=1,fre=2,{Z_FINISH:BB,Z_BLOCK:qYe,Z_TREES:P2,Z_OK:dm,Z_STREAM_END:WYe,Z_NEED_DICT:HYe,Z_STREAM_ERROR:Jo,Z_DATA_ERROR:pre,Z_MEM_ERROR:mre,Z_BUF_ERROR:GYe,Z_DEFLATED:UB}=sw,XN=16180,VB=16181,zB=16182,qB=16183,WB=16184,HB=16185,GB=16186,KB=16187,YB=16188,XB=16189,I5=16190,ou=16191,xP=16192,QB=16193,wP=16194,JB=16195,ZB=16196,eU=16197,tU=16198,T2=16199,C2=16200,rU=16201,nU=16202,iU=16203,aU=16204,sU=16205,_P=16206,oU=16207,lU=16208,Hn=16209,gre=16210,vre=16211,KYe=852,YYe=592,XYe=15,QYe=XYe,cU=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function JYe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nm=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<XN||e.mode>vre?1:0},yre=t=>{if(Nm(t))return Jo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=XN,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(KYe),e.distcode=e.distdyn=new Int32Array(YYe),e.sane=1,e.back=-1,dm},bre=t=>{if(Nm(t))return Jo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,yre(t)},xre=(t,e)=>{let r;if(Nm(t))return Jo;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Jo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,bre(t))},wre=(t,e)=>{if(!t)return Jo;const r=new JYe;t.state=r,r.strm=t,r.window=null,r.mode=XN;const n=xre(t,e);return n!==dm&&(t.state=null),n},ZYe=t=>wre(t,QYe);let uU=!0,SP,AP;const eXe=t=>{if(uU){SP=new Int32Array(512),AP=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(F1(hre,t.lens,0,288,SP,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;F1(fre,t.lens,0,32,AP,0,t.work,{bits:5}),uU=!1}t.lencode=SP,t.lenbits=9,t.distcode=AP,t.distbits=5},_re=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},tXe=(t,e)=>{let r,n,i,a,s,o,l,u,d,h,p,f,v,m,g=0,y,x,_,A,E,I,j,N;const k=new Uint8Array(4);let D,C;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nm(t)||!t.output||!t.input&&t.avail_in!==0)return Jo;r=t.state,r.mode===ou&&(r.mode=xP),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,h=o,p=l,N=dm;e:for(;;)switch(r.mode){case XN:if(r.wrap===0){r.mode=xP;break}for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=u&255,k[1]=u>>>8&255,r.check=Ki(r.check,k,2,0),u=0,d=0,r.mode=VB;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Hn;break}if((u&15)!==UB){t.msg="unknown compression method",r.mode=Hn;break}if(u>>>=4,d-=4,j=(u&15)+8,r.wbits===0&&(r.wbits=j),j>15||j>r.wbits){t.msg="invalid window size",r.mode=Hn;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?XB:ou,u=0,d=0;break;case VB:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==UB){t.msg="unknown compression method",r.mode=Hn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Hn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=Ki(r.check,k,2,0)),u=0,d=0,r.mode=zB;case zB:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,r.check=Ki(r.check,k,4,0)),u=0,d=0,r.mode=qB;case qB:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=Ki(r.check,k,2,0)),u=0,d=0,r.mode=WB;case WB:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=Ki(r.check,k,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=HB;case HB:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),j)),r.flags&512&&r.wrap&4&&(r.check=Ki(r.check,n,f,a)),o-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=GB;case GB:if(r.flags&2048){if(o===0)break e;f=0;do j=n[a+f++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j));while(j&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Ki(r.check,n,f,a)),o-=f,a+=f,j)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=KB;case KB:if(r.flags&4096){if(o===0)break e;f=0;do j=n[a+f++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j));while(j&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Ki(r.check,n,f,a)),o-=f,a+=f,j)break e}else r.head&&(r.head.comment=null);r.mode=YB;case YB:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Hn;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ou;break;case XB:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}t.adler=r.check=cU(u),u=0,d=0,r.mode=I5;case I5:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=u,r.bits=d,HYe;t.adler=r.check=1,r.mode=ou;case ou:if(e===qYe||e===P2)break e;case xP:if(r.last){u>>>=d&7,d-=d&7,r.mode=_P;break}for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=QB;break;case 1:if(eXe(r),r.mode=T2,e===P2){u>>>=2,d-=2;break e}break;case 2:r.mode=ZB;break;case 3:t.msg="invalid block type",r.mode=Hn}u>>>=2,d-=2;break;case QB:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Hn;break}if(r.length=u&65535,u=0,d=0,r.mode=wP,e===P2)break e;case wP:r.mode=JB;case JB:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(a,a+f),s),o-=f,a+=f,l-=f,s+=f,r.length-=f;break}r.mode=ou;break;case ZB:for(;d<14;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Hn;break}r.have=0,r.mode=eU;case eU:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.lens[O[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},N=F1(zYe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,N){t.msg="invalid code lengths set",r.mode=Hn;break}r.have=0,r.mode=tU;case tU:for(;r.have<r.nlen+r.ndist;){for(;g=r.lencode[u&(1<<r.lenbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(_<16)u>>>=y,d-=y,r.lens[r.have++]=_;else{if(_===16){for(C=y+2;d<C;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(u>>>=y,d-=y,r.have===0){t.msg="invalid bit length repeat",r.mode=Hn;break}j=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(_===17){for(C=y+3;d<C;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=y,d-=y,j=0,f=3+(u&7),u>>>=3,d-=3}else{for(C=y+7;d<C;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=y,d-=y,j=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Hn;break}for(;f--;)r.lens[r.have++]=j}}if(r.mode===Hn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Hn;break}if(r.lenbits=9,D={bits:r.lenbits},N=F1(hre,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,N){t.msg="invalid literal/lengths set",r.mode=Hn;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},N=F1(fre,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,N){t.msg="invalid distances set",r.mode=Hn;break}if(r.mode=T2,e===P2)break e;case T2:r.mode=C2;case C2:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=u,r.bits=d,MYe(t,p),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,r.mode===ou&&(r.back=-1);break}for(r.back=0;g=r.lencode[u&(1<<r.lenbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(x&&!(x&240)){for(A=y,E=x,I=_;g=r.lencode[I+((u&(1<<A+E)-1)>>A)],y=g>>>24,x=g>>>16&255,_=g&65535,!(A+y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=A,d-=A,r.back+=A}if(u>>>=y,d-=y,r.back+=y,r.length=_,x===0){r.mode=sU;break}if(x&32){r.back=-1,r.mode=ou;break}if(x&64){t.msg="invalid literal/length code",r.mode=Hn;break}r.extra=x&15,r.mode=rU;case rU:if(r.extra){for(C=r.extra;d<C;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=nU;case nU:for(;g=r.distcode[u&(1<<r.distbits)-1],y=g>>>24,x=g>>>16&255,_=g&65535,!(y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(!(x&240)){for(A=y,E=x,I=_;g=r.distcode[I+((u&(1<<A+E)-1)>>A)],y=g>>>24,x=g>>>16&255,_=g&65535,!(A+y<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=A,d-=A,r.back+=A}if(u>>>=y,d-=y,r.back+=y,x&64){t.msg="invalid distance code",r.mode=Hn;break}r.offset=_,r.extra=x&15,r.mode=iU;case iU:if(r.extra){for(C=r.extra;d<C;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Hn;break}r.mode=aU;case aU:if(l===0)break e;if(f=p-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Hn;break}f>r.wnext?(f-=r.wnext,v=r.wsize-f):v=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,v=s-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[s++]=m[v++];while(--f);r.length===0&&(r.mode=C2);break;case sU:if(l===0)break e;i[s++]=r.length,l--,r.mode=C2;break;case _P:if(r.wrap){for(;d<32;){if(o===0)break e;o--,u|=n[a++]<<d,d+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Ki(r.check,i,p,s-p):cx(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?u:cU(u))!==r.check){t.msg="incorrect data check",r.mode=Hn;break}u=0,d=0}r.mode=oU;case oU:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Hn;break}u=0,d=0}r.mode=lU;case lU:N=WYe;break e;case Hn:N=pre;break e;case gre:return mre;case vre:default:return Jo}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Hn&&(r.mode<_P||e!==BB))&&_re(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Ki(r.check,i,p,t.next_out-p):cx(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ou?128:0)+(r.mode===T2||r.mode===wP?256:0),(h===0&&p===0||e===BB)&&N===dm&&(N=GYe),N},rXe=t=>{if(Nm(t))return Jo;let e=t.state;return e.window&&(e.window=null),t.state=null,dm},nXe=(t,e)=>{if(Nm(t))return Jo;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,dm):Jo},iXe=(t,e)=>{const r=e.length;let n,i,a;return Nm(t)||(n=t.state,n.wrap!==0&&n.mode!==I5)?Jo:n.mode===I5&&(i=1,i=cx(i,e,r,0),i!==n.check)?pre:(a=_re(t,e,r,r),a?(n.mode=gre,mre):(n.havedict=1,dm))};var aXe=bre,sXe=xre,oXe=yre,lXe=ZYe,cXe=wre,uXe=tXe,dXe=rXe,hXe=nXe,fXe=iXe,pXe="pako inflate (from Nodeca project)",vu={inflateReset:aXe,inflateReset2:sXe,inflateResetKeep:oXe,inflateInit:lXe,inflateInit2:cXe,inflate:uXe,inflateEnd:dXe,inflateGetHeader:hXe,inflateSetDictionary:fXe,inflateInfo:pXe};function mXe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gXe=mXe;const Sre=Object.prototype.toString,{Z_NO_FLUSH:vXe,Z_FINISH:yXe,Z_OK:hx,Z_STREAM_END:NP,Z_NEED_DICT:EP,Z_STREAM_ERROR:bXe,Z_DATA_ERROR:dU,Z_MEM_ERROR:xXe}=sw;function lw(t){this.options=YN.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ure,this.strm.avail_out=0;let r=vu.inflateInit2(this.strm,e.windowBits);if(r!==hx)throw new Error(uy[r]);if(this.header=new gXe,vu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=dx.string2buf(e.dictionary):Sre.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=vu.inflateSetDictionary(this.strm,e.dictionary),r!==hx)))throw new Error(uy[r])}lw.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?yXe:vXe,Sre.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=vu.inflate(r,s),a===EP&&i&&(a=vu.inflateSetDictionary(r,i),a===hx?a=vu.inflate(r,s):a===dU&&(a=EP));r.avail_in>0&&a===NP&&r.state.wrap>0&&t[r.next_in]!==0;)vu.inflateReset(r),a=vu.inflate(r,s);switch(a){case bXe:case dU:case EP:case xXe:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===NP))if(this.options.to==="string"){let l=dx.utf8border(r.output,r.next_out),u=r.next_out-l,d=dx.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===hx&&o===0)){if(a===NP)return a=vu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};lw.prototype.onData=function(t){this.chunks.push(t)};lw.prototype.onEnd=function(t){t===hx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=YN.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function yD(t,e){const r=new lw(e);if(r.push(t),r.err)throw r.msg||uy[r.err];return r.result}function wXe(t,e){return e=e||{},e.raw=!0,yD(t,e)}var _Xe=lw,SXe=yD,AXe=wXe,NXe=yD,EXe=sw,jXe={Inflate:_Xe,inflate:SXe,inflateRaw:AXe,ungzip:NXe,constants:EXe};const{Inflate:PXe,inflate:TXe,inflateRaw:hZe,ungzip:fZe}=jXe;var hU=PXe,CXe=TXe;const Are=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Are[t]=e}const fU=4294967295;function kXe(t,e,r){let n=t;for(let i=0;i<r;i++)n=Are[(n^e[i])&255]^n>>>8;return n}function IXe(t,e){return(kXe(fU,t,e)^fU)>>>0}function pU(t,e,r){const n=t.readUint32(),i=IXe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Nre(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Ere(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function jre(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function Pre(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function Tre(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+OXe(e[a-i],r[a],r[a-i])&255}}function OXe(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function RXe(t,e,r,n,i,a){switch(t){case 0:Nre(e,r,i);break;case 1:Ere(e,r,i,a);break;case 2:jre(e,r,n,i);break;case 3:Pre(e,r,n,i,a);break;case 4:Tre(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const DXe=new Uint16Array([255]),LXe=new Uint8Array(DXe.buffer),MXe=LXe[0]===255;function $Xe(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let d=0;d<7;d++){const h=s[d],p=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(p<=0||f<=0)continue;const v=p*o,m=new Uint8Array(v);for(let g=0;g<f;g++){const y=e[u++],x=e.subarray(u,u+v);u+=v;const _=new Uint8Array(v);RXe(y,x,_,m,v,o),m.set(_);for(let A=0;A<p;A++){const E=h.x+A*h.xStep,I=h.y+g*h.yStep;if(!(E>=r||I>=n))for(let j=0;j<o;j++)l[(I*r+E)*o+j]=_[A*o+j]}}}if(a===16){const d=new Uint16Array(l.buffer);if(MXe)for(let h=0;h<d.length;h++)d[h]=FXe(d[h]);return d}else return l}function FXe(t){return(t&255)<<8|t>>8&255}const BXe=new Uint16Array([255]),UXe=new Uint8Array(BXe.buffer),VXe=UXe[0]===255,zXe=new Uint8Array(0);function mU(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let u=zXe,d=0,h,p;for(let f=0;f<n;f++){switch(h=e.subarray(d+1,d+1+o),p=l.subarray(f*o,(f+1)*o),e[d]){case 0:Nre(h,p,o);break;case 1:Ere(h,p,o,s);break;case 2:jre(h,p,u,o);break;case 3:Pre(h,p,u,o,s);break;case 4:Tre(h,p,u,o,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=o+1}if(a===16){const f=new Uint16Array(l.buffer);if(VXe)for(let v=0;v<f.length;v++)f[v]=qXe(f[v]);return f}else return l}function qXe(t){return(t&255)<<8|t>>8&255}const g_=Uint8Array.of(137,80,78,71,13,10,26,10);function gU(t){if(!WXe(t.readBytes(g_.length)))throw new Error("wrong PNG signature")}function WXe(t){if(t.length<g_.length)return!1;for(let e=0;e<g_.length;e++)if(t[e]!==g_[e])return!1;return!0}const HXe="tEXt",GXe=0,Cre=new TextDecoder("latin1");function KXe(t){if(XXe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const YXe=/^[\u0000-\u00FF]*$/;function XXe(t){if(!YXe.test(t))throw new Error("invalid latin1 text")}function QXe(t,e,r){const n=kre(e);t[n]=JXe(e,r-n.length-1)}function kre(t){for(t.mark();t.readByte()!==GXe;);const e=t.offset;t.reset();const r=Cre.decode(t.readBytes(e-t.offset-1));return t.skip(1),KXe(r),r}function JXe(t,e){return Cre.decode(t.readBytes(e))}const Gs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},jP={UNKNOWN:-1,DEFLATE:0},vU={UNKNOWN:-1,ADAPTIVE:0},PP={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},k2={NONE:0,BACKGROUND:1,PREVIOUS:2},TP={SOURCE:0,OVER:1};class ZXe extends dD{constructor(r,n={}){super(r);kr(this,"_checkCrc");kr(this,"_inflator");kr(this,"_png");kr(this,"_apng");kr(this,"_end");kr(this,"_hasPalette");kr(this,"_palette");kr(this,"_hasTransparency");kr(this,"_transparency");kr(this,"_compressionMethod");kr(this,"_filterMethod");kr(this,"_interlaceMethod");kr(this,"_colorType");kr(this,"_isAnimated");kr(this,"_numberOfFrames");kr(this,"_numberOfPlays");kr(this,"_frames");kr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new hU,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jP.UNKNOWN,this._filterMethod=vU.UNKNOWN,this._interlaceMethod=PP.UNKNOWN,this._colorType=Gs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(gU(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(gU(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case HXe:QXe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?pU(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?pU(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=eQe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Gs.GREYSCALE:i=1;break;case Gs.TRUECOLOUR:i=3;break;case Gs.INDEXED_COLOUR:i=1;break;case Gs.GREYSCALE_ALPHA:i=2;break;case Gs.TRUECOLOUR_ALPHA:i=4;break;case Gs.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==jP.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Gs.GREYSCALE:case Gs.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Gs.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Gs.UNKNOWN:case Gs.GREYSCALE_ALPHA:case Gs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=kre(this),i=this.readUint8();if(i!==jP.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:CXe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=mU({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case k2.NONE:break;case k2.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case k2.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case TP.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[u+d]}break;case TP.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++){const h=n.data[u+this._png.channels-1]/i,p=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(h*p+(1-h)*r.data[l+d]);r.data[l+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==vU.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===PP.NO_INTERLACE)this._png.data=mU({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===PP.ADAM7)this._png.data=$Xe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:k2.NONE,blendOp:TP.SOURCE,data:r}),this._inflator=new hU,this._writingDataChunks=!1}}function eQe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var yU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(yU||(yU={}));function tQe(t,e){return new ZXe(t,e).decode()}var Jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function CP(){Jt.console&&typeof Jt.console.log=="function"&&Jt.console.log.apply(Jt.console,arguments)}var xn={log:CP,warn:function(t){Jt.console&&(typeof Jt.console.warn=="function"?Jt.console.warn.apply(Jt.console,arguments):CP.call(null,arguments))},error:function(t){Jt.console&&(typeof Jt.console.error=="function"?Jt.console.error.apply(Jt.console,arguments):CP(t))}};function kP(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){tp(n.response,e,r)},n.onerror=function(){xn.error("could not download file")},n.send()}function bU(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function I2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var tp=Jt.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==Jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Jt.URL||Jt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?bU(i.href)?kP(t,e,r):I2(i,i.target="_blank"):I2(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){I2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(bU(t))kP(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){I2(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:rn(a)!=="object"&&(xn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return kP(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Jt.HTMLElement)||Jt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var l=Jt.URL||Jt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Ire(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var v_=Jt.atob.bind(Jt),xU=Jt.btoa.bind(Jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function IP(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Aa(r,n,i,a,e[0],7,-680876936),a=Aa(a,r,n,i,e[1],12,-389564586),i=Aa(i,a,r,n,e[2],17,606105819),n=Aa(n,i,a,r,e[3],22,-1044525330),r=Aa(r,n,i,a,e[4],7,-176418897),a=Aa(a,r,n,i,e[5],12,1200080426),i=Aa(i,a,r,n,e[6],17,-1473231341),n=Aa(n,i,a,r,e[7],22,-45705983),r=Aa(r,n,i,a,e[8],7,1770035416),a=Aa(a,r,n,i,e[9],12,-1958414417),i=Aa(i,a,r,n,e[10],17,-42063),n=Aa(n,i,a,r,e[11],22,-1990404162),r=Aa(r,n,i,a,e[12],7,1804603682),a=Aa(a,r,n,i,e[13],12,-40341101),i=Aa(i,a,r,n,e[14],17,-1502002290),r=Na(r,n=Aa(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Na(a,r,n,i,e[6],9,-1069501632),i=Na(i,a,r,n,e[11],14,643717713),n=Na(n,i,a,r,e[0],20,-373897302),r=Na(r,n,i,a,e[5],5,-701558691),a=Na(a,r,n,i,e[10],9,38016083),i=Na(i,a,r,n,e[15],14,-660478335),n=Na(n,i,a,r,e[4],20,-405537848),r=Na(r,n,i,a,e[9],5,568446438),a=Na(a,r,n,i,e[14],9,-1019803690),i=Na(i,a,r,n,e[3],14,-187363961),n=Na(n,i,a,r,e[8],20,1163531501),r=Na(r,n,i,a,e[13],5,-1444681467),a=Na(a,r,n,i,e[2],9,-51403784),i=Na(i,a,r,n,e[7],14,1735328473),r=Ea(r,n=Na(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ea(a,r,n,i,e[8],11,-2022574463),i=Ea(i,a,r,n,e[11],16,1839030562),n=Ea(n,i,a,r,e[14],23,-35309556),r=Ea(r,n,i,a,e[1],4,-1530992060),a=Ea(a,r,n,i,e[4],11,1272893353),i=Ea(i,a,r,n,e[7],16,-155497632),n=Ea(n,i,a,r,e[10],23,-1094730640),r=Ea(r,n,i,a,e[13],4,681279174),a=Ea(a,r,n,i,e[0],11,-358537222),i=Ea(i,a,r,n,e[3],16,-722521979),n=Ea(n,i,a,r,e[6],23,76029189),r=Ea(r,n,i,a,e[9],4,-640364487),a=Ea(a,r,n,i,e[12],11,-421815835),i=Ea(i,a,r,n,e[15],16,530742520),r=ja(r,n=Ea(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ja(a,r,n,i,e[7],10,1126891415),i=ja(i,a,r,n,e[14],15,-1416354905),n=ja(n,i,a,r,e[5],21,-57434055),r=ja(r,n,i,a,e[12],6,1700485571),a=ja(a,r,n,i,e[3],10,-1894986606),i=ja(i,a,r,n,e[10],15,-1051523),n=ja(n,i,a,r,e[1],21,-2054922799),r=ja(r,n,i,a,e[8],6,1873313359),a=ja(a,r,n,i,e[15],10,-30611744),i=ja(i,a,r,n,e[6],15,-1560198380),n=ja(n,i,a,r,e[13],21,1309151649),r=ja(r,n,i,a,e[4],6,-145523070),a=ja(a,r,n,i,e[11],10,-1120210379),i=ja(i,a,r,n,e[2],15,718787259),n=ja(n,i,a,r,e[9],21,-343485551),t[0]=vh(r,t[0]),t[1]=vh(n,t[1]),t[2]=vh(i,t[2]),t[3]=vh(a,t[3])}function QN(t,e,r,n,i,a){return e=vh(vh(e,t),vh(n,a)),vh(e<<i|e>>>32-i,r)}function Aa(t,e,r,n,i,a,s){return QN(e&r|~e&n,t,e,i,a,s)}function Na(t,e,r,n,i,a,s){return QN(e&n|r&~n,t,e,i,a,s)}function Ea(t,e,r,n,i,a,s){return QN(e^r^n,t,e,i,a,s)}function ja(t,e,r,n,i,a,s){return QN(r^(e|~n),t,e,i,a,s)}function Ore(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)IP(n,rQe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(IP(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,IP(n,i),n}function rQe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var wU="0123456789abcdef".split("");function nQe(t){for(var e="",r=0;r<4;r++)e+=wU[t>>8*r+4&15]+wU[t>>8*r&15];return e}function iQe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function q4(t){return Ore(t).map(iQe).join("")}var aQe=function(t){for(var e=0;e<t.length;e++)t[e]=nQe(t[e]);return t.join("")}(Ore("hello"))!="5d41402abc4b2a76b9719d911017c592";function vh(t,e){if(aQe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function W4(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+s.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=t,n=o}else o=n;var h=e.length,p=0,f=0,v="";for(l=0;l<h;l++)f=(f+(d=o[p=(p+1)%256]))%256,o[p]=o[f],o[f]=d,s=o[(o[p]+o[f])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _U={print:4,modify:8,copy:16,"annot-forms":32};function lg(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(_U.perm!==void 0)throw new Error("Invalid permission: "+o);i+=_U[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=q4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=W4(this.encryptionKey,this.padding)}function cg(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function SU(t){if(rn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){Jt.console&&xn.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function O5(t){if(!(this instanceof O5))return new O5(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Rre(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ap(t,e,r,n,i){if(!(this instanceof ap))return new ap(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Rre.call(this,n,i)}function Tg(t,e,r,n,i){if(!(this instanceof Tg))return new Tg(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Rre.call(this,n,i)}function Rt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",d=null;rn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=SU;var v="1.3",m=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(R){v=R};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var y=f.__private__.getPageFormat=function(R){return g[R]};i=i||"a4";var x="compat",_="advanced",A=x;function E(){this.saveGraphicsState(),ee(new ot(Ye,0,0,-Ye,0,rl()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),u="n",A=_}function I(){this.restoreGraphicsState(),u="S",A=x}var j=f.__private__.combineFontStyleAndFontWeight=function(R,W){if(R=="bold"&&W=="normal"||R=="bold"&&W==400||R=="normal"&&W=="italic"||R=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(R=W==400||W==="normal"?R==="italic"?"italic":"normal":W!=700&&W!=="bold"||R!=="normal"?(W==700?"bold":W)+""+R:"bold"),R};f.advancedAPI=function(R){var W=A===x;return W&&E.call(this),typeof R!="function"||(R(this),W&&I.call(this)),this},f.compatAPI=function(R){var W=A===_;return W&&I.call(this),typeof R!="function"||(R(this),W&&E.call(this)),this},f.isAdvancedAPI=function(){return A===_};var N,k=function(R){if(A!==_)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=f.roundToPrecision=f.__private__.roundToPrecision=function(R,W){var fe=e||W;if(isNaN(R)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(fe).replace(/0+$/,"")};N=f.hpf=f.__private__.hpf=typeof l=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return D(R,l)}:l==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return D(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return D(R,16)};var C=f.f2=f.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return D(R,2)},O=f.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return D(R,3)},L=f.scale=f.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return A===x?R*Ye:A===_?R:void 0},z=function(R){return L(function(W){return A===x?rl()-W:A===_?W:void 0}(R))};f.__private__.setPrecision=f.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var re,Y="00000000000000000000000000000000",K=f.__private__.getFileId=function(){return Y},q=f.__private__.setFileId=function(R){return Y=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(mn=new lg(d.userPermissions,d.userPassword,d.ownerPassword,Y)),Y};f.setFileId=function(R){return q(R),this},f.getFileId=function(){return K()};var Z=f.__private__.convertDateToPDFDate=function(R){var W=R.getTimezoneOffset(),fe=W<0?"+":"-",ye=Math.floor(Math.abs(W/60)),Ne=Math.abs(W%60),Fe=[fe,G(ye),"'",G(Ne),"'"].join("");return["D:",R.getFullYear(),G(R.getMonth()+1),G(R.getDate()),G(R.getHours()),G(R.getMinutes()),G(R.getSeconds()),Fe].join("")},ve=f.__private__.convertPDFDateToDate=function(R){var W=parseInt(R.substr(2,4),10),fe=parseInt(R.substr(6,2),10)-1,ye=parseInt(R.substr(8,2),10),Ne=parseInt(R.substr(10,2),10),Fe=parseInt(R.substr(12,2),10),He=parseInt(R.substr(14,2),10);return new Date(W,fe,ye,Ne,Fe,He,0)},ce=f.__private__.setCreationDate=function(R){var W;if(R===void 0&&(R=new Date),R instanceof Date)W=Z(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=R}return re=W},F=f.__private__.getCreationDate=function(R){var W=re;return R==="jsDate"&&(W=ve(re)),W};f.setCreationDate=function(R){return ce(R),this},f.getCreationDate=function(R){return F(R)};var V,G=f.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},oe=f.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},J=0,ie=[],be=[],he=0,P=[],X=[],ne=!1,de=be;f.__private__.setCustomOutputDestination=function(R){ne=!0,de=R};var ge=function(R){ne||(de=R)};f.__private__.resetCustomOutputDestination=function(){ne=!1,de=be};var ee=f.__private__.out=function(R){return R=R.toString(),he+=R.length+1,de.push(R),de},Ae=f.__private__.write=function(R){return ee(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},De=f.__private__.getArrayBuffer=function(R){for(var W=R.length,fe=new ArrayBuffer(W),ye=new Uint8Array(fe);W--;)ye[W]=R.charCodeAt(W);return fe},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Le};var _e=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(R){return _e=A===_?R/Ye:R,this};var ke,je=f.__private__.getFontSize=f.getFontSize=function(){return A===x?_e:_e*Ye},Me=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(R){return Me=R,this},f.__private__.getR2L=f.getR2L=function(){return Me};var et,Yt=f.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))ke=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');ke=R}else ke=parseInt(R,10)};f.__private__.getZoomMode=function(){return ke};var Nt,ut=f.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');et=R};f.__private__.getPageMode=function(){return et};var Lt=f.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Nt=R};f.__private__.getLayoutMode=function(){return Nt},f.__private__.setDisplayMode=f.setDisplayMode=function(R,W,fe){return Yt(R),Lt(W),ut(fe),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(R){if(Object.keys(vt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[R]},f.__private__.getDocumentProperties=function(){return vt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(R){for(var W in vt)vt.hasOwnProperty(W)&&R[W]&&(vt[W]=R[W]);return this},f.__private__.setDocumentProperty=function(R,W){if(Object.keys(vt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[R]=W};var Ee,Ye,Ze,ct,lt,rt={},Ce={},Ct=[],yt={},er={},Bt={},Vr={},hn=null,Mt=0,_t=[],Ut=new SU(f),bt=t.hotfixes||[],Tt={},lr={},cr=[],ot=function R(W,fe,ye,Ne,Fe,He){if(!(this instanceof R))return new R(W,fe,ye,Ne,Fe,He);isNaN(W)&&(W=1),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=0),isNaN(Ne)&&(Ne=1),isNaN(Fe)&&(Fe=0),isNaN(He)&&(He=0),this._matrix=[W,fe,ye,Ne,Fe,He]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(R)},ot.prototype.multiply=function(R){var W=R.sx*this.sx+R.shy*this.shx,fe=R.sx*this.shy+R.shy*this.sy,ye=R.shx*this.sx+R.sy*this.shx,Ne=R.shx*this.shy+R.sy*this.sy,Fe=R.tx*this.sx+R.ty*this.shx+this.tx,He=R.tx*this.shy+R.ty*this.sy+this.ty;return new ot(W,fe,ye,Ne,Fe,He)},ot.prototype.decompose=function(){var R=this.sx,W=this.shy,fe=this.shx,ye=this.sy,Ne=this.tx,Fe=this.ty,He=Math.sqrt(R*R+W*W),ft=(R/=He)*fe+(W/=He)*ye;fe-=R*ft,ye-=W*ft;var At=Math.sqrt(fe*fe+ye*ye);return ft/=At,R*(ye/=At)<W*(fe/=At)&&(R=-R,W=-W,ft=-ft,He=-He),{scale:new ot(He,0,0,At,0,0),translate:new ot(1,0,0,1,Ne,Fe),rotate:new ot(R,W,-W,R,0,0),skew:new ot(1,0,ft,1,0,0)}},ot.prototype.toString=function(R){return this.join(" ")},ot.prototype.inversed=function(){var R=this.sx,W=this.shy,fe=this.shx,ye=this.sy,Ne=this.tx,Fe=this.ty,He=1/(R*ye-W*fe),ft=ye*He,At=-W*He,Vt=-fe*He,It=R*He;return new ot(ft,At,Vt,It,-ft*Ne-Vt*Fe,-At*Ne-It*Fe)},ot.prototype.applyToPoint=function(R){var W=R.x*this.sx+R.y*this.shx+this.tx,fe=R.x*this.shy+R.y*this.sy+this.ty;return new $s(W,fe)},ot.prototype.applyToRectangle=function(R){var W=this.applyToPoint(R),fe=this.applyToPoint(new $s(R.x+R.w,R.y+R.h));return new gd(W.x,W.y,fe.x-W.x,fe.y-W.y)},ot.prototype.clone=function(){var R=this.sx,W=this.shy,fe=this.shx,ye=this.sy,Ne=this.tx,Fe=this.ty;return new ot(R,W,fe,ye,Ne,Fe)},f.Matrix=ot;var Qn=f.matrixMult=function(R,W){return W.multiply(R)},Rn=new ot(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Rn;var Dr=function(R,W){if(!er[R]){var fe=(W instanceof ap?"Sh":"P")+(Object.keys(yt).length+1).toString(10);W.id=fe,er[R]=fe,yt[fe]=W,Ut.publish("addPattern",W)}};f.ShadingPattern=ap,f.TilingPattern=Tg,f.addShadingPattern=function(R,W){return k("addShadingPattern()"),Dr(R,W),this},f.beginTilingPattern=function(R){k("beginTilingPattern()"),Kl(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},f.endTilingPattern=function(R,W){k("endTilingPattern()"),W.stream=X[V].join(`
`),Dr(R,W),Ut.publish("endTilingPattern",W),cr.pop().restore()};var ln,Jr=f.__private__.newObject=function(){var R=fn();return St(R,!0),R},fn=f.__private__.newObjectDeferred=function(){return J++,ie[J]=function(){return he},J},St=function(R,W){return W=typeof W=="boolean"&&W,ie[R]=he,W&&ee(R+" 0 obj"),R},tr=f.__private__.newAdditionalObject=function(){var R={objId:fn(),content:""};return P.push(R),R},Ar=fn(),yr=fn(),cn=f.__private__.decodeColorString=function(R){var W=R.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length!==5||W[4]!=="k"&&W[4]!=="K"||(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var fe=parseFloat(W[0]);W=[fe,fe,fe,"r"]}for(var ye="#",Ne=0;Ne<3;Ne++)ye+=("0"+Math.floor(255*parseFloat(W[Ne])).toString(16)).slice(-2);return ye},un=f.__private__.encodeColorString=function(R){var W;typeof R=="string"&&(R={ch1:R});var fe=R.ch1,ye=R.ch2,Ne=R.ch3,Fe=R.ch4,He=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var ft=new Ire(fe);if(ft.ok)fe=ft.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var At=parseInt(fe.substr(1),16);fe=At>>16&255,ye=At>>8&255,Ne=255&At}if(ye===void 0||Fe===void 0&&fe===ye&&ye===Ne)W=typeof fe=="string"?fe+" "+He[0]:R.precision===2?C(fe/255)+" "+He[0]:O(fe/255)+" "+He[0];else if(Fe===void 0||rn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",He[1]].join(" ");W=typeof fe=="string"?[fe,ye,Ne,He[1]].join(" "):R.precision===2?[C(fe/255),C(ye/255),C(Ne/255),He[1]].join(" "):[O(fe/255),O(ye/255),O(Ne/255),He[1]].join(" ")}else W=typeof fe=="string"?[fe,ye,Ne,Fe,He[2]].join(" "):R.precision===2?[C(fe),C(ye),C(Ne),C(Fe),He[2]].join(" "):[O(fe),O(ye),O(Ne),O(Fe),He[2]].join(" ");return W},Dn=f.__private__.getFilters=function(){return s},pn=f.__private__.putStream=function(R){var W=(R=R||{}).data||"",fe=R.filters||Dn(),ye=R.alreadyAppliedFilters||[],Ne=R.addLength1||!1,Fe=W.length,He=R.objectId,ft=function($){return $};if(d!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ft=mn.encryptor(He,0));var At={};fe===!0&&(fe=["FlateEncode"]);var Vt=R.additionalKeyValues||[],It=(At=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(W,fe):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(At.data.length!==0&&(Vt.push({key:"Length",value:At.data.length}),Ne===!0&&Vt.push({key:"Length1",value:Fe})),It.length!=0)if(It.split("/").length-1==1)Vt.push({key:"Filter",value:It});else{Vt.push({key:"Filter",value:"["+It+"]"});for(var Tr=0;Tr<Vt.length;Tr+=1)if(Vt[Tr].key==="DecodeParms"){for(var An=[],gn=0;gn<At.reverseChain.split("/").length-1;gn+=1)An.push("null");An.push(Vt[Tr].value),Vt[Tr].value="["+An.join(" ")+"]"}}ee("<<");for(var w=0;w<Vt.length;w++)ee("/"+Vt[w].key+" "+Vt[w].value);ee(">>"),At.data.length!==0&&(ee("stream"),ee(ft(At.data)),ee("endstream"))},Lr=f.__private__.putPage=function(R){var W=R.number,fe=R.data,ye=R.objId,Ne=R.contentsObjId;St(ye,!0),ee("<</Type /Page"),ee("/Parent "+R.rootDictionaryObjId+" 0 R"),ee("/Resources "+R.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(N(R.mediaBox.bottomLeftX))+" "+parseFloat(N(R.mediaBox.bottomLeftY))+" "+N(R.mediaBox.topRightX)+" "+N(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&ee("/CropBox ["+N(R.cropBox.bottomLeftX)+" "+N(R.cropBox.bottomLeftY)+" "+N(R.cropBox.topRightX)+" "+N(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&ee("/BleedBox ["+N(R.bleedBox.bottomLeftX)+" "+N(R.bleedBox.bottomLeftY)+" "+N(R.bleedBox.topRightX)+" "+N(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&ee("/TrimBox ["+N(R.trimBox.bottomLeftX)+" "+N(R.trimBox.bottomLeftY)+" "+N(R.trimBox.topRightX)+" "+N(R.trimBox.topRightY)+"]"),R.artBox!==null&&ee("/ArtBox ["+N(R.artBox.bottomLeftX)+" "+N(R.artBox.bottomLeftY)+" "+N(R.artBox.topRightX)+" "+N(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&ee("/UserUnit "+R.userUnit),Ut.publish("putPage",{objId:ye,pageContext:_t[W],pageNumber:W,page:fe}),ee("/Contents "+Ne+" 0 R"),ee(">>"),ee("endobj");var Fe=fe.join(`
`);return A===_&&(Fe+=`
Q`),St(Ne,!0),pn({data:Fe,filters:Dn(),objectId:Ne}),ee("endobj"),ye},Wn=f.__private__.putPages=function(){var R,W,fe=[];for(R=1;R<=Mt;R++)_t[R].objId=fn(),_t[R].contentsObjId=fn();for(R=1;R<=Mt;R++)fe.push(Lr({number:R,data:X[R],objId:_t[R].objId,contentsObjId:_t[R].contentsObjId,mediaBox:_t[R].mediaBox,cropBox:_t[R].cropBox,bleedBox:_t[R].bleedBox,trimBox:_t[R].trimBox,artBox:_t[R].artBox,userUnit:_t[R].userUnit,rootDictionaryObjId:Ar,resourceDictionaryObjId:yr}));St(Ar,!0),ee("<</Type /Pages");var ye="/Kids [";for(W=0;W<Mt;W++)ye+=fe[W]+" 0 R ";ee(ye+"]"),ee("/Count "+Mt),ee(">>"),ee("endobj"),Ut.publish("postPutPages")},vo=function(R){Ut.publish("putFont",{font:R,out:ee,newObject:Jr,putStream:pn}),R.isAlreadyPutted!==!0&&(R.objectNumber=Jr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+cg(R.postScriptName)),ee("/Subtype /Type1"),typeof R.encoding=="string"&&ee("/Encoding /"+R.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Uc=function(R){R.objectNumber=Jr();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[N(R.x),N(R.y),N(R.x+R.width),N(R.y+R.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var fe=R.pages[1].join(`
`);pn({data:fe,additionalKeyValues:W,objectId:R.objectNumber}),ee("endobj")},Ul=function(R,W){W||(W=21);var fe=Jr(),ye=function(He,ft){var At,Vt=[],It=1/(ft-1);for(At=0;At<1;At+=It)Vt.push(At);if(Vt.push(1),He[0].offset!=0){var Tr={offset:0,color:He[0].color};He.unshift(Tr)}if(He[He.length-1].offset!=1){var An={offset:1,color:He[He.length-1].color};He.push(An)}for(var gn="",w=0,$=0;$<Vt.length;$++){for(At=Vt[$];At>He[w+1].offset;)w++;var U=He[w].offset,se=(At-U)/(He[w+1].offset-U),Pe=He[w].color,Re=He[w+1].color;gn+=oe(Math.round((1-se)*Pe[0]+se*Re[0]).toString(16))+oe(Math.round((1-se)*Pe[1]+se*Re[1]).toString(16))+oe(Math.round((1-se)*Pe[2]+se*Re[2]).toString(16))}return gn.trim()}(R.colors,W),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+W+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pn({data:ye,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),ee("endobj"),R.objectNumber=Jr(),ee("<< /ShadingType "+R.type),ee("/ColorSpace /DeviceRGB");var Fe="/Coords ["+N(parseFloat(R.coords[0]))+" "+N(parseFloat(R.coords[1]))+" ";R.type===2?Fe+=N(parseFloat(R.coords[2]))+" "+N(parseFloat(R.coords[3])):Fe+=N(parseFloat(R.coords[2]))+" "+N(parseFloat(R.coords[3]))+" "+N(parseFloat(R.coords[4]))+" "+N(parseFloat(R.coords[5])),ee(Fe+="]"),R.matrix&&ee("/Matrix ["+R.matrix.toString()+"]"),ee("/Function "+fe+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},yo=function(R,W){var fe=fn(),ye=Jr();W.push({resourcesOid:fe,objectOid:ye}),R.objectNumber=ye;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+R.boundingBox.map(N).join(" ")+"]"}),Ne.push({key:"XStep",value:N(R.xStep)}),Ne.push({key:"YStep",value:N(R.yStep)}),Ne.push({key:"Resources",value:fe+" 0 R"}),R.matrix&&Ne.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),pn({data:R.stream,additionalKeyValues:Ne,objectId:R.objectNumber}),ee("endobj")},tl=function(R){for(var W in R.objectNumber=Jr(),ee("<<"),R)switch(W){case"opacity":ee("/ca "+C(R[W]));break;case"stroke-opacity":ee("/CA "+C(R[W]))}ee(">>"),ee("endobj")},Vc=function(R){St(R.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var W in ee("/Font <<"),rt)rt.hasOwnProperty(W)&&(h===!1||h===!0&&p.hasOwnProperty(W))&&ee("/"+W+" "+rt[W].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(yt).length>0){for(var W in ee("/Shading <<"),yt)yt.hasOwnProperty(W)&&yt[W]instanceof ap&&yt[W].objectNumber>=0&&ee("/"+W+" "+yt[W].objectNumber+" 0 R");Ut.publish("putShadingPatternDict"),ee(">>")}}(),function(W){if(Object.keys(yt).length>0){for(var fe in ee("/Pattern <<"),yt)yt.hasOwnProperty(fe)&&yt[fe]instanceof f.TilingPattern&&yt[fe].objectNumber>=0&&yt[fe].objectNumber<W&&ee("/"+fe+" "+yt[fe].objectNumber+" 0 R");Ut.publish("putTilingPatternDict"),ee(">>")}}(R.objectOid),function(){if(Object.keys(Bt).length>0){var W;for(W in ee("/ExtGState <<"),Bt)Bt.hasOwnProperty(W)&&Bt[W].objectNumber>=0&&ee("/"+W+" "+Bt[W].objectNumber+" 0 R");Ut.publish("putGStateDict"),ee(">>")}}(),function(){for(var W in ee("/XObject <<"),Tt)Tt.hasOwnProperty(W)&&Tt[W].objectNumber>=0&&ee("/"+W+" "+Tt[W].objectNumber+" 0 R");Ut.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},jm=function(R){Ce[R.fontName]=Ce[R.fontName]||{},Ce[R.fontName][R.fontStyle]=R.id},jf=function(R,W,fe,ye,Ne){var Fe={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:R,fontName:W,fontStyle:fe,encoding:ye,isStandardFont:Ne||!1,metadata:{}};return Ut.publish("addFont",{font:Fe,instance:this}),rt[Fe.id]=Fe,jm(Fe),Fe.id},Fa=f.__private__.pdfEscape=f.pdfEscape=function(R,W){return function(fe,ye){var Ne,Fe,He,ft,At,Vt,It,Tr,An;if(He=(ye=ye||{}).sourceEncoding||"Unicode",At=ye.outputEncoding,(ye.autoencode||At)&&rt[Ee].metadata&&rt[Ee].metadata[He]&&rt[Ee].metadata[He].encoding&&(ft=rt[Ee].metadata[He].encoding,!At&&rt[Ee].encoding&&(At=rt[Ee].encoding),!At&&ft.codePages&&(At=ft.codePages[0]),typeof At=="string"&&(At=ft[At]),At)){for(It=!1,Vt=[],Ne=0,Fe=fe.length;Ne<Fe;Ne++)(Tr=At[fe.charCodeAt(Ne)])?Vt.push(String.fromCharCode(Tr)):Vt.push(fe[Ne]),Vt[Ne].charCodeAt(0)>>8&&(It=!0);fe=Vt.join("")}for(Ne=fe.length;It===void 0&&Ne!==0;)fe.charCodeAt(Ne-1)>>8&&(It=!0),Ne--;if(!It)return fe;for(Vt=ye.noBOM?[]:[254,255],Ne=0,Fe=fe.length;Ne<Fe;Ne++){if((An=(Tr=fe.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(An),Vt.push(Tr-(An<<8))}return String.fromCharCode.apply(void 0,Vt)}(R,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},od=f.__private__.beginPage=function(R){X[++Mt]=[],_t[Mt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Pf(Mt),ge(X[V])},ld=function(R,W){var fe,ye,Ne;switch(r=W||r,typeof R=="string"&&(fe=y(R.toLowerCase()),Array.isArray(fe)&&(ye=fe[0],Ne=fe[1])),Array.isArray(R)&&(ye=R[0]*Ye,Ne=R[1]*Ye),isNaN(ye)&&(ye=i[0],Ne=i[1]),(ye>14400||Ne>14400)&&(xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Ne=Math.min(14400,Ne)),i=[ye,Ne],r.substr(0,1)){case"l":Ne>ye&&(i=[Ne,ye]);break;case"p":ye>Ne&&(i=[Ne,ye])}od(i),If(cs),ee(fd),us!==0&&ee(us+" J"),md!==0&&ee(md+" j"),Ut.publish("addPage",{pageNumber:Mt})},zc=function(R){R>0&&R<=Mt&&(X.splice(R,1),_t.splice(R,1),Mt--,V>Mt&&(V=Mt),this.setPage(V))},Pf=function(R){R>0&&R<=Mt&&(V=R)},Tf=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return X.length-1},Cf=function(R,W,fe){var ye,Ne=void 0;return fe=fe||{},R=R!==void 0?R:rt[Ee].fontName,W=W!==void 0?W:rt[Ee].fontStyle,ye=R.toLowerCase(),Ce[ye]!==void 0&&Ce[ye][W]!==void 0?Ne=Ce[ye][W]:Ce[R]!==void 0&&Ce[R][W]!==void 0?Ne=Ce[R][W]:fe.disableWarning===!1&&xn.warn("Unable to look up font label for font '"+R+"', '"+W+"'. Refer to getFontList() for available fonts."),Ne||fe.noFallback||(Ne=Ce.times[W])==null&&(Ne=Ce.times.normal),Ne},cd=f.__private__.putInfo=function(){var R=Jr(),W=function(ye){return ye};for(var fe in d!==null&&(W=mn.encryptor(R,0)),ee("<<"),ee("/Producer ("+Fa(W("jsPDF "+Rt.version))+")"),vt)vt.hasOwnProperty(fe)&&vt[fe]&&ee("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Fa(W(vt[fe]))+")");ee("/CreationDate ("+Fa(W(re))+")"),ee(">>"),ee("endobj")},bo=f.__private__.putCatalog=function(R){var W=(R=R||{}).rootDictionaryObjId||Ar;switch(Jr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+W+" 0 R"),ke||(ke="fullwidth"),ke){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+ke;fe.substr(fe.length-1)==="%"&&(ke=parseInt(ke)/100),typeof ke=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+C(ke)+"]")}switch(Nt||(Nt="continuous"),Nt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}et&&ee("/PageMode /"+et),Ut.publish("putCatalog"),ee(">>"),ee("endobj")},Wr=f.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(J+1)),ee("/Root "+J+" 0 R"),ee("/Info "+(J-1)+" 0 R"),d!==null&&ee("/Encrypt "+mn.oid+" 0 R"),ee("/ID [ <"+Y+"> <"+Y+"> ]"),ee(">>")},Vl=f.__private__.putHeader=function(){ee("%PDF-"+v),ee("%ºß¬à")},zl=f.__private__.putXRef=function(){var R="0000000000";ee("xref"),ee("0 "+(J+1)),ee("0000000000 65535 f ");for(var W=1;W<=J;W++)typeof ie[W]=="function"?ee((R+ie[W]()).slice(-10)+" 00000 n "):ie[W]!==void 0?ee((R+ie[W]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Ls=f.__private__.buildDocument=function(){var R;J=0,he=0,be=[],ie=[],P=[],Ar=fn(),yr=fn(),ge(be),Ut.publish("buildDocument"),Vl(),Wn(),function(){Ut.publish("putAdditionalObjects");for(var fe=0;fe<P.length;fe++){var ye=P[fe];St(ye.objId,!0),ee(ye.content),ee("endobj")}Ut.publish("postPutAdditionalObjects")}(),R=[],function(){for(var fe in rt)rt.hasOwnProperty(fe)&&(h===!1||h===!0&&p.hasOwnProperty(fe))&&vo(rt[fe])}(),function(){var fe;for(fe in Bt)Bt.hasOwnProperty(fe)&&tl(Bt[fe])}(),function(){for(var fe in Tt)Tt.hasOwnProperty(fe)&&Uc(Tt[fe])}(),function(fe){var ye;for(ye in yt)yt.hasOwnProperty(ye)&&(yt[ye]instanceof ap?Ul(yt[ye]):yt[ye]instanceof Tg&&yo(yt[ye],fe))}(R),Ut.publish("putResources"),R.forEach(Vc),Vc({resourcesOid:yr,objectOid:Number.MAX_SAFE_INTEGER}),Ut.publish("postPutResources"),d!==null&&(mn.oid=Jr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+mn.v),ee("/R "+mn.r),ee("/U <"+mn.toHexString(mn.U)+">"),ee("/O <"+mn.toHexString(mn.O)+">"),ee("/P "+mn.P),ee(">>"),ee("endobj")),cd(),bo();var W=he;return zl(),Wr(),ee("startxref"),ee(""+W),ee("%%EOF"),ge(X[V]),be.join(`
`)},Mr=f.__private__.getBlob=function(R){return new Blob([De(R)],{type:"application/pdf"})},ga=f.output=f.__private__.output=(ln=function(R,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",R){case void 0:return Ls();case"save":f.save(W.filename);break;case"arraybuffer":return De(Ls());case"blob":return Mr(Ls());case"bloburi":case"bloburl":if(Jt.URL!==void 0&&typeof Jt.URL.createObjectURL=="function")return Jt.URL&&Jt.URL.createObjectURL(Mr(Ls()))||void 0;xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",ye=Ls();try{fe=xU(ye)}catch{fe=xU(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+W.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Ne=W.pdfObjectUrl,Fe="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",ft=Jt.open();return ft!==null&&ft.document.write(He),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',Vt=Jt.open();if(Vt!==null){Vt.document.write(At);var It=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=W.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',An=Jt.open();if(An!==null&&(An.document.write(Tr),An.document.title=W.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return Jt.document.location.href=this.output("datauristring",W);default:return null}},ln.foo=function(){try{return ln.apply(this,arguments)}catch(fe){var R=fe.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var W="Error in function "+R.split(`
`)[0].split("<")[0]+": "+fe.message;if(!Jt.console)throw new Error(W);Jt.console.error(W,fe),Jt.alert&&alert(W)}},ln.foo.bar=ln,ln.foo),Ms=function(R){return Array.isArray(bt)===!0&&bt.indexOf(R)>-1};switch(n){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=Ms("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ye=n}var mn=null;ce(),q();var kf=f.__private__.getPageInfo=f.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[R].objId,pageNumber:R,pageContext:_t[R]}},Pm=f.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in _t)if(_t[W].objId===R)break;return kf(W)},Jy=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:_t[V].objId,pageNumber:V,pageContext:_t[V]}};f.addPage=function(){return ld.apply(this,arguments),this},f.setPage=function(){return Pf.apply(this,arguments),ge.call(this,X[V]),this},f.insertPage=function(R){return this.addPage(),this.movePage(V,R),this},f.movePage=function(R,W){var fe,ye;if(R>W){fe=X[R],ye=_t[R];for(var Ne=R;Ne>W;Ne--)X[Ne]=X[Ne-1],_t[Ne]=_t[Ne-1];X[W]=fe,_t[W]=ye,this.setPage(W)}else if(R<W){fe=X[R],ye=_t[R];for(var Fe=R;Fe<W;Fe++)X[Fe]=X[Fe+1],_t[Fe]=_t[Fe+1];X[W]=fe,_t[W]=ye,this.setPage(W)}return this},f.deletePage=function(){return zc.apply(this,arguments),this},f.__private__.text=f.text=function(R,W,fe,ye,Ne){var Fe,He,ft,At,Vt,It,Tr,An,gn,w=(ye=ye||{}).scope||this;if(typeof R=="number"&&typeof W=="number"&&(typeof fe=="string"||Array.isArray(fe))){var $=fe;fe=W,W=R,R=$}if(arguments[3]instanceof ot==0?(ft=arguments[4],At=arguments[5],rn(Tr=arguments[3])==="object"&&Tr!==null||(typeof ft=="string"&&(At=ft,ft=null),typeof Tr=="string"&&(At=Tr,Tr=null),typeof Tr=="number"&&(ft=Tr,Tr=null),ye={flags:Tr,angle:ft,align:At})):(k("The transform parameter of text() with a Matrix value"),gn=Ne),isNaN(W)||isNaN(fe)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return w;var U,se="",Pe=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:qc,Re=w.internal.scaleFactor;function nt(Gr){return Gr=Gr.split("	").join(Array(ye.TabLen||9).join(" ")),Fa(Gr,Tr)}function Qt(Gr){for(var yn,fi=Gr.concat(),ki=[],Zc=fi.length;Zc--;)typeof(yn=fi.shift())=="string"?ki.push(yn):Array.isArray(Gr)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?ki.push(yn[0]):ki.push([yn[0],yn[1],yn[2]]);return ki}function vn(Gr,yn){var fi;if(typeof Gr=="string")fi=yn(Gr)[0];else if(Array.isArray(Gr)){for(var ki,Zc,c0=Gr.concat(),Mm=[],hw=c0.length;hw--;)typeof(ki=c0.shift())=="string"?Mm.push(yn(ki)[0]):Array.isArray(ki)&&typeof ki[0]=="string"&&(Zc=yn(ki[0],ki[1],ki[2]),Mm.push([Zc[0],Zc[1],Zc[2]]));fi=Mm}return fi}var xr=!1,Nn=!0;if(typeof R=="string")xr=!0;else if(Array.isArray(R)){var Gi=R.concat();He=[];for(var Va,Ln=Gi.length;Ln--;)(typeof(Va=Gi.shift())!="string"||Array.isArray(Va)&&typeof Va[0]!="string")&&(Nn=!1);xr=Nn}if(xr===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var ya=_e/w.internal.scaleFactor,So=ya*(Pe-1);switch(ye.baseline){case"bottom":fe-=So;break;case"top":fe+=ya-So;break;case"hanging":fe+=ya-2*So;break;case"middle":fe+=ya/2-So}if((It=ye.maxWidth||0)>0&&(typeof R=="string"?R=w.splitTextToSize(R,It):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(Gr,yn){return Gr.concat(w.splitTextToSize(yn,It))},[]))),Fe={text:R,x:W,y:fe,options:ye,mutex:{pdfEscape:Fa,activeFontKey:Ee,fonts:rt,activeFontSize:_e}},Ut.publish("preProcessText",Fe),R=Fe.text,ft=(ye=Fe.options).angle,gn instanceof ot==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,ye.rotationDirection===0&&(ft=-ft),A===_&&(ft=-ft);var Xc=Math.cos(ft),t0=Math.sin(ft);gn=new ot(Xc,t0,-t0,Xc,0,0)}else ft&&ft instanceof ot&&(gn=ft);A!==_||gn||(gn=Rn),(Vt=ye.charSpace||Gc)!==void 0&&(se+=N(L(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=ye.horizontalScale)!==void 0&&(se+=N(100*An)+` Tz
`),ye.lang;var ii=-1,Qc=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,Dm=w.internal.getCurrentPageInfo().pageContext;switch(Qc){case 0:case!1:case"fill":ii=0;break;case 1:case!0:case"stroke":ii=1;break;case 2:case"fillThenStroke":ii=2;break;case 3:case"invisible":ii=3;break;case 4:case"fillAndAddForClipping":ii=4;break;case 5:case"strokeAndAddPathForClipping":ii=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ii=6;break;case 7:case"addToPathForClipping":ii=7}var uw=Dm.usedRenderingMode!==void 0?Dm.usedRenderingMode:-1;ii!==-1?se+=ii+` Tr
`:uw!==-1&&(se+=`0 Tr
`),ii!==-1&&(Dm.usedRenderingMode=ii),At=ye.align||"left";var Ao,Mf=_e*Pe,r0=w.internal.pageSize.getWidth(),n0=rt[Ee];Vt=ye.charSpace||Gc,It=ye.maxWidth||0,Tr=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var yd=[],$f=function(Gr){return w.getStringUnitWidth(Gr,{font:n0,charSpace:Vt,fontSize:_e,doKerning:!1})*_e/Re};if(Object.prototype.toString.call(R)==="[object Array]"){var Fs;He=Qt(R),At!=="left"&&(Ao=He.map($f));var Bs,bd=0;if(At==="right"){W-=Ao[0],R=[],Ln=He.length;for(var Jc=0;Jc<Ln;Jc++)Jc===0?(Bs=Ba(W),Fs=wo(fe)):(Bs=L(bd-Ao[Jc]),Fs=-Mf),R.push([He[Jc],Bs,Fs]),bd=Ao[Jc]}else if(At==="center"){W-=Ao[0]/2,R=[],Ln=He.length;for(var xd=0;xd<Ln;xd++)xd===0?(Bs=Ba(W),Fs=wo(fe)):(Bs=L((bd-Ao[xd])/2),Fs=-Mf),R.push([He[xd],Bs,Fs]),bd=Ao[xd]}else if(At==="left"){R=[],Ln=He.length;for(var i0=0;i0<Ln;i0++)R.push(He[i0])}else if(At==="justify"&&n0.encoding==="Identity-H"){R=[],Ln=He.length,It=It!==0?It:r0;for(var Lm=0,hi=0;hi<Ln;hi++)if(Fs=hi===0?wo(fe):-Mf,Bs=hi===0?Ba(W):Lm,hi<Ln-1){var dw=L((It-Ao[hi])/(He[hi].split(" ").length-1)),Xl=He[hi].split(" ");R.push([Xl[0]+" ",Bs,Fs]),Lm=0;for(var Ql=1;Ql<Xl.length;Ql++){var a0=($f(Xl[Ql-1]+" "+Xl[Ql])-$f(Xl[Ql]))*Re+dw;Ql==Xl.length-1?R.push([Xl[Ql],a0,0]):R.push([Xl[Ql]+" ",a0,0]),Lm-=a0}}else R.push([He[hi],Bs,Fs]);R.push(["",Lm,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Ln=He.length,It=It!==0?It:r0,hi=0;hi<Ln;hi++){Fs=hi===0?wo(fe):-Mf,Bs=hi===0?Ba(W):0;var s0=He[hi].split(" ").length-1,o0=s0>0?(It-Ao[hi])/s0:0;hi<Ln-1?yd.push(N(L(o0))):yd.push(0),R.push([He[hi],Bs,Fs])}}}(typeof ye.R2L=="boolean"?ye.R2L:Me)===!0&&(R=vn(R,function(Gr,yn,fi){return[Gr.split("").reverse().join(""),yn,fi]})),Fe={text:R,x:W,y:fe,options:ye,mutex:{pdfEscape:Fa,activeFontKey:Ee,fonts:rt,activeFontSize:_e}},Ut.publish("postProcessText",Fe),R=Fe.text,U=Fe.mutex.isHex||!1;var l0=rt[Ee].encoding;l0!=="WinAnsiEncoding"&&l0!=="StandardEncoding"||(R=vn(R,function(Gr,yn,fi){return[nt(Gr),yn,fi]})),He=Qt(R),R=[];for(var wd,_d,Sd,Ff=Array.isArray(He[0])?1:0,Ad="",Bf=function(Gr,yn,fi){var ki="";return fi instanceof ot?(fi=typeof ye.angle=="number"?Qn(fi,new ot(1,0,0,1,Gr,yn)):Qn(new ot(1,0,0,1,Gr,yn),fi),A===_&&(fi=Qn(new ot(1,0,0,-1,0,0),fi)),ki=fi.join(" ")+` Tm
`):ki=N(Gr)+" "+N(yn)+` Td
`,ki},No=0;No<He.length;No++){switch(Ad="",Ff){case 1:Sd=(U?"<":"(")+He[No][0]+(U?">":")"),wd=parseFloat(He[No][1]),_d=parseFloat(He[No][2]);break;case 0:Sd=(U?"<":"(")+He[No]+(U?">":")"),wd=Ba(W),_d=wo(fe)}yd!==void 0&&yd[No]!==void 0&&(Ad=yd[No]+` Tw
`),No===0?R.push(Ad+Bf(wd,_d,gn)+Sd):Ff===0?R.push(Ad+Sd):Ff===1&&R.push(Ad+Bf(wd,_d,gn)+Sd)}R=Ff===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Jl=`BT
/`;return Jl+=Ee+" "+_e+` Tf
`,Jl+=N(_e*Pe)+` TL
`,Jl+=Hl+`
`,Jl+=se,Jl+=R,ee(Jl+="ET"),p[Ee]=!0,w};var Zy=f.__private__.clip=f.clip=function(R){return ee(R==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Zy("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ee("n"),this};var xo=f.__private__.isValidStyle=function(R){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(W=!0),W};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(R){return xo(R)&&(u=R),this};var Tm=f.__private__.getStyle=f.getStyle=function(R){var W=u;switch(R){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=R}return W},ql=f.close=function(){return ee("h"),this};f.stroke=function(){return ee("S"),this},f.fill=function(R){return va("f",R),this},f.fillEvenOdd=function(R){return va("f*",R),this},f.fillStroke=function(R){return va("B",R),this},f.fillStrokeEvenOdd=function(R){return va("B*",R),this};var va=function(R,W){rn(W)==="object"?km(W,R):ee(R)},ud=function(R){R===null||A===_&&R===void 0||(R=Tm(R),ee(R))};function Cm(R,W,fe,ye,Ne){var Fe=new Tg(W||this.boundingBox,fe||this.xStep,ye||this.yStep,this.gState,Ne||this.matrix);Fe.stream=this.stream;var He=R+"$$"+this.cloneIndex+++"$$";return Dr(He,Fe),Fe}var km=function(R,W){var fe=er[R.key],ye=yt[fe];if(ye instanceof ap)ee("q"),ee(Im(W)),ye.gState&&f.setGState(ye.gState),ee(R.matrix.toString()+" cm"),ee("/"+fe+" sh"),ee("Q");else if(ye instanceof Tg){var Ne=new ot(1,0,0,-1,0,rl());R.matrix&&(Ne=Ne.multiply(R.matrix||Rn),fe=Cm.call(ye,R.key,R.boundingBox,R.xStep,R.yStep,Ne).id),ee("q"),ee("/Pattern cs"),ee("/"+fe+" scn"),ye.gState&&f.setGState(ye.gState),ee(W),ee("Q")}},Im=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},dd=f.moveTo=function(R,W){return ee(N(L(R))+" "+N(z(W))+" m"),this},ls=f.lineTo=function(R,W){return ee(N(L(R))+" "+N(z(W))+" l"),this},Wl=f.curveTo=function(R,W,fe,ye,Ne,Fe){return ee([N(L(R)),N(z(W)),N(L(fe)),N(z(ye)),N(L(Ne)),N(z(Fe)),"c"].join(" ")),this};f.__private__.line=f.line=function(R,W,fe,ye,Ne){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||!xo(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return A===x?this.lines([[fe-R,ye-W]],R,W,[1,1],Ne||"S"):this.lines([[fe-R,ye-W]],R,W,[1,1]).stroke()},f.__private__.lines=f.lines=function(R,W,fe,ye,Ne,Fe){var He,ft,At,Vt,It,Tr,An,gn,w,$,U,se;if(typeof R=="number"&&(se=fe,fe=W,W=R,R=se),ye=ye||[1,1],Fe=Fe||!1,isNaN(W)||isNaN(fe)||!Array.isArray(R)||!Array.isArray(ye)||!xo(Ne)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dd(W,fe),He=ye[0],ft=ye[1],Vt=R.length,$=W,U=fe,At=0;At<Vt;At++)(It=R[At]).length===2?($=It[0]*He+$,U=It[1]*ft+U,ls($,U)):(Tr=It[0]*He+$,An=It[1]*ft+U,gn=It[2]*He+$,w=It[3]*ft+U,$=It[4]*He+$,U=It[5]*ft+U,Wl(Tr,An,gn,w,$,U));return Fe&&ql(),ud(Ne),this},f.path=function(R){for(var W=0;W<R.length;W++){var fe=R[W],ye=fe.c;switch(fe.op){case"m":dd(ye[0],ye[1]);break;case"l":ls(ye[0],ye[1]);break;case"c":Wl.apply(this,ye);break;case"h":ql()}}return this},f.__private__.rect=f.rect=function(R,W,fe,ye,Ne){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||!xo(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return A===x&&(ye=-ye),ee([N(L(R)),N(z(W)),N(L(fe)),N(L(ye)),"re"].join(" ")),ud(Ne),this},f.__private__.triangle=f.triangle=function(R,W,fe,ye,Ne,Fe,He){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||isNaN(Ne)||isNaN(Fe)||!xo(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-R,ye-W],[Ne-fe,Fe-ye],[R-Ne,W-Fe]],R,W,[1,1],He,!0),this},f.__private__.roundedRect=f.roundedRect=function(R,W,fe,ye,Ne,Fe,He){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||isNaN(Ne)||isNaN(Fe)||!xo(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*fe),Fe=Math.min(Fe,.5*ye),this.lines([[fe-2*Ne,0],[Ne*ft,0,Ne,Fe-Fe*ft,Ne,Fe],[0,ye-2*Fe],[0,Fe*ft,-Ne*ft,Fe,-Ne,Fe],[2*Ne-fe,0],[-Ne*ft,0,-Ne,-Fe*ft,-Ne,-Fe],[0,2*Fe-ye],[0,-Fe*ft,Ne*ft,-Fe,Ne,-Fe]],R+Ne,W,[1,1],He,!0),this},f.__private__.ellipse=f.ellipse=function(R,W,fe,ye,Ne){if(isNaN(R)||isNaN(W)||isNaN(fe)||isNaN(ye)||!xo(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*fe,He=4/3*(Math.SQRT2-1)*ye;return dd(R+fe,W),Wl(R+fe,W-He,R+Fe,W-ye,R,W-ye),Wl(R-Fe,W-ye,R-fe,W-He,R-fe,W),Wl(R-fe,W+He,R-Fe,W+ye,R,W+ye),Wl(R+Fe,W+ye,R+fe,W+He,R+fe,W),ud(Ne),this},f.__private__.circle=f.circle=function(R,W,fe,ye){if(isNaN(R)||isNaN(W)||isNaN(fe)||!xo(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,W,fe,fe,ye)},f.setFont=function(R,W,fe){return fe&&(W=j(W,fe)),Ee=Cf(R,W,{disableWarning:!1}),this};var e0=f.__private__.getFont=f.getFont=function(){return rt[Cf.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var R,W,fe={};for(R in Ce)if(Ce.hasOwnProperty(R))for(W in fe[R]=[],Ce[R])Ce[R].hasOwnProperty(W)&&fe[R].push(W);return fe},f.addFont=function(R,W,fe,ye,Ne){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(fe=j(fe,ye)),jf.call(this,R,W,fe,Ne=Ne||"Identity-H")};var qc,cs=t.lineWidth||.200025,Xt=f.__private__.getLineWidth=f.getLineWidth=function(){return cs},If=f.__private__.setLineWidth=f.setLineWidth=function(R){return cs=R,ee(N(L(R))+" w"),this};f.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(R,W){if(R=R||[],W=W||0,isNaN(W)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(fe){return N(L(fe))}).join(" "),W=N(L(W)),ee("["+R+"] "+W+" d"),this};var hd=f.__private__.getLineHeight=f.getLineHeight=function(){return _e*qc};f.__private__.getLineHeight=f.getLineHeight=function(){return _e*qc};var Om=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(qc=R),this},Wc=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return qc};Om(t.lineHeight);var Ba=f.__private__.getHorizontalCoordinate=function(R){return L(R)},wo=f.__private__.getVerticalCoordinate=function(R){return A===_?R:_t[V].mediaBox.topRightY-_t[V].mediaBox.bottomLeftY-L(R)},Of=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(R){return N(Ba(R))},Sn=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(R){return N(wo(R))},fd=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return cn(fd)},f.__private__.setStrokeColor=f.setDrawColor=function(R,W,fe,ye){return fd=un({ch1:R,ch2:W,ch3:fe,ch4:ye,pdfColorType:"draw",precision:2}),ee(fd),this};var Rf=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return cn(Rf)},f.__private__.setFillColor=f.setFillColor=function(R,W,fe,ye){return Rf=un({ch1:R,ch2:W,ch3:fe,ch4:ye,pdfColorType:"fill",precision:2}),ee(Rf),this};var Hl=t.textColor||"0 g",Hc=f.__private__.getTextColor=f.getTextColor=function(){return cn(Hl)};f.__private__.setTextColor=f.setTextColor=function(R,W,fe,ye){return Hl=un({ch1:R,ch2:W,ch3:fe,ch4:ye,pdfColorType:"text",precision:3}),this};var Gc=t.charSpace,pd=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Gc||0)};f.__private__.setCharSpace=f.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Gc=R,this};var us=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(R){var W=f.CapJoinStyles[R];if(W===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return us=W,ee(W+" J"),this};var md=0;f.__private__.setLineJoin=f.setLineJoin=function(R){var W=f.CapJoinStyles[R];if(W===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return md=W,ee(W+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(N(L(R))+" M"),this},f.GState=O5,f.setGState=function(R){(R=typeof R=="string"?Bt[Vr[R]]:Kc(null,R)).equals(hn)||(ee("/"+R.id+" gs"),hn=R)};var Kc=function(R,W){if(!R||!Vr[R]){var fe=!1;for(var ye in Bt)if(Bt.hasOwnProperty(ye)&&Bt[ye].equals(W)){fe=!0;break}if(fe)W=Bt[ye];else{var Ne="GS"+(Object.keys(Bt).length+1).toString(10);Bt[Ne]=W,W.id=Ne}return R&&(Vr[R]=W.id),Ut.publish("addGState",W),W}};f.addGState=function(R,W){return Kc(R,W),this},f.saveGraphicsState=function(){return ee("q"),Ct.push({key:Ee,size:_e,color:Hl}),this},f.restoreGraphicsState=function(){ee("Q");var R=Ct.pop();return Ee=R.key,_e=R.size,Hl=R.color,hn=null,this},f.setCurrentTransformationMatrix=function(R){return ee(R.toString()+" cm"),this},f.comment=function(R){return ee("#"+R),this};var $s=function(R,W){var fe=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Fe){isNaN(Fe)||(fe=parseFloat(Fe))}});var ye=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Fe){isNaN(Fe)||(ye=parseFloat(Fe))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Fe){Ne=Fe.toString()}}),this},gd=function(R,W,fe,ye){$s.call(this,R,W),this.type="rect";var Ne=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(He){isNaN(He)||(Ne=parseFloat(He))}});var Fe=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(He){isNaN(He)||(Fe=parseFloat(He))}}),this},Gl=function(){this.page=Mt,this.currentPage=V,this.pages=X.slice(0),this.pagesContext=_t.slice(0),this.x=Ze,this.y=ct,this.matrix=lt,this.width=Yc(V),this.height=_o(V),this.outputDestination=de,this.id="",this.objectNumber=-1};Gl.prototype.restore=function(){Mt=this.page,V=this.currentPage,_t=this.pagesContext,X=this.pages,Ze=this.x,ct=this.y,lt=this.matrix,Rm(V,this.width),Ua(V,this.height),de=this.outputDestination};var Kl=function(R,W,fe,ye,Ne){cr.push(new Gl),Mt=V=0,X=[],Ze=R,ct=W,lt=Ne,od([fe,ye])};for(var Yl in f.beginFormObject=function(R,W,fe,ye,Ne){return Kl(R,W,fe,ye,Ne),this},f.endFormObject=function(R){return function(W){if(lr[W])cr.pop().restore();else{var fe=new Gl,ye="Xo"+(Object.keys(Tt).length+1).toString(10);fe.id=ye,lr[W]=ye,Tt[ye]=fe,Ut.publish("addFormObject",fe),cr.pop().restore()}}(R),this},f.doFormObject=function(R,W){var fe=Tt[lr[R]];return ee("q"),ee(W.toString()+" cm"),ee("/"+fe.id+" Do"),ee("Q"),this},f.getFormObject=function(R){var W=Tt[lr[R]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},f.save=function(R,W){return R=R||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(tp(Mr(Ls()),R),typeof tp.unload=="function"&&Jt.setTimeout&&setTimeout(tp.unload,911),this):new Promise(function(fe,ye){try{var Ne=tp(Mr(Ls()),R);typeof tp.unload=="function"&&Jt.setTimeout&&setTimeout(tp.unload,911),fe(Ne)}catch(Fe){ye(Fe.message)}})},Rt.API)Rt.API.hasOwnProperty(Yl)&&(Yl==="events"&&Rt.API.events.length?function(R,W){var fe,ye,Ne;for(Ne=W.length-1;Ne!==-1;Ne--)fe=W[Ne][0],ye=W[Ne][1],R.subscribe.apply(R,[fe].concat(typeof ye=="function"?[ye]:ye))}(Ut,Rt.API.events):f[Yl]=Rt.API[Yl]);function Yc(R){return _t[R].mediaBox.topRightX-_t[R].mediaBox.bottomLeftX}function Rm(R,W){_t[R].mediaBox.topRightX=W+_t[R].mediaBox.bottomLeftX}function _o(R){return _t[R].mediaBox.topRightY-_t[R].mediaBox.bottomLeftY}function Ua(R,W){_t[R].mediaBox.topRightY=W+_t[R].mediaBox.bottomLeftY}var Df=f.getPageWidth=function(R){return Yc(R=R||V)/Ye},Lf=f.setPageWidth=function(R,W){Rm(R,W*Ye)},rl=f.getPageHeight=function(R){return _o(R=R||V)/Ye},vd=f.setPageHeight=function(R,W){Ua(R,W*Ye)};return f.internal={pdfEscape:Fa,getStyle:Tm,getFont:e0,getFontSize:je,getCharSpace:pd,getTextColor:Hc,getLineHeight:hd,getLineHeightFactor:Wc,getLineWidth:Xt,write:Ae,getHorizontalCoordinate:Ba,getVerticalCoordinate:wo,getCoordinateString:Of,getVerticalCoordinateString:Sn,collections:{},newObject:Jr,newAdditionalObject:tr,newObjectDeferred:fn,newObjectDeferredBegin:St,getFilters:Dn,putStream:pn,events:Ut,scaleFactor:Ye,pageSize:{getWidth:function(){return Df(V)},setWidth:function(R){Lf(V,R)},getHeight:function(){return rl(V)},setHeight:function(R){vd(V,R)}},encryptionOptions:d,encryption:mn,getEncryptor:function(R){return d!==null?mn.encryptor(R,0):function(W){return W}},output:ga,getNumberOfPages:Tf,pages:X,out:ee,f2:C,f3:O,getPageInfo:kf,getPageInfoByObjId:Pm,getCurrentPageInfo:Jy,getPDFVersion:m,Point:$s,Rectangle:gd,Matrix:ot,hasHotfix:Ms},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Df(V)},set:function(R){Lf(V,R)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return rl(V)},set:function(R){vd(V,R)},enumerable:!0,configurable:!0}),(function(R){for(var W=0,fe=Le.length;W<fe;W++){var ye=jf.call(this,R[W][0],R[W][1],R[W][2],Le[W][3],!0);h===!1&&(p[ye]=!0);var Ne=R[W][0].split("-");jm({id:ye,fontName:Ne[0],fontStyle:Ne[1]||""})}Ut.publish("addFonts",{fonts:rt,dictionary:Ce})}).call(f,Le),Ee="F1",ld(i,r),Ut.publish("initialized"),f}lg.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},lg.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lg.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},lg.prototype.processOwnerPassword=function(t,e){return W4(q4(e).substr(0,5),t)},lg.prototype.encryptor=function(t,e){var r=q4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return W4(r,n)}},O5.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||rn(t)!==rn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Rt.API={events:[]},Rt.version="3.0.3";var li=Rt.API,bD=1,Em=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nr=function(t){return t.toFixed(2)},$d=function(t){return t.toFixed(5)};li.__acroform__={};var Ds=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},AU=function(t){return t*bD},rc=function(t){var e=new Lre,r=xt.internal.getHeight(t)||0,n=xt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(nr(n)),Number(nr(r))],e},sQe=li.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},oQe=li.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},lQe=li.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},yi=li.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lQe(t,e-1)},bi=li.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sQe(t,e-1)},xi=li.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oQe(t,e-1)},cQe=li.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(nr(l.lowerLeft_X)),Number(nr(l.lowerLeft_Y)),Number(nr(l.upperRight_X)),Number(nr(l.upperRight_Y))]},uQe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=H4(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+nr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=rc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},H4=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var a=r,s=xt.internal.getHeight(t)||0;s=s<0?-s:s;var o=xt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(C,O,L){if(C+1<i.length){var z=O+" "+i[C+1][0];return O2(z,t,L).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,h=O2("3",t,a).height,p=t.multiline?s-a:(s-h)/2,f=p+=2,v=0,m=0,g=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+O2(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",x=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var A=!1;if(i[_].length!==1&&g!==i[_].length-1){if((h+2)*(x+2)+2>s)continue e;y+=i[_][g],A=!0,m=_,_--}else{y=(y+=i[_][g]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var E=parseInt(_),I=l(E,y,a),j=_>=i.length-1;if(I&&!j){y+=" ",g=0;continue}if(I||j){if(j)m=E;else if(t.multiline&&(h+2)*(x+2)+2>s)continue e}else{if(!t.multiline||(h+2)*(x+2)+2>s)continue e;m=E}}for(var N="",k=v;k<=m;k++){var D=i[k];if(t.multiline){if(k===m){N+=D[g]+" ",g=(g+1)%D.length;continue}if(k===v){N+=D[D.length-1]+" ";continue}}N+=D[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,d=O2(N,t,a).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=nr(u)+" "+nr(f)+` Td
`,e+="("+Em(N)+`) Tj
`,e+=-nr(u)+` 0 Td
`,f=-(a+2),d=0,v=A?m:m+1,x++,y=""}break}return n.text=e,n.fontSize=a,n},O2=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},dQe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hQe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},fQe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(dQe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bD=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Mre,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&hQe(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=cQe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=xt.createDefaultAppearanceStream(o),rn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=uQe(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var f=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var v=f[s];typeof v=="function"&&(v=v.call(i,o)),h+="/"+s+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(i,o)),h+="/"+s+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(m,g){for(var y in m)if(m.hasOwnProperty(y)){var x=y,_=m[y];g.internal.newObjectDeferredBegin(_.objId,!0),rn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete m[x]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Dre=li.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),rn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Em(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},OP=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Em(n(t))+")"},vc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vc.prototype.toString=function(){return this.objId+" 0 R"},vc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},vc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:Dre(i,this.objId,this.scope)}):i instanceof vc?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var Lre=function(){vc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ds(Lre,vc);var Mre=function(){vc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Em(r(t))+")"}},set:function(r){t=r}})};Ds(Mre,vc);var Fl=function t(){vc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yi(e,3)},set:function(y){y?this.F=bi(e,3):this.F=xi(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof R5)return;a="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Em(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/bD:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof R5||this instanceof Rp))return OP(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ji==0?OP(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof Ji==0?y.substr(0,1)==="("?eg(y.substr(1,y.length-2)):eg(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji==1?eg(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ji==1?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ji==0?OP(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof Ji==0?y.substr(0,1)==="("?eg(y.substr(1,y.length-2)):eg(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji==1?eg(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Ji==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,1)},set:function(y){y?this.Ff=bi(this.Ff,1):this.Ff=xi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,2)},set:function(y){y?this.Ff=bi(this.Ff,2):this.Ff=xi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,3)},set:function(y){y?this.Ff=bi(this.Ff,3):this.Ff=xi(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');g=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(g){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Ds(Fl,vc);var Zg=function(){Fl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Dre(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,18)},set:function(r){r?this.Ff=bi(this.Ff,18):this.Ff=xi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=bi(this.Ff,19):this.Ff=xi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,20)},set:function(r){r?(this.Ff=bi(this.Ff,20),e.sort()):this.Ff=xi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,22)},set:function(r){r?this.Ff=bi(this.Ff,22):this.Ff=xi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,23)},set:function(r){r?this.Ff=bi(this.Ff,23):this.Ff=xi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,27)},set:function(r){r?this.Ff=bi(this.Ff,27):this.Ff=xi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ds(Zg,Fl);var ev=function(){Zg.call(this),this.fontName="helvetica",this.combo=!1};Ds(ev,Zg);var tv=function(){ev.call(this),this.combo=!0};Ds(tv,ev);var y_=function(){tv.call(this),this.edit=!0};Ds(y_,tv);var Ji=function(){Fl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,15)},set:function(r){r?this.Ff=bi(this.Ff,15):this.Ff=xi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,16)},set:function(r){r?this.Ff=bi(this.Ff,16):this.Ff=xi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,17)},set:function(r){r?this.Ff=bi(this.Ff,17):this.Ff=xi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,26)},set:function(r){r?this.Ff=bi(this.Ff,26):this.Ff=xi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Em(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){rn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ds(Ji,Fl);var b_=function(){Ji.call(this),this.pushButton=!0};Ds(b_,Ji);var rv=function(){Ji.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ds(rv,Ji);var R5=function(){var t,e;Fl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Em(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){rn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ds(R5,Fl),rv.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},rv.prototype.createOption=function(t){var e=new R5;return e.Parent=this,e.optionName=t,this.Kids.push(e),pQe.call(this.scope,e),e};var x_=function(){Ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};Ds(x_,Ji);var Rp=function(){Fl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,13)},set:function(e){e?this.Ff=bi(this.Ff,13):this.Ff=xi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,21)},set:function(e){e?this.Ff=bi(this.Ff,21):this.Ff=xi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,23)},set:function(e){e?this.Ff=bi(this.Ff,23):this.Ff=xi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,24)},set:function(e){e?this.Ff=bi(this.Ff,24):this.Ff=xi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,25)},set:function(e){e?this.Ff=bi(this.Ff,25):this.Ff=xi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,26)},set:function(e){e?this.Ff=bi(this.Ff,26):this.Ff=xi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ds(Rp,Fl);var w_=function(){Rp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,14)},set:function(t){t?this.Ff=bi(this.Ff,14):this.Ff=xi(this.Ff,14)}}),this.password=!0};Ds(w_,Rp);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=H4(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+nr(xt.internal.getWidth(t))+" "+nr(xt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+nr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=rc(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=xt.internal.getHeight(t),s=xt.internal.getWidth(t),o=H4(t,t.caption);return i.push("1 g"),i.push("0 0 "+nr(s)+" "+nr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+nr(s-1)+" "+nr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+nr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+nr(xt.internal.getWidth(t))+" "+nr(xt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=xt.RadioButton.Circle.YesNormal,e.D[t]=xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=xt.internal.getWidth(t)<=xt.internal.getHeight(t)?xt.internal.getWidth(t)/4:xt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=xt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$d(xt.internal.getWidth(t)/2)+" "+$d(xt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=xt.internal.getWidth(t)<=xt.internal.getHeight(t)?xt.internal.getWidth(t)/4:xt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*xt.internal.Bezier_C).toFixed(5)),s=Number((n*xt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$d(xt.internal.getWidth(t)/2)+" "+$d(xt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$d(xt.internal.getWidth(t)/2)+" "+$d(xt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=xt.internal.getWidth(t)<=xt.internal.getHeight(t)?xt.internal.getWidth(t)/4:xt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*xt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$d(xt.internal.getWidth(t)/2)+" "+$d(xt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=xt.RadioButton.Cross.YesNormal,e.D[t]=xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=rc(t);e.scope=t.scope;var r=[],n=xt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+nr(xt.internal.getWidth(t)-2)+" "+nr(xt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(nr(n.x1.x)+" "+nr(n.x1.y)+" m"),r.push(nr(n.x2.x)+" "+nr(n.x2.y)+" l"),r.push(nr(n.x4.x)+" "+nr(n.x4.y)+" m"),r.push(nr(n.x3.x)+" "+nr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=xt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+nr(xt.internal.getWidth(t))+" "+nr(xt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+nr(xt.internal.getWidth(t)-2)+" "+nr(xt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(nr(r.x1.x)+" "+nr(r.x1.y)+" m"),n.push(nr(r.x2.x)+" "+nr(r.x2.y)+" l"),n.push(nr(r.x4.x)+" "+nr(r.x4.y)+" m"),n.push(nr(r.x3.x)+" "+nr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=rc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+nr(xt.internal.getWidth(t))+" "+nr(xt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};xt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=xt.internal.getWidth(t),r=xt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},xt.internal.getWidth=function(t){var e=0;return rn(t)==="object"&&(e=AU(t.Rect[2])),e},xt.internal.getHeight=function(t){var e=0;return rn(t)==="object"&&(e=AU(t.Rect[3])),e};var pQe=li.addField=function(t){if(fQe(this,t),!(t instanceof Fl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};li.AcroFormChoiceField=Zg,li.AcroFormListBox=ev,li.AcroFormComboBox=tv,li.AcroFormEditBox=y_,li.AcroFormButton=Ji,li.AcroFormPushButton=b_,li.AcroFormRadioButton=rv,li.AcroFormCheckBox=x_,li.AcroFormTextField=Rp,li.AcroFormPasswordField=w_,li.AcroFormAppearance=xt,li.AcroForm={ChoiceField:Zg,ListBox:ev,ComboBox:tv,EditBox:y_,Button:Ji,PushButton:b_,RadioButton:rv,CheckBox:x_,TextField:Rp,PasswordField:w_,Appearance:xt},Rt.AcroForm={ChoiceField:Zg,ListBox:ev,ComboBox:tv,EditBox:y_,Button:Ji,PushButton:b_,RadioButton:rv,CheckBox:x_,TextField:Rp,PasswordField:w_,Appearance:xt};function $re(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(C,O){var L,z,re,Y,K,q=r;if((O=O||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(I(C))for(K in n)for(re=n[K],L=0;L<re.length;L+=1){for(Y=!0,z=0;z<re[L].length;z+=1)if(re[L][z]!==void 0&&re[L][z]!==C[z]){Y=!1;break}if(Y===!0){q=K;break}}else for(K in n)for(re=n[K],L=0;L<re.length;L+=1){for(Y=!0,z=0;z<re[L].length;z+=1)if(re[L][z]!==void 0&&re[L][z]!==C.charCodeAt(z)){Y=!1;break}if(Y===!0){q=K;break}}return q===r&&O!==r&&(q=O),q},a=function C(O){for(var L=this.internal.write,z=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:O.width}),Y.push({key:"Height",value:O.height}),O.colorSpace===y.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===y.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var K="",q=0,Z=O.transparency.length;q<Z;q++)K+=O.transparency[q]+" "+O.transparency[q]+" ";Y.push({key:"Mask",value:"["+K+"]"})}O.sMask!==void 0&&Y.push({key:"SMask",value:O.objectId+1+" 0 R"});var ve=O.filter!==void 0?["/"+O.filter]:void 0;if(z({data:O.data,additionalKeyValues:Y,alreadyAppliedFilters:ve,objectId:O.objectId}),L("endobj"),"sMask"in O&&O.sMask!==void 0){var ce,F=(ce=O.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:O.bitsPerComponent,V={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:O.sMask};"filter"in O&&(V.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(O.width),V.filter=O.filter),C.call(this,V)}if(O.colorSpace===y.INDEXED){var G=this.internal.newObject();z({data:N(new Uint8Array(O.palette)),objectId:G}),L("endobj")}},s=function(){var C=this.internal.collections[e+"images"];for(var O in C)a.call(this,C[O])},o=function(){var C,O=this.internal.collections[e+"images"],L=this.internal.write;for(var z in O)L("/I"+(C=O[z]).index,C.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var C=this.internal.collections[e+"images"];return l.call(this),C},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(C){return typeof t["process"+C.toUpperCase()]=="function"},p=function(C){return rn(C)==="object"&&C.nodeType===1},f=function(C,O){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var L=""+C.getAttribute("src");if(L.indexOf("data:image/")===0)return v_(unescape(L).split("base64,").pop());var z=t.loadFile(L,!0);if(z!==void 0)return z}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var re;switch(O){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return v_(C.toDataURL(re,1).split("base64,").pop())}},v=function(C){var O=this.internal.collections[e+"images"];if(O){for(var L in O)if(C===O[L].alias)return O[L]}},m=function(C,O,L){return C||O||(C=-96,O=-96),C<0&&(C=-1*L.width*72/C/this.internal.scaleFactor),O<0&&(O=-1*L.height*72/O/this.internal.scaleFactor),C===0&&(C=O*L.width/L.height),O===0&&(O=C*L.height/L.width),[C,O]},g=function(C,O,L,z,re,Y){var K=m.call(this,L,z,re),q=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ve=u.call(this);if(L=K[0],z=K[1],ve[re.index]=re,Y){Y*=Math.PI/180;var ce=Math.cos(Y),F=Math.sin(Y),V=function(oe){return oe.toFixed(4)},G=[V(ce),V(F),V(-1*F),V(ce),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,q(C),Z(O+z),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([q(L),"0","0",q(z),"0","0","cm"].join(" "))):this.internal.write([q(L),"0","0",q(z),q(C),Z(O+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(C){var O,L,z=0;if(typeof C=="string")for(L=C.length,O=0;O<L;O++)z=(z<<5)-z+C.charCodeAt(O),z|=0;else if(I(C))for(L=C.byteLength/2,O=0;O<L;O++)z=(z<<5)-z+C[O],z|=0;return z},A=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var O=!0;return C.length===0&&(O=!1),C.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(O=!1),O},E=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var O=C.indexOf(",");return O<0?null:C.substring(0,O).trim().endsWith("base64")?C.substring(O+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var I=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},j=t.__addimage__.binaryStringToUint8Array=function(C){for(var O=C.length,L=new Uint8Array(O),z=0;z<O;z++)L[z]=C.charCodeAt(z);return L},N=t.__addimage__.arrayBufferToBinaryString=function(C){for(var O="",L=I(C)?C:new Uint8Array(C),z=0;z<L.length;z+=8192)O+=String.fromCharCode.apply(null,L.subarray(z,z+8192));return O};t.addImage=function(){var C,O,L,z,re,Y,K,q,Z;if(typeof arguments[1]=="number"?(O=r,L=arguments[1],z=arguments[2],re=arguments[3],Y=arguments[4],K=arguments[5],q=arguments[6],Z=arguments[7]):(O=arguments[1],L=arguments[2],z=arguments[3],re=arguments[4],Y=arguments[5],K=arguments[6],q=arguments[7],Z=arguments[8]),rn(C=arguments[0])==="object"&&!p(C)&&"imageData"in C){var ve=C;C=ve.imageData,O=ve.format||O||r,L=ve.x||L||0,z=ve.y||z||0,re=ve.w||ve.width||re,Y=ve.h||ve.height||Y,K=ve.alias||K,q=ve.compression||q,Z=ve.rotation||ve.angle||Z}var ce=this.internal.getFilters();if(q===void 0&&ce.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(L)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=k.call(this,C,O,K,q);return g.call(this,L,z,re,Y,F,Z),this};var k=function(C,O,L,z){var re,Y,K;if(typeof C=="string"&&i(C)===r){C=unescape(C);var q=D(C,!1);(q!==""||(q=t.loadFile(C,!0))!==void 0)&&(C=q)}if(p(C)&&(C=f(C,O)),O=i(C,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((K=L)==null||K.length===0)&&(L=function(Z){return typeof Z=="string"||I(Z)?_(Z):I(Z.data)?_(Z.data):null}(C)),(re=v.call(this,L))||(C instanceof Uint8Array||O==="RGBA"||(Y=C,C=j(C)),re=this["process"+O.toUpperCase()](C,d.call(this),L,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:x.NONE}(z),Y)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},D=t.__addimage__.convertBase64ToBinaryString=function(C,O){O=typeof O!="boolean"||O;var L,z="";if(typeof C=="string"){var re;L=(re=E(C))!==null&&re!==void 0?re:C;try{z=v_(L)}catch(Y){if(O)throw A(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(C){var O,L,z="";if(p(C)&&(C=f(C)),typeof C=="string"&&i(C)===r&&((z=D(C,!1))===""&&(z=t.loadFile(C)||""),C=z),L=i(C),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(C instanceof Uint8Array||(C=j(C)),!(O=this["process"+L.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=L,O}})(Rt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Rt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),x=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(y(n.contents))+")",a+=" /Popup "+g.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(y(x))+") >>",m.content=a;var _=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",g.content=a,this.internal.write(m.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(v(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var I=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=l,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Rt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&e[m.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(m){var g=0,y=r,x="",_=0;for(g=0;g<m.length;g+=1)y[m.charCodeAt(g)]!==void 0?(_++,typeof(y=y[m.charCodeAt(g)])=="number"&&(x+=String.fromCharCode(y),y=r,_=0),g===m.length-1&&(y=r,x+=m.charAt(g-(_-1)),g-=_-1,_=0)):(y=r,x+=m.charAt(g-_),g-=_,_=0);return x};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,g,y){return s(m)?a(m)===!1?-1:!u(m)||!s(g)&&!s(y)||!s(y)&&o(g)||o(m)&&!s(g)||o(m)&&l(g)||o(m)&&o(g)?0:d(m)&&s(g)&&!o(g)&&s(y)&&u(y)?3:o(m)||!s(y)?1:2:-1},f=function(m){var g=0,y=0,x=0,_="",A="",E="",I=(m=m||"").split("\\s+"),j=[];for(g=0;g<I.length;g+=1){for(j.push(""),y=0;y<I[g].length;y+=1)_=I[g][y],A=I[g][y-1],E=I[g][y+1],s(_)?(x=p(_,A,E),j[g]+=x!==-1?String.fromCharCode(e[_.charCodeAt(0)][x]):_):j[g]+=_;j[g]=h(j[g])}return j.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var m,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(g)){var x=0;for(y=[],x=0;x<g.length;x+=1)Array.isArray(g[x])?y.push([f(g[x][0]),g[x][1],g[x][2]]):y.push([f(g[x])]);m=y}else m=f(g);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",v])}(Rt.API),Rt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Rt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,v=0,m=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,A){return _.concat(g.splitTextToSize(A,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)f<(m=this.getStringUnitWidth(l[x],{font:h})*d)&&(f=m);return f!==0&&(v=l.length),{w:f/=p,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,h,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,v,m,g,y=[],x=[],_=[],A={},E={},I=[],j=[],N=(p=p||{}).autoSize||!1,k=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,C=p.margins||Object.assign({width:this.getPageWidth()},e),O=typeof p.padding=="number"?p.padding:3,L=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=z,this.setFontSize(D),h==null)x=y=Object.keys(d[0]),_=y.map(function(){return"left"});else if(Array.isArray(h)&&rn(h[0])==="object")for(y=h.map(function(ve){return ve.name}),x=h.map(function(ve){return ve.prompt||ve.name||""}),_=h.map(function(ve){return ve.align||"left"}),f=0;f<h.length;f+=1)E[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(x=y=h,_=y.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<y.length;f+=1){for(A[g=y[f]]=d.map(function(ve){return ve[g]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=A[g],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)I.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[g]=Math.max.apply(null,I)+O+O,I=[]}if(k){var re={};for(f=0;f<y.length;f+=1)re[y[f]]={},re[y[f]].text=x[f],re[y[f]].align=_[f];var Y=o.call(this,re,E);j=y.map(function(ve){return new a(l,u,E[ve],Y,re[ve].text,void 0,re[ve].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var K=h.reduce(function(ve,ce){return ve[ce.name]=ce.align,ve},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var q=o.call(this,d[f],E);for(m=0;m<y.length;m+=1){var Z=d[f][y[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:m,data:Z},this),s.call(this,new a(l,u,E[y[m]],q,Z,f+2,K[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var v=l[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,v){return Math.max(f,v)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Rt.API);var Fre={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Bre=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G4=$re(Bre),Ure=[100,200,300,400,500,600,700,800,900],mQe=$re(Ure);function RP(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return Fre[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof G4[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function NU(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var gQe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},EU={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jU(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function PU(t){return t.trimLeft()}function vQe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function yQe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var R2,TU,CU,tg,D2,kU,IU,OU,DP=["times"];function RU(t,e,r,n,i){var a=4,s=LU;switch(i){case Rt.API.image_compression.FAST:a=1,s=DU;break;case Rt.API.image_compression.MEDIUM:a=6,s=MU;break;case Rt.API.image_compression.SLOW:a=9,s=$U}t=function(l,u,d,h){for(var p,f=l.length/u,v=new Uint8Array(l.length+f),m=[bQe,DU,LU,MU,$U],g=0;g<f;g+=1){var y=g*u,x=l.subarray(y,y+u);if(h)v.set(h(x,d,p),y+g);else{for(var _=m.length,A=[],E=0;E<_;E+=1)A[E]=m[E](x,d,p);var I=wQe(A.concat());v.set(A[I],y+g)}p=x}return v}(t,e,Math.ceil(r*n/8),s);var o=R4(t,{level:a});return Rt.API.__addimage__.arrayBufferToBinaryString(o)}function bQe(t){var e=Array.apply([],t);return e.unshift(0),e}function DU(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function LU(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function MU(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=r&&r[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function $U(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=xQe(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function xQe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function wQe(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function LP(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return Vre(t,i)>>a&s}function FU(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var p=h>>8&255;u.setUint8(d,p)}})(t,a,Vre(t,a)&~(o<<s)&65535|l)}function Vre(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function _Qe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var u=!0,d=[],h=0,p=null,f=0,v=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),f=m>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++],E=A>>6&1,I=1<<1+(7&A),j=o,N=l,k=!1;A>>7&&(k=!0,j=e,N=I,e+=3*I);var D=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}d.push({x:g,y,width:x,height:_,has_local_palette:k,palette_offset:j,palette_size:N,data_offset:D,data_length:e-D,transparent_index:p,interlaced:!!E,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,L){var z=this.frameInfo(O),re=z.width*z.height,Y=new Uint8Array(re);BU(t,z.data_offset,Y,re);var K=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var Z=z.width,ve=r-Z,ce=Z,F=4*(z.y*r+z.x),V=4*((z.y+z.height)*r+z.x),G=F,oe=4*ve;z.interlaced===!0&&(oe+=4*r*7);for(var J=8,ie=0,be=Y.length;ie<be;++ie){var he=Y[ie];if(ce===0&&(ce=Z,(G+=oe)>=V&&(oe=4*ve+4*r*(J-1),G=F+(Z+ve)*(J<<1),J>>=1)),he===q)G+=4;else{var P=t[K+3*he],X=t[K+3*he+1],ne=t[K+3*he+2];L[G++]=ne,L[G++]=X,L[G++]=P,L[G++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(O,L){var z=this.frameInfo(O),re=z.width*z.height,Y=new Uint8Array(re);BU(t,z.data_offset,Y,re);var K=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var Z=z.width,ve=r-Z,ce=Z,F=4*(z.y*r+z.x),V=4*((z.y+z.height)*r+z.x),G=F,oe=4*ve;z.interlaced===!0&&(oe+=4*r*7);for(var J=8,ie=0,be=Y.length;ie<be;++ie){var he=Y[ie];if(ce===0&&(ce=Z,(G+=oe)>=V&&(oe=4*ve+4*r*(J-1),G=F+(Z+ve)*(J<<1),J>>=1)),he===q)G+=4;else{var P=t[K+3*he],X=t[K+3*he+1],ne=t[K+3*he+2];L[G++]=P,L[G++]=X,L[G++]=ne,L[G++]=255}--ce}}}function BU(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,d=0,h=0,p=0,f=t[e++],v=new Int32Array(4096),m=null;;){for(;d<16&&f!==0;)h|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<l)break;var g=h&u;if(h>>=l,d-=l,g!==a){if(g===s)break;for(var y=g<o?g:m,x=0,_=y;_>a;)_=v[_]>>8,++x;var A=_;if(p+x+(y!==g?1:0)>n)return void xn.log("Warning, gif stream longer than expected.");r[p++]=A;var E=p+=x;for(y!==g&&(r[p++]=A),_=y;x--;)_=v[_],r[--E]=255&_,_>>=8;m!==null&&o<4096&&(v[o++]=m<<8|A,o>=u+1&&l<12&&(++l,u=u<<1|1)),m=g}else o=s+1,u=(1<<(l=i+1))-1,m=null}return p!==n&&xn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function MP(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),v=new Array(64),m=[],g=0,y=7,x=new Array(64),_=new Array(64),A=new Array(64),E=new Array(256),I=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(F,V){for(var G=0,oe=0,J=new Array,ie=1;ie<=16;ie++){for(var be=1;be<=F[ie];be++)J[V[oe]]=[],J[V[oe]][0]=G,J[V[oe]][1]=ie,oe++,G++;G*=2}return J}function K(F){for(var V=F[0],G=F[1]-1;G>=0;)V&1<<G&&(g|=1<<y),G--,--y<0&&(g==255?(q(255),q(0)):q(g),y=7,g=0)}function q(F){m.push(F)}function Z(F){q(F>>8&255),q(255&F)}function ve(F,V,G,oe,J){for(var ie,be=J[0],he=J[240],P=function(_e,ke){var je,Me,et,Yt,Nt,ut,Lt,vt,Ee,Ye,Ze=0;for(Ee=0;Ee<8;++Ee){je=_e[Ze],Me=_e[Ze+1],et=_e[Ze+2],Yt=_e[Ze+3],Nt=_e[Ze+4],ut=_e[Ze+5],Lt=_e[Ze+6];var ct=je+(vt=_e[Ze+7]),lt=je-vt,rt=Me+Lt,Ce=Me-Lt,Ct=et+ut,yt=et-ut,er=Yt+Nt,Bt=Yt-Nt,Vr=ct+er,hn=ct-er,Mt=rt+Ct,_t=rt-Ct;_e[Ze]=Vr+Mt,_e[Ze+4]=Vr-Mt;var Ut=.707106781*(_t+hn);_e[Ze+2]=hn+Ut,_e[Ze+6]=hn-Ut;var bt=.382683433*((Vr=Bt+yt)-(_t=Ce+lt)),Tt=.5411961*Vr+bt,lr=1.306562965*_t+bt,cr=.707106781*(Mt=yt+Ce),ot=lt+cr,Qn=lt-cr;_e[Ze+5]=Qn+Tt,_e[Ze+3]=Qn-Tt,_e[Ze+1]=ot+lr,_e[Ze+7]=ot-lr,Ze+=8}for(Ze=0,Ee=0;Ee<8;++Ee){je=_e[Ze],Me=_e[Ze+8],et=_e[Ze+16],Yt=_e[Ze+24],Nt=_e[Ze+32],ut=_e[Ze+40],Lt=_e[Ze+48];var Rn=je+(vt=_e[Ze+56]),Dr=je-vt,ln=Me+Lt,Jr=Me-Lt,fn=et+ut,St=et-ut,tr=Yt+Nt,Ar=Yt-Nt,yr=Rn+tr,cn=Rn-tr,un=ln+fn,Dn=ln-fn;_e[Ze]=yr+un,_e[Ze+32]=yr-un;var pn=.707106781*(Dn+cn);_e[Ze+16]=cn+pn,_e[Ze+48]=cn-pn;var Lr=.382683433*((yr=Ar+St)-(Dn=Jr+Dr)),Wn=.5411961*yr+Lr,vo=1.306562965*Dn+Lr,Uc=.707106781*(un=St+Jr),Ul=Dr+Uc,yo=Dr-Uc;_e[Ze+40]=yo+Wn,_e[Ze+24]=yo-Wn,_e[Ze+8]=Ul+vo,_e[Ze+56]=Ul-vo,Ze++}for(Ee=0;Ee<64;++Ee)Ye=_e[Ee]*ke[Ee],f[Ee]=Ye>0?Ye+.5|0:Ye-.5|0;return f}(F,V),X=0;X<64;++X)v[j[X]]=P[X];var ne=v[0]-G;G=v[0],ne==0?K(oe[0]):(K(oe[p[ie=32767+ne]]),K(h[ie]));for(var de=63;de>0&&v[de]==0;)de--;if(de==0)return K(be),G;for(var ge,ee=1;ee<=de;){for(var Ae=ee;v[ee]==0&&ee<=de;)++ee;var De=ee-Ae;if(De>=16){ge=De>>4;for(var Le=1;Le<=ge;++Le)K(he);De&=15}ie=32767+v[ee],K(J[(De<<4)+p[ie]]),K(h[ie]),ee++}return de!=63&&K(be),G}function ce(F){F=Math.min(Math.max(F,1),100),a!=F&&(function(V){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var J=s((G[oe]*V+50)/100);J=Math.min(Math.max(J,1),255),o[j[oe]]=J}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var he=s((ie[be]*V+50)/100);he=Math.min(Math.max(he,1),255),l[j[be]]=he}for(var P=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],X=0,ne=0;ne<8;ne++)for(var de=0;de<8;de++)u[X]=1/(o[j[X]]*P[ne]*P[de]*8),d[X]=1/(l[j[X]]*P[ne]*P[de]*8),X++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),a=F)}this.encode=function(F,V){V&&ce(V),m=new Array,g=0,y=7,Z(65496),Z(65504),Z(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),Z(1),Z(1),q(0),q(0),function(){Z(65499),Z(132),q(0);for(var Me=0;Me<64;Me++)q(o[Me]);q(1);for(var et=0;et<64;et++)q(l[et])}(),function(Me,et){Z(65472),Z(17),q(8),Z(et),Z(Me),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(F.width,F.height),function(){Z(65476),Z(418),q(0);for(var Me=0;Me<16;Me++)q(N[Me+1]);for(var et=0;et<=11;et++)q(k[et]);q(16);for(var Yt=0;Yt<16;Yt++)q(D[Yt+1]);for(var Nt=0;Nt<=161;Nt++)q(C[Nt]);q(1);for(var ut=0;ut<16;ut++)q(O[ut+1]);for(var Lt=0;Lt<=11;Lt++)q(L[Lt]);q(17);for(var vt=0;vt<16;vt++)q(z[vt+1]);for(var Ee=0;Ee<=161;Ee++)q(re[Ee])}(),Z(65498),Z(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var G=0,oe=0,J=0;g=0,y=7,this.encode.displayName="_encode_";for(var ie,be,he,P,X,ne,de,ge,ee,Ae=F.data,De=F.width,Le=F.height,_e=4*De,ke=0;ke<Le;){for(ie=0;ie<_e;){for(X=_e*ke+ie,de=-1,ge=0,ee=0;ee<64;ee++)ne=X+(ge=ee>>3)*_e+(de=4*(7&ee)),ke+ge>=Le&&(ne-=_e*(ke+1+ge-Le)),ie+de>=_e&&(ne-=ie+de-_e+4),be=Ae[ne++],he=Ae[ne++],P=Ae[ne++],x[ee]=(I[be]+I[he+256|0]+I[P+512|0]>>16)-128,_[ee]=(I[be+768|0]+I[he+1024|0]+I[P+1280|0]>>16)-128,A[ee]=(I[be+1280|0]+I[he+1536|0]+I[P+1792|0]>>16)-128;G=ve(x,u,G,e,n),oe=ve(_,d,oe,r,i),J=ve(A,d,J,r,i),ie+=32}ke+=8}if(y>=0){var je=[];je[1]=y+1,je[0]=(1<<y+1)-1,K(je)}return Z(65497),new Uint8Array(m)},t=t||50,function(){for(var F=String.fromCharCode,V=0;V<256;V++)E[V]=F(V)}(),e=Y(N,k),r=Y(O,L),n=Y(D,C),i=Y(z,re),function(){for(var F=1,V=2,G=1;G<=15;G++){for(var oe=F;oe<V;oe++)p[32767+oe]=G,h[32767+oe]=[],h[32767+oe][1]=G,h[32767+oe][0]=oe;for(var J=-(V-1);J<=-F;J++)p[32767+J]=G,h[32767+J]=[],h[32767+J][1]=G,h[32767+J][0]=V-1+J;F<<=1,V<<=1}}(),function(){for(var F=0;F<256;F++)I[F]=19595*F,I[F+256|0]=38470*F,I[F+512|0]=7471*F+32768,I[F+768|0]=-11059*F,I[F+1024|0]=-21709*F,I[F+1280|0]=32768*F+8421375,I[F+1536|0]=-27439*F,I[F+1792|0]=-5329*F}(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function cl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function UU(t){function e(k){if(!k)throw Error("assert :P")}function r(k,D,C){for(var O=0;4>O;O++)if(k[D+O]!=C.charCodeAt(O))return!0;return!1}function n(k,D,C,O,L){for(var z=0;z<L;z++)k[D+z]=C[O+z]}function i(k,D,C,O){for(var L=0;L<O;L++)k[D+L]=C}function a(k){return new Int32Array(k)}function s(k,D){for(var C=[],O=0;O<k;O++)C.push(new D);return C}function o(k,D){var C=[];return function O(L,z,re){for(var Y=re[z],K=0;K<Y&&(L.push(re.length>z+1?[]:new D),!(re.length<z+1));K++)O(L[K],z+1,re)}(C,0,k),C}var l=function(){var k=this;function D(b,S){for(var M=1<<S-1>>>0;b&M;)M>>>=1;return M?(b&M-1)+M:b}function C(b,S,M,B,H){e(!(B%M));do b[S+(B-=M)]=H;while(0<B)}function O(b,S,M,B,H){if(e(2328>=H),512>=H)var Q=a(512);else if((Q=a(H))==null)return 0;return function(te,ae,le,pe,we,Oe){var me,Se,Te=ae,$e=1<<le,Ie=a(16),Ve=a(16);for(e(we!=0),e(pe!=null),e(te!=null),e(0<le),Se=0;Se<we;++Se){if(15<pe[Se])return 0;++Ie[pe[Se]]}if(Ie[0]==we)return 0;for(Ve[1]=0,me=1;15>me;++me){if(Ie[me]>1<<me)return 0;Ve[me+1]=Ve[me]+Ie[me]}for(Se=0;Se<we;++Se)me=pe[Se],0<pe[Se]&&(Oe[Ve[me]++]=Se);if(Ve[15]==1)return(pe=new L).g=0,pe.value=Oe[0],C(te,Te,1,$e,pe),$e;var ze,Xe=-1,Ke=$e-1,Ot=0,gt=1,ur=1,Et=1<<le;for(Se=0,me=1,we=2;me<=le;++me,we<<=1){if(gt+=ur<<=1,0>(ur-=Ie[me]))return 0;for(;0<Ie[me];--Ie[me])(pe=new L).g=me,pe.value=Oe[Se++],C(te,Te+Ot,we,Et,pe),Ot=D(Ot,me)}for(me=le+1,we=2;15>=me;++me,we<<=1){if(gt+=ur<<=1,0>(ur-=Ie[me]))return 0;for(;0<Ie[me];--Ie[me]){if(pe=new L,(Ot&Ke)!=Xe){for(Te+=Et,ze=1<<(Xe=me)-le;15>Xe&&!(0>=(ze-=Ie[Xe]));)++Xe,ze<<=1;$e+=Et=1<<(ze=Xe-le),te[ae+(Xe=Ot&Ke)].g=ze+le,te[ae+Xe].value=Te-ae-Xe}pe.g=me-le,pe.value=Oe[Se++],C(te,Te+(Ot>>le),we,Et,pe),Ot=D(Ot,me)}}return gt!=2*Ve[15]-1?0:$e}(b,S,M,B,H,Q)}function L(){this.value=this.g=0}function z(){this.value=this.g=0}function re(){this.G=s(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s($f,z)}function Y(b,S,M,B){e(b!=null),e(S!=null),e(2147483648>B),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=S,b.pa=M,b.Jd=S,b.Yc=M+B,b.Zc=4<=B?M+B-4+1:M,be(b)}function K(b,S){for(var M=0;0<S--;)M|=P(b,128)<<S;return M}function q(b,S){var M=K(b,S);return he(b)?-M:M}function Z(b,S,M,B){var H,Q=0;for(e(b!=null),e(S!=null),e(4294967288>B),b.Sb=B,b.Ra=0,b.u=0,b.h=0,4<B&&(B=4),H=0;H<B;++H)Q+=S[M+H]<<8*H;b.Ra=Q,b.bb=B,b.oa=S,b.pa=M}function ve(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<bd-8>>>0,++b.bb,b.u-=8;oe(b)&&(b.h=1,b.u=0)}function ce(b,S){if(e(0<=S),!b.h&&S<=Bs){var M=G(b)&Fs[S];return b.u+=S,ve(b),M}return b.h=1,b.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(b){return b.Ra>>>(b.u&bd-1)>>>0}function oe(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>bd}function J(b,S){b.u=S,b.h=oe(b)}function ie(b){b.u>=Jc&&(e(b.u>=Jc),ve(b))}function be(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function he(b){return K(b,1)}function P(b,S){var M=b.Ca;0>b.b&&be(b);var B=b.b,H=M*S>>>8,Q=(b.I>>>B>H)+0;for(Q?(M-=H,b.I-=H+1<<B>>>0):M=H+1,B=M,H=0;256<=B;)H+=8,B>>=8;return B=7^H+xd[B],b.b-=B,b.Ca=(M<<B)-1,Q}function X(b,S,M){b[S+0]=M>>24&255,b[S+1]=M>>16&255,b[S+2]=M>>8&255,b[S+3]=255&M}function ne(b,S){return b[S+0]|b[S+1]<<8}function de(b,S){return ne(b,S)|b[S+2]<<16}function ge(b,S){return ne(b,S)|ne(b,S+2)<<16}function ee(b,S){var M=1<<S;return e(b!=null),e(0<S),b.X=a(M),b.X==null?0:(b.Mb=32-S,b.Xa=S,1)}function Ae(b,S){e(b!=null),e(S!=null),e(b.Xa==S.Xa),n(S.X,0,b.X,0,1<<S.Xa)}function De(){this.X=[],this.Xa=this.Mb=0}function Le(b,S,M,B){e(M!=null),e(B!=null);var H=M[0],Q=B[0];return H==0&&(H=(b*Q+S/2)/S),Q==0&&(Q=(S*H+b/2)/b),0>=H||0>=Q?0:(M[0]=H,B[0]=Q,1)}function _e(b,S){return b+(1<<S)-1>>>S}function ke(b,S){return((4278255360&b)+(4278255360&S)>>>0&4278255360)+((16711935&b)+(16711935&S)>>>0&16711935)>>>0}function je(b,S){k[S]=function(M,B,H,Q,te,ae,le){var pe;for(pe=0;pe<te;++pe){var we=k[b](ae[le+pe-1],H,Q+pe);ae[le+pe]=ke(M[B+pe],we)}}}function Me(){this.ud=this.hd=this.jd=0}function et(b,S){return((4278124286&(b^S))>>>1)+(b&S)>>>0}function Yt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Nt(b,S){return Yt(b+(b-S+.5>>1))}function ut(b,S,M){return Math.abs(S-M)-Math.abs(b-M)}function Lt(b,S,M,B,H,Q,te){for(B=Q[te-1],M=0;M<H;++M)Q[te+M]=B=ke(b[S+M],B)}function vt(b,S,M,B,H){var Q;for(Q=0;Q<M;++Q){var te=b[S+Q],ae=te>>8&255,le=16711935&(le=(le=16711935&te)+((ae<<16)+ae));B[H+Q]=(4278255360&te)+le>>>0}}function Ee(b,S){S.jd=255&b,S.hd=b>>8&255,S.ud=b>>16&255}function Ye(b,S,M,B,H,Q){var te;for(te=0;te<B;++te){var ae=S[M+te],le=ae>>>8,pe=ae,we=255&(we=(we=ae>>>16)+((b.jd<<24>>24)*(le<<24>>24)>>>5));pe=255&(pe=(pe+=(b.hd<<24>>24)*(le<<24>>24)>>>5)+((b.ud<<24>>24)*(we<<24>>24)>>>5)),H[Q+te]=(4278255360&ae)+(we<<16)+pe}}function Ze(b,S,M,B,H){k[S]=function(Q,te,ae,le,pe,we,Oe,me,Se){for(le=Oe;le<me;++le)for(Oe=0;Oe<Se;++Oe)pe[we++]=H(ae[B(Q[te++])])},k[b]=function(Q,te,ae,le,pe,we,Oe){var me=8>>Q.b,Se=Q.Ea,Te=Q.K[0],$e=Q.w;if(8>me)for(Q=(1<<Q.b)-1,$e=(1<<me)-1;te<ae;++te){var Ie,Ve=0;for(Ie=0;Ie<Se;++Ie)Ie&Q||(Ve=B(le[pe++])),we[Oe++]=H(Te[Ve&$e]),Ve>>=me}else k["VP8LMapColor"+M](le,pe,Te,$e,we,Oe,te,ae,Se)}}function ct(b,S,M,B,H){for(M=S+M;S<M;){var Q=b[S++];B[H++]=Q>>16&255,B[H++]=Q>>8&255,B[H++]=255&Q}}function lt(b,S,M,B,H){for(M=S+M;S<M;){var Q=b[S++];B[H++]=Q>>16&255,B[H++]=Q>>8&255,B[H++]=255&Q,B[H++]=Q>>24&255}}function rt(b,S,M,B,H){for(M=S+M;S<M;){var Q=(te=b[S++])>>16&240|te>>12&15,te=240&te|te>>28&15;B[H++]=Q,B[H++]=te}}function Ce(b,S,M,B,H){for(M=S+M;S<M;){var Q=(te=b[S++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;B[H++]=Q,B[H++]=te}}function Ct(b,S,M,B,H){for(M=S+M;S<M;){var Q=b[S++];B[H++]=255&Q,B[H++]=Q>>8&255,B[H++]=Q>>16&255}}function yt(b,S,M,B,H,Q){if(Q==0)for(M=S+M;S<M;)X(B,((Q=b[S++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),H+=32;else n(B,H,b,S,M)}function er(b,S){k[S][0]=k[b+"0"],k[S][1]=k[b+"1"],k[S][2]=k[b+"2"],k[S][3]=k[b+"3"],k[S][4]=k[b+"4"],k[S][5]=k[b+"5"],k[S][6]=k[b+"6"],k[S][7]=k[b+"7"],k[S][8]=k[b+"8"],k[S][9]=k[b+"9"],k[S][10]=k[b+"10"],k[S][11]=k[b+"11"],k[S][12]=k[b+"12"],k[S][13]=k[b+"13"],k[S][14]=k[b+"0"],k[S][15]=k[b+"0"]}function Bt(b){return b==nE||b==iE||b==yw||b==aE}function Vr(){this.eb=[],this.size=this.A=this.fb=0}function hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vr,this.f.kb=new hn,this.sd=null}function _t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function bt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Tt(b,S){var M=b.T,B=S.ba.f.RGBA,H=B.eb,Q=B.fb+b.ka*B.A,te=jo[S.ba.S],ae=b.y,le=b.O,pe=b.f,we=b.N,Oe=b.ea,me=b.W,Se=S.cc,Te=S.dc,$e=S.Mc,Ie=S.Nc,Ve=b.ka,ze=b.ka+b.T,Xe=b.U,Ke=Xe+1>>1;for(Ve==0?te(ae,le,null,null,pe,we,Oe,me,pe,we,Oe,me,H,Q,null,null,Xe):(te(S.ec,S.fc,ae,le,Se,Te,$e,Ie,pe,we,Oe,me,H,Q-B.A,H,Q,Xe),++M);Ve+2<ze;Ve+=2)Se=pe,Te=we,$e=Oe,Ie=me,we+=b.Rc,me+=b.Rc,Q+=2*B.A,te(ae,(le+=2*b.fa)-b.fa,ae,le,Se,Te,$e,Ie,pe,we,Oe,me,H,Q-B.A,H,Q,Xe);return le+=b.fa,b.j+ze<b.o?(n(S.ec,S.fc,ae,le,Xe),n(S.cc,S.dc,pe,we,Ke),n(S.Mc,S.Nc,Oe,me,Ke),M--):1&ze||te(ae,le,null,null,pe,we,Oe,me,pe,we,Oe,me,H,Q+B.A,null,null,Xe),M}function lr(b,S,M){var B=b.F,H=[b.J];if(B!=null){var Q=b.U,te=S.ba.S,ae=te==vw||te==yw;S=S.ba.f.RGBA;var le=[0],pe=b.ka;le[0]=b.T,b.Kb&&(pe==0?--le[0]:(--pe,H[0]-=b.width),b.j+b.ka+b.T==b.o&&(le[0]=b.o-b.j-pe));var we=S.eb;pe=S.fb+pe*S.A,b=CD(B,H[0],b.width,Q,le,we,pe+(ae?0:3),S.A),e(M==le),b&&Bt(te)&&u0(we,pe,ae,Q,le,S.A)}return 0}function cr(b){var S=b.ma,M=S.ba.S,B=11>M,H=M==mw||M==gw||M==vw||M==rE||M==12||Bt(M);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!r0(S.Oa,b,H?11:12))return 0;if(H&&Bt(M)&&nt(),b.da)alert("todo:use_scaling");else{if(B){if(S.Ib=bt,b.Kb){if(M=b.U+1>>1,S.memory=a(b.U+2*M),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+b.U,S.Mc=S.cc,S.Nc=S.dc+M,S.Ib=Tt,nt()}}else alert("todo:EmitYUV");H&&(S.Jb=lr,B&&Pe())}if(B&&!GD){for(b=0;256>b;++b)$ne[b]=89858*(b-128)+xw>>bw,Une[b]=-22014*(b-128)+xw,Bne[b]=-45773*(b-128),Fne[b]=113618*(b-128)+xw>>bw;for(b=h0;b<lE;++b)S=76283*(b-16)+xw>>bw,Vne[b-h0]=ii(S,255),zne[b-h0]=ii(S+8>>4,15);GD=1}return 1}function ot(b){var S=b.ma,M=b.U,B=b.T;return e(!(1&b.ka)),0>=M||0>=B?0:(M=S.Ib(b,S),S.Jb!=null&&S.Jb(b,S,M),S.Dc+=M,1)}function Qn(b){b.ma.memory=null}function Rn(b,S,M,B){return ce(b,8)!=47?0:(S[0]=ce(b,14)+1,M[0]=ce(b,14)+1,B[0]=ce(b,1),ce(b,3)!=0?0:!b.h)}function Dr(b,S){if(4>b)return b+1;var M=b-2>>1;return(2+(1&b)<<M)+ce(S,M)+1}function ln(b,S){return 120<S?S-120:1<=(M=((M=Ane[S-1])>>4)*b+(8-(15&M)))?M:1;var M}function Jr(b,S,M){var B=G(M),H=b[S+=255&B].g-8;return 0<H&&(J(M,M.u+8),B=G(M),S+=b[S].value,S+=B&(1<<H)-1),J(M,M.u+b[S].g),b[S].value}function fn(b,S,M){return M.g+=b.g,M.value+=b.value<<S>>>0,e(8>=M.g),b.g}function St(b,S,M){var B=b.xc;return e((S=B==0?0:b.vc[b.md*(M>>B)+(S>>B)])<b.Wb),b.Ya[S]}function tr(b,S,M,B){var H=b.ab,Q=b.c*S,te=b.C;S=te+S;var ae=M,le=B;for(B=b.Ta,M=b.Ua;0<H--;){var pe=b.gc[H],we=te,Oe=S,me=ae,Se=le,Te=(le=B,ae=M,pe.Ea);switch(e(we<Oe),e(Oe<=pe.nc),pe.hc){case 2:hi(me,Se,(Oe-we)*Te,le,ae);break;case 0:var $e=we,Ie=Oe,Ve=le,ze=ae,Xe=(Et=pe).Ea;$e==0&&(i0(me,Se,null,null,1,Ve,ze),Lt(me,Se+1,0,0,Xe-1,Ve,ze+1),Se+=Xe,ze+=Xe,++$e);for(var Ke=1<<Et.b,Ot=Ke-1,gt=_e(Xe,Et.b),ur=Et.K,Et=Et.w+($e>>Et.b)*gt;$e<Ie;){var Nr=ur,Ii=Et,dr=1;for(Lm(me,Se,Ve,ze-Xe,1,Ve,ze);dr<Xe;){var jt=(dr&~Ot)+Ke;jt>Xe&&(jt=Xe),(0,s0[Nr[Ii++]>>8&15])(me,Se+ +dr,Ve,ze+dr-Xe,jt-dr,Ve,ze+dr),dr=jt}Se+=Xe,ze+=Xe,++$e&Ot||(Et+=gt)}Oe!=pe.nc&&n(le,ae-Te,le,ae+(Oe-we-1)*Te,Te);break;case 1:for(Te=me,Ie=Se,Xe=(me=pe.Ea)-(ze=me&~(Ve=(Se=1<<pe.b)-1)),$e=_e(me,pe.b),Ke=pe.K,pe=pe.w+(we>>pe.b)*$e;we<Oe;){for(Ot=Ke,gt=pe,ur=new Me,Et=Ie+ze,Nr=Ie+me;Ie<Et;)Ee(Ot[gt++],ur),o0(ur,Te,Ie,Se,le,ae),Ie+=Se,ae+=Se;Ie<Nr&&(Ee(Ot[gt++],ur),o0(ur,Te,Ie,Xe,le,ae),Ie+=Xe,ae+=Xe),++we&Ve||(pe+=$e)}break;case 3:if(me==le&&Se==ae&&0<pe.b){for(Ie=le,me=Te=ae+(Oe-we)*Te-(ze=(Oe-we)*_e(pe.Ea,pe.b)),Se=le,Ve=ae,$e=[],ze=(Xe=ze)-1;0<=ze;--ze)$e[ze]=Se[Ve+ze];for(ze=Xe-1;0<=ze;--ze)Ie[me+ze]=$e[ze];dw(pe,we,Oe,le,Te,le,ae)}else dw(pe,we,Oe,me,Se,le,ae)}ae=B,le=M}le!=M&&n(B,M,ae,le,Q)}function Ar(b,S){var M=b.V,B=b.Ba+b.c*b.C,H=S-b.C;if(e(S<=b.l.o),e(16>=H),0<H){var Q=b.l,te=b.Ta,ae=b.Ua,le=Q.width;if(tr(b,H,M,B),H=ae=[ae],e((M=b.C)<(B=S)),e(Q.v<Q.va),B>Q.o&&(B=Q.o),M<Q.j){var pe=Q.j-M;M=Q.j,H[0]+=pe*le}if(M>=B?M=0:(H[0]+=4*Q.v,Q.ka=M-Q.j,Q.U=Q.va-Q.v,Q.T=B-M,M=1),M){if(ae=ae[0],11>(M=b.ca).S){var we=M.f.RGBA,Oe=(B=M.S,H=Q.U,Q=Q.T,pe=we.eb,we.A),me=Q;for(we=we.fb+b.Ma*we.A;0<me--;){var Se=te,Te=ae,$e=H,Ie=pe,Ve=we;switch(B){case pw:l0(Se,Te,$e,Ie,Ve);break;case mw:wd(Se,Te,$e,Ie,Ve);break;case nE:wd(Se,Te,$e,Ie,Ve),u0(Ie,Ve,0,$e,1,0);break;case MD:Ff(Se,Te,$e,Ie,Ve);break;case gw:yt(Se,Te,$e,Ie,Ve,1);break;case iE:yt(Se,Te,$e,Ie,Ve,1),u0(Ie,Ve,0,$e,1,0);break;case vw:yt(Se,Te,$e,Ie,Ve,0);break;case yw:yt(Se,Te,$e,Ie,Ve,0),u0(Ie,Ve,1,$e,1,0);break;case rE:_d(Se,Te,$e,Ie,Ve);break;case aE:_d(Se,Te,$e,Ie,Ve),TD(Ie,Ve,$e,1,0);break;case $D:Sd(Se,Te,$e,Ie,Ve);break;default:e(0)}ae+=le,we+=Oe}b.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=M.height)}}b.C=S,e(b.C<=b.i)}function yr(b){var S;if(0<b.ua)return 0;for(S=0;S<b.Wb;++S){var M=b.Ya[S].G,B=b.Ya[S].H;if(0<M[1][B[1]+0].g||0<M[2][B[2]+0].g||0<M[3][B[3]+0].g)return 0}return 1}function cn(b,S,M,B,H,Q){if(b.Z!=0){var te=b.qd,ae=b.rd;for(e(Ed[b.Z]!=null);S<M;++S)Ed[b.Z](te,ae,B,H,B,H,Q),te=B,ae=H,H+=Q;b.qd=te,b.rd=ae}}function un(b,S){var M=b.l.ma,B=M.Z==0||M.Z==1?b.l.j:b.C;if(B=b.C<B?B:b.C,e(S<=b.l.o),S>B){var H=b.l.width,Q=M.ca,te=M.tb+H*B,ae=b.V,le=b.Ba+b.c*B,pe=b.gc;e(b.ab==1),e(pe[0].hc==3),Ql(pe[0],B,S,ae,le,Q,te),cn(M,B,S,Q,te,H)}b.C=b.Ma=S}function Dn(b,S,M,B,H,Q,te){var ae=b.$/B,le=b.$%B,pe=b.m,we=b.s,Oe=M+b.$,me=Oe;H=M+B*H;var Se=M+B*Q,Te=280+we.ua,$e=b.Pb?ae:16777216,Ie=0<we.ua?we.Wa:null,Ve=we.wc,ze=Oe<Se?St(we,le,ae):null;e(b.C<Q),e(Se<=H);var Xe=!1;e:for(;;){for(;Xe||Oe<Se;){var Ke=0;if(ae>=$e){var Ot=Oe-M;e(($e=b).Pb),$e.wd=$e.m,$e.xd=Ot,0<$e.s.ua&&Ae($e.s.Wa,$e.s.vb),$e=ae+Ene}if(le&Ve||(ze=St(we,le,ae)),e(ze!=null),ze.Qb&&(S[Oe]=ze.qb,Xe=!0),!Xe)if(ie(pe),ze.jc){Ke=pe,Ot=S;var gt=Oe,ur=ze.pd[G(Ke)&$f-1];e(ze.jc),256>ur.g?(J(Ke,Ke.u+ur.g),Ot[gt]=ur.value,Ke=0):(J(Ke,Ke.u+ur.g-256),e(256<=ur.value),Ke=ur.value),Ke==0&&(Xe=!0)}else Ke=Jr(ze.G[0],ze.H[0],pe);if(pe.h)break;if(Xe||256>Ke){if(!Xe)if(ze.nd)S[Oe]=(ze.qb|Ke<<8)>>>0;else{if(ie(pe),Xe=Jr(ze.G[1],ze.H[1],pe),ie(pe),Ot=Jr(ze.G[2],ze.H[2],pe),gt=Jr(ze.G[3],ze.H[3],pe),pe.h)break;S[Oe]=(gt<<24|Xe<<16|Ke<<8|Ot)>>>0}if(Xe=!1,++Oe,++le>=B&&(le=0,++ae,te!=null&&ae<=Q&&!(ae%16)&&te(b,ae),Ie!=null))for(;me<Oe;)Ke=S[me++],Ie.X[(506832829*Ke&4294967295)>>>Ie.Mb]=Ke}else if(280>Ke){if(Ke=Dr(Ke-256,pe),Ot=Jr(ze.G[4],ze.H[4],pe),ie(pe),Ot=ln(B,Ot=Dr(Ot,pe)),pe.h)break;if(Oe-M<Ot||H-Oe<Ke)break e;for(gt=0;gt<Ke;++gt)S[Oe+gt]=S[Oe+gt-Ot];for(Oe+=Ke,le+=Ke;le>=B;)le-=B,++ae,te!=null&&ae<=Q&&!(ae%16)&&te(b,ae);if(e(Oe<=H),le&Ve&&(ze=St(we,le,ae)),Ie!=null)for(;me<Oe;)Ke=S[me++],Ie.X[(506832829*Ke&4294967295)>>>Ie.Mb]=Ke}else{if(!(Ke<Te))break e;for(Xe=Ke-280,e(Ie!=null);me<Oe;)Ke=S[me++],Ie.X[(506832829*Ke&4294967295)>>>Ie.Mb]=Ke;Ke=Oe,e(!(Xe>>>(Ot=Ie).Xa)),S[Ke]=Ot.X[Xe],Xe=!0}Xe||e(pe.h==oe(pe))}if(b.Pb&&pe.h&&Oe<H)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ae(b.s.vb,b.s.Wa);else{if(pe.h)break e;te!=null&&te(b,ae>Q?Q:ae),b.a=0,b.$=Oe-M}return 1}return b.a=3,0}function pn(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var S=b.Wa;S!=null&&(S.X=null),b.vb=null,e(b!=null)}function Lr(){var b=new At;return b==null?null:(b.a=0,b.xb=UD,er("Predictor","VP8LPredictors"),er("Predictor","VP8LPredictors_C"),er("PredictorAdd","VP8LPredictorsAdd"),er("PredictorAdd","VP8LPredictorsAdd_C"),hi=vt,o0=Ye,l0=ct,wd=lt,_d=rt,Sd=Ce,Ff=Ct,k.VP8LMapColor32b=Xl,k.VP8LMapColor8b=a0,b)}function Wn(b,S,M,B,H){var Q=1,te=[b],ae=[S],le=B.m,pe=B.s,we=null,Oe=0;e:for(;;){if(M)for(;Q&&ce(le,1);){var me=te,Se=ae,Te=B,$e=1,Ie=Te.m,Ve=Te.gc[Te.ab],ze=ce(Ie,2);if(Te.Oc&1<<ze)Q=0;else{switch(Te.Oc|=1<<ze,Ve.hc=ze,Ve.Ea=me[0],Ve.nc=Se[0],Ve.K=[null],++Te.ab,e(4>=Te.ab),ze){case 0:case 1:Ve.b=ce(Ie,3)+2,$e=Wn(_e(Ve.Ea,Ve.b),_e(Ve.nc,Ve.b),0,Te,Ve.K),Ve.K=Ve.K[0];break;case 3:var Xe,Ke=ce(Ie,8)+1,Ot=16<Ke?0:4<Ke?1:2<Ke?2:3;if(me[0]=_e(Ve.Ea,Ot),Ve.b=Ot,Xe=$e=Wn(Ke,1,0,Te,Ve.K)){var gt,ur=Ke,Et=Ve,Nr=1<<(8>>Et.b),Ii=a(Nr);if(Ii==null)Xe=0;else{var dr=Et.K[0],jt=Et.w;for(Ii[0]=Et.K[0][0],gt=1;gt<1*ur;++gt)Ii[gt]=ke(dr[jt+gt],Ii[gt-1]);for(;gt<4*Nr;++gt)Ii[gt]=0;Et.K[0]=null,Et.K[0]=Ii,Xe=1}}$e=Xe;break;case 2:break;default:e(0)}Q=$e}}if(te=te[0],ae=ae[0],Q&&ce(le,1)&&!(Q=1<=(Oe=ce(le,4))&&11>=Oe)){B.a=3;break e}var at;if(at=Q)t:{var pi,sr,Cr,Mn=B,ia=te,za=ae,ai=Oe,ba=M,qa=Mn.m,Oi=Mn.s,$r=[null],Zr=1,si=0,en=Nne[ai];r:for(;;){if(ba&&ce(qa,1)){var aa=ce(qa,3)+2,il=_e(ia,aa),mi=_e(za,aa),ds=il*mi;if(!Wn(il,mi,0,Mn,$r))break r;for($r=$r[0],Oi.xc=aa,pi=0;pi<ds;++pi){var bn=$r[pi]>>8&65535;$r[pi]=bn,bn>=Zr&&(Zr=bn+1)}}if(qa.h)break r;for(sr=0;5>sr;++sr){var Ri=FD[sr];!sr&&0<ai&&(Ri+=1<<ai),si<Ri&&(si=Ri)}var Vs=s(Zr*en,L),Wa=Zr,zs=s(Wa,re);if(zs==null)var qs=null;else e(65536>=Wa),qs=zs;var hs=a(si);if(qs==null||hs==null||Vs==null){Mn.a=1;break r}var Ws=Vs;for(pi=Cr=0;pi<Zr;++pi){var En=qs[pi],Hs=En.G,al=En.H,Uf=0,tu=1,sa=0;for(sr=0;5>sr;++sr){Ri=FD[sr],Hs[sr]=Ws,al[sr]=Cr,!sr&&0<ai&&(Ri+=1<<ai);i:{var _w,cE=Ri,Sw=Mn,f0=hs,Hne=Ws,Gne=Cr,uE=0,jd=Sw.m,Kne=ce(jd,1);if(i(f0,0,0,cE),Kne){var Yne=ce(jd,1)+1,Xne=ce(jd,1),XD=ce(jd,Xne==0?1:8);f0[XD]=1,Yne==2&&(f0[XD=ce(jd,8)]=1);var Aw=1}else{var QD=a(19),JD=ce(jd,4)+4;if(19<JD){Sw.a=3;var Nw=0;break i}for(_w=0;_w<JD;++_w)QD[Sne[_w]]=ce(jd,3);var dE=void 0,p0=void 0,ZD=Sw,Qne=QD,Ew=cE,e6=f0,hE=0,Pd=ZD.m,t6=8,r6=s(128,L);n:for(;O(r6,0,7,Qne,19);){if(ce(Pd,1)){var Jne=2+2*ce(Pd,3);if((dE=2+ce(Pd,Jne))>Ew)break n}else dE=Ew;for(p0=0;p0<Ew&&dE--;){ie(Pd);var n6=r6[0+(127&G(Pd))];J(Pd,Pd.u+n6.g);var $m=n6.value;if(16>$m)e6[p0++]=$m,$m!=0&&(t6=$m);else{var Zne=$m==16,i6=$m-16,eie=wne[i6],a6=ce(Pd,xne[i6])+eie;if(p0+a6>Ew)break n;for(var tie=Zne?t6:0;0<a6--;)e6[p0++]=tie}}hE=1;break n}hE||(ZD.a=3),Aw=hE}(Aw=Aw&&!jd.h)&&(uE=O(Hne,Gne,8,f0,cE)),Aw&&uE!=0?Nw=uE:(Sw.a=3,Nw=0)}if(Nw==0)break r;if(tu&&_ne[sr]==1&&(tu=Ws[Cr].g==0),Uf+=Ws[Cr].g,Cr+=Nw,3>=sr){var m0,fE=hs[0];for(m0=1;m0<Ri;++m0)hs[m0]>fE&&(fE=hs[m0]);sa+=fE}}if(En.nd=tu,En.Qb=0,tu&&(En.qb=(Hs[3][al[3]+0].value<<24|Hs[1][al[1]+0].value<<16|Hs[2][al[2]+0].value)>>>0,Uf==0&&256>Hs[0][al[0]+0].value&&(En.Qb=1,En.qb+=Hs[0][al[0]+0].value<<8)),En.jc=!En.Qb&&6>sa,En.jc){var jw,ru=En;for(jw=0;jw<$f;++jw){var Td=jw,Cd=ru.pd[Td],Pw=ru.G[0][ru.H[0]+Td];256<=Pw.value?(Cd.g=Pw.g+256,Cd.value=Pw.value):(Cd.g=0,Cd.value=0,Td>>=fn(Pw,8,Cd),Td>>=fn(ru.G[1][ru.H[1]+Td],16,Cd),Td>>=fn(ru.G[2][ru.H[2]+Td],0,Cd),fn(ru.G[3][ru.H[3]+Td],24,Cd))}}}Oi.vc=$r,Oi.Wb=Zr,Oi.Ya=qs,Oi.yc=Vs,at=1;break t}at=0}if(!(Q=at)){B.a=3;break e}if(0<Oe){if(pe.ua=1<<Oe,!ee(pe.Wa,Oe)){B.a=1,Q=0;break e}}else pe.ua=0;var pE=B,s6=te,rie=ae,mE=pE.s,gE=mE.xc;if(pE.c=s6,pE.i=rie,mE.md=_e(s6,gE),mE.wc=gE==0?-1:(1<<gE)-1,M){B.xb=One;break e}if((we=a(te*ae))==null){B.a=1,Q=0;break e}Q=(Q=Dn(B,we,0,te,ae,ae,null))&&!le.h;break e}return Q?(H!=null?H[0]=we:(e(we==null),e(M)),B.$=0,M||pn(pe)):pn(pe),Q}function vo(b,S){var M=b.c*b.i,B=M+S+16*S;return e(b.c<=S),b.V=a(B),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+M+S,1)}function Uc(b,S){var M=b.C,B=S-M,H=b.V,Q=b.Ba+b.c*M;for(e(S<=b.l.o);0<B;){var te=16<B?16:B,ae=b.l.ma,le=b.l.width,pe=le*te,we=ae.ca,Oe=ae.tb+le*M,me=b.Ta,Se=b.Ua;tr(b,te,H,Q),kD(me,Se,we,Oe,pe),cn(ae,M,M+te,we,Oe,le),B-=te,H+=te*b.c,M+=te}e(M==S),b.C=b.Ma=S}function Ul(){this.ub=this.yd=this.td=this.Rb=0}function yo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tl(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Vc(){this.Yb=function(){var b=[];return function S(M,B,H){for(var Q=H[B],te=0;te<Q&&(M.push(H.length>B+1?[]:0),!(H.length<B+1));te++)S(M[te],B+1,H)}(b,0,[3,11]),b}()}function jm(){this.jb=a(3),this.Wc=o([4,8],Vc),this.Xc=o([4,17],Vc)}function jf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Fa(){this.ld=this.La=this.dd=this.tc=0}function od(){this.Na=this.la=0}function ld(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fa),this.Y=0,this.ya=Array(new zc),this.aa=0,this.l=new cd}function Tf(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Cf(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Ul,this.Kc=new yo,this.ed=new jf,this.Qa=new tl,this.Ic=this.$c=this.Aa=0,this.D=new Pf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,F),this.ia=0,this.pb=s(4,ld),this.Pa=new jm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Tf),this.Hd=0,this.rb=Array(new od),this.sb=0,this.wa=Array(new Fa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zc),this.L=this.aa=0,this.gd=o([4,2],Fa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bo(){var b=new Cf;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,d0||(d0=Ls)),b}function Wr(b,S,M){return b.a==0&&(b.a=S,b.sc=M,b.cb=0),0}function Vl(b,S,M){return 3<=M&&b[S+0]==157&&b[S+1]==1&&b[S+2]==42}function zl(b,S){if(b==null)return 0;if(b.a=0,b.sc="OK",S==null)return Wr(b,2,"null VP8Io passed to VP8GetHeaders()");var M=S.data,B=S.w,H=S.ha;if(4>H)return Wr(b,7,"Truncated header.");var Q=M[B+0]|M[B+1]<<8|M[B+2]<<16,te=b.Od;if(te.Rb=!(1&Q),te.td=Q>>1&7,te.yd=Q>>4&1,te.ub=Q>>5,3<te.td)return Wr(b,3,"Incorrect keyframe parameters.");if(!te.yd)return Wr(b,4,"Frame not displayable.");B+=3,H-=3;var ae=b.Kc;if(te.Rb){if(7>H)return Wr(b,7,"cannot parse picture header");if(!Vl(M,B,H))return Wr(b,3,"Bad code word");ae.c=16383&(M[B+4]<<8|M[B+3]),ae.Td=M[B+4]>>6,ae.i=16383&(M[B+6]<<8|M[B+5]),ae.Ud=M[B+6]>>6,B+=7,H-=7,b.za=ae.c+15>>4,b.Ub=ae.i+15>>4,S.width=ae.c,S.height=ae.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((Q=b.Pa).jb,0,255,Q.jb.length),e((Q=b.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(te.ub>H)return Wr(b,7,"bad partition length");Y(Q=b.m,M,B,te.ub),B+=te.ub,H-=te.ub,te.Rb&&(ae.Ld=he(Q),ae.Kd=he(Q)),ae=b.Qa;var le,pe=b.Pa;if(e(Q!=null),e(ae!=null),ae.Cb=he(Q),ae.Cb){if(ae.Bb=he(Q),he(Q)){for(ae.Fb=he(Q),le=0;4>le;++le)ae.Zb[le]=he(Q)?q(Q,7):0;for(le=0;4>le;++le)ae.Lb[le]=he(Q)?q(Q,6):0}if(ae.Bb)for(le=0;3>le;++le)pe.jb[le]=he(Q)?K(Q,8):255}else ae.Bb=0;if(Q.Ka)return Wr(b,3,"cannot parse segment header");if((ae=b.ed).zd=he(Q),ae.Tb=K(Q,6),ae.wb=K(Q,3),ae.Pc=he(Q),ae.Pc&&he(Q)){for(pe=0;4>pe;++pe)he(Q)&&(ae.vd[pe]=q(Q,6));for(pe=0;4>pe;++pe)he(Q)&&(ae.od[pe]=q(Q,6))}if(b.L=ae.Tb==0?0:ae.zd?1:2,Q.Ka)return Wr(b,3,"cannot parse filter header");var we=H;if(H=le=B,B=le+we,ae=we,b.Xb=(1<<K(b.m,2))-1,we<3*(pe=b.Xb))M=7;else{for(le+=3*pe,ae-=3*pe,we=0;we<pe;++we){var Oe=M[H+0]|M[H+1]<<8|M[H+2]<<16;Oe>ae&&(Oe=ae),Y(b.Jc[+we],M,le,Oe),le+=Oe,ae-=Oe,H+=3}Y(b.Jc[+pe],M,le,ae),M=le<B?0:5}if(M!=0)return Wr(b,M,"cannot parse partitions");for(M=K(le=b.m,7),H=he(le)?q(le,4):0,B=he(le)?q(le,4):0,ae=he(le)?q(le,4):0,pe=he(le)?q(le,4):0,le=he(le)?q(le,4):0,we=b.Qa,Oe=0;4>Oe;++Oe){if(we.Cb){var me=we.Zb[Oe];we.Fb||(me+=M)}else{if(0<Oe){b.pb[Oe]=b.pb[0];continue}me=M}var Se=b.pb[Oe];Se.Sc[0]=sE[ii(me+H,127)],Se.Sc[1]=oE[ii(me+0,127)],Se.Eb[0]=2*sE[ii(me+B,127)],Se.Eb[1]=101581*oE[ii(me+ae,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=sE[ii(me+pe,117)],Se.Qc[1]=oE[ii(me+le,127)],Se.lc=me+le}if(!te.Rb)return Wr(b,4,"Not a key frame.");for(he(Q),te=b.Pa,M=0;4>M;++M){for(H=0;8>H;++H)for(B=0;3>B;++B)for(ae=0;11>ae;++ae)pe=P(Q,kne[M][H][B][ae])?K(Q,8):Tne[M][H][B][ae],te.Wc[M][H].Yb[B][ae]=pe;for(H=0;17>H;++H)te.Xc[M][H]=te.Wc[M][Ine[H]]}return b.kc=he(Q),b.kc&&(b.Bd=K(Q,8)),b.cb=1}function Ls(b,S,M,B,H,Q,te){var ae=S[H].Yb[M];for(M=0;16>H;++H){if(!P(b,ae[M+0]))return H;for(;!P(b,ae[M+1]);)if(ae=S[++H].Yb[0],M=0,H==16)return 16;var le=S[H+1].Yb;if(P(b,ae[M+2])){var pe=b,we=0;if(P(pe,(me=ae)[(Oe=M)+3]))if(P(pe,me[Oe+6])){for(ae=0,Oe=2*(we=P(pe,me[Oe+8]))+(me=P(pe,me[Oe+9+we])),we=0,me=jne[Oe];me[ae];++ae)we+=we+P(pe,me[ae]);we+=3+(8<<Oe)}else P(pe,me[Oe+7])?(we=7+2*P(pe,165),we+=P(pe,145)):we=5+P(pe,159);else we=P(pe,me[Oe+4])?3+P(pe,me[Oe+5]):2;ae=le[2]}else we=1,ae=le[1];le=te+Pne[H],0>(pe=b).b&&be(pe);var Oe,me=pe.b,Se=(Oe=pe.Ca>>1)-(pe.I>>me)>>31;--pe.b,pe.Ca+=Se,pe.Ca|=1,pe.I-=(Oe+1&Se)<<me,Q[le]=((we^Se)-Se)*B[(0<H)+0]}return 16}function Mr(b){var S=b.rb[b.sb-1];S.la=0,S.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function ga(b,S,M,B,H){H=b[S+M+32*B]+(H>>3),b[S+M+32*B]=-256&H?0>H?0:255:H}function Ms(b,S,M,B,H,Q){ga(b,S,0,M,B+H),ga(b,S,1,M,B+Q),ga(b,S,2,M,B-Q),ga(b,S,3,M,B-H)}function mn(b){return(20091*b>>16)+b}function kf(b,S,M,B){var H,Q=0,te=a(16);for(H=0;4>H;++H){var ae=b[S+0]+b[S+8],le=b[S+0]-b[S+8],pe=(35468*b[S+4]>>16)-mn(b[S+12]),we=mn(b[S+4])+(35468*b[S+12]>>16);te[Q+0]=ae+we,te[Q+1]=le+pe,te[Q+2]=le-pe,te[Q+3]=ae-we,Q+=4,S++}for(H=Q=0;4>H;++H)ae=(b=te[Q+0]+4)+te[Q+8],le=b-te[Q+8],pe=(35468*te[Q+4]>>16)-mn(te[Q+12]),ga(M,B,0,0,ae+(we=mn(te[Q+4])+(35468*te[Q+12]>>16))),ga(M,B,1,0,le+pe),ga(M,B,2,0,le-pe),ga(M,B,3,0,ae-we),Q++,B+=32}function Pm(b,S,M,B){var H=b[S+0]+4,Q=35468*b[S+4]>>16,te=mn(b[S+4]),ae=35468*b[S+1]>>16;Ms(M,B,0,H+te,b=mn(b[S+1]),ae),Ms(M,B,1,H+Q,b,ae),Ms(M,B,2,H-Q,b,ae),Ms(M,B,3,H-te,b,ae)}function Jy(b,S,M,B,H){kf(b,S,M,B),H&&kf(b,S+16,M,B+4)}function Zy(b,S,M,B){Bf(b,S+0,M,B,1),Bf(b,S+32,M,B+128,1)}function xo(b,S,M,B){var H;for(b=b[S+0]+4,H=0;4>H;++H)for(S=0;4>S;++S)ga(M,B,S,H,b)}function Tm(b,S,M,B){b[S+0]&&Gr(b,S+0,M,B),b[S+16]&&Gr(b,S+16,M,B+4),b[S+32]&&Gr(b,S+32,M,B+128),b[S+48]&&Gr(b,S+48,M,B+128+4)}function ql(b,S,M,B){var H,Q=a(16);for(H=0;4>H;++H){var te=b[S+0+H]+b[S+12+H],ae=b[S+4+H]+b[S+8+H],le=b[S+4+H]-b[S+8+H],pe=b[S+0+H]-b[S+12+H];Q[0+H]=te+ae,Q[8+H]=te-ae,Q[4+H]=pe+le,Q[12+H]=pe-le}for(H=0;4>H;++H)te=(b=Q[0+4*H]+3)+Q[3+4*H],ae=Q[1+4*H]+Q[2+4*H],le=Q[1+4*H]-Q[2+4*H],pe=b-Q[3+4*H],M[B+0]=te+ae>>3,M[B+16]=pe+le>>3,M[B+32]=te-ae>>3,M[B+48]=pe-le>>3,B+=64}function va(b,S,M){var B,H=S-32,Q=Us,te=255-b[H-1];for(B=0;B<M;++B){var ae,le=Q,pe=te+b[S-1];for(ae=0;ae<M;++ae)b[S+ae]=le[pe+b[H+ae]];S+=32}}function ud(b,S){va(b,S,4)}function Cm(b,S){va(b,S,8)}function km(b,S){va(b,S,16)}function Im(b,S){var M;for(M=0;16>M;++M)n(b,S+32*M,b,S-32,16)}function dd(b,S){var M;for(M=16;0<M;--M)i(b,S,b[S-1],16),S+=32}function ls(b,S,M){var B;for(B=0;16>B;++B)i(S,M+32*B,b,16)}function Wl(b,S){var M,B=16;for(M=0;16>M;++M)B+=b[S-1+32*M]+b[S+M-32];ls(B>>5,b,S)}function e0(b,S){var M,B=8;for(M=0;16>M;++M)B+=b[S-1+32*M];ls(B>>4,b,S)}function qc(b,S){var M,B=8;for(M=0;16>M;++M)B+=b[S+M-32];ls(B>>4,b,S)}function cs(b,S){ls(128,b,S)}function Xt(b,S,M){return b+2*S+M+2>>2}function If(b,S){var M,B=S-32;for(B=new Uint8Array([Xt(b[B-1],b[B+0],b[B+1]),Xt(b[B+0],b[B+1],b[B+2]),Xt(b[B+1],b[B+2],b[B+3]),Xt(b[B+2],b[B+3],b[B+4])]),M=0;4>M;++M)n(b,S+32*M,B,0,B.length)}function hd(b,S){var M=b[S-1],B=b[S-1+32],H=b[S-1+64],Q=b[S-1+96];X(b,S+0,16843009*Xt(b[S-1-32],M,B)),X(b,S+32,16843009*Xt(M,B,H)),X(b,S+64,16843009*Xt(B,H,Q)),X(b,S+96,16843009*Xt(H,Q,Q))}function Om(b,S){var M,B=4;for(M=0;4>M;++M)B+=b[S+M-32]+b[S-1+32*M];for(B>>=3,M=0;4>M;++M)i(b,S+32*M,B,4)}function Wc(b,S){var M=b[S-1+0],B=b[S-1+32],H=b[S-1+64],Q=b[S-1-32],te=b[S+0-32],ae=b[S+1-32],le=b[S+2-32],pe=b[S+3-32];b[S+0+96]=Xt(B,H,b[S-1+96]),b[S+1+96]=b[S+0+64]=Xt(M,B,H),b[S+2+96]=b[S+1+64]=b[S+0+32]=Xt(Q,M,B),b[S+3+96]=b[S+2+64]=b[S+1+32]=b[S+0+0]=Xt(te,Q,M),b[S+3+64]=b[S+2+32]=b[S+1+0]=Xt(ae,te,Q),b[S+3+32]=b[S+2+0]=Xt(le,ae,te),b[S+3+0]=Xt(pe,le,ae)}function Ba(b,S){var M=b[S+1-32],B=b[S+2-32],H=b[S+3-32],Q=b[S+4-32],te=b[S+5-32],ae=b[S+6-32],le=b[S+7-32];b[S+0+0]=Xt(b[S+0-32],M,B),b[S+1+0]=b[S+0+32]=Xt(M,B,H),b[S+2+0]=b[S+1+32]=b[S+0+64]=Xt(B,H,Q),b[S+3+0]=b[S+2+32]=b[S+1+64]=b[S+0+96]=Xt(H,Q,te),b[S+3+32]=b[S+2+64]=b[S+1+96]=Xt(Q,te,ae),b[S+3+64]=b[S+2+96]=Xt(te,ae,le),b[S+3+96]=Xt(ae,le,le)}function wo(b,S){var M=b[S-1+0],B=b[S-1+32],H=b[S-1+64],Q=b[S-1-32],te=b[S+0-32],ae=b[S+1-32],le=b[S+2-32],pe=b[S+3-32];b[S+0+0]=b[S+1+64]=Q+te+1>>1,b[S+1+0]=b[S+2+64]=te+ae+1>>1,b[S+2+0]=b[S+3+64]=ae+le+1>>1,b[S+3+0]=le+pe+1>>1,b[S+0+96]=Xt(H,B,M),b[S+0+64]=Xt(B,M,Q),b[S+0+32]=b[S+1+96]=Xt(M,Q,te),b[S+1+32]=b[S+2+96]=Xt(Q,te,ae),b[S+2+32]=b[S+3+96]=Xt(te,ae,le),b[S+3+32]=Xt(ae,le,pe)}function Of(b,S){var M=b[S+0-32],B=b[S+1-32],H=b[S+2-32],Q=b[S+3-32],te=b[S+4-32],ae=b[S+5-32],le=b[S+6-32],pe=b[S+7-32];b[S+0+0]=M+B+1>>1,b[S+1+0]=b[S+0+64]=B+H+1>>1,b[S+2+0]=b[S+1+64]=H+Q+1>>1,b[S+3+0]=b[S+2+64]=Q+te+1>>1,b[S+0+32]=Xt(M,B,H),b[S+1+32]=b[S+0+96]=Xt(B,H,Q),b[S+2+32]=b[S+1+96]=Xt(H,Q,te),b[S+3+32]=b[S+2+96]=Xt(Q,te,ae),b[S+3+64]=Xt(te,ae,le),b[S+3+96]=Xt(ae,le,pe)}function Sn(b,S){var M=b[S-1+0],B=b[S-1+32],H=b[S-1+64],Q=b[S-1+96];b[S+0+0]=M+B+1>>1,b[S+2+0]=b[S+0+32]=B+H+1>>1,b[S+2+32]=b[S+0+64]=H+Q+1>>1,b[S+1+0]=Xt(M,B,H),b[S+3+0]=b[S+1+32]=Xt(B,H,Q),b[S+3+32]=b[S+1+64]=Xt(H,Q,Q),b[S+3+64]=b[S+2+64]=b[S+0+96]=b[S+1+96]=b[S+2+96]=b[S+3+96]=Q}function fd(b,S){var M=b[S-1+0],B=b[S-1+32],H=b[S-1+64],Q=b[S-1+96],te=b[S-1-32],ae=b[S+0-32],le=b[S+1-32],pe=b[S+2-32];b[S+0+0]=b[S+2+32]=M+te+1>>1,b[S+0+32]=b[S+2+64]=B+M+1>>1,b[S+0+64]=b[S+2+96]=H+B+1>>1,b[S+0+96]=Q+H+1>>1,b[S+3+0]=Xt(ae,le,pe),b[S+2+0]=Xt(te,ae,le),b[S+1+0]=b[S+3+32]=Xt(M,te,ae),b[S+1+32]=b[S+3+64]=Xt(B,M,te),b[S+1+64]=b[S+3+96]=Xt(H,B,M),b[S+1+96]=Xt(Q,H,B)}function Rf(b,S){var M;for(M=0;8>M;++M)n(b,S+32*M,b,S-32,8)}function Hl(b,S){var M;for(M=0;8>M;++M)i(b,S,b[S-1],8),S+=32}function Hc(b,S,M){var B;for(B=0;8>B;++B)i(S,M+32*B,b,8)}function Gc(b,S){var M,B=8;for(M=0;8>M;++M)B+=b[S+M-32]+b[S-1+32*M];Hc(B>>4,b,S)}function pd(b,S){var M,B=4;for(M=0;8>M;++M)B+=b[S+M-32];Hc(B>>3,b,S)}function us(b,S){var M,B=4;for(M=0;8>M;++M)B+=b[S-1+32*M];Hc(B>>3,b,S)}function md(b,S){Hc(128,b,S)}function Kc(b,S,M){var B=b[S-M],H=b[S+0],Q=3*(H-B)+tE[1020+b[S-2*M]-b[S+M]],te=fw[112+(Q+4>>3)];b[S-M]=Us[255+B+fw[112+(Q+3>>3)]],b[S+0]=Us[255+H-te]}function $s(b,S,M,B){var H=b[S+0],Q=b[S+M];return Eo[255+b[S-2*M]-b[S-M]]>B||Eo[255+Q-H]>B}function gd(b,S,M,B){return 4*Eo[255+b[S-M]-b[S+0]]+Eo[255+b[S-2*M]-b[S+M]]<=B}function Gl(b,S,M,B,H){var Q=b[S-3*M],te=b[S-2*M],ae=b[S-M],le=b[S+0],pe=b[S+M],we=b[S+2*M],Oe=b[S+3*M];return 4*Eo[255+ae-le]+Eo[255+te-pe]>B?0:Eo[255+b[S-4*M]-Q]<=H&&Eo[255+Q-te]<=H&&Eo[255+te-ae]<=H&&Eo[255+Oe-we]<=H&&Eo[255+we-pe]<=H&&Eo[255+pe-le]<=H}function Kl(b,S,M,B){var H=2*B+1;for(B=0;16>B;++B)gd(b,S+B,M,H)&&Kc(b,S+B,M)}function Yl(b,S,M,B){var H=2*B+1;for(B=0;16>B;++B)gd(b,S+B*M,1,H)&&Kc(b,S+B*M,1)}function Yc(b,S,M,B){var H;for(H=3;0<H;--H)Kl(b,S+=4*M,M,B)}function Rm(b,S,M,B){var H;for(H=3;0<H;--H)Yl(b,S+=4,M,B)}function _o(b,S,M,B,H,Q,te,ae){for(Q=2*Q+1;0<H--;){if(Gl(b,S,M,Q,te))if($s(b,S,M,ae))Kc(b,S,M);else{var le=b,pe=S,we=M,Oe=le[pe-2*we],me=le[pe-we],Se=le[pe+0],Te=le[pe+we],$e=le[pe+2*we],Ie=27*(ze=tE[1020+3*(Se-me)+tE[1020+Oe-Te]])+63>>7,Ve=18*ze+63>>7,ze=9*ze+63>>7;le[pe-3*we]=Us[255+le[pe-3*we]+ze],le[pe-2*we]=Us[255+Oe+Ve],le[pe-we]=Us[255+me+Ie],le[pe+0]=Us[255+Se-Ie],le[pe+we]=Us[255+Te-Ve],le[pe+2*we]=Us[255+$e-ze]}S+=B}}function Ua(b,S,M,B,H,Q,te,ae){for(Q=2*Q+1;0<H--;){if(Gl(b,S,M,Q,te))if($s(b,S,M,ae))Kc(b,S,M);else{var le=b,pe=S,we=M,Oe=le[pe-we],me=le[pe+0],Se=le[pe+we],Te=fw[112+(4+($e=3*(me-Oe))>>3)],$e=fw[112+($e+3>>3)],Ie=Te+1>>1;le[pe-2*we]=Us[255+le[pe-2*we]+Ie],le[pe-we]=Us[255+Oe+$e],le[pe+0]=Us[255+me-Te],le[pe+we]=Us[255+Se-Ie]}S+=B}}function Df(b,S,M,B,H,Q){_o(b,S,M,1,16,B,H,Q)}function Lf(b,S,M,B,H,Q){_o(b,S,1,M,16,B,H,Q)}function rl(b,S,M,B,H,Q){var te;for(te=3;0<te;--te)Ua(b,S+=4*M,M,1,16,B,H,Q)}function vd(b,S,M,B,H,Q){var te;for(te=3;0<te;--te)Ua(b,S+=4,1,M,16,B,H,Q)}function R(b,S,M,B,H,Q,te,ae){_o(b,S,H,1,8,Q,te,ae),_o(M,B,H,1,8,Q,te,ae)}function W(b,S,M,B,H,Q,te,ae){_o(b,S,1,H,8,Q,te,ae),_o(M,B,1,H,8,Q,te,ae)}function fe(b,S,M,B,H,Q,te,ae){Ua(b,S+4*H,H,1,8,Q,te,ae),Ua(M,B+4*H,H,1,8,Q,te,ae)}function ye(b,S,M,B,H,Q,te,ae){Ua(b,S+4,1,H,8,Q,te,ae),Ua(M,B+4,1,H,8,Q,te,ae)}function Ne(){this.ba=new Mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function He(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ft(){this.ua=0,this.Wa=new De,this.vb=new De,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new L}function At(){this.xb=this.a=0,this.l=new cd,this.ca=new Mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ft,this.ab=0,this.gc=s(4,He),this.Oc=0}function Vt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function It(b,S,M,B,H,Q,te){for(b=b==null?0:b[S+0],S=0;S<te;++S)H[Q+S]=b+M[B+S]&255,b=H[Q+S]}function Tr(b,S,M,B,H,Q,te){var ae;if(b==null)It(null,null,M,B,H,Q,te);else for(ae=0;ae<te;++ae)H[Q+ae]=b[S+ae]+M[B+ae]&255}function An(b,S,M,B,H,Q,te){if(b==null)It(null,null,M,B,H,Q,te);else{var ae,le=b[S+0],pe=le,we=le;for(ae=0;ae<te;++ae)pe=we+(le=b[S+ae])-pe,we=M[B+ae]+(-256&pe?0>pe?0:255:pe)&255,pe=le,H[Q+ae]=we}}function gn(b,S,M,B){var H=S.width,Q=S.o;if(e(b!=null&&S!=null),0>M||0>=B||M+B>Q)return null;if(!b.Cc){if(b.ga==null){var te;if(b.ga=new Vt,(te=b.ga==null)||(te=S.width*S.o,e(b.Gb.length==0),b.Gb=a(te),b.Uc=0,b.Gb==null?te=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,te=1),te=!te),!te){te=b.ga;var ae=b.Fa,le=b.P,pe=b.qc,we=b.mb,Oe=b.nb,me=le+1,Se=pe-1,Te=te.l;if(e(ae!=null&&we!=null&&S!=null),Ed[0]=null,Ed[1]=It,Ed[2]=Tr,Ed[3]=An,te.ca=we,te.tb=Oe,te.c=S.width,te.i=S.height,e(0<te.c&&0<te.i),1>=pe)S=0;else if(te.$a=3&ae[le+0],te.Z=ae[le+0]>>2&3,te.Lc=ae[le+0]>>4&3,le=ae[le+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||le)S=0;else if(Te.put=ot,Te.ac=cr,Te.bc=Qn,Te.ma=te,Te.width=S.width,Te.height=S.height,Te.Da=S.Da,Te.v=S.v,Te.va=S.va,Te.j=S.j,Te.o=S.o,te.$a)e:{e(te.$a==1),S=Lr();t:for(;;){if(S==null){S=0;break e}if(e(te!=null),te.mc=S,S.c=te.c,S.i=te.i,S.l=te.l,S.l.ma=te,S.l.width=te.c,S.l.height=te.i,S.a=0,Z(S.m,ae,me,Se),!Wn(te.c,te.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&yr(S.s)?(te.ic=1,ae=S.c*S.i,S.Ta=null,S.Ua=0,S.V=a(ae),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(te.ic=0,S=vo(S,te.c)),!S))break t;S=1;break e}te.mc=null,S=0}else S=Se>=te.c*te.i;te=!S}if(te)return null;b.ga.Lc!=1?b.Ga=0:B=Q-M}e(b.ga!=null),e(M+B<=Q);e:{if(S=(ae=b.ga).c,Q=ae.l.o,ae.$a==0){if(me=b.rc,Se=b.Vc,Te=b.Fa,le=b.P+1+M*S,pe=b.mb,we=b.nb+M*S,e(le<=b.P+b.qc),ae.Z!=0)for(e(Ed[ae.Z]!=null),te=0;te<B;++te)Ed[ae.Z](me,Se,Te,le,pe,we,S),me=pe,Se=we,we+=S,le+=S;else for(te=0;te<B;++te)n(pe,we,Te,le,S),me=pe,Se=we,we+=S,le+=S;b.rc=me,b.Vc=Se}else{if(e(ae.mc!=null),S=M+B,e((te=ae.mc)!=null),e(S<=te.i),te.C>=S)S=1;else if(ae.ic||Pe(),ae.ic){ae=te.V,me=te.Ba,Se=te.c;var $e=te.i,Ie=(Te=1,le=te.$/Se,pe=te.$%Se,we=te.m,Oe=te.s,te.$),Ve=Se*$e,ze=Se*S,Xe=Oe.wc,Ke=Ie<ze?St(Oe,pe,le):null;e(Ie<=Ve),e(S<=$e),e(yr(Oe));t:for(;;){for(;!we.h&&Ie<ze;){if(pe&Xe||(Ke=St(Oe,pe,le)),e(Ke!=null),ie(we),256>($e=Jr(Ke.G[0],Ke.H[0],we)))ae[me+Ie]=$e,++Ie,++pe>=Se&&(pe=0,++le<=S&&!(le%16)&&un(te,le));else{if(!(280>$e)){Te=0;break t}$e=Dr($e-256,we);var Ot,gt=Jr(Ke.G[4],Ke.H[4],we);if(ie(we),!(Ie>=(gt=ln(Se,gt=Dr(gt,we)))&&Ve-Ie>=$e)){Te=0;break t}for(Ot=0;Ot<$e;++Ot)ae[me+Ie+Ot]=ae[me+Ie+Ot-gt];for(Ie+=$e,pe+=$e;pe>=Se;)pe-=Se,++le<=S&&!(le%16)&&un(te,le);Ie<ze&&pe&Xe&&(Ke=St(Oe,pe,le))}e(we.h==oe(we))}un(te,le>S?S:le);break t}!Te||we.h&&Ie<Ve?(Te=0,te.a=we.h?5:3):te.$=Ie,S=Te}else S=Dn(te,te.V,te.Ba,te.c,te.i,S,Uc);if(!S){B=0;break e}}M+B>=Q&&(b.Cc=1),B=1}if(!B)return null;if(b.Cc&&((B=b.ga)!=null&&(B.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+M*H}function w(b,S,M,B,H,Q){for(;0<H--;){var te,ae=b,le=S+(M?1:0),pe=b,we=S+(M?0:3);for(te=0;te<B;++te){var Oe=pe[we+4*te];Oe!=255&&(Oe*=32897,ae[le+4*te+0]=ae[le+4*te+0]*Oe>>23,ae[le+4*te+1]=ae[le+4*te+1]*Oe>>23,ae[le+4*te+2]=ae[le+4*te+2]*Oe>>23)}S+=Q}}function $(b,S,M,B,H){for(;0<B--;){var Q;for(Q=0;Q<M;++Q){var te=b[S+2*Q+0],ae=15&(pe=b[S+2*Q+1]),le=4369*ae,pe=(240&pe|pe>>4)*le>>16;b[S+2*Q+0]=(240&te|te>>4)*le>>16&240|(15&te|te<<4)*le>>16>>4&15,b[S+2*Q+1]=240&pe|ae}S+=H}}function U(b,S,M,B,H,Q,te,ae){var le,pe,we=255;for(pe=0;pe<H;++pe){for(le=0;le<B;++le){var Oe=b[S+le];Q[te+4*le]=Oe,we&=Oe}S+=M,te+=ae}return we!=255}function se(b,S,M,B,H){var Q;for(Q=0;Q<H;++Q)M[B+Q]=b[S+Q]>>8}function Pe(){u0=w,TD=$,CD=U,kD=se}function Re(b,S,M){k[b]=function(B,H,Q,te,ae,le,pe,we,Oe,me,Se,Te,$e,Ie,Ve,ze,Xe){var Ke,Ot=Xe-1>>1,gt=ae[le+0]|pe[we+0]<<16,ur=Oe[me+0]|Se[Te+0]<<16;e(B!=null);var Et=3*gt+ur+131074>>2;for(S(B[H+0],255&Et,Et>>16,$e,Ie),Q!=null&&(Et=3*ur+gt+131074>>2,S(Q[te+0],255&Et,Et>>16,Ve,ze)),Ke=1;Ke<=Ot;++Ke){var Nr=ae[le+Ke]|pe[we+Ke]<<16,Ii=Oe[me+Ke]|Se[Te+Ke]<<16,dr=gt+Nr+ur+Ii+524296,jt=dr+2*(Nr+ur)>>3;Et=jt+gt>>1,gt=(dr=dr+2*(gt+Ii)>>3)+Nr>>1,S(B[H+2*Ke-1],255&Et,Et>>16,$e,Ie+(2*Ke-1)*M),S(B[H+2*Ke-0],255&gt,gt>>16,$e,Ie+(2*Ke-0)*M),Q!=null&&(Et=dr+ur>>1,gt=jt+Ii>>1,S(Q[te+2*Ke-1],255&Et,Et>>16,Ve,ze+(2*Ke-1)*M),S(Q[te+2*Ke+0],255&gt,gt>>16,Ve,ze+(2*Ke+0)*M)),gt=Nr,ur=Ii}1&Xe||(Et=3*gt+ur+131074>>2,S(B[H+Xe-1],255&Et,Et>>16,$e,Ie+(Xe-1)*M),Q!=null&&(Et=3*ur+gt+131074>>2,S(Q[te+Xe-1],255&Et,Et>>16,Ve,ze+(Xe-1)*M)))}}function nt(){jo[pw]=Rne,jo[mw]=VD,jo[MD]=Dne,jo[gw]=zD,jo[vw]=qD,jo[rE]=WD,jo[$D]=Lne,jo[nE]=VD,jo[iE]=zD,jo[yw]=qD,jo[aE]=WD}function Qt(b){return b&~Mne?0>b?0:255:b>>HD}function vn(b,S){return Qt((19077*b>>8)+(26149*S>>8)-14234)}function xr(b,S,M){return Qt((19077*b>>8)-(6419*S>>8)-(13320*M>>8)+8708)}function Nn(b,S){return Qt((19077*b>>8)+(33050*S>>8)-17685)}function Gi(b,S,M,B,H){B[H+0]=vn(b,M),B[H+1]=xr(b,S,M),B[H+2]=Nn(b,S)}function Va(b,S,M,B,H){B[H+0]=Nn(b,S),B[H+1]=xr(b,S,M),B[H+2]=vn(b,M)}function Ln(b,S,M,B,H){var Q=xr(b,S,M);S=Q<<3&224|Nn(b,S)>>3,B[H+0]=248&vn(b,M)|Q>>5,B[H+1]=S}function ya(b,S,M,B,H){var Q=240&Nn(b,S)|15;B[H+0]=240&vn(b,M)|xr(b,S,M)>>4,B[H+1]=Q}function So(b,S,M,B,H){B[H+0]=255,Gi(b,S,M,B,H+1)}function Xc(b,S,M,B,H){Va(b,S,M,B,H),B[H+3]=255}function t0(b,S,M,B,H){Gi(b,S,M,B,H),B[H+3]=255}function ii(b,S){return 0>b?0:b>S?S:b}function Qc(b,S,M){k[b]=function(B,H,Q,te,ae,le,pe,we,Oe){for(var me=we+(-2&Oe)*M;we!=me;)S(B[H+0],Q[te+0],ae[le+0],pe,we),S(B[H+1],Q[te+0],ae[le+0],pe,we+M),H+=2,++te,++le,we+=2*M;1&Oe&&S(B[H+0],Q[te+0],ae[le+0],pe,we)}}function Dm(b,S,M){return M==0?b==0?S==0?6:5:S==0?4:0:M}function uw(b,S,M,B,H){switch(b>>>30){case 3:Bf(S,M,B,H,0);break;case 2:No(S,M,B,H);break;case 1:Gr(S,M,B,H)}}function Ao(b,S){var M,B,H=S.M,Q=S.Nb,te=b.oc,ae=b.pc+40,le=b.oc,pe=b.pc+584,we=b.oc,Oe=b.pc+600;for(M=0;16>M;++M)te[ae+32*M-1]=129;for(M=0;8>M;++M)le[pe+32*M-1]=129,we[Oe+32*M-1]=129;for(0<H?te[ae-1-32]=le[pe-1-32]=we[Oe-1-32]=129:(i(te,ae-32-1,127,21),i(le,pe-32-1,127,9),i(we,Oe-32-1,127,9)),B=0;B<b.za;++B){var me=S.ya[S.aa+B];if(0<B){for(M=-1;16>M;++M)n(te,ae+32*M-4,te,ae+32*M+12,4);for(M=-1;8>M;++M)n(le,pe+32*M-4,le,pe+32*M+4,4),n(we,Oe+32*M-4,we,Oe+32*M+4,4)}var Se=b.Gd,Te=b.Hd+B,$e=me.ad,Ie=me.Hc;if(0<H&&(n(te,ae-32,Se[Te].y,0,16),n(le,pe-32,Se[Te].f,0,8),n(we,Oe-32,Se[Te].ea,0,8)),me.Za){var Ve=te,ze=ae-32+16;for(0<H&&(B>=b.za-1?i(Ve,ze,Se[Te].y[15],4):n(Ve,ze,Se[Te+1].y,0,4)),M=0;4>M;M++)Ve[ze+128+M]=Ve[ze+256+M]=Ve[ze+384+M]=Ve[ze+0+M];for(M=0;16>M;++M,Ie<<=2)Ve=te,ze=ae+KD[M],nl[me.Ob[M]](Ve,ze),uw(Ie,$e,16*+M,Ve,ze)}else if(Ve=Dm(B,H,me.Ob[0]),Nd[Ve](te,ae),Ie!=0)for(M=0;16>M;++M,Ie<<=2)uw(Ie,$e,16*+M,te,ae+KD[M]);for(M=me.Gc,Ve=Dm(B,H,me.Dd),eu[Ve](le,pe),eu[Ve](we,Oe),Ie=$e,Ve=le,ze=pe,255&(me=0|M)&&(170&me?Jl(Ie,256,Ve,ze):yn(Ie,256,Ve,ze)),me=we,Ie=Oe,255&(M>>=8)&&(170&M?Jl($e,320,me,Ie):yn($e,320,me,Ie)),H<b.Ub-1&&(n(Se[Te].y,0,te,ae+480,16),n(Se[Te].f,0,le,pe+224,8),n(Se[Te].ea,0,we,Oe+224,8)),M=8*Q*b.B,Se=b.sa,Te=b.ta+16*B+16*Q*b.R,$e=b.qa,me=b.ra+8*B+M,Ie=b.Ha,Ve=b.Ia+8*B+M,M=0;16>M;++M)n(Se,Te+M*b.R,te,ae+32*M,16);for(M=0;8>M;++M)n($e,me+M*b.B,le,pe+32*M,8),n(Ie,Ve+M*b.B,we,Oe+32*M,8)}}function Mf(b,S,M,B,H,Q,te,ae,le){var pe=[0],we=[0],Oe=0,me=le!=null?le.kd:0,Se=le??new Fe;if(b==null||12>M)return 7;Se.data=b,Se.w=S,Se.ha=M,S=[S],M=[M],Se.gb=[Se.gb];e:{var Te=S,$e=M,Ie=Se.gb;if(e(b!=null),e($e!=null),e(Ie!=null),Ie[0]=0,12<=$e[0]&&!r(b,Te[0],"RIFF")){if(r(b,Te[0]+8,"WEBP")){Ie=3;break e}var Ve=ge(b,Te[0]+4);if(12>Ve||4294967286<Ve){Ie=3;break e}if(me&&Ve>$e[0]-8){Ie=7;break e}Ie[0]=Ve,Te[0]+=12,$e[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Ve=0<Se.gb[0],M=M[0];;){e:{var ze=b;$e=S,Ie=M;var Xe=pe,Ke=we,Ot=Te=[0];if((Et=Oe=[Oe])[0]=0,8>Ie[0])Ie=7;else{if(!r(ze,$e[0],"VP8X")){if(ge(ze,$e[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var gt=ge(ze,$e[0]+8),ur=1+de(ze,$e[0]+12);if(2147483648<=ur*(ze=1+de(ze,$e[0]+15))){Ie=3;break e}Ot!=null&&(Ot[0]=gt),Xe!=null&&(Xe[0]=ur),Ke!=null&&(Ke[0]=ze),$e[0]+=18,Ie[0]-=18,Et[0]=1}Ie=0}}if(Oe=Oe[0],Te=Te[0],Ie!=0)return Ie;if($e=!!(2&Te),!Ve&&Oe)return 3;if(Q!=null&&(Q[0]=!!(16&Te)),te!=null&&(te[0]=$e),ae!=null&&(ae[0]=0),te=pe[0],Te=we[0],Oe&&$e&&le==null){Ie=0;break}if(4>M){Ie=7;break}if(Ve&&Oe||!Ve&&!Oe&&!r(b,S[0],"ALPH")){M=[M],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{gt=b,Ie=S,Ve=M;var Et=Se.gb;Xe=Se.na,Ke=Se.P,Ot=Se.Sa,ur=22,e(gt!=null),e(Ve!=null),ze=Ie[0];var Nr=Ve[0];for(e(Xe!=null),e(Ot!=null),Xe[0]=null,Ke[0]=null,Ot[0]=0;;){if(Ie[0]=ze,Ve[0]=Nr,8>Nr){Ie=7;break e}var Ii=ge(gt,ze+4);if(4294967286<Ii){Ie=3;break e}var dr=8+Ii+1&-2;if(ur+=dr,0<Et&&ur>Et){Ie=3;break e}if(!r(gt,ze,"VP8 ")||!r(gt,ze,"VP8L")){Ie=0;break e}if(Nr[0]<dr){Ie=7;break e}r(gt,ze,"ALPH")||(Xe[0]=gt,Ke[0]=ze+8,Ot[0]=Ii),ze+=dr,Nr-=dr}}if(M=M[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],Ie!=0)break}M=[M],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(Et=b,Ie=S,Ve=M,Xe=Se.gb[0],Ke=Se.Ja,Ot=Se.xa,gt=Ie[0],ze=!r(Et,gt,"VP8 "),ur=!r(Et,gt,"VP8L"),e(Et!=null),e(Ve!=null),e(Ke!=null),e(Ot!=null),8>Ve[0])Ie=7;else{if(ze||ur){if(Et=ge(Et,gt+4),12<=Xe&&Et>Xe-12){Ie=3;break e}if(me&&Et>Ve[0]-8){Ie=7;break e}Ke[0]=Et,Ie[0]+=8,Ve[0]-=8,Ot[0]=ur}else Ot[0]=5<=Ve[0]&&Et[gt+0]==47&&!(Et[gt+4]>>5),Ke[0]=Ve[0];Ie=0}if(M=M[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],S=S[0],Ie!=0)break;if(4294967286<Se.Ja)return 3;if(ae==null||$e||(ae[0]=Se.xa?2:1),te=[te],Te=[Te],Se.xa){if(5>M){Ie=7;break}ae=te,me=Te,$e=Q,b==null||5>M?b=0:5<=M&&b[S+0]==47&&!(b[S+4]>>5)?(Ve=[0],Et=[0],Xe=[0],Z(Ke=new V,b,S,M),Rn(Ke,Ve,Et,Xe)?(ae!=null&&(ae[0]=Ve[0]),me!=null&&(me[0]=Et[0]),$e!=null&&($e[0]=Xe[0]),b=1):b=0):b=0}else{if(10>M){Ie=7;break}ae=Te,b==null||10>M||!Vl(b,S+3,M-3)?b=0:(me=b[S+0]|b[S+1]<<8|b[S+2]<<16,$e=16383&(b[S+7]<<8|b[S+6]),b=16383&(b[S+9]<<8|b[S+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Se.Ja||!$e||!b?b=0:(te&&(te[0]=$e),ae&&(ae[0]=b),b=1))}if(!b||(te=te[0],Te=Te[0],Oe&&(pe[0]!=te||we[0]!=Te)))return 3;le!=null&&(le[0]=Se,le.offset=S-le.w,e(4294967286>S-le.w),e(le.offset==le.ha-M));break}return Ie==0||Ie==7&&Oe&&le==null?(Q!=null&&(Q[0]|=Se.na!=null&&0<Se.na.length),B!=null&&(B[0]=te),H!=null&&(H[0]=Te),0):Ie}function r0(b,S,M){var B=S.width,H=S.height,Q=0,te=0,ae=B,le=H;if(S.Da=b!=null&&0<b.Da,S.Da&&(ae=b.cd,le=b.bd,Q=b.v,te=b.j,11>M||(Q&=-2,te&=-2),0>Q||0>te||0>=ae||0>=le||Q+ae>B||te+le>H))return 0;if(S.v=Q,S.j=te,S.va=Q+ae,S.o=te+le,S.U=ae,S.T=le,S.da=b!=null&&0<b.da,S.da){if(!Le(ae,le,M=[b.ib],Q=[b.hb]))return 0;S.ib=M[0],S.hb=Q[0]}return S.ob=b!=null&&b.ob,S.Kb=b==null||!b.Sd,S.da&&(S.ob=S.ib<3*B/4&&S.hb<3*H/4,S.Kb=0),1}function n0(b){if(b==null)return 2;if(11>b.S){var S=b.f.RGBA;S.fb+=(b.height-1)*S.A,S.A=-S.A}else S=b.f.kb,b=b.height,S.O+=(b-1)*S.fa,S.fa=-S.fa,S.N+=(b-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(b-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(b-1)*S.lb,S.lb=-S.lb);return 0}function yd(b,S,M,B){if(B==null||0>=b||0>=S)return 2;if(M!=null){if(M.Da){var H=M.cd,Q=M.bd,te=-2&M.v,ae=-2&M.j;if(0>te||0>ae||0>=H||0>=Q||te+H>b||ae+Q>S)return 2;b=H,S=Q}if(M.da){if(!Le(b,S,H=[M.ib],Q=[M.hb]))return 2;b=H[0],S=Q[0]}}B.width=b,B.height=S;e:{var le=B.width,pe=B.height;if(b=B.S,0>=le||0>=pe||!(b>=pw&&13>b))b=2;else{if(0>=B.Rd&&B.sd==null){te=Q=H=S=0;var we=(ae=le*YD[b])*pe;if(11>b||(Q=(pe+1)/2*(S=(le+1)/2),b==12&&(te=(H=le)*pe)),(pe=a(we+2*Q+te))==null){b=1;break e}B.sd=pe,11>b?((le=B.f.RGBA).eb=pe,le.fb=0,le.A=ae,le.size=we):((le=B.f.kb).y=pe,le.O=0,le.fa=ae,le.Fd=we,le.f=pe,le.N=0+we,le.Ab=S,le.Cd=Q,le.ea=pe,le.W=0+we+Q,le.Db=S,le.Ed=Q,b==12&&(le.F=pe,le.J=0+we+2*Q),le.Tc=te,le.lb=H)}if(S=1,H=B.S,Q=B.width,te=B.height,H>=pw&&13>H)if(11>H)b=B.f.RGBA,S&=(ae=Math.abs(b.A))*(te-1)+Q<=b.size,S&=ae>=Q*YD[H],S&=b.eb!=null;else{b=B.f.kb,ae=(Q+1)/2,we=(te+1)/2,le=Math.abs(b.fa),pe=Math.abs(b.Ab);var Oe=Math.abs(b.Db),me=Math.abs(b.lb),Se=me*(te-1)+Q;S&=le*(te-1)+Q<=b.Fd,S&=pe*(we-1)+ae<=b.Cd,S=(S&=Oe*(we-1)+ae<=b.Ed)&le>=Q&pe>=ae&Oe>=ae,S&=b.y!=null,S&=b.f!=null,S&=b.ea!=null,H==12&&(S&=me>=Q,S&=Se<=b.Tc,S&=b.F!=null)}else S=0;b=S?0:2}}return b!=0||M!=null&&M.fd&&(b=n0(B)),b}var $f=64,Fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bs=24,bd=32,Jc=8,xd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(b){return b},k.Predictor2=function(b,S,M){return S[M+0]},k.Predictor3=function(b,S,M){return S[M+1]},k.Predictor4=function(b,S,M){return S[M-1]},k.Predictor5=function(b,S,M){return et(et(b,S[M+1]),S[M+0])},k.Predictor6=function(b,S,M){return et(b,S[M-1])},k.Predictor7=function(b,S,M){return et(b,S[M+0])},k.Predictor8=function(b,S,M){return et(S[M-1],S[M+0])},k.Predictor9=function(b,S,M){return et(S[M+0],S[M+1])},k.Predictor10=function(b,S,M){return et(et(b,S[M-1]),et(S[M+0],S[M+1]))},k.Predictor11=function(b,S,M){var B=S[M+0];return 0>=ut(B>>24&255,b>>24&255,(S=S[M-1])>>24&255)+ut(B>>16&255,b>>16&255,S>>16&255)+ut(B>>8&255,b>>8&255,S>>8&255)+ut(255&B,255&b,255&S)?B:b},k.Predictor12=function(b,S,M){var B=S[M+0];return(Yt((b>>24&255)+(B>>24&255)-((S=S[M-1])>>24&255))<<24|Yt((b>>16&255)+(B>>16&255)-(S>>16&255))<<16|Yt((b>>8&255)+(B>>8&255)-(S>>8&255))<<8|Yt((255&b)+(255&B)-(255&S)))>>>0},k.Predictor13=function(b,S,M){var B=S[M-1];return(Nt((b=et(b,S[M+0]))>>24&255,B>>24&255)<<24|Nt(b>>16&255,B>>16&255)<<16|Nt(b>>8&255,B>>8&255)<<8|Nt(255&b,255&B))>>>0};var i0=k.PredictorAdd0;k.PredictorAdd1=Lt,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Lm=k.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var hi,dw=k.ColorIndexInverseTransform,Xl=k.MapARGB,Ql=k.VP8LColorIndexInverseTransformAlpha,a0=k.MapAlpha,s0=k.VP8LPredictorsAdd=[];s0.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var o0,l0,wd,_d,Sd,Ff,Ad,Bf,No,Jl,Gr,yn,fi,ki,Zc,c0,Mm,hw,SD,AD,ND,ED,jD,PD,u0,TD,CD,kD,ID=a(511),OD=a(2041),RD=a(225),DD=a(767),LD=0,tE=OD,fw=RD,Us=DD,Eo=ID,pw=0,mw=1,MD=2,gw=3,vw=4,rE=5,$D=6,nE=7,iE=8,yw=9,aE=10,xne=[2,3,7],wne=[3,3,11],FD=[280,256,256,256,40],_ne=[0,1,1,1,0],Sne=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ane=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nne=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ene=8,sE=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oE=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],d0=null,jne=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pne=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],BD=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Tne=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cne=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],kne=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ine=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Nd=[],nl=[],eu=[],One=1,UD=2,Ed=[],jo=[];Re("UpsampleRgbLinePair",Gi,3),Re("UpsampleBgrLinePair",Va,3),Re("UpsampleRgbaLinePair",t0,4),Re("UpsampleBgraLinePair",Xc,4),Re("UpsampleArgbLinePair",So,4),Re("UpsampleRgba4444LinePair",ya,2),Re("UpsampleRgb565LinePair",Ln,2);var Rne=k.UpsampleRgbLinePair,Dne=k.UpsampleBgrLinePair,VD=k.UpsampleRgbaLinePair,zD=k.UpsampleBgraLinePair,qD=k.UpsampleArgbLinePair,WD=k.UpsampleRgba4444LinePair,Lne=k.UpsampleRgb565LinePair,bw=16,xw=1<<bw-1,h0=-227,lE=482,HD=6,Mne=(256<<HD)-1,GD=0,$ne=a(256),Fne=a(256),Bne=a(256),Une=a(256),Vne=a(lE-h0),zne=a(lE-h0);Qc("YuvToRgbRow",Gi,3),Qc("YuvToBgrRow",Va,3),Qc("YuvToRgbaRow",t0,4),Qc("YuvToBgraRow",Xc,4),Qc("YuvToArgbRow",So,4),Qc("YuvToRgba4444Row",ya,2),Qc("YuvToRgb565Row",Ln,2);var KD=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ww=[0,2,8],qne=[8,7,6,4,4,2,2,2,1,1,1,1],Wne=1;this.WebPDecodeRGBA=function(b,S,M,B,H){var Q=mw,te=new Ne,ae=new Mt;te.ba=ae,ae.S=Q,ae.width=[ae.width],ae.height=[ae.height];var le=ae.width,pe=ae.height,we=new _t;if(we==null||b==null)var Oe=2;else e(we!=null),Oe=Mf(b,S,M,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Oe!=0?le=0:(le!=null&&(le[0]=we.width[0]),pe!=null&&(pe[0]=we.height[0]),le=1),le){ae.width=ae.width[0],ae.height=ae.height[0],B!=null&&(B[0]=ae.width),H!=null&&(H[0]=ae.height);e:{if(B=new cd,(H=new Fe).data=b,H.w=S,H.ha=M,H.kd=1,S=[0],e(H!=null),((b=Mf(H.data,H.w,H.ha,null,null,null,S,null,H))==0||b==7)&&S[0]&&(b=4),(S=b)==0){if(e(te!=null),B.data=H.data,B.w=H.w+H.offset,B.ha=H.ha-H.offset,B.put=ot,B.ac=cr,B.bc=Qn,B.ma=te,H.xa){if((b=Lr())==null){te=1;break e}if(function(me,Se){var Te=[0],$e=[0],Ie=[0];t:for(;;){if(me==null)return 0;if(Se==null)return me.a=2,0;if(me.l=Se,me.a=0,Z(me.m,Se.data,Se.w,Se.ha),!Rn(me.m,Te,$e,Ie)){me.a=3;break t}if(me.xb=UD,Se.width=Te[0],Se.height=$e[0],!Wn(Te[0],$e[0],1,me,null))break t;return 1}return e(me.a!=0),0}(b,B)){if(B=(S=yd(B.width,B.height,te.Oa,te.ba))==0){t:{B=b;r:for(;;){if(B==null){B=0;break t}if(e(B.s.yc!=null),e(B.s.Ya!=null),e(0<B.s.Wb),e((M=B.l)!=null),e((H=M.ma)!=null),B.xb!=0){if(B.ca=H.ba,B.tb=H.tb,e(B.ca!=null),!r0(H.Oa,M,gw)){B.a=2;break r}if(!vo(B,M.width)||M.da)break r;if((M.da||Bt(B.ca.S))&&Pe(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&Pe()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!ee(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!Dn(B,B.V,B.Ba,B.c,B.i,M.o,Ar))break r;H.Dc=B.Ma,B=1;break t}e(B.a!=0),B=0}B=!B}B&&(S=b.a)}else S=b.a}else{if((b=new bo)==null){te=1;break e}if(b.Fa=H.na,b.P=H.P,b.qc=H.Sa,zl(b,B)){if((S=yd(B.width,B.height,te.Oa,te.ba))==0){if(b.Aa=0,M=te.Oa,e((H=b)!=null),M!=null){if(0<(le=0>(le=M.Md)?0:100<le?255:255*le/100)){for(pe=we=0;4>pe;++pe)12>(Oe=H.pb[pe]).lc&&(Oe.ia=le*qne[0>Oe.lc?0:Oe.lc]>>3),we|=Oe.ia;we&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=M.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(me,Se){if(me==null)return 0;if(Se==null)return Wr(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!zl(me,Se))return 0;if(e(me.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(me.L=0);var Te=ww[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Se.v-Te>>4,me.zb=Se.j-Te>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Se.o+15+Te>>4,me.Hb=Se.va+15+Te>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var $e=me.ed;for(Te=0;4>Te;++Te){var Ie;if(me.Qa.Cb){var Ve=me.Qa.Lb[Te];me.Qa.Fb||(Ve+=$e.Tb)}else Ve=$e.Tb;for(Ie=0;1>=Ie;++Ie){var ze=me.gd[Te][Ie],Xe=Ve;if($e.Pc&&(Xe+=$e.vd[0],Ie&&(Xe+=$e.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var Ke=Xe;0<$e.wb&&(Ke=4<$e.wb?Ke>>2:Ke>>1)>9-$e.wb&&(Ke=9-$e.wb),1>Ke&&(Ke=1),ze.dd=Ke,ze.tc=2*Xe+Ke,ze.ld=40<=Xe?2:15<=Xe?1:0}else ze.tc=0;ze.La=Ie}}}Te=0}else Wr(me,6,"Frame setup failed"),Te=me.a;if(Te=Te==0){if(Te){me.$c=0,0<me.Aa||(me.Ic=Wne);t:{Te=me.Ic,$e=4*(Ke=me.za);var Ot=32*Ke,gt=Ke+1,ur=0<me.L?Ke*(0<me.Aa?2:1):0,Et=(me.Aa==2?2:1)*Ke;if((ze=$e+832+(Ie=3*(16*Te+ww[me.L])/2*Ot)+(Ve=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=ze)Te=0;else{if(ze>me.Vb){if(me.Vb=0,me.Ec=a(ze),me.Fc=0,me.Ec==null){Te=Wr(me,1,"no memory during frame initialization.");break t}me.Vb=ze}ze=me.Ec,Xe=me.Fc,me.Ac=ze,me.Bc=Xe,Xe+=$e,me.Gd=s(Ot,Tf),me.Hd=0,me.rb=s(gt+1,od),me.sb=1,me.wa=ur?s(ur,Fa):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=Ke),e(!0),me.oc=ze,me.pc=Xe,Xe+=832,me.ya=s(Et,zc),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=Ke),me.R=16*Ke,me.B=8*Ke,Ke=(Ot=ww[me.L])*me.R,Ot=Ot/2*me.B,me.sa=ze,me.ta=Xe+Ke,me.qa=me.sa,me.ra=me.ta+16*Te*me.R+Ot,me.Ha=me.qa,me.Ia=me.ra+8*Te*me.B+Ot,me.$c=0,Xe+=Ie,me.mb=Ve?ze:null,me.nb=Ve?Xe:null,e(Xe+Ve<=me.Fc+me.Vb),Mr(me),i(me.Ac,me.Bc,0,$e),Te=1}}if(Te){if(Se.ka=0,Se.y=me.sa,Se.O=me.ta,Se.f=me.qa,Se.N=me.ra,Se.ea=me.Ha,Se.Vd=me.Ia,Se.fa=me.R,Se.Rc=me.B,Se.F=null,Se.J=0,!LD){for(Te=-255;255>=Te;++Te)ID[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)OD[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)RD[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)DD[255+Te]=0>Te?0:255<Te?255:Te;LD=1}Ad=ql,Bf=Jy,Jl=Zy,Gr=xo,yn=Tm,No=Pm,fi=Df,ki=Lf,Zc=R,c0=W,Mm=rl,hw=vd,SD=fe,AD=ye,ND=Kl,ED=Yl,jD=Yc,PD=Rm,nl[0]=Om,nl[1]=ud,nl[2]=If,nl[3]=hd,nl[4]=Wc,nl[5]=wo,nl[6]=Ba,nl[7]=Of,nl[8]=fd,nl[9]=Sn,Nd[0]=Wl,Nd[1]=km,Nd[2]=Im,Nd[3]=dd,Nd[4]=e0,Nd[5]=qc,Nd[6]=cs,eu[0]=Gc,eu[1]=Cm,eu[2]=Rf,eu[3]=Hl,eu[4]=us,eu[5]=pd,eu[6]=md,Te=1}else Te=0}Te&&(Te=function(Nr,Ii){for(Nr.M=0;Nr.M<Nr.Va;++Nr.M){var dr,jt=Nr.Jc[Nr.M&Nr.Xb],at=Nr.m,pi=Nr;for(dr=0;dr<pi.za;++dr){var sr=at,Cr=pi,Mn=Cr.Ac,ia=Cr.Bc+4*dr,za=Cr.zc,ai=Cr.ya[Cr.aa+dr];if(Cr.Qa.Bb?ai.$b=P(sr,Cr.Pa.jb[0])?2+P(sr,Cr.Pa.jb[2]):P(sr,Cr.Pa.jb[1]):ai.$b=0,Cr.kc&&(ai.Ad=P(sr,Cr.Bd)),ai.Za=!P(sr,145)+0,ai.Za){var ba=ai.Ob,qa=0;for(Cr=0;4>Cr;++Cr){var Oi,$r=za[0+Cr];for(Oi=0;4>Oi;++Oi){$r=Cne[Mn[ia+Oi]][$r];for(var Zr=BD[P(sr,$r[0])];0<Zr;)Zr=BD[2*Zr+P(sr,$r[Zr])];$r=-Zr,Mn[ia+Oi]=$r}n(ba,qa,Mn,ia,4),qa+=4,za[0+Cr]=$r}}else $r=P(sr,156)?P(sr,128)?1:3:P(sr,163)?2:0,ai.Ob[0]=$r,i(Mn,ia,$r,4),i(za,0,$r,4);ai.Dd=P(sr,142)?P(sr,114)?P(sr,183)?1:3:2:0}if(pi.m.Ka)return Wr(Nr,7,"Premature end-of-partition0 encountered.");for(;Nr.ja<Nr.za;++Nr.ja){if(pi=jt,sr=(at=Nr).rb[at.sb-1],Mn=at.rb[at.sb+at.ja],dr=at.ya[at.aa+at.ja],ia=at.kc?dr.Ad:0)sr.la=Mn.la=0,dr.Za||(sr.Na=Mn.Na=0),dr.Hc=0,dr.Gc=0,dr.ia=0;else{var si,en;if(sr=Mn,Mn=pi,ia=at.Pa.Xc,za=at.ya[at.aa+at.ja],ai=at.pb[za.$b],Cr=za.ad,ba=0,qa=at.rb[at.sb-1],$r=Oi=0,i(Cr,ba,0,384),za.Za)var aa=0,il=ia[3];else{Zr=a(16);var mi=sr.Na+qa.Na;if(mi=d0(Mn,ia[1],mi,ai.Eb,0,Zr,0),sr.Na=qa.Na=(0<mi)+0,1<mi)Ad(Zr,0,Cr,ba);else{var ds=Zr[0]+3>>3;for(Zr=0;256>Zr;Zr+=16)Cr[ba+Zr]=ds}aa=1,il=ia[0]}var bn=15&sr.la,Ri=15&qa.la;for(Zr=0;4>Zr;++Zr){var Vs=1&Ri;for(ds=en=0;4>ds;++ds)bn=bn>>1|(Vs=(mi=d0(Mn,il,mi=Vs+(1&bn),ai.Sc,aa,Cr,ba))>aa)<<7,en=en<<2|(3<mi?3:1<mi?2:Cr[ba+0]!=0),ba+=16;bn>>=4,Ri=Ri>>1|Vs<<7,Oi=(Oi<<8|en)>>>0}for(il=bn,aa=Ri>>4,si=0;4>si;si+=2){for(en=0,bn=sr.la>>4+si,Ri=qa.la>>4+si,Zr=0;2>Zr;++Zr){for(Vs=1&Ri,ds=0;2>ds;++ds)mi=Vs+(1&bn),bn=bn>>1|(Vs=0<(mi=d0(Mn,ia[2],mi,ai.Qc,0,Cr,ba)))<<3,en=en<<2|(3<mi?3:1<mi?2:Cr[ba+0]!=0),ba+=16;bn>>=2,Ri=Ri>>1|Vs<<5}$r|=en<<4*si,il|=bn<<4<<si,aa|=(240&Ri)<<si}sr.la=il,qa.la=aa,za.Hc=Oi,za.Gc=$r,za.ia=43690&$r?0:ai.ia,ia=!(Oi|$r)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[dr.$b][dr.Za],at.wa[at.Y+at.ja].La|=!ia),pi.Ka)return Wr(Nr,7,"Premature end-of-file encountered.")}if(Mr(Nr),at=Ii,pi=1,dr=(jt=Nr).D,sr=0<jt.L&&jt.M>=jt.zb&&jt.M<=jt.Va,jt.Aa==0)t:{if(dr.M=jt.M,dr.uc=sr,Ao(jt,dr),pi=1,dr=(en=jt.D).Nb,sr=($r=ww[jt.L])*jt.R,Mn=$r/2*jt.B,Zr=16*dr*jt.R,ds=8*dr*jt.B,ia=jt.sa,za=jt.ta-sr+Zr,ai=jt.qa,Cr=jt.ra-Mn+ds,ba=jt.Ha,qa=jt.Ia-Mn+ds,Ri=(bn=en.M)==0,Oi=bn>=jt.Va-1,jt.Aa==2&&Ao(jt,en),en.uc)for(Vs=(mi=jt).D.M,e(mi.D.uc),en=mi.yb;en<mi.Hb;++en){aa=en,il=Vs;var Wa=(zs=(sa=mi).D).Nb;si=sa.R;var zs=zs.wa[zs.Y+aa],qs=sa.sa,hs=sa.ta+16*Wa*si+16*aa,Ws=zs.dd,En=zs.tc;if(En!=0)if(e(3<=En),sa.L==1)0<aa&&ED(qs,hs,si,En+4),zs.La&&PD(qs,hs,si,En),0<il&&ND(qs,hs,si,En+4),zs.La&&jD(qs,hs,si,En);else{var Hs=sa.B,al=sa.qa,Uf=sa.ra+8*Wa*Hs+8*aa,tu=sa.Ha,sa=sa.Ia+8*Wa*Hs+8*aa;Wa=zs.ld,0<aa&&(ki(qs,hs,si,En+4,Ws,Wa),c0(al,Uf,tu,sa,Hs,En+4,Ws,Wa)),zs.La&&(hw(qs,hs,si,En,Ws,Wa),AD(al,Uf,tu,sa,Hs,En,Ws,Wa)),0<il&&(fi(qs,hs,si,En+4,Ws,Wa),Zc(al,Uf,tu,sa,Hs,En+4,Ws,Wa)),zs.La&&(Mm(qs,hs,si,En,Ws,Wa),SD(al,Uf,tu,sa,Hs,En,Ws,Wa))}}if(jt.ia&&alert("todo:DitherRow"),at.put!=null){if(en=16*bn,bn=16*(bn+1),Ri?(at.y=jt.sa,at.O=jt.ta+Zr,at.f=jt.qa,at.N=jt.ra+ds,at.ea=jt.Ha,at.W=jt.Ia+ds):(en-=$r,at.y=ia,at.O=za,at.f=ai,at.N=Cr,at.ea=ba,at.W=qa),Oi||(bn-=$r),bn>at.o&&(bn=at.o),at.F=null,at.J=null,jt.Fa!=null&&0<jt.Fa.length&&en<bn&&(at.J=gn(jt,at,en,bn-en),at.F=jt.mb,at.F==null&&at.F.length==0)){pi=Wr(jt,3,"Could not decode alpha data.");break t}en<at.j&&($r=at.j-en,en=at.j,e(!(1&$r)),at.O+=jt.R*$r,at.N+=jt.B*($r>>1),at.W+=jt.B*($r>>1),at.F!=null&&(at.J+=at.width*$r)),en<bn&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=en-at.j,at.U=at.va-at.v,at.T=bn-en,pi=at.put(at))}dr+1!=jt.Ic||Oi||(n(jt.sa,jt.ta-sr,ia,za+16*jt.R,sr),n(jt.qa,jt.ra-Mn,ai,Cr+8*jt.B,Mn),n(jt.Ha,jt.Ia-Mn,ba,qa+8*jt.B,Mn))}if(!pi)return Wr(Nr,6,"Output aborted.")}return 1}(me,Se)),Se.bc!=null&&Se.bc(Se),Te&=1}return Te?(me.cb=0,Te):0})(b,B)||(S=b.a)}}else S=b.a}S==0&&te.Oa!=null&&te.Oa.fd&&(S=n0(te.ba))}te=S}Q=te!=0?null:11>Q?ae.f.RGBA.eb:ae.f.kb.y}else Q=null;return Q};var YD=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,D){for(var C="",O=0;O<4;O++)C+=String.fromCharCode(k[D++]);return C}function d(k,D){return k[D+0]|k[D+1]<<8}function h(k,D){return(k[D+0]|k[D+1]<<8|k[D+2]<<16)>>>0}function p(k,D){return(k[D+0]|k[D+1]<<8|k[D+2]<<16|k[D+3]<<24)>>>0}new l;var f=[0],v=[0],m=[],g=new l,y=t,x=function(k,D){var C={},O=0,L=!1,z=0,re=0;if(C.frames=[],!function(F,V){for(var G=0;G<4;G++)if(F[V+G]!="RIFF".charCodeAt(G))return!0;return!1}(k,D)){for(p(k,D+=4),D+=8;D<k.length;){var Y=u(k,D),K=p(k,D+=4);D+=4;var q=K+(1&K);switch(Y){case"VP8 ":case"VP8L":C.frames[O]===void 0&&(C.frames[O]={}),(ce=C.frames[O]).src_off=L?re:D-8,ce.src_size=z+K+8,O++,L&&(L=!1,z=0,re=0);break;case"VP8X":(ce=C.header={}).feature_flags=k[D];var Z=D+4;ce.canvas_width=1+h(k,Z),Z+=3,ce.canvas_height=1+h(k,Z),Z+=3;break;case"ALPH":L=!0,z=q+8,re=D-8;break;case"ANIM":(ce=C.header).bgcolor=p(k,D),Z=D+4,ce.loop_count=d(k,Z),Z+=2;break;case"ANMF":var ve,ce;(ce=C.frames[O]={}).offset_x=2*h(k,D),D+=3,ce.offset_y=2*h(k,D),D+=3,ce.width=1+h(k,D),D+=3,ce.height=1+h(k,D),D+=3,ce.duration=h(k,D),D+=3,ve=k[D++],ce.dispose=1&ve,ce.blend=ve>>1&1}Y!="ANMF"&&(D+=q)}return C}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var _=x.header?x.header:null,A=x.frames?x.frames:null;if(_){_.loop_counter=_.loop_count,f=[_.canvas_height],v=[_.canvas_width];for(var E=0;E<A.length&&A[E].blend!=0;E++);}var I=A[0],j=g.WebPDecodeRGBA(y,I.src_off,I.src_size,v,f);I.rgba=j,I.imgwidth=v[0],I.imgheight=f[0];for(var N=0;N<v[0]*f[0]*4;N++)m[N]=j[N];return this.width=v,this.height=f,this.data=m,this}(function(t){var e,r,n,i,a,s,o,l,u,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new s,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new s,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=F;Object.defineProperty(this,"pdf",{get:function(){return V}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ge){G=!!ge}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(ge){oe=!!ge}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(ge){isNaN(ge)||(J=ge)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(ge){isNaN(ge)||(ie=ge)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ge){var ee;typeof ge=="number"?ee=[ge,ge,ge,ge]:((ee=new Array(4))[0]=ge[0],ee[1]=ge.length>=2?ge[1]:ee[0],ee[2]=ge.length>=3?ge[2]:ee[0],ee[3]=ge.length>=4?ge[3]:ee[1]),u.margin=ee}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(ge){be=ge}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ge){he=ge}});var P=[];Object.defineProperty(this,"pageBreaks",{get:function(){return P},set:function(ge){P=ge}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ge){ge instanceof d&&(u=ge)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ge){u.path=ge}});var X=[];Object.defineProperty(this,"ctxStack",{get:function(){return X},set:function(ge){X=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var ee;ee=p(ge),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var ee=p(ge);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var ne=null,de=null;Object.defineProperty(this,"fontFaces",{get:function(){return de},set:function(ge){ne=null,de=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var ee;if(this.ctx.font=ge,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Ae=ee[1];ee[2];var De=ee[3],Le=ee[4];ee[5];var _e=ee[6],ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(ke==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:ke==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var je=function(Ye){var Ze,ct,lt=[],rt=Ye.trim();if(rt==="")return DP;if(rt in EU)return[EU[rt]];for(;rt!=="";){switch(ct=null,Ze=(rt=PU(rt)).charAt(0)){case'"':case"'":ct=vQe(rt.substring(1),Ze);break;default:ct=yQe(rt)}if(ct===null||(lt.push(ct[0]),(rt=PU(ct[1]))!==""&&rt.charAt(0)!==","))return DP;rt=rt.replace(/^,/,"")}return lt}(_e);if(this.fontFaces){var Me=function(Ye,Ze){if(ne===null){var ct=function(lt){var rt=[];return Object.keys(lt).forEach(function(Ce){lt[Ce].forEach(function(Ct){var yt=null;switch(Ct){case"bold":yt={family:Ce,weight:"bold"};break;case"italic":yt={family:Ce,style:"italic"};break;case"bolditalic":yt={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:Ce}}yt!==null&&(yt.ref={name:Ce,style:Ct},rt.push(yt))})}),rt}(Ye.getFontList());ne=function(lt){for(var rt={},Ce=0;Ce<lt.length;++Ce){var Ct=RP(lt[Ce]),yt=Ct.family,er=Ct.stretch,Bt=Ct.style,Vr=Ct.weight;rt[yt]=rt[yt]||{},rt[yt][er]=rt[yt][er]||{},rt[yt][er][Bt]=rt[yt][er][Bt]||{},rt[yt][er][Bt][Vr]=Ct}return rt}(ct.concat(Ze))}return ne}(this.pdf,this.fontFaces),et=je.map(function(Ye){return{family:Ye,stretch:"normal",weight:De,style:Ae}}),Yt=function(Ye,Ze,ct){for(var lt=(ct=ct||{}).defaultFontFamily||"times",rt=Object.assign({},gQe,ct.genericFontFamilies||{}),Ce=null,Ct=null,yt=0;yt<Ze.length;++yt)if(rt[(Ce=RP(Ze[yt])).family]&&(Ce.family=rt[Ce.family]),Ye.hasOwnProperty(Ce.family)){Ct=Ye[Ce.family];break}if(!(Ct=Ct||Ye[lt]))throw new Error("Could not find a font-family for the rule '"+jU(Ce)+"' and default family '"+lt+"'.");if(Ct=function(er,Bt){if(Bt[er])return Bt[er];var Vr=G4[er],hn=Vr<=G4.normal?-1:1,Mt=NU(Bt,Bre,Vr,hn);if(!Mt)throw new Error("Could not find a matching font-stretch value for "+er);return Mt}(Ce.stretch,Ct),Ct=function(er,Bt){if(Bt[er])return Bt[er];for(var Vr=Fre[er],hn=0;hn<Vr.length;++hn)if(Bt[Vr[hn]])return Bt[Vr[hn]];throw new Error("Could not find a matching font-style for "+er)}(Ce.style,Ct),!(Ct=function(er,Bt){if(Bt[er])return Bt[er];if(er===400&&Bt[500])return Bt[500];if(er===500&&Bt[400])return Bt[400];var Vr=mQe[er],hn=NU(Bt,Ure,Vr,er<400?-1:1);if(!hn)throw new Error("Could not find a matching font-weight for value "+er);return hn}(Ce.weight,Ct)))throw new Error("Failed to resolve a font for the rule '"+jU(Ce)+"'.");return Ct}(Me,et);this.pdf.setFont(Yt.ref.name,Yt.ref.style)}else{var Nt="";(De==="bold"||parseInt(De,10)>=700||Ae==="bold")&&(Nt="bold"),Ae==="italic"&&(Nt+="italic"),Nt.length===0&&(Nt="normal");for(var ut="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<je.length;vt++){if(this.pdf.internal.getFont(je[vt],Nt,{noFallback:!0,disableWarning:!0})!==void 0){ut=je[vt];break}if(Nt==="bolditalic"&&this.pdf.internal.getFont(je[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=je[vt],Nt="bold";else if(this.pdf.internal.getFont(je[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=je[vt],Nt="normal";break}}if(ut===""){for(var Ee=0;Ee<je.length;Ee++)if(Lt[je[Ee]]){ut=Lt[je[Ee]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,Nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){A.call(this,"fill",!1)},h.prototype.stroke=function(){A.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new s(F,V));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(F,V)},h.prototype.closePath=function(){var F=new s(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&rn(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){F=new s(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(F.x,F.y)},h.prototype.lineTo=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new s(F,V));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,V,G,oe){if(isNaN(G)||isNaN(oe)||isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new s(G,oe)),ie=this.ctx.transform.applyToPoint(new s(F,V));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},h.prototype.bezierCurveTo=function(F,V,G,oe,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new s(J,ie)),he=this.ctx.transform.applyToPoint(new s(F,V)),P=this.ctx.transform.applyToPoint(new s(G,oe));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:P.x,y2:P.y,x:be.x,y:be.y}),this.ctx.lastPoint=new s(be.x,be.y)},h.prototype.arc=function(F,V,G,oe,J,ie){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe)||isNaN(J))throw xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new s(F,V));F=be.x,V=be.y;var he=this.ctx.transform.applyToPoint(new s(0,G)),P=this.ctx.transform.applyToPoint(new s(0,0));G=Math.sqrt(Math.pow(he.x-P.x,2)+Math.pow(he.y-P.y,2))}Math.abs(J-oe)>=2*Math.PI&&(oe=0,J=2*Math.PI),this.path.push({type:"arc",x:F,y:V,radius:G,startAngle:oe,endAngle:J,counterclockwise:ie})},h.prototype.arcTo=function(F,V,G,oe,J){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,V),this.lineTo(F+G,V),this.lineTo(F+G,V+oe),this.lineTo(F,V+oe),this.lineTo(F,V),this.lineTo(F+G,V),this.lineTo(F,V)},h.prototype.fillRect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,V,G,oe),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},h.prototype.strokeRect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(F,V,G,oe),this.stroke())},h.prototype.clearRect=function(F,V,G,oe){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe))throw xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,V,G,oe))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(V),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var V,G,oe,J;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))V=0,G=0,oe=0,J=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ie!==null)V=parseInt(ie[1]),G=parseInt(ie[2]),oe=parseInt(ie[3]),J=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)V=parseInt(ie[1]),G=parseInt(ie[2]),oe=parseInt(ie[3]),J=parseFloat(ie[4]);else{if(J=1,typeof F=="string"&&F.charAt(0)!=="#"){var be=new Ire(F);F=be.ok?be.toHex():"#000000"}F.length===4?(V=F.substring(1,2),V+=V,G=F.substring(2,3),G+=G,oe=F.substring(3,4),oe+=oe):(V=F.substring(1,3),G=F.substring(3,5),oe=F.substring(5,7)),V=parseInt(V,16),G=parseInt(G,16),oe=parseInt(oe,16)}}return{r:V,g:G,b:oe,a:J,style:F}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,V,G,oe){if(isNaN(V)||isNaN(G)||typeof F!="string")throw xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!f.call(this)){var J=q(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:F,x:V,y:G,scale:ie,angle:J,align:this.textAlign,maxWidth:oe})}},h.prototype.strokeText=function(F,V,G,oe){if(isNaN(V)||isNaN(G)||typeof F!="string")throw xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){oe=isNaN(oe)?void 0:oe;var J=q(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;O.call(this,{text:F,x:V,y:G,scale:ie,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:oe})}},h.prototype.measureText=function(F){if(typeof F!="string")throw xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,G=this.pdf.internal.scaleFactor,oe=V.internal.getFontSize(),J=V.getStringUnitWidth(F)*oe/V.internal.scaleFactor;return new function(ie){var be=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:J*=Math.round(96*G/72*1e4)/1e4})},h.prototype.scale=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(F,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.rotate=function(F){if(isNaN(F))throw xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.translate=function(F,V){if(isNaN(F)||isNaN(V))throw xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,F,V);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.transform=function(F,V,G,oe,J,ie){if(isNaN(F)||isNaN(V)||isNaN(G)||isNaN(oe)||isNaN(J)||isNaN(ie))throw xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(F,V,G,oe,J,ie);this.ctx.transform=this.ctx.transform.multiply(be)},h.prototype.setTransform=function(F,V,G,oe,J,ie){F=isNaN(F)?1:F,V=isNaN(V)?0:V,G=isNaN(G)?0:G,oe=isNaN(oe)?1:oe,J=isNaN(J)?0:J,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(F,V,G,oe,J,ie)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,V,G,oe,J,ie,be,he,P){var X=this.pdf.getImageProperties(F),ne=1,de=1,ge=1,ee=1;oe!==void 0&&he!==void 0&&(ge=he/oe,ee=P/J,ne=X.width/oe*he/oe,de=X.height/J*P/J),ie===void 0&&(ie=V,be=G,V=0,G=0),oe!==void 0&&he===void 0&&(he=oe,P=J),oe===void 0&&he===void 0&&(he=X.width,P=X.height);for(var Ae,De=this.ctx.transform.decompose(),Le=q(De.rotate.shx),_e=new l,ke=(_e=(_e=(_e=_e.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new o(ie-V*ge,be-G*ee,oe*ne,J*de)),je=g.call(this,ke),Me=[],et=0;et<je.length;et+=1)Me.indexOf(je[et])===-1&&Me.push(je[et]);if(_(Me),this.autoPaging)for(var Yt=Me[0],Nt=Me[Me.length-1],ut=Yt;ut<Nt+1;ut++){this.pdf.setPage(ut);var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=ut===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=ut===1?0:Ee+(ut-2)*Ye;if(this.ctx.clip_path.length!==0){var ct=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ae,this.posX+this.margin[3],-Ze+vt+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=ct}var lt=JSON.parse(JSON.stringify(ke));lt=x([lt],this.posX+this.margin[3],-Ze+vt+this.ctx.prevPageLastElemOffset)[0];var rt=(ut>Yt||ut<Nt)&&m.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Ye,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,Le),rt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,Le)};var g=function(F,V,G){var oe=[];V=V||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":oe.push(Math.floor((F.y+J)/G)+1);break;case"arc":oe.push(Math.floor((F.y+J-F.radius)/G)+1),oe.push(Math.floor((F.y+J+F.radius)/G)+1);break;case"qct":var ie=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);oe.push(Math.floor((ie.y+J)/G)+1),oe.push(Math.floor((ie.y+ie.h+J)/G)+1);break;case"bct":var be=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);oe.push(Math.floor((be.y+J)/G)+1),oe.push(Math.floor((be.y+be.h+J)/G)+1);break;case"rect":oe.push(Math.floor((F.y+J)/G)+1),oe.push(Math.floor((F.y+F.h+J)/G)+1)}for(var he=0;he<oe.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<oe[he];)y.call(this);return oe},y=function(){var F=this.fillStyle,V=this.strokeStyle,G=this.font,oe=this.lineCap,J=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=V,this.font=G,this.lineCap=oe,this.lineWidth=J,this.lineJoin=ie},x=function(F,V,G){for(var oe=0;oe<F.length;oe++)switch(F[oe].type){case"bct":F[oe].x2+=V,F[oe].y2+=G;case"qct":F[oe].x1+=V,F[oe].y1+=G;default:F[oe].x+=V,F[oe].y+=G}return F},_=function(F){return F.sort(function(V,G){return V-G})},A=function(F,V){for(var G,oe,J=this.fillStyle,ie=this.strokeStyle,be=this.lineCap,he=this.lineWidth,P=Math.abs(he*this.ctx.transform.scaleX),X=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),ge=[],ee=0;ee<de.length;ee++)if(de[ee].x!==void 0)for(var Ae=g.call(this,de[ee]),De=0;De<Ae.length;De+=1)ge.indexOf(Ae[De])===-1&&ge.push(Ae[De]);for(var Le=0;Le<ge.length;Le++)for(;this.pdf.internal.getNumberOfPages()<ge[Le];)y.call(this);if(_(ge),this.autoPaging)for(var _e=ge[0],ke=ge[ge.length-1],je=_e;je<ke+1;je++){this.pdf.setPage(je),this.fillStyle=J,this.strokeStyle=ie,this.lineCap=be,this.lineWidth=P,this.lineJoin=X;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=je===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=je===1?0:Yt+(je-2)*Nt;if(this.ctx.clip_path.length!==0){var Lt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(G,this.posX+this.margin[3],-ut+et+this.ctx.prevPageLastElemOffset),E.call(this,F,!0),this.path=Lt}if(oe=JSON.parse(JSON.stringify(ne)),this.path=x(oe,this.posX+this.margin[3],-ut+et+this.ctx.prevPageLastElemOffset),V===!1||je===0){var vt=(je>_e||je<ke)&&m.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Nt,null).clip().discardPath()),E.call(this,F,V),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=P,E.call(this,F,V),this.lineWidth=he;this.path=ne},E=function(F,V){if((F!=="stroke"||V||!v.call(this))&&(F==="stroke"||V||!f.call(this))){for(var G,oe,J=[],ie=this.path,be=0;be<ie.length;be++){var he=ie[be];switch(he.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:he,deltas:[],abs:[]});break;case"lt":var P=J.length;if(ie[be-1]&&!isNaN(ie[be-1].x)&&(G=[he.x-ie[be-1].x,he.y-ie[be-1].y],P>0)){for(;P>=0;P--)if(J[P-1].close!==!0&&J[P-1].begin!==!0){J[P-1].deltas.push(G),J[P-1].abs.push(he);break}}break;case"bct":G=[he.x1-ie[be-1].x,he.y1-ie[be-1].y,he.x2-ie[be-1].x,he.y2-ie[be-1].y,he.x-ie[be-1].x,he.y-ie[be-1].y],J[J.length-1].deltas.push(G);break;case"qct":var X=ie[be-1].x+2/3*(he.x1-ie[be-1].x),ne=ie[be-1].y+2/3*(he.y1-ie[be-1].y),de=he.x+2/3*(he.x1-he.x),ge=he.y+2/3*(he.y1-he.y),ee=he.x,Ae=he.y;G=[X-ie[be-1].x,ne-ie[be-1].y,de-ie[be-1].x,ge-ie[be-1].y,ee-ie[be-1].x,Ae-ie[be-1].y],J[J.length-1].deltas.push(G);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(he)}}oe=V?null:F==="stroke"?"stroke":"fill";for(var De=!1,Le=0;Le<J.length;Le++)if(J[Le].arc)for(var _e=J[Le].abs,ke=0;ke<_e.length;ke++){var je=_e[ke];je.type==="arc"?N.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,V,!De):L.call(this,je.x,je.y),De=!0}else if(J[Le].close===!0)this.pdf.internal.out("h"),De=!1;else if(J[Le].begin!==!0){var Me=J[Le].start.x,et=J[Le].start.y;z.call(this,J[Le].deltas,Me,et),De=!0}oe&&k.call(this,oe),V&&D.call(this)}},I=function(F){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-G;case"top":return F+V-G;case"hanging":return F+V-2*G;case"middle":return F+V/2-G;default:return F}},j=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(V,G){this.colorStops.push([V,G])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(F,V,G,oe,J,ie,be,he,P){for(var X=Y.call(this,G,oe,J,ie),ne=0;ne<X.length;ne++){var de=X[ne];ne===0&&(P?C.call(this,de.x1+F,de.y1+V):L.call(this,de.x1+F,de.y1+V)),re.call(this,F,V,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}he?D.call(this):k.call(this,be)},k=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(F,V){this.pdf.internal.out(r(F)+" "+n(V)+" m")},O=function(F){var V;switch(F.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var G=this.pdf.getTextDimensions(F.text),oe=I.call(this,F.y),J=j.call(this,oe)-G.h,ie=this.ctx.transform.applyToPoint(new s(F.x,oe)),be=this.ctx.transform.decompose(),he=new l;he=(he=(he=he.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var P,X,ne,de=this.ctx.transform.applyToRectangle(new o(F.x,oe,G.w,G.h)),ge=he.applyToRectangle(new o(F.x,J,G.w,G.h)),ee=g.call(this,ge),Ae=[],De=0;De<ee.length;De+=1)Ae.indexOf(ee[De])===-1&&Ae.push(ee[De]);if(_(Ae),this.autoPaging)for(var Le=Ae[0],_e=Ae[Ae.length-1],ke=Le;ke<_e+1;ke++){this.pdf.setPage(ke);var je=ke===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],Yt=et-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],ut=Nt-this.margin[3],Lt=ke===1?0:Me+(ke-2)*Yt;if(this.ctx.clip_path.length!==0){var vt=this.path;P=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(P,this.posX+this.margin[3],-1*Lt+je),E.call(this,"fill",!0),this.path=vt}var Ee=x([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-Lt+je+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale);var Ye=this.autoPaging!=="text";if(Ye||Ee.y+Ee.h<=et){if(Ye||Ee.y>=je&&Ee.x<=Nt){var Ze=Ye?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Nt-Ee.x)[0],ct=x([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-Lt+je+this.ctx.prevPageLastElemOffset)[0],lt=Ye&&(ke>Le||ke<_e)&&m.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Yt,null).clip().discardPath()),this.pdf.text(Ze,ct.x,ct.y,{angle:F.angle,align:V,renderingMode:F.renderingMode}),lt&&this.pdf.restoreGraphicsState()}}else Ee.y<et&&(this.ctx.prevPageLastElemOffset+=et-Ee.y);F.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ne)}else F.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale),this.pdf.text(F.text,ie.x+this.posX,ie.y+this.posY,{angle:F.angle,align:V,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ne)},L=function(F,V,G,oe){G=G||0,oe=oe||0,this.pdf.internal.out(r(F+G)+" "+n(V+oe)+" l")},z=function(F,V,G){return this.pdf.lines(F,V,G,null,null)},re=function(F,V,G,oe,J,ie,be,he){this.pdf.internal.out([e(i(G+F)),e(a(oe+V)),e(i(J+F)),e(a(ie+V)),e(i(be+F)),e(a(he+V)),"c"].join(" "))},Y=function(F,V,G,oe){for(var J=2*Math.PI,ie=Math.PI/2;V>G;)V-=J;var be=Math.abs(G-V);be<J&&oe&&(be=J-be);for(var he=[],P=oe?-1:1,X=V;be>1e-5;){var ne=X+P*Math.min(be,ie);he.push(K.call(this,F,X,ne)),be-=Math.abs(ne-X),X=ne}return he},K=function(F,V,G){var oe=(G-V)/2,J=F*Math.cos(oe),ie=F*Math.sin(oe),be=J,he=-ie,P=be*be+he*he,X=P+be*J+he*ie,ne=4/3*(Math.sqrt(2*P*X)-X)/(be*ie-he*J),de=be-ne*he,ge=he+ne*be,ee=de,Ae=-ge,De=oe+V,Le=Math.cos(De),_e=Math.sin(De);return{x1:F*Math.cos(V),y1:F*Math.sin(V),x2:de*Le-ge*_e,y2:de*_e+ge*Le,x3:ee*Le-Ae*_e,y3:ee*_e+Ae*Le,x4:F*Math.cos(G),y4:F*Math.sin(G)}},q=function(F){return 180*F/Math.PI},Z=function(F,V,G,oe,J,ie){var be=F+.5*(G-F),he=V+.5*(oe-V),P=J+.5*(G-J),X=ie+.5*(oe-ie),ne=Math.min(F,J,be,P),de=Math.max(F,J,be,P),ge=Math.min(V,ie,he,X),ee=Math.max(V,ie,he,X);return new o(ne,ge,de-ne,ee-ge)},ve=function(F,V,G,oe,J,ie,be,he){var P,X,ne,de,ge,ee,Ae,De,Le,_e,ke,je,Me,et,Yt=G-F,Nt=oe-V,ut=J-G,Lt=ie-oe,vt=be-J,Ee=he-ie;for(X=0;X<41;X++)Le=(Ae=(ne=F+(P=X/40)*Yt)+P*((ge=G+P*ut)-ne))+P*(ge+P*(J+P*vt-ge)-Ae),_e=(De=(de=V+P*Nt)+P*((ee=oe+P*Lt)-de))+P*(ee+P*(ie+P*Ee-ee)-De),X==0?(ke=Le,je=_e,Me=Le,et=_e):(ke=Math.min(ke,Le),je=Math.min(je,_e),Me=Math.max(Me,Le),et=Math.max(et,_e));return new o(Math.round(ke),Math.round(je),Math.round(Me-ke),Math.round(et-je))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,V,G=(F=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:V}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Rt.API),function(t){var e=function(s){var o,l,u,d,h,p,f,v,m,g;for(l=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(h=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(g=h%85))/85)-(m=h%85))/85)-(v=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,v+33,m+33,g+33)):l.push(122);return function(y,x){for(var _=x;_>0;_--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,u,d,h,p=String,f="length",v=255,m="charCodeAt",g="slice",y="replace";for(s[g](-2),s=s[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],d=0,h=(s+=o="uuuuu"[g](s[f]%5||5))[f];h>d;d+=5)l=52200625*(s[m](d)-33)+614125*(s[m](d+1)-33)+7225*(s[m](d+2)-33)+85*(s[m](d+3)-33)+(s[m](d+4)-33),u.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(x,_){for(var A=_;A>0;A--)x.pop()}(u,o[f]),p.fromCharCode.apply(p,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=R4(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,o){var l=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Rt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,d){var h=new XMLHttpRequest,p=0,f=function(v){var m=v.length,g=[],y=String.fromCharCode;for(p=0;p<m;p+=1)g.push(y(255&v.charCodeAt(p)));return g.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(Rt.API),function(t){function e(){return(Jt.html2canvas?Promise.resolve(Jt.html2canvas):Dh(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Jt.DOMPurify?Promise.resolve(Jt.DOMPurify):Dh(()=>import("./purify.es-DfngIMfA.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=rn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},a=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(o(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var v=d[f],m=v.src.find(function(g){return g.format==="truetype"});m&&u.addFont(m.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,h).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=u.call(h,o,l);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Rt.getPageSize=function(o,l,u){if(rn(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var v,m=0,g=0;if(f.hasOwnProperty(p))m=f[p][1]/h,g=f[p][0]/h;else try{m=u[1],g=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",g>m&&(v=g,g=m,m=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(v=g,g=m,m=v)}return{width:g,height:m,unit:l,k:h,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(RP):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(Rt.API),Rt.API.addJS=function(t){return CU=t,this.internal.events.subscribe("postPutResources",function(){R2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(R2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),TU=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+CU+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){R2!==void 0&&TU!==void 0&&this.internal.out("/Names <</JavaScript "+R2+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=r.internal.newObject();d.push(h);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Rt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,m={width:0,height:0,numcomponents:1},g=4;g<v;g+=2){if(g+=f,e.indexOf(h.charCodeAt(g+1))!==-1){p=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),m={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:p,numcomponents:h.charCodeAt(g+9)};break}f=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(Rt.API),Rt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=tQe(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,d=a.depth;i=u&&l===1?function(N){for(var k=N.width,D=N.height,C=N.data,O=N.palette,L=N.depth,z=!1,re=[],Y=[],K=void 0,q=!1,Z=0,ve=0;ve<O.length;ve++){var ce=AB(O[ve],4),F=ce[0],V=ce[1],G=ce[2],oe=ce[3];re.push(F,V,G),oe!=null&&(oe===0?(Z++,Y.length<1&&Y.push(ve)):oe<255&&(q=!0))}if(q||Z>1){z=!0,Y=void 0;var J=k*D;K=new Uint8Array(J);for(var ie=new DataView(C.buffer),be=0;be<J;be++){var he=LP(ie,be,L),P=AB(O[he],4)[3];K[be]=P}}else Z===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:C,alphaBytes:K,needSMask:z,palette:re,mask:Y}}(a):l===2||l===4?function(N){for(var k=N.data,D=N.width,C=N.height,O=N.channels,L=N.depth,z=O===2?"DeviceGray":"DeviceRGB",re=O-1,Y=D*C,K=re,q=Y*K,Z=1*Y,ve=Math.ceil(q*L/8),ce=Math.ceil(Z*L/8),F=new Uint8Array(ve),V=new Uint8Array(ce),G=new DataView(k.buffer),oe=new DataView(F.buffer),J=new DataView(V.buffer),ie=!1,be=0;be<Y;be++){for(var he=be*O,P=0;P<K;P++)FU(oe,LP(G,he+P,L),be*K+P,L);var X=LP(G,he+K,L);X<(1<<L)-1&&(ie=!0),FU(J,X,1*be,L)}return{colorSpace:z,colorsPerPixel:re,sMaskBitsPerComponent:ie?L:void 0,colorBytes:F,alphaBytes:V,needSMask:ie}}(a):function(N){var k=N.data,D=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(C){for(var O=C.length,L=new Uint8Array(2*O),z=new DataView(L.buffer,L.byteOffset,L.byteLength),re=0;re<O;re++)z.setUint16(2*re,C[re],!1);return L}(k):k,needSMask:!1}}(a);var h,p,f,v=i,m=v.colorSpace,g=v.colorsPerPixel,y=v.sMaskBitsPerComponent,x=v.colorBytes,_=v.alphaBytes,A=v.needSMask,E=v.palette,I=v.mask,j=null;return n!==Rt.API.image_compression.NONE&&typeof R4=="function"?(j=function(N){var k;switch(N){case Rt.API.image_compression.FAST:k=11;break;case Rt.API.image_compression.MEDIUM:k=13;break;case Rt.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(j," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(s),t=RU(x,Math.ceil(s*g*d/8),g,d,n),A&&(f=RU(_,Math.ceil(s*y/8),1,y,n))):(h=void 0,p=void 0,t=x,A&&(f=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:p,transparency:I,palette:E,sMask:f,predictor:j,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:y,colorSpace:m}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new _Qe(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},d=new MP(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(Rt.API),cl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){xn.log("bit decode error:"+r)}},cl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},cl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},cl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},cl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},cl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},cl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},cl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},cl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new cl(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new MP(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Rt.API),UU.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new UU(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new MP(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Rt.API),Rt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=n[u],h=n[u+1],p=n[u+2],f=n[u+3];a[o++]=d,a[o++]=h,a[o++]=p,s[l++]=f}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Rt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tg=Rt.API,D2=tg.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,f=t.length,v=0,m=o[0]||l,g=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=h&&rn(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,g.push((o[n]||m)/l+p)),v=n;return g},kU=tg.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return tg.processArabic&&(t=tg.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:D2.apply(this,arguments).reduce(function(a,s){return a+s},0)},IU=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},OU=function(t,e,r){r||(r={});var n,i,a,s,o,l,u,d=[],h=[d],p=r.textIndent||0,f=0,v=0,m=t.split(" "),g=D2.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),x=[];m.map(function(A){(A=A.split(/\s*\n/)).length>1?x=x.concat(A.map(function(E,I){return(I&&E.length?`
`:"")+E})):x.push(A[0])}),m=x,l=kU.apply(this,[y,r])}for(a=0,s=m.length;a<s;a++){var _=0;if(n=m[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+f+(v=(i=D2.apply(this,[n,r])).reduce(function(A,E){return A+E},0))>e||_){if(v>e){for(o=IU.apply(this,[n,i,e-(p+f),e]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);v=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(A,E){return A+E},0)}else d=[n];h.push(d),p=v+l,f=g}else d.push(n),p+=f+v,f=g}return u=l?function(A,E){return(E?y:"")+A.join(" ")}:function(A){return A.join(" ")},h.map(u)},tg.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(OU.apply(this,[n[o],s,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var f,v,m,g,y=["{"];for(var x in p){if(f=p[x],isNaN(parseInt(x,10))?v="'"+x+"'":(x=parseInt(x,10),v=(v=s(x).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof f=="number")f<0?(m=s(f).slice(3),g="-"):(m=s(f).slice(2),g=""),m=g+m.slice(0,-1)+i[m.slice(-1)];else{if(rn(f)!=="object")throw new Error("Don't know what to do with value type "+rn(f)+".");m=o(f)}y.push(v+m)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,v,m,g,y={},x=1,_=y,A=[],E="",I="",j=p.length-1,N=1;N<j;N+=1)(g=p[N])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(A.push([_,m]),_={},m=void 0):g=="}"?((v=A.pop())[0][v[1]]=_,m=void 0,_=v[0]):g=="-"?x=-1:m===void 0?n.hasOwnProperty(g)?(E+=n[g],m=parseInt(E,16)*x,x=1,E=""):E+=g:n.hasOwnProperty(g)?(I+=n[g],_[m]=parseInt(I,16)*x,x=1,m=void 0,I=""):I+=g;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var f=p.font,v=h.Unicode[f.postScriptName];v&&(f.metadata.Unicode={},f.metadata.Unicode.widths=v.widths,f.metadata.Unicode.kerning=v.kerning);var m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Rt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(v_(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(Rt),Rt.API.addSvgAsImage=function(t,e,r,n,i,a,s,o){if(isNaN(e)||isNaN(r))throw xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Jt.canvg?Promise.resolve(Jt.canvg):Dh(()=>import("./index.es-C8ktrZgX.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,s,o)})},Rt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Rt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,d=0,h=0;function p(v,m){var g,y=!1;for(g=0;g<v.length;g+=1)v[g]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(h=0;h<f;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(rn(t)==="object"){for(i in t)if(a=t[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Rt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,p=a.length;h<p;++h){if(o=s.metadata.characterToGlyph(a.charCodeAt(h)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(a){var s,o,l,u,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(o=Object.keys(a).sort(function(f,v){return f-v})).length;h<p;h++)s=o[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",v=0;v<p.length;v++)f+=String.fromCharCode(p[v]);var m=u();d({data:f,addLength1:!0,objectId:m}),l("endobj");var g=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+cg(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+cg(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+cg(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var v=u();d({data:p,addLength1:!0,objectId:v}),l("endobj");var m=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+cg(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+cg(o.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,d=a.options||{},h=a.mutex||{},p=h.pdfEscape,f=h.activeFontKey,v=h.fonts,m=f,g="",y=0,x="",_=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:h};for(x=o,m=f,Array.isArray(o)&&(x=o[0]),y=0;y<x.length;y+=1)v[m].metadata.hasOwnProperty("cmap")&&(s=v[m].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),s||x[y].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?g+=x[y]:g+="";var A="";return parseInt(m.slice(1))<14||_==="WinAnsiEncoding"?A=p(g,m).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=r(g,v[m])),h.isHex=!0,{text:A,x:l,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(Rt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Rt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,u,d,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,_=0;this.__bidiEngine__={};var A=function(C){var O=C.charCodeAt(),L=O>>8,z=m[L];return z!==void 0?h[256*z+(255&O)]:L===252||L===253?"AL":y.test(L)?"L":L===8?"R":"N"},E=function(C){for(var O,L=0;L<C.length;L++){if((O=A(C.charAt(L)))==="L")return!1;if(O==="R")return!0}return!1},I=function(C,O,L,z){var re,Y,K,q,Z=O[z];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(Z="AN");break;case"AL":x=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":z<1||z+1>=O.length||(re=L[z-1])!=="EN"&&re!=="AN"||(Y=O[z+1])!=="EN"&&Y!=="AN"?Z="N":x&&(Y="AN"),Z=Y===re?Y:"N";break;case"ES":Z=(re=z>0?L[z-1]:"B")==="EN"&&z+1<O.length&&O[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&L[z-1]==="EN"){Z="EN";break}if(x){Z="N";break}for(K=z+1,q=O.length;K<q&&O[K]==="ET";)K++;Z=K<q&&O[K]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(q=O.length,K=z+1;K<q&&O[K]==="NSM";)K++;if(K<q){var ve=C[z],ce=ve>=1425&&ve<=2303||ve===64286;if(re=O[K],ce&&(re==="R"||re==="AL")){Z="R";break}}}Z=z<1||(re=O[z-1])==="B"?"N":L[z-1];break;case"B":x=!1,i=!0,Z=_;break;case"S":a=!0,Z="N"}return Z},j=function(C,O,L){var z=C.split("");return L&&N(z,L,{hiLevel:_}),z.reverse(),O&&O.reverse(),z.join("")},N=function(C,O,L){var z,re,Y,K,q,Z=-1,ve=C.length,ce=0,F=[],V=_?f:p,G=[];for(x=!1,i=!1,a=!1,re=0;re<ve;re++)G[re]=A(C[re]);for(Y=0;Y<ve;Y++){if(q=ce,F[Y]=I(C,G,F,Y),z=240&(ce=V[q][v[F[Y]]]),ce&=15,O[Y]=K=V[ce][5],z>0)if(z===16){for(re=Z;re<Y;re++)O[re]=1;Z=-1}else Z=-1;if(V[ce][6])Z===-1&&(Z=Y);else if(Z>-1){for(re=Z;re<Y;re++)O[re]=K;Z=-1}G[Y]==="B"&&(O[Y]=0),L.hiLevel|=K}a&&function(oe,J,ie){for(var be=0;be<ie;be++)if(oe[be]==="S"){J[be]=_;for(var he=be-1;he>=0&&oe[he]==="WS";he--)J[he]=_}}(G,O,ve)},k=function(C,O,L,z,re){if(!(re.hiLevel<C)){if(C===1&&_===1&&!i)return O.reverse(),void(L&&L.reverse());for(var Y,K,q,Z,ve=O.length,ce=0;ce<ve;){if(z[ce]>=C){for(q=ce+1;q<ve&&z[q]>=C;)q++;for(Z=ce,K=q-1;Z<K;Z++,K--)Y=O[Z],O[Z]=O[K],O[K]=Y,L&&(Y=L[Z],L[Z]=L[K],L[K]=Y);ce=q}ce++}}},D=function(C,O,L){var z=C.split(""),re={hiLevel:_};return L||(L=[]),N(z,L,re),function(Y,K,q){if(q.hiLevel!==0&&d)for(var Z,ve=0;ve<Y.length;ve++)K[ve]===1&&(Z=g.indexOf(Y[ve]))>=0&&(Y[ve]=g[Z+1])}(z,L,re),k(2,z,O,L,re),k(1,z,O,L,re),z.join("")};return this.__bidiEngine__.doBidiReorder=function(C,O,L){if(function(re,Y){if(Y)for(var K=0;K<re.length;K++)Y[K]=K;o===void 0&&(o=E(re)),u===void 0&&(u=E(re))}(C,O),s||!l||u)if(s&&l&&o^u)_=o?1:0,C=j(C,O,L);else if(!s&&l&&u)_=o?1:0,C=D(C,O,L),C=j(C,O);else if(!s||o||l||u){if(s&&!l&&o^u)C=j(C,O),o?(_=0,C=D(C,O,L)):(_=1,C=D(C,O,L),C=j(C,O));else if(s&&o&&!l&&u)_=1,C=D(C,O,L),C=j(C,O);else if(!s&&!l&&o^u){var z=d;o?(_=1,C=D(C,O,L),_=0,d=!1,C=D(C,O,L),d=z):(_=0,C=D(C,O,L),C=j(C,O),_=1,d=!1,C=D(C,O,L),d=z,C=j(C,O))}}else _=0,C=D(C,O,L);else _=o?1:0,C=D(C,O,L);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,l=C.isOutputVisual,o=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new lf(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new MQe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new SQe(this.contents),this.head=new NQe(this),this.name=new CQe(this),this.cmap=new zre(this),this.toUnicode={},this.hhea=new EQe(this),this.maxp=new kQe(this),this.hmtx=new IQe(this),this.post=new PQe(this),this.os2=new jQe(this),this.loca=new LQe(this),this.glyf=new OQe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Bl,lf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),SQe=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,u,d,h,p,f,v,m;for(m in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),s=Math.floor(h/l),d=16*f-h,(i=new lf).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(s),i.writeShort(d),a=16*f,u=i.pos+a,o=null,v=[],r)for(p=r[m],i.writeString(m),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),v=v.concat(p),m==="head"&&(o=u),u+=p.length;u%4;)v.push(0),u++;return i.write(v),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=qre.call(r);r.length%4;)r.push(0);for(a=new lf(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),AQe={}.hasOwnProperty,Bc=function(t,e){for(var r in e)AQe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Bl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var NQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new lf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),VU=function(){function t(e,r){var n,i,a,s,o,l,u,d,h,p,f,v,m,g,y,x,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,a=function(){var A,E;for(E=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)E.push(e.readUInt16());return E}(),e.pos+=2,m=function(){var A,E;for(E=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)E.push(e.readUInt16());return E}(),u=function(){var A,E;for(E=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)E.push(e.readUInt16());return E}(),d=function(){var A,E;for(E=[],l=A=0;0<=p?A<p:A>p;l=0<=p?++A:--A)E.push(e.readUInt16());return E}(),i=(this.length-e.pos+this.offset)/2,o=function(){var A,E;for(E=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)E.push(e.readUInt16());return E}(),l=y=0,_=a.length;y<_;l=++y)for(g=a[l],n=x=v=m[l];v<=g?x<=g:x>=g;n=v<=g?++x:--x)d[l]===0?s=n+u[l]:(s=o[d[l]/2+(n-v)-(p-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}e.pos=h}return t.encode=function(e,r){var n,i,a,s,o,l,u,d,h,p,f,v,m,g,y,x,_,A,E,I,j,N,k,D,C,O,L,z,re,Y,K,q,Z,ve,ce,F,V,G,oe,J,ie,be,he,P,X,ne;switch(z=new lf,s=Object.keys(e).sort(function(de,ge){return de-ge}),r){case"macroman":for(m=0,g=function(){var de=[];for(v=0;v<256;++v)de.push(0);return de}(),x={0:0},a={},re=0,Z=s.length;re<Z;re++)x[he=e[i=s[re]]]==null&&(x[he]=++m),a[i]={old:e[i],new:x[e[i]]},g[i]=x[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(g),{charMap:a,subtable:z.data,maxGlyphID:m+1};case"unicode":for(O=[],h=[],_=0,x={},n={},y=u=null,Y=0,ve=s.length;Y<ve;Y++)x[E=e[i=s[Y]]]==null&&(x[E]=++_),n[i]={old:E,new:x[E]},o=x[E]-i,y!=null&&o===u||(y&&h.push(y),O.push(i),u=o),y=i;for(y&&h.push(y),h.push(65535),O.push(65535),D=2*(k=O.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,j=2*k-N,l=[],I=[],f=[],v=K=0,ce=O.length;K<ce;v=++K){if(C=O[v],d=h[v],C===65535){l.push(0),I.push(0);break}if(C-(L=n[C].new)>=32768)for(l.push(0),I.push(2*(f.length+k-v)),i=q=C;C<=d?q<=d:q>=d;i=C<=d?++q:--q)f.push(n[i].new);else l.push(L-C),I.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*k+2*f.length),z.writeUInt16(0),z.writeUInt16(D),z.writeUInt16(N),z.writeUInt16(p),z.writeUInt16(j),ie=0,F=h.length;ie<F;ie++)i=h[ie],z.writeUInt16(i);for(z.writeUInt16(0),be=0,V=O.length;be<V;be++)i=O[be],z.writeUInt16(i);for(P=0,G=l.length;P<G;P++)o=l[P],z.writeUInt16(o);for(X=0,oe=I.length;X<oe;X++)A=I[X],z.writeUInt16(A);for(ne=0,J=f.length;ne<J;ne++)m=f[ne],z.writeUInt16(m);return{charMap:n,subtable:z.data,maxGlyphID:_+1}}},t}(),zre=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new VU(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=VU.encode(e,r),(i=new lf).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),EQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),jQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),PQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),TQe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},CQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,o,l,u,d,h,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=d=0,h=n.length;d<h;a=++d)i=n[a],e.pos=i.offset,u=e.readString(i.length),s=new TQe(u,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),kQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),IQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)a=h[u],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),qre=[].slice,OQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,o,l,u,d,h;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new lf(r.read(i))).readShort(),u=o.readShort(),h=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=s===-1?new DQe(o,u,h,l,d):new RQe(o,s,u,h,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=e[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t}(),RQe=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),DQe=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new lf(qre.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),LQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bc(t,Bl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t}(),MQe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,u,d,h,p,f,v,m,g,y;for(i in n=zre.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},y=n.charMap)f[(l=y[i]).old]=l.new;for(v in p=n.maxGlyphID,s)v in f||(f[v]=p++);return d=function(x){var _,A;for(_ in A={},x)A[x[_]]=_;return A}(f),h=Object.keys(d).sort(function(x,_){return x-_}),m=function(){var x,_,A;for(A=[],x=0,_=h.length;x<_;x++)o=h[x],A.push(d[o]);return A}(),a=this.font.glyf.encode(s,m,f),u=this.font.loca.encode(a.offsets,m),g={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();Rt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();const $Qe=()=>{var be,he;const{user:t}=qr(),[e,r]=T.useState(new Date().getMonth()+1),[n,i]=T.useState(new Date().getFullYear()),[a,s]=T.useState(null),[o,l]=T.useState(null),[u,d]=T.useState("all"),[h,p]=T.useState("all"),[f,v]=T.useState("all"),{data:m=[]}=rd((t==null?void 0:t.uid)||""),{data:g=[]}=Oy((t==null?void 0:t.uid)||""),{data:y=[]}=zx((t==null?void 0:t.uid)||""),x=`${n}-${String(e).padStart(2,"0")}-01`,_=new Date(n,e,0).toISOString().split("T")[0],{data:A=[]}=lo((t==null?void 0:t.uid)||"",x,_),I=(()=>{let P=A;return u==="deposits"?P=P.filter(X=>X.type==="deposit"):u==="withdraws"&&(P=P.filter(X=>X.type==="withdraw")),h!=="all"&&(P=P.filter(X=>X.employeeId===h)),f!=="all"&&(P=P.filter(X=>X.platformId===f)),P})(),j=()=>{d("all"),p("all"),v("all")},N=R3(),k=new Date(oc().getTime()-7*24*60*60*1e3).toISOString().split("T")[0],{data:D=[],isLoading:C}=lo((t==null?void 0:t.uid)||"",k,N),L=(()=>{const P=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],X=[];for(let ne=6;ne>=0;ne--){const de=new Date;de.setDate(de.getDate()-ne);const ge=de.toISOString().split("T")[0],ee=D.filter(_e=>{var je,Me;return new Date(((Me=(je=_e.createdAt)==null?void 0:je.toDate)==null?void 0:Me.call(je))||_e.createdAt).toISOString().split("T")[0]===ge}),Ae=ee.filter(_e=>_e.type==="withdraw").reduce((_e,ke)=>_e+(Number(ke.amount)||0),0),De=ee.filter(_e=>_e.type==="deposit").reduce((_e,ke)=>_e+(Number(ke.amount)||0),0),Le=X.length>0?X[X.length-1].lucroAcumulado+Ae-De:Ae-De;X.push({name:P[de.getDay()],receita:Ae,despesa:De,lucro:Ae-De,lucroAcumulado:Le,date:ge,isToday:ne===0})}return X})(),z=a&&o?`${o}-${String(a).padStart(2,"0")}-01`:"",re=a&&o?new Date(o,a,0).toISOString().split("T")[0]:"",{data:Y=[]}=lo((t==null?void 0:t.uid)||"",z,re),K=T.useMemo(()=>{const P=y.filter(ke=>{const je=new Date(ke.date);return je.getFullYear()===n&&je.getMonth()===e-1}),X=P.reduce((ke,je)=>ke+(je.profit||je.margin||0),0),ne=new Set(P.map(ke=>ke.date)),de=A.filter(ke=>!ne.has(ke.date)),ge=de.reduce((ke,je)=>{const Me=je.type==="withdraw"?je.amount:-je.amount;return ke+Me},0),ee=X+ge,Ae=A.filter(ke=>ke.type==="deposit"),De=A.filter(ke=>ke.type==="withdraw"),Le=Ae.reduce((ke,je)=>ke+Number(je.amount||0),0),_e=De.reduce((ke,je)=>ke+Number(je.amount||0),0);return console.log("Relatórios - Cálculo Receita Mensal:",{selectedYear:n,selectedMonth:e,monthlySummaries:P.length,monthlyRevenueFromSummaries:X,monthlyTransactions:A.length,openTransactions:de.length,monthlyRevenueFromTransactions:ge,profit:ee}),{deposits:Le,withdraws:_e,profit:ee,transactionCount:A.length}},[A,y,n,e]),q=T.useMemo(()=>{if(!Y.length)return null;const P=y.filter(ke=>{const je=new Date(ke.date);return je.getFullYear()===o&&je.getMonth()===(a||0)-1}),X=P.reduce((ke,je)=>ke+(je.profit||je.margin||0),0),ne=new Set(P.map(ke=>ke.date)),ge=Y.filter(ke=>!ne.has(ke.date)).reduce((ke,je)=>{const Me=je.type==="withdraw"?je.amount:-je.amount;return ke+Me},0),ee=X+ge,Ae=Y.filter(ke=>ke.type==="deposit"),De=Y.filter(ke=>ke.type==="withdraw"),Le=Ae.reduce((ke,je)=>ke+Number(je.amount||0),0),_e=De.reduce((ke,je)=>ke+Number(je.amount||0),0);return{deposits:Le,withdraws:_e,profit:ee,transactionCount:Y.length}},[Y,y,o,a]),Z=T.useMemo(()=>{const P=new Date(n,e,0).getDate(),X=[],ne=y.filter(Ae=>{const De=new Date(Ae.date),Le=De.getFullYear()===n&&De.getMonth()===e-1;return console.log(`Fechamento ${Ae.date}:`,{summaryDate:De.toISOString(),year:De.getFullYear(),month:De.getMonth(),selectedYear:n,selectedMonth:e-1,matches:Le}),Le}),de=new Map;ne.forEach(Ae=>{de.set(Ae.date,Ae)});const ge=new Set(ne.map(Ae=>Ae.date)),ee=new Map;A.forEach(Ae=>{ge.has(Ae.date)||(ee.has(Ae.date)||ee.set(Ae.date,[]),ee.get(Ae.date).push(Ae))});for(let Ae=1;Ae<=P;Ae++){const De=`${n}-${String(e).padStart(2,"0")}-${String(Ae).padStart(2,"0")}`;let Le=0,_e=0,ke=0,je=0;const Me=de.get(De);if(Me)Le=Me.profit||Me.margin||0,_e=Me.totalDeposits||0,ke=Me.totalWithdraws||0,je=Me.transactionCount||0,console.log(`Dia ${Ae} (${De}): Usando fechamento - Profit: ${Le}`);else{const et=ee.get(De)||[],Yt=et.filter(ut=>ut.type==="deposit"),Nt=et.filter(ut=>ut.type==="withdraw");_e=Yt.reduce((ut,Lt)=>ut+Number(Lt.amount||0),0),ke=Nt.reduce((ut,Lt)=>ut+Number(Lt.amount||0),0),Le=ke-_e,je=et.length,Le!==0&&console.log(`Dia ${Ae} (${De}): Usando transações abertas - Profit: ${Le}`)}X.push({day:Ae,date:De,lucroPrejuizo:Le,depositos:_e,saques:ke,transacoes:je})}return console.log("Relatórios - DailyData calculado:",{selectedYear:n,selectedMonth:e,monthlySummaries:ne.length,monthlyTransactions:A.length,dailyStats:X.filter(Ae=>Ae.lucroPrejuizo!==0).length}),console.log("Relatórios - Fechamentos diários detalhados:",ne.map(Ae=>({date:Ae.date,profit:Ae.profit||Ae.margin||0,totalDeposits:Ae.totalDeposits||0,totalWithdraws:Ae.totalWithdraws||0}))),console.log("Relatórios - Dias com lucro no gráfico:",X.filter(Ae=>Ae.lucroPrejuizo!==0).map(Ae=>({day:Ae.day,date:Ae.date,lucroPrejuizo:Ae.lucroPrejuizo}))),X},[A,y,e,n]),ve=T.useMemo(()=>{const P=[];for(let X=0;X<Z.length-1;X++){const ne=Z[X],de=Z[X+1],ge=de.lucroPrejuizo>ne.lucroPrejuizo,ee=ge?"#22c55e":"#ef4444";P.push({startDay:ne.day,endDay:de.day,startValue:ne.lucroPrejuizo,endValue:de.lucroPrejuizo,color:ee,isRising:ge})}return P},[Z]),ce=T.useMemo(()=>g.map(P=>{const X=A.filter(De=>De.platformId===P.id),ne=X.filter(De=>De.type==="deposit"),de=X.filter(De=>De.type==="withdraw"),ge=ne.reduce((De,Le)=>De+Number(Le.amount||0),0),ee=de.reduce((De,Le)=>De+Number(Le.amount||0),0),Ae=ee-ge;return{name:P.name,color:P.color,receita:Ae,depositos:ge,saques:ee,transacoes:X.length}}).filter(P=>P.transacoes>0).sort((P,X)=>X.receita-P.receita),[g,A]),F=T.useMemo(()=>m.map(P=>{const X=A.filter(De=>De.employeeId===P.id),ne=X.filter(De=>De.type==="deposit"),de=X.filter(De=>De.type==="withdraw"),ge=ne.reduce((De,Le)=>De+Number(Le.amount||0),0),ee=de.reduce((De,Le)=>De+Number(Le.amount||0),0),Ae=ee-ge;return{name:P.name,receita:Ae,depositos:ge,saques:ee,transacoes:X.length}}).filter(P=>P.transacoes>0).sort((P,X)=>X.receita-P.receita),[m,A]),G=q?((P,X)=>X===0?P>0?100:0:(P-X)/X*100)(K.profit,q.profit):0,oe=()=>{try{let X="\uFEFF";X+=`=== Optify - Sistema de Gestão Financeira ===
`,X+=`Relatório de ${ie[e-1]} de ${n}
`,X+=`Gerado em: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}
`,X+=`
`,X+=`=== RESUMO EXECUTIVO ===
`,X+=`Total de Receitas,R$ ${K.withdraws.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,X+=`Total de Despesas,R$ ${K.deposits.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,X+=`Lucro Líquido,R$ ${K.profit.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,X+=`Total de Transações,${A.length}
`,X+=`Funcionários Ativos,${m.filter(Ae=>Ae.status==="active").length}
`,X+=`Plataformas Utilizadas,${g.length}
`,X+=`
`,X+=`=== ANÁLISE POR FUNCIONÁRIO ===
`,X+=`Funcionário,Depósitos,Saques,Lucro,Transações
`,m.forEach(Ae=>{const De=A.filter(je=>je.employeeId===Ae.id),Le=De.filter(je=>je.type==="deposit").reduce((je,Me)=>je+Number(Me.amount||0),0),_e=De.filter(je=>je.type==="withdraw").reduce((je,Me)=>je+Number(Me.amount||0),0),ke=_e-Le;X+=`"${Ae.name}",R$ ${Le.toLocaleString("pt-BR")},R$ ${_e.toLocaleString("pt-BR")},R$ ${ke.toLocaleString("pt-BR")},${De.length}
`}),X+=`
`,X+=`=== ANÁLISE POR PLATAFORMA ===
`,X+=`Plataforma,Depósitos,Saques,Transações
`,g.forEach(Ae=>{const De=A.filter(ke=>ke.platformId===Ae.id),Le=De.filter(ke=>ke.type==="deposit").reduce((ke,je)=>ke+Number(je.amount||0),0),_e=De.filter(ke=>ke.type==="withdraw").reduce((ke,je)=>ke+Number(je.amount||0),0);X+=`"${Ae.name}",R$ ${Le.toLocaleString("pt-BR")},R$ ${_e.toLocaleString("pt-BR")},${De.length}
`}),X+=`
`,X+=`=== TRANSAÇÕES DETALHADAS ===
`,X+=`Data,Hora,Tipo,Funcionário,Plataforma,Valor,Saldo Diário
`;let ne=0;A.forEach(Ae=>{var je,Me;const De=m.find(et=>et.id===Ae.employeeId),Le=g.find(et=>et.id===Ae.platformId),_e=Number(Ae.amount||0);Ae.type==="withdraw"?ne+=_e:ne-=_e;const ke=new Date(((Me=(je=Ae.createdAt)==null?void 0:je.toDate)==null?void 0:Me.call(je))||Ae.createdAt);X+=`"${ke.toLocaleDateString("pt-BR")}","${ke.toLocaleTimeString("pt-BR")}","${Ae.type==="withdraw"?"Saque":"Depósito"}","${(De==null?void 0:De.name)||"N/A"}","${(Le==null?void 0:Le.name)||"N/A"}","R$ ${_e.toLocaleString("pt-BR")}","R$ ${ne.toLocaleString("pt-BR")}"
`});const de=new Blob([X],{type:"text/csv;charset=utf-8;"}),ge=document.createElement("a"),ee=URL.createObjectURL(de);ge.setAttribute("href",ee),ge.setAttribute("download",`relatorio_optify_${ie[e-1]}_${n}.csv`),ge.style.visibility="hidden",document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),Ge.success("Relatório CSV exportado com sucesso!")}catch(P){console.error("Erro ao exportar CSV:",P),Ge.error("Erro ao exportar relatório CSV")}},J=()=>{try{const P=new Rt,X=P.internal.pageSize.getWidth(),ne=P.internal.pageSize.getHeight(),de=20,ge=[255,165,0],ee=[255,140,0],Ae=[45,45,45],De=[245,245,245],Le=[150,150,150],_e=[255,255,255],ke=[34,197,94],je=[239,68,68];for(let St=0;St<40;St++){const tr=255-St*6;P.setFillColor(tr,Math.floor(tr*.65),0),P.rect(0,St*7,X,7,"F")}const Me=X/2,et=65,Yt=18,Nt=[255,140,0],ut=[255,200,100],Lt=Yt*2.4,vt=Yt*1.2,Ee=Yt*1.2,Ye=Yt*2.8,Ze=et-Ee-Ye/2,ct=et-Ye/2,lt=et+Ye/2;P.setFillColor(...Nt),P.setDrawColor(...Nt);const rt=[[Me-Lt/2,Ze],[Me+Lt/2,Ze],[Me+vt/2,ct],[Me-vt/2,ct]];P.triangle(Me-Lt/2,Ze,Me+Lt/2,Ze,Me,ct,"F"),P.triangle(Me-vt/2,ct,Me,ct,Me,lt,"F"),P.triangle(Me+vt/2,ct,Me,ct,Me,lt,"F"),P.setDrawColor(255,255,255),P.setLineWidth(1.2),P.line(Me-Lt/2,Ze,Me+Lt/2,Ze),P.line(Me-Lt/2,Ze,Me-vt/2,ct),P.line(Me+Lt/2,Ze,Me+vt/2,ct),P.line(Me-Lt/2,Ze,Me+Lt/2,Ze),P.line(Me,Ze,Me,lt),P.line(Me-vt/2,ct,Me,lt),P.line(Me+vt/2,ct,Me,lt),P.line(Me-vt/2,ct,Me+vt/2,ct),P.setTextColor(..._e),P.setFontSize(52),P.setFont("helvetica","bold"),P.text("Optify",Me,120,{align:"center"}),P.setFontSize(18),P.setFont("helvetica","normal"),P.text("Sistema de Gestão de Operações",Me,140,{align:"center"}),P.setFontSize(24),P.setFont("helvetica","bold"),P.text("Relatório Mensal",Me,170,{align:"center"}),P.setFontSize(18),P.setFont("helvetica","normal"),P.text(`${ie[e-1]} de ${n}`,Me,185,{align:"center"}),P.setFontSize(10),P.setTextColor(...Le),P.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")} às ${new Date().toLocaleTimeString("pt-BR")}`,Me,250,{align:"center"}),P.text(`Total de Transações: ${A.length}`,Me,260,{align:"center"}),P.setFontSize(8),P.text("Relatório Confidencial",Me,ne-10,{align:"center"}),P.addPage();let Ce=20;P.setFillColor(...ge),P.rect(0,0,X,15,"F"),P.setTextColor(..._e),P.setFontSize(10),P.setFont("helvetica","bold"),P.text("Optify",de,10),P.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Ce=35,P.setTextColor(...Ae),P.setFontSize(20),P.setFont("helvetica","bold"),P.text("Resumo Executivo",de,Ce),Ce+=15;const Ct=(X-3*de)/2,yt=35;P.setFillColor(...De),P.roundedRect(de,Ce,Ct,yt,3,3,"F"),P.setDrawColor(...ke),P.setLineWidth(.5),P.roundedRect(de,Ce,Ct,yt,3,3,"S"),P.setTextColor(...Le),P.setFontSize(10),P.setFont("helvetica","normal"),P.text("Total de Receitas",de+5,Ce+10),P.setTextColor(...ke),P.setFontSize(18),P.setFont("helvetica","bold"),P.text(`R$ ${K.withdraws.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,de+5,Ce+25),P.setFillColor(...De),P.roundedRect(de+Ct+de,Ce,Ct,yt,3,3,"F"),P.setDrawColor(...je),P.roundedRect(de+Ct+de,Ce,Ct,yt,3,3,"S"),P.setTextColor(...Le),P.setFontSize(10),P.setFont("helvetica","normal"),P.text("Total de Despesas",de+Ct+de+5,Ce+10),P.setTextColor(...je),P.setFontSize(18),P.setFont("helvetica","bold"),P.text(`R$ ${K.deposits.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,de+Ct+de+5,Ce+25),Ce+=yt+10;const er=K.profit>=0?ke:je;P.setFillColor(...De),P.roundedRect(de,Ce,X-2*de,yt,3,3,"F"),P.setDrawColor(...er),P.setLineWidth(.8),P.roundedRect(de,Ce,X-2*de,yt,3,3,"S"),P.setTextColor(...Le),P.setFontSize(12),P.setFont("helvetica","normal"),P.text("Lucro Líquido do Período",de+5,Ce+12),P.setTextColor(...er),P.setFontSize(22),P.setFont("helvetica","bold");const Bt=`${K.profit>=0?"+":""}R$ ${Math.abs(K.profit).toLocaleString("pt-BR",{minimumFractionDigits:2})}`;P.text(Bt,de+5,Ce+28),Ce+=yt+20,P.setFillColor(...Ae),P.rect(de,Ce,X-2*de,.5,"F"),Ce+=10,P.setTextColor(...Ae),P.setFontSize(14),P.setFont("helvetica","bold"),P.text("Métricas do Período",de,Ce),Ce+=12;const Vr=[{label:"Total de Transações",value:A.length.toString()},{label:"Funcionários Ativos",value:m.filter(St=>St.status==="active").length.toString()},{label:"Plataformas Utilizadas",value:g.length.toString()},{label:"Ticket Médio",value:`R$ ${(K.withdraws/A.filter(St=>St.type==="withdraw").length||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`}],hn=(X-5*de)/2;let Mt=de,_t=Ce;Vr.forEach((St,tr)=>{tr===2&&(Mt=de,_t+=25),P.setFillColor(...De),P.roundedRect(Mt,_t,hn,20,2,2,"F"),P.setTextColor(...Le),P.setFontSize(8),P.setFont("helvetica","normal"),P.text(St.label,Mt+5,_t+8),P.setTextColor(...Ae),P.setFontSize(11),P.setFont("helvetica","bold"),P.text(St.value,Mt+5,_t+16),Mt+=hn+de}),P.addPage(),Ce=20,P.setFillColor(...ge),P.rect(0,0,X,15,"F"),P.setTextColor(..._e),P.setFontSize(10),P.setFont("helvetica","bold"),P.text("Optify",de,10),P.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Ce=35,P.setTextColor(...Ae),P.setFontSize(16),P.setFont("helvetica","bold"),P.text("Análise por Funcionário",de,Ce),Ce+=15,m.forEach((St,tr)=>{Ce>ne-60&&(P.addPage(),P.setFillColor(...ge),P.rect(0,0,X,15,"F"),P.setTextColor(..._e),P.setFontSize(10),P.setFont("helvetica","bold"),P.text("Optify",de,10),P.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Ce=30);const Ar=A.filter(Lr=>Lr.employeeId===St.id),yr=Ar.filter(Lr=>Lr.type==="deposit").reduce((Lr,Wn)=>Lr+Number(Wn.amount||0),0),cn=Ar.filter(Lr=>Lr.type==="withdraw").reduce((Lr,Wn)=>Lr+Number(Wn.amount||0),0),un=cn-yr;P.setFillColor(...De),P.roundedRect(de,Ce,X-2*de,40,3,3,"F"),P.setTextColor(...Ae),P.setFontSize(12),P.setFont("helvetica","bold"),P.text(St.name||"N/A",de+5,Ce+10);const Dn=St.status==="active"?ke:je;P.setFillColor(...Dn),P.circle(de+5,Ce+15,2,"F"),P.setTextColor(...Dn),P.setFontSize(8),P.setFont("helvetica","normal"),P.text(St.status==="active"?"Ativo":"Inativo",de+10,Ce+16),P.setTextColor(...Le),P.setFontSize(8),P.setFont("helvetica","normal"),P.text("Depósitos:",de+5,Ce+25),P.text("Saques:",de+55,Ce+25),P.text("Lucro:",de+100,Ce+25),P.text("Transações:",de+140,Ce+25),P.setTextColor(...Ae),P.setFontSize(10),P.setFont("helvetica","bold"),P.text(`R$ ${yr.toLocaleString("pt-BR")}`,de+5,Ce+33),P.text(`R$ ${cn.toLocaleString("pt-BR")}`,de+55,Ce+33);const pn=un>=0?ke:je;P.setTextColor(...pn),P.text(`R$ ${un.toLocaleString("pt-BR")}`,de+100,Ce+33),P.setTextColor(...Ae),P.text(Ar.length.toString(),de+140,Ce+33),Ce+=45}),P.addPage(),Ce=20,P.setFillColor(...ge),P.rect(0,0,X,15,"F"),P.setTextColor(..._e),P.setFontSize(10),P.setFont("helvetica","bold"),P.text("Optify",de,10),P.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Ce=35,P.setTextColor(...Ae),P.setFontSize(16),P.setFont("helvetica","bold"),P.text("Análise por Plataforma",de,Ce),Ce+=15,g.forEach(St=>{Ce>ne-40&&(P.addPage(),P.setFillColor(...ge),P.rect(0,0,X,15,"F"),P.setTextColor(..._e),P.setFontSize(10),P.setFont("helvetica","bold"),P.text("Optify",de,10),P.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Ce=30);const tr=A.filter(Lr=>Lr.platformId===St.id),Ar=tr.filter(Lr=>Lr.type==="deposit").reduce((Lr,Wn)=>Lr+Number(Wn.amount||0),0),yr=tr.filter(Lr=>Lr.type==="withdraw").reduce((Lr,Wn)=>Lr+Number(Wn.amount||0),0),cn=Ar+yr;P.setTextColor(...Ae),P.setFontSize(10),P.setFont("helvetica","bold"),P.text(St.name||"N/A",de,Ce);const un=X-4*de,Dn=Ar/(K.deposits||1)*un,pn=yr/(K.withdraws||1)*un;P.setFillColor(...je),P.rect(de,Ce+5,Dn,6,"F"),P.setTextColor(...je),P.setFontSize(8),P.text(`D: R$ ${Ar.toLocaleString("pt-BR")}`,de,Ce+15),P.setFillColor(...ke),P.rect(de,Ce+12,pn,6,"F"),P.setTextColor(...ke),P.text(`S: R$ ${yr.toLocaleString("pt-BR")}`,de,Ce+22),P.setTextColor(...Ae),P.setFontSize(8),P.text(`${tr.length} transações`,X-de-30,Ce+15),Ce+=30}),P.addPage(),Ce=20,P.setFillColor(...ge),P.rect(0,0,X,15,"F"),P.setTextColor(..._e),P.setFontSize(10),P.setFont("helvetica","bold"),P.text("Optify",de,10),P.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Ce=35,P.setTextColor(...Ae),P.setFontSize(16),P.setFont("helvetica","bold"),P.text("Evolução Diária do Lucro",de,Ce),Ce+=15;const Ut={};A.forEach(St=>{var yr,cn;const tr=new Date(((cn=(yr=St.createdAt)==null?void 0:yr.toDate)==null?void 0:cn.call(yr))||St.createdAt).toLocaleDateString("pt-BR");Ut[tr]||(Ut[tr]={deposits:0,withdraws:0,profit:0});const Ar=Number(St.amount||0);St.type==="deposit"?Ut[tr].deposits+=Ar:Ut[tr].withdraws+=Ar,Ut[tr].profit=Ut[tr].withdraws-Ut[tr].deposits});const bt=Object.keys(Ut).sort((St,tr)=>{const[Ar,yr,cn]=St.split("/").map(Number),[un,Dn,pn]=tr.split("/").map(Number);return new Date(cn,yr-1,Ar).getTime()-new Date(pn,Dn-1,un).getTime()}),Tt=80,lr=X-2*de,cr=de,ot=Ce;P.setFillColor(...De),P.rect(cr,ot,lr,Tt,"F"),P.setDrawColor(...Le),P.setLineWidth(.3),P.line(cr,ot+Tt,cr+lr,ot+Tt),P.line(cr,ot,cr,ot+Tt);const Qn=bt.map(St=>Ut[St].profit),Rn=Math.max(...Qn,0),Dr=Math.min(...Qn,0),ln=Rn-Dr||1,Jr=ot+Tt-(0-Dr)/ln*Tt;P.setDrawColor(...Ae),P.setLineWidth(.5),P.setLineDash([2,2]),P.line(cr,Jr,cr+lr,Jr),P.setLineDash([]);const fn=bt.length>1?lr/(bt.length-1):0;bt.forEach((St,tr)=>{const Ar=Ut[St].profit,yr=cr+tr*fn,cn=ot+Tt-(Ar-Dr)/ln*Tt;if(tr>0){const un=Ut[bt[tr-1]].profit,Dn=ot+Tt-(un-Dr)/ln*Tt,pn=cr+(tr-1)*fn;P.setDrawColor(...ge),P.setLineWidth(1),P.line(pn,Dn,yr,cn)}P.setFillColor(...ge),P.circle(yr,cn,1.5,"F")}),P.setTextColor(...Le),P.setFontSize(8),P.setFont("helvetica","normal"),P.text(`Máx: R$ ${Rn.toLocaleString("pt-BR")}`,cr,ot-2),P.text(`Mín: R$ ${Dr.toLocaleString("pt-BR")}`,cr,ot+Tt+8),Ce+=Tt+20,P.setTextColor(...Ae),P.setFontSize(12),P.setFont("helvetica","bold"),P.text("Resumo Diário (últimos 10 dias)",de,Ce),Ce+=10,P.setFillColor(...Ae),P.rect(de,Ce,X-2*de,8,"F"),P.setTextColor(..._e),P.setFontSize(8),P.setFont("helvetica","bold"),P.text("Data",de+3,Ce+5),P.text("Depósitos",de+35,Ce+5),P.text("Saques",de+75,Ce+5),P.text("Lucro",de+115,Ce+5),Ce+=8,bt.slice(-10).forEach((St,tr)=>{Ce>ne-30&&(P.addPage(),P.setFillColor(...ge),P.rect(0,0,X,15,"F"),P.setTextColor(..._e),P.setFontSize(10),P.setFont("helvetica","bold"),P.text("Optify",de,10),P.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Ce=25);const Ar=Ut[St];tr%2===0&&(P.setFillColor(...De),P.rect(de,Ce,X-2*de,7,"F")),P.setTextColor(...Ae),P.setFontSize(7),P.setFont("helvetica","normal"),P.text(St,de+3,Ce+5),P.text(`R$ ${Ar.deposits.toLocaleString("pt-BR")}`,de+35,Ce+5),P.text(`R$ ${Ar.withdraws.toLocaleString("pt-BR")}`,de+75,Ce+5);const yr=Ar.profit>=0?ke:je;P.setTextColor(...yr),P.setFont("helvetica","bold"),P.text(`R$ ${Ar.profit.toLocaleString("pt-BR")}`,de+115,Ce+5),Ce+=7}),P.addPage(),Ce=20,P.setFillColor(...ge),P.rect(0,0,X,15,"F"),P.setTextColor(..._e),P.setFontSize(10),P.setFont("helvetica","bold"),P.text("Optify",de,10),P.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Ce=35,P.setTextColor(...Ae),P.setFontSize(16),P.setFont("helvetica","bold"),P.text("Transações Detalhadas",de,Ce),Ce+=10,P.setFillColor(...Ae),P.rect(de,Ce,X-2*de,10,"F"),P.setTextColor(..._e),P.setFontSize(9),P.setFont("helvetica","bold"),P.text("Data",de+3,Ce+7),P.text("Tipo",de+25,Ce+7),P.text("Funcionário",de+50,Ce+7),P.text("Plataforma",de+95,Ce+7),P.text("Valor",de+135,Ce+7,{align:"right"}),Ce+=10,A.slice(0,30).forEach((St,tr)=>{var pn,Lr;Ce>ne-30&&(P.addPage(),P.setFillColor(...ge),P.rect(0,0,X,15,"F"),P.setTextColor(..._e),P.setFontSize(10),P.setFont("helvetica","bold"),P.text("Optify",de,10),P.text(`Relatório de ${ie[e-1]} ${n}`,X-de,10,{align:"right"}),Ce=25,P.setFillColor(...Ae),P.rect(de,Ce,X-2*de,10,"F"),P.setTextColor(..._e),P.setFontSize(9),P.setFont("helvetica","bold"),P.text("Data",de+3,Ce+7),P.text("Tipo",de+25,Ce+7),P.text("Funcionário",de+50,Ce+7),P.text("Plataforma",de+95,Ce+7),P.text("Valor",de+135,Ce+7,{align:"right"}),Ce+=10);const Ar=m.find(Wn=>Wn.id===St.employeeId),yr=g.find(Wn=>Wn.id===St.platformId);tr%2===0&&(P.setFillColor(...De),P.rect(de,Ce,X-2*de,8,"F")),P.setTextColor(...Ae),P.setFontSize(8),P.setFont("helvetica","normal");const cn=new Date(((Lr=(pn=St.createdAt)==null?void 0:pn.toDate)==null?void 0:Lr.call(pn))||St.createdAt);P.text(cn.toLocaleDateString("pt-BR"),de+3,Ce+5);const un=St.type==="withdraw"?ke:je;P.setTextColor(...un),P.setFont("helvetica","bold"),P.text(St.type==="withdraw"?"Saque":"Depósito",de+25,Ce+5),P.setTextColor(...Ae),P.setFont("helvetica","normal"),P.text(((Ar==null?void 0:Ar.name)||"N/A").substring(0,20),de+50,Ce+5),P.text(((yr==null?void 0:yr.name)||"N/A").substring(0,18),de+95,Ce+5),P.setTextColor(...un),P.setFont("helvetica","bold");const Dn=`${St.type==="withdraw"?"+":"-"}R$ ${Number(St.amount||0).toLocaleString("pt-BR")}`;P.text(Dn,de+135,Ce+5,{align:"right"}),Ce+=8}),P.setFillColor(...Ae),P.rect(0,ne-15,X,15,"F"),P.setTextColor(..._e),P.setFontSize(8),P.setFont("helvetica","normal"),P.text(`Página ${P.getCurrentPageInfo().pageNumber}`,de,ne-8),P.text("Optify - Sistema de Gestão Financeira",X-de,ne-8,{align:"right"}),P.save(`relatorio_optify_${ie[e-1]}_${n}.pdf`),Ge.success("Relatório PDF exportado com sucesso!")}catch(P){console.error("Erro ao exportar PDF:",P),Ge.error("Erro ao exportar relatório PDF")}},ie=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",className:"text-primary",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"diamondGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#FFA500"}),c.jsx("stop",{offset:"100%",stopColor:"#FF8C00"})]})}),c.jsx("path",{d:"M20 2 L30 12 L20 22 L10 12 Z",fill:"url(#diamondGradient)",stroke:"none"}),c.jsx("path",{d:"M20 6 L26 12 L20 18 L14 12 Z",fill:"white",opacity:"0.3"})]}),c.jsx("div",{className:"absolute -inset-1 bg-primary/20 rounded-full blur-sm animate-pulse"})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Relatórios"}),c.jsx("p",{className:"text-muted-foreground",children:"Análises e insights do seu negócio"})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(qe,{variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 hover:shadow-lg",onClick:oe,children:[c.jsx(BT,{className:"h-4 w-4"}),"Exportar CSV"]}),c.jsxs(qe,{variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 hover:shadow-lg",onClick:J,children:[c.jsx(BT,{className:"h-4 w-4"}),"Exportar PDF"]})]})]}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_v,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:"Período:"})]}),c.jsxs(Zn,{value:e.toString(),onValueChange:P=>r(Number(P)),children:[c.jsx(Kn,{className:"w-40",children:c.jsx(ei,{})}),c.jsx(Yn,{children:ie.map((P,X)=>c.jsx(Or,{value:(X+1).toString(),children:P},X))})]}),c.jsxs(Zn,{value:n.toString(),onValueChange:P=>i(Number(P)),children:[c.jsx(Kn,{className:"w-32",children:c.jsx(ei,{})}),c.jsx(Yn,{children:[2024,2025,2026].map(P=>c.jsx(Or,{value:P.toString(),children:P},P))})]}),c.jsx(qe,{variant:"outline",onClick:()=>{s(e),l(n)},children:"Comparar com Outros Meses"})]}),a&&o&&c.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Comparando com:"}),c.jsxs(Zn,{value:a.toString(),onValueChange:P=>s(Number(P)),children:[c.jsx(Kn,{className:"w-40",children:c.jsx(ei,{})}),c.jsx(Yn,{children:ie.map((P,X)=>c.jsx(Or,{value:(X+1).toString(),children:P},X))})]}),c.jsxs(Zn,{value:o.toString(),onValueChange:P=>l(Number(P)),children:[c.jsx(Kn,{className:"w-32",children:c.jsx(ei,{})}),c.jsx(Yn,{children:[2024,2025,2026].map(P=>c.jsx(Or,{value:P.toString(),children:P},P))})]}),c.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>{s(null),l(null)},children:"Remover Comparação"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Mês"}),c.jsxs("p",{className:`text-3xl font-bold ${K.profit>=0?"text-success":"text-destructive"}`,children:["R$ ",K.profit.toLocaleString("pt-BR")]}),q&&c.jsxs("div",{className:`flex items-center gap-1 text-sm mt-1 ${G>=0?"text-success":"text-destructive"}`,children:[G>=0?c.jsx(di,{className:"h-4 w-4"}):c.jsx(qh,{className:"h-4 w-4"}),G>=0?"+":"",G.toFixed(1),"% vs. ",ie[a-1]]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(di,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),c.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",K.deposits.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(qh,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),c.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",K.withdraws.toLocaleString("pt-BR")]})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(di,{className:"h-6 w-6 text-primary-foreground"})})]})}),c.jsx(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),c.jsx("p",{className:"text-3xl font-bold",children:K.transactionCount})]}),c.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:c.jsx(_v,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-6",children:["Lucro/Prejuízo Diário - ",ie[e-1]," ",n]}),c.jsxs("div",{className:"mb-4 flex items-center gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-0.5 bg-green-500"}),c.jsx("span",{children:"Subida"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-0.5 bg-red-500"}),c.jsx("span",{children:"Queda"})]})]}),c.jsxs("div",{className:"w-full h-96 relative",children:[c.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[c.jsx("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",stroke:"hsl(var(--muted-foreground))",strokeDasharray:"2,2",strokeWidth:"1"}),ve.map((P,X)=>{const ne=(P.startDay-1)/(Z.length-1)*100,de=(P.endDay-1)/(Z.length-1)*100,ge=Z.map(je=>je.lucroPrejuizo),ee=Math.max(...ge,0),Ae=Math.min(...ge,0),De=Math.max(Math.abs(ee),Math.abs(Ae)),Le=De>0?De*1.2:1e3,_e=P.startValue>=0?50-P.startValue/Le*40:50+Math.abs(P.startValue)/Le*40,ke=P.endValue>=0?50-P.endValue/Le*40:50+Math.abs(P.endValue)/Le*40;return c.jsx("line",{x1:`${ne}%`,y1:`${_e}%`,x2:`${de}%`,y2:`${ke}%`,stroke:P.color,strokeWidth:"3",strokeLinecap:"round"},X)}),Z.map((P,X)=>{const ne=(P.day-1)/(Z.length-1)*100,de=Z.map(_e=>_e.lucroPrejuizo),ge=Math.max(...de,0),ee=Math.min(...de,0),Ae=Math.max(Math.abs(ge),Math.abs(ee)),De=Ae>0?Ae*1.2:1e3,Le=P.lucroPrejuizo>=0?50-P.lucroPrejuizo/De*40:50+Math.abs(P.lucroPrejuizo)/De*40;return c.jsx("circle",{cx:`${ne}%`,cy:`${Le}%`,r:"4",fill:"hsl(var(--foreground))",stroke:"hsl(var(--background))",strokeWidth:"2"},X)})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-4 pb-2",children:Z.map((P,X)=>{const ne=(P.day-1)/(Z.length-1)*100;return c.jsx("span",{className:"absolute text-xs text-muted-foreground",style:{left:`${ne}%`,transform:"translateX(-50%)"},children:P.day},X)})}),(()=>{const P=Z.map(ee=>ee.lucroPrejuizo),X=Math.max(...P,0),ne=Math.min(...P,0),de=Math.max(Math.abs(X),Math.abs(ne)),ge=de>0?de*1.2:1e3;return c.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between py-4 pl-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:["R$ ",ge.toLocaleString("pt-BR")]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"R$ 0"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["-R$ ",ge.toLocaleString("pt-BR")]})]})})(),c.jsx("div",{className:"absolute inset-0",children:Z.map((P,X)=>{const ne=(P.day-1)/(Z.length-1)*100,de=Z.map(_e=>_e.lucroPrejuizo),ge=Math.max(...de,0),ee=Math.min(...de,0),Ae=Math.max(Math.abs(ge),Math.abs(ee)),De=Ae>0?Ae*1.2:1e3,Le=P.lucroPrejuizo>=0?50-P.lucroPrejuizo/De*40:50+Math.abs(P.lucroPrejuizo)/De*40;return c.jsxs("div",{className:"absolute text-white text-sm font-medium",style:{left:`${ne}%`,top:`${Le-8}%`,transform:"translateX(-50%)"},children:["R$ ",P.lucroPrejuizo.toLocaleString("pt-BR")]},X)})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Plataforma"}),c.jsx(P1,{width:"100%",height:300,children:c.jsxs(p_,{data:ce,children:[c.jsx(D1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),c.jsx(Ip,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),c.jsx(Op,{stroke:"hsl(var(--muted-foreground))"}),c.jsx(ys,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),c.jsx(Bo,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),c.jsx(P1,{width:"100%",height:300,children:c.jsxs(p_,{data:F,children:[c.jsx(D1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),c.jsx(Ip,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),c.jsx(Op,{stroke:"hsl(var(--muted-foreground))"}),c.jsx(ys,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),c.jsx(Bo,{dataKey:"receita",fill:"hsl(var(--success))",radius:[8,8,0,0]})]})})]})]}),c.jsxs(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300 mt-8",id:"weekly-chart-section",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Resumo Semanal"}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-success rounded-full"}),c.jsx("span",{children:"Receitas"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full"}),c.jsx("span",{children:"Despesas"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),c.jsx("span",{children:"Lucro Acumulado"})]})]})]}),C?c.jsx("div",{className:"flex items-center justify-center h-[300px]",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Carregando dados..."})]})}):L.some(P=>P.receita>0||P.despesa>0)?c.jsx(P1,{width:"100%",height:300,children:c.jsxs(p_,{data:L,children:[c.jsx(D1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),c.jsx(Ip,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",tick:{fontSize:12}}),c.jsx(Op,{stroke:"hsl(var(--muted-foreground))",tick:{fontSize:12},tickFormatter:P=>`R$ ${P.toLocaleString("pt-BR")}`}),c.jsx(ys,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(P,X)=>[`R$ ${Number(P).toLocaleString("pt-BR")}`,X==="receita"?"Receitas":X==="despesa"?"Despesas":"Lucro Acumulado"],labelFormatter:(P,X)=>{var de;const ne=(de=X==null?void 0:X[0])==null?void 0:de.payload;return ne?`${P} - ${ne.date}`:P}}),c.jsx(Bo,{dataKey:"receita",fill:"hsl(var(--success))",radius:[4,4,0,0],name:"receita"}),c.jsx(Bo,{dataKey:"despesa",fill:"hsl(var(--destructive))",radius:[4,4,0,0],name:"despesa"}),c.jsx(Bo,{dataKey:"lucroAcumulado",fill:"hsl(var(--primary))",radius:[4,4,0,0],name:"lucroAcumulado"})]})}):c.jsx("div",{className:"flex items-center justify-center h-[300px]",children:c.jsxs("div",{className:"text-center text-muted-foreground",children:[c.jsx(di,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma transação esta semana"}),c.jsx("p",{className:"text-sm",children:"Os dados aparecerão aqui quando você registrar transações"})]})}),c.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Receitas"}),c.jsxs("p",{className:"text-lg font-semibold text-success",children:["R$ ",L.reduce((P,X)=>P+X.receita,0).toLocaleString("pt-BR")]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Despesas"}),c.jsxs("p",{className:"text-lg font-semibold text-destructive",children:["R$ ",L.reduce((P,X)=>P+X.despesa,0).toLocaleString("pt-BR")]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Lucro Acumulado"}),c.jsxs("p",{className:`text-lg font-semibold ${L.length>0&&L[L.length-1].lucroAcumulado>=0?"text-success":"text-destructive"}`,children:["R$ ",L.length>0?L[L.length-1].lucroAcumulado.toLocaleString("pt-BR"):"0"]})]})]})})]}),c.jsxs(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300 mt-8",id:"transactions-section",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Transações do Mês"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ir,{variant:u==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>d("all"),children:["Todas (",A.length,")"]}),c.jsxs(ir,{variant:u==="deposits"?"default":"outline",className:"cursor-pointer",onClick:()=>d("deposits"),children:["Depósitos (",A.filter(P=>P.type==="deposit").length,")"]}),c.jsxs(ir,{variant:u==="withdraws"?"default":"outline",className:"cursor-pointer",onClick:()=>d("withdraws"),children:["Saques (",A.filter(P=>P.type==="withdraw").length,")"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-muted/30 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Funcionário:"}),c.jsxs(Zn,{value:h,onValueChange:p,children:[c.jsx(Kn,{className:"w-48",children:c.jsx(ei,{placeholder:"Todos os funcionários"})}),c.jsxs(Yn,{children:[c.jsx(Or,{value:"all",children:"Todos os funcionários"}),m.map(P=>c.jsx(Or,{value:P.id,children:P.name},P.id))]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plataforma:"}),c.jsxs(Zn,{value:f,onValueChange:v,children:[c.jsx(Kn,{className:"w-48",children:c.jsx(ei,{placeholder:"Todas as plataformas"})}),c.jsxs(Yn,{children:[c.jsx(Or,{value:"all",children:"Todas as plataformas"}),g.map(P=>c.jsx(Or,{value:P.id,children:P.name},P.id))]})]})]}),(h!=="all"||f!=="all"||u!=="all")&&c.jsx(qe,{variant:"outline",size:"sm",onClick:j,className:"ml-auto",children:"Limpar Filtros"})]}),(h!=="all"||f!=="all"||u!=="all")&&c.jsx("div",{className:"flex items-center gap-2 mb-4 p-3 bg-primary/10 rounded-lg border border-primary/20",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"font-medium text-primary",children:"Filtros ativos:"}),u!=="all"&&c.jsx(ir,{variant:"secondary",className:"text-xs",children:u==="deposits"?"Depósitos":u==="withdraws"?"Saques":u}),h!=="all"&&c.jsxs(ir,{variant:"secondary",className:"text-xs",children:["Funcionário: ",(be=m.find(P=>P.id===h))==null?void 0:be.name]}),f!=="all"&&c.jsxs(ir,{variant:"secondary",className:"text-xs",children:["Plataforma: ",(he=g.find(P=>P.id===f))==null?void 0:he.name]})]})}),c.jsx("div",{className:"space-y-3",children:I.length>0?I.sort((P,X)=>{var ne,de,ge,ee;return new Date(((de=(ne=X.createdAt)==null?void 0:ne.toDate)==null?void 0:de.call(ne))||X.createdAt).getTime()-new Date(((ee=(ge=P.createdAt)==null?void 0:ge.toDate)==null?void 0:ee.call(ge))||P.createdAt).getTime()}).map(P=>{var ne,de;const X=m.find(ge=>ge.id===P.employeeId);return c.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-2 rounded-full ${P.type==="withdraw"?"bg-success/10":"bg-destructive/10"}`,children:P.type==="withdraw"?c.jsx(Yq,{className:"h-5 w-5 text-success"}):c.jsx(Xq,{className:"h-5 w-5 text-destructive"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:(X==null?void 0:X.name)||"Funcionário não encontrado"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.type==="withdraw"?"Saque":"Depósito"," • ",(()=>{const ge=g.find(ee=>ee.id===P.platformId);return(ge==null?void 0:ge.name)||"Plataforma não especificada"})()]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:`font-semibold ${P.type==="withdraw"?"text-success":"text-destructive"}`,children:[P.type==="withdraw"?"+":"-","R$ ",Number(P.amount||0).toLocaleString("pt-BR")]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(((de=(ne=P.createdAt)==null?void 0:ne.toDate)==null?void 0:de.call(ne))||P.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},P.id)}):c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(rA,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Nenhuma transação encontrada"}),c.jsx("p",{className:"text-sm",children:(()=>{var ne,de;const P=new Date(n,e-1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"});if(u==="all"&&h==="all"&&f==="all")return`Não há transações em ${P}`;const X=[];if(u!=="all"&&X.push(`tipo "${u==="deposits"?"Depósitos":"Saques"}"`),h!=="all"){const ge=(ne=m.find(ee=>ee.id===h))==null?void 0:ne.name;X.push(`funcionário "${ge}"`)}if(f!=="all"){const ge=(de=g.find(ee=>ee.id===f))==null?void 0:de.name;X.push(`plataforma "${ge}"`)}return`Não há transações com ${X.join(" e ")} em ${P}`})()}),c.jsx(qe,{variant:"outline",size:"sm",onClick:j,className:"mt-4",children:"Limpar Filtros"})]})})]})]})})},FQe=()=>{const{user:t}=qr(),[e,r]=T.useState(null),[n,i]=T.useState(!1),[a,s]=T.useState(!1),[o,l]=T.useState(null),{data:u=[],isLoading:d}=zx((t==null?void 0:t.uid)||""),{data:h=[]}=rd((t==null?void 0:t.uid)||""),{data:p=[]}=Oy((t==null?void 0:t.uid)||""),f=Zbe(),v=exe(),m=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I),g=I=>fa(new Date(I),"dd 'de' MMMM 'de' yyyy",{locale:nQ}),y=I=>I>=0?"text-success":"text-destructive",x=I=>{r(I),i(!0)},_=I=>{l(I),s(!0)},A=async I=>{try{await v.mutateAsync(I),Ge.success("Fechamento excluído com sucesso!")}catch(j){console.error("Erro ao excluir fechamento:",j),Ge.error("Erro ao excluir fechamento")}},E=async()=>{try{Ge.success("Histórico exportado com sucesso!")}catch{Ge.error("Erro ao exportar histórico")}};return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Histórico de Fechamentos"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Visualize o histórico de todos os fechamentos de dia."})]}),c.jsxs(qe,{onClick:E,className:"gap-2",children:[c.jsx(BT,{className:"h-4 w-4"}),"Exportar PDF"]})]}),c.jsx(Qe,{className:"p-6",children:d?c.jsx("div",{className:"text-center py-8",children:c.jsx("div",{className:"text-muted-foreground",children:"Carregando histórico..."})}):u.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("div",{className:"text-muted-foreground",children:"Nenhum fechamento encontrado"})}):c.jsx("div",{className:"space-y-4",children:u.map(I=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:g(I.date)}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[I.transactionCount||0," transações"]})]})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`font-bold ${y(I.profit||I.margin||0)}`,children:m(I.profit||I.margin||0)}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Lucro Total"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>x(I),children:c.jsx(UT,{className:"h-4 w-4"})}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>_(I),children:c.jsx(jh,{className:"h-4 w-4"})}),c.jsxs(Zp,{children:[c.jsx(Iy,{asChild:!0,children:c.jsx(qe,{variant:"ghost",size:"icon",className:"text-destructive",children:c.jsx(zh,{className:"h-4 w-4"})})}),c.jsxs(ef,{children:[c.jsxs(tf,{children:[c.jsx(nf,{children:"Excluir Fechamento"}),c.jsxs(af,{children:["Tem certeza que deseja excluir o fechamento do dia ",g(I.date),"? Esta ação não pode ser desfeita."]})]}),c.jsxs(rf,{children:[c.jsx(of,{children:"Cancelar"}),c.jsx(sf,{onClick:()=>A(I.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})]})]})]})]},I.id))})}),c.jsx(oo,{open:n,onOpenChange:i,children:c.jsxs(Cs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(ks,{children:c.jsxs(Is,{children:["Detalhes do Fechamento - ",e&&g(e.date)]})}),e&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs(Qe,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Depósitos"}),c.jsx("div",{className:"text-2xl font-bold text-success",children:m(e.totalDeposits||0)})]}),c.jsxs(Qe,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Saques"}),c.jsx("div",{className:"text-2xl font-bold text-destructive",children:m(e.totalWithdraws||0)})]}),c.jsxs(Qe,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Lucro Total"}),c.jsx("div",{className:`text-2xl font-bold ${y(e.profit||e.margin||0)}`,children:m(e.profit||e.margin||0)})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Transações do Dia"}),e.transactionsSnapshot&&e.transactionsSnapshot.length>0?c.jsx("div",{className:"space-y-2",children:e.transactionsSnapshot.map((I,j)=>{var N,k;return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ir,{variant:I.type==="deposit"?"default":"destructive",children:I.type==="deposit"?"Depósito":"Saque"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:((N=h.find(D=>D.id===I.employeeId))==null?void 0:N.name)||"N/A"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:((k=p.find(D=>D.id===I.platformId))==null?void 0:k.name)||"N/A"})]})]}),c.jsxs("div",{className:`font-bold ${I.type==="deposit"?"text-success":"text-destructive"}`,children:[I.type==="deposit"?"+":"-",m(I.amount)]})]},j)})}):c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação registrada para este dia"})]})]})]})}),c.jsx(oo,{open:a,onOpenChange:s,children:c.jsxs(Cs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(ks,{children:c.jsxs(Is,{children:["Editar Fechamento - ",o&&g(o.date)]})}),o&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-date",children:"Data:"}),c.jsx(Ft,{id:"edit-date",type:"date",value:o.date,onChange:I=>l({...o,date:I.target.value})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Transações:"}),c.jsxs(qe,{size:"sm",className:"gap-2",children:[c.jsx(G_,{className:"h-4 w-4"}),"Adicionar Transação"]})]}),o.transactionsSnapshot&&o.transactionsSnapshot.length>0?c.jsx("div",{className:"space-y-2",children:o.transactionsSnapshot.map((I,j)=>c.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 border rounded-lg",children:[c.jsxs(Zn,{value:I.employeeId,onValueChange:N=>{const k=[...o.transactionsSnapshot];k[j].employeeId=N,l({...o,transactionsSnapshot:k})},children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Funcionário"})}),c.jsx(Yn,{children:h.map(N=>c.jsx(Or,{value:N.id,children:N.name},N.id))})]}),c.jsxs(Zn,{value:I.type,onValueChange:N=>{const k=[...o.transactionsSnapshot];k[j].type=N,l({...o,transactionsSnapshot:k})},children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Tipo"})}),c.jsxs(Yn,{children:[c.jsx(Or,{value:"deposit",children:"Depósito"}),c.jsx(Or,{value:"withdraw",children:"Saque"})]})]}),c.jsx(Ft,{type:"number",step:"0.01",placeholder:"Valor",value:I.amount,onChange:N=>{const k=[...o.transactionsSnapshot];k[j].amount=Number(N.target.value),l({...o,transactionsSnapshot:k})}}),c.jsxs(Zn,{value:I.platformId,onValueChange:N=>{const k=[...o.transactionsSnapshot];k[j].platformId=N,l({...o,transactionsSnapshot:k})},children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Plataforma"})}),c.jsx(Yn,{children:p.map(N=>c.jsx(Or,{value:N.id,children:N.name},N.id))})]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>{const N=o.transactionsSnapshot.filter((k,D)=>D!==j);l({...o,transactionsSnapshot:N})},className:"text-destructive",children:c.jsx(zh,{className:"h-4 w-4"})})]},j))}):c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação registrada para este dia"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(qe,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),c.jsx(qe,{onClick:async()=>{try{await f.mutateAsync({summaryId:o.id,summaryData:o}),Ge.success("Fechamento atualizado com sucesso!"),s(!1)}catch(I){console.error("Erro ao atualizar fechamento:",I),Ge.error("Erro ao atualizar fechamento")}},children:"Salvar Alterações"})]})]})]})})]})})};var JN="Switch",[BQe,pZe]=mo(JN),[UQe,VQe]=BQe(JN),Wre=T.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:u,form:d,...h}=t,[p,f]=T.useState(null),v=Rr(e,_=>f(_)),m=T.useRef(!1),g=p?d||!!p.closest("form"):!0,[y,x]=jl({prop:i,defaultProp:a??!1,onChange:u,caller:JN});return c.jsxs(UQe,{scope:r,checked:y,disabled:o,children:[c.jsx(Ht.button,{type:"button",role:"switch","aria-checked":y,"aria-required":s,"data-state":Yre(y),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:v,onClick:kt(t.onClick,_=>{x(A=>!A),g&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),g&&c.jsx(Kre,{control:p,bubbles:!m.current,name:n,value:l,checked:y,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Wre.displayName=JN;var Hre="SwitchThumb",Gre=T.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=VQe(Hre,r);return c.jsx(Ht.span,{"data-state":Yre(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Gre.displayName=Hre;var zQe="SwitchBubbleInput",Kre=T.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const s=T.useRef(null),o=Rr(s,a),l=uX(r),u=NW(e);return T.useEffect(()=>{const d=s.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[l,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Kre.displayName=zQe;function Yre(t){return t?"checked":"unchecked"}var Xre=Wre,qQe=Gre;const ac=T.forwardRef(({className:t,...e},r)=>c.jsx(Xre,{className:wt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:c.jsx(qQe,{className:wt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ac.displayName=Xre.displayName;const D5={FIREBASE_API_KEY:"AIzaSyD3Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8Z8",FIREBASE_AUTH_DOMAIN:"optify-definitivo.firebaseapp.com",FIREBASE_PROJECT_ID:"optify-definitivo",FIREBASE_STORAGE_BUCKET:"optify-definitivo.appspot.com",FIREBASE_MESSAGING_SENDER_ID:"123456789",FIREBASE_APP_ID:"1:123456789:web:abcdef123456",MERCADO_PAGO_PUBLIC_KEY:"APP_USR-9ca765f9-6a73-47a9-ab3d-0923791c2a4f",API_URL:"https://us-central1-optify-definitivo.cloudfunctions.net"};function WQe(){return go({mutationFn:async t=>{console.log("🔍 Hook - URL da API:",D5.API_URL),console.log("🔍 Hook - Payload:",t);const e=await fetch(`${D5.API_URL}/createPaymentPreference`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("🔍 Hook - Status da resposta:",e.status),console.log("🔍 Hook - Headers da resposta:",Object.fromEntries(e.headers.entries())),!e.ok){const n=await e.json().catch(()=>({}));throw console.error("🔍 Hook - Erro da API:",n),new Error(n.error||"Erro ao criar preferência")}const r=await e.json();return console.log("🔍 Hook - Resposta da API:",r),r},onError:t=>{console.error("❌ Hook - Erro na mutation:",t)}})}const HQe=()=>{const{user:t}=qr(),{currentPlan:e}=yf(),[r,n]=T.useState(!1),i=WQe(),a={free:0,standard:1,medium:2,ultimate:3},s=d=>{const h=a[e]||0;return(a[d]||0)<h},o={free:[{text:"Dashboard básico",icon:fr},{text:"Resumo do dia",icon:fr},{text:"Cadastro de 1 funcionário",icon:es},{text:"Registro de transações do dia atual",icon:fr},{text:"Depósitos e saques básicos",icon:fr},{text:"Visualização do calendário (mês atual)",icon:fr},{text:"Calendário Anterior",icon:fr,blocked:!0},{text:"Pagamentos",icon:fr,blocked:!0},{text:"Relatórios",icon:fr,blocked:!0},{text:"Saldo de Contas",icon:fr,blocked:!0},{text:"Histórico",icon:fr,blocked:!0}],standard:[{text:"Dashboard básico",icon:fr},{text:"Resumo do dia",icon:fr},{text:"Cadastro de até 5 funcionários",icon:es},{text:"Registro de transações do dia atual",icon:fr},{text:"Depósitos e saques",icon:fr},{text:"Relatórios básicos",icon:di},{text:"Visualização do calendário (mês atual)",icon:fr},{text:"Suporte por email",icon:fr},{text:"Calendário Anterior",icon:fr,blocked:!0},{text:"Pagamentos",icon:fr,blocked:!0},{text:"Saldo de Contas",icon:fr,blocked:!0},{text:"Histórico",icon:fr,blocked:!0}],medium:[{text:"Dashboard completo",icon:fr},{text:"Resumo do dia",icon:fr},{text:"Cadastro de até 10 funcionários",icon:es},{text:"Registro de transações",icon:fr},{text:"Depósitos e saques",icon:fr},{text:"Calendário Anterior",icon:fr},{text:"Pagamentos",icon:fr},{text:"Relatórios avançados",icon:di},{text:"Saldo de Contas",icon:fr},{text:"Histórico completo",icon:fr}],ultimate:[{text:"Dashboard completo e avançado",icon:fr},{text:"Resumo do dia",icon:fr},{text:"Cadastro de até 50 funcionários",icon:es},{text:"Registro de transações ilimitadas",icon:fr},{text:"Depósitos e saques",icon:fr},{text:"Calendário Anterior",icon:fr},{text:"Pagamentos",icon:fr},{text:"Relatórios avançados",icon:di},{text:"Saldo de Contas",icon:fr},{text:"Histórico completo",icon:fr},{text:"CPA Chinesa",icon:Sv,exclusive:!0},{text:"Painel Avançado",icon:Vp,exclusive:!0},{text:"Dutchuing Bot",icon:koe,exclusive:!0},{text:"Integrações avançadas",icon:K_,exclusive:!0},{text:"API personalizada",icon:K_,exclusive:!0},{text:"Suporte prioritário",icon:fr,exclusive:!0},{text:"Suporte dedicado",icon:fr,exclusive:!0}]},l=async d=>{var h,p;if(!t){Ge.error("Você precisa estar logado para assinar um plano");return}if(d==="free"){Ge.error("O plano Free já está ativo");return}try{console.log("🔍 Debug - Variáveis de ambiente:",{API_URL:D5.API_URL,PUBLIC_KEY:D5.MERCADO_PAGO_PUBLIC_KEY}),console.log("🔍 Debug - Dados do payload:",{userId:t.uid,userEmail:t.email||"",userName:t.displayName||((h=t.email)==null?void 0:h.split("@")[0])||"Usuário",planId:d,billingType:r?"annual":"monthly"});const f=await i.mutateAsync({userId:t.uid,userEmail:t.email||"",userName:t.displayName||((p=t.email)==null?void 0:p.split("@")[0])||"Usuário",planId:d,billingType:r?"annual":"monthly"});console.log("✅ Preferência criada:",f),window.location.href=f.init_point}catch(f){console.error("❌ Erro ao criar preferência:",f),Ge.error("Erro ao processar pagamento. Tente novamente.")}},u=[{name:"Free",value:"free",price:0,period:"Grátis",annualPrice:0,features:o.free,current:e==="free",popular:!1,description:"Testar o sistema"},{name:"Standard",value:"standard",price:1,period:"mês",annualPrice:10.2,features:o.standard,current:e==="standard",popular:!1,description:"Pequenos negócios"},{name:"Medium",value:"medium",price:49.9,period:"mês",annualPrice:509.16,features:o.medium,current:e==="medium",popular:!0,description:"Médias empresas"},{name:"Ultimate",value:"ultimate",price:99.9,period:"mês",annualPrice:1018.32,features:o.ultimate,current:e==="ultimate",popular:!1,description:"Grandes empresas"}];return c.jsx($a,{children:c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h1",{className:"text-4xl font-bold",children:"Escolha seu Plano"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Selecione o plano ideal para o seu negócio"}),c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx("span",{className:r?"text-muted-foreground":"font-semibold",children:"Mensal"}),c.jsx(ac,{checked:r,onCheckedChange:n}),c.jsxs("span",{className:r?"font-semibold":"text-muted-foreground",children:["Anual",c.jsx(ir,{variant:"default",className:"ml-2",children:"15% OFF"})]})]})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(d=>c.jsxs(Qe,{className:`
                p-6 relative shadow-card card-hover
                ${d.popular?"border-primary border-2":""}
                ${s(d.value)?"opacity-60":""}
              `,children:[d.popular&&c.jsx(ir,{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:"Mais Popular"}),d.current&&c.jsx(ir,{variant:"outline",className:"absolute -top-3 left-1/2 -translate-x-1/2",children:"Plano Atual"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold mb-2",children:d.name}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:d.description}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsxs("span",{className:"text-4xl font-bold",children:["R$ ",(r?d.annualPrice:d.price).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),d.price>0&&c.jsxs("span",{className:"text-muted-foreground",children:["/",r?"ano":d.period]})]}),r&&d.price>0&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Economia de R$ ",(d.price*12-d.annualPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),c.jsx("div",{className:"space-y-3",children:d.features.map((h,p)=>c.jsxs("div",{className:"flex items-start gap-2",children:[h.blocked?c.jsx("div",{className:"h-5 w-5 shrink-0 mt-0.5 rounded-full border-2 border-muted-foreground/30 flex items-center justify-center",children:c.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground/30"})}):c.jsx(h.icon,{className:`h-5 w-5 shrink-0 mt-0.5 ${h.exclusive?"text-primary":"text-success"}`}),c.jsxs("span",{className:`text-sm ${h.blocked?"text-muted-foreground/60":""} ${h.exclusive?"text-primary font-medium":""}`,children:[h.text,h.exclusive&&c.jsx("span",{className:"ml-1 text-xs",children:"(exclusivo)"})]})]},p))}),c.jsx(qe,{className:"w-full",variant:d.current?"outline":"default",disabled:d.current||i.isPending||s(d.value),onClick:()=>!d.current&&!s(d.value)&&l(d.value),children:i.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Pp,{className:"mr-2 h-4 w-4 animate-spin"}),"Redirecionando..."]}):d.current?"Plano Atual":s(d.value)?"Plano Menor":"Assinar"})]})]},d.name))}),c.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[c.jsx("p",{children:"Todos os planos incluem 7 dias de teste grátis"}),c.jsx("p",{children:"Cancele a qualquer momento, sem taxas adicionais"})]})]})})};var $P="rovingFocusGroup.onEntryFocus",GQe={bubbles:!1,cancelable:!0},cw="RovingFocusGroup",[K4,Qre,KQe]=J5(cw),[YQe,Jre]=mo(cw,[KQe]),[XQe,QQe]=YQe(cw),Zre=T.forwardRef((t,e)=>c.jsx(K4.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(K4.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(JQe,{...t,ref:e})})}));Zre.displayName=cw;var JQe=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=T.useRef(null),f=Rr(e,p),v=MA(a),[m,g]=jl({prop:s,defaultProp:o??null,onChange:l,caller:cw}),[y,x]=T.useState(!1),_=Yo(u),A=Qre(r),E=T.useRef(!1),[I,j]=T.useState(0);return T.useEffect(()=>{const N=p.current;if(N)return N.addEventListener($P,_),()=>N.removeEventListener($P,_)},[_]),c.jsx(XQe,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:m,onItemFocus:T.useCallback(N=>g(N),[g]),onItemShiftTab:T.useCallback(()=>x(!0),[]),onFocusableItemAdd:T.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:T.useCallback(()=>j(N=>N-1),[]),children:c.jsx(Ht.div,{tabIndex:y||I===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:kt(t.onMouseDown,()=>{E.current=!0}),onFocus:kt(t.onFocus,N=>{const k=!E.current;if(N.target===N.currentTarget&&k&&!y){const D=new CustomEvent($P,GQe);if(N.currentTarget.dispatchEvent(D),!D.defaultPrevented){const C=A().filter(Y=>Y.focusable),O=C.find(Y=>Y.active),L=C.find(Y=>Y.id===m),re=[O,L,...C].filter(Boolean).map(Y=>Y.ref.current);rne(re,d)}}E.current=!1}),onBlur:kt(t.onBlur,()=>x(!1))})})}),ene="RovingFocusGroupItem",tne=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...o}=t,l=Al(),u=a||l,d=QQe(ene,r),h=d.currentTabStopId===u,p=Qre(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:m}=d;return T.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),c.jsx(K4.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:c.jsx(Ht.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:kt(t.onMouseDown,g=>{n?d.onItemFocus(u):g.preventDefault()}),onFocus:kt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:kt(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=tJe(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let _=p().filter(A=>A.focusable).map(A=>A.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const A=_.indexOf(g.currentTarget);_=d.loop?rJe(_,A+1):_.slice(A+1)}setTimeout(()=>rne(_))}}),children:typeof s=="function"?s({isCurrentTabStop:h,hasTabStop:m!=null}):s})})});tne.displayName=ene;var ZQe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eJe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tJe(t,e,r){const n=eJe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ZQe[n]}function rne(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function rJe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var nJe=Zre,iJe=tne,ZN="Tabs",[aJe,mZe]=mo(ZN,[Jre]),nne=Jre(),[sJe,xD]=aJe(ZN),ine=T.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=MA(o),[h,p]=jl({prop:n,onChange:i,defaultProp:a??"",caller:ZN});return c.jsx(sJe,{scope:r,baseId:Al(),value:h,onValueChange:p,orientation:s,dir:d,activationMode:l,children:c.jsx(Ht.div,{dir:d,"data-orientation":s,...u,ref:e})})});ine.displayName=ZN;var ane="TabsList",sne=T.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=xD(ane,r),s=nne(r);return c.jsx(nJe,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:c.jsx(Ht.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});sne.displayName=ane;var one="TabsTrigger",lne=T.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,s=xD(one,r),o=nne(r),l=dne(s.baseId,n),u=hne(s.baseId,n),d=n===s.value;return c.jsx(iJe,{asChild:!0,...o,focusable:!i,active:d,children:c.jsx(Ht.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:kt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?s.onValueChange(n):h.preventDefault()}),onKeyDown:kt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(n)}),onFocus:kt(t.onFocus,()=>{const h=s.activationMode!=="manual";!d&&!i&&h&&s.onValueChange(n)})})})});lne.displayName=one;var cne="TabsContent",une=T.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=t,o=xD(cne,r),l=dne(o.baseId,n),u=hne(o.baseId,n),d=n===o.value,h=T.useRef(d);return T.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(Dc,{present:i||d,children:({present:p})=>c.jsx(Ht.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});une.displayName=cne;function dne(t,e){return`${t}-trigger-${e}`}function hne(t,e){return`${t}-content-${e}`}var oJe=ine,fne=sne,pne=lne,mne=une;const wD=oJe,eE=T.forwardRef(({className:t,...e},r)=>c.jsx(fne,{ref:r,className:wt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));eE.displayName=fne.displayName;const xl=T.forwardRef(({className:t,...e},r)=>c.jsx(pne,{ref:r,className:wt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));xl.displayName=pne.displayName;const wl=T.forwardRef(({className:t,...e},r)=>c.jsx(mne,{ref:r,className:wt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));wl.displayName=mne.displayName;const Y4=T.forwardRef(({className:t,...e},r)=>c.jsx("textarea",{className:wt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Y4.displayName="Textarea";const X4=async()=>{try{const t=await Xo(ra(nn,"users")),e=[];for(const r of t.docs){const n=r.data(),i=r.id;let a="Nome não informado";try{const s=await Xo(bm(ra(nn,"users",i,"profile"),yb(1)));if(!s.empty){const o=s.docs[0].data();a=o.name||o.fullName||a}}catch{console.log("Erro ao buscar perfil, usando dados do documento principal")}a==="Nome não informado"&&(n.name?a=n.name:n.displayName?a=n.displayName:n.fullName&&(a=n.fullName)),e.push({id:i,email:n.email||r.id,name:a,plan:n.plano||"free",status:n.isActive?"active":"inactive",createdAt:n.createdAt,lastLogin:n.lastLoginAt})}return e.sort((r,n)=>r.createdAt&&n.createdAt?n.createdAt.toDate().getTime()-r.createdAt.toDate().getTime():0)}catch(t){throw console.error("Erro ao buscar usuários:",t),t}},lJe=async()=>{try{return(await Xo(bm(ra(nn,"transactions_plans"),Zh("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Erro ao buscar transações de planos:",t),t}},cJe=async()=>{try{const t=await X4(),e=await lJe(),r=t.length,n=t.filter(d=>d.status==="active").length,i=e.filter(d=>d.status==="completed").reduce((d,h)=>d+h.amount,0),a=t.reduce((d,h)=>(d[h.plan]=(d[h.plan]||0)+1,d),{free:0,standard:0,medium:0,ultimate:0}),s=new Date;s.setDate(s.getDate()-30);const o=t.filter(d=>d.createdAt&&d.createdAt.toDate()>s).length,l=r>0?o/r*100:0,u=await uJe(e,t);return{totalUsers:r,activeUsers:n,totalRevenue:i,growthRate:l,planDistribution:a,recentActivity:u}}catch(t){throw console.error("Erro ao calcular estatísticas:",t),t}},uJe=async(t,e)=>{const r=[],n=t.sort((a,s)=>s.createdAt.toDate().getTime()-a.createdAt.toDate().getTime()).slice(0,5);for(const a of n){const s=e.find(u=>u.id===a.userId),o=zU(a.createdAt.toDate());let l="";switch(a.status){case"completed":l=`Upgrade para ${a.planName}`;break;case"pending":l=`Pagamento pendente - ${a.planName}`;break;case"failed":l=`Falha no pagamento - ${a.planName}`;break;default:l=`Transação ${a.status} - ${a.planName}`}r.push({action:`${l} - ${(s==null?void 0:s.email)||"Usuário desconhecido"}`,time:o,userEmail:s==null?void 0:s.email})}const i=e.filter(a=>a.createdAt&&a.createdAt.toDate()>new Date(Date.now()-24*60*60*1e3)).slice(0,3);for(const a of i){const s=zU(a.createdAt.toDate());r.push({action:`Novo usuário registrado - ${a.email}`,time:s,userEmail:a.email})}return r.sort((a,s)=>s.time.localeCompare(a.time)).slice(0,8)},zU=t=>{const r=new Date().getTime()-t.getTime(),n=Math.floor(r/(1e3*60)),i=Math.floor(r/(1e3*60*60)),a=Math.floor(r/(1e3*60*60*24));return n<60?`${n} min atrás`:i<24?`${i} hora${i>1?"s":""} atrás`:`${a} dia${a>1?"s":""} atrás`},dJe=()=>{const[t,e]=T.useState(null),[r,n]=T.useState(!0),[i,a]=T.useState(null),s=async()=>{try{n(!0),a(null);const o=await cJe();e(o)}catch(o){console.error("Erro ao buscar dados admin:",o),a("Erro ao carregar dados do painel administrativo")}finally{n(!1)}};return T.useEffect(()=>{s()},[]),{stats:t,loading:r,error:i,refetch:s}},hJe=async t=>{try{return(await Vx(ra(nn,"transactions_plans"),{...t,createdAt:Qa(),updatedAt:Qa()})).id}catch(e){throw console.error("Erro ao criar transação de plano:",e),e}},_D=async(t,e)=>{try{const r=ra(nn,"users",t,"notifications"),n=Ss(r).id,i=Object.fromEntries(Object.entries(e).filter(([a,s])=>s!==void 0));await Dv(Ss(r,n),{...i,id:n,userId:t,read:!1,createdAt:Qa()}),console.log(`Notificação enviada para usuário ${t}:`,e.title)}catch(r){throw console.error("Erro ao enviar notificação:",r),r}},fJe=async(t,e,r,n,i,a)=>{const s={free:"Free",standard:"Standard",medium:"Medium",ultimate:"Ultimate"},o=s[r]||r,l=s[n]||n,u={type:"plan_change",title:"Plano Alterado",message:`Seu plano foi alterado de ${o} para ${l}${a?`. Motivo: ${a}`:""}.`,metadata:{oldPlan:r,newPlan:n,changedBy:i,...a&&{reason:a}}};await _D(t,u)},pJe=async(t,e,r)=>{const n={type:"admin_promotion",title:"Privilégios de Admin Concedidos",message:`Você foi promovido a administrador${r?`. Motivo: ${r}`:""}.`,metadata:{changedBy:e,...r&&{reason:r}}};await _D(t,n)},mJe=async(t,e,r)=>{const n={type:"admin_demotion",title:"Privilégios de Admin Removidos",message:`Seus privilégios de administrador foram removidos${`. Motivo: ${r}`}.`,metadata:{changedBy:e,reason:r}};await _D(t,n)},qU={free:{funcionarios:1,permissoes:{}},standard:{funcionarios:5,permissoes:{}},medium:{funcionarios:10,permissoes:{}},ultimate:{funcionarios:50,permissoes:{}}},WU=t=>({free:"Free",standard:"Standard",medium:"Medium",ultimate:"Ultimate"})[t]||t,fx=async t=>{try{console.log(`🔍 Buscando usuário com email: ${t}`);const e=t.toLowerCase().trim();try{const i=ra(nn,"users"),a=bm(i,Cu("email","==",e)),s=await Xo(a);if(!s.empty){const o=s.docs[0],l=o.id,u=o.data();console.log(`✅ Usuário encontrado: ${l} - ${e}`),console.log("📋 Dados do usuário:",u);const d={id:l,email:u.email||e,name:u.name||u.displayName||"Nome não informado",currentPlan:u.plano||"free",permissoes:u.permissoes||{},funcionariosPermitidos:u.funcionariosPermitidos||1,isSubscriber:u.isSubscriber||!1,isActive:u.isActive||!1,isAdmin:u.isAdmin||!1};return console.log("📤 Retornando usuário:",d),d}console.log(`❌ Nenhum usuário encontrado com email: ${e}`)}catch(i){console.log("❌ Erro ao buscar usuário real:",i)}console.log(`🔄 Usando dados mock para ${t}`);const n=[{id:"mock1",email:"diegkamor@gmail.com",name:"Diego Amorim",currentPlan:"ultimate",permissoes:{},funcionariosPermitidos:50,isSubscriber:!0,isActive:!0,isAdmin:!0},{id:"mock2",email:"julielmoura@gmail.com",name:"Julie Moura",currentPlan:"medium",permissoes:{},funcionariosPermitidos:10,isSubscriber:!0,isActive:!0,isAdmin:!1},{id:"mock3",email:"theohideki@gmail.com",name:"Theo Hideki",currentPlan:"standard",permissoes:{},funcionariosPermitidos:5,isSubscriber:!0,isActive:!0,isAdmin:!1},{id:"mock4",email:"admin@optify.com",name:"Admin Optify",currentPlan:"ultimate",permissoes:{},funcionariosPermitidos:50,isSubscriber:!0,isActive:!0,isAdmin:!0},{id:"mock5",email:"teste@exemplo.com",name:"Usuário Teste",currentPlan:"free",permissoes:{},funcionariosPermitidos:1,isSubscriber:!1,isActive:!1,isAdmin:!1}].find(i=>i.email.toLowerCase()===e);return n?(console.log("✅ Usuário mock encontrado:",n),n):(console.log(`❌ Nenhum usuário encontrado (real ou mock) com email: ${e}`),null)}catch(e){return console.error("❌ Erro ao buscar usuário:",e),null}},gJe=(t,e)=>(console.log(`✅ Alteração de plano permitida: ${t} → ${e}`),!0),vJe=async t=>{try{const e=ra(nn,"plan_change_history"),r=Object.fromEntries(Object.entries(t).filter(([n,i])=>i!==void 0));await Vx(e,{...r,createdAt:new Date})}catch(e){console.error("Erro ao criar histórico:",e)}},yJe=async(t,e,r,n,i)=>{try{console.log(`🔄 Iniciando atualização de plano para ${t} -> ${e}`);const a=await fx(t);if(!a)throw new Error("Usuário não encontrado");console.log("📋 Usuário encontrado:",a),gJe(a.currentPlan,e);const s={plano:e,funcionariosPermitidos:qU[e].funcionarios,permissoes:qU[e].permissoes,updatedAt:Qa()};if(e!=="free"){if(s.isSubscriber=!0,s.isActive=!0,i&&i>0){const o=new Date,l=new Date;l.setMonth(l.getMonth()+i),s.subscriptionStartDate=o,s.subscriptionEndDate=l,s.subscriptionMonths=i}}else s.isSubscriber=!1,s.isActive=!1,s.subscriptionStartDate=null,s.subscriptionEndDate=null,s.subscriptionMonths=null;if(a.id.startsWith("mock"))console.log(`📝 Plano do usuário mock ${a.email} simulado como alterado para ${e}`);else try{await qg.updateUserPlan(a.id,e,i),window.dispatchEvent(new CustomEvent("planChanged",{detail:{userId:a.id,newPlan:e}}))}catch(o){throw console.error("Erro ao atualizar plano:",o),new Error(`Falha ao atualizar plano do usuário ${a.email}: ${o}`)}if(a.id.startsWith("mock"))console.log("📝 Transação de plano simulada para usuário mock");else try{await hJe({userId:a.id,userEmail:a.email,planName:e,amount:0,status:"completed",paymentMethod:"admin_change",transactionId:`admin_${Date.now()}`,adminEmail:r,reason:n||"Alteração administrativa"})}catch(o){console.log("Transação de plano não foi criada:",o)}if(a.id.startsWith("mock"))console.log("📝 Histórico de alterações simulado para usuário mock");else try{await vJe({userId:a.id,userEmail:a.email,userName:a.name,previousPlan:a.currentPlan,newPlan:e,changedBy:r,reason:n})}catch(o){console.log("Histórico de alterações não foi criado:",o)}if(a.id.startsWith("mock"))console.log("📝 Notificação simulada para usuário mock");else try{await fJe(a.id,a.email,a.currentPlan,e,r,n)}catch(o){console.log("Notificação não foi enviada:",o)}Ge.success(`✅ Plano do usuário ${a.email} alterado de ${WU(a.currentPlan)} para ${WU(e)}`)}catch(a){throw console.error("❌ Erro ao atualizar plano:",a),a instanceof Error&&a.message.includes("downgrade")?Ge.error(a.message):Ge.error(`Erro ao atualizar plano: ${a instanceof Error?a.message:"Erro desconhecido"}`),a}},HU=async()=>{try{const t=ra(nn,"plan_change_history");return(await Xo(t)).docs.map(r=>{var a;const n=r.data();let i;return(a=n.createdAt)!=null&&a.toDate?i=n.createdAt.toDate():n.createdAt instanceof Date?i=n.createdAt:typeof n.createdAt=="string"?i=new Date(n.createdAt):i=new Date,{id:r.id,...n,createdAt:i}}).sort((r,n)=>n.createdAt.getTime()-r.createdAt.getTime())}catch(t){return console.error("Erro ao buscar histórico de planos:",t),[]}},bJe=async(t,e,r)=>{try{const n=await fx(t);if(!n)throw new Error("Usuário não encontrado com este email");if(await gne(n.id,n.email))throw new Error("Este usuário já possui privilégios de admin");try{const a=Ss(nn,"admins",n.id);await Dv(a,{email:n.email,isAdmin:!0,addedAt:new Date,promotedBy:e,reason:r||"Promoção administrativa"})}catch(a){if(n.id.startsWith("mock"))console.log(`Usuário mock ${n.email} promovido a admin`);else throw a}try{await wJe({userId:n.id,userEmail:n.email,userName:n.name,promotedBy:e,reason:r})}catch(a){console.log("Histórico de promoção não foi criado (usuário mock):",a)}try{await pJe(n.id,e,r)}catch(a){console.log("Notificação não foi enviada (usuário mock):",a)}Ge.success(`Usuário ${n.email} promovido a admin com sucesso!`)}catch(n){throw console.error("Erro ao promover usuário:",n),n}},xJe=async(t,e,r)=>{try{const n=await fx(t);if(!n)throw new Error("Usuário não encontrado com este email");if(!await gne(n.id,n.email))throw new Error("Este usuário não possui privilégios de admin");if(n.email===e)throw new Error("Você não pode remover seus próprios privilégios de admin");try{const a=Ss(nn,"admins",n.id);await Dv(a,{email:n.email,isAdmin:!1,removedAt:new Date,demotedBy:e,reason:r||"Remoção administrativa"},{merge:!0})}catch(a){if(n.id.startsWith("mock"))console.log(`Privilégios de admin removidos do usuário mock ${n.email}`);else throw a}try{await _Je({userId:n.id,userEmail:n.email,userName:n.name,demotedBy:e,reason:r})}catch(a){console.log("Histórico de remoção não foi criado (usuário mock):",a)}try{await mJe(n.id,e,r)}catch(a){console.log("Notificação não foi enviada (usuário mock):",a)}Ge.success(`Privilégios de admin removidos do usuário ${n.email}`)}catch(n){throw console.error("Erro ao remover privilégios de admin:",n),n}},gne=async(t,e)=>{try{if(["diegkamor@gmail.com"].includes(e.toLowerCase()))return!0;const n=Ss(nn,"admins",t),i=await Xo(bm(ra(nn,"admins"),Cu("__name__","==",t)));if(!i.empty){const a=i.docs[0].data();return(a==null?void 0:a.isAdmin)===!0}return!1}catch(r){return console.error("Erro ao verificar status de admin:",r),!1}},FP=async()=>{try{const t=await Xo(ra(nn,"admins")),e=[];return t.docs.forEach(n=>{const i=n.data();i.isAdmin===!0&&e.push({userId:n.id,email:i.email,isAdmin:i.isAdmin,addedAt:i.addedAt,promotedBy:i.promotedBy})}),["diegkamor@gmail.com"].forEach(n=>{e.find(i=>i.email===n)||e.push({userId:"hardcoded",email:n,isAdmin:!0,addedAt:"2024-01-01T00:00:00.000Z",promotedBy:"Sistema"})}),e.sort((n,i)=>{if(n.addedAt&&i.addedAt){const a=n.addedAt.toDate?n.addedAt.toDate():new Date(n.addedAt);return(i.addedAt.toDate?i.addedAt.toDate():new Date(i.addedAt)).getTime()-a.getTime()}return 0})}catch(t){throw console.error("Erro ao buscar administradores:",t),t}},wJe=async t=>{try{const e=ra(nn,"admin_promotion_history"),r=Object.fromEntries(Object.entries(t).filter(([n,i])=>i!==void 0));await Vx(e,{...r,createdAt:new Date})}catch(e){console.error("Erro ao criar histórico de promoção:",e)}},_Je=async t=>{try{const e=ra(nn,"admin_demotion_history"),r=Object.fromEntries(Object.entries(t).filter(([n,i])=>i!==void 0));await Vx(e,{...r,createdAt:new Date})}catch(e){console.error("Erro ao criar histórico de demotion:",e)}},GU=async()=>{try{const t=ra(nn,"admin_promotion_history");return(await Xo(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Erro ao buscar histórico de promoções:",t),t}},BP=async()=>{try{const t=ra(nn,"admin_demotion_history");return(await Xo(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Erro ao buscar histórico de demotions:",t),t}},SJe=async t=>{if(!t||t.length<2)return[];try{const e=t.toLowerCase(),r=[];try{const n=ra(nn,"users"),i=t.toUpperCase(),a=bm(n,Zh("email"),R0e(e),D0e(i+""),yb(10));(await Xo(a)).forEach(o=>{var u;const l=o.data();l.email&&l.email.toLowerCase().startsWith(e)&&r.push({uid:o.id,email:l.email,displayName:l.displayName||l.name,createdAt:(u=l.createdAt)!=null&&u.toDate?l.createdAt.toDate():l.createdAt})})}catch{console.log("Coleção users não encontrada ou vazia, tentando abordagem alternativa")}return r.length===0&&[{uid:"mock1",email:"diegkamor@gmail.com",displayName:"Diego Amorim"},{uid:"mock2",email:"julielmoura@gmail.com",displayName:"Julie Moura"},{uid:"mock3",email:"theohideki@gmail.com",displayName:"Theo Hideki"},{uid:"mock4",email:"admin@optify.com",displayName:"Admin Optify"},{uid:"mock5",email:"teste@exemplo.com",displayName:"Usuário Teste"}].filter(a=>a.email.toLowerCase().includes(e)).forEach(a=>{r.push({uid:a.uid,email:a.email,displayName:a.displayName,createdAt:new Date})}),r.slice(0,10)}catch(e){return console.error("Erro ao buscar usuários:",e),[]}},KU=({placeholder:t="Digite o email do usuário",onUserSelect:e,onSearch:r,disabled:n=!1,className:i=""})=>{const[a,s]=T.useState(""),[o,l]=T.useState([]),[u,d]=T.useState(!1),[h,p]=T.useState(!1),[f,v]=T.useState(-1),m=T.useRef(null),g=T.useRef(null),y=T.useRef();T.useEffect(()=>(y.current&&clearTimeout(y.current),a.length>=2?y.current=setTimeout(async()=>{d(!0);try{const N=await SJe(a);l(N),p(!0),v(-1)}catch(N){console.error("Erro ao buscar usuários:",N),l([])}finally{d(!1)}},300):(l([]),p(!1)),()=>{y.current&&clearTimeout(y.current)}),[a]);const x=N=>{var k;if(!(!h||o.length===0))switch(N.key){case"ArrowDown":N.preventDefault(),v(D=>D<o.length-1?D+1:0);break;case"ArrowUp":N.preventDefault(),v(D=>D>0?D-1:o.length-1);break;case"Enter":N.preventDefault(),f>=0&&f<o.length&&_(o[f]);break;case"Escape":p(!1),v(-1),(k=m.current)==null||k.blur();break}},_=N=>{var k;s(N.email),p(!1),v(-1),l([]),e(N),(k=m.current)==null||k.blur()},A=N=>{const k=N.target.value;s(k),r&&r(k)},E=()=>{r&&r(a)},I=()=>{o.length>0&&p(!0)},j=N=>{setTimeout(()=>{var k;(k=g.current)!=null&&k.contains(document.activeElement)||(p(!1),v(-1),l([]))},150)};return c.jsxs("div",{className:`relative z-[9999] ${i}`,style:{zIndex:999999},children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ft,{ref:m,type:"email",placeholder:t,value:a,onChange:A,onKeyDown:x,onFocus:I,onBlur:j,disabled:n,className:"pr-10"}),u&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})})]}),c.jsx(qe,{type:"button",variant:"outline",size:"icon",onClick:E,disabled:n||u,children:c.jsx(iA,{className:"h-4 w-4"})})]}),h&&o.length>0&&c.jsxs(Qe,{ref:g,className:"absolute top-full left-0 right-0 z-[99999] mt-1 max-h-60 overflow-y-auto border shadow-2xl bg-background",style:{zIndex:999999,transform:"translateZ(0)",isolation:"isolate"},children:[c.jsx("div",{className:"p-2",children:o.map((N,k)=>c.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-md cursor-pointer transition-colors ${k===f?"bg-accent":"hover:bg-accent/50"}`,onClick:()=>_(N),children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx(tW,{className:"h-4 w-4 text-primary"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-sm truncate",children:N.email}),N.displayName&&c.jsx(ir,{variant:"secondary",className:"text-xs",children:N.displayName})]}),N.createdAt&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[c.jsx(_v,{className:"h-3 w-3"}),c.jsxs("span",{children:["Cadastrado em ",N.createdAt.toLocaleDateString("pt-BR")]})]})]})]},N.uid))}),o.length===10&&c.jsx("div",{className:"px-2 py-1 text-xs text-muted-foreground border-t",children:"Mostrando os primeiros 10 resultados"})]})]})},AJe=()=>[{id:"free",name:"Free",description:"Plano gratuito com funcionalidades básicas",price:0,features:["Funcionalidades básicas","Suporte por email"]},{id:"standard",name:"Standard",description:"Plano intermediário com mais recursos",price:1,features:["Todas as funcionalidades Free","Relatórios avançados","Suporte prioritário"]},{id:"medium",name:"Medium",description:"Plano avançado para empresas em crescimento",price:49.9,features:["Todas as funcionalidades Standard","API access","Integrações avançadas"]},{id:"ultimate",name:"Ultimate",description:"Plano premium com todos os recursos",price:99.9,features:["Todas as funcionalidades","Suporte 24/7","Consultoria personalizada"]}],NJe=t=>["free","standard","medium","ultimate"].includes(t),EJe=()=>{const{user:t,isAdmin:e}=qr(),{stats:r,loading:n,error:i,refetch:a}=dJe(),[s,o]=T.useState([]),[l,u]=T.useState(!0),[d,h]=T.useState(""),[p,f]=T.useState([]),[v,m]=T.useState(!1),[g,y]=T.useState(""),[x,_]=T.useState(""),[A,E]=T.useState(""),[I,j]=T.useState(0),[N,k]=T.useState(!1),[D,C]=T.useState(null),[O,L]=T.useState(!1),[z,re]=T.useState(""),[Y,K]=T.useState(""),[q,Z]=T.useState(!1),[ve,ce]=T.useState(null),[F,V]=T.useState(!1),[G,oe]=T.useState([]),[J,ie]=T.useState([]),[be,he]=T.useState([]),[P,X]=T.useState(!1),[ne,de]=T.useState(null),[ge,ee]=T.useState(!1),[Ae,De]=T.useState(!1),Le=AJe();T.useEffect(()=>{(async()=>{try{u(!0);const Ye=await X4();o(Ye)}catch(Ye){console.error("Erro ao buscar usuários:",Ye)}finally{u(!1)}})()},[]),T.useEffect(()=>{(async()=>{try{m(!0);const Ye=await HU();f(Ye.sort((Ze,ct)=>{var Ce,Ct;const lt=(Ce=Ze.createdAt)!=null&&Ce.toDate?Ze.createdAt.toDate():new Date(Ze.createdAt);return((Ct=ct.createdAt)!=null&&Ct.toDate?ct.createdAt.toDate():new Date(ct.createdAt)).getTime()-lt.getTime()}))}catch(Ye){console.error("Erro ao buscar histórico:",Ye)}finally{m(!1)}})()},[]),T.useEffect(()=>{(async()=>{try{X(!0);const[Ye,Ze,ct]=await Promise.all([FP(),GU(),BP()]);oe(Ye),ie(Ze.sort((lt,rt)=>{const Ce=lt.createdAt.toDate?lt.createdAt.toDate():new Date(lt.createdAt);return(rt.createdAt.toDate?rt.createdAt.toDate():new Date(rt.createdAt)).getTime()-Ce.getTime()})),he(ct.sort((lt,rt)=>{const Ce=lt.createdAt.toDate?lt.createdAt.toDate():new Date(lt.createdAt);return(rt.createdAt.toDate?rt.createdAt.toDate():new Date(rt.createdAt)).getTime()-Ce.getTime()}))}catch(Ye){console.error("Erro ao buscar dados de admin:",Ye)}finally{X(!1)}})()},[]);const _e=s.filter(Ee=>Ee.name.toLowerCase().includes(d.toLowerCase())||Ee.email.toLowerCase().includes(d.toLowerCase())),ke=()=>{a(),Ge.success("Dados atualizados com sucesso!")},je=async()=>{if(g.trim())try{L(!0);const Ee=await fx(g.trim());C(Ee),_(Ee?Ee.currentPlan:"")}catch{C(null),_("")}finally{L(!1)}},Me=async()=>{if(!D||!x){Ge.error("Por favor, selecione um usuário e um plano");return}if(x===D.currentPlan){Ge.error("O usuário já possui este plano");return}if(!NJe(x)){Ge.error("Plano inválido selecionado");return}try{k(!0),await yJe(D.email,x,(t==null?void 0:t.email)||"",A||void 0,I||void 0),y(""),_(""),E(""),j(0),C(null),a();const Ee=await X4();o(Ee);const Ye=await HU();f(Ye.sort((Ze,ct)=>{var Ce,Ct;const lt=(Ce=Ze.createdAt)!=null&&Ce.toDate?Ze.createdAt.toDate():new Date(Ze.createdAt);return((Ct=ct.createdAt)!=null&&Ct.toDate?ct.createdAt.toDate():new Date(ct.createdAt)).getTime()-lt.getTime()}))}catch(Ee){console.error("Erro ao atualizar plano:",Ee)}finally{k(!1)}},et=async()=>{if(z.trim())try{V(!0);const Ee=await fx(z.trim());ce(Ee)}catch{ce(null)}finally{V(!1)}},Yt=async()=>{if(!ve){Ge.error("Por favor, busque um usuário primeiro");return}try{Z(!0),await bJe(ve.email,(t==null?void 0:t.email)||"",Y||void 0),re(""),K(""),ce(null);const[Ee,Ye,Ze]=await Promise.all([FP(),GU(),BP()]);oe(Ee),ie(Ye.sort((ct,lt)=>{const rt=ct.createdAt.toDate?ct.createdAt.toDate():new Date(ct.createdAt);return(lt.createdAt.toDate?lt.createdAt.toDate():new Date(lt.createdAt)).getTime()-rt.getTime()})),he(Ze.sort((ct,lt)=>{const rt=ct.createdAt.toDate?ct.createdAt.toDate():new Date(ct.createdAt);return(lt.createdAt.toDate?lt.createdAt.toDate():new Date(lt.createdAt)).getTime()-rt.getTime()}))}catch(Ee){console.error("Erro ao promover usuário:",Ee)}finally{Z(!1)}},Nt=async Ee=>{try{await xJe(Ee,(t==null?void 0:t.email)||"","Remoção via painel administrativo");const[Ye,Ze]=await Promise.all([FP(),BP()]);oe(Ye),he(Ze.sort((ct,lt)=>{const rt=ct.createdAt.toDate?ct.createdAt.toDate():new Date(ct.createdAt);return(lt.createdAt.toDate?lt.createdAt.toDate():new Date(lt.createdAt)).getTime()-rt.getTime()}))}catch(Ye){console.error("Erro ao remover privilégios de admin:",Ye)}},ut=Ee=>{de(Ee),ee(!0)},Lt=Ee=>{de(Ee),De(!0)},vt=()=>{de(null),ee(!1),De(!1)};return c.jsxs(wD,{defaultValue:"analytics",className:"w-full",children:[c.jsxs(eE,{className:"grid w-full grid-cols-3 mb-6",children:[c.jsxs(xl,{value:"analytics",className:"flex items-center gap-2",children:[c.jsx($T,{className:"h-4 w-4"}),"Dashboard Avançado"]}),c.jsxs(xl,{value:"dashboard",className:"flex items-center gap-2",children:[c.jsx(es,{className:"h-4 w-4"}),"Resultados & Estatísticas"]}),c.jsxs(xl,{value:"plans",className:"flex items-center gap-2",children:[c.jsx(Zq,{className:"h-4 w-4"}),"Gerenciar Planos"]})]}),c.jsxs(wl,{value:"analytics",className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Dashboard Avançado"}),c.jsx("p",{className:"text-muted-foreground",children:"Análise completa do desempenho do sistema"})]}),c.jsxs(qe,{onClick:ke,variant:"outline",size:"sm",disabled:n,className:"flex items-center gap-2",children:[c.jsx(GE,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Atualizar"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(Qe,{className:"p-6 border-l-4 border-l-emerald-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Receita Hoje"}),c.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:"R$ 1,00"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"+100% vs ontem"})]}),c.jsx(Up,{className:"h-8 w-8 text-emerald-500"})]})}),c.jsx(Qe,{className:"p-6 border-l-4 border-l-blue-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Receita Semana"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"R$ 7,00"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"+700% vs semana anterior"})]}),c.jsx(di,{className:"h-8 w-8 text-blue-500"})]})}),c.jsx(Qe,{className:"p-6 border-l-4 border-l-purple-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Receita Mês"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"R$ 30,00"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"+3000% vs mês anterior"})]}),c.jsx($T,{className:"h-8 w-8 text-purple-500"})]})}),c.jsx(Qe,{className:"p-6 border-l-4 border-l-orange-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Melhor Dia"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"12/10"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"R$ 1,00 em vendas"})]}),c.jsx(GE,{className:"h-8 w-8 text-orange-500"})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Qe,{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(di,{className:"h-5 w-5"}),"Receita por Mês (2025)"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Janeiro"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"R$ 0,00"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Fevereiro"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"R$ 0,00"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Março"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"R$ 0,00"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Abril"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"R$ 0,00"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Maio"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"R$ 0,00"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Junho"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"R$ 0,00"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Julho"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"R$ 0,00"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Agosto"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"R$ 0,00"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"text-sm font-medium",children:"Setembro"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"R$ 0,00"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg border-2 border-primary",children:[c.jsx("span",{className:"text-sm font-medium",children:"Outubro"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-full h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm font-semibold text-primary",children:"R$ 1,00"})]})]})]})]}),c.jsxs(Qe,{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(es,{className:"h-5 w-5"}),"Planos Mais Populares"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),c.jsx("span",{className:"text-sm font-medium",children:"Ultimate"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-32 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-2/3 h-full bg-primary rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"2 usuários (67%)"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),c.jsx("span",{className:"text-sm font-medium",children:"Standard"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-32 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-1/3 h-full bg-blue-500 rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"1 usuário (33%)"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Medium"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-32 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-muted-foreground rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"0 usuários (0%)"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Free"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-32 h-2 bg-muted rounded-full",children:c.jsx("div",{className:"w-0 h-full bg-muted-foreground rounded-full"})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"0 usuários (0%)"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs(Qe,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Crescimento de Usuários"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Este Mês"}),c.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"+3 usuários"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Mês Anterior"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"+0 usuários"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Crescimento"}),c.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"∞% ↗️"})]})]})]}),c.jsxs(Qe,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Métricas de Engajamento"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Taxa de Conversão"}),c.jsx("span",{className:"text-sm font-semibold text-primary",children:"100%"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Usuários Ativos"}),c.jsx("span",{className:"text-sm font-semibold text-blue-600",children:"3/3"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Retenção"}),c.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"100%"})]})]})]}),c.jsxs(Qe,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Projeções"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Próximo Mês"}),c.jsx("span",{className:"text-sm font-semibold text-purple-600",children:"R$ 31,00"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Meta Anual"}),c.jsx("span",{className:"text-sm font-semibold text-orange-600",children:"R$ 372,00"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Crescimento Esperado"}),c.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"+3,300%"})]})]})]})]}),c.jsxs(Qe,{className:"p-6 border-l-4 border-l-yellow-500",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(FT,{className:"h-5 w-5 text-yellow-500"}),"Alertas e Recomendações"]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:c.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[c.jsx("strong",{children:"🎯 Oportunidade:"})," Considere criar campanhas de marketing para o plano Medium, que ainda não tem usuários."]})}),c.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"📈 Tendência:"})," O plano Ultimate está sendo o mais escolhido. Considere criar um plano ainda mais premium."]})}),c.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:c.jsxs("p",{className:"text-sm text-emerald-800 dark:text-emerald-200",children:[c.jsx("strong",{children:"✅ Excelente:"})," Taxa de conversão de 100% indica que o produto está bem posicionado no mercado."]})})]})]})]}),c.jsxs(wl,{value:"dashboard",className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Resultados & Estatísticas"}),c.jsx("p",{className:"text-muted-foreground",children:"Visão geral do desempenho do sistema"})]}),c.jsxs(qe,{onClick:ke,variant:"outline",size:"sm",disabled:n,className:"flex items-center gap-2",children:[c.jsx(GE,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Atualizar"]})]}),i&&c.jsxs(E1,{variant:"destructive",children:[c.jsx(FT,{className:"h-4 w-4"}),c.jsx(j1,{children:i})]}),n?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((Ee,Ye)=>c.jsx(Qe,{className:"p-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-8 bg-muted rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/3"})]})},Ye))}):r&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx(t1,{title:"Total de Usuários",value:r.totalUsers.toLocaleString(),icon:es,trend:{value:r.growthRate,isPositive:r.growthRate>0}}),c.jsx(t1,{title:"Usuários Ativos",value:r.activeUsers.toLocaleString(),icon:Yw}),c.jsx(t1,{title:"Receita Total",value:`R$ ${r.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:Up}),c.jsx(t1,{title:"Taxa de Crescimento",value:`${r.growthRate.toFixed(1)}%`,icon:di,trend:{value:r.growthRate,isPositive:r.growthRate>0}})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Qe,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Distribuição de Planos"}),n?c.jsx("div",{className:"space-y-3",children:[...Array(4)].map((Ee,Ye)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-16 animate-pulse"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-48 h-2 bg-muted rounded-full animate-pulse"}),c.jsx("div",{className:"h-4 bg-muted rounded w-8 animate-pulse"})]})]},Ye))}):r?c.jsx("div",{className:"space-y-4",children:Object.entries(r.planDistribution).map(([Ee,Ye])=>{const Ze=r.totalUsers>0?Ye/r.totalUsers*100:0,ct=Le.find(lt=>lt.id===Ee);return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium",children:(ct==null?void 0:ct.name)||Ee}),c.jsxs(ir,{variant:"outline",className:"text-xs",children:[Ye," usuários"]})]}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[Ze.toFixed(1),"%"]})]}),c.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-500",style:{width:`${Ze}%`}})})]},Ee)})}):null]}),c.jsxs(Qe,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Atividade Recente"}),n?c.jsx("div",{className:"space-y-3",children:[...Array(4)].map((Ee,Ye)=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"}),c.jsx("div",{className:"h-3 bg-muted rounded w-16 animate-pulse"})]},Ye))}):r?c.jsx("div",{className:"space-y-3",children:r.recentActivity.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma atividade recente"}):r.recentActivity.map((Ee,Ye)=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsx("span",{className:"text-sm",children:Ee.action}),c.jsx("span",{className:"text-xs text-muted-foreground",children:Ee.time})]},Ye))}):null]})]}),c.jsxs(Qe,{className:"shadow-card",children:[c.jsx("div",{className:"p-6 border-b border-border",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold",children:["Usuários do Sistema (",_e.length,")"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(iA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Ft,{placeholder:"Buscar usuários...",className:"w-64 pl-10",value:d,onChange:Ee=>h(Ee.target.value)})]}),c.jsx(qe,{variant:"outline",children:"Filtros"})]})]})}),c.jsx("div",{className:"overflow-x-auto",children:l?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Carregando usuários..."})]}):c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-muted/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:"Usuário"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Email"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Plano"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Registrado em"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Ações"})]})}),c.jsx("tbody",{children:_e.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:d?"Nenhum usuário encontrado para a busca.":"Nenhum usuário encontrado."})}):_e.map(Ee=>c.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[c.jsx("td",{className:"p-4 font-medium",children:Ee.name}),c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:Ee.email}),c.jsx("td",{className:"p-4",children:c.jsx(ir,{variant:Ee.plan==="free"?"secondary":"default",className:"capitalize",children:Ee.plan})}),c.jsx("td",{className:"p-4",children:c.jsx(ir,{variant:Ee.status==="active"?"default":"secondary",children:Ee.status==="active"?"Ativo":"Inativo"})}),c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:Ee.createdAt?Ee.createdAt.toDate?Ee.createdAt.toDate().toLocaleDateString("pt-BR"):new Date(Ee.createdAt).toLocaleDateString("pt-BR"):"N/A"}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(qe,{size:"sm",variant:"outline",onClick:()=>ut(Ee),className:"flex items-center gap-1",children:[c.jsx(jh,{className:"h-3 w-3"}),"Editar"]}),c.jsxs(qe,{size:"sm",variant:"outline",onClick:()=>Lt(Ee),className:"flex items-center gap-1",children:[c.jsx(UT,{className:"h-3 w-3"}),"Ver Detalhes"]})]})})]},Ee.id))})]})})]})]}),c.jsxs(wl,{value:"plans",className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciamento de Planos"}),c.jsx("p",{className:"text-muted-foreground",children:"Alterar planos de usuários por email"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Qe,{className:"p-6 relative z-50",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(eW,{className:"h-5 w-5"}),"Alterar Plano de Usuário"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Email do Usuário"}),c.jsx("div",{className:"mt-1",children:c.jsx(KU,{placeholder:"Digite o email do usuário",onUserSelect:Ee=>{y(Ee.email),C({uid:Ee.uid,email:Ee.email,displayName:Ee.displayName})},onSearch:Ee=>{y(Ee),je()}})})]}),D&&c.jsxs(E1,{children:[c.jsx(Yw,{className:"h-4 w-4"}),c.jsx(j1,{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Nome:"})," ",D.name||"Nome não informado"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",D.email||"Email não informado"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("strong",{children:"Plano Atual:"}),c.jsx(ir,{className:"capitalize",children:D.currentPlan||"free"})]})]})})]}),D&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx(st,{htmlFor:"newPlan",children:"Novo Plano"}),c.jsxs(Zn,{value:x,onValueChange:_,children:[c.jsx(Kn,{className:"mt-1",children:c.jsx(ei,{placeholder:"Selecione o novo plano"})}),c.jsx(Yn,{children:Le.map(Ee=>c.jsx(Or,{value:Ee.id,disabled:Ee.id===D.currentPlan,children:c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsx("span",{children:Ee.name}),c.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["R$ ",Ee.price.toFixed(2)]})]})},Ee.id))})]})]}),c.jsxs("div",{children:[c.jsx(st,{htmlFor:"reason",children:"Motivo da Alteração (opcional)"}),c.jsx(Y4,{id:"reason",placeholder:"Ex: Upgrade promocional, correção de problema, etc.",value:A,onChange:Ee=>E(Ee.target.value),className:"mt-1"})]}),x&&x!=="free"&&c.jsxs("div",{children:[c.jsx(st,{htmlFor:"subscriptionMonths",children:"Meses de Assinatura"}),c.jsx(Ft,{id:"subscriptionMonths",type:"number",placeholder:"Ex: 12 (para 1 ano)",value:I,onChange:Ee=>j(parseInt(Ee.target.value)||0),className:"mt-1",min:"1",max:"120"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Deixe vazio para não definir período específico"})]}),c.jsx(qe,{onClick:Me,disabled:N||!x||x===D.currentPlan,className:"w-full",children:N?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Alterando Plano..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Alterar Plano"]})})]})]})]}),c.jsxs(Qe,{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(tA,{className:"h-5 w-5"}),"Histórico de Alterações"]}),v?c.jsx("div",{className:"space-y-3",children:[...Array(3)].map((Ee,Ye)=>c.jsx("div",{className:"p-3 border rounded-lg",children:c.jsxs("div",{className:"animate-pulse space-y-2",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})},Ye))}):c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:p.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma alteração de plano registrada"}):p.map(Ee=>{var Ye;return c.jsx("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:Ee.userEmail}),c.jsx(ir,{variant:"outline",className:"text-xs",children:Ee.newPlan})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ee.previousPlan," → ",Ee.newPlan]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Alterado por: ",Ee.updatedBy||Ee.changedBy]}),Ee.reason&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Motivo: ",Ee.reason]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:(Ye=Ee.createdAt)!=null&&Ye.toDate?Ee.createdAt.toDate().toLocaleString("pt-BR"):new Date(Ee.createdAt).toLocaleString("pt-BR")})]})},Ee.id)})})]})]}),c.jsxs(Qe,{className:"p-6 relative z-10",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Vp,{className:"h-5 w-5"}),"Gerenciar Administradores"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Email do Usuário para Promover"}),c.jsx("div",{className:"mt-1",children:c.jsx(KU,{placeholder:"Digite o email do usuário",onUserSelect:Ee=>{re(Ee.email),ce({uid:Ee.uid,email:Ee.email,displayName:Ee.displayName})},onSearch:Ee=>{re(Ee),et()}})})]}),ve&&c.jsxs(E1,{children:[c.jsx(Yw,{className:"h-4 w-4"}),c.jsx(j1,{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Nome:"})," ",ve.name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",ve.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"}),c.jsx(ir,{className:"ml-2",variant:"outline",children:"Usuário Regular"})]})]})})]}),ve&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx(st,{htmlFor:"adminReason",children:"Motivo da Promoção (opcional)"}),c.jsx(Y4,{id:"adminReason",placeholder:"Ex: Responsável pela equipe, suporte técnico, etc.",value:Y,onChange:Ee=>K(Ee.target.value),className:"mt-1"})]}),c.jsx(qe,{onClick:Yt,disabled:q,className:"w-full bg-gradient-primary",children:q?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Promovendo..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Vp,{className:"h-4 w-4 mr-2"}),"Promover a Administrador"]})})]})]})]}),c.jsxs(Qe,{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Yw,{className:"h-5 w-5"}),"Administradores Atuais"]}),P?c.jsx("div",{className:"space-y-3",children:[...Array(3)].map((Ee,Ye)=>c.jsx("div",{className:"p-3 border rounded-lg",children:c.jsxs("div",{className:"animate-pulse space-y-2",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},Ye))}):c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:G.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum administrador encontrado"}):G.map(Ee=>c.jsx("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium",children:Ee.email}),c.jsx(ir,{variant:"default",className:"bg-gradient-primary",children:"Admin"})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Promovido por: ",Ee.promotedBy||"Sistema"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:Ee.addedAt?Ee.addedAt.toDate?Ee.addedAt.toDate().toLocaleString("pt-BR"):Ee.addedAt.toString():"Data não disponível"})]}),Ee.email!==(t==null?void 0:t.email)&&Ee.userId!=="hardcoded"&&c.jsx(qe,{size:"sm",variant:"destructive",onClick:()=>Nt(Ee.email),children:"Remover Admin"})]})},Ee.userId))})]}),c.jsxs(Qe,{className:"p-6 lg:col-span-2",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Planos Disponíveis"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Le.map(Ee=>c.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-semibold",children:Ee.name}),c.jsxs(ir,{variant:Ee.price===0?"secondary":"default",children:["R$ ",Ee.price.toFixed(2)]})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:Ee.description}),c.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:Ee.features.map((Ye,Ze)=>c.jsxs("li",{className:"flex items-center gap-1",children:[c.jsx(Eh,{className:"h-3 w-3 text-green-500"}),Ye]},Ze))})]})},Ee.id))})]})]}),c.jsx(oo,{open:ge,onOpenChange:ee,children:c.jsxs(Cs,{className:"max-w-2xl",children:[c.jsx(ks,{children:c.jsxs(Is,{className:"flex items-center gap-2",children:[c.jsx(jh,{className:"h-5 w-5"}),"Editar Usuário: ",ne==null?void 0:ne.name]})}),ne&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Nome"}),c.jsx(Ft,{value:ne.name,readOnly:!0,className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Email"}),c.jsx(Ft,{value:ne.email,readOnly:!0,className:"mt-1"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Plano Atual"}),c.jsx("div",{className:"mt-1",children:c.jsx(ir,{className:"capitalize",children:ne.plan})})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Status"}),c.jsx("div",{className:"mt-1",children:c.jsx(ir,{variant:ne.status==="active"?"default":"secondary",children:ne.status==="active"?"Ativo":"Inativo"})})]})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Alterar Plano"}),c.jsxs("div",{className:"mt-2 flex gap-2",children:[c.jsxs(Zn,{defaultValue:ne.plan,onValueChange:Ee=>{console.log("Alterando plano para:",Ee)},children:[c.jsx(Kn,{className:"flex-1",children:c.jsx(ei,{})}),c.jsx(Yn,{children:Le.map(Ee=>c.jsxs(Or,{value:Ee.id,children:[Ee.name," - R$ ",Ee.price.toFixed(2)]},Ee.id))})]}),c.jsxs(qe,{size:"sm",variant:"outline",children:[c.jsx(Eh,{className:"h-4 w-4 mr-1"}),"Aplicar"]})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[c.jsx(qe,{variant:"outline",onClick:vt,children:"Cancelar"}),c.jsx(qe,{onClick:vt,children:"Salvar Alterações"})]})]})]})}),c.jsx(oo,{open:Ae,onOpenChange:De,children:c.jsxs(Cs,{className:"max-w-4xl",children:[c.jsx(ks,{children:c.jsxs(Is,{className:"flex items-center gap-2",children:[c.jsx(UT,{className:"h-5 w-5"}),"Detalhes do Usuário: ",ne==null?void 0:ne.name]})}),ne&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(Qe,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Informações Pessoais"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Nome:"})," ",ne.name]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Email:"})," ",ne.email]}),c.jsxs("div",{children:[c.jsx("strong",{children:"ID:"})," ",c.jsx("code",{className:"text-xs",children:ne.id})]})]})]}),c.jsxs(Qe,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Status da Conta"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("strong",{children:"Plano:"}),c.jsx(ir,{className:"capitalize",children:ne.plan})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("strong",{children:"Status:"}),c.jsx(ir,{variant:ne.status==="active"?"default":"secondary",children:ne.status==="active"?"Ativo":"Inativo"})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Registrado em:"})," ",ne.createdAt?ne.createdAt.toDate?ne.createdAt.toDate().toLocaleDateString("pt-BR"):new Date(ne.createdAt).toLocaleDateString("pt-BR"):"N/A"]}),ne.lastLogin&&c.jsxs("div",{children:[c.jsx("strong",{children:"Último acesso:"})," ",ne.lastLogin.toDate?ne.lastLogin.toDate().toLocaleDateString("pt-BR"):new Date(ne.lastLogin).toLocaleDateString("pt-BR")]})]})]})]}),c.jsxs(Qe,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Estatísticas de Uso"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"font-semibold text-lg",children:"-"}),c.jsx("div",{className:"text-muted-foreground",children:"Transações"})]}),c.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"font-semibold text-lg",children:"-"}),c.jsx("div",{className:"text-muted-foreground",children:"Funcionários"})]}),c.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"font-semibold text-lg",children:"-"}),c.jsx("div",{className:"text-muted-foreground",children:"Relatórios"})]}),c.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[c.jsx("div",{className:"font-semibold text-lg",children:"-"}),c.jsx("div",{className:"text-muted-foreground",children:"Dias Ativo"})]})]})]}),c.jsxs(Qe,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Atividades Recentes"}),c.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Histórico de atividades em desenvolvimento"})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[c.jsx(qe,{variant:"outline",onClick:vt,children:"Fechar"}),c.jsxs(qe,{onClick:()=>{vt(),ut(ne)},children:[c.jsx(jh,{className:"h-4 w-4 mr-1"}),"Editar Usuário"]})]})]})]})})]})},jJe=()=>{const{user:t,isAdmin:e}=qr();return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h1",{className:"text-4xl font-bold",children:"Painel Administrativo"}),e&&c.jsxs(ir,{variant:"default",className:"flex items-center gap-1 bg-gradient-primary",children:[c.jsx(Vp,{className:"h-3 w-3"}),"Admin"]})]}),c.jsxs("p",{className:"text-muted-foreground",children:["Gerencie usuários e configurações do sistema • Acesso restrito • ",t==null?void 0:t.email]})]}),c.jsx(EJe,{})]})})},PJe=()=>{const{user:t}=qr(),[e,r]=T.useState(!1),n=`https://optify.app/ref/${t==null?void 0:t.affiliateCode}`,i=()=>{navigator.clipboard.writeText(n),r(!0),Ge.success("Link copiado!"),setTimeout(()=>r(!1),2e3)},a={totalReferrals:12,activeReferrals:8,totalEarnings:450,pendingEarnings:120},s=[{date:"2024-10-01",name:"João Silva",plan:"Standard",commission:49,status:"paid"},{date:"2024-09-25",name:"Maria Santos",plan:"Medium",commission:99,status:"paid"},{date:"2024-09-20",name:"Pedro Costa",plan:"Ultimate",commission:199,status:"pending"}];return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Sistema de Afiliados"}),c.jsx("p",{className:"text-muted-foreground",children:"Ganhe comissões indicando novos usuários"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Indicações"}),c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(es,{className:"h-5 w-5 text-primary"})})]}),c.jsx("p",{className:"text-3xl font-bold",children:a.totalReferrals})]}),c.jsxs(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Indicações Ativas"}),c.jsx("div",{className:"p-2 bg-success/10 rounded-lg",children:c.jsx(di,{className:"h-5 w-5 text-success"})})]}),c.jsx("p",{className:"text-3xl font-bold text-success",children:a.activeReferrals})]}),c.jsxs(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Ganho"}),c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(Up,{className:"h-5 w-5 text-primary"})})]}),c.jsxs("p",{className:"text-3xl font-bold",children:["R$ ",a.totalEarnings]})]}),c.jsxs(Qe,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"A Receber"}),c.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:c.jsx(Up,{className:"h-5 w-5 text-warning"})})]}),c.jsxs("p",{className:"text-3xl font-bold text-warning",children:["R$ ",a.pendingEarnings]})]})]}),c.jsxs(wD,{defaultValue:"link",className:"space-y-6",children:[c.jsxs(eE,{className:"grid w-full max-w-2xl grid-cols-4",children:[c.jsx(xl,{value:"link",children:"Link"}),c.jsx(xl,{value:"stats",children:"Estatísticas"}),c.jsx(xl,{value:"earnings",children:"Ganhos"}),c.jsx(xl,{value:"history",children:"Histórico"})]}),c.jsx(wl,{value:"link",children:c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Seu Link de Referência"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Compartilhe este link para ganhar 10% de comissão sobre os planos pagos"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ft,{value:n,readOnly:!0,className:"flex-1"}),c.jsxs(qe,{onClick:i,variant:"outline",className:"gap-2",children:[e?c.jsx(fr,{className:"h-4 w-4"}):c.jsx(Q2,{className:"h-4 w-4"}),e?"Copiado":"Copiar"]})]})]})}),c.jsx(wl,{value:"stats",children:c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance Mensal"}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa de Conversão"}),c.jsx("p",{className:"text-2xl font-bold",children:"66.7%"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliques no Link"}),c.jsx("p",{className:"text-2xl font-bold",children:"18"})]})]})})]})}),c.jsx(wl,{value:"earnings",children:c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Resumo de Ganhos"}),c.jsx("div",{className:"space-y-4",children:["Janeiro","Fevereiro","Março"].map((o,l)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsx("span",{className:"font-medium",children:o}),c.jsxs("span",{className:"text-success font-bold",children:["R$ ",[150,180,120][l]]})]},o))})]})}),c.jsx(wl,{value:"history",children:c.jsx(Qe,{className:"shadow-card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-muted/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:"Data"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Usuário"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Plano"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Comissão"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"})]})}),c.jsx("tbody",{children:s.map((o,l)=>c.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(o.date).toLocaleDateString("pt-BR")}),c.jsx("td",{className:"p-4 font-medium",children:o.name}),c.jsx("td",{className:"p-4",children:o.plan}),c.jsxs("td",{className:"p-4 font-semibold text-success",children:["R$ ",o.commission]}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${o.status==="paid"?"bg-success/10 text-success":"bg-warning/10 text-warning"}`,children:o.status==="paid"?"Pago":"Pendente"})})]},l))})]})})})})]})]})})},TJe=()=>{const t=()=>{Ge.success("Configurações salvas com sucesso!")};return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Configurações"}),c.jsx("p",{className:"text-muted-foreground",children:"Personalize suas preferências"})]}),c.jsxs(wD,{defaultValue:"general",className:"space-y-6",children:[c.jsxs(eE,{className:"grid w-full max-w-2xl grid-cols-3",children:[c.jsx(xl,{value:"general",children:"Geral"}),c.jsx(xl,{value:"notifications",children:"Notificações"}),c.jsx(xl,{value:"security",children:"Segurança"})]}),c.jsxs(wl,{value:"general",className:"space-y-6",children:[c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Configurações Gerais"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Horário de Fechamento do Dia"}),c.jsx(Ft,{type:"time",defaultValue:"23:59",className:"max-w-xs"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Define quando o sistema fecha automaticamente o dia"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Fuso Horário"}),c.jsxs("select",{className:"w-full max-w-xs h-10 rounded-md border border-input bg-background px-3 text-sm",children:[c.jsx("option",{children:"America/Sao_Paulo (GMT-3)"}),c.jsx("option",{children:"America/New_York (GMT-5)"}),c.jsx("option",{children:"Europe/London (GMT+0)"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Moeda Padrão"}),c.jsxs("select",{className:"w-full max-w-xs h-10 rounded-md border border-input bg-background px-3 text-sm",children:[c.jsx("option",{children:"BRL (R$)"}),c.jsx("option",{children:"USD ($)"}),c.jsx("option",{children:"EUR (€)"})]})]})]})]}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Preferências de Interface"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Modo Compacto"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduz o espaçamento da interface"})]}),c.jsx(ac,{})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Animações"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ativa/desativa animações da interface"})]}),c.jsx(ac,{defaultChecked:!0})]})]})]})]}),c.jsx(wl,{value:"notifications",className:"space-y-6",children:c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Notificações"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Notificações de Email"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações por email"})]}),c.jsx(ac,{defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Pagamentos Pendentes"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertas sobre pagamentos não realizados"})]}),c.jsx(ac,{defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Metas Atingidas"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificação ao atingir metas mensais"})]}),c.jsx(ac,{defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Novos Funcionários"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Alerta quando um novo funcionário é cadastrado"})]}),c.jsx(ac,{})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Relatórios Semanais"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Resumo semanal enviado por email"})]}),c.jsx(ac,{defaultChecked:!0})]})]})]})}),c.jsxs(wl,{value:"security",className:"space-y-6",children:[c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Alterar Senha"}),c.jsxs("div",{className:"space-y-4 max-w-md",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Senha Atual"}),c.jsx(Ft,{type:"password",placeholder:"••••••••"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Nova Senha"}),c.jsx(Ft,{type:"password",placeholder:"••••••••"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Confirmar Nova Senha"}),c.jsx(Ft,{type:"password",placeholder:"••••••••"})]}),c.jsx(qe,{children:"Atualizar Senha"})]})]}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Privacidade"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Autenticação de Dois Fatores"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Adiciona uma camada extra de segurança"})]}),c.jsx(ac,{})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Sessões Ativas"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerenciar dispositivos conectados"})]}),c.jsx(qe,{variant:"outline",size:"sm",children:"Ver Sessões"})]})]})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(qe,{onClick:t,children:"Salvar Alterações"})})]})})},CJe=()=>{const{user:t,logout:e}=qr(),{currentPlan:r}=yf(),n=Wi(),[i,a]=T.useState(""),[s,o]=T.useState(!1),l=()=>{Ge.success("Perfil atualizado com sucesso!")},u=async()=>{if(i.toLowerCase()!=="sim"){Ge.error('Digite "sim" para confirmar a exclusão');return}try{const p=e1.currentUser,f=p==null?void 0:p.uid;if(!p||!f){Ge.error("Usuário não autenticado");return}await j1e(f),await hme(p),Ge.success("Conta excluída com sucesso"),o(!1),a(""),n("/")}catch(p){(p==null?void 0:p.code)==="auth/requires-recent-login"?Ge.error("Por segurança, faça login novamente e tente excluir a conta."):Ge.error("Não foi possível excluir a conta. Tente novamente.")}},d=()=>{o(!0),a("")},h=[{date:"2024-10-01",plan:"Ultimate",amount:199,status:"paid"},{date:"2024-09-01",plan:"Ultimate",amount:199,status:"paid"},{date:"2024-08-01",plan:"Standard",amount:49,status:"paid"}];return c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Meu Perfil"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas informações pessoais"})]}),c.jsx(Qe,{className:"p-6 shadow-card",children:c.jsxs("div",{className:"flex items-start gap-6",children:[c.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:c.jsx(Qq,{className:"h-16 w-16 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h2",{className:"text-2xl font-bold",children:t==null?void 0:t.name}),c.jsx(ir,{variant:"default",className:"capitalize",children:r}),(t==null?void 0:t.isAdmin)&&c.jsx(ir,{variant:"secondary",children:"Admin"})]}),c.jsx("p",{className:"text-muted-foreground mb-4",children:t==null?void 0:t.email}),c.jsx(qe,{variant:"outline",size:"sm",onClick:()=>n("/planos"),children:"Gerenciar Plano"})]})]})}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Informações Pessoais"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Nome Completo"}),c.jsx(Ft,{defaultValue:t==null?void 0:t.name})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Email"}),c.jsx(Ft,{type:"email",defaultValue:t==null?void 0:t.email})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"Telefone"}),c.jsx(Ft,{type:"tel",placeholder:"(11) 99999-9999"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{children:"CPF/CNPJ"}),c.jsx(Ft,{placeholder:"000.000.000-00"})]})]}),c.jsx("div",{className:"flex justify-end mt-6",children:c.jsx(qe,{onClick:l,children:"Salvar Alterações"})})]}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx(Loe,{className:"h-5 w-5 text-primary"}),c.jsx("h3",{className:"text-lg font-semibold",children:"Plano Atual"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Plano"}),c.jsx("p",{className:"text-xl font-bold capitalize",children:r})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Próximo Pagamento"}),c.jsx("p",{className:"text-xl font-bold",children:"01/11/2024"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Valor Mensal"}),c.jsx("p",{className:"text-xl font-bold",children:r==="free"?"Grátis":r==="standard"?"R$ 49":r==="medium"?"R$ 99":"R$ 199"})]})]}),c.jsx(qe,{variant:"outline",onClick:()=>n("/planos"),children:"Alterar Plano"})]}),c.jsxs(Qe,{className:"shadow-card",children:[c.jsx("div",{className:"p-6 border-b border-border",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Histórico de Pagamentos"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-muted/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-4 font-semibold",children:"Data"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Plano"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Valor"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),c.jsx("th",{className:"text-left p-4 font-semibold",children:"Nota Fiscal"})]})}),c.jsx("tbody",{children:h.map((p,f)=>c.jsxs("tr",{className:"border-t border-border hover:bg-muted/30 transition-colors",children:[c.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(p.date).toLocaleDateString("pt-BR")}),c.jsx("td",{className:"p-4",children:p.plan}),c.jsxs("td",{className:"p-4 font-semibold",children:["R$ ",p.amount]}),c.jsx("td",{className:"p-4",children:c.jsx(ir,{variant:"default",children:"Pago"})}),c.jsx("td",{className:"p-4",children:c.jsx(qe,{variant:"ghost",size:"sm",children:"Download"})})]},f))})]})})]}),c.jsxs(Qe,{className:"p-6 shadow-card border-destructive/50",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(zh,{className:"h-5 w-5 text-destructive"}),c.jsx("h3",{className:"text-lg font-semibold text-destructive",children:"Zona de Perigo"})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Uma vez que você exclua sua conta, não há como voltar atrás. Por favor, tenha certeza."}),c.jsxs(Zp,{open:s,onOpenChange:o,children:[c.jsx(Iy,{asChild:!0,children:c.jsx(qe,{variant:"destructive",onClick:d,children:"Excluir Conta"})}),c.jsxs(ef,{className:"bg-card border-border",children:[c.jsxs(tf,{children:[c.jsxs(nf,{className:"text-foreground flex items-center gap-2",children:[c.jsx(zh,{className:"w-5 h-5 text-destructive"}),"Confirmar Exclusão de Conta"]}),c.jsxs(af,{className:"text-muted-foreground",children:["Esta ação é ",c.jsx("strong",{children:"irreversível"}),". Todos os seus dados serão permanentemente excluídos."]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[c.jsx("p",{className:"text-sm text-destructive font-medium mb-2",children:"⚠️ Atenção: Esta ação não pode ser desfeita"}),c.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsx("li",{children:"• Todos os seus dados serão excluídos permanentemente"}),c.jsx("li",{children:"• Seu histórico de transações será perdido"}),c.jsx("li",{children:"• Suas configurações serão removidas"}),c.jsx("li",{children:"• Você precisará criar uma nova conta para usar o sistema"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(st,{htmlFor:"deleteConfirmation",className:"text-sm font-medium text-foreground",children:["Para confirmar, digite ",c.jsx("strong",{children:'"sim"'})," abaixo:"]}),c.jsx(Ft,{id:"deleteConfirmation",type:"text",placeholder:"Digite 'sim' para confirmar",value:i,onChange:p=>a(p.target.value),className:"border-destructive/50 focus:border-destructive"})]})]}),c.jsxs(rf,{children:[c.jsx(of,{className:"bg-muted hover:bg-muted/80 text-foreground border-border",children:"Cancelar"}),c.jsx(sf,{onClick:u,disabled:i.toLowerCase()!=="sim",className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground disabled:opacity-50 disabled:cursor-not-allowed",children:"Excluir Conta Permanentemente"})]})]})]})]})]})})},kJe=()=>{const t=ff();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},vne=T.forwardRef(({className:t,...e},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:wt("w-full caption-bottom text-sm",t),...e})}));vne.displayName="Table";const yne=T.forwardRef(({className:t,...e},r)=>c.jsx("thead",{ref:r,className:wt("[&_tr]:border-b",t),...e}));yne.displayName="TableHeader";const bne=T.forwardRef(({className:t,...e},r)=>c.jsx("tbody",{ref:r,className:wt("[&_tr:last-child]:border-0",t),...e}));bne.displayName="TableBody";const IJe=T.forwardRef(({className:t,...e},r)=>c.jsx("tfoot",{ref:r,className:wt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));IJe.displayName="TableFooter";const __=T.forwardRef(({className:t,...e},r)=>c.jsx("tr",{ref:r,className:wt("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));__.displayName="TableRow";const ug=T.forwardRef(({className:t,...e},r)=>c.jsx("th",{ref:r,className:wt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ug.displayName="TableHead";const rp=T.forwardRef(({className:t,...e},r)=>c.jsx("td",{ref:r,className:wt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));rp.displayName="TableCell";const OJe=T.forwardRef(({className:t,...e},r)=>c.jsx("caption",{ref:r,className:wt("mt-4 text-sm text-muted-foreground",t),...e}));OJe.displayName="TableCaption";const RJe=()=>{const{id:t}=Qde(),e=Wi();qi();const{user:r}=qr(),[n,i]=T.useState(""),[a,s]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState(""),[h,p]=T.useState(!1),[f,v]=T.useState(!1),[m,g]=T.useState(null),[y,x]=T.useState({amount:"",platformId:"",type:"deposit"}),[_,A]=T.useState({name:"",cpf:"",email:"",phone:"",birthDate:"",salary:0,payDay:1,status:"active"}),{data:E=[]}=rd((r==null?void 0:r.uid)||""),I=E.find(J=>J.id===t),j=new Date().toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-"),{data:N=[]}=lo((r==null?void 0:r.uid)||"",j,j),k=N.filter(J=>J.employeeId===t),D=cX(),C=Gbe(),O=k3(),L=I3(),z=Qbe(),re=()=>{I&&(A({name:I.name,cpf:I.cpf||"",email:I.email||"",phone:I.phone||"",birthDate:I.birthDate||"",salary:I.salary||0,payDay:I.payDay||1,status:I.status||"active"}),p(!0))},Y=async()=>{if(!(!I||!(r!=null&&r.uid))){if(!_.name.trim()){Ge.error("O nome é obrigatório");return}try{const J={name:_.name.trim(),updatedAt:new Date};_.cpf.trim()&&(J.cpf=_.cpf.trim()),_.email.trim()&&(J.email=_.email.trim()),_.phone.trim()&&(J.phone=_.phone.trim()),_.birthDate&&(J.birthDate=_.birthDate),_.salary>0&&(J.salary=_.salary),_.payDay>0&&(J.payDay=_.payDay),J.status=_.status,await D.mutateAsync({userId:r.uid,id:I.id,data:J}),Ge.success("Funcionário atualizado com sucesso!"),p(!1)}catch(J){console.error("Erro ao atualizar funcionário:",J),Ge.error("Erro ao atualizar funcionário. Tente novamente.")}}},K=async()=>{if(!(!I||!(r!=null&&r.uid)))try{await C.mutateAsync({userId:r.uid,id:I.id}),Ge.success("Funcionário excluído com sucesso!"),e("/gestao-funcionarios")}catch(J){console.error("Erro ao excluir funcionário:",J),Ge.error("Erro ao excluir funcionário. Tente novamente.")}},q=J=>{g(J),x({amount:J.amount.toString(),platformId:J.platformId||"",type:J.type}),v(!0)},Z=async()=>{if(!(!m||!(r!=null&&r.uid)))try{await z.mutateAsync({userId:r.uid,id:m.id,data:{amount:Number(y.amount),platformId:y.platformId,type:y.type}}),Ge.success("Transação atualizada com sucesso!"),v(!1),g(null)}catch(J){console.error("Erro ao atualizar transação:",J),Ge.error("Erro ao atualizar transação. Tente novamente.")}},{data:ve=[]}=Oy((r==null?void 0:r.uid)||"");console.log("Platforms loaded:",ve),console.log("Deposit platform:",a),console.log("Withdraw platform:",u);const ce=k,F=async(J,ie,be)=>{if(!(!I||!(r!=null&&r.uid)))try{const he={userId:r.uid,employeeId:I.id,platformId:be,type:J,amount:Number(ie),date:new Date().toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-")};console.log("Creating transaction:",he),console.log("Transaction date being saved:",he.date);const P=await O.mutateAsync(he);console.log("Transaction created with ID:",P),Ge.success(`${J==="deposit"?"Depósito":"Saque"} registrado com sucesso!`),J==="deposit"?(i(""),s("")):(l(""),d(""))}catch(he){console.error("Erro ao registrar transação:",he),Ge.error("Erro ao registrar transação. Tente novamente.")}},V=()=>{if(!n){Ge.error("Preencha o valor do depósito");return}if(console.log("Attempting deposit with platform:",a),!a){console.log("No platform selected, proceeding without platform"),F("deposit",n,"");return}F("deposit",n,a)},G=()=>{if(!o){Ge.error("Preencha o valor do saque");return}if(console.log("Attempting withdraw with platform:",u),!u){console.log("No platform selected, proceeding without platform"),F("withdraw",o,"");return}F("withdraw",o,u)},oe=(J,ie)=>{navigator.clipboard.writeText(J),Ge.success(`${ie} copiado!`)};return I?c.jsx($a,{children:c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>e("/gestao-funcionarios"),children:c.jsx(Ex,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:I.name}),c.jsx("p",{className:"text-muted-foreground",children:"Perfil do Funcionário"})]}),c.jsxs(qe,{variant:"outline",className:"gap-2",onClick:re,children:[c.jsx(jh,{className:"h-4 w-4"}),"Editar"]}),c.jsxs(Zp,{children:[c.jsx(Iy,{asChild:!0,children:c.jsxs(qe,{variant:"destructive",className:"gap-2",children:[c.jsx(zh,{className:"h-4 w-4"}),"Excluir"]})}),c.jsxs(ef,{children:[c.jsxs(tf,{children:[c.jsx(nf,{children:"Confirmar Exclusão"}),c.jsxs(af,{children:["Tem certeza que deseja excluir o funcionário ",I.name,"? Esta ação não pode ser desfeita e todas as transações relacionadas serão perdidas."]})]}),c.jsxs(rf,{children:[c.jsx(of,{children:"Cancelar"}),c.jsx(sf,{onClick:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:C.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Pp,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):"Excluir"})]})]})]})]}),c.jsx(Qe,{className:"p-6 shadow-card",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"CPF"}),c.jsx("p",{className:"text-lg font-semibold",children:I.cpf})]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>oe(I.cpf,"CPF"),children:c.jsx(Q2,{className:"h-4 w-4"})})]}),I.email&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"Email"}),c.jsx("p",{className:"text-lg font-semibold",children:I.email})]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>oe(I.email,"Email"),children:c.jsx(Q2,{className:"h-4 w-4"})})]}),I.phone&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"Telefone"}),c.jsx("p",{className:"text-lg font-semibold",children:I.phone})]}),c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>oe(I.phone,"Telefone"),children:c.jsx(Q2,{className:"h-4 w-4"})})]}),I.birthDate&&c.jsxs("div",{children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"Data de Nascimento"}),c.jsx("p",{className:"text-lg font-semibold",children:new Date(I.birthDate).toLocaleDateString("pt-BR")})]}),c.jsxs("div",{children:[c.jsx(st,{className:"text-sm text-muted-foreground",children:"Status"}),c.jsx("div",{className:"mt-2",children:c.jsx(ir,{variant:I.status==="active"?"default":"secondary",className:I.status==="active"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${I.status==="active","bg-white"}`}),I.status==="active"?"Ativo":"Inativo"]})})})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Depósito"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Valor (BRL)"}),c.jsx(Ft,{type:"number",placeholder:"0,00",value:n,onChange:J=>i(J.target.value)})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Plataforma"}),c.jsxs(Zn,{value:a,onValueChange:s,children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione a plataforma"})}),c.jsx(Yn,{children:ve.map(J=>c.jsx(Or,{value:J.id,children:J.name},J.id))})]})]}),c.jsx(qe,{onClick:V,disabled:O.isPending,className:"w-full bg-destructive hover:bg-destructive/90",children:"Registrar Depósito"})]})]}),c.jsxs(Qe,{className:"p-6 shadow-card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Saque"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{children:"Valor (BRL)"}),c.jsx(Ft,{type:"number",placeholder:"0,00",value:o,onChange:J=>l(J.target.value)})]}),c.jsxs("div",{children:[c.jsx(st,{children:"Plataforma"}),c.jsxs(Zn,{value:u,onValueChange:d,children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione a plataforma"})}),c.jsx(Yn,{children:ve.map(J=>c.jsx(Or,{value:J.id,children:J.name},J.id))})]})]}),c.jsx(qe,{onClick:G,disabled:O.isPending,className:"w-full",style:{backgroundColor:"#9333EA"},children:"Registrar Saque"})]})]})]}),c.jsxs(Qe,{className:"shadow-card",children:[c.jsx("div",{className:"p-6 border-b border-border/50",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Histórico de Movimentações (Hoje)"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(vne,{children:[c.jsx(yne,{children:c.jsxs(__,{children:[c.jsx(ug,{children:"Tipo"}),c.jsx(ug,{children:"Plataforma"}),c.jsx(ug,{children:"Data/Hora"}),c.jsx(ug,{children:"Valor"}),c.jsx(ug,{className:"text-right",children:"Ações"})]})}),c.jsx(bne,{children:ce.length===0?c.jsx(__,{children:c.jsx(rp,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Nenhuma movimentação hoje"})}):ce.map(J=>{var ie,be;return c.jsxs(__,{children:[c.jsx(rp,{children:c.jsx(ir,{variant:J.type==="deposit"?"destructive":"default",children:J.type==="deposit"?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(qh,{className:"h-3 w-3"}),"Despesa"]}):c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(di,{className:"h-3 w-3"}),"Receita"]})})}),c.jsx(rp,{children:c.jsx("span",{className:"font-semibold",style:{color:(()=>{const he=ve.find(P=>P.id===J.platformId);return(he==null?void 0:he.color)||"#FF5C00"})()},children:(()=>{const he=ve.find(P=>P.id===J.platformId);return(he==null?void 0:he.name)||"N/A"})()})}),c.jsx(rp,{children:new Date(((be=(ie=J.createdAt)==null?void 0:ie.toDate)==null?void 0:be.call(ie))||J.date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),c.jsx(rp,{children:c.jsxs("span",{className:J.type==="deposit"?"text-destructive":"text-success",children:[J.type==="deposit"?"-":"+","R$"," ",Number(J.amount).toLocaleString("pt-BR")]})}),c.jsx(rp,{className:"text-right",children:c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>q(J),children:c.jsx(jh,{className:"h-4 w-4"})}),c.jsx(qe,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>L.mutate(J.id),children:c.jsx(zh,{className:"h-4 w-4"})})]})})]},J.id)})})]})})]}),c.jsx(oo,{open:h,onOpenChange:p,children:c.jsxs(Cs,{className:"sm:max-w-[500px]",children:[c.jsxs(ks,{children:[c.jsx(Is,{children:"Editar Funcionário"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Preencha as informações do funcionário. Apenas o nome é obrigatório."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-name",children:"Nome Completo"}),c.jsx(Ft,{id:"edit-name",value:_.name,onChange:J=>A(ie=>({...ie,name:J.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-cpf",children:"CPF"}),c.jsx(Ft,{id:"edit-cpf",value:_.cpf,onChange:J=>A(ie=>({...ie,cpf:J.target.value})),placeholder:"000.000.000-00 (opcional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-email",children:"E-mail"}),c.jsx(Ft,{id:"edit-email",type:"email",value:_.email,onChange:J=>A(ie=>({...ie,email:J.target.value})),placeholder:"email@exemplo.com (opcional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-phone",children:"Telefone"}),c.jsx(Ft,{id:"edit-phone",value:_.phone,onChange:J=>A(ie=>({...ie,phone:J.target.value})),placeholder:"(00) 00000-0000 (opcional)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-birthDate",children:"Data de Nascimento"}),c.jsx(Ft,{id:"edit-birthDate",type:"date",value:_.birthDate,onChange:J=>A(ie=>({...ie,birthDate:J.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-salary",children:"Salário (R$)"}),c.jsx(Ft,{id:"edit-salary",type:"number",placeholder:"0,00",value:_.salary,onChange:J=>A(ie=>({...ie,salary:Number(J.target.value)||0}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-payDay",children:"Dia do Pagamento"}),c.jsxs(Zn,{value:_.payDay.toString(),onValueChange:J=>A(ie=>({...ie,payDay:Number(J)})),children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione o dia"})}),c.jsx(Yn,{children:Array.from({length:31},(J,ie)=>ie+1).map(J=>c.jsxs(Or,{value:J.toString(),children:[J,"º dia do mês"]},J))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(st,{htmlFor:"edit-status",children:"Status do Funcionário"}),c.jsxs(Zn,{value:_.status,onValueChange:J=>A(ie=>({...ie,status:J})),children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione o status"})}),c.jsxs(Yn,{children:[c.jsx(Or,{value:"active",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Ativo"]})}),c.jsx(Or,{value:"inactive",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Inativo"]})})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(qe,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),c.jsx(qe,{onClick:Y,disabled:D.isPending,children:D.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Pp,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):"Salvar"})]})]})]})}),c.jsx(oo,{open:f,onOpenChange:v,children:c.jsxs(Cs,{className:"sm:max-w-[500px]",children:[c.jsx(ks,{children:c.jsx(Is,{children:"Editar Transação"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(st,{htmlFor:"edit-amount",children:"Valor"}),c.jsx(Ft,{id:"edit-amount",type:"number",value:y.amount,onChange:J=>x(ie=>({...ie,amount:J.target.value})),placeholder:"Digite o valor"})]}),c.jsxs("div",{children:[c.jsx(st,{htmlFor:"edit-type",children:"Tipo"}),c.jsxs(Zn,{value:y.type,onValueChange:J=>x(ie=>({...ie,type:J})),children:[c.jsx(Kn,{children:c.jsx(ei,{})}),c.jsxs(Yn,{children:[c.jsx(Or,{value:"deposit",children:"Depósito"}),c.jsx(Or,{value:"withdraw",children:"Saque"})]})]})]}),c.jsxs("div",{children:[c.jsx(st,{htmlFor:"edit-platform",children:"Plataforma"}),c.jsxs(Zn,{value:y.platformId,onValueChange:J=>x(ie=>({...ie,platformId:J})),children:[c.jsx(Kn,{children:c.jsx(ei,{placeholder:"Selecione uma plataforma"})}),c.jsx(Yn,{children:ve.map(J=>c.jsx(Or,{value:J.id,children:J.name},J.id))})]})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(qe,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),c.jsxs(qe,{onClick:Z,disabled:z.isPending,children:[z.isPending&&c.jsx(Pp,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar"]})]})]})]})})]})}):c.jsx($a,{children:c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})})})},DJe=()=>{const t=Wi();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[c.jsx("div",{className:"mb-10",children:c.jsxs(qe,{variant:"ghost",onClick:()=>t(-1),className:"gap-2",children:[c.jsx(Ex,{className:"h-4 w-4"}),"Voltar"]})}),c.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Termos de Uso"}),c.jsx("p",{className:"text-muted-foreground mb-8",children:"Bem-vindo(a) ao Optify. Ao acessar ou utilizar nossos serviços, você concorda com estes Termos de Uso. Leia com atenção."}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Definições"}),c.jsx("p",{className:"text-muted-foreground",children:"Para fins destes termos: “Plataforma” significa o sistema Optify e seus aplicativos; “Usuário” é a pessoa que acessa ou utiliza a Plataforma; “Conta” é o cadastro individual do Usuário."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Aceitação e Elegibilidade"}),c.jsx("p",{className:"text-muted-foreground",children:"O uso da Plataforma implica aceitação integral destes Termos. O Usuário deve ter capacidade civil e fornecer informações verdadeiras e atualizadas no cadastro."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Conta e Segurança"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[c.jsx("li",{children:"Você é responsável por manter a confidencialidade das credenciais."}),c.jsx("li",{children:"Notifique-nos imediatamente sobre uso não autorizado da sua Conta."}),c.jsx("li",{children:"Reservamo-nos o direito de suspender contas por violação destes Termos."})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Licença de Uso"}),c.jsx("p",{className:"text-muted-foreground",children:"Concedemos ao Usuário uma licença limitada, revogável, não exclusiva e intransferível para utilizar a Plataforma conforme estes Termos. É vedada a engenharia reversa, cópia ou exploração comercial não autorizada."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Planos e Pagamentos"}),c.jsx("p",{className:"text-muted-foreground",children:"Alguns recursos são oferecidos mediante assinatura. Os valores, periodicidade e condições são exibidos na Plataforma e podem ser atualizados. Renovação é periódica até cancelamento pelo Usuário."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Uso Aceitável"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[c.jsx("li",{children:"Não publique conteúdo ilegal, ofensivo ou que viole direitos de terceiros."}),c.jsx("li",{children:"Não utilize a Plataforma para fraudes, spams ou atividades maliciosas."}),c.jsx("li",{children:"Não interfira na segurança, disponibilidade ou performance do serviço."})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Propriedade Intelectual"}),c.jsx("p",{className:"text-muted-foreground",children:"Todos os direitos sobre marcas, logotipos, códigos e conteúdos da Plataforma pertencem ao Optify ou a seus licenciantes. Nada nestes Termos implica cessão de direitos de propriedade intelectual."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Disponibilidade e Suporte"}),c.jsx("p",{className:"text-muted-foreground",children:"Empregamos boas práticas para manter a disponibilidade. O suporte é prestado prioritariamente via WhatsApp aos clientes, conforme plano contratado."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"9. Limitação de Responsabilidade"}),c.jsx("p",{className:"text-muted-foreground",children:'A Plataforma é fornecida "no estado em que se encontra". Não nos responsabilizamos por lucros cessantes, perdas de dados ou danos indiretos decorrentes do uso.'})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"10. Alterações e Encerramento"}),c.jsx("p",{className:"text-muted-foreground",children:"Podemos atualizar estes Termos ou funcionalidades da Plataforma. Caso não concorde, o Usuário poderá cancelar a assinatura e encerrar o uso."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"11. Foro e Legislação"}),c.jsx("p",{className:"text-muted-foreground",children:"Aplica-se a legislação brasileira. Fica eleito o foro da Comarca de São Paulo, SP, para dirimir controvérsias, salvo legislação de defesa do consumidor mais favorável."})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR"),"."]})]})]})]})},LJe=()=>{const t=Wi();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[c.jsx("div",{className:"mb-10",children:c.jsxs(qe,{variant:"ghost",onClick:()=>t(-1),className:"gap-2",children:[c.jsx(Ex,{className:"h-4 w-4"}),"Voltar"]})}),c.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Política de Privacidade"}),c.jsx("p",{className:"text-muted-foreground mb-8",children:"Esta Política descreve como tratamos dados pessoais em conformidade com a Lei Geral de Proteção de Dados (LGPD - Lei nº 13.709/2018)."}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Controlador e Contato"}),c.jsx("p",{className:"text-muted-foreground",children:"O Optify é o controlador dos dados tratados nesta Plataforma. Para exercer seus direitos, entre em contato pelo nosso canal de suporte (WhatsApp) indicado na Plataforma."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Dados Coletados"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[c.jsx("li",{children:"Dados cadastrais (nome, email, telefone)."}),c.jsx("li",{children:"Dados de uso (logs de acesso, interações e preferências)."}),c.jsx("li",{children:"Dados de transações e operações realizadas na Plataforma."})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Bases Legais e Finalidades"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[c.jsx("li",{children:"Execução do contrato: viabilizar funcionalidades e suporte ao Usuário."}),c.jsx("li",{children:"Legítimo interesse: aprimorar a experiência, prevenir fraudes e garantir segurança."}),c.jsx("li",{children:"Consentimento: comunicações de marketing quando aplicável (opt-out a qualquer momento)."}),c.jsx("li",{children:"Cumprimento legal: registros e obrigações regulatórias."})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Compartilhamento de Dados"}),c.jsx("p",{className:"text-muted-foreground",children:"Podemos compartilhar dados com prestadores de serviços essenciais à operação (por exemplo, processamento de pagamentos, hospedagem e analytics), sempre sob obrigações de confidencialidade e segurança."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Segurança da Informação"}),c.jsx("p",{className:"text-muted-foreground",children:"Adotamos medidas técnicas e administrativas aptas a proteger os dados pessoais contra acessos não autorizados e incidentes, seguindo boas práticas de segurança e criptografia."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Direitos dos Titulares"}),c.jsx("p",{className:"text-muted-foreground",children:"Em conformidade com a LGPD, você pode solicitar: confirmação de tratamento, acesso, correção, anonimização, portabilidade, eliminação, informação sobre compartilhamentos e revisão de decisões automatizadas."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Retenção e Exclusão"}),c.jsx("p",{className:"text-muted-foreground",children:"Mantemos os dados pelo tempo necessário às finalidades descritas e exigências legais. Após esse período, promovemos a exclusão ou anonimização, salvo obrigações de retenção."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Transferências Internacionais"}),c.jsx("p",{className:"text-muted-foreground",children:"Caso haja transferência internacional, garantimos mecanismos adequados de proteção e conformidade com a LGPD."})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"9. Atualizações desta Política"}),c.jsx("p",{className:"text-muted-foreground",children:"Esta Política poderá ser atualizada para refletir melhorias ou mudanças regulatórias. Recomendamos revisões periódicas. Em alterações relevantes, notificaremos os Usuários."})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Última atualização: ",new Date().toLocaleDateString("pt-BR"),"."]})]})]})]})},MJe=()=>{const t=Wi();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -top-48 -left-48 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-secondary/20 rounded-full blur-3xl top-1/2 right-0 animate-pulse"}),c.jsx("div",{className:"absolute w-[36rem] h-[36rem] bg-primary/20 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse"}),c.jsx("div",{className:"orange-orb absolute w-96 h-96 left-[8%] top-[30%] animate-float-slow"}),c.jsx("div",{className:"orange-orb absolute w-[28rem] h-[28rem] left-[55%] top-[10%] animate-float-reverse"}),c.jsx("div",{className:"orange-orb absolute w-80 h-80 left-[72%] top-[70%] animate-float-center"}),c.jsx("div",{className:"orange-orb absolute w-72 h-72 left-[22%] top-[75%] animate-float-reverse"}),c.jsx("div",{className:"orange-beam absolute w-[140%] h-24 left-[-20%] top-[40%] animate-beam"})]}),c.jsxs("main",{className:"relative z-10 container mx-auto px-4 py-16 max-w-4xl",children:[c.jsx("div",{className:"mb-10",children:c.jsxs(qe,{variant:"ghost",onClick:()=>t(-1),className:"gap-2",children:[c.jsx(Ex,{className:"h-4 w-4"}),"Voltar"]})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Central de Suporte"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Estamos aqui para ajudar você a aproveitar ao máximo o Optify"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[c.jsx("a",{href:"https://wa.me/556295536121",target:"_blank",rel:"noreferrer",className:"glass rounded-xl p-6 hover:shadow-glow transition-all card-hover",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"WhatsApp"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Suporte 24h"})]})]})}),c.jsx("div",{className:"glass rounded-xl p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Uoe,{className:"h-6 w-6 text-white"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"Email"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"suporte@optify.com.br"})]})]})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Horários de Atendimento"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(tA,{className:"h-5 w-5 text-primary"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Atendimento 24 horas"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp disponível a qualquer momento"})]})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Perguntas Frequentes"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Como faço para cancelar minha assinatura?"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Você pode cancelar através do seu painel de controle ou entrando em contato conosco."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Posso importar dados de outros sistemas?"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Sim! Oferecemos importação em CSV/Excel para funcionários e transações."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Meus dados estão seguros?"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilizamos criptografia de ponta a ponta e seguimos as melhores práticas de segurança."})]})]})]}),c.jsxs("div",{className:"glass rounded-xl p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Documentação"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("a",{href:"/termos",className:"block text-primary hover:underline",children:"Termos de Uso"}),c.jsx("a",{href:"/privacidade",className:"block text-primary hover:underline",children:"Política de Privacidade"})]})]})]})]})]})};function UP({mode:t}){const[e]=fH(),r=e.get("payment_id"),[n,i]=T.useState(null),[a,s]=T.useState(!0),[o,l]=T.useState(t),[u,d]=T.useState(!1),[h,p]=T.useState(null),[f,v]=T.useState(!1),[m,g]=T.useState(!1),{user:y}=qr(),x=async()=>{if(y!=null&&y.uid)try{const j=await qg.getUserProfile(y.uid);p(j)}catch(j){console.error("Erro ao buscar perfil:",j)}},_=async()=>{if(r){d(!0);try{const N=await(await fetch(`undefined/checkPaymentStatus?paymentId=${r}`)).json();i(N),(N==null?void 0:N.status)==="approved"&&l("success")}catch(j){console.error("Erro ao verificar status:",j)}finally{d(!1)}}};T.useEffect(()=>{y!=null&&y.uid&&x()},[y==null?void 0:y.uid]),T.useEffect(()=>{h!=null&&h.plano&&h.plano!=="free"&&o==="pending"&&l("success")},[h==null?void 0:h.plano,o]),T.useEffect(()=>{o==="success"&&t!=="success"?(v(!0),setTimeout(()=>{g(!0)},1500)):o==="success"&&g(!0)},[o,t]),T.useEffect(()=>{if(!r){s(!1);return}if(_(),s(!1),o==="pending"){const j=setInterval(()=>{_(),x()},5e3);return()=>clearInterval(j)}},[r,o]);const E=(()=>{switch(o){case"success":return{icon:Eh,title:"Pagamento Aprovado!",description:"Seu plano foi ativado com sucesso. Aproveite todos os recursos!",iconBg:"bg-emerald-500/10",iconColor:"text-emerald-500",titleColor:"text-foreground",descriptionColor:"text-muted-foreground",cardBg:"bg-background border-border",buttonVariant:"default",showRefresh:!1};case"failure":return{icon:Jq,title:"Pagamento Falhou",description:"Não foi possível processar seu pagamento. Tente novamente.",iconBg:"bg-red-500/10",iconColor:"text-red-500",titleColor:"text-foreground",descriptionColor:"text-muted-foreground",cardBg:"bg-background border-border",buttonVariant:"default",showRefresh:!0};case"pending":return{icon:tA,title:"Pagamento Pendente",description:"Seu pagamento está sendo processado. Verificando status automaticamente...",iconBg:"bg-amber-500/10",iconColor:"text-amber-500",titleColor:"text-foreground",descriptionColor:"text-muted-foreground",cardBg:"bg-background border-border",buttonVariant:"outline",showRefresh:!0}}})(),I=E.icon;return a?c.jsx($a,{children:c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(YE,{className:"h-6 w-6 animate-spin text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Carregando..."})]})})}):c.jsx($a,{children:c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",children:[f&&o==="success"&&c.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((j,N)=>c.jsx("div",{className:"absolute animate-bounce",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:c.jsx(Voe,{className:"h-4 w-4 text-emerald-500"})},N))}),c.jsx(Qe,{className:`w-full max-w-2xl p-8 ${E.cardBg} border shadow-lg transition-all duration-1000 ${m?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:`p-4 rounded-full ${E.iconBg} transition-all duration-1000 ${m?"scale-100":"scale-0"}`,children:c.jsx(I,{className:`h-12 w-12 ${E.iconColor} ${o==="success"?"animate-pulse":""}`})})}),c.jsxs("div",{className:"text-center space-y-3",children:[c.jsx("h1",{className:`text-4xl font-bold ${E.titleColor}`,children:E.title}),c.jsx("p",{className:`text-lg ${E.descriptionColor} max-w-md mx-auto`,children:E.description})]}),r&&c.jsx("div",{className:"bg-muted/50 rounded-xl p-6 border",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h3",{className:"font-semibold text-foreground",children:"Detalhes do Pagamento"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",c.jsx("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:r})]}),(h==null?void 0:h.plano)&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Plano Atual: ",c.jsx("span",{className:"font-semibold text-foreground capitalize",children:h.plano})]})]})}),u&&c.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[c.jsx(YE,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"text-sm",children:"Verificando status..."})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(qe,{asChild:!0,className:"flex items-center gap-2",children:c.jsxs(iM,{to:"/planos",children:[c.jsx(Ex,{className:"h-4 w-4"}),"Voltar aos Planos"]})}),c.jsx(qe,{asChild:!0,variant:E.buttonVariant,children:c.jsx(iM,{to:"/dashboard",children:"Ir para Dashboard"})}),E.showRefresh&&c.jsxs(qe,{variant:"outline",onClick:_,disabled:u,className:"flex items-center gap-2",children:[c.jsx(YE,{className:`h-4 w-4 ${u?"animate-spin":""}`}),"Verificar Status"]})]}),c.jsxs("div",{className:"text-center space-y-2 text-sm text-muted-foreground",children:[o==="success"&&c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"✅ Seu plano foi ativado automaticamente"}),c.jsx("p",{children:"🎉 Você pode gerenciar sua assinatura no seu perfil"})]}),o==="failure"&&c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"❌ Se o problema persistir, entre em contato conosco"}),c.jsx("p",{children:"💳 Verifique se seus dados de pagamento estão corretos"})]}),o==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"⏳ O processamento pode levar alguns minutos"}),c.jsx("p",{children:"📧 Você receberá um email quando o pagamento for confirmado"}),c.jsx("p",{children:"🔄 Esta página atualiza automaticamente"})]})]}),n&&!1]})})]})})}const $Je=new sde,FJe=()=>c.jsx(dde,{client:$Je,children:c.jsx(z0e,{children:c.jsxs(zue,{children:[c.jsx(jle,{}),c.jsx(ace,{}),c.jsx(xhe,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:c.jsxs(hhe,{children:[c.jsx(jn,{path:"/",element:c.jsx(_1e,{})}),c.jsx(jn,{path:"/login",element:c.jsx(N1e,{})}),c.jsx(jn,{path:"/signup",element:c.jsx(E1e,{})}),c.jsx(jn,{path:"/basic-info",element:c.jsx(P1e,{})}),c.jsx(jn,{path:"/initial-setup",element:c.jsx(T1e,{})}),c.jsx(jn,{path:"/dashboard",element:c.jsx(Sa,{children:c.jsx(G2e,{})})}),c.jsx(jn,{path:"/gestao-funcionarios",element:c.jsx(Sa,{children:c.jsx(w5e,{})})}),c.jsx(jn,{path:"/gestao-funcionarios/:id",element:c.jsx(Sa,{children:c.jsx(RJe,{})})}),c.jsx(jn,{path:"/pagamentos",element:c.jsx(Sa,{children:c.jsx(j0,{requiredFeature:"payments",pageName:"Gestão de Pagamentos",children:c.jsx(_5e,{})})})}),c.jsx(jn,{path:"/resumo-dia",element:c.jsx(Sa,{children:c.jsx(DGe,{})})}),c.jsx(jn,{path:"/saldos",element:c.jsx(Sa,{children:c.jsx(j0,{requiredFeature:"balances",pageName:"Saldo de Contas",children:c.jsx(LGe,{})})})}),c.jsx(jn,{path:"/relatorios",element:c.jsx(Sa,{children:c.jsx(j0,{requiredFeature:"reports",pageName:"Relatórios",children:c.jsx($Qe,{})})})}),c.jsx(jn,{path:"/historico",element:c.jsx(Sa,{children:c.jsx(j0,{requiredFeature:"history",pageName:"Histórico",children:c.jsx(FQe,{})})})}),c.jsx(jn,{path:"/planos",element:c.jsx(Sa,{children:c.jsx(HQe,{})})}),c.jsx(jn,{path:"/afiliados",element:c.jsx(Sa,{children:c.jsx(PJe,{})})}),c.jsx(jn,{path:"/settings",element:c.jsx(Sa,{children:c.jsx(TJe,{})})}),c.jsx(jn,{path:"/perfil",element:c.jsx(Sa,{children:c.jsx(CJe,{})})}),c.jsx(jn,{path:"/admin",element:c.jsx(Sa,{requireAdmin:!0,children:c.jsx(j0,{requiredFeature:"advancedPanel",pageName:"Painel Administrativo",children:c.jsx(jJe,{})})})}),c.jsx(jn,{path:"/termos",element:c.jsx(DJe,{})}),c.jsx(jn,{path:"/privacidade",element:c.jsx(LJe,{})}),c.jsx(jn,{path:"/suporte",element:c.jsx(MJe,{})}),c.jsx(jn,{path:"/payment/success",element:c.jsx(Sa,{children:c.jsx(UP,{mode:"success"})})}),c.jsx(jn,{path:"/payment/failure",element:c.jsx(Sa,{children:c.jsx(UP,{mode:"failure"})})}),c.jsx(jn,{path:"/payment/pending",element:c.jsx(Sa,{children:c.jsx(UP,{mode:"pending"})})}),c.jsx(jn,{path:"*",element:c.jsx(kJe,{})})]})})]})})});rxe();yq(document.getElementById("root")).render(c.jsx(FJe,{}));export{rn as _,Da as c,Qr as g};
