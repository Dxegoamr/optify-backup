const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Admin-CrzDbbkC.js","assets/ui-vendor-CIJA2k99.js","assets/react-vendor-a_rYd-gI.js","assets/index-mvhQqbRd.js","assets/chart-vendor-D_ps4xzz.js","assets/firebase-vendor-Dsl9zeYT.js","assets/index-CJgHc4Yi.css","assets/tabs-BVdE34xu.js","assets/index-CnEst0fN.js","assets/input-foYkf2QR.js","assets/select-BwImaozO.js","assets/index-CdAzXW5_.js","assets/label-5IA6As71.js","assets/stat-card-PrgjN6Di.js","assets/alert-y2Iflaxr.js","assets/dialog-DVx2yULl.js","assets/Relatorios-PVrX2bOH.js","assets/useFirestore-lcCxN-bk.js","assets/user-specific.service-CELv746m.js","assets/user-subcollections.service-BgWJVIJ-.js","assets/Historico-C2zY48tU.js","assets/format-DPwKrYwk.js","assets/pt-BR-DnZ5gAgy.js","assets/Pagamentos-BULzEVwm.js","assets/Saldos-iID8C_Up.js","assets/GestaoFuncionarios-DPuIGKTb.js","assets/EmployeeProfile-IrZ-JZUv.js","assets/Dashboard-Dujoon4v.js","assets/user-config.service-xkz0Ual-.js"])))=>i.map(i=>d[i]);
var br=Object.defineProperty;var xr=(e,t,r)=>t in e?br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Oe=(e,t,r)=>xr(e,typeof t!="symbol"?t+"":t,r);import{j as n,i as Q,ad as yr,_ as J,ac as wr,ae as Sr,X as Ze,k as Me,af as Cr,ag as Er,U as Nr,D as Ar,F as jr,ah as Rr,e as Dr,g as Pr,C as Tr,ai as _r,S as Or,aj as Mr,ak as Lr,a6 as kr,a0 as Ir}from"./ui-vendor-CIJA2k99.js";import{r as i,u as Fr,j as Wr}from"./react-vendor-a_rYd-gI.js";import{_ as W,d as K,v as zr,c as Ne,e as R,P as T,b as H,a as j,G as I,f as $r,h as M,i as Je,B as Z,C as Hr,w as Br,x as qr,j as Le,z as Vr,D as Ur,I as Yr,u as Xr,r as Gr,s as Kr,J as Qr,n as et,l as Zr,t as ee}from"./index-mvhQqbRd.js";import{z as Jr,q as pe,t as ke,v as Ie,y as eo,x as Fe,H as We,e as ze,F as to}from"./firebase-vendor-Dsl9zeYT.js";import{I as ro}from"./input-foYkf2QR.js";import{a as oo,u as he}from"./index-CnEst0fN.js";const ao=(e=1024)=>{const[t,r]=i.useState(!1);return i.useEffect(()=>{const o=()=>{r(window.innerWidth<e)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[e]),t},no=()=>{const e=i.useCallback(o=>{switch(o){case"/admin":W(()=>import("./Admin-CrzDbbkC.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]));break;case"/relatorios":W(()=>import("./Relatorios-PVrX2bOH.js").then(a=>a.R),__vite__mapDeps([16,1,2,3,4,5,6,10,8,11,17,18,19]));break;case"/historico":W(()=>import("./Historico-C2zY48tU.js"),__vite__mapDeps([20,1,2,3,4,5,6,15,9,12,10,8,11,17,18,19,21,22]));break;case"/pagamentos":W(()=>import("./Pagamentos-BULzEVwm.js"),__vite__mapDeps([23,1,2,3,4,5,6,9,10,8,11,17,18,19]));break;case"/saldos":W(()=>import("./Saldos-iID8C_Up.js"),__vite__mapDeps([24,1,2,3,4,5,6,9,12,17,18,19,15,8]));break;case"/gestao-funcionarios":W(()=>import("./GestaoFuncionarios-DPuIGKTb.js"),__vite__mapDeps([25,1,2,3,4,5,6,9,15,17,18,19,12,14,8])),W(()=>import("./EmployeeProfile-IrZ-JZUv.js"),__vite__mapDeps([26,1,2,3,4,5,6,9,12,10,8,11,15,17,18,19]));break;case"/dashboard":W(()=>import("./Dashboard-Dujoon4v.js"),__vite__mapDeps([27,1,2,13,3,4,5,6,15,9,12,17,18,19,28,10,8,11,21,22]));break}},[]),t=i.useCallback(o=>{e(o)},[e]),r=i.useCallback(()=>{"requestIdleCallback"in window?window.requestIdleCallback(()=>{e("/dashboard"),e("/gestao-funcionarios"),e("/pagamentos")}):setTimeout(()=>{e("/dashboard"),e("/gestao-funcionarios"),e("/pagamentos")},2e3)},[e]);return{preloadRoute:e,preloadOnHover:t,preloadOnIdle:r}};class so{constructor(){Oe(this,"systemKnowledge",{operations:[{name:"Cadastrar Funcion√°rio",description:"Adicionar um novo funcion√°rio ao sistema",steps:['Acesse a se√ß√£o "Gest√£o de Funcion√°rios"','Clique em "Adicionar Funcion√°rio"',"Preencha os dados: nome, cargo, sal√°rio, data de admiss√£o","Salve as informa√ß√µes"],examples:["Como adicionar um funcion√°rio?","Quero cadastrar um novo colaborador","Adicionar funcion√°rio no sistema"]},{name:"Registrar Transa√ß√£o",description:"Registrar uma nova transa√ß√£o financeira",steps:['V√° para a se√ß√£o "Transa√ß√µes"','Clique em "Nova Transa√ß√£o"',"Selecione o tipo: receita ou despesa","Preencha valor, descri√ß√£o, categoria","Salve a transa√ß√£o"],examples:["Como registrar uma venda?","Quero adicionar uma despesa","Registrar transa√ß√£o de receita"]},{name:"Gerenciar Pagamentos",description:"Visualizar e processar pagamentos",steps:['Acesse "Pagamentos" no menu',"Visualize pagamentos pendentes","Processe pagamentos quando necess√°rio","Acompanhe hist√≥rico de pagamentos"],examples:["Como ver meus pagamentos?","Processar pagamento pendente","Hist√≥rico de pagamentos"]},{name:"Configurar Metas",description:"Definir metas financeiras mensais",steps:['V√° para "Metas" no dashboard',"Defina valor da meta mensal","Configure per√≠odo da meta","Salve a configura√ß√£o"],examples:["Como definir uma meta mensal?","Configurar objetivo financeiro","Definir meta de vendas"]}],entities:[{type:"funcionario",description:"Colaboradores da empresa",fields:["nome","cargo","salario","dataAdmissao","email","telefone"],operations:["cadastrar","editar","remover","visualizar"]},{type:"transacao",description:"Movimenta√ß√µes financeiras",fields:["valor","tipo","descricao","categoria","data","funcionario"],operations:["registrar","editar","excluir","filtrar"]},{type:"plataforma",description:"Plataformas de vendas",fields:["nome","comissao","ativo","descricao"],operations:["adicionar","configurar","ativar","desativar"]},{type:"meta",description:"Objetivos financeiros",fields:["valor","periodo","tipo","status"],operations:["definir","atualizar","acompanhar"]}],commonQuestions:[{question:"Como funciona o sistema Optify?",answer:"O Optify √© um sistema de gest√£o financeira empresarial que permite controlar funcion√°rios, transa√ß√µes, pagamentos, metas e gerar relat√≥rios detalhados. Voc√™ pode cadastrar colaboradores, registrar vendas e despesas, acompanhar metas mensais e visualizar relat√≥rios em tempo real.",keywords:["sistema","optify","funcionamento","como usar"]},{question:"Como adicionar um funcion√°rio?",answer:'Para adicionar um funcion√°rio: 1) Acesse "Gest√£o de Funcion√°rios" no menu, 2) Clique em "Adicionar Funcion√°rio", 3) Preencha nome, cargo, sal√°rio e data de admiss√£o, 4) Salve as informa√ß√µes. O funcion√°rio ser√° adicionado ao sistema e poder√° ser usado em transa√ß√µes.',keywords:["funcionario","adicionar","cadastrar","colaborador"]},{question:"Como registrar uma venda?",answer:'Para registrar uma venda: 1) V√° para "Transa√ß√µes" no menu, 2) Clique em "Nova Transa√ß√£o", 3) Selecione "Receita" como tipo, 4) Preencha valor, descri√ß√£o e categoria, 5) Associe ao funcion√°rio respons√°vel, 6) Salve a transa√ß√£o. Ela aparecer√° no resumo di√°rio e relat√≥rios.',keywords:["venda","receita","transacao","registrar"]},{question:"Como definir metas mensais?",answer:'Para definir metas: 1) Acesse "Metas" no dashboard, 2) Clique em "Nova Meta", 3) Defina o valor desejado, 4) Selecione o per√≠odo (mensal), 5) Escolha o tipo de meta, 6) Salve. Voc√™ poder√° acompanhar o progresso em tempo real no dashboard.',keywords:["meta","objetivo","mensal","definir"]},{question:"Como gerar relat√≥rios?",answer:'Para gerar relat√≥rios: 1) Acesse "Relat√≥rios" no menu, 2) Selecione o tipo de relat√≥rio desejado, 3) Defina o per√≠odo, 4) Escolha filtros se necess√°rio, 5) Clique em "Gerar". Os relat√≥rios podem ser exportados em PDF ou visualizados na tela.',keywords:["relatorio","gerar","exportar","pdf"]}]})}async saveMessage(t,r){try{const o={...r,userId:t,timestamp:new Date},a=await Jr(pe(K,`users/${t}/conversations`),o);return await this.cleanupOldMessages(t),a.id}catch(o){throw console.error("Erro ao salvar mensagem:",o),o}}async getRecentMessages(t,r=10){try{const o=ke(pe(K,`users/${t}/conversations`),Ie("timestamp","desc"),eo(r));return(await Fe(o)).docs.map(c=>({id:c.id,...c.data(),timestamp:c.data().timestamp.toDate()})).reverse()}catch(o){return console.error("Erro ao buscar mensagens:",o),[]}}async cleanupOldMessages(t){try{const r=ke(pe(K,`users/${t}/conversations`),Ie("timestamp","desc")),a=(await Fe(r)).docs;if(a.length>10){const s=a.slice(10);for(const c of s)await We(ze(K,`users/${t}/conversations`,c.id))}}catch(r){console.error("Erro ao limpar mensagens antigas:",r)}}async processUserMessage(t,r){try{const o=await this.getRecentMessages(t,10);await this.saveMessage(t,{role:"user",content:r});const a=await this.generateResponseWithGPT(r,o);return await this.saveMessage(t,{role:"assistant",content:a,metadata:{operation:this.extractOperation(r),success:!0}}),a}catch(o){return console.error("Erro ao processar mensagem:",o),"Desculpe, ocorreu um erro ao processar sua mensagem. Tente novamente."}}async generateResponseWithGPT(t,r){try{const s=(await to(zr,"generateAIResponse")({message:t,context:r.slice(-5).map(c=>({role:c.role,content:c.content}))})).data;return console.log(`‚úÖ Resposta gerada com ${s.model} - Tokens: ${s.usage?.totalTokens||0}`),s.response}catch(o){return console.error("Erro ao chamar Cloud Function:",o),o.code==="resource-exhausted"?"Desculpe, o limite de requisi√ß√µes foi excedido. Tente novamente em alguns instantes.":o.code==="unauthenticated"?"Erro de autentica√ß√£o. Por favor, fa√ßa login novamente.":(console.log("üìù Usando resposta local como fallback"),this.generateLocalResponse(t,r))}}generateLocalResponse(t,r){const o=t.toLowerCase(),a=this.systemKnowledge.commonQuestions.find(l=>l.keywords.some(u=>o.includes(u)));if(a)return a.answer;const s=this.systemKnowledge.operations.find(l=>l.examples.some(u=>o.includes(u.toLowerCase())));if(s)return`Para ${s.description.toLowerCase()}:${s.steps.map((l,u)=>`
${u+1}. ${l}`).join("")}`;const c=this.systemKnowledge.entities.find(l=>o.includes(l.type.toLowerCase()));return c?`Para trabalhar com ${c.description}: voc√™ pode ${c.operations.join(", ")}. Os campos dispon√≠veis s√£o: ${c.fields.join(", ")}.`:o.includes("oi")||o.includes("ol√°")||o.includes("bom dia")||o.includes("boa tarde")||o.includes("boa noite")?`Ol√°! üëã Sou seu assistente do Optify. Posso ajud√°-lo com:

‚Ä¢ Cadastro e gest√£o de funcion√°rios
‚Ä¢ Registro de transa√ß√µes (vendas e despesas)
‚Ä¢ Configura√ß√£o de metas mensais
‚Ä¢ Gera√ß√£o de relat√≥rios
‚Ä¢ D√∫vidas sobre o sistema

E tamb√©m posso conversar sobre qualquer assunto! üòä

Como posso ajud√°-lo hoje?`:`Entendi sua mensagem: "${t}"

Posso ajud√°-lo com:
‚Ä¢ Opera√ß√µes do sistema Optify (dep√≥sitos, saques, fechamento de dia)
‚Ä¢ Perguntas gerais (hist√≥ria, ci√™ncia, matem√°tica, etc.)
‚Ä¢ Conversas casuais

Tente perguntar algo espec√≠fico! ü§î`}extractOperation(t){const r=t.toLowerCase();return r.includes("adicionar")||r.includes("cadastrar")?"create":r.includes("editar")||r.includes("alterar")?"update":r.includes("remover")||r.includes("excluir")?"delete":r.includes("visualizar")||r.includes("ver")?"view":"general"}async clearConversationHistory(t){try{const r=await this.getRecentMessages(t,100);for(const o of r)o.id&&await We(ze(K,`users/${t}/conversations`,o.id))}catch(r){throw console.error("Erro ao limpar hist√≥rico:",r),r}}}const ve=new so;function io(e,[t,r]){return Math.min(r,Math.max(t,e))}function lo(e,t){return i.useReducer((r,o)=>t[r][o]??r,e)}var Ae="ScrollArea",[tt,on]=Ne(Ae),[co,D]=tt(Ae),rt=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:o="hover",dir:a,scrollHideDelay:s=600,...c}=e,[l,u]=i.useState(null),[p,d]=i.useState(null),[h,f]=i.useState(null),[g,C]=i.useState(null),[m,y]=i.useState(null),[x,v]=i.useState(0),[w,S]=i.useState(0),[b,N]=i.useState(!1),[A,k]=i.useState(!1),E=R(t,B=>u(B)),P=oo(a);return n.jsx(co,{scope:r,type:o,dir:P,scrollHideDelay:s,scrollArea:l,viewport:p,onViewportChange:d,content:h,onContentChange:f,scrollbarX:g,onScrollbarXChange:C,scrollbarXEnabled:b,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:A,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:S,children:n.jsx(T.div,{dir:P,...c,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});rt.displayName=Ae;var ot="ScrollAreaViewport",at=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:o,nonce:a,...s}=e,c=D(ot,r),l=i.useRef(null),u=R(t,l,c.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(T.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});at.displayName=ot;var L="ScrollAreaScrollbar",je=i.forwardRef((e,t)=>{const{forceMount:r,...o}=e,a=D(L,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:c}=a,l=e.orientation==="horizontal";return i.useEffect(()=>(l?s(!0):c(!0),()=>{l?s(!1):c(!1)}),[l,s,c]),a.type==="hover"?n.jsx(uo,{...o,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(fo,{...o,ref:t,forceMount:r}):a.type==="auto"?n.jsx(nt,{...o,ref:t,forceMount:r}):a.type==="always"?n.jsx(Re,{...o,ref:t}):null});je.displayName=L;var uo=i.forwardRef((e,t)=>{const{forceMount:r,...o}=e,a=D(L,e.__scopeScrollArea),[s,c]=i.useState(!1);return i.useEffect(()=>{const l=a.scrollArea;let u=0;if(l){const p=()=>{window.clearTimeout(u),c(!0)},d=()=>{u=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",p),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",p),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(H,{present:r||s,children:n.jsx(nt,{"data-state":s?"visible":"hidden",...o,ref:t})})}),fo=i.forwardRef((e,t)=>{const{forceMount:r,...o}=e,a=D(L,e.__scopeScrollArea),s=e.orientation==="horizontal",c=de(()=>u("SCROLL_END"),100),[l,u]=lo("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return i.useEffect(()=>{if(l==="idle"){const p=window.setTimeout(()=>u("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(p)}},[l,a.scrollHideDelay,u]),i.useEffect(()=>{const p=a.viewport,d=s?"scrollLeft":"scrollTop";if(p){let h=p[d];const f=()=>{const g=p[d];h!==g&&(u("SCROLL"),c()),h=g};return p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[a.viewport,s,u,c]),n.jsx(H,{present:r||l!=="hidden",children:n.jsx(Re,{"data-state":l==="hidden"?"hidden":"visible",...o,ref:t,onPointerEnter:j(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:j(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),nt=i.forwardRef((e,t)=>{const r=D(L,e.__scopeScrollArea),{forceMount:o,...a}=e,[s,c]=i.useState(!1),l=e.orientation==="horizontal",u=de(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?p:d)}},10);return G(r.viewport,u),G(r.content,u),n.jsx(H,{present:o||s,children:n.jsx(Re,{"data-state":s?"visible":"hidden",...a,ref:t})})}),Re=i.forwardRef((e,t)=>{const{orientation:r="vertical",...o}=e,a=D(L,e.__scopeScrollArea),s=i.useRef(null),c=i.useRef(0),[l,u]=i.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=ut(l.viewport,l.content),d={...o,sizes:l,onSizesChange:u,hasThumb:p>0&&p<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:f=>c.current=f};function h(f,g){return bo(f,c.current,l,g)}return r==="horizontal"?n.jsx(mo,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const f=a.viewport.scrollLeft,g=$e(f,l,a.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?n.jsx(po,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const f=a.viewport.scrollTop,g=$e(f,l);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),mo=i.forwardRef((e,t)=>{const{sizes:r,onSizesChange:o,...a}=e,s=D(L,e.__scopeScrollArea),[c,l]=i.useState(),u=i.useRef(null),p=R(t,u,s.onScrollbarXChange);return i.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),n.jsx(it,{"data-orientation":"horizontal",...a,ref:p,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ue(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),ft(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&c&&o({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:le(c.paddingLeft),paddingEnd:le(c.paddingRight)}})}})}),po=i.forwardRef((e,t)=>{const{sizes:r,onSizesChange:o,...a}=e,s=D(L,e.__scopeScrollArea),[c,l]=i.useState(),u=i.useRef(null),p=R(t,u,s.onScrollbarYChange);return i.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),n.jsx(it,{"data-orientation":"vertical",...a,ref:p,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ue(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),ft(f,h)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&c&&o({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:le(c.paddingTop),paddingEnd:le(c.paddingBottom)}})}})}),[ho,st]=tt(L),it=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:o,hasThumb:a,onThumbChange:s,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:p,onWheelScroll:d,onResize:h,...f}=e,g=D(L,r),[C,m]=i.useState(null),y=R(t,E=>m(E)),x=i.useRef(null),v=i.useRef(""),w=g.viewport,S=o.content-o.viewport,b=I(d),N=I(u),A=de(h,10);function k(E){if(x.current){const P=E.clientX-x.current.left,B=E.clientY-x.current.top;p({x:P,y:B})}}return i.useEffect(()=>{const E=P=>{const B=P.target;C?.contains(B)&&b(P,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,C,S,b]),i.useEffect(N,[o,N]),G(C,A),G(g.content,A),n.jsx(ho,{scope:r,scrollbar:C,hasThumb:a,onThumbChange:I(s),onThumbPointerUp:I(c),onThumbPositionChange:N,onThumbPointerDown:I(l),children:n.jsx(T.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:j(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=C.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:j(e.onPointerMove,k),onPointerUp:j(e.onPointerUp,E=>{const P=E.target;P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),ie="ScrollAreaThumb",lt=i.forwardRef((e,t)=>{const{forceMount:r,...o}=e,a=st(ie,e.__scopeScrollArea);return n.jsx(H,{present:r||a.hasThumb,children:n.jsx(vo,{ref:t,...o})})}),vo=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:o,...a}=e,s=D(ie,r),c=st(ie,r),{onThumbPositionChange:l}=c,u=R(t,h=>c.onThumbChange(h)),p=i.useRef(void 0),d=de(()=>{p.current&&(p.current(),p.current=void 0)},100);return i.useEffect(()=>{const h=s.viewport;if(h){const f=()=>{if(d(),!p.current){const g=xo(h,l);p.current=g,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,d,l]),n.jsx(T.div,{"data-state":c.hasThumb?"visible":"hidden",...a,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:j(e.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),C=h.clientX-g.left,m=h.clientY-g.top;c.onThumbPointerDown({x:C,y:m})}),onPointerUp:j(e.onPointerUp,c.onThumbPointerUp)})});lt.displayName=ie;var De="ScrollAreaCorner",ct=i.forwardRef((e,t)=>{const r=D(De,e.__scopeScrollArea),o=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&o?n.jsx(go,{...e,ref:t}):null});ct.displayName=De;var go=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,...o}=e,a=D(De,r),[s,c]=i.useState(0),[l,u]=i.useState(0),p=!!(s&&l);return G(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),u(d)}),G(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),c(d)}),p?n.jsx(T.div,{...o,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function le(e){return e?parseInt(e,10):0}function ut(e,t){const r=e/t;return isNaN(r)?0:r}function ue(e){const t=ut(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-r)*t;return Math.max(o,18)}function bo(e,t,r,o="ltr"){const a=ue(r),s=a/2,c=t||s,l=a-c,u=r.scrollbar.paddingStart+c,p=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=o==="ltr"?[0,d]:[d*-1,0];return dt([u,p],h)(e)}function $e(e,t,r="ltr"){const o=ue(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,c=t.content-t.viewport,l=s-o,u=r==="ltr"?[0,c]:[c*-1,0],p=io(e,u);return dt([0,c],[0,l])(p)}function dt(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}function ft(e,t){return e>0&&e<t}var xo=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},o=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},c=r.left!==s.left,l=r.top!==s.top;(c||l)&&t(),r=s,o=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(o)};function de(e,t){const r=I(e),o=i.useRef(0);return i.useEffect(()=>()=>window.clearTimeout(o.current),[]),i.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(r,t)},[r,t])}function G(e,t){const r=I(t);$r(()=>{let o=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(o),a.unobserve(e)}}},[e,r])}var mt=rt,yo=at,wo=ct;const pt=i.forwardRef(({className:e,children:t,...r},o)=>n.jsxs(mt,{ref:o,className:M("relative overflow-hidden",e),...r,children:[n.jsx(yo,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(ht,{}),n.jsx(wo,{})]}));pt.displayName=mt.displayName;const ht=i.forwardRef(({className:e,orientation:t="vertical",...r},o)=>n.jsx(je,{ref:o,orientation:t,className:M("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(lt,{className:"relative flex-1 rounded-full bg-border"})}));ht.displayName=je.displayName;const So=({className:e})=>{const{user:t}=Je(),[r,o]=i.useState(!1),[a,s]=i.useState([]),[c,l]=i.useState(""),[u,p]=i.useState(!1),d=i.useRef(null),h=i.useRef(null);i.useEffect(()=>{r&&t?.uid&&f()},[r,t?.uid]),i.useEffect(()=>{g()},[a]),i.useEffect(()=>{r&&h.current&&setTimeout(()=>h.current?.focus(),100)},[r]);const f=async()=>{if(t?.uid)try{const v=await ve.getRecentMessages(t.uid);s(v)}catch(v){console.error("Erro ao carregar mensagens:",v),Q.error("Erro ao carregar hist√≥rico de conversas")}},g=()=>{d.current?.scrollIntoView({behavior:"smooth"})},C=async()=>{if(!c.trim()||!t?.uid||u)return;const v=c.trim();l(""),p(!0);try{const w={id:`temp-${Date.now()}`,role:"user",content:v,timestamp:new Date,userId:t.uid};s(N=>[...N,w]);const S=await ve.processUserMessage(t.uid,v),b={id:`temp-assistant-${Date.now()}`,role:"assistant",content:S,timestamp:new Date,userId:t.uid};s(N=>[...N,b])}catch(w){console.error("Erro ao enviar mensagem:",w),Q.error("Erro ao enviar mensagem. Tente novamente.")}finally{p(!1)}},m=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),C())},y=async()=>{if(t?.uid)try{await ve.clearConversationHistory(t.uid),s([]),Q.success("Hist√≥rico de conversas limpo")}catch(v){console.error("Erro ao limpar hist√≥rico:",v),Q.error("Erro ao limpar hist√≥rico")}},x=v=>v.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return t?n.jsxs(n.Fragment,{children:[!r&&n.jsx(Z,{onClick:()=>o(!0),className:"fixed bottom-6 right-6 z-50 h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-200",size:"icon",children:n.jsx(yr,{className:"h-6 w-6"})}),r&&n.jsxs(Hr,{className:`fixed bottom-6 right-6 z-50 w-96 h-[500px] shadow-2xl ${e}`,children:[n.jsx(Br,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(J,{className:"h-5 w-5 text-primary"}),n.jsx(qr,{className:"text-lg",children:"Assistente Optify"}),n.jsxs(Le,{variant:"secondary",className:"text-xs",children:[n.jsx(wr,{className:"h-3 w-3 mr-1"}),"GPT-4o Mini"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Z,{variant:"ghost",size:"sm",onClick:y,className:"h-8 w-8 p-0",title:"Limpar hist√≥rico",children:n.jsx(Sr,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>o(!1),className:"h-8 w-8 p-0",children:n.jsx(Ze,{className:"h-4 w-4"})})]})]})}),n.jsxs(Vr,{className:"flex flex-col h-[400px] p-0",children:[n.jsx(pt,{className:"flex-1 px-4",children:n.jsxs("div",{className:"space-y-4 py-4",children:[a.length===0&&n.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[n.jsx(J,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),n.jsx("p",{className:"text-sm",children:"Ol√°! Como posso ajud√°-lo hoje?"}),n.jsx("p",{className:"text-xs mt-1",children:"Pergunte sobre funcion√°rios, transa√ß√µes, metas ou relat√≥rios"})]}),a.map(v=>n.jsxs("div",{className:`flex gap-3 ${v.role==="user"?"justify-end":"justify-start"}`,children:[v.role==="assistant"&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(J,{className:"h-4 w-4 text-primary"})})}),n.jsxs("div",{className:`max-w-[80%] ${v.role==="user"?"order-first":""}`,children:[n.jsx("div",{className:`rounded-lg px-3 py-2 text-sm ${v.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:n.jsx("div",{className:"whitespace-pre-wrap",children:v.content})}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:x(v.timestamp)}),v.role==="user"&&n.jsx(Me,{className:"h-3 w-3 text-muted-foreground"}),v.metadata?.operation&&n.jsx(Le,{variant:"secondary",className:"text-xs",children:v.metadata.operation})]})]}),v.role==="user"&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:n.jsx(Me,{className:"h-4 w-4 text-primary-foreground"})})})]},v.id)),u&&n.jsxs("div",{className:"flex gap-3 justify-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(J,{className:"h-4 w-4 text-primary"})})}),n.jsx("div",{className:"bg-muted rounded-lg px-3 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Digitando..."})]})})]}),n.jsx("div",{ref:d})]})}),n.jsxs("div",{className:"border-t p-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ro,{ref:h,value:c,onChange:v=>l(v.target.value),onKeyPress:m,placeholder:"Digite sua mensagem...",disabled:u,className:"flex-1"}),n.jsx(Z,{onClick:C,disabled:!c.trim()||u,size:"icon",className:"h-10 w-10",children:n.jsx(Cr,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Pressione Enter para enviar ‚Ä¢ Shift+Enter para nova linha"})]})]})]})]}):null};var ge="focusScope.autoFocusOnMount",be="focusScope.autoFocusOnUnmount",He={bubbles:!1,cancelable:!0},Co="FocusScope",vt=i.forwardRef((e,t)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...c}=e,[l,u]=i.useState(null),p=I(a),d=I(s),h=i.useRef(null),f=R(t,m=>u(m)),g=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(o){let m=function(w){if(g.paused||!l)return;const S=w.target;l.contains(S)?h.current=S:z(h.current,{select:!0})},y=function(w){if(g.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||z(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const b of w)b.removedNodes.length>0&&z(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),v.disconnect()}}},[o,l,g.paused]),i.useEffect(()=>{if(l){qe.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(ge,He);l.addEventListener(ge,p),l.dispatchEvent(x),x.defaultPrevented||(Eo(Do(gt(l)),{select:!0}),document.activeElement===m&&z(l))}return()=>{l.removeEventListener(ge,p),setTimeout(()=>{const x=new CustomEvent(be,He);l.addEventListener(be,d),l.dispatchEvent(x),x.defaultPrevented||z(m??document.body,{select:!0}),l.removeEventListener(be,d),qe.remove(g)},0)}}},[l,p,d,g]);const C=i.useCallback(m=>{if(!r&&!o||g.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(y&&x){const v=m.currentTarget,[w,S]=No(v);w&&S?!m.shiftKey&&x===S?(m.preventDefault(),r&&z(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&z(S,{select:!0})):x===v&&m.preventDefault()}},[r,o,g.paused]);return n.jsx(T.div,{tabIndex:-1,...c,ref:f,onKeyDown:C})});vt.displayName=Co;function Eo(e,{select:t=!1}={}){const r=document.activeElement;for(const o of e)if(z(o,{select:t}),document.activeElement!==r)return}function No(e){const t=gt(e),r=Be(t,e),o=Be(t.reverse(),e);return[r,o]}function gt(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Be(e,t){for(const r of e)if(!Ao(r,{upTo:t}))return r}function Ao(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jo(e){return e instanceof HTMLInputElement&&"select"in e}function z(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&jo(e)&&t&&e.select()}}var qe=Ro();function Ro(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Ve(e,t),e.unshift(t)},remove(t){e=Ve(e,t),e[0]?.resume()}}}function Ve(e,t){const r=[...e],o=r.indexOf(t);return o!==-1&&r.splice(o,1),r}function Do(e){return e.filter(t=>t.tagName!=="A")}var xe=0;function Po(){i.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ue()),document.body.insertAdjacentElement("beforeend",e[1]??Ue()),xe++,()=>{xe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xe--}},[])}function Ue(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var O=function(){return O=Object.assign||function(t){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},O.apply(this,arguments)};function bt(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r}function To(e,t,r){if(r||arguments.length===2)for(var o=0,a=t.length,s;o<a;o++)(s||!(o in t))&&(s||(s=Array.prototype.slice.call(t,0,o)),s[o]=t[o]);return e.concat(s||Array.prototype.slice.call(t))}var ne="right-scroll-bar-position",se="width-before-scroll-bar",_o="with-scroll-bars-hidden",Oo="--removed-body-scroll-bar-size";function ye(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mo(e,t){var r=i.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(o){var a=r.value;a!==o&&(r.value=o,r.callback(o,a))}}}})[0];return r.callback=t,r.facade}var Lo=typeof window<"u"?i.useLayoutEffect:i.useEffect,Ye=new WeakMap;function ko(e,t){var r=Mo(null,function(o){return e.forEach(function(a){return ye(a,o)})});return Lo(function(){var o=Ye.get(r);if(o){var a=new Set(o),s=new Set(e),c=r.current;a.forEach(function(l){s.has(l)||ye(l,null)}),s.forEach(function(l){a.has(l)||ye(l,c)})}Ye.set(r,e)},[e]),r}function Io(e){return e}function Fo(e,t){t===void 0&&(t=Io);var r=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var c=t(s,o);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(s){for(o=!0;r.length;){var c=r;r=[],c.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){o=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(s),c=r}var u=function(){var d=c;c=[],d.forEach(s)},p=function(){return Promise.resolve().then(u)};p(),r={push:function(d){c.push(d),p()},filter:function(d){return c=c.filter(d),r}}}};return a}function Wo(e){e===void 0&&(e={});var t=Fo(null);return t.options=O({async:!0,ssr:!1},e),t}var xt=function(e){var t=e.sideCar,r=bt(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return i.createElement(o,O({},r))};xt.isSideCarExport=!0;function zo(e,t){return e.useMedium(t),xt}var yt=Wo(),we=function(){},fe=i.forwardRef(function(e,t){var r=i.useRef(null),o=i.useState({onScrollCapture:we,onWheelCapture:we,onTouchMoveCapture:we}),a=o[0],s=o[1],c=e.forwardProps,l=e.children,u=e.className,p=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,g=e.noRelative,C=e.noIsolation,m=e.inert,y=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,w=e.gapMode,S=bt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,N=ko([r,t]),A=O(O({},S),a);return i.createElement(i.Fragment,null,d&&i.createElement(b,{sideCar:yt,removeScrollBar:p,shards:h,noRelative:g,noIsolation:C,inert:m,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:w}),c?i.cloneElement(i.Children.only(l),O(O({},A),{ref:N})):i.createElement(v,O({},A,{className:u,ref:N}),l))});fe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fe.classNames={fullWidth:se,zeroRight:ne};var $o=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ho(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$o();return t&&e.setAttribute("nonce",t),e}function Bo(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qo(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Vo=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Ho())&&(Bo(t,r),qo(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Uo=function(){var e=Vo();return function(t,r){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},wt=function(){var e=Uo(),t=function(r){var o=r.styles,a=r.dynamic;return e(o,a),null};return t},Yo={left:0,top:0,right:0,gap:0},Se=function(e){return parseInt(e||"",10)||0},Xo=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Se(r),Se(o),Se(a)]},Go=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Yo;var t=Xo(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-r+t[2]-t[0])}},Ko=wt(),Y="data-scroll-locked",Qo=function(e,t,r,o){var a=e.left,s=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(_o,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(l,"px ").concat(o,`;
  }
  body[`).concat(Y,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ne,` {
    right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(se,` {
    margin-right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(ne," .").concat(ne,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(se," .").concat(se,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Y,`] {
    `).concat(Oo,": ").concat(l,`px;
  }
`)},Xe=function(){var e=parseInt(document.body.getAttribute(Y)||"0",10);return isFinite(e)?e:0},Zo=function(){i.useEffect(function(){return document.body.setAttribute(Y,(Xe()+1).toString()),function(){var e=Xe()-1;e<=0?document.body.removeAttribute(Y):document.body.setAttribute(Y,e.toString())}},[])},Jo=function(e){var t=e.noRelative,r=e.noImportant,o=e.gapMode,a=o===void 0?"margin":o;Zo();var s=i.useMemo(function(){return Go(a)},[a]);return i.createElement(Ko,{styles:Qo(s,!t,a,r?"":"!important")})},Ee=!1;if(typeof window<"u")try{var te=Object.defineProperty({},"passive",{get:function(){return Ee=!0,!0}});window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Ee=!1}var q=Ee?{passive:!1}:!1,ea=function(e){return e.tagName==="TEXTAREA"},St=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ea(e)&&r[t]==="visible")},ta=function(e){return St(e,"overflowY")},ra=function(e){return St(e,"overflowX")},Ge=function(e,t){var r=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=Ct(e,o);if(a){var s=Et(e,o),c=s[1],l=s[2];if(c>l)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},oa=function(e){var t=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[t,r,o]},aa=function(e){var t=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[t,r,o]},Ct=function(e,t){return e==="v"?ta(t):ra(t)},Et=function(e,t){return e==="v"?oa(t):aa(t)},na=function(e,t){return e==="h"&&t==="rtl"?-1:1},sa=function(e,t,r,o,a){var s=na(e,window.getComputedStyle(t).direction),c=s*o,l=r.target,u=t.contains(l),p=!1,d=c>0,h=0,f=0;do{if(!l)break;var g=Et(e,l),C=g[0],m=g[1],y=g[2],x=m-y-s*C;(C||x)&&Ct(e,l)&&(h+=x,f+=C);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(p=!0),p},re=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ke=function(e){return[e.deltaX,e.deltaY]},Qe=function(e){return e&&"current"in e?e.current:e},ia=function(e,t){return e[0]===t[0]&&e[1]===t[1]},la=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ca=0,V=[];function ua(e){var t=i.useRef([]),r=i.useRef([0,0]),o=i.useRef(),a=i.useState(ca++)[0],s=i.useState(wt)[0],c=i.useRef(e);i.useEffect(function(){c.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=To([e.lockRef.current],(e.shards||[]).map(Qe),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=i.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!c.current.allowPinchZoom;var x=re(m),v=r.current,w="deltaX"in m?m.deltaX:v[0]-x[0],S="deltaY"in m?m.deltaY:v[1]-x[1],b,N=m.target,A=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&A==="h"&&N.type==="range")return!1;var k=Ge(A,N);if(!k)return!0;if(k?b=A:(b=A==="v"?"h":"v",k=Ge(A,N)),!k)return!1;if(!o.current&&"changedTouches"in m&&(w||S)&&(o.current=b),!b)return!0;var E=o.current||b;return sa(E,y,m,E==="h"?w:S,!0)},[]),u=i.useCallback(function(m){var y=m;if(!(!V.length||V[V.length-1]!==s)){var x="deltaY"in y?Ke(y):re(y),v=t.current.filter(function(b){return b.name===y.type&&(b.target===y.target||y.target===b.shadowParent)&&ia(b.delta,x)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(c.current.shards||[]).map(Qe).filter(Boolean).filter(function(b){return b.contains(y.target)}),S=w.length>0?l(y,w[0]):!c.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),p=i.useCallback(function(m,y,x,v){var w={name:m,delta:y,target:x,should:v,shadowParent:da(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=i.useCallback(function(m){r.current=re(m),o.current=void 0},[]),h=i.useCallback(function(m){p(m.type,Ke(m),m.target,l(m,e.lockRef.current))},[]),f=i.useCallback(function(m){p(m.type,re(m),m.target,l(m,e.lockRef.current))},[]);i.useEffect(function(){return V.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",u,q),document.addEventListener("touchmove",u,q),document.addEventListener("touchstart",d,q),function(){V=V.filter(function(m){return m!==s}),document.removeEventListener("wheel",u,q),document.removeEventListener("touchmove",u,q),document.removeEventListener("touchstart",d,q)}},[]);var g=e.removeScrollBar,C=e.inert;return i.createElement(i.Fragment,null,C?i.createElement(s,{styles:la(a)}):null,g?i.createElement(Jo,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function da(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fa=zo(yt,ua);var Nt=i.forwardRef(function(e,t){return i.createElement(fe,O({},e,{ref:t,sideCar:fa}))});Nt.classNames=fe.classNames;var ma=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},U=new WeakMap,oe=new WeakMap,ae={},Ce=0,At=function(e){return e&&(e.host||At(e.parentNode))},pa=function(e,t){return t.map(function(r){if(e.contains(r))return r;var o=At(r);return o&&e.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ha=function(e,t,r,o){var a=pa(t,Array.isArray(e)?e:[e]);ae[r]||(ae[r]=new WeakMap);var s=ae[r],c=[],l=new Set,u=new Set(a),p=function(h){!h||l.has(h)||(l.add(h),p(h.parentNode))};a.forEach(p);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var g=f.getAttribute(o),C=g!==null&&g!=="false",m=(U.get(f)||0)+1,y=(s.get(f)||0)+1;U.set(f,m),s.set(f,y),c.push(f),m===1&&C&&oe.set(f,!0),y===1&&f.setAttribute(r,"true"),C||f.setAttribute(o,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),l.clear(),Ce++,function(){c.forEach(function(h){var f=U.get(h)-1,g=s.get(h)-1;U.set(h,f),s.set(h,g),f||(oe.has(h)||h.removeAttribute(o),oe.delete(h)),g||h.removeAttribute(r)}),Ce--,Ce||(U=new WeakMap,U=new WeakMap,oe=new WeakMap,ae={})}},va=function(e,t,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=ma(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live]"))),ha(o,a,r,"aria-hidden")):function(){return null}},me="Dialog",[jt,Rt]=Ne(me),[ga,_]=jt(me),Dt=e=>{const{__scopeDialog:t,children:r,open:o,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,l=i.useRef(null),u=i.useRef(null),[p,d]=Xr({prop:o,defaultProp:a??!1,onChange:s,caller:me});return n.jsx(ga,{scope:t,triggerRef:l,contentRef:u,contentId:he(),titleId:he(),descriptionId:he(),open:p,onOpenChange:d,onOpenToggle:i.useCallback(()=>d(h=>!h),[d]),modal:c,children:r})};Dt.displayName=me;var Pt="DialogTrigger",Tt=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(Pt,r),s=R(t,a.triggerRef);return n.jsx(T.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_e(a.open),...o,ref:s,onClick:j(e.onClick,a.onOpenToggle)})});Tt.displayName=Pt;var Pe="DialogPortal",[ba,_t]=jt(Pe,{forceMount:void 0}),Ot=e=>{const{__scopeDialog:t,forceMount:r,children:o,container:a}=e,s=_(Pe,t);return n.jsx(ba,{scope:t,forceMount:r,children:i.Children.map(o,c=>n.jsx(H,{present:r||s.open,children:n.jsx(Gr,{asChild:!0,container:a,children:c})}))})};Ot.displayName=Pe;var ce="DialogOverlay",Mt=i.forwardRef((e,t)=>{const r=_t(ce,e.__scopeDialog),{forceMount:o=r.forceMount,...a}=e,s=_(ce,e.__scopeDialog);return s.modal?n.jsx(H,{present:o||s.open,children:n.jsx(ya,{...a,ref:t})}):null});Mt.displayName=ce;var xa=Kr("DialogOverlay.RemoveScroll"),ya=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(ce,r);return n.jsx(Nt,{as:xa,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(T.div,{"data-state":_e(a.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),$="DialogContent",Lt=i.forwardRef((e,t)=>{const r=_t($,e.__scopeDialog),{forceMount:o=r.forceMount,...a}=e,s=_($,e.__scopeDialog);return n.jsx(H,{present:o||s.open,children:s.modal?n.jsx(wa,{...a,ref:t}):n.jsx(Sa,{...a,ref:t})})});Lt.displayName=$;var wa=i.forwardRef((e,t)=>{const r=_($,e.__scopeDialog),o=i.useRef(null),a=R(t,r.contentRef,o);return i.useEffect(()=>{const s=o.current;if(s)return va(s)},[]),n.jsx(kt,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:j(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:j(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&s.preventDefault()}),onFocusOutside:j(e.onFocusOutside,s=>s.preventDefault())})}),Sa=i.forwardRef((e,t)=>{const r=_($,e.__scopeDialog),o=i.useRef(!1),a=i.useRef(!1);return n.jsx(kt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||r.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;r.triggerRef.current?.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),kt=i.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,...c}=e,l=_($,r),u=i.useRef(null),p=R(t,u);return Po(),n.jsxs(n.Fragment,{children:[n.jsx(vt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:s,children:n.jsx(Ur,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_e(l.open),...c,ref:p,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Ea,{titleId:l.titleId}),n.jsx(Aa,{contentRef:u,descriptionId:l.descriptionId})]})]})}),Te="DialogTitle",It=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(Te,r);return n.jsx(T.h2,{id:a.titleId,...o,ref:t})});It.displayName=Te;var Ft="DialogDescription",Wt=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(Ft,r);return n.jsx(T.p,{id:a.descriptionId,...o,ref:t})});Wt.displayName=Ft;var zt="DialogClose",$t=i.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=_(zt,r);return n.jsx(T.button,{type:"button",...o,ref:t,onClick:j(e.onClick,()=>a.onOpenChange(!1))})});$t.displayName=zt;function _e(e){return e?"open":"closed"}var Ht="DialogTitleWarning",[Ca,Bt]=Yr(Ht,{contentName:$,titleName:Te,docsSlug:"dialog"}),Ea=({titleId:e})=>{const t=Bt(Ht),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Na="DialogDescriptionWarning",Aa=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Bt(Na).contentName}}.`;return i.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},ja=Dt,Ra=Tt,Da=Ot,Pa=Mt,Ta=Lt,_a=It,Oa=Wt,qt=$t,Vt="AlertDialog",[Ma,an]=Ne(Vt,[Rt]),F=Rt(),Ut=e=>{const{__scopeAlertDialog:t,...r}=e,o=F(t);return n.jsx(ja,{...o,...r,modal:!0})};Ut.displayName=Vt;var La="AlertDialogTrigger",Yt=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=F(r);return n.jsx(Ra,{...a,...o,ref:t})});Yt.displayName=La;var ka="AlertDialogPortal",Xt=e=>{const{__scopeAlertDialog:t,...r}=e,o=F(t);return n.jsx(Da,{...o,...r})};Xt.displayName=ka;var Ia="AlertDialogOverlay",Gt=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=F(r);return n.jsx(Pa,{...a,...o,ref:t})});Gt.displayName=Ia;var X="AlertDialogContent",[Fa,Wa]=Ma(X),za=Qr("AlertDialogContent"),Kt=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:o,...a}=e,s=F(r),c=i.useRef(null),l=R(t,c),u=i.useRef(null);return n.jsx(Ca,{contentName:X,titleName:Qt,docsSlug:"alert-dialog",children:n.jsx(Fa,{scope:r,cancelRef:u,children:n.jsxs(Ta,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:j(a.onOpenAutoFocus,p=>{p.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[n.jsx(za,{children:o}),n.jsx(Ha,{contentRef:c})]})})})});Kt.displayName=X;var Qt="AlertDialogTitle",Zt=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=F(r);return n.jsx(_a,{...a,...o,ref:t})});Zt.displayName=Qt;var Jt="AlertDialogDescription",er=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=F(r);return n.jsx(Oa,{...a,...o,ref:t})});er.displayName=Jt;var $a="AlertDialogAction",tr=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,a=F(r);return n.jsx(qt,{...a,...o,ref:t})});tr.displayName=$a;var rr="AlertDialogCancel",or=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,{cancelRef:a}=Wa(rr,r),s=F(r),c=R(t,a);return n.jsx(qt,{...s,...o,ref:c})});or.displayName=rr;var Ha=({contentRef:e})=>{const t=`\`${X}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${X}\` by passing a \`${Jt}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${X}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Ba=Ut,qa=Yt,Va=Xt,ar=Gt,nr=Kt,sr=tr,ir=or,lr=Zt,cr=er;const Ua=Ba,Ya=qa,Xa=Va,ur=i.forwardRef(({className:e,...t},r)=>n.jsx(ar,{className:M("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ur.displayName=ar.displayName;const dr=i.forwardRef(({className:e,...t},r)=>n.jsxs(Xa,{children:[n.jsx(ur,{}),n.jsx(nr,{ref:r,className:M("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));dr.displayName=nr.displayName;const fr=({className:e,...t})=>n.jsx("div",{className:M("flex flex-col space-y-2 text-center sm:text-left",e),...t});fr.displayName="AlertDialogHeader";const mr=({className:e,...t})=>n.jsx("div",{className:M("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mr.displayName="AlertDialogFooter";const pr=i.forwardRef(({className:e,...t},r)=>n.jsx(lr,{ref:r,className:M("text-lg font-semibold",e),...t}));pr.displayName=lr.displayName;const hr=i.forwardRef(({className:e,...t},r)=>n.jsx(cr,{ref:r,className:M("text-sm text-muted-foreground",e),...t}));hr.displayName=cr.displayName;const vr=i.forwardRef(({className:e,...t},r)=>n.jsx(sr,{ref:r,className:M(et(),e),...t}));vr.displayName=sr.displayName;const gr=i.forwardRef(({className:e,...t},r)=>n.jsx(ir,{ref:r,className:M(et({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gr.displayName=ir.displayName;const nn=({children:e})=>{const t=Fr(),r=Wr(),{user:o,isAdmin:a,logout:s}=Je(),{canAccess:c,currentPlan:l}=Zr(),{preloadOnHover:u,preloadOnIdle:p}=no(),[d,h]=i.useState(!1),f=ao();i.useEffect(()=>{f||h(!1)},[f]),i.useEffect(()=>(f&&d?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[f,d]),i.useEffect(()=>{p()},[p]);const g=b=>{t(b),f&&h(!1)},C=()=>{h(!1)},m=[{icon:Er,label:"Dashboard",path:"/dashboard",requiredFeature:"dashboard"},{icon:Nr,label:"Funcion√°rios",path:"/gestao-funcionarios",requiredFeature:"dashboard"},{icon:Ar,label:"Pagamentos",path:"/pagamentos",requiredFeature:"payments"},{icon:jr,label:"Resumo do Dia",path:"/resumo-dia",requiredFeature:"dailySummary"},{icon:Rr,label:"Saldos",path:"/saldos",requiredFeature:"balances"},{icon:Dr,label:"Relat√≥rios",path:"/relatorios",requiredFeature:"reports"},{icon:Pr,label:"Hist√≥rico",path:"/historico",requiredFeature:"history"},{icon:Tr,label:"Planos",path:"/planos",requiredFeature:"dashboard"},...a||ee(o?.email)?[{icon:_r,label:"Afiliados",path:"/afiliados",requiredFeature:"dashboard"}]:[]].filter(b=>c(b.requiredFeature));console.log("üîç Admin Debug:",{isAdmin:a,userEmail:o?.email,isAdminEmail:ee(o?.email),hasAdminAccess:a||ee(o?.email)});const x=a||ee(o?.email)||!0?[{icon:Or,label:"Admin",path:"/admin",requiredFeature:"advancedPanel"}]:[],v=[{icon:kr,label:"Perfil",path:"/perfil"},{icon:Ir,label:"Configura√ß√µes",path:"/settings"},...x];console.log("üîç Bottom Nav Debug:",{adminItem:x,bottomNavItems:v,adminItemLength:x.length});const w=b=>r.pathname===b,S=()=>{s(),t("/"),Q.success("Logout realizado com sucesso!")};return n.jsxs("div",{className:"min-h-screen flex w-full bg-background overflow-hidden",children:[f&&n.jsx("div",{className:"fixed top-0 left-0 right-0 bg-sidebar border-b border-sidebar-border/50 z-50 lg:hidden shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsx("button",{onClick:()=>h(!0),className:"p-2 rounded-lg hover:bg-sidebar-accent transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Abrir menu",children:n.jsx(Mr,{className:"h-6 w-6 text-foreground"})}),n.jsxs("button",{onClick:()=>g("/dashboard"),className:"flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary/50 rounded-lg p-1","aria-label":"Ir para Dashboard",children:[n.jsxs("svg",{className:"w-8 h-8 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),n.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),n.jsx("path",{d:"M2 9h20"})]}),n.jsx("h1",{className:"text-xl font-black text-foreground",children:"Optify"})]}),n.jsx("div",{className:"w-10"})," "]})}),f&&d&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity duration-300",onClick:C,"aria-hidden":"true"}),n.jsxs("aside",{className:`
        w-64 sm:w-72 lg:w-80 bg-sidebar border-r border-sidebar-border flex flex-col shadow-xl 
        fixed left-0 top-0 h-screen z-50 overflow-y-auto
        transition-transform duration-300 ease-in-out
        ${f?d?"translate-x-0":"-translate-x-full":"translate-x-0"}
      `,children:[n.jsxs("div",{className:"p-8 border-b border-sidebar-border/50",children:[f&&n.jsx("div",{className:"flex justify-end mb-4",children:n.jsx("button",{onClick:()=>h(!1),className:"p-2 rounded-lg hover:bg-sidebar-accent transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Fechar menu",children:n.jsx(Ze,{className:"h-5 w-5 text-foreground"})})}),n.jsxs("button",{onClick:()=>g("/dashboard"),className:"flex items-center gap-3 mb-4",children:[n.jsxs("svg",{className:"w-10 h-10 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),n.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),n.jsx("path",{d:"M2 9h20"})]}),n.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Optify"})]}),n.jsxs("div",{className:"px-4 py-2 rounded-xl bg-primary/10 border border-primary/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Plano Atual"}),n.jsx("p",{className:"text-sm font-bold text-primary capitalize",children:l})]})]}),n.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:m.map(b=>n.jsxs("button",{onClick:()=>g(b.path),onMouseEnter:()=>u(b.path),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all group ${w(b.path)?"bg-gradient-primary text-primary-foreground shadow-glow scale-105":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground hover:scale-105"}`,children:[n.jsx(b.icon,{className:`h-5 w-5 ${w(b.path)?"":"group-hover:scale-110 transition-transform"}`}),n.jsx("span",{className:"text-sm font-semibold",children:b.label})]},b.path))}),n.jsxs("div",{className:"p-3 border-t border-sidebar-border/50 space-y-1",children:[v.map(b=>n.jsxs("button",{onClick:()=>g(b.path),onMouseEnter:()=>u(b.path),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-xl transition-all ${w(b.path)?"bg-gradient-primary text-primary-foreground shadow-glow":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground"}`,children:[n.jsx(b.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-semibold",children:b.label})]},b.path)),n.jsxs(Ua,{children:[n.jsx(Ya,{asChild:!0,children:n.jsxs(Z,{variant:"ghost",className:"w-full justify-start gap-3 px-4 py-2.5 text-destructive hover:text-destructive hover:bg-destructive/10 rounded-xl",children:[n.jsx(Lr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-semibold",children:"Sair"})]})}),n.jsxs(dr,{className:"bg-card border-border",children:[n.jsxs(fr,{children:[n.jsx(pr,{className:"text-foreground",children:"Confirmar Logout"}),n.jsx(hr,{className:"text-muted-foreground",children:"Tem certeza que deseja sair da sua conta? Voc√™ precisar√° fazer login novamente para acessar o sistema."})]}),n.jsxs(mr,{children:[n.jsx(gr,{className:"bg-muted hover:bg-muted/80 text-foreground border-border",children:"Cancelar"}),n.jsx(vr,{onClick:S,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Sair da Conta"})]})]})]})]})]}),n.jsx("main",{className:`
        flex-1 overflow-y-auto bg-gradient-to-br from-background to-background/95 
        ${f?"ml-0 pt-16":"ml-64 sm:ml-72 lg:ml-80"}
      `,children:n.jsx("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:e})}),n.jsx(So,{})]})};export{Ua as A,Ta as C,nn as D,vt as F,Pa as O,Da as P,Nt as R,_a as T,dr as a,fr as b,pr as c,hr as d,mr as e,gr as f,vr as g,va as h,Ya as i,qt as j,Oa as k,ja as l,Ra as m,io as n,Po as u};
