const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Admin-WRNVE8F9.js","assets/ui-vendor-CYAqJ0RG.js","assets/react-vendor-a_rYd-gI.js","assets/index-LiAbW-2G.js","assets/chart-vendor-ctXMAO2v.js","assets/firebase-vendor-BUxvNq0f.js","assets/index-RBW8IlQ1.css","assets/tabs-BpqDSPQO.js","assets/index-DMSHDzho.js","assets/input-J7GhaNSr.js","assets/select-Bd9uzrFY.js","assets/index-CdAzXW5_.js","assets/label-DLesFRW0.js","assets/textarea-BOwSHnXF.js","assets/stat-card-C7l8FUvR.js","assets/plan-transactions.service-Bz7_vpVn.js","assets/user-notifications.service-CAzP-qxP.js","assets/alert-BhNgEuP2.js","assets/dialog-DkFBrAVQ.js","assets/user-specific.service-C1DLMu9g.js","assets/user-subcollections.service-B4HigrO8.js","assets/Relatorios-VPJ79zyy.js","assets/financial-calculations-dg7KAW8P.js","assets/Historico-DuYeCHw_.js","assets/ProtectedPageContent-sbTILQdt.js","assets/proxy-C2pssEXW.js","assets/format-G_C_Ywev.js","assets/en-US-xOTpc2KN.js","assets/pt-BR-Crt2EcWv.js","assets/Pagamentos-DUMLIzIX.js","assets/Saldos-DQ8RyUx8.js","assets/GestaoFuncionarios-DSqXNUqf.js","assets/EmployeeProfile-BebXddfO.js","assets/table-DkP3UmhY.js","assets/Dashboard-CaTkVWDp.js"])))=>i.map(i=>d[i]);
var _r=Object.defineProperty;var Or=(e,t,r)=>t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Be=(e,t,r)=>Or(e,typeof t!="symbol"?t+"":t,r);import{u as se,n as T,Y as _,j as o,i as ae,am as kr,_ as ie,an as Mr,ad as Fr,X as mt,k as He,ao as Lr,f as Ir,ap as qr,F as Wr,e as Ue,aq as $r,U as zr,ar as Br,D as Ve,g as Hr,W as Ur,l as Ke,as as Vr,C as Kr,ae as Gr,at as Yr,c as Ge,r as Ye,S as Se,au as Qr,a6 as Xr,a0 as Zr}from"./ui-vendor-CYAqJ0RG.js";import{r as i,u as Jr,j as ea}from"./react-vendor-a_rYd-gI.js";import{_ as $,h as V,n as re,c as ke,d as O,P as F,b as K,a as R,E as z,e as ta,g as q,B as oe,C as ra,q as aa,r as oa,j as Qe,t as na,D as sa,K as ia,u as la,I as ca,J as ua,L as da,m as pt,i as fa,p as le}from"./index-LiAbW-2G.js";import{d as ne,a as J,b as ee,c as Me,U as ma}from"./user-specific.service-C1DLMu9g.js";import{d as pa,e as ha,f as ga,h as va,i as ba,j as ya}from"./user-notifications.service-CAzP-qxP.js";import{v as xa,w as Ce,y as Xe,A as Ze,z as wa,x as Je,K as et,e as tt}from"./firebase-vendor-BUxvNq0f.js";import{I as Sa}from"./input-J7GhaNSr.js";import{a as Ca,u as Ee}from"./index-DMSHDzho.js";const Ea=(e=1024)=>{const[t,r]=i.useState(!1);return i.useEffect(()=>{const a=()=>{r(window.innerWidth<e)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e]),t},Na=()=>{const e=i.useCallback(a=>{switch(a){case"/admin":$(()=>import("./Admin-WRNVE8F9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]));break;case"/relatorios":$(()=>import("./Relatorios-VPJ79zyy.js").then(n=>n.R),__vite__mapDeps([21,1,2,3,4,5,6,10,8,11,22]));break;case"/historico":$(()=>import("./Historico-DuYeCHw_.js"),__vite__mapDeps([23,1,2,24,3,4,5,6,25,18,9,12,10,8,11,22,26,27,28,19,20,16]));break;case"/pagamentos":$(()=>import("./Pagamentos-DUMLIzIX.js"),__vite__mapDeps([29,1,2,24,3,4,5,6,25,9,10,8,11,19,20,16]));break;case"/saldos":$(()=>import("./Saldos-DQ8RyUx8.js"),__vite__mapDeps([30,1,2,24,3,4,5,6,25,9,12,18,19,20,16,8]));break;case"/gestao-funcionarios":$(()=>import("./GestaoFuncionarios-DSqXNUqf.js"),__vite__mapDeps([31,1,2,3,4,5,6,9,18,12,17,19,20,16,8])),$(()=>import("./EmployeeProfile-BebXddfO.js"),__vite__mapDeps([32,1,2,3,4,5,6,9,12,10,8,11,33,18,22,19,20,16]));break;case"/dashboard":$(()=>import("./Dashboard-CaTkVWDp.js"),__vite__mapDeps([34,1,2,14,3,4,5,6,18,9,12,19,20,22,10,8,11,26,27,28,16]));break}},[]),t=i.useCallback(a=>{e(a)},[e]),r=i.useCallback(()=>{"requestIdleCallback"in window?window.requestIdleCallback(()=>{e("/dashboard"),e("/gestao-funcionarios"),e("/pagamentos")}):setTimeout(()=>{e("/dashboard"),e("/gestao-funcionarios"),e("/pagamentos")},2e3)},[e]);return{preloadRoute:e,preloadOnHover:t,preloadOnIdle:r}},Da=e=>se({queryKey:["firebase-employees",e],queryFn:()=>ne.getEmployees(e),enabled:!!e}),Rn=()=>{const e=T();return _({mutationFn:t=>{if(console.log("useCreateEmployee - dados recebidos:",t),t.userId){const{userId:r,...a}=t;return ne.createEmployee(r,a)}return ne.createEmployee(t.userId,t.data)},onSuccess:()=>{console.log("useCreateEmployee - funcionÃ¡rio criado com sucesso, invalidando queries"),e.invalidateQueries({queryKey:["firebase-employees"]})},onError:t=>{console.error("useCreateEmployee - erro ao criar funcionÃ¡rio:",t)}})},Tn=()=>{const e=T();return _({mutationFn:({userId:t,id:r,data:a})=>ne.updateEmployee(t,r,a),onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-employees"]})}})},_n=()=>{const e=T();return _({mutationFn:({userId:t,id:r})=>ne.deleteEmployee(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-employees"]})}})},Aa=e=>se({queryKey:["firebase-platforms",e],queryFn:()=>J.getPlatforms(e),enabled:!!e}),On=()=>{const e=T();return _({mutationFn:({userId:t,name:r,color:a})=>J.createPlatform(t,{name:r,color:a,isActive:!0}),onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-platforms"]})}})},kn=()=>{const e=T();return _({mutationFn:({userId:t,id:r,data:a})=>J.updatePlatform(t,r,a),onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-platforms"]})}})},Mn=()=>{const e=T();return _({mutationFn:({userId:t,id:r})=>J.deletePlatform(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-platforms"]})}})},ja=(e,t,r)=>se({queryKey:["firebase-transactions",e,t,r],queryFn:()=>(console.log("useTransactions - userId:",e),console.log("useTransactions - startDate:",t),console.log("useTransactions - endDate:",r),t&&r?(console.log("useTransactions - Calling getTransactionsByDateRange"),ee.getTransactionsByDateRange(e,t,r)):(console.log("useTransactions - Calling getTransactions"),ee.getTransactions(e))),enabled:!!e}),Fn=()=>{const e=T();return _({mutationFn:t=>{const{userId:r,...a}=t||{};return ee.createTransaction(r,a)},onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-transactions"]})}})},Ln=()=>{const e=T(),{user:t}=V();return _({mutationFn:r=>typeof r=="string"?ee.deleteTransaction(t?.uid||"",r):ee.deleteTransaction(t?.uid||"",r.id,{skipDailySummaryUpdate:r.skipDailySummaryUpdate}),onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-transactions"]}),e.invalidateQueries({queryKey:["firebase-employees"]}),e.invalidateQueries({queryKey:["firebase-daily-summaries"]}),e.invalidateQueries({queryKey:["firebase-platforms"]}),e.refetchQueries()}})},In=()=>{const e=T(),{user:t}=V();return _({mutationFn:({id:r,data:a})=>ee.updateTransaction(t?.uid||"",r,a),onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-transactions"]}),e.invalidateQueries({queryKey:["firebase-employees"]}),e.invalidateQueries({queryKey:["firebase-daily-summaries"]}),e.invalidateQueries({queryKey:["firebase-platforms"]}),e.refetchQueries()}})},qn=()=>{const e=T();return _({mutationFn:async t=>{if((await J.getPlatforms(t)).length>0)return;const n=[{name:"Pixbet",color:"#ADD8E6"},{name:"Betano",color:"#FF6600"},{name:"Mcgames",color:"#DC143C"},{name:"Kto",color:"#C80000"},{name:"Realsbet",color:"#00FFC8"},{name:"Vaidebet",color:"#FFD700"},{name:"Sportingbet",color:"#4682B4"},{name:"Superbet",color:"#FF3366"},{name:"Betao",color:"#FFA550"},{name:"Bet365",color:"#008040"},{name:"Esportivabet",color:"#FF8C00"},{name:"Hiperbet",color:"#DC0000"},{name:"Luvabet",color:"#ADFF2F"},{name:"Cassinopix",color:"#87CEEB"},{name:"Multibet",color:"#483D8B"}].map(s=>J.createPlatform(t,{name:s.name,color:s.color,isActive:!0}));await Promise.all(n)},onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-platforms"]})}})},Pa=e=>se({queryKey:["firebase-all-daily-summaries",e],queryFn:async()=>{console.log("useAllDailySummaries - userId:",e);const t=await Me.getAllDailySummaries(e);return console.log("useAllDailySummaries - summaries found:",t),t},enabled:!!e}),Wn=()=>{const e=T(),{user:t}=V();return _({mutationFn:({summaryId:r,summaryData:a})=>Me.updateDailySummary(t?.uid||"",r,a),onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),e.invalidateQueries({queryKey:["firebase-daily-summaries"]})}})},$n=()=>{const e=T(),{user:t}=V();return _({mutationFn:r=>Me.deleteDailySummary(t?.uid||"",r),onSuccess:()=>{e.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),e.invalidateQueries({queryKey:["firebase-daily-summaries"]})}})},Ra=()=>{const{user:e}=V(),t=i.useRef(new Set),r=i.useRef(new Set),a=i.useRef(Date.now()),n=i.useRef(null),{data:s}=se({queryKey:["user-config",e?.uid],queryFn:async()=>e?.uid?ma.getUserConfig(e.uid):null,enabled:!!e?.uid}),{data:c=[]}=ja(e?.uid||""),{data:l=[]}=Da(e?.uid||""),{data:d=[]}=Aa(e?.uid||""),{data:h=[]}=Pa(e?.uid||"");return i.useEffect(()=>{if(!e?.uid||!s?.monthlyGoal)return;const u=new Date,f=u.getMonth(),m=u.getFullYear(),g=`goal-notifications-${e.uid}-${m}-${f}`,x=localStorage.getItem(g);if(x)try{const y=JSON.parse(x);y.month===f&&y.year===m?(t.current=new Set(y.percentages),n.current={month:y.month,year:y.year,percentages:new Set(y.percentages)}):(localStorage.removeItem(g),t.current.clear(),n.current=null)}catch(y){console.error("Erro ao carregar notificaÃ§Ãµes do localStorage:",y),t.current.clear(),n.current=null}else t.current.clear(),n.current=null;const p=new Date(m,f,1),w=new Date(m,f+1,0),N=h.filter(y=>{const A=y.date?.toDate?.()||new Date(y.date);return A>=p&&A<=w}).reduce((y,A)=>y+(A.profit||A.margin||0),0),C=c.filter(y=>{const A=y.createdAt?.toDate?.()||new Date(y.createdAt);return A>=p&&A<=w&&y.status!=="closed"}).reduce((y,A)=>A.description&&A.description.startsWith("Surebet")||A.type==="withdraw"?y+A.amount:y-A.amount,0),E=N+C,j=s.monthlyGoal,D=j>0?Math.min(E/j*100,100):0,P=[50,75,100];let b=!1;if(P.forEach(y=>{D>=y&&!t.current.has(y)&&(t.current.add(y),b=!0,y===100&&E>j?pa(e.uid,E,j).catch(console.error):ha(e.uid,D,E,j).catch(console.error))}),b||!n.current){n.current={month:f,year:m,percentages:new Set(t.current)};const y=`goal-notifications-${e.uid}-${m}-${f}`;try{localStorage.setItem(y,JSON.stringify({month:f,year:m,percentages:Array.from(t.current)}))}catch(A){console.error("Erro ao salvar notificaÃ§Ãµes no localStorage:",A)}}},[e?.uid,s?.monthlyGoal,h,c]),i.useEffect(()=>{if(!e?.uid||!l.length)return;const u=new Date;l.forEach(f=>{if(f.paymentStatus==="pending"&&f.salary&&ga(e.uid,f.name,f.salary).catch(console.error),f.payDay&&f.salary&&f.paymentStatus==="pending"){const m=parseInt(f.payDay),g=u.getDate();if(g>m){const x=g-m;x>0&&va(e.uid,f.name,f.salary,x).catch(console.error)}}})},[e?.uid,l]),i.useEffect(()=>{!e?.uid||!l.length||l.forEach(u=>{u.id&&r.current.add(u.id)})},[e?.uid,l]),i.useEffect(()=>{!e?.uid||!d.length||d.forEach(u=>{u.balance&&u.balance<100&&ba(e.uid,u.name,u.balance,u.id).catch(console.error)})},[e?.uid,d]),i.useEffect(()=>{if(!e?.uid)return;const u=Date.now();if(u-a.current<30*60*1e3)return;const m=new Date;m.setHours(0,0,0,0);const g=c.filter(x=>(x.createdAt?.toDate?.()||new Date(x.createdAt))>=m);g.length>20&&ya(e.uid,g.length,"hoje").catch(console.error),a.current=u},[e?.uid,c]),null};class Ta{constructor(){Be(this,"systemKnowledge",{operations:[{name:"Cadastrar FuncionÃ¡rio",description:"Adicionar um novo funcionÃ¡rio ao sistema",steps:['Acesse a seÃ§Ã£o "GestÃ£o de FuncionÃ¡rios"','Clique em "Adicionar FuncionÃ¡rio"',"Preencha os dados: nome, cargo, salÃ¡rio, data de admissÃ£o","Salve as informaÃ§Ãµes"],examples:["Como adicionar um funcionÃ¡rio?","Quero cadastrar um novo colaborador","Adicionar funcionÃ¡rio no sistema"]},{name:"Registrar TransaÃ§Ã£o",description:"Registrar uma nova transaÃ§Ã£o financeira",steps:['VÃ¡ para a seÃ§Ã£o "TransaÃ§Ãµes"','Clique em "Nova TransaÃ§Ã£o"',"Selecione o tipo: receita ou despesa","Preencha valor, descriÃ§Ã£o, categoria","Salve a transaÃ§Ã£o"],examples:["Como registrar uma venda?","Quero adicionar uma despesa","Registrar transaÃ§Ã£o de receita"]},{name:"Gerenciar Pagamentos",description:"Visualizar e processar pagamentos",steps:['Acesse "Pagamentos" no menu',"Visualize pagamentos pendentes","Processe pagamentos quando necessÃ¡rio","Acompanhe histÃ³rico de pagamentos"],examples:["Como ver meus pagamentos?","Processar pagamento pendente","HistÃ³rico de pagamentos"]},{name:"Configurar Metas",description:"Definir metas financeiras mensais",steps:['VÃ¡ para "Metas" no dashboard',"Defina valor da meta mensal","Configure perÃ­odo da meta","Salve a configuraÃ§Ã£o"],examples:["Como definir uma meta mensal?","Configurar objetivo financeiro","Definir meta de vendas"]}],entities:[{type:"funcionario",description:"Colaboradores da empresa",fields:["nome","cargo","salario","dataAdmissao","email","telefone"],operations:["cadastrar","editar","remover","visualizar"]},{type:"transacao",description:"MovimentaÃ§Ãµes financeiras",fields:["valor","tipo","descricao","categoria","data","funcionario"],operations:["registrar","editar","excluir","filtrar"]},{type:"plataforma",description:"Plataformas de vendas",fields:["nome","comissao","ativo","descricao"],operations:["adicionar","configurar","ativar","desativar"]},{type:"meta",description:"Objetivos financeiros",fields:["valor","periodo","tipo","status"],operations:["definir","atualizar","acompanhar"]}],commonQuestions:[{question:"Como funciona o sistema Optify?",answer:"O Optify Ã© um sistema de gestÃ£o financeira empresarial que permite controlar funcionÃ¡rios, transaÃ§Ãµes, pagamentos, metas e gerar relatÃ³rios detalhados. VocÃª pode cadastrar colaboradores, registrar vendas e despesas, acompanhar metas mensais e visualizar relatÃ³rios em tempo real.",keywords:["sistema","optify","funcionamento","como usar"]},{question:"Como adicionar um funcionÃ¡rio?",answer:'Para adicionar um funcionÃ¡rio: 1) Acesse "GestÃ£o de FuncionÃ¡rios" no menu, 2) Clique em "Adicionar FuncionÃ¡rio", 3) Preencha nome, cargo, salÃ¡rio e data de admissÃ£o, 4) Salve as informaÃ§Ãµes. O funcionÃ¡rio serÃ¡ adicionado ao sistema e poderÃ¡ ser usado em transaÃ§Ãµes.',keywords:["funcionario","adicionar","cadastrar","colaborador"]},{question:"Como registrar uma venda?",answer:'Para registrar uma venda: 1) VÃ¡ para "TransaÃ§Ãµes" no menu, 2) Clique em "Nova TransaÃ§Ã£o", 3) Selecione "Receita" como tipo, 4) Preencha valor, descriÃ§Ã£o e categoria, 5) Associe ao funcionÃ¡rio responsÃ¡vel, 6) Salve a transaÃ§Ã£o. Ela aparecerÃ¡ no resumo diÃ¡rio e relatÃ³rios.',keywords:["venda","receita","transacao","registrar"]},{question:"Como definir metas mensais?",answer:'Para definir metas: 1) Acesse "Metas" no dashboard, 2) Clique em "Nova Meta", 3) Defina o valor desejado, 4) Selecione o perÃ­odo (mensal), 5) Escolha o tipo de meta, 6) Salve. VocÃª poderÃ¡ acompanhar o progresso em tempo real no dashboard.',keywords:["meta","objetivo","mensal","definir"]},{question:"Como gerar relatÃ³rios?",answer:'Para gerar relatÃ³rios: 1) Acesse "RelatÃ³rios" no menu, 2) Selecione o tipo de relatÃ³rio desejado, 3) Defina o perÃ­odo, 4) Escolha filtros se necessÃ¡rio, 5) Clique em "Gerar". Os relatÃ³rios podem ser exportados em PDF ou visualizados na tela.',keywords:["relatorio","gerar","exportar","pdf"]}]})}async saveMessage(t,r){try{const a={...r,userId:t,timestamp:new Date},n=await xa(Ce(re,`users/${t}/conversations`),a);return await this.cleanupOldMessages(t),n.id}catch(a){throw console.error("Erro ao salvar mensagem:",a),a}}async getRecentMessages(t,r=10){try{const a=Xe(Ce(re,`users/${t}/conversations`),Ze("timestamp","desc"),wa(r));return(await Je(a)).docs.map(c=>({id:c.id,...c.data(),timestamp:c.data().timestamp.toDate()})).reverse()}catch(a){return console.error("Erro ao buscar mensagens:",a),[]}}async cleanupOldMessages(t){try{const r=Xe(Ce(re,`users/${t}/conversations`),Ze("timestamp","desc")),n=(await Je(r)).docs;if(n.length>10){const s=n.slice(10);for(const c of s)await et(tt(re,`users/${t}/conversations`,c.id))}}catch(r){console.error("Erro ao limpar mensagens antigas:",r)}}async processUserMessage(t,r){try{const a=await this.getRecentMessages(t,10);await this.saveMessage(t,{role:"user",content:r});const n=await this.generateResponseWithGPT(r,a);return await this.saveMessage(t,{role:"assistant",content:n,metadata:{operation:this.extractOperation(r),success:!0}}),n}catch(a){return console.error("Erro ao processar mensagem:",a),"Desculpe, ocorreu um erro ao processar sua mensagem. Tente novamente."}}async generateResponseWithGPT(t,r){try{const a=await fetch("https://us-central1-optify-definitivo.cloudfunctions.net/generateAIResponseHTTP",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await this.getAuthToken()}`},body:JSON.stringify({message:t,context:r.slice(-5).map(s=>({role:s.role,content:s.content}))})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();return console.log(`âœ… Resposta gerada com ${n.model} - Tokens: ${n.usage?.totalTokens||0}`),n.response}catch(a){return console.error("Erro ao chamar Cloud Function HTTP:",a),console.log("ðŸ“ Usando resposta local como fallback"),this.generateLocalResponse(t,r)}}async getAuthToken(){const{auth:t}=await $(async()=>{const{auth:a}=await import("./index-LiAbW-2G.js").then(n=>n.M);return{auth:a}},__vite__mapDeps([3,1,2,4,5,6])),r=t.currentUser;if(!r)throw new Error("UsuÃ¡rio nÃ£o autenticado");return await r.getIdToken()}generateLocalResponse(t,r){const a=t.toLowerCase(),n=this.systemKnowledge.commonQuestions.find(l=>l.keywords.some(d=>a.includes(d)));if(n)return n.answer;const s=this.systemKnowledge.operations.find(l=>l.examples.some(d=>a.includes(d.toLowerCase())));if(s)return`Para ${s.description.toLowerCase()}:${s.steps.map((l,d)=>`
${d+1}. ${l}`).join("")}`;const c=this.systemKnowledge.entities.find(l=>a.includes(l.type.toLowerCase()));return c?`Para trabalhar com ${c.description}: vocÃª pode ${c.operations.join(", ")}. Os campos disponÃ­veis sÃ£o: ${c.fields.join(", ")}.`:a.includes("oi")||a.includes("olÃ¡")||a.includes("bom dia")||a.includes("boa tarde")||a.includes("boa noite")?`OlÃ¡! ðŸ‘‹ Sou seu assistente do Optify. Posso ajudÃ¡-lo com:

â€¢ Cadastro e gestÃ£o de funcionÃ¡rios
â€¢ Registro de transaÃ§Ãµes (vendas e despesas)
â€¢ ConfiguraÃ§Ã£o de metas mensais
â€¢ GeraÃ§Ã£o de relatÃ³rios
â€¢ DÃºvidas sobre o sistema

E tambÃ©m posso conversar sobre qualquer assunto! ðŸ˜Š

Como posso ajudÃ¡-lo hoje?`:`Entendi sua mensagem: "${t}"

Posso ajudÃ¡-lo com:
â€¢ OperaÃ§Ãµes do sistema Optify (depÃ³sitos, saques, fechamento de dia)
â€¢ Perguntas gerais (histÃ³ria, ciÃªncia, matemÃ¡tica, etc.)
â€¢ Conversas casuais

Tente perguntar algo especÃ­fico! ðŸ¤”`}extractOperation(t){const r=t.toLowerCase();return r.includes("adicionar")||r.includes("cadastrar")?"create":r.includes("editar")||r.includes("alterar")?"update":r.includes("remover")||r.includes("excluir")?"delete":r.includes("visualizar")||r.includes("ver")?"view":"general"}async clearConversationHistory(t){try{const r=await this.getRecentMessages(t,100);for(const a of r)a.id&&await et(tt(re,`users/${t}/conversations`,a.id))}catch(r){throw console.error("Erro ao limpar histÃ³rico:",r),r}}}const Ne=new Ta;function _a(e,[t,r]){return Math.min(r,Math.max(t,e))}function Oa(e,t){return i.useReducer((r,a)=>t[r][a]??r,e)}var Fe="ScrollArea",[ht,zn]=ke(Fe),[ka,k]=ht(Fe),gt=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:n,scrollHideDelay:s=600,...c}=e,[l,d]=i.useState(null),[h,u]=i.useState(null),[f,m]=i.useState(null),[g,x]=i.useState(null),[p,w]=i.useState(null),[S,N]=i.useState(0),[v,C]=i.useState(0),[E,j]=i.useState(!1),[D,P]=i.useState(!1),b=O(t,A=>d(A)),y=Ca(n);return o.jsx(ka,{scope:r,type:a,dir:y,scrollHideDelay:s,scrollArea:l,viewport:h,onViewportChange:u,content:f,onContentChange:m,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:w,scrollbarYEnabled:D,onScrollbarYEnabledChange:P,onCornerWidthChange:N,onCornerHeightChange:C,children:o.jsx(F.div,{dir:y,...c,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});gt.displayName=Fe;var vt="ScrollAreaViewport",bt=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:n,...s}=e,c=k(vt,r),l=i.useRef(null),d=O(t,l,c.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(F.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});bt.displayName=vt;var W="ScrollAreaScrollbar",Le=i.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=k(W,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:c}=n,l=e.orientation==="horizontal";return i.useEffect(()=>(l?s(!0):c(!0),()=>{l?s(!1):c(!1)}),[l,s,c]),n.type==="hover"?o.jsx(Ma,{...a,ref:t,forceMount:r}):n.type==="scroll"?o.jsx(Fa,{...a,ref:t,forceMount:r}):n.type==="auto"?o.jsx(yt,{...a,ref:t,forceMount:r}):n.type==="always"?o.jsx(Ie,{...a,ref:t}):null});Le.displayName=W;var Ma=i.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=k(W,e.__scopeScrollArea),[s,c]=i.useState(!1);return i.useEffect(()=>{const l=n.scrollArea;let d=0;if(l){const h=()=>{window.clearTimeout(d),c(!0)},u=()=>{d=window.setTimeout(()=>c(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",h),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",h),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),o.jsx(K,{present:r||s,children:o.jsx(yt,{"data-state":s?"visible":"hidden",...a,ref:t})})}),Fa=i.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=k(W,e.__scopeScrollArea),s=e.orientation==="horizontal",c=ye(()=>d("SCROLL_END"),100),[l,d]=Oa("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return i.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,n.scrollHideDelay,d]),i.useEffect(()=>{const h=n.viewport,u=s?"scrollLeft":"scrollTop";if(h){let f=h[u];const m=()=>{const g=h[u];f!==g&&(d("SCROLL"),c()),f=g};return h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[n.viewport,s,d,c]),o.jsx(K,{present:r||l!=="hidden",children:o.jsx(Ie,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:R(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:R(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),yt=i.forwardRef((e,t)=>{const r=k(W,e.__scopeScrollArea),{forceMount:a,...n}=e,[s,c]=i.useState(!1),l=e.orientation==="horizontal",d=ye(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?h:u)}},10);return te(r.viewport,d),te(r.content,d),o.jsx(K,{present:a||s,children:o.jsx(Ie,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Ie=i.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,n=k(W,e.__scopeScrollArea),s=i.useRef(null),c=i.useRef(0),[l,d]=i.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=Et(l.viewport,l.content),u={...a,sizes:l,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:m=>c.current=m};function f(m,g){return za(m,c.current,l,g)}return r==="horizontal"?o.jsx(La,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&s.current){const m=n.viewport.scrollLeft,g=rt(m,l,n.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollLeft=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollLeft=f(m,n.dir))}}):r==="vertical"?o.jsx(Ia,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&s.current){const m=n.viewport.scrollTop,g=rt(m,l);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollTop=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollTop=f(m))}}):null}),La=i.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...n}=e,s=k(W,e.__scopeScrollArea),[c,l]=i.useState(),d=i.useRef(null),h=O(t,d,s.onScrollbarXChange);return i.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),o.jsx(wt,{"data-orientation":"horizontal",...n,ref:h,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":be(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(s.viewport){const m=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),Dt(m,f)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&c&&a({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:ge(c.paddingLeft),paddingEnd:ge(c.paddingRight)}})}})}),Ia=i.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...n}=e,s=k(W,e.__scopeScrollArea),[c,l]=i.useState(),d=i.useRef(null),h=O(t,d,s.onScrollbarYChange);return i.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),o.jsx(wt,{"data-orientation":"vertical",...n,ref:h,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":be(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(s.viewport){const m=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),Dt(m,f)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&c&&a({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:ge(c.paddingTop),paddingEnd:ge(c.paddingBottom)}})}})}),[qa,xt]=ht(W),wt=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:n,onThumbChange:s,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:u,onResize:f,...m}=e,g=k(W,r),[x,p]=i.useState(null),w=O(t,b=>p(b)),S=i.useRef(null),N=i.useRef(""),v=g.viewport,C=a.content-a.viewport,E=z(u),j=z(d),D=ye(f,10);function P(b){if(S.current){const y=b.clientX-S.current.left,A=b.clientY-S.current.top;h({x:y,y:A})}}return i.useEffect(()=>{const b=y=>{const A=y.target;x?.contains(A)&&E(y,C)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[v,x,C,E]),i.useEffect(j,[a,j]),te(x,D),te(g.content,D),o.jsx(qa,{scope:r,scrollbar:x,hasThumb:n,onThumbChange:z(s),onThumbPointerUp:z(c),onThumbPositionChange:j,onThumbPointerDown:z(l),children:o.jsx(F.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:R(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),S.current=x.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),P(b))}),onPointerMove:R(e.onPointerMove,P),onPointerUp:R(e.onPointerUp,b=>{const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=N.current,g.viewport&&(g.viewport.style.scrollBehavior=""),S.current=null})})})}),he="ScrollAreaThumb",St=i.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=xt(he,e.__scopeScrollArea);return o.jsx(K,{present:r||n.hasThumb,children:o.jsx(Wa,{ref:t,...a})})}),Wa=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...n}=e,s=k(he,r),c=xt(he,r),{onThumbPositionChange:l}=c,d=O(t,f=>c.onThumbChange(f)),h=i.useRef(void 0),u=ye(()=>{h.current&&(h.current(),h.current=void 0)},100);return i.useEffect(()=>{const f=s.viewport;if(f){const m=()=>{if(u(),!h.current){const g=Ba(f,l);h.current=g,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,u,l]),o.jsx(F.div,{"data-state":c.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:R(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),x=f.clientX-g.left,p=f.clientY-g.top;c.onThumbPointerDown({x,y:p})}),onPointerUp:R(e.onPointerUp,c.onThumbPointerUp)})});St.displayName=he;var qe="ScrollAreaCorner",Ct=i.forwardRef((e,t)=>{const r=k(qe,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?o.jsx($a,{...e,ref:t}):null});Ct.displayName=qe;var $a=i.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,n=k(qe,r),[s,c]=i.useState(0),[l,d]=i.useState(0),h=!!(s&&l);return te(n.scrollbarX,()=>{const u=n.scrollbarX?.offsetHeight||0;n.onCornerHeightChange(u),d(u)}),te(n.scrollbarY,()=>{const u=n.scrollbarY?.offsetWidth||0;n.onCornerWidthChange(u),c(u)}),h?o.jsx(F.div,{...a,ref:t,style:{width:s,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ge(e){return e?parseInt(e,10):0}function Et(e,t){const r=e/t;return isNaN(r)?0:r}function be(e){const t=Et(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function za(e,t,r,a="ltr"){const n=be(r),s=n/2,c=t||s,l=n-c,d=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=a==="ltr"?[0,u]:[u*-1,0];return Nt([d,h],f)(e)}function rt(e,t,r="ltr"){const a=be(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-n,c=t.content-t.viewport,l=s-a,d=r==="ltr"?[0,c]:[c*-1,0],h=_a(e,d);return Nt([0,c],[0,l])(h)}function Nt(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Dt(e,t){return e>0&&e<t}var Ba=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const s={left:e.scrollLeft,top:e.scrollTop},c=r.left!==s.left,l=r.top!==s.top;(c||l)&&t(),r=s,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function ye(e,t){const r=z(e),a=i.useRef(0);return i.useEffect(()=>()=>window.clearTimeout(a.current),[]),i.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function te(e,t){const r=z(t);ta(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,r])}var At=gt,Ha=bt,Ua=Ct;const jt=i.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(At,{ref:a,className:q("relative overflow-hidden",e),...r,children:[o.jsx(Ha,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Pt,{}),o.jsx(Ua,{})]}));jt.displayName=At.displayName;const Pt=i.forwardRef(({className:e,orientation:t="vertical",...r},a)=>o.jsx(Le,{ref:a,orientation:t,className:q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(St,{className:"relative flex-1 rounded-full bg-border"})}));Pt.displayName=Le.displayName;const Va=({className:e})=>{const{user:t,isAdmin:r}=V(),[a,n]=i.useState(!1),[s,c]=i.useState([]),[l,d]=i.useState(""),[h,u]=i.useState(!1),f=i.useRef(null),m=i.useRef(null);i.useEffect(()=>{a&&t?.uid&&g()},[a,t?.uid]),i.useEffect(()=>{x()},[s]),i.useEffect(()=>{a&&m.current&&setTimeout(()=>m.current?.focus(),100)},[a]);const g=async()=>{if(t?.uid)try{const v=await Ne.getRecentMessages(t.uid);c(v)}catch(v){console.error("Erro ao carregar mensagens:",v),ae.error("Erro ao carregar histÃ³rico de conversas")}},x=()=>{f.current?.scrollIntoView({behavior:"smooth"})},p=async()=>{if(!l.trim()||!t?.uid||h)return;const v=l.trim();d(""),u(!0);try{const C={id:`temp-${Date.now()}`,role:"user",content:v,timestamp:new Date,userId:t.uid};c(D=>[...D,C]);const E=await Ne.processUserMessage(t.uid,v),j={id:`temp-assistant-${Date.now()}`,role:"assistant",content:E,timestamp:new Date,userId:t.uid};c(D=>[...D,j])}catch(C){console.error("Erro ao enviar mensagem:",C),ae.error("Erro ao enviar mensagem. Tente novamente.")}finally{u(!1)}},w=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),p())},S=async()=>{if(t?.uid)try{await Ne.clearConversationHistory(t.uid),c([]),ae.success("HistÃ³rico de conversas limpo")}catch(v){console.error("Erro ao limpar histÃ³rico:",v),ae.error("Erro ao limpar histÃ³rico")}},N=v=>v.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return!t||!r?null:o.jsxs(o.Fragment,{children:[!a&&o.jsx(oe,{onClick:()=>n(!0),className:"fixed bottom-6 right-6 z-50 h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-200",size:"icon",children:o.jsx(kr,{className:"h-6 w-6"})}),a&&o.jsxs(ra,{className:`fixed bottom-6 right-6 z-50 w-96 h-[500px] shadow-2xl ${e}`,children:[o.jsx(aa,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ie,{className:"h-5 w-5 text-primary"}),o.jsx(oa,{className:"text-lg",children:"Assistente Optify"}),o.jsxs(Qe,{variant:"secondary",className:"text-xs",children:[o.jsx(Mr,{className:"h-3 w-3 mr-1"}),"GPT-4o Mini"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oe,{variant:"ghost",size:"sm",onClick:S,className:"h-8 w-8 p-0",title:"Limpar histÃ³rico",children:o.jsx(Fr,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>n(!1),className:"h-8 w-8 p-0",children:o.jsx(mt,{className:"h-4 w-4"})})]})]})}),o.jsxs(na,{className:"flex flex-col h-[400px] p-0",children:[o.jsx(jt,{className:"flex-1 px-4",children:o.jsxs("div",{className:"space-y-4 py-4",children:[s.length===0&&o.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[o.jsx(ie,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),o.jsx("p",{className:"text-sm",children:"OlÃ¡! Como posso ajudÃ¡-lo hoje?"}),o.jsx("p",{className:"text-xs mt-1",children:"Pergunte sobre funcionÃ¡rios, transaÃ§Ãµes, metas ou relatÃ³rios"})]}),s.map(v=>o.jsxs("div",{className:`flex gap-3 ${v.role==="user"?"justify-end":"justify-start"}`,children:[v.role==="assistant"&&o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(ie,{className:"h-4 w-4 text-primary"})})}),o.jsxs("div",{className:`max-w-[80%] ${v.role==="user"?"order-first":""}`,children:[o.jsx("div",{className:`rounded-lg px-3 py-2 text-sm ${v.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:o.jsx("div",{className:"whitespace-pre-wrap",children:v.content})}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:N(v.timestamp)}),v.role==="user"&&o.jsx(He,{className:"h-3 w-3 text-muted-foreground"}),v.metadata?.operation&&o.jsx(Qe,{variant:"secondary",className:"text-xs",children:v.metadata.operation})]})]}),v.role==="user"&&o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:o.jsx(He,{className:"h-4 w-4 text-primary-foreground"})})})]},v.id)),h&&o.jsxs("div",{className:"flex gap-3 justify-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(ie,{className:"h-4 w-4 text-primary"})})}),o.jsx("div",{className:"bg-muted rounded-lg px-3 py-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Digitando..."})]})})]}),o.jsx("div",{ref:f})]})}),o.jsxs("div",{className:"border-t p-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Sa,{ref:m,value:l,onChange:v=>d(v.target.value),onKeyPress:w,placeholder:"Digite sua mensagem...",disabled:h,className:"flex-1"}),o.jsx(oe,{onClick:p,disabled:!l.trim()||h,size:"icon",className:"h-10 w-10",children:o.jsx(Lr,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Pressione Enter para enviar â€¢ Shift+Enter para nova linha"})]})]})]})]})};var De="focusScope.autoFocusOnMount",Ae="focusScope.autoFocusOnUnmount",at={bubbles:!1,cancelable:!0},Ka="FocusScope",Rt=i.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:s,...c}=e,[l,d]=i.useState(null),h=z(n),u=z(s),f=i.useRef(null),m=O(t,p=>d(p)),g=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(a){let p=function(v){if(g.paused||!l)return;const C=v.target;l.contains(C)?f.current=C:H(f.current,{select:!0})},w=function(v){if(g.paused||!l)return;const C=v.relatedTarget;C!==null&&(l.contains(C)||H(f.current,{select:!0}))},S=function(v){if(document.activeElement===document.body)for(const E of v)E.removedNodes.length>0&&H(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),N.disconnect()}}},[a,l,g.paused]),i.useEffect(()=>{if(l){nt.add(g);const p=document.activeElement;if(!l.contains(p)){const S=new CustomEvent(De,at);l.addEventListener(De,h),l.dispatchEvent(S),S.defaultPrevented||(Ga(Ja(Tt(l)),{select:!0}),document.activeElement===p&&H(l))}return()=>{l.removeEventListener(De,h),setTimeout(()=>{const S=new CustomEvent(Ae,at);l.addEventListener(Ae,u),l.dispatchEvent(S),S.defaultPrevented||H(p??document.body,{select:!0}),l.removeEventListener(Ae,u),nt.remove(g)},0)}}},[l,h,u,g]);const x=i.useCallback(p=>{if(!r&&!a||g.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,S=document.activeElement;if(w&&S){const N=p.currentTarget,[v,C]=Ya(N);v&&C?!p.shiftKey&&S===C?(p.preventDefault(),r&&H(v,{select:!0})):p.shiftKey&&S===v&&(p.preventDefault(),r&&H(C,{select:!0})):S===N&&p.preventDefault()}},[r,a,g.paused]);return o.jsx(F.div,{tabIndex:-1,...c,ref:m,onKeyDown:x})});Rt.displayName=Ka;function Ga(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(H(a,{select:t}),document.activeElement!==r)return}function Ya(e){const t=Tt(e),r=ot(t,e),a=ot(t.reverse(),e);return[r,a]}function Tt(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ot(e,t){for(const r of e)if(!Qa(r,{upTo:t}))return r}function Qa(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xa(e){return e instanceof HTMLInputElement&&"select"in e}function H(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Xa(e)&&t&&e.select()}}var nt=Za();function Za(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=st(e,t),e.unshift(t)},remove(t){e=st(e,t),e[0]?.resume()}}}function st(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function Ja(e){return e.filter(t=>t.tagName!=="A")}var je=0;function eo(){i.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??it()),document.body.insertAdjacentElement("beforeend",e[1]??it()),je++,()=>{je===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),je--}},[])}function it(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var I=function(){return I=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},I.apply(this,arguments)};function _t(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function to(e,t,r){if(r||arguments.length===2)for(var a=0,n=t.length,s;a<n;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}var me="right-scroll-bar-position",pe="width-before-scroll-bar",ro="with-scroll-bars-hidden",ao="--removed-body-scroll-bar-size";function Pe(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oo(e,t){var r=i.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var n=r.value;n!==a&&(r.value=a,r.callback(a,n))}}}})[0];return r.callback=t,r.facade}var no=typeof window<"u"?i.useLayoutEffect:i.useEffect,lt=new WeakMap;function so(e,t){var r=oo(null,function(a){return e.forEach(function(n){return Pe(n,a)})});return no(function(){var a=lt.get(r);if(a){var n=new Set(a),s=new Set(e),c=r.current;n.forEach(function(l){s.has(l)||Pe(l,null)}),s.forEach(function(l){n.has(l)||Pe(l,c)})}lt.set(r,e)},[e]),r}function io(e){return e}function lo(e,t){t===void 0&&(t=io);var r=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var c=t(s,a);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(s){for(a=!0;r.length;){var c=r;r=[],c.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){a=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(s),c=r}var d=function(){var u=c;c=[],u.forEach(s)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(u){c.push(u),h()},filter:function(u){return c=c.filter(u),r}}}};return n}function co(e){e===void 0&&(e={});var t=lo(null);return t.options=I({async:!0,ssr:!1},e),t}var Ot=function(e){var t=e.sideCar,r=_t(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return i.createElement(a,I({},r))};Ot.isSideCarExport=!0;function uo(e,t){return e.useMedium(t),Ot}var kt=co(),Re=function(){},xe=i.forwardRef(function(e,t){var r=i.useRef(null),a=i.useState({onScrollCapture:Re,onWheelCapture:Re,onTouchMoveCapture:Re}),n=a[0],s=a[1],c=e.forwardProps,l=e.children,d=e.className,h=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,x=e.noIsolation,p=e.inert,w=e.allowPinchZoom,S=e.as,N=S===void 0?"div":S,v=e.gapMode,C=_t(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,j=so([r,t]),D=I(I({},C),n);return i.createElement(i.Fragment,null,u&&i.createElement(E,{sideCar:kt,removeScrollBar:h,shards:f,noRelative:g,noIsolation:x,inert:p,setCallbacks:s,allowPinchZoom:!!w,lockRef:r,gapMode:v}),c?i.cloneElement(i.Children.only(l),I(I({},D),{ref:j})):i.createElement(N,I({},D,{className:d,ref:j}),l))});xe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xe.classNames={fullWidth:pe,zeroRight:me};var fo=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mo(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fo();return t&&e.setAttribute("nonce",t),e}function po(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ho(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var go=function(){var e=0,t=null;return{add:function(r){e==0&&(t=mo())&&(po(t,r),ho(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vo=function(){var e=go();return function(t,r){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Mt=function(){var e=vo(),t=function(r){var a=r.styles,n=r.dynamic;return e(a,n),null};return t},bo={left:0,top:0,right:0,gap:0},Te=function(e){return parseInt(e||"",10)||0},yo=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[Te(r),Te(a),Te(n)]},xo=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bo;var t=yo(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},wo=Mt(),X="data-scroll-locked",So=function(e,t,r,a){var n=e.left,s=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(ro,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(X,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(me,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(pe,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(me," .").concat(me,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(pe," .").concat(pe,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(X,`] {
    `).concat(ao,": ").concat(l,`px;
  }
`)},ct=function(){var e=parseInt(document.body.getAttribute(X)||"0",10);return isFinite(e)?e:0},Co=function(){i.useEffect(function(){return document.body.setAttribute(X,(ct()+1).toString()),function(){var e=ct()-1;e<=0?document.body.removeAttribute(X):document.body.setAttribute(X,e.toString())}},[])},Eo=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;Co();var s=i.useMemo(function(){return xo(n)},[n]);return i.createElement(wo,{styles:So(s,!t,n,r?"":"!important")})},Oe=!1;if(typeof window<"u")try{var ce=Object.defineProperty({},"passive",{get:function(){return Oe=!0,!0}});window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{Oe=!1}var G=Oe?{passive:!1}:!1,No=function(e){return e.tagName==="TEXTAREA"},Ft=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!No(e)&&r[t]==="visible")},Do=function(e){return Ft(e,"overflowY")},Ao=function(e){return Ft(e,"overflowX")},ut=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=Lt(e,a);if(n){var s=It(e,a),c=s[1],l=s[2];if(c>l)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},jo=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},Po=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},Lt=function(e,t){return e==="v"?Do(t):Ao(t)},It=function(e,t){return e==="v"?jo(t):Po(t)},Ro=function(e,t){return e==="h"&&t==="rtl"?-1:1},To=function(e,t,r,a,n){var s=Ro(e,window.getComputedStyle(t).direction),c=s*a,l=r.target,d=t.contains(l),h=!1,u=c>0,f=0,m=0;do{if(!l)break;var g=It(e,l),x=g[0],p=g[1],w=g[2],S=p-w-s*x;(x||S)&&Lt(e,l)&&(f+=S,m+=x);var N=l.parentNode;l=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!n)||!u&&(Math.abs(m)<1||!n))&&(h=!0),h},ue=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dt=function(e){return[e.deltaX,e.deltaY]},ft=function(e){return e&&"current"in e?e.current:e},_o=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Oo=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ko=0,Y=[];function Mo(e){var t=i.useRef([]),r=i.useRef([0,0]),a=i.useRef(),n=i.useState(ko++)[0],s=i.useState(Mt)[0],c=i.useRef(e);i.useEffect(function(){c.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var p=to([e.lockRef.current],(e.shards||[]).map(ft),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=i.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!c.current.allowPinchZoom;var S=ue(p),N=r.current,v="deltaX"in p?p.deltaX:N[0]-S[0],C="deltaY"in p?p.deltaY:N[1]-S[1],E,j=p.target,D=Math.abs(v)>Math.abs(C)?"h":"v";if("touches"in p&&D==="h"&&j.type==="range")return!1;var P=ut(D,j);if(!P)return!0;if(P?E=D:(E=D==="v"?"h":"v",P=ut(D,j)),!P)return!1;if(!a.current&&"changedTouches"in p&&(v||C)&&(a.current=E),!E)return!0;var b=a.current||E;return To(b,w,p,b==="h"?v:C,!0)},[]),d=i.useCallback(function(p){var w=p;if(!(!Y.length||Y[Y.length-1]!==s)){var S="deltaY"in w?dt(w):ue(w),N=t.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&_o(E.delta,S)})[0];if(N&&N.should){w.cancelable&&w.preventDefault();return}if(!N){var v=(c.current.shards||[]).map(ft).filter(Boolean).filter(function(E){return E.contains(w.target)}),C=v.length>0?l(w,v[0]):!c.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),h=i.useCallback(function(p,w,S,N){var v={name:p,delta:w,target:S,should:N,shadowParent:Fo(S)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(C){return C!==v})},1)},[]),u=i.useCallback(function(p){r.current=ue(p),a.current=void 0},[]),f=i.useCallback(function(p){h(p.type,dt(p),p.target,l(p,e.lockRef.current))},[]),m=i.useCallback(function(p){h(p.type,ue(p),p.target,l(p,e.lockRef.current))},[]);i.useEffect(function(){return Y.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",d,G),document.addEventListener("touchmove",d,G),document.addEventListener("touchstart",u,G),function(){Y=Y.filter(function(p){return p!==s}),document.removeEventListener("wheel",d,G),document.removeEventListener("touchmove",d,G),document.removeEventListener("touchstart",u,G)}},[]);var g=e.removeScrollBar,x=e.inert;return i.createElement(i.Fragment,null,x?i.createElement(s,{styles:Oo(n)}):null,g?i.createElement(Eo,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Fo(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Lo=uo(kt,Mo);var qt=i.forwardRef(function(e,t){return i.createElement(xe,I({},e,{ref:t,sideCar:Lo}))});qt.classNames=xe.classNames;var Io=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Q=new WeakMap,de=new WeakMap,fe={},_e=0,Wt=function(e){return e&&(e.host||Wt(e.parentNode))},qo=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=Wt(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Wo=function(e,t,r,a){var n=qo(t,Array.isArray(e)?e:[e]);fe[r]||(fe[r]=new WeakMap);var s=fe[r],c=[],l=new Set,d=new Set(n),h=function(f){!f||l.has(f)||(l.add(f),h(f.parentNode))};n.forEach(h);var u=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var g=m.getAttribute(a),x=g!==null&&g!=="false",p=(Q.get(m)||0)+1,w=(s.get(m)||0)+1;Q.set(m,p),s.set(m,w),c.push(m),p===1&&x&&de.set(m,!0),w===1&&m.setAttribute(r,"true"),x||m.setAttribute(a,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return u(t),l.clear(),_e++,function(){c.forEach(function(f){var m=Q.get(f)-1,g=s.get(f)-1;Q.set(f,m),s.set(f,g),m||(de.has(f)||f.removeAttribute(a),de.delete(f)),g||f.removeAttribute(r)}),_e--,_e||(Q=new WeakMap,Q=new WeakMap,de=new WeakMap,fe={})}},$o=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=Io(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live]"))),Wo(a,n,r,"aria-hidden")):function(){return null}},we="Dialog",[$t,zt]=ke(we),[zo,L]=$t(we),Bt=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:n,onOpenChange:s,modal:c=!0}=e,l=i.useRef(null),d=i.useRef(null),[h,u]=la({prop:a,defaultProp:n??!1,onChange:s,caller:we});return o.jsx(zo,{scope:t,triggerRef:l,contentRef:d,contentId:Ee(),titleId:Ee(),descriptionId:Ee(),open:h,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(f=>!f),[u]),modal:c,children:r})};Bt.displayName=we;var Ht="DialogTrigger",Ut=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=L(Ht,r),s=O(t,n.triggerRef);return o.jsx(F.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":ze(n.open),...a,ref:s,onClick:R(e.onClick,n.onOpenToggle)})});Ut.displayName=Ht;var We="DialogPortal",[Bo,Vt]=$t(We,{forceMount:void 0}),Kt=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:n}=e,s=L(We,t);return o.jsx(Bo,{scope:t,forceMount:r,children:i.Children.map(a,c=>o.jsx(K,{present:r||s.open,children:o.jsx(ca,{asChild:!0,container:n,children:c})}))})};Kt.displayName=We;var ve="DialogOverlay",Gt=i.forwardRef((e,t)=>{const r=Vt(ve,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,s=L(ve,e.__scopeDialog);return s.modal?o.jsx(K,{present:a||s.open,children:o.jsx(Uo,{...n,ref:t})}):null});Gt.displayName=ve;var Ho=ua("DialogOverlay.RemoveScroll"),Uo=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=L(ve,r);return o.jsx(qt,{as:Ho,allowPinchZoom:!0,shards:[n.contentRef],children:o.jsx(F.div,{"data-state":ze(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),U="DialogContent",Yt=i.forwardRef((e,t)=>{const r=Vt(U,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,s=L(U,e.__scopeDialog);return o.jsx(K,{present:a||s.open,children:s.modal?o.jsx(Vo,{...n,ref:t}):o.jsx(Ko,{...n,ref:t})})});Yt.displayName=U;var Vo=i.forwardRef((e,t)=>{const r=L(U,e.__scopeDialog),a=i.useRef(null),n=O(t,r.contentRef,a);return i.useEffect(()=>{const s=a.current;if(s)return $o(s)},[]),o.jsx(Qt,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:R(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:R(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&s.preventDefault()}),onFocusOutside:R(e.onFocusOutside,s=>s.preventDefault())})}),Ko=i.forwardRef((e,t)=>{const r=L(U,e.__scopeDialog),a=i.useRef(!1),n=i.useRef(!1);return o.jsx(Qt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(a.current||r.triggerRef.current?.focus(),s.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=s.target;r.triggerRef.current?.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),Qt=i.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:s,...c}=e,l=L(U,r),d=i.useRef(null),h=O(t,d);return eo(),o.jsxs(o.Fragment,{children:[o.jsx(Rt,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:s,children:o.jsx(sa,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ze(l.open),...c,ref:h,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Yo,{titleId:l.titleId}),o.jsx(Xo,{contentRef:d,descriptionId:l.descriptionId})]})]})}),$e="DialogTitle",Xt=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=L($e,r);return o.jsx(F.h2,{id:n.titleId,...a,ref:t})});Xt.displayName=$e;var Zt="DialogDescription",Jt=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=L(Zt,r);return o.jsx(F.p,{id:n.descriptionId,...a,ref:t})});Jt.displayName=Zt;var er="DialogClose",tr=i.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=L(er,r);return o.jsx(F.button,{type:"button",...a,ref:t,onClick:R(e.onClick,()=>n.onOpenChange(!1))})});tr.displayName=er;function ze(e){return e?"open":"closed"}var rr="DialogTitleWarning",[Go,ar]=ia(rr,{contentName:U,titleName:$e,docsSlug:"dialog"}),Yo=({titleId:e})=>{const t=ar(rr),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Qo="DialogDescriptionWarning",Xo=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ar(Qo).contentName}}.`;return i.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Zo=Bt,Jo=Ut,en=Kt,tn=Gt,rn=Yt,an=Xt,on=Jt,or=tr,nr="AlertDialog",[nn,Bn]=ke(nr,[zt]),B=zt(),sr=e=>{const{__scopeAlertDialog:t,...r}=e,a=B(t);return o.jsx(Zo,{...a,...r,modal:!0})};sr.displayName=nr;var sn="AlertDialogTrigger",ir=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=B(r);return o.jsx(Jo,{...n,...a,ref:t})});ir.displayName=sn;var ln="AlertDialogPortal",lr=e=>{const{__scopeAlertDialog:t,...r}=e,a=B(t);return o.jsx(en,{...a,...r})};lr.displayName=ln;var cn="AlertDialogOverlay",cr=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=B(r);return o.jsx(tn,{...n,...a,ref:t})});cr.displayName=cn;var Z="AlertDialogContent",[un,dn]=nn(Z),fn=da("AlertDialogContent"),ur=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...n}=e,s=B(r),c=i.useRef(null),l=O(t,c),d=i.useRef(null);return o.jsx(Go,{contentName:Z,titleName:dr,docsSlug:"alert-dialog",children:o.jsx(un,{scope:r,cancelRef:d,children:o.jsxs(rn,{role:"alertdialog",...s,...n,ref:l,onOpenAutoFocus:R(n.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[o.jsx(fn,{children:a}),o.jsx(pn,{contentRef:c})]})})})});ur.displayName=Z;var dr="AlertDialogTitle",fr=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=B(r);return o.jsx(an,{...n,...a,ref:t})});fr.displayName=dr;var mr="AlertDialogDescription",pr=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=B(r);return o.jsx(on,{...n,...a,ref:t})});pr.displayName=mr;var mn="AlertDialogAction",hr=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=B(r);return o.jsx(or,{...n,...a,ref:t})});hr.displayName=mn;var gr="AlertDialogCancel",vr=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:n}=dn(gr,r),s=B(r),c=O(t,n);return o.jsx(or,{...s,...a,ref:c})});vr.displayName=gr;var pn=({contentRef:e})=>{const t=`\`${Z}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Z}\` by passing a \`${mr}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Z}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},hn=sr,gn=ir,vn=lr,br=cr,yr=ur,xr=hr,wr=vr,Sr=fr,Cr=pr;const bn=hn,yn=gn,xn=vn,Er=i.forwardRef(({className:e,...t},r)=>o.jsx(br,{className:q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Er.displayName=br.displayName;const Nr=i.forwardRef(({className:e,...t},r)=>o.jsxs(xn,{children:[o.jsx(Er,{}),o.jsx(yr,{ref:r,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Nr.displayName=yr.displayName;const Dr=({className:e,...t})=>o.jsx("div",{className:q("flex flex-col space-y-2 text-center sm:text-left",e),...t});Dr.displayName="AlertDialogHeader";const Ar=({className:e,...t})=>o.jsx("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ar.displayName="AlertDialogFooter";const jr=i.forwardRef(({className:e,...t},r)=>o.jsx(Sr,{ref:r,className:q("text-lg font-semibold",e),...t}));jr.displayName=Sr.displayName;const Pr=i.forwardRef(({className:e,...t},r)=>o.jsx(Cr,{ref:r,className:q("text-sm text-muted-foreground",e),...t}));Pr.displayName=Cr.displayName;const Rr=i.forwardRef(({className:e,...t},r)=>o.jsx(xr,{ref:r,className:q(pt(),e),...t}));Rr.displayName=xr.displayName;const Tr=i.forwardRef(({className:e,...t},r)=>o.jsx(wr,{ref:r,className:q(pt({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Tr.displayName=wr.displayName;const Hn=({children:e})=>{const t=Jr(),r=ea(),{user:a,isAdmin:n,logout:s}=V(),{canAccess:c,currentPlan:l}=fa(),{preloadOnHover:d,preloadOnIdle:h}=Na();Ra();const[u,f]=i.useState(!1),[m,g]=i.useState({visaoGeral:!0,gestao:!0,financeiro:!0,ferramentas:!0,administracao:!0}),x=Ea();i.useEffect(()=>{x||f(!1)},[x]),i.useEffect(()=>(x&&u?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[x,u]),i.useEffect(()=>{h()},[h]);const p=b=>{t(b),x&&f(!1)},w=()=>{f(!1)},S=b=>{g(y=>({...y,[b]:!y[b]}))},N=[{key:"visaoGeral",label:"VisÃ£o Geral",icon:Ir,items:[{icon:qr,label:"Dashboard",path:"/dashboard",requiredFeature:"dashboard"},{icon:Wr,label:"Resumo do Dia",path:"/resumo-dia",requiredFeature:"dailySummary"},{icon:Ue,label:"RelatÃ³rios",path:"/relatorios",requiredFeature:"reports"}]},{key:"gestao",label:"GestÃ£o",icon:$r,items:[{icon:zr,label:"FuncionÃ¡rios",path:"/gestao-funcionarios",requiredFeature:"dashboard"},{icon:Br,label:"Saldos",path:"/saldos",requiredFeature:"balances"}]},{key:"financeiro",label:"Financeiro",icon:Ve,items:[{icon:Ve,label:"Pagamentos",path:"/pagamentos",requiredFeature:"payments"},{icon:Hr,label:"HistÃ³rico",path:"/historico",requiredFeature:"history"},...n||le(a?.email)?[{icon:Ur,label:"Gestor de Caixa",path:"/gestor-caixa",requiredFeature:"dashboard"}]:[]]},{key:"ferramentas",label:"Ferramentas de Apostas",icon:Ke,items:[{icon:Ke,label:"FreeBet",path:"/freebet",requiredFeature:"dashboard"},{icon:Vr,label:"Calculadora Dutching",path:"/calculadora-dutching",requiredFeature:"dashboard"},{icon:Ue,label:"Surebet",path:"/surebet",requiredFeature:"dashboard"}]}],v=[{icon:Kr,label:"Planos",path:"/planos",requiredFeature:"dashboard"},...n||le(a?.email)?[{icon:Gr,label:"Afiliados",path:"/afiliados",requiredFeature:"dashboard"}]:[]],C=!!(a&&a.email&&(n===!0||le(a.email)===!0));console.log("ðŸ” Admin Debug:",{hasUser:!!a,userEmail:a?.email,isAdmin:n,isAdminEmailResult:le(a?.email),userIsAdmin:C,willShowAdmin:C});const E=C?[{icon:Se,label:"Admin",path:"/admin",requiredFeature:"advancedPanel"}]:[];a&&!C&&console.log("ðŸš« Admin item NÃƒO serÃ¡ exibido para:",a.email);const j=[{icon:Xr,label:"Perfil",path:"/perfil"},{icon:Zr,label:"ConfiguraÃ§Ãµes",path:"/settings"},...E];console.log("ðŸ” Bottom Nav Debug:",{adminItem:E,bottomNavItems:j,adminItemLength:E.length});const D=b=>r.pathname===b,P=()=>{s(),t("/"),ae.success("Logout realizado com sucesso!")};return o.jsxs("div",{className:"min-h-screen flex w-full bg-background overflow-hidden",children:[x&&o.jsx("div",{className:"fixed top-0 left-0 right-0 bg-sidebar border-b border-sidebar-border/50 z-50 lg:hidden shadow-lg",children:o.jsxs("div",{className:"flex items-center justify-between p-4",children:[o.jsx("button",{onClick:()=>f(!0),className:"p-2 rounded-lg hover:bg-sidebar-accent transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Abrir menu",children:o.jsx(Yr,{className:"h-6 w-6 text-foreground"})}),o.jsxs("button",{onClick:()=>p("/dashboard"),className:"flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary/50 rounded-lg p-1","aria-label":"Ir para Dashboard",children:[o.jsxs("svg",{className:"w-8 h-8 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),o.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),o.jsx("path",{d:"M2 9h20"})]}),o.jsx("h1",{className:"text-xl font-black text-foreground",children:"Optify"})]}),o.jsx("div",{className:"w-10"})," "]})}),x&&u&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden transition-opacity duration-300",onClick:w,"aria-hidden":"true"}),o.jsxs("aside",{className:`
        w-64 sm:w-72 lg:w-80 bg-sidebar border-r border-sidebar-border flex flex-col shadow-xl 
        fixed left-0 top-0 h-screen z-50 overflow-y-auto
        transition-transform duration-300 ease-in-out
        ${x?u?"translate-x-0":"-translate-x-full":"translate-x-0"}
      `,children:[o.jsxs("div",{className:"p-8 border-b border-sidebar-border/50",children:[x&&o.jsx("div",{className:"flex justify-end mb-4",children:o.jsx("button",{onClick:()=>f(!1),className:"p-2 rounded-lg hover:bg-sidebar-accent transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Fechar menu",children:o.jsx(mt,{className:"h-5 w-5 text-foreground"})})}),o.jsxs("button",{onClick:()=>p("/dashboard"),className:"flex items-center gap-3 mb-4",children:[o.jsxs("svg",{className:"w-10 h-10 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M6 3h12l4 6-10 13L2 9l4-6z"}),o.jsx("path",{d:"M11 3 8 9l4 13 4-13-3-6"}),o.jsx("path",{d:"M2 9h20"})]}),o.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Optify"})]}),o.jsxs("div",{className:"px-4 py-2 rounded-xl bg-primary/10 border border-primary/20",children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Plano Atual"}),o.jsx("p",{className:"text-sm font-bold text-primary capitalize",children:l})]})]}),o.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[N.map(b=>{const y=m[b.key],A=b.items.some(M=>D(M.path));return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("button",{onClick:()=>S(b.key),className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl transition-all group ${A?"bg-sidebar-accent/50 text-foreground":"hover:bg-sidebar-accent/30 text-muted-foreground hover:text-foreground"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(b.icon,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:b.label})]}),y?o.jsx(Ge,{className:"h-4 w-4 transition-transform"}):o.jsx(Ye,{className:"h-4 w-4 transition-transform"})]}),y&&o.jsx("div",{className:"ml-4 space-y-1 border-l-2 border-sidebar-border/30 pl-3",children:b.items.map(M=>o.jsxs("button",{onClick:()=>p(M.path),onMouseEnter:()=>d(M.path),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all group ${D(M.path)?"bg-gradient-primary text-primary-foreground shadow-glow scale-[1.02]":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground hover:scale-[1.02]"}`,children:[o.jsx(M.icon,{className:`h-4 w-4 ${D(M.path)?"":"group-hover:scale-110 transition-transform"}`}),o.jsx("span",{className:"text-sm font-semibold",children:M.label})]},M.path))})]},b.key)}),o.jsx("div",{className:"pt-4 space-y-1 border-t border-sidebar-border/50 mt-4",children:v.map(b=>o.jsxs("button",{onClick:()=>p(b.path),onMouseEnter:()=>d(b.path),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl transition-all group ${D(b.path)?"bg-gradient-primary text-primary-foreground shadow-glow scale-105":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground hover:scale-105"}`,children:[o.jsx(b.icon,{className:`h-5 w-5 ${D(b.path)?"":"group-hover:scale-110 transition-transform"}`}),o.jsx("span",{className:"text-sm font-semibold",children:b.label})]},b.path))})]}),o.jsxs("div",{className:"p-3 border-t border-sidebar-border/50 space-y-1",children:[C&&o.jsxs("div",{className:"space-y-1 mb-2",children:[o.jsxs("button",{onClick:()=>S("administracao"),className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-xl transition-all group ${D("/admin")?"bg-sidebar-accent/50 text-foreground":"hover:bg-sidebar-accent/30 text-muted-foreground hover:text-foreground"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Se,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"AdministraÃ§Ã£o"})]}),m.administracao?o.jsx(Ge,{className:"h-4 w-4 transition-transform"}):o.jsx(Ye,{className:"h-4 w-4 transition-transform"})]}),m.administracao&&o.jsx("div",{className:"ml-4 space-y-1 border-l-2 border-sidebar-border/30 pl-3",children:o.jsxs("button",{onClick:()=>p("/admin"),onMouseEnter:()=>d("/admin"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all group ${D("/admin")?"bg-gradient-primary text-primary-foreground shadow-glow scale-[1.02]":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground hover:scale-[1.02]"}`,children:[o.jsx(Se,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-semibold",children:"Admin"})]})})]}),o.jsx("div",{className:"space-y-1",children:j.filter(b=>b.path!=="/admin").map(b=>o.jsxs("button",{onClick:()=>p(b.path),onMouseEnter:()=>d(b.path),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-xl transition-all ${D(b.path)?"bg-gradient-primary text-primary-foreground shadow-glow":"hover:bg-sidebar-accent text-muted-foreground hover:text-foreground"}`,children:[o.jsx(b.icon,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-semibold",children:b.label})]},b.path))}),o.jsxs(bn,{children:[o.jsx(yn,{asChild:!0,children:o.jsxs(oe,{variant:"ghost",className:"w-full justify-start gap-3 px-4 py-2.5 text-destructive hover:text-destructive hover:bg-destructive/10 rounded-xl",children:[o.jsx(Qr,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-semibold",children:"Sair"})]})}),o.jsxs(Nr,{className:"bg-card border-border",children:[o.jsxs(Dr,{children:[o.jsx(jr,{className:"text-foreground",children:"Confirmar Logout"}),o.jsx(Pr,{className:"text-muted-foreground",children:"Tem certeza que deseja sair da sua conta? VocÃª precisarÃ¡ fazer login novamente para acessar o sistema."})]}),o.jsxs(Ar,{children:[o.jsx(Tr,{className:"bg-muted hover:bg-muted/80 text-foreground border-border",children:"Cancelar"}),o.jsx(Rr,{onClick:P,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Sair da Conta"})]})]})]})]})]}),o.jsx("main",{className:`
        flex-1 overflow-y-auto bg-gradient-to-br from-background to-background/95 
        ${x?"ml-0 pt-16":"ml-64 sm:ml-72 lg:ml-80"}
      `,children:o.jsx("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1600px] mx-auto w-full",children:e})}),o.jsx(Va,{})]})};export{bn as A,Zo as B,rn as C,Hn as D,or as E,Rt as F,on as G,Jo as H,_a as I,tn as O,en as P,qt as R,an as T,Pa as a,Aa as b,Da as c,Fn as d,Ln as e,Rn as f,Tn as g,Nr as h,Dr as i,jr as j,Pr as k,Ar as l,Tr as m,Rr as n,yn as o,On as p,kn as q,Mn as r,qn as s,Wn as t,ja as u,$n as v,_n as w,In as x,$o as y,eo as z};
