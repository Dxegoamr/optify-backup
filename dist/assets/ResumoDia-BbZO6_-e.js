import{g as Le,m as ft,h as Bt,n as sa,o as oa,k as ia,l as la,j as K,B as te,C as F,_ as da}from"./index-LiAbW-2G.js";import{j as t,q as ca,r as ua,n as ma,H as Oe,g as ht,L as vt,e as De,J as pt,K as Fe,l as de,M as Ae,i as ne}from"./ui-vendor-CYAqJ0RG.js";import{r as S,i as fa,u as ha}from"./react-vendor-a_rYd-gI.js";import{c as va,b as pa,u as xa,e as ga,D as ya,A as xt,h as gt,i as yt,j as bt,k as jt,l as Nt,m as wt,n as Dt,o as ba}from"./DashboardLayout-B3XyjcMy.js";import{shouldDisplayAsPositive as _t}from"./financial-calculations-dg7KAW8P.js";import{c as ce}from"./user-specific.service-C1DLMu9g.js";import{s as ke,a as xe,d as G,b as ja,c as Ze,g as Na,e as wa,f as U,i as $t}from"./format-G_C_Ywev.js";import{t as L,c as ue,g as St,m as Da,a as _a,b as Ie,d as ve,e as Sa,f as pe,h as Ma}from"./en-US-xOTpc2KN.js";import{e as Ge,d as ge}from"./endOfMonth-BnKvlUgl.js";import{P as Ca,a as ka,b as Pa}from"./popover-Bfv3a0cb.js";import{S as Mt,a as Ct,b as kt,c as Pt,d as _e}from"./select-Bd9uzrFY.js";import{e as Ta,q as Ra,t as Wa}from"./firebase-vendor-BUxvNq0f.js";import{R as Se,P as La,a as Oa,C as Tt,T as Me,B as Rt,b as Ee,X as Be,Y as $e,d as Wt,L as Fa,e as Aa,f as Ia}from"./chart-vendor-ctXMAO2v.js";import"./user-notifications.service-CAzP-qxP.js";import"./input-J7GhaNSr.js";import"./index-DMSHDzho.js";import"./user-subcollections.service-B4HigrO8.js";import"./index-CdAzXW5_.js";function A(e,r){const a=L(e);return isNaN(r)?ue(e,NaN):(r&&a.setDate(a.getDate()+r),a)}function z(e,r){const a=L(e);if(isNaN(r))return ue(e,NaN);if(!r)return a;const n=a.getDate(),s=ue(e,a.getTime());s.setMonth(a.getMonth()+r+1,0);const o=s.getDate();return n>=o?s:(a.setFullYear(s.getFullYear(),s.getMonth(),n),a)}function Xe(e,r){const a=r*7;return A(e,a)}function Ea(e,r){return z(e,r*12)}function Ba(e){let r;return e.forEach(function(a){const n=L(a);(r===void 0||r<n||isNaN(Number(n)))&&(r=n)}),r||new Date(NaN)}function $a(e){let r;return e.forEach(a=>{const n=L(a);(!r||r>n||isNaN(+n))&&(r=n)}),r||new Date(NaN)}function B(e,r){const a=ke(e),n=ke(r);return+a==+n}function qa(e,r,a){const n=xe(e,a),s=xe(r,a),o=+n-St(n),i=+s-St(s);return Math.round((o-i)/Da)}function $(e){const r=L(e);return r.setDate(1),r.setHours(0,0,0,0),r}function Je(e,r){const a=_a(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,s=L(e),o=s.getDay(),i=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function qt(e){return Je(e,{weekStartsOn:1})}function Ya(e){const r=L(e),a=r.getFullYear(),n=r.getMonth(),s=ue(e,0);return s.setFullYear(a,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Ha(e){return Math.trunc(+L(e)/1e3)}function za(e){const r=L(e),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(0,0,0,0),r}function Va(e,r){return qa(za(e),$(e),r)+1}function Qe(e,r){const a=L(e),n=L(r);return a.getTime()>n.getTime()}function Yt(e,r){const a=L(e),n=L(r);return+a<+n}function et(e,r){const a=L(e),n=L(r);return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()}function Ka(e,r){const a=L(e),n=L(r);return a.getFullYear()===n.getFullYear()}function qe(e,r){return A(e,-r)}function Ye(e,r){const a=L(e),n=a.getFullYear(),s=a.getDate(),o=ue(e,0);o.setFullYear(n,r,15),o.setHours(0,0,0,0);const i=Ya(o);return a.setMonth(r,Math.min(s,i)),a}function Lt(e,r){const a=L(e);return isNaN(+a)?ue(e,NaN):(a.setFullYear(r),a)}const Ua={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Xa=(e,r,a)=>{let n;const s=Ua[e];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",String(r)),a?.addSuffix?a.comparison&&a.comparison>0?"daqui a "+n:"há "+n:n},Qa={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},Za={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ga={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ja={date:Ie({formats:Qa,defaultWidth:"full"}),time:Ie({formats:Za,defaultWidth:"full"}),dateTime:Ie({formats:Ga,defaultWidth:"full"})},er={lastWeek:e=>{const r=e.getDay();return"'"+(r===0||r===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},tr=(e,r,a,n)=>{const s=er[e];return typeof s=="function"?s(r):s},ar={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},rr={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},nr={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},sr={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sáb"],abbreviated:["dom","seg","ter","qua","qui","sex","sáb"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},or={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"}},ir={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},lr=(e,r)=>Number(e)+"º",dr={ordinalNumber:lr,era:ve({values:ar,defaultWidth:"wide"}),quarter:ve({values:rr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ve({values:nr,defaultWidth:"wide"}),day:ve({values:sr,defaultWidth:"wide"}),dayPeriod:ve({values:or,defaultWidth:"wide",formattingValues:ir,defaultFormattingWidth:"wide"})},cr=/^(\d+)(º|ª)?/i,ur=/\d+/i,mr={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},fr={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},hr={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º|ª)? trimestre/i},vr={any:[/1/i,/2/i,/3/i,/4/i]},pr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},xr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},gr={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,wide:/^(domingo|segunda-?\s?feira|terça-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[áa]bado)/i},yr={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[áa]/i]},br={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i},jr={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[ãa]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},Nr={ordinalNumber:Sa({matchPattern:cr,parsePattern:ur,valueCallback:e=>parseInt(e,10)}),era:pe({matchPatterns:mr,defaultMatchWidth:"wide",parsePatterns:fr,defaultParseWidth:"any"}),quarter:pe({matchPatterns:hr,defaultMatchWidth:"wide",parsePatterns:vr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:pe({matchPatterns:pr,defaultMatchWidth:"wide",parsePatterns:xr,defaultParseWidth:"any"}),day:pe({matchPatterns:gr,defaultMatchWidth:"wide",parsePatterns:yr,defaultParseWidth:"any"}),dayPeriod:pe({matchPatterns:br,defaultMatchWidth:"any",parsePatterns:jr,defaultParseWidth:"any"})},He={code:"pt",formatDistance:Xa,formatLong:Ja,formatRelative:tr,localize:dr,match:Nr,options:{weekStartsOn:1,firstWeekContainsDate:4}};var N=function(){return N=Object.assign||function(r){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},N.apply(this,arguments)};function wr(e,r){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]]);return a}function Ht(e,r,a){for(var n=0,s=r.length,o;n<s;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function ye(e){return e.mode==="multiple"}function be(e){return e.mode==="range"}function Te(e){return e.mode==="single"}var Dr={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function _r(e,r){return U(e,"LLLL y",r)}function Sr(e,r){return U(e,"d",r)}function Mr(e,r){return U(e,"LLLL",r)}function Cr(e){return"".concat(e)}function kr(e,r){return U(e,"cccccc",r)}function Pr(e,r){return U(e,"yyyy",r)}var Tr=Object.freeze({__proto__:null,formatCaption:_r,formatDay:Sr,formatMonthCaption:Mr,formatWeekNumber:Cr,formatWeekdayName:kr,formatYearCaption:Pr}),Rr=function(e,r,a){return U(e,"do MMMM (EEEE)",a)},Wr=function(){return"Month: "},Lr=function(){return"Go to next month"},Or=function(){return"Go to previous month"},Fr=function(e,r){return U(e,"cccc",r)},Ar=function(e){return"Week n. ".concat(e)},Ir=function(){return"Year: "},Er=Object.freeze({__proto__:null,labelDay:Rr,labelMonthDropdown:Wr,labelNext:Lr,labelPrevious:Or,labelWeekNumber:Ar,labelWeekday:Fr,labelYearDropdown:Ir});function Br(){var e="buttons",r=Dr,a=Ma,n={},s={},o=1,i={},d=new Date;return{captionLayout:e,classNames:r,formatters:Tr,labels:Er,locale:a,modifiersClassNames:n,modifiers:s,numberOfMonths:o,styles:i,today:d,mode:"default"}}function $r(e){var r=e.fromYear,a=e.toYear,n=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=$(n):r&&(o=new Date(r,0,1)),s?i=Ge(s):a&&(i=new Date(a,11,31)),{fromDate:o?ke(o):void 0,toDate:i?ke(i):void 0}}var zt=S.createContext(void 0);function qr(e){var r,a=e.initialProps,n=Br(),s=$r(a),o=s.fromDate,i=s.toDate,d=(r=a.captionLayout)!==null&&r!==void 0?r:n.captionLayout;d!=="buttons"&&(!o||!i)&&(d="buttons");var c;(Te(a)||ye(a)||be(a))&&(c=a.onSelect);var m=N(N(N({},n),a),{captionLayout:d,classNames:N(N({},n.classNames),a.classNames),components:N({},a.components),formatters:N(N({},n.formatters),a.formatters),fromDate:o,labels:N(N({},n.labels),a.labels),mode:a.mode||n.mode,modifiers:N(N({},n.modifiers),a.modifiers),modifiersClassNames:N(N({},n.modifiersClassNames),a.modifiersClassNames),onSelect:c,styles:N(N({},n.styles),a.styles),toDate:i});return t.jsx(zt.Provider,{value:m,children:e.children})}function T(){var e=S.useContext(zt);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Vt(e){var r=T(),a=r.locale,n=r.classNames,s=r.styles,o=r.formatters.formatCaption;return t.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:a})})}function Yr(e){return t.jsx("svg",N({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:t.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Kt(e){var r,a,n=e.onChange,s=e.value,o=e.children,i=e.caption,d=e.className,c=e.style,m=T(),u=(a=(r=m.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&a!==void 0?a:Yr;return t.jsxs("div",{className:d,style:c,children:[t.jsx("span",{className:m.classNames.vhidden,children:e["aria-label"]}),t.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:s,onChange:n,children:o}),t.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[i,t.jsx(u,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function Hr(e){var r,a=T(),n=a.fromDate,s=a.toDate,o=a.styles,i=a.locale,d=a.formatters.formatMonthCaption,c=a.classNames,m=a.components,u=a.labels.labelMonthDropdown;if(!n)return t.jsx(t.Fragment,{});if(!s)return t.jsx(t.Fragment,{});var v=[];if(Ka(n,s))for(var p=$(n),j=n.getMonth();j<=s.getMonth();j++)v.push(Ye(p,j));else for(var p=$(new Date),j=0;j<=11;j++)v.push(Ye(p,j));var w=function(x){var R=Number(x.target.value),C=Ye($(e.displayMonth),R);e.onChange(C)},M=(r=m?.Dropdown)!==null&&r!==void 0?r:Kt;return t.jsx(M,{name:"months","aria-label":u(),className:c.dropdown_month,style:o.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:d(e.displayMonth,{locale:i}),children:v.map(function(x){return t.jsx("option",{value:x.getMonth(),children:d(x,{locale:i})},x.getMonth())})})}function zr(e){var r,a=e.displayMonth,n=T(),s=n.fromDate,o=n.toDate,i=n.locale,d=n.styles,c=n.classNames,m=n.components,u=n.formatters.formatYearCaption,v=n.labels.labelYearDropdown,p=[];if(!s)return t.jsx(t.Fragment,{});if(!o)return t.jsx(t.Fragment,{});for(var j=s.getFullYear(),w=o.getFullYear(),M=j;M<=w;M++)p.push(Lt(ja(new Date),M));var x=function(C){var J=Lt($(a),Number(C.target.value));e.onChange(J)},R=(r=m?.Dropdown)!==null&&r!==void 0?r:Kt;return t.jsx(R,{name:"years","aria-label":v(),className:c.dropdown_year,style:d.dropdown_year,onChange:x,value:a.getFullYear(),caption:u(a,{locale:i}),children:p.map(function(C){return t.jsx("option",{value:C.getFullYear(),children:u(C,{locale:i})},C.getFullYear())})})}function Vr(e,r){var a=S.useState(e),n=a[0],s=a[1],o=r===void 0?n:r;return[o,s]}function Kr(e){var r=e.month,a=e.defaultMonth,n=e.today,s=r||a||n||new Date,o=e.toDate,i=e.fromDate,d=e.numberOfMonths,c=d===void 0?1:d;if(o&&ge(o,s)<0){var m=-1*(c-1);s=z(o,m)}return i&&ge(s,i)<0&&(s=i),$(s)}function Ur(){var e=T(),r=Kr(e),a=Vr(r,e.month),n=a[0],s=a[1],o=function(i){var d;if(!e.disableNavigation){var c=$(i);s(c),(d=e.onMonthChange)===null||d===void 0||d.call(e,c)}};return[n,o]}function Xr(e,r){for(var a=r.reverseMonths,n=r.numberOfMonths,s=$(e),o=$(z(s,n)),i=ge(o,s),d=[],c=0;c<i;c++){var m=z(s,c);d.push(m)}return a&&(d=d.reverse()),d}function Qr(e,r){if(!r.disableNavigation){var a=r.toDate,n=r.pagedNavigation,s=r.numberOfMonths,o=s===void 0?1:s,i=n?o:1,d=$(e);if(!a)return z(d,i);var c=ge(a,e);if(!(c<o))return z(d,i)}}function Zr(e,r){if(!r.disableNavigation){var a=r.fromDate,n=r.pagedNavigation,s=r.numberOfMonths,o=s===void 0?1:s,i=n?o:1,d=$(e);if(!a)return z(d,-i);var c=ge(d,a);if(!(c<=0))return z(d,-i)}}var Ut=S.createContext(void 0);function Gr(e){var r=T(),a=Ur(),n=a[0],s=a[1],o=Xr(n,r),i=Qr(n,r),d=Zr(n,r),c=function(v){return o.some(function(p){return et(v,p)})},m=function(v,p){c(v)||(p&&Yt(v,p)?s(z(v,1+r.numberOfMonths*-1)):s(v))},u={currentMonth:n,displayMonths:o,goToMonth:s,goToDate:m,previousMonth:d,nextMonth:i,isDateDisplayed:c};return t.jsx(Ut.Provider,{value:u,children:e.children})}function je(){var e=S.useContext(Ut);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Ot(e){var r,a=T(),n=a.classNames,s=a.styles,o=a.components,i=je().goToMonth,d=function(u){i(z(u,e.displayIndex?-e.displayIndex:0))},c=(r=o?.CaptionLabel)!==null&&r!==void 0?r:Vt,m=t.jsx(c,{id:e.id,displayMonth:e.displayMonth});return t.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[t.jsx("div",{className:n.vhidden,children:m}),t.jsx(Hr,{onChange:d,displayMonth:e.displayMonth}),t.jsx(zr,{onChange:d,displayMonth:e.displayMonth})]})}function Jr(e){return t.jsx("svg",N({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function en(e){return t.jsx("svg",N({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Pe=S.forwardRef(function(e,r){var a=T(),n=a.classNames,s=a.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),d=N(N({},s.button_reset),s.button);return e.style&&Object.assign(d,e.style),t.jsx("button",N({},e,{ref:r,type:"button",className:i,style:d}))});function tn(e){var r,a,n=T(),s=n.dir,o=n.locale,i=n.classNames,d=n.styles,c=n.labels,m=c.labelPrevious,u=c.labelNext,v=n.components;if(!e.nextMonth&&!e.previousMonth)return t.jsx(t.Fragment,{});var p=m(e.previousMonth,{locale:o}),j=[i.nav_button,i.nav_button_previous].join(" "),w=u(e.nextMonth,{locale:o}),M=[i.nav_button,i.nav_button_next].join(" "),x=(r=v?.IconRight)!==null&&r!==void 0?r:en,R=(a=v?.IconLeft)!==null&&a!==void 0?a:Jr;return t.jsxs("div",{className:i.nav,style:d.nav,children:[!e.hidePrevious&&t.jsx(Pe,{name:"previous-month","aria-label":p,className:j,style:d.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?t.jsx(x,{className:i.nav_icon,style:d.nav_icon}):t.jsx(R,{className:i.nav_icon,style:d.nav_icon})}),!e.hideNext&&t.jsx(Pe,{name:"next-month","aria-label":w,className:M,style:d.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?t.jsx(R,{className:i.nav_icon,style:d.nav_icon}):t.jsx(x,{className:i.nav_icon,style:d.nav_icon})})]})}function Ft(e){var r=T().numberOfMonths,a=je(),n=a.previousMonth,s=a.nextMonth,o=a.goToMonth,i=a.displayMonths,d=i.findIndex(function(w){return et(e.displayMonth,w)}),c=d===0,m=d===i.length-1,u=r>1&&(c||!m),v=r>1&&(m||!c),p=function(){n&&o(n)},j=function(){s&&o(s)};return t.jsx(tn,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:v,nextMonth:s,previousMonth:n,onPreviousClick:p,onNextClick:j})}function an(e){var r,a=T(),n=a.classNames,s=a.disableNavigation,o=a.styles,i=a.captionLayout,d=a.components,c=(r=d?.CaptionLabel)!==null&&r!==void 0?r:Vt,m;return s?m=t.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?m=t.jsx(Ot,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?m=t.jsxs(t.Fragment,{children:[t.jsx(Ot,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),t.jsx(Ft,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):m=t.jsxs(t.Fragment,{children:[t.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(Ft,{displayMonth:e.displayMonth,id:e.id})]}),t.jsx("div",{className:n.caption,style:o.caption,children:m})}function rn(e){var r=T(),a=r.footer,n=r.styles,s=r.classNames.tfoot;return a?t.jsx("tfoot",{className:s,style:n.tfoot,children:t.jsx("tr",{children:t.jsx("td",{colSpan:8,children:a})})}):t.jsx(t.Fragment,{})}function nn(e,r,a){for(var n=a?Ze(new Date):xe(new Date,{locale:e,weekStartsOn:r}),s=[],o=0;o<7;o++){var i=A(n,o);s.push(i)}return s}function sn(){var e=T(),r=e.classNames,a=e.styles,n=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,d=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,m=nn(s,o,i);return t.jsxs("tr",{style:a.head_row,className:r.head_row,children:[n&&t.jsx("td",{style:a.head_cell,className:r.head_cell}),m.map(function(u,v){return t.jsx("th",{scope:"col",className:r.head_cell,style:a.head_cell,"aria-label":c(u,{locale:s}),children:d(u,{locale:s})},v)})]})}function on(){var e,r=T(),a=r.classNames,n=r.styles,s=r.components,o=(e=s?.HeadRow)!==null&&e!==void 0?e:sn;return t.jsx("thead",{style:n.head,className:a.head,children:t.jsx(o,{})})}function ln(e){var r=T(),a=r.locale,n=r.formatters.formatDay;return t.jsx(t.Fragment,{children:n(e.date,{locale:a})})}var tt=S.createContext(void 0);function dn(e){if(!ye(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return t.jsx(tt.Provider,{value:r,children:e.children})}return t.jsx(cn,{initialProps:e.initialProps,children:e.children})}function cn(e){var r=e.initialProps,a=e.children,n=r.selected,s=r.min,o=r.max,i=function(m,u,v){var p,j;(p=r.onDayClick)===null||p===void 0||p.call(r,m,u,v);var w=!!(u.selected&&s&&n?.length===s);if(!w){var M=!!(!u.selected&&o&&n?.length===o);if(!M){var x=n?Ht([],n):[];if(u.selected){var R=x.findIndex(function(C){return B(m,C)});x.splice(R,1)}else x.push(m);(j=r.onSelect)===null||j===void 0||j.call(r,x,m,u,v)}}},d={disabled:[]};n&&d.disabled.push(function(m){var u=o&&n.length>o-1,v=n.some(function(p){return B(p,m)});return!!(u&&!v)});var c={selected:n,onDayClick:i,modifiers:d};return t.jsx(tt.Provider,{value:c,children:a})}function at(){var e=S.useContext(tt);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function un(e,r){var a=r||{},n=a.from,s=a.to;return n&&s?B(s,e)&&B(n,e)?void 0:B(s,e)?{from:s,to:void 0}:B(n,e)?void 0:Qe(n,e)?{from:e,to:s}:{from:n,to:e}:s?Qe(e,s)?{from:s,to:e}:{from:e,to:s}:n?Yt(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var rt=S.createContext(void 0);function mn(e){if(!be(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return t.jsx(rt.Provider,{value:r,children:e.children})}return t.jsx(fn,{initialProps:e.initialProps,children:e.children})}function fn(e){var r=e.initialProps,a=e.children,n=r.selected,s=n||{},o=s.from,i=s.to,d=r.min,c=r.max,m=function(j,w,M){var x,R;(x=r.onDayClick)===null||x===void 0||x.call(r,j,w,M);var C=un(j,n);(R=r.onSelect)===null||R===void 0||R.call(r,C,j,w,M)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],B(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),d&&(o&&!i&&u.disabled.push({after:qe(o,d-1),before:A(o,d-1)}),o&&i&&u.disabled.push({after:o,before:A(o,d-1)}),!o&&i&&u.disabled.push({after:qe(i,d-1),before:A(i,d-1)})),c){if(o&&!i&&(u.disabled.push({before:A(o,-c+1)}),u.disabled.push({after:A(o,c-1)})),o&&i){var v=G(i,o)+1,p=c-v;u.disabled.push({before:qe(o,p)}),u.disabled.push({after:A(i,p)})}!o&&i&&(u.disabled.push({before:A(i,-c+1)}),u.disabled.push({after:A(i,c-1)}))}return t.jsx(rt.Provider,{value:{selected:n,onDayClick:m,modifiers:u},children:a})}function nt(){var e=S.useContext(rt);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ce(e){return Array.isArray(e)?Ht([],e):e!==void 0?[e]:[]}function hn(e){var r={};return Object.entries(e).forEach(function(a){var n=a[0],s=a[1];r[n]=Ce(s)}),r}var V;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(V||(V={}));var vn=V.Selected,Z=V.Disabled,pn=V.Hidden,xn=V.Today,ze=V.RangeEnd,Ve=V.RangeMiddle,Ke=V.RangeStart,gn=V.Outside;function yn(e,r,a){var n,s=(n={},n[vn]=Ce(e.selected),n[Z]=Ce(e.disabled),n[pn]=Ce(e.hidden),n[xn]=[e.today],n[ze]=[],n[Ve]=[],n[Ke]=[],n[gn]=[],n);return e.fromDate&&s[Z].push({before:e.fromDate}),e.toDate&&s[Z].push({after:e.toDate}),ye(e)?s[Z]=s[Z].concat(r.modifiers[Z]):be(e)&&(s[Z]=s[Z].concat(a.modifiers[Z]),s[Ke]=a.modifiers[Ke],s[Ve]=a.modifiers[Ve],s[ze]=a.modifiers[ze]),s}var Xt=S.createContext(void 0);function bn(e){var r=T(),a=at(),n=nt(),s=yn(r,a,n),o=hn(r.modifiers),i=N(N({},s),o);return t.jsx(Xt.Provider,{value:i,children:e.children})}function Qt(){var e=S.useContext(Xt);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function jn(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Nn(e){return!!(e&&typeof e=="object"&&"from"in e)}function wn(e){return!!(e&&typeof e=="object"&&"after"in e)}function Dn(e){return!!(e&&typeof e=="object"&&"before"in e)}function _n(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Sn(e,r){var a,n=r.from,s=r.to;if(n&&s){var o=G(s,n)<0;o&&(a=[s,n],n=a[0],s=a[1]);var i=G(e,n)>=0&&G(s,e)>=0;return i}return s?B(s,e):n?B(n,e):!1}function Mn(e){return $t(e)}function Cn(e){return Array.isArray(e)&&e.every($t)}function kn(e,r){return r.some(function(a){if(typeof a=="boolean")return a;if(Mn(a))return B(e,a);if(Cn(a))return a.includes(e);if(Nn(a))return Sn(e,a);if(_n(a))return a.dayOfWeek.includes(e.getDay());if(jn(a)){var n=G(a.before,e),s=G(a.after,e),o=n>0,i=s<0,d=Qe(a.before,a.after);return d?i&&o:o||i}return wn(a)?G(e,a.after)>0:Dn(a)?G(a.before,e)>0:typeof a=="function"?a(e):!1})}function st(e,r,a){var n=Object.keys(r).reduce(function(o,i){var d=r[i];return kn(e,d)&&o.push(i),o},[]),s={};return n.forEach(function(o){return s[o]=!0}),a&&!et(e,a)&&(s.outside=!0),s}function Pn(e,r){for(var a=$(e[0]),n=Ge(e[e.length-1]),s,o,i=a;i<=n;){var d=st(i,r),c=!d.disabled&&!d.hidden;if(!c){i=A(i,1);continue}if(d.selected)return i;d.today&&!o&&(o=i),s||(s=i),i=A(i,1)}return o||s}var Tn=365;function Zt(e,r){var a=r.moveBy,n=r.direction,s=r.context,o=r.modifiers,i=r.retry,d=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,m=s.fromDate,u=s.toDate,v=s.locale,p={day:A,week:Xe,month:z,year:Ea,startOfWeek:function(x){return s.ISOWeek?Ze(x):xe(x,{locale:v,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?qt(x):Je(x,{locale:v,weekStartsOn:c})}},j=p[a](e,n==="after"?1:-1);n==="before"&&m?j=Ba([m,j]):n==="after"&&u&&(j=$a([u,j]));var w=!0;if(o){var M=st(j,o);w=!M.disabled&&!M.hidden}return w?j:d.count>Tn?d.lastFocused:Zt(j,{moveBy:a,direction:n,context:s,modifiers:o,retry:N(N({},d),{count:d.count+1})})}var Gt=S.createContext(void 0);function Rn(e){var r=je(),a=Qt(),n=S.useState(),s=n[0],o=n[1],i=S.useState(),d=i[0],c=i[1],m=Pn(r.displayMonths,a),u=s??(d&&r.isDateDisplayed(d))?d:m,v=function(){c(s),o(void 0)},p=function(x){o(x)},j=T(),w=function(x,R){if(s){var C=Zt(s,{moveBy:x,direction:R,context:j,modifiers:a});B(s,C)||(r.goToDate(C,s),p(C))}},M={focusedDay:s,focusTarget:u,blur:v,focus:p,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return t.jsx(Gt.Provider,{value:M,children:e.children})}function ot(){var e=S.useContext(Gt);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Wn(e,r){var a=Qt(),n=st(e,a,r);return n}var it=S.createContext(void 0);function Ln(e){if(!Te(e.initialProps)){var r={selected:void 0};return t.jsx(it.Provider,{value:r,children:e.children})}return t.jsx(On,{initialProps:e.initialProps,children:e.children})}function On(e){var r=e.initialProps,a=e.children,n=function(o,i,d){var c,m,u;if((c=r.onDayClick)===null||c===void 0||c.call(r,o,i,d),i.selected&&!r.required){(m=r.onSelect)===null||m===void 0||m.call(r,void 0,o,i,d);return}(u=r.onSelect)===null||u===void 0||u.call(r,o,o,i,d)},s={selected:r.selected,onDayClick:n};return t.jsx(it.Provider,{value:s,children:a})}function Jt(){var e=S.useContext(it);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Fn(e,r){var a=T(),n=Jt(),s=at(),o=nt(),i=ot(),d=i.focusDayAfter,c=i.focusDayBefore,m=i.focusWeekAfter,u=i.focusWeekBefore,v=i.blur,p=i.focus,j=i.focusMonthBefore,w=i.focusMonthAfter,M=i.focusYearBefore,x=i.focusYearAfter,R=i.focusStartOfWeek,C=i.focusEndOfWeek,J=function(g){var b,ae,Q,fe;Te(a)?(b=n.onDayClick)===null||b===void 0||b.call(n,e,r,g):ye(a)?(ae=s.onDayClick)===null||ae===void 0||ae.call(s,e,r,g):be(a)?(Q=o.onDayClick)===null||Q===void 0||Q.call(o,e,r,g):(fe=a.onDayClick)===null||fe===void 0||fe.call(a,e,r,g)},Y=function(g){var b;p(e),(b=a.onDayFocus)===null||b===void 0||b.call(a,e,r,g)},se=function(g){var b;v(),(b=a.onDayBlur)===null||b===void 0||b.call(a,e,r,g)},X=function(g){var b;(b=a.onDayMouseEnter)===null||b===void 0||b.call(a,e,r,g)},Re=function(g){var b;(b=a.onDayMouseLeave)===null||b===void 0||b.call(a,e,r,g)},lt=function(g){var b;(b=a.onDayPointerEnter)===null||b===void 0||b.call(a,e,r,g)},H=function(g){var b;(b=a.onDayPointerLeave)===null||b===void 0||b.call(a,e,r,g)},q=function(g){var b;(b=a.onDayTouchCancel)===null||b===void 0||b.call(a,e,r,g)},oe=function(g){var b;(b=a.onDayTouchEnd)===null||b===void 0||b.call(a,e,r,g)},Ne=function(g){var b;(b=a.onDayTouchMove)===null||b===void 0||b.call(a,e,r,g)},W=function(g){var b;(b=a.onDayTouchStart)===null||b===void 0||b.call(a,e,r,g)},dt=function(g){var b;(b=a.onDayKeyUp)===null||b===void 0||b.call(a,e,r,g)},ie=function(g){var b;switch(g.key){case"ArrowLeft":g.preventDefault(),g.stopPropagation(),a.dir==="rtl"?d():c();break;case"ArrowRight":g.preventDefault(),g.stopPropagation(),a.dir==="rtl"?c():d();break;case"ArrowDown":g.preventDefault(),g.stopPropagation(),m();break;case"ArrowUp":g.preventDefault(),g.stopPropagation(),u();break;case"PageUp":g.preventDefault(),g.stopPropagation(),g.shiftKey?M():j();break;case"PageDown":g.preventDefault(),g.stopPropagation(),g.shiftKey?x():w();break;case"Home":g.preventDefault(),g.stopPropagation(),R();break;case"End":g.preventDefault(),g.stopPropagation(),C();break}(b=a.onDayKeyDown)===null||b===void 0||b.call(a,e,r,g)},me={onClick:J,onFocus:Y,onBlur:se,onKeyDown:ie,onKeyUp:dt,onMouseEnter:X,onMouseLeave:Re,onPointerEnter:lt,onPointerLeave:H,onTouchCancel:q,onTouchEnd:oe,onTouchMove:Ne,onTouchStart:W};return me}function An(){var e=T(),r=Jt(),a=at(),n=nt(),s=Te(e)?r.selected:ye(e)?a.selected:be(e)?n.selected:void 0;return s}function In(e){return Object.values(V).includes(e)}function En(e,r){var a=[e.classNames.day];return Object.keys(r).forEach(function(n){var s=e.modifiersClassNames[n];if(s)a.push(s);else if(In(n)){var o=e.classNames["day_".concat(n)];o&&a.push(o)}}),a}function Bn(e,r){var a=N({},e.styles.day);return Object.keys(r).forEach(function(n){var s;a=N(N({},a),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),a}function $n(e,r,a){var n,s,o,i=T(),d=ot(),c=Wn(e,r),m=Fn(e,c),u=An(),v=!!(i.onDayClick||i.mode!=="default");S.useEffect(function(){var X;c.outside||d.focusedDay&&v&&B(d.focusedDay,e)&&((X=a.current)===null||X===void 0||X.focus())},[d.focusedDay,e,a,v,c.outside]);var p=En(i,c).join(" "),j=Bn(i,c),w=!!(c.outside&&!i.showOutsideDays||c.hidden),M=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:ln,x=t.jsx(M,{date:e,displayMonth:r,activeModifiers:c}),R={style:j,className:p,children:x,role:"gridcell"},C=d.focusTarget&&B(d.focusTarget,e)&&!c.outside,J=d.focusedDay&&B(d.focusedDay,e),Y=N(N(N({},R),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=J||C?0:-1,n)),m),se={isButton:v,isHidden:w,activeModifiers:c,selectedDays:u,buttonProps:Y,divProps:R};return se}function qn(e){var r=S.useRef(null),a=$n(e.date,e.displayMonth,r);return a.isHidden?t.jsx("div",{role:"gridcell"}):a.isButton?t.jsx(Pe,N({name:"day",ref:r},a.buttonProps)):t.jsx("div",N({},a.divProps))}function Yn(e){var r=e.number,a=e.dates,n=T(),s=n.onWeekNumberClick,o=n.styles,i=n.classNames,d=n.locale,c=n.labels.labelWeekNumber,m=n.formatters.formatWeekNumber,u=m(Number(r),{locale:d});if(!s)return t.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var v=c(Number(r),{locale:d}),p=function(j){s(r,a,j)};return t.jsx(Pe,{name:"week-number","aria-label":v,className:i.weeknumber,style:o.weeknumber,onClick:p,children:u})}function Hn(e){var r,a,n=T(),s=n.styles,o=n.classNames,i=n.showWeekNumber,d=n.components,c=(r=d?.Day)!==null&&r!==void 0?r:qn,m=(a=d?.WeekNumber)!==null&&a!==void 0?a:Yn,u;return i&&(u=t.jsx("td",{className:o.cell,style:s.cell,children:t.jsx(m,{number:e.weekNumber,dates:e.dates})})),t.jsxs("tr",{className:o.row,style:s.row,children:[u,e.dates.map(function(v){return t.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:t.jsx(c,{displayMonth:e.displayMonth,date:v})},Ha(v))})]})}function At(e,r,a){for(var n=a?.ISOWeek?qt(r):Je(r,a),s=a?.ISOWeek?Ze(e):xe(e,a),o=G(n,s),i=[],d=0;d<=o;d++)i.push(A(s,d));var c=i.reduce(function(m,u){var v=a?.ISOWeek?Na(u):wa(u,a),p=m.find(function(j){return j.weekNumber===v});return p?(p.dates.push(u),m):(m.push({weekNumber:v,dates:[u]}),m)},[]);return c}function zn(e,r){var a=At($(e),Ge(e),r);if(r?.useFixedWeeks){var n=Va(e,r);if(n<6){var s=a[a.length-1],o=s.dates[s.dates.length-1],i=Xe(o,6-n),d=At(Xe(o,1),i,r);a.push.apply(a,d)}}return a}function Vn(e){var r,a,n,s=T(),o=s.locale,i=s.classNames,d=s.styles,c=s.hideHead,m=s.fixedWeeks,u=s.components,v=s.weekStartsOn,p=s.firstWeekContainsDate,j=s.ISOWeek,w=zn(e.displayMonth,{useFixedWeeks:!!m,ISOWeek:j,locale:o,weekStartsOn:v,firstWeekContainsDate:p}),M=(r=u?.Head)!==null&&r!==void 0?r:on,x=(a=u?.Row)!==null&&a!==void 0?a:Hn,R=(n=u?.Footer)!==null&&n!==void 0?n:rn;return t.jsxs("table",{id:e.id,className:i.table,style:d.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&t.jsx(M,{}),t.jsx("tbody",{className:i.tbody,style:d.tbody,children:w.map(function(C){return t.jsx(x,{displayMonth:e.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),t.jsx(R,{displayMonth:e.displayMonth})]})}function Kn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Un=Kn()?S.useLayoutEffect:S.useEffect,Ue=!1,Xn=0;function It(){return"react-day-picker-".concat(++Xn)}function Qn(e){var r,a=e??(Ue?It():null),n=S.useState(a),s=n[0],o=n[1];return Un(function(){s===null&&o(It())},[]),S.useEffect(function(){Ue===!1&&(Ue=!0)},[]),(r=e??s)!==null&&r!==void 0?r:void 0}function Zn(e){var r,a,n=T(),s=n.dir,o=n.classNames,i=n.styles,d=n.components,c=je().displayMonths,m=Qn(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,v=[o.month],p=i.month,j=e.displayIndex===0,w=e.displayIndex===c.length-1,M=!j&&!w;s==="rtl"&&(r=[j,w],w=r[0],j=r[1]),j&&(v.push(o.caption_start),p=N(N({},p),i.caption_start)),w&&(v.push(o.caption_end),p=N(N({},p),i.caption_end)),M&&(v.push(o.caption_between),p=N(N({},p),i.caption_between));var x=(a=d?.Caption)!==null&&a!==void 0?a:an;return t.jsxs("div",{className:v.join(" "),style:p,children:[t.jsx(x,{id:m,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(Vn,{id:u,"aria-labelledby":m,displayMonth:e.displayMonth})]},e.displayIndex)}function Gn(e){var r=T(),a=r.classNames,n=r.styles;return t.jsx("div",{className:a.months,style:n.months,children:e.children})}function Jn(e){var r,a,n=e.initialProps,s=T(),o=ot(),i=je(),d=S.useState(!1),c=d[0],m=d[1];S.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),m(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var v=N(N({},s.styles.root),s.style),p=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,M){var x;return N(N({},w),(x={},x[M]=n[M],x))},{}),j=(a=(r=n.components)===null||r===void 0?void 0:r.Months)!==null&&a!==void 0?a:Gn;return t.jsx("div",N({className:u.join(" "),style:v,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:t.jsx(j,{children:i.displayMonths.map(function(w,M){return t.jsx(Zn,{displayIndex:M,displayMonth:w},M)})})}))}function es(e){var r=e.children,a=wr(e,["children"]);return t.jsx(qr,{initialProps:a,children:t.jsx(Gr,{children:t.jsx(Ln,{initialProps:a,children:t.jsx(dn,{initialProps:a,children:t.jsx(mn,{initialProps:a,children:t.jsx(bn,{children:t.jsx(Rn,{children:r})})})})})})})}function ts(e){return t.jsx(es,N({},e,{children:t.jsx(Jn,{initialProps:e})}))}function ea({className:e,classNames:r,showOutsideDays:a=!0,...n}){return t.jsx(ts,{showOutsideDays:a,className:Le("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Le(ft({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Le(ft({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...s})=>t.jsx(ca,{className:"h-4 w-4"}),IconRight:({...s})=>t.jsx(ua,{className:"h-4 w-4"})},...n})}ea.displayName="Calendar";const as=e=>{const{user:r}=Bt(),a=e||r?.uid,[n,s]=S.useState(null),[o,i]=S.useState(!0),[d,c]=S.useState(null);return S.useEffect(()=>{if(!a){i(!1);return}i(!0),c(null);const m=Ta(sa,"users",a,"globalFinancialState","main"),u=Ra(m,v=>{v.exists()?s(v.data()):(console.log("Estado financeiro não encontrado, calculando..."),Et().catch(p=>{console.error("Erro ao recalcular estado financeiro:",p),c(p)})),i(!1)},v=>{console.error("Erro ao escutar estado financeiro:",v),c(v),i(!1)});return()=>u()},[a]),{data:n,isLoading:o,error:d,refetch:()=>a?Et():Promise.resolve()}},Et=async e=>{try{return(await Wa(oa,"recalculateFinancialState")({})).data}catch(r){throw console.error("Erro ao recalcular estado financeiro:",r),r}},js=()=>{const{user:e}=Bt(),[r]=fa(),a=ha(),n=ma(),[s,o]=S.useState(ia()),[i,d]=S.useState(!1),[c,m]=S.useState(!1),[u,v]=S.useState(!1),[p,j]=S.useState([]),[w,M]=S.useState(""),[x,R]=S.useState(""),[C,J]=S.useState(""),[Y,se]=S.useState(""),X=s.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");S.useEffect(()=>{const l=r.get("filter");R(l||"")},[r]);const{data:Re,isLoading:lt}=as(e?.uid),{data:H=[]}=va(e?.uid||""),{data:q=[]}=pa(e?.uid||""),{data:oe=[]}=xa(e?.uid||""),Ne=ga(),W=oe.filter(l=>l.date===X);S.useEffect(()=>{if(oe.length>0&&p.length===0){const l=la(),f=oe.filter(h=>h.date===l);f.length>0&&(j(f),M(l))}},[oe,p.length]);const ie=(()=>{let l=W;switch(x){case"deposits":l=l.filter(f=>f.type==="deposit");break;case"withdraws":l=l.filter(f=>f.type==="withdraw");break}return C&&(l=l.filter(f=>f.platformId===C)),Y&&(l=l.filter(f=>f.employeeId===Y)),l})(),me=Re?.daily[X]||{profit:0,deposits:0,withdraws:0},g=me.profit,b=me.deposits,ae=me.withdraws,Q=ie.length,fe=W.filter(l=>l.type==="deposit"||l.description&&l.description.startsWith("Surebet")),ta=W.filter(l=>l.type==="withdraw"),ct=q.map(l=>{const f=W.filter(y=>y.platformId===l.id),h=f.filter(y=>y.description&&y.description.startsWith("Surebet")).reduce((y,k)=>y+Number(k.amount||0),0),_=f.filter(y=>y.type==="deposit"&&(!y.description||!y.description.startsWith("Surebet"))).reduce((y,k)=>y+Number(k.amount||0),0),P=f.filter(y=>y.type==="withdraw").reduce((y,k)=>y+Number(k.amount||0),0),D=P-_+h;return{id:l.id,name:l.name,color:l.color,deposits:_,withdraws:P,profit:D,transactions:f.length}}).filter(l=>l.transactions>0||l.profit!==0).sort((l,f)=>f.profit-l.profit),ut=H.map(l=>{const f=W.filter(y=>y.employeeId===l.id),h=f.filter(y=>y.description&&y.description.startsWith("Surebet")).reduce((y,k)=>y+Number(k.amount||0),0),_=f.filter(y=>y.type==="deposit"&&(!y.description||!y.description.startsWith("Surebet"))).reduce((y,k)=>y+Number(k.amount||0),0),P=f.filter(y=>y.type==="withdraw").reduce((y,k)=>y+Number(k.amount||0),0),D=P-_+h;return{id:l.id,name:l.name,deposits:_,withdraws:P,profit:D,transactions:f.length}}).filter(l=>l.transactions>0||l.profit!==0).sort((l,f)=>f.profit-l.profit),re=ct[0],le=ut[0],aa=async()=>{try{if(!e?.uid){ne.error("Usuário não autenticado");return}const l=p.length>0?p:W,f=w||X;if(l.length===0){ne.error("Não há transações para fechar");return}const h=[...l];for(const O of l)await Ne.mutateAsync({id:O.id,skipDailySummaryUpdate:!0});const{calculateProfit:_,calculateTotalDeposits:P,calculateTotalWithdraws:D}=await da(async()=>{const{calculateProfit:O,calculateTotalDeposits:he,calculateTotalWithdraws:na}=await import("./financial-calculations-dg7KAW8P.js");return{calculateProfit:O,calculateTotalDeposits:he,calculateTotalWithdraws:na}},[]),y=_(h),k=P(h),ee=D(h),E=(await ce.getAllDailySummaries(e.uid)).find(O=>O.date===f),we={date:f,totalDeposits:k,totalWithdraws:ee,profit:y,margin:y,transactionCount:h.length,transactionsSnapshot:h,byEmployee:[],createdAt:E?.createdAt||new Date,updatedAt:new Date};E?await ce.updateDailySummary(e.uid,E.id,we):await ce.createDailySummary(e.uid,we),ne.success("Dia fechado com sucesso!"),m(!1),n.invalidateQueries({queryKey:["firebase-transactions"]}),n.invalidateQueries({queryKey:["firebase-daily-summaries"]}),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(l){console.error("Erro ao fechar o dia:",l),ne.error("Erro ao fechar o dia. Tente novamente.")}},ra=async l=>{try{if(console.log("=== INICIANDO SALVAMENTO EM OUTRA DATA ==="),console.log("Target Date recebida:",l),console.log("Transações do dia original:",p),console.log("Data original:",w),console.log("Transações do dia atual (selectedDate):",W),console.log("Total Deposits:",b),console.log("Total Withdraws:",ae),console.log("Profit calculado:",g),!e?.uid){ne.error("Usuário não autenticado");return}const f=l.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");console.log("Salvando em outra data - Target Date String:",f);const h=p.length>0?p:W,_=h.filter(O=>O.type==="deposit"),P=h.filter(O=>O.type==="withdraw"),D=_.reduce((O,he)=>O+Number(he.amount||0),0),y=P.reduce((O,he)=>O+Number(he.amount||0),0),k=y-D;console.log("Dados a serem salvos:"),console.log("- transactionsToSave:",h),console.log("- totalDepositsToSave:",D),console.log("- totalWithdrawsToSave:",y),console.log("- profitToSave:",k);const I=(await ce.getAllDailySummaries(e.uid)).find(O=>O.date===f);let E;I?(E={date:f,totalDeposits:(I.totalDeposits||0)+D,totalWithdraws:(I.totalWithdraws||0)+y,profit:(I.profit||I.margin||0)+k,transactionCount:(I.transactionCount||0)+h.length,transactionsSnapshot:[...I.transactionsSnapshot||[],...h],byEmployee:[],margin:(I.profit||I.margin||0)+k,createdAt:I.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente para data:",E),await ce.updateDailySummary(e.uid,I.id,E)):(E={date:f,totalDeposits:D,totalWithdraws:y,profit:k,transactionCount:h.length,transactionsSnapshot:h,byEmployee:[],margin:k,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento para data:",E),await ce.createDailySummary(e.uid,E)),console.log("Resumo salvo com sucesso na data:",f),console.log("Deletando transações do dia selecionado:",h);const we=h.map(O=>(console.log("Deletando transação:",O.id),Ne.mutateAsync(O.id)));await Promise.all(we),console.log("Todas as transações foram deletadas com sucesso"),n.invalidateQueries({queryKey:["firebase-transactions"]}),n.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),n.invalidateQueries({queryKey:["firebase-daily-summaries"]}),ne.success(`Resumo salvo para ${U(l,"dd/MM/yyyy",{locale:He})}! Transações do dia atual foram apagadas.`),d(!1)}catch(f){console.error("Erro ao salvar em outra data:",f),ne.error("Erro ao salvar em outra data. Tente novamente.")}},We=ct.map(l=>({name:l.name,value:l.profit,color:l.color})),mt=ut.map(l=>({name:l.name,receita:l.profit,depositos:l.deposits,saques:l.withdraws}));return t.jsx(ya,{children:t.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(K,{className:"rounded-full bg-primary/10 px-4 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.35em] text-primary mb-4",children:"Resumo"}),t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h1",{className:"text-4xl font-bold",children:"Resumo do Dia"}),x&&t.jsxs(K,{variant:"secondary",className:"gap-1 bg-primary/10 text-primary border-primary/20",children:[t.jsx(Oe,{className:"h-3 w-3"}),x==="deposits"&&"Depósitos",x==="withdraws"&&"Saques",x==="profit"&&"Lucro"]})]}),t.jsx("p",{className:"text-muted-foreground",children:U(s,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:He})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Ca,{open:i,onOpenChange:d,children:[t.jsx(ka,{asChild:!0,children:t.jsxs(te,{variant:"outline",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white border-orange-500",children:[t.jsx(ht,{className:"h-4 w-4"}),"Salvar em outra data"]})}),t.jsx(Pa,{className:"w-auto p-0",align:"end",children:t.jsx(ea,{mode:"single",selected:s,onSelect:l=>{l&&(o(l),d(!1),v(!0))},initialFocus:!0})})]}),t.jsx(xt,{open:u,onOpenChange:v,children:t.jsxs(gt,{children:[t.jsxs(yt,{children:[t.jsx(bt,{children:"Salvar em Outra Data"}),t.jsxs(jt,{children:["Tem certeza que deseja salvar o resumo do dia atual para ",s&&U(s,"dd/MM/yyyy",{locale:He}),"?",t.jsx("br",{}),t.jsx("br",{}),t.jsx("strong",{children:"Esta ação irá:"}),t.jsx("br",{}),"• Salvar todas as transações atuais para a data selecionada",t.jsx("br",{}),"• Apagar todas as transações do dia atual",t.jsx("br",{}),"• Permitir que você comece um novo dia",t.jsx("br",{}),t.jsx("br",{}),t.jsx("strong",{children:"Esta ação não pode ser desfeita."})]})]}),t.jsxs(Nt,{children:[t.jsx(wt,{children:"Cancelar"}),t.jsx(Dt,{onClick:async()=>{s&&(console.log("Executando saveToAnotherDate com data:",s),await ra(s),v(!1))},children:"Salvar e Apagar Transações"})]})]})}),t.jsxs(xt,{open:c,onOpenChange:m,children:[t.jsx(ba,{asChild:!0,children:t.jsxs(te,{variant:"destructive",className:"gap-2",children:[t.jsx(vt,{className:"h-4 w-4"}),"Fechar o Dia"]})}),t.jsxs(gt,{children:[t.jsxs(yt,{children:[t.jsx(bt,{children:"Fechar o Dia"}),t.jsx(jt,{children:"Tem certeza que deseja fechar o dia? Esta ação salvará todas as movimentações do dia e resetará as transações para um novo dia."})]}),t.jsxs(Nt,{children:[t.jsx(wt,{children:"Cancelar"}),t.jsx(Dt,{onClick:aa,children:"Fechar o Dia"})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(F,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Dia"}),t.jsxs("p",{className:`text-3xl font-bold ${g>=0?"text-success":"text-destructive"}`,children:["R$ ",g.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(De,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(F,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),t.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",b.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(pt,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(F,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),t.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",ae.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(Fe,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(F,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),t.jsx("p",{className:"text-3xl font-bold",children:Q})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(de,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[re&&t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ae,{className:"h-6 w-6 text-yellow-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Plataforma do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:re.color}}),t.jsx("span",{className:"font-medium",children:re.name})]}),t.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",re.profit.toLocaleString("pt-BR")]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[re.transactions," transações • R$ ",re.deposits.toLocaleString("pt-BR")," depósitos • R$ ",re.withdraws.toLocaleString("pt-BR")," saques"]})]})]}),le&&t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ae,{className:"h-6 w-6 text-yellow-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Funcionário do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"font-medium",children:le.name}),t.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",le.profit.toLocaleString("pt-BR")]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[le.transactions," transações • R$ ",le.deposits.toLocaleString("pt-BR")," depósitos • R$ ",le.withdraws.toLocaleString("pt-BR")," saques"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[We.length>0&&t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Receita por Plataforma"}),t.jsx(Se,{width:"100%",height:300,children:t.jsxs(La,{children:[t.jsx(Oa,{data:We,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:l,value:f})=>`${l}: R$ ${f.toLocaleString("pt-BR")}`,children:We.map((l,f)=>t.jsx(Tt,{fill:l.color},`cell-${f}`))}),t.jsx(Me,{formatter:l=>[`R$ ${l.toLocaleString("pt-BR")}`,"Receita"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})]}),mt.length>0&&t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),t.jsx(Se,{width:"100%",height:300,children:t.jsxs(Rt,{data:mt,children:[t.jsx(Ee,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Be,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),t.jsx($e,{stroke:"hsl(var(--muted-foreground))"}),t.jsx(Me,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),t.jsx(Wt,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(ht,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Atividade por Horário"})]}),t.jsx("div",{className:"space-y-3",children:(()=>{const l=W.reduce((h,_)=>{const P=new Date(_.createdAt?.toDate?.()||_.createdAt).getHours();return h[P]||(h[P]={transactions:0,amount:0}),h[P].transactions++,h[P].amount+=Number(_.amount||0),h},{}),f=Object.entries(l).sort(([,h],[,_])=>_.transactions-h.transactions).slice(0,3);return f.length>0?f.map(([h,_])=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",children:[h,":00h"]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.transactions," transação(ões)"]})]}),t.jsxs("p",{className:"font-bold text-primary",children:["R$ ",_.amount.toLocaleString("pt-BR")]})]},h)):t.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Nenhuma transação registrada hoje"})})()})]}),t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(de,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Estatísticas Rápidas"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-success/10 rounded-lg border border-success/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Ticket Médio"}),t.jsxs("p",{className:"text-lg font-bold text-success",children:["R$ ",Q>0?(ae/Q).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})]}),t.jsx(De,{className:"h-8 w-8 text-success/60"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/10 rounded-lg border border-primary/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Maior Transação"}),t.jsxs("p",{className:"text-lg font-bold text-primary",children:["R$ ",W.length>0?Math.max(...W.map(l=>Number(l.amount||0))).toLocaleString("pt-BR"):"0,00"]})]}),t.jsx(Fe,{className:"h-8 w-8 text-primary/60"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionários Ativos"}),t.jsx("p",{className:"text-lg font-bold",children:H.filter(l=>l.status==="active").length})]}),t.jsx(Ae,{className:"h-8 w-8 text-muted-foreground/60"})]})]})]}),t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(vt,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Ações do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-warning/10 rounded-lg border border-warning/20",children:[t.jsx("p",{className:"text-sm font-medium text-warning",children:"Fechamento do Dia"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q>0?`Você tem ${Q} transação(ões) para fechar`:"Nenhuma transação registrada hoje"})]}),t.jsxs("div",{className:"p-3 bg-info/10 rounded-lg border border-info/20",children:[t.jsx("p",{className:"text-sm font-medium text-info",children:"Meta Diária"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g>=1e3?"✅ Meta de R$ 1.000 atingida!":`Faltam R$ ${(1e3-g).toLocaleString("pt-BR")} para a meta`})]}),t.jsxs("div",{className:"p-3 bg-success/10 rounded-lg border border-success/20",children:[t.jsx("p",{className:"text-sm font-medium text-success",children:"Status do Dia"}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g>0?`✅ Dia lucrativo: +R$ ${g.toLocaleString("pt-BR")}`:g<0?`⚠️ Prejuízo: R$ ${g.toLocaleString("pt-BR")}`:"📊 Dia neutro: R$ 0,00"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Evolução do Saldo ao Longo do Dia"}),W.length>0?t.jsx(Se,{width:"100%",height:300,children:t.jsxs(Fa,{data:(()=>{const l=[...W].sort((h,_)=>{const P=new Date(h.createdAt?.toDate?.()||h.createdAt),D=new Date(_.createdAt?.toDate?.()||_.createdAt);return P.getTime()-D.getTime()});let f=0;return l.map((h,_)=>{const P=Number(h.amount||0),D=h.type==="withdraw"?P:-P;f+=D;const k=new Date(h.createdAt?.toDate?.()||h.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),ee=H.find(E=>E.id===h.employeeId),I=q.find(E=>E.id===h.platformId);return{time:k,saldo:f,transacao:D,tipo:h.type==="withdraw"?"Saque":"Depósito",funcionario:ee?.name||"N/A",plataforma:I?.name||"N/A",valor:P,index:_+1}})})(),children:[t.jsx(Ee,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Be,{dataKey:"time",stroke:"hsl(var(--muted-foreground))",fontSize:11}),t.jsx($e,{stroke:"hsl(var(--muted-foreground))",tickFormatter:l=>`R$ ${l.toLocaleString("pt-BR")}`,fontSize:11}),t.jsx(Me,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:(l,f,h)=>f==="saldo"?[`R$ ${l.toLocaleString("pt-BR")}`,"Saldo Acumulado"]:[`R$ ${l.toLocaleString("pt-BR")}`,"Valor da Transação"],labelFormatter:(l,f)=>{if(f&&f[0]){const h=f[0].payload;return`${h.tipo} - ${h.funcionario} (${h.plataforma})`}return l}}),t.jsx(Aa,{type:"monotone",dataKey:"saldo",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(var(--primary))",strokeWidth:2}}),t.jsx(Ia,{y:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"5 5"})]})}):t.jsx("div",{className:"flex items-center justify-center h-[300px]",children:t.jsxs("div",{className:"text-center text-muted-foreground",children:[t.jsx(De,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma transação registrada hoje"}),t.jsx("p",{className:"text-sm",children:"Os dados aparecerão aqui quando você registrar transações"})]})})]}),t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Plataforma"}),q.length>0&&q.some(l=>W.some(f=>f.platformId===l.id))?t.jsx(Se,{width:"100%",height:300,children:t.jsxs(Rt,{data:q.map(l=>{const f=W.filter(D=>D.platformId===l.id),h=f.filter(D=>D.type==="deposit").reduce((D,y)=>D+Number(y.amount||0),0),_=f.filter(D=>D.type==="withdraw").reduce((D,y)=>D+Number(y.amount||0),0),P=_-h;return{name:l.name.length>8?l.name.substring(0,8)+"...":l.name,lucro:P,depositos:h,saques:_,transacoes:f.length,color:l.color,barColor:P>=0?"hsl(var(--success))":"hsl(var(--destructive))"}}).filter(l=>l.transacoes>0),children:[t.jsx(Ee,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(Be,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:11,angle:-45,textAnchor:"end",height:60}),t.jsx($e,{stroke:"hsl(var(--muted-foreground))",tickFormatter:l=>`R$ ${l.toLocaleString("pt-BR")}`,fontSize:11}),t.jsx(Me,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:(l,f,h)=>(h.payload,f==="lucro"?[`R$ ${l.toLocaleString("pt-BR")}`,"Lucro/Prejuízo"]:[`R$ ${l.toLocaleString("pt-BR")}`,f==="depositos"?"Depósitos":"Saques"]),labelFormatter:(l,f)=>{if(f&&f[0]){const h=f[0].payload;return`${h.name} (${h.transacoes} transações)`}return l}}),t.jsx(Wt,{dataKey:"lucro",radius:[4,4,0,0],children:q.filter(l=>W.some(f=>f.platformId===l.id)).map((l,f)=>{const h=W.filter(k=>k.platformId===l.id),_=h.filter(k=>k.type==="deposit").reduce((k,ee)=>k+Number(ee.amount||0),0),y=h.filter(k=>k.type==="withdraw").reduce((k,ee)=>k+Number(ee.amount||0),0)-_>=0?"hsl(var(--success))":"hsl(var(--destructive))";return t.jsx(Tt,{fill:y},`cell-${f}`)})})]})}):t.jsx("div",{className:"flex items-center justify-center h-[300px]",children:t.jsxs("div",{className:"text-center text-muted-foreground",children:[t.jsx(de,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma plataforma com transações hoje"}),t.jsx("p",{className:"text-sm",children:"Os dados aparecerão aqui quando você registrar transações"})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Plataforma"}),q.length>0?t.jsx("div",{className:"space-y-4",children:q.map(l=>{const f=W.filter(D=>D.platformId===l.id),h=f.filter(D=>D.type==="deposit").reduce((D,y)=>D+Number(y.amount||0),0),_=f.filter(D=>D.type==="withdraw").reduce((D,y)=>D+Number(y.amount||0),0),P=_-h;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:l.color}}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:l.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.length," transação(ões)"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`font-bold ${P>=0?"text-success":"text-destructive"}`,children:["R$ ",P.toLocaleString("pt-BR")]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[_>0&&`R$ ${_.toLocaleString("pt-BR")} saques`,h>0&&_>0&&" • ",h>0&&`R$ ${h.toLocaleString("pt-BR")} depósitos`]})]})]},l.id)})}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(de,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhuma plataforma configurada"})]})]}),t.jsxs(F,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),H.length>0?t.jsxs("div",{className:"space-y-4",children:[H.map(l=>{const f=W.filter(D=>D.employeeId===l.id),h=f.filter(D=>D.type==="deposit").reduce((D,y)=>D+Number(y.amount||0),0),_=f.filter(D=>D.type==="withdraw").reduce((D,y)=>D+Number(y.amount||0),0),P=_-h;return f.length===0?null:t.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:l.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.length," transação(ões)"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`font-bold ${P>=0?"text-success":"text-destructive"}`,children:["R$ ",P.toLocaleString("pt-BR")]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[_>0&&`R$ ${_.toLocaleString("pt-BR")} saques`,h>0&&_>0&&" • ",h>0&&`R$ ${h.toLocaleString("pt-BR")} depósitos`]})]})]},l.id)}).filter(Boolean),H.filter(l=>W.some(f=>f.employeeId===l.id)).length===0&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(de,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhum funcionário com transações hoje"})]})]}):t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(de,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhum funcionário cadastrado"})]})]})]}),t.jsxs(F,{className:"shadow-card overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("h3",{className:"text-lg font-semibold",children:["Transações do Dia",(x||C||Y)&&t.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",ie.length," transação(ões) encontrada(s))"]})]})}),t.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Plataforma:"}),t.jsxs(Mt,{value:C||"all",onValueChange:l=>J(l==="all"?"":l),children:[t.jsx(Ct,{className:"w-[160px]",children:t.jsx(kt,{placeholder:"Todas"})}),t.jsxs(Pt,{children:[t.jsx(_e,{value:"all",children:"Todas as plataformas"}),q.map(l=>t.jsx(_e,{value:l.id,children:l.name},l.id))]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Funcionário:"}),t.jsxs(Mt,{value:Y||"all",onValueChange:l=>se(l==="all"?"":l),children:[t.jsx(Ct,{className:"w-[160px]",children:t.jsx(kt,{placeholder:"Todos"})}),t.jsxs(Pt,{children:[t.jsx(_e,{value:"all",children:"Todos os funcionários"}),H.map(l=>t.jsx(_e,{value:l.id,children:l.name},l.id))]})]})]}),(x||C||Y)&&t.jsx(te,{variant:"outline",size:"sm",onClick:()=>{R(""),J(""),se(""),a("/resumo-dia")},children:"Limpar Filtros"})]})]}),t.jsxs("div",{className:"space-y-4 mt-4",children:[(x||C||Y)&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[t.jsx(Oe,{className:"h-4 w-4 text-primary"}),t.jsx("span",{className:"text-sm text-primary font-medium",children:"Filtros ativos:"}),t.jsxs("div",{className:"flex gap-2",children:[x&&t.jsxs(K,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:[x==="deposits"&&"Depósitos",x==="withdraws"&&"Saques",x==="profit"&&"Lucro"]}),C&&t.jsxs(K,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Plataforma: ",q.find(l=>l.id===C)?.name||"N/A"]}),Y&&t.jsxs(K,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Funcionário: ",H.find(l=>l.id===Y)?.name||"N/A"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(te,{variant:x===""?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia"),className:"gap-2",children:[t.jsx(Oe,{className:"h-3 w-3"}),"Todas",t.jsx(K,{variant:"secondary",className:"ml-1",children:W.length})]}),t.jsxs(te,{variant:x==="deposits"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=deposits"),className:"gap-2",children:[t.jsx(pt,{className:"h-3 w-3"}),"Depósitos",t.jsx(K,{variant:"secondary",className:"ml-1",children:fe.length})]}),t.jsxs(te,{variant:x==="withdraws"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=withdraws"),className:"gap-2",children:[t.jsx(Fe,{className:"h-3 w-3"}),"Saques",t.jsx(K,{variant:"secondary",className:"ml-1",children:ta.length})]}),t.jsxs(te,{variant:x==="profit"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=profit"),className:"gap-2",children:[t.jsx(De,{className:"h-3 w-3"}),"Lucro",t.jsx(K,{variant:"secondary",className:"ml-1",children:W.length})]})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-muted/50",children:[t.jsx("th",{className:"text-left p-4 font-semibold",children:"Funcionário"}),t.jsx("th",{className:"text-left p-4 font-semibold",children:"Plataforma"}),t.jsx("th",{className:"text-center p-4 font-semibold",children:"Tipo"}),t.jsx("th",{className:"text-right p-4 font-semibold",children:"Valor"}),t.jsx("th",{className:"text-center p-4 font-semibold",children:"Horário"})]})}),t.jsxs("tbody",{children:[ie.map(l=>{const f=H.find(_=>_.id===l.employeeId),h=q.find(_=>_.id===l.platformId);return t.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[t.jsx("td",{className:"p-4 font-medium",children:f?.name||"N/A"}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[h&&t.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:h.color}}),l.description||h?.name||"N/A"]})}),t.jsx("td",{className:"p-4 text-center",children:t.jsx(K,{variant:l.type==="withdraw"?"default":"destructive",style:{backgroundColor:l.description&&l.description.startsWith("Surebet")?"#86efac":void 0},children:l.description&&l.description.startsWith("FreeBet")?l.description.split(" ")[0]:l.description&&l.description.startsWith("Surebet")?"Surebet":l.type==="deposit"?"Depósito":"Saque"})}),t.jsxs("td",{className:`p-4 text-right font-semibold ${_t(l)?"text-success":"text-destructive"}`,children:[_t(l)?"+":"-","R$ ",Number(l.amount||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("td",{className:"p-4 text-center text-sm text-muted-foreground",children:new Date(l.createdAt?.toDate?.()||l.createdAt).toLocaleTimeString("pt-BR")})]},l.id)}),ie.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:x?t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"Nenhuma transação encontrada para o filtro selecionado."}),t.jsx(te,{variant:"outline",size:"sm",onClick:()=>a("/resumo-dia"),children:"Ver todas as transações"})]}):"Nenhuma transação registrada para este dia."})})]})]})})]})]})})};export{js as default};
