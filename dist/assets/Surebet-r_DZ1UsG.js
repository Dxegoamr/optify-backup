const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/surebet.service-CC8W08RU.js","assets/user-subcollections.service-B4HigrO8.js","assets/firebase-vendor-BUxvNq0f.js","assets/index-LiAbW-2G.js","assets/ui-vendor-CYAqJ0RG.js","assets/react-vendor-a_rYd-gI.js","assets/chart-vendor-ctXMAO2v.js","assets/index-RBW8IlQ1.css","assets/user-specific.service-C1DLMu9g.js"])))=>i.map(i=>d[i]);
import{j as a,w as qe,n as Be,ad as ce,ak as Se,m as Ce,al as He}from"./ui-vendor-CYAqJ0RG.js";import{B as ze,P as Ue,O as Ge,C as Qe,b as We,D as Je}from"./DashboardLayout-B3XyjcMy.js";import{P as H,G as oe,g as q,h as Xe,C as fe,B as Q,_ as Z,j as Ye}from"./index-LiAbW-2G.js";import{r as o,u as Ze}from"./react-vendor-a_rYd-gI.js";import{I as ie}from"./input-J7GhaNSr.js";import{P as Ee,a as Ie,b as De}from"./popover-Bfv3a0cb.js";import{u as re}from"./index-DMSHDzho.js";import"./dialog-DkFBrAVQ.js";import"./user-specific.service-C1DLMu9g.js";import"./user-subcollections.service-B4HigrO8.js";import"./firebase-vendor-BUxvNq0f.js";import"./user-notifications.service-CAzP-qxP.js";import"./chart-vendor-ctXMAO2v.js";var _e=1,et=.9,tt=.8,rt=.17,ue=.1,me=.999,at=.9999,nt=.99,ot=/[\\\/_+.#"@\[\(\{&]/,st=/[\\\/_+.#"@\[\(\{&]/g,lt=/[\s-]/,Oe=/[\s-]/g;function he(e,n,t,v,u,p,s){if(p===n.length)return u===e.length?_e:nt;var h=`${u},${p}`;if(s[h]!==void 0)return s[h];for(var m=v.charAt(p),d=t.indexOf(m,u),l=0,y,_,E,F;d>=0;)y=he(e,n,t,v,d+1,p+1,s),y>l&&(d===u?y*=_e:ot.test(e.charAt(d-1))?(y*=tt,E=e.slice(u,d-1).match(st),E&&u>0&&(y*=Math.pow(me,E.length))):lt.test(e.charAt(d-1))?(y*=et,F=e.slice(u,d-1).match(Oe),F&&u>0&&(y*=Math.pow(me,F.length))):(y*=rt,u>0&&(y*=Math.pow(me,d-u))),e.charAt(d)!==n.charAt(p)&&(y*=at)),(y<ue&&t.charAt(d-1)===v.charAt(p+1)||v.charAt(p+1)===v.charAt(p)&&t.charAt(d-1)!==v.charAt(p))&&(_=he(e,n,t,v,d+1,p+2,s),_*ue>y&&(y=_*ue)),y>l&&(l=y),d=t.indexOf(m,d+1);return s[h]=l,l}function Re(e){return e.toLowerCase().replace(Oe," ")}function it(e,n,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,he(e,n,Re(e),Re(n),0,0,{})}var ne='[cmdk-group=""]',pe='[cmdk-group-items=""]',dt='[cmdk-group-heading=""]',$e='[cmdk-item=""]',Pe=`${$e}:not([aria-disabled="true"])`,ve="cmdk-item-select",ee="data-value",ct=(e,n,t)=>it(e,n,t),Me=o.createContext(void 0),se=()=>o.useContext(Me),Fe=o.createContext(void 0),Ne=()=>o.useContext(Fe),Le=o.createContext(void 0),Te=o.forwardRef((e,n)=>{let t=te(()=>{var r,f;return{search:"",value:(f=(r=e.value)!=null?r:e.defaultValue)!=null?f:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),v=te(()=>new Set),u=te(()=>new Map),p=te(()=>new Map),s=te(()=>new Set),h=Ve(e),{label:m,children:d,value:l,onValueChange:y,filter:_,shouldFilter:E,loop:F,disablePointerSelection:z=!1,vimBindings:L=!0,...U}=e,J=re(),ae=re(),X=re(),T=o.useRef(null),k=wt();W(()=>{if(l!==void 0){let r=l.trim();t.current.value=r,I.emit()}},[l]),W(()=>{k(6,$)},[]);let I=o.useMemo(()=>({subscribe:r=>(s.current.add(r),()=>s.current.delete(r)),snapshot:()=>t.current,setState:(r,f,g)=>{var c,b,S,A;if(!Object.is(t.current[r],f)){if(t.current[r]=f,r==="search")C(),j(),k(1,w);else if(r==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let D=document.getElementById(X);D?D.focus():(c=document.getElementById(J))==null||c.focus()}if(k(7,()=>{var D;t.current.selectedItemId=(D=O())==null?void 0:D.id,I.emit()}),g||k(5,$),((b=h.current)==null?void 0:b.value)!==void 0){let D=f??"";(A=(S=h.current).onValueChange)==null||A.call(S,D);return}}I.emit()}},emit:()=>{s.current.forEach(r=>r())}}),[]),i=o.useMemo(()=>({value:(r,f,g)=>{var c;f!==((c=p.current.get(r))==null?void 0:c.value)&&(p.current.set(r,{value:f,keywords:g}),t.current.filtered.items.set(r,x(f,g)),k(2,()=>{j(),I.emit()}))},item:(r,f)=>(v.current.add(r),f&&(u.current.has(f)?u.current.get(f).add(r):u.current.set(f,new Set([r]))),k(3,()=>{C(),j(),t.current.value||w(),I.emit()}),()=>{p.current.delete(r),v.current.delete(r),t.current.filtered.items.delete(r);let g=O();k(4,()=>{C(),g?.getAttribute("id")===r&&w(),I.emit()})}),group:r=>(u.current.has(r)||u.current.set(r,new Set),()=>{p.current.delete(r),u.current.delete(r)}),filter:()=>h.current.shouldFilter,label:m||e["aria-label"],getDisablePointerSelection:()=>h.current.disablePointerSelection,listId:J,inputId:X,labelId:ae,listInnerRef:T}),[]);function x(r,f){var g,c;let b=(c=(g=h.current)==null?void 0:g.filter)!=null?c:ct;return r?b(r,t.current.search,f):0}function j(){if(!t.current.search||h.current.shouldFilter===!1)return;let r=t.current.filtered.items,f=[];t.current.filtered.groups.forEach(c=>{let b=u.current.get(c),S=0;b.forEach(A=>{let D=r.get(A);S=Math.max(D,S)}),f.push([c,S])});let g=T.current;M().sort((c,b)=>{var S,A;let D=c.getAttribute("id"),le=b.getAttribute("id");return((S=r.get(le))!=null?S:0)-((A=r.get(D))!=null?A:0)}).forEach(c=>{let b=c.closest(pe);b?b.appendChild(c.parentElement===b?c:c.closest(`${pe} > *`)):g.appendChild(c.parentElement===g?c:c.closest(`${pe} > *`))}),f.sort((c,b)=>b[1]-c[1]).forEach(c=>{var b;let S=(b=T.current)==null?void 0:b.querySelector(`${ne}[${ee}="${encodeURIComponent(c[0])}"]`);S?.parentElement.appendChild(S)})}function w(){let r=M().find(g=>g.getAttribute("aria-disabled")!=="true"),f=r?.getAttribute(ee);I.setState("value",f||void 0)}function C(){var r,f,g,c;if(!t.current.search||h.current.shouldFilter===!1){t.current.filtered.count=v.current.size;return}t.current.filtered.groups=new Set;let b=0;for(let S of v.current){let A=(f=(r=p.current.get(S))==null?void 0:r.value)!=null?f:"",D=(c=(g=p.current.get(S))==null?void 0:g.keywords)!=null?c:[],le=x(A,D);t.current.filtered.items.set(S,le),le>0&&b++}for(let[S,A]of u.current)for(let D of A)if(t.current.filtered.items.get(D)>0){t.current.filtered.groups.add(S);break}t.current.filtered.count=b}function $(){var r,f,g;let c=O();c&&(((r=c.parentElement)==null?void 0:r.firstChild)===c&&((g=(f=c.closest(ne))==null?void 0:f.querySelector(dt))==null||g.scrollIntoView({block:"nearest"})),c.scrollIntoView({block:"nearest"}))}function O(){var r;return(r=T.current)==null?void 0:r.querySelector(`${$e}[aria-selected="true"]`)}function M(){var r;return Array.from(((r=T.current)==null?void 0:r.querySelectorAll(Pe))||[])}function K(r){let f=M()[r];f&&I.setState("value",f.getAttribute(ee))}function R(r){var f;let g=O(),c=M(),b=c.findIndex(A=>A===g),S=c[b+r];(f=h.current)!=null&&f.loop&&(S=b+r<0?c[c.length-1]:b+r===c.length?c[0]:c[b+r]),S&&I.setState("value",S.getAttribute(ee))}function V(r){let f=O(),g=f?.closest(ne),c;for(;g&&!c;)g=r>0?bt(g,ne):yt(g,ne),c=g?.querySelector(Pe);c?I.setState("value",c.getAttribute(ee)):R(r)}let G=()=>K(M().length-1),Y=r=>{r.preventDefault(),r.metaKey?G():r.altKey?V(1):R(1)},N=r=>{r.preventDefault(),r.metaKey?K(0):r.altKey?V(-1):R(-1)};return o.createElement(H.div,{ref:n,tabIndex:-1,...U,"cmdk-root":"",onKeyDown:r=>{var f;(f=U.onKeyDown)==null||f.call(U,r);let g=r.nativeEvent.isComposing||r.keyCode===229;if(!(r.defaultPrevented||g))switch(r.key){case"n":case"j":{L&&r.ctrlKey&&Y(r);break}case"ArrowDown":{Y(r);break}case"p":case"k":{L&&r.ctrlKey&&N(r);break}case"ArrowUp":{N(r);break}case"Home":{r.preventDefault(),K(0);break}case"End":{r.preventDefault(),G();break}case"Enter":{r.preventDefault();let c=O();if(c){let b=new Event(ve);c.dispatchEvent(b)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:i.inputId,id:i.labelId,style:jt},m),de(e,r=>o.createElement(Fe.Provider,{value:I},o.createElement(Me.Provider,{value:i},r))))}),ut=o.forwardRef((e,n)=>{var t,v;let u=re(),p=o.useRef(null),s=o.useContext(Le),h=se(),m=Ve(e),d=(v=(t=m.current)==null?void 0:t.forceMount)!=null?v:s?.forceMount;W(()=>{if(!d)return h.item(u,s?.id)},[d]);let l=Ke(u,p,[e.value,e.children,p],e.keywords),y=Ne(),_=B(k=>k.value&&k.value===l.current),E=B(k=>d||h.filter()===!1?!0:k.search?k.filtered.items.get(u)>0:!0);o.useEffect(()=>{let k=p.current;if(!(!k||e.disabled))return k.addEventListener(ve,F),()=>k.removeEventListener(ve,F)},[E,e.onSelect,e.disabled]);function F(){var k,I;z(),(I=(k=m.current).onSelect)==null||I.call(k,l.current)}function z(){y.setState("value",l.current,!0)}if(!E)return null;let{disabled:L,value:U,onSelect:J,forceMount:ae,keywords:X,...T}=e;return o.createElement(H.div,{ref:oe(p,n),...T,id:u,"cmdk-item":"",role:"option","aria-disabled":!!L,"aria-selected":!!_,"data-disabled":!!L,"data-selected":!!_,onPointerMove:L||h.getDisablePointerSelection()?void 0:z,onClick:L?void 0:F},e.children)}),mt=o.forwardRef((e,n)=>{let{heading:t,children:v,forceMount:u,...p}=e,s=re(),h=o.useRef(null),m=o.useRef(null),d=re(),l=se(),y=B(E=>u||l.filter()===!1?!0:E.search?E.filtered.groups.has(s):!0);W(()=>l.group(s),[]),Ke(s,h,[e.value,e.heading,m]);let _=o.useMemo(()=>({id:s,forceMount:u}),[u]);return o.createElement(H.div,{ref:oe(h,n),...p,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},t&&o.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:d},t),de(e,E=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?d:void 0},o.createElement(Le.Provider,{value:_},E))))}),pt=o.forwardRef((e,n)=>{let{alwaysRender:t,...v}=e,u=o.useRef(null),p=B(s=>!s.search);return!t&&!p?null:o.createElement(H.div,{ref:oe(u,n),...v,"cmdk-separator":"",role:"separator"})}),ft=o.forwardRef((e,n)=>{let{onValueChange:t,...v}=e,u=e.value!=null,p=Ne(),s=B(d=>d.search),h=B(d=>d.selectedItemId),m=se();return o.useEffect(()=>{e.value!=null&&p.setState("search",e.value)},[e.value]),o.createElement(H.input,{ref:n,...v,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":h,id:m.inputId,type:"text",value:u?e.value:s,onChange:d=>{u||p.setState("search",d.target.value),t?.(d.target.value)}})}),ht=o.forwardRef((e,n)=>{let{children:t,label:v="Suggestions",...u}=e,p=o.useRef(null),s=o.useRef(null),h=B(d=>d.selectedItemId),m=se();return o.useEffect(()=>{if(s.current&&p.current){let d=s.current,l=p.current,y,_=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let E=d.offsetHeight;l.style.setProperty("--cmdk-list-height",E.toFixed(1)+"px")})});return _.observe(d),()=>{cancelAnimationFrame(y),_.unobserve(d)}}},[]),o.createElement(H.div,{ref:oe(p,n),...u,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":h,"aria-label":v,id:m.listId},de(e,d=>o.createElement("div",{ref:oe(s,m.listInnerRef),"cmdk-list-sizer":""},d)))}),vt=o.forwardRef((e,n)=>{let{open:t,onOpenChange:v,overlayClassName:u,contentClassName:p,container:s,...h}=e;return o.createElement(ze,{open:t,onOpenChange:v},o.createElement(Ue,{container:s},o.createElement(Ge,{"cmdk-overlay":"",className:u}),o.createElement(Qe,{"aria-label":e.label,"cmdk-dialog":"",className:p},o.createElement(Te,{ref:n,...h}))))}),gt=o.forwardRef((e,n)=>B(t=>t.filtered.count===0)?o.createElement(H.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),xt=o.forwardRef((e,n)=>{let{progress:t,children:v,label:u="Loading...",...p}=e;return o.createElement(H.div,{ref:n,...p,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":u},de(e,s=>o.createElement("div",{"aria-hidden":!0},s)))}),P=Object.assign(Te,{List:ht,Item:ut,Input:ft,Group:mt,Separator:pt,Dialog:vt,Empty:gt,Loading:xt});function bt(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function yt(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function Ve(e){let n=o.useRef(e);return W(()=>{n.current=e}),n}var W=typeof window>"u"?o.useEffect:o.useLayoutEffect;function te(e){let n=o.useRef();return n.current===void 0&&(n.current=e()),n}function B(e){let n=Ne(),t=()=>e(n.snapshot());return o.useSyncExternalStore(n.subscribe,t,t)}function Ke(e,n,t,v=[]){let u=o.useRef(),p=se();return W(()=>{var s;let h=(()=>{var d;for(let l of t){if(typeof l=="string")return l.trim();if(typeof l=="object"&&"current"in l)return l.current?(d=l.current.textContent)==null?void 0:d.trim():u.current}})(),m=v.map(d=>d.trim());p.value(e,h,m),(s=n.current)==null||s.setAttribute(ee,h),u.current=h}),u}var wt=()=>{let[e,n]=o.useState(),t=te(()=>new Map);return W(()=>{t.current.forEach(v=>v()),t.current=new Map},[e]),(v,u)=>{t.current.set(v,u),n({})}};function kt(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function de({asChild:e,children:n},t){return e&&o.isValidElement(n)?o.cloneElement(kt(n),{ref:n.ref},t(n.props.children)):t(n)}var jt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ge=o.forwardRef(({className:e,...n},t)=>a.jsx(P,{ref:t,className:q("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));ge.displayName=P.displayName;const xe=o.forwardRef(({className:e,...n},t)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(qe,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(P.Input,{ref:t,className:q("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));xe.displayName=P.Input.displayName;const be=o.forwardRef(({className:e,...n},t)=>a.jsx(P.List,{ref:t,className:q("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));be.displayName=P.List.displayName;const ye=o.forwardRef((e,n)=>a.jsx(P.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));ye.displayName=P.Empty.displayName;const we=o.forwardRef(({className:e,...n},t)=>a.jsx(P.Group,{ref:t,className:q("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));we.displayName=P.Group.displayName;const Nt=o.forwardRef(({className:e,...n},t)=>a.jsx(P.Separator,{ref:t,className:q("-mx-1 h-px bg-border",e),...n}));Nt.displayName=P.Separator.displayName;const ke=o.forwardRef(({className:e,...n},t)=>a.jsx(P.Item,{ref:t,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...n}));ke.displayName=P.Item.displayName;const St=e=>e.replace(/\D/g,""),je=e=>{if(!e)return"";if(e.length<=2)return e;const n=e.slice(0,e.length-2),t=e.slice(-2);return`${n}.${t}`},Ae=e=>{if(!e)return 0;const n=je(e);return parseFloat(n)||0},Ct=({onCalculate:e,onSpreadsheet:n})=>{const{user:t}=Xe(),{data:v=[]}=We(t?.uid||""),u=Be(),p=o.useMemo(()=>v.filter(i=>i.isActive!==!1),[v]),[s,h]=o.useState({name:"",color:"#808080",odd:0,oddDigits:"",stake:0,profit:0}),[m,d]=o.useState({name:"",color:"#808080",odd:0,oddDigits:"",stake:0,profit:0});o.useEffect(()=>{const i=Ae(s.oddDigits);h(x=>({...x,odd:i}))},[s.oddDigits]),o.useEffect(()=>{const i=Ae(m.oddDigits);d(x=>({...x,odd:i}))},[m.oddDigits]);const l=o.useMemo(()=>{const i=s.odd||0,x=m.odd||0,j=s.stake||0,w=m.stake||0,C=j+w;if(i<=0||x<=0||C<=0)return{profit1:0,profit2:0,totalInvested:0,totalProfit:0,margin:0,returnAmount:0};const $=1/i+1/x,O=C/$*(1/i),M=C/$*(1/x),K=O*i,R=M*x,V=Math.min(K,R),G=V-C,Y=C>0?G/C*100:0,N=V-C,r=V-C;return{profit1:N,profit2:r,totalInvested:C,totalProfit:G,margin:Y,returnAmount:V,idealStake1:O,idealStake2:M}},[s.odd,s.stake,m.odd,m.stake]);o.useEffect(()=>{const i=l.totalProfit;h(x=>({...x,profit:i})),d(x=>({...x,profit:i}))},[l.totalProfit]),o.useEffect(()=>{if(e){const i={house1:{name:s.name,color:s.color,odd:s.odd,stake:s.stake,profit:l.profit1},house2:{name:m.name,color:m.color,odd:m.odd,stake:m.stake,profit:l.profit2},total:l.totalInvested,margin:l.margin,isSurebet:l.margin>0};e(i)}},[s,m,l,e]);const y=(i,x)=>{const j=St(x);i==="house1"?h(w=>({...w,oddDigits:j})):d(w=>({...w,oddDigits:j}))},[_,E]=o.useState(""),[F,z]=o.useState(""),[L,U]=o.useState(!1),[J,ae]=o.useState(!1),X=(i,x)=>{let j=x.replace(/[^\d.,]/g,"");j=j.replace(",",".");const w=j.split(".");w.length>2&&(j=w[0]+"."+w.slice(1).join(""));const C=parseFloat(j)||0;i==="house1"?(E(x),h($=>({...$,stake:C}))):(z(x),d($=>({...$,stake:C})))},T=(i,x)=>{const j=p.find(w=>w.id===x);j&&(i==="house1"?h(w=>({...w,name:j.name,color:j.color||"#808080"})):d(w=>({...w,name:j.name,color:j.color||"#808080"})))},k=i=>{i==="house1"?(h({name:"",color:"#808080",odd:0,oddDigits:"",stake:0,profit:0}),E("")):i==="house2"?(d({name:"",color:"#808080",odd:0,oddDigits:"",stake:0,profit:0}),z("")):(h({name:"",color:"#808080",odd:0,oddDigits:"",stake:0,profit:0}),d({name:"",color:"#808080",odd:0,oddDigits:"",stake:0,profit:0}),E(""),z(""))},I=async()=>{if(n&&l.margin>0&&t?.uid){const i={house1:{name:s.name,color:s.color,odd:s.odd,stake:s.stake,profit:l.profit1},house2:{name:m.name,color:m.color,odd:m.odd,stake:m.stake,profit:l.profit2},total:l.totalInvested,margin:l.margin,isSurebet:!0};try{const{SurebetService:x}=await Z(async()=>{const{SurebetService:N}=await import("./surebet.service-CC8W08RU.js");return{SurebetService:N}},__vite__mapDeps([0,1,2,3,4,5,6,7])),{UserTransactionService:j}=await Z(async()=>{const{UserTransactionService:N}=await import("./user-specific.service-C1DLMu9g.js").then(r=>r.u);return{UserTransactionService:N}},__vite__mapDeps([8,1,2,3,4,5,6,7])),{UserDailySummaryService:w}=await Z(async()=>{const{UserDailySummaryService:N}=await import("./user-specific.service-C1DLMu9g.js").then(r=>r.u);return{UserDailySummaryService:N}},__vite__mapDeps([8,1,2,3,4,5,6,7])),{getCurrentDateStringInSaoPaulo:C}=await Z(async()=>{const{getCurrentDateStringInSaoPaulo:N}=await import("./index-LiAbW-2G.js").then(r=>r.O);return{getCurrentDateStringInSaoPaulo:N}},__vite__mapDeps([3,4,5,6,2,7])),{toast:$}=await Z(async()=>{const{toast:N}=await import("./ui-vendor-CYAqJ0RG.js").then(r=>r.aw);return{toast:N}},__vite__mapDeps([4,5])),O=`op-${Date.now()}`,M=new Date,K=C(),R=l.totalProfit;let V;if(R>0){V=await j.createTransaction(t.uid,{employeeId:"",platformId:"",type:"deposit",amount:R,description:`Surebet - ${s.name} vs ${m.name}`,date:K});const N=await w.getDailySummaryByDate(t.uid,K);N?await w.updateDailySummary(t.uid,N.id,{totalDeposits:(N.totalDeposits||0)+R,profit:(N.profit||N.margin||0)+R,margin:(N.margin||N.profit||0)+R,transactionCount:(N.transactionCount||0)+1,updatedAt:new Date}):await w.createDailySummary(t.uid,{date:K,totalDeposits:R,totalWithdraws:0,profit:R,margin:R,transactionCount:1,transactionsSnapshot:[],byEmployee:[],createdAt:new Date,updatedAt:new Date})}const G={userId:t.uid,operationId:O,transactionId:V||null,registrationDate:M,house:s.name,odd:s.odd,stake:s.stake,profit:l.profit1,evPercent:l.margin,total:l.totalInvested,sport:"",market:"",event:""},Y={userId:t.uid,operationId:O,registrationDate:M,house:m.name,odd:m.odd,stake:m.stake,profit:l.profit2,evPercent:l.margin,total:l.totalInvested,sport:"",market:"",event:""};await x.createRecord(t.uid,G),await x.createRecord(t.uid,Y),u.invalidateQueries({queryKey:["surebet-records",t.uid]}),u.invalidateQueries({queryKey:["transactions",t.uid]}),u.invalidateQueries({queryKey:["daily-summaries",t.uid]}),$.success("Operação adicionada à planilha!"),n(i)}catch(x){console.error("Erro ao criar registros e transação:",x);const{toast:j}=await Z(async()=>{const{toast:w}=await import("./ui-vendor-CYAqJ0RG.js").then(C=>C.aw);return{toast:w}},__vite__mapDeps([4,5]));j.error("Erro ao adicionar operação à planilha")}}};return p.length===0?a.jsx(fe,{className:"p-4 text-center text-muted-foreground",children:'Nenhuma casa de aposta disponível. Crie casas de aposta na aba "Saldos" para usar a calculadora.'}):a.jsxs(fe,{className:"p-6 bg-gradient-to-br from-background via-background/95 to-background/90 border-border/40 shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary/5 pointer-events-none opacity-50"}),a.jsx("div",{className:"absolute -bottom-28 -left-20 h-64 w-64 rounded-full bg-primary/10 blur-3xl pointer-events-none"}),a.jsx("div",{className:"absolute top-0 right-1/4 h-56 w-56 rounded-full bg-primary/15 blur-3xl pointer-events-none"}),a.jsxs("div",{className:"space-y-4 relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-[auto_1fr_1fr_1fr_1fr] gap-4 items-center text-sm font-semibold text-muted-foreground border-b border-border/50 pb-3",children:[a.jsx("div",{className:"w-8"})," ",a.jsx("div",{className:"text-left",children:"Casa:"}),a.jsx("div",{className:"text-center",children:"Odd:"}),a.jsx("div",{className:"text-center",children:"Stake:"}),a.jsx("div",{className:"text-right",children:"Lucro:"})]}),a.jsxs("div",{className:"grid grid-cols-[auto_1fr_1fr_1fr_1fr] gap-4 items-center p-3 rounded-lg border border-border/30 bg-card/50 hover:border-primary/30 hover:bg-card/70 transition-all duration-300",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>k("house1"),className:"h-8 w-8 rounded-full hover:bg-primary/10 hover:text-primary transition-colors",children:a.jsx(ce,{className:"h-4 w-4"})}),a.jsxs(Ee,{open:L,onOpenChange:U,children:[a.jsx(Ie,{asChild:!0,children:a.jsxs(Q,{variant:"outline",role:"combobox","aria-expanded":L,className:"h-9 text-white font-medium border-0 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02] justify-between min-w-[140px]",style:{backgroundColor:s.name?s.color:"#808080"},children:[s.name||"Selecione a casa",a.jsx(Se,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(De,{className:"w-[200px] p-0",align:"start",children:a.jsxs(ge,{children:[a.jsx(xe,{placeholder:"Buscar casa..."}),a.jsxs(be,{children:[a.jsx(ye,{children:"Nenhuma casa encontrada."}),a.jsx(we,{children:p.map(i=>a.jsxs(ke,{value:i.name,onSelect:()=>{T("house1",i.id),U(!1)},className:"cursor-pointer",children:[a.jsx(Ce,{className:q("mr-2 h-4 w-4",s.name===i.name?"opacity-100":"opacity-0")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded flex-shrink-0",style:{backgroundColor:i.color||"#808080"}}),i.name]})]},i.id))})]})]})})]}),a.jsx(ie,{type:"text",inputMode:"decimal",value:je(s.oddDigits),onChange:i=>y("house1",i.target.value),className:"text-center border-border/50 focus-visible:ring-primary/50 focus-visible:border-primary/50 transition-all",placeholder:"Ex: 2.20"}),a.jsx(ie,{type:"text",inputMode:"decimal",value:_,onChange:i=>X("house1",i.target.value),className:"text-center border-border/50 focus-visible:ring-primary/50 focus-visible:border-primary/50 transition-all",placeholder:"0,00"}),a.jsxs("div",{className:"text-right font-bold text-emerald-400 text-lg drop-shadow-[0_0_8px_rgba(34,197,94,0.3)]",children:["R$ ",l.profit1.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-[auto_1fr_1fr_1fr_1fr] gap-4 items-center p-3 rounded-lg border border-border/30 bg-card/50 hover:border-primary/30 hover:bg-card/70 transition-all duration-300",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>k("house2"),className:"h-8 w-8 rounded-full hover:bg-primary/10 hover:text-primary transition-colors",children:a.jsx(ce,{className:"h-4 w-4"})}),a.jsxs(Ee,{open:J,onOpenChange:ae,children:[a.jsx(Ie,{asChild:!0,children:a.jsxs(Q,{variant:"outline",role:"combobox","aria-expanded":J,className:"h-9 text-white font-medium border-0 shadow-lg transition-all hover:shadow-xl hover:scale-[1.02] justify-between min-w-[140px]",style:{backgroundColor:m.name?m.color:"#808080"},children:[m.name||"Selecione a casa",a.jsx(Se,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(De,{className:"w-[200px] p-0",align:"start",children:a.jsxs(ge,{children:[a.jsx(xe,{placeholder:"Buscar casa..."}),a.jsxs(be,{children:[a.jsx(ye,{children:"Nenhuma casa encontrada."}),a.jsx(we,{children:p.map(i=>a.jsxs(ke,{value:i.name,onSelect:()=>{T("house2",i.id),ae(!1)},className:"cursor-pointer",children:[a.jsx(Ce,{className:q("mr-2 h-4 w-4",m.name===i.name?"opacity-100":"opacity-0")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded flex-shrink-0",style:{backgroundColor:i.color||"#808080"}}),i.name]})]},i.id))})]})]})})]}),a.jsx(ie,{type:"text",inputMode:"decimal",value:je(m.oddDigits),onChange:i=>y("house2",i.target.value),className:"text-center border-border/50 focus-visible:ring-primary/50 focus-visible:border-primary/50 transition-all",placeholder:"Ex: 2.20"}),a.jsx(ie,{type:"text",inputMode:"decimal",value:F,onChange:i=>X("house2",i.target.value),className:"text-center border-border/50 focus-visible:ring-primary/50 focus-visible:border-primary/50 transition-all",placeholder:"0,00"}),a.jsxs("div",{className:"text-right font-bold text-emerald-400 text-lg drop-shadow-[0_0_8px_rgba(34,197,94,0.3)]",children:["R$ ",l.profit2.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-[auto_1fr_1fr_1fr] gap-4 items-center pt-4 border-t border-border/50",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>k("all"),className:"h-9 w-9 rounded-full border-2 border-primary/30 hover:bg-primary/10 hover:border-primary/60 hover:text-primary transition-all hover:scale-110",children:a.jsx(ce,{className:"h-4 w-4"})}),a.jsx("div",{className:"px-4 py-2.5 rounded-lg bg-muted/80 font-medium text-center border border-border/30 text-sm",children:"Valor total apostado"}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total: "}),a.jsxs("span",{className:"font-bold text-lg",children:["R$ ",l.totalInvested.toFixed(2)]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:`px-4 py-2.5 rounded-lg font-bold text-sm border transition-all ${l.margin>0?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 shadow-[0_0_12px_rgba(34,197,94,0.2)]":"bg-destructive/20 text-destructive border-destructive/30"}`,children:[l.margin>=0?"+":"",l.margin.toFixed(2),"%"]})})]}),a.jsx("div",{className:"pt-2",children:a.jsx(Q,{onClick:I,className:"w-full h-11 bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",disabled:l.margin<=0||l.totalInvested===0,children:"Planilhar"})})]})]})},Vt=()=>{const e=Ze(),n=v=>{},t=v=>{};return a.jsx(Je,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ye,{className:"rounded-full bg-primary/10 px-4 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.35em] text-primary mb-4",children:"Surebet"}),a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Surebet"}),a.jsx("p",{className:"text-muted-foreground",children:"Calcule apostas seguras entre diferentes casas de apostas"})]}),a.jsxs(Q,{onClick:()=>e("/surebet/planilha"),className:"gap-2",children:[a.jsx(He,{className:"h-4 w-4"}),"Ver Planilha"]})]}),a.jsxs(fe,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Calculadora"}),a.jsx(Ct,{onCalculate:n,onSpreadsheet:t})]})]})})};export{Vt as default};
