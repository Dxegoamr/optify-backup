import{j as t,q as ba,r as ja,n as Na,u as wa,H as Ie,g as Da,L as _a,e as Be,J as vt,K as pt,l as xt,M as Ye,i as ue}from"./ui-vendor-CIJA2k99.js";import{r as g,i as Ca,u as Ma}from"./react-vendor-a_rYd-gI.js";import{h as Pa,R as Sa,u as ka,F as Ra,D as Ta,A as gt,a as yt,b as bt,c as jt,d as Nt,e as wt,f as Dt,g as _t,i as Oa}from"./DashboardLayout-BStG2aYf.js";import{h as Pe,n as Ct,c as Fa,o as It,A as Bt,e as Yt,P as qt,a as ye,b as Ht,D as Aa,p as Wa,q as La,u as Ea,R as Ia,r as Ba,s as Ya,i as qa,k as Ha,m as $a,j as X,B as te,C as q}from"./index-mvhQqbRd.js";import{c as za,b as Va,u as Ka,e as Ua}from"./useFirestore-lcCxN-bk.js";import{b as me}from"./user-specific.service-CELv746m.js";import{U as Xa}from"./user-config.service-xkz0Ual-.js";import{t as S,c as fe,s as ke,a as be,g as Mt,m as Ga,b as Qa,d as qe,e as xe,h as Za,i as ge,j as Q,k as Ja,l as en,n as Ze,o as tn,p as an,f as U,q as $t}from"./format-DPwKrYwk.js";import{u as nn}from"./index-CnEst0fN.js";import{S as Pt,a as St,b as kt,c as Rt,d as Me}from"./select-BwImaozO.js";import{R as Tt,B as on,C as rn,X as sn,Y as ln,T as Ot,a as dn,P as cn,b as un,d as mn}from"./chart-vendor-D_ps4xzz.js";import"./firebase-vendor-Dsl9zeYT.js";import"./input-foYkf2QR.js";import"./user-subcollections.service-BgWJVIJ-.js";import"./index-CdAzXW5_.js";function F(e,n){const a=S(e);return isNaN(n)?fe(e,NaN):(n&&a.setDate(a.getDate()+n),a)}function z(e,n){const a=S(e);if(isNaN(n))return fe(e,NaN);if(!n)return a;const o=a.getDate(),r=fe(e,a.getTime());r.setMonth(a.getMonth()+n+1,0);const s=r.getDate();return o>=s?r:(a.setFullYear(r.getFullYear(),r.getMonth(),o),a)}function Ge(e,n){const a=n*7;return F(e,a)}function fn(e,n){return z(e,n*12)}function hn(e){let n;return e.forEach(function(a){const o=S(a);(n===void 0||n<o||isNaN(Number(o)))&&(n=o)}),n||new Date(NaN)}function vn(e){let n;return e.forEach(a=>{const o=S(a);(!n||n>o||isNaN(+o))&&(n=o)}),n||new Date(NaN)}function A(e,n){const a=ke(e),o=ke(n);return+a==+o}function je(e,n){const a=S(e),o=S(n),r=a.getFullYear()-o.getFullYear(),s=a.getMonth()-o.getMonth();return r*12+s}function pn(e,n,a){const o=be(e,a),r=be(n,a),s=+o-Mt(o),i=+r-Mt(r);return Math.round((s-i)/Ga)}function Je(e){const n=S(e),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function W(e){const n=S(e);return n.setDate(1),n.setHours(0,0,0,0),n}function et(e,n){const a=Qa(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=S(e),s=r.getDay(),i=(s<o?-7:0)+6-(s-o);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function zt(e){return et(e,{weekStartsOn:1})}function xn(e){const n=S(e),a=n.getFullYear(),o=n.getMonth(),r=fe(e,0);return r.setFullYear(a,o+1,0),r.setHours(0,0,0,0),r.getDate()}function gn(e){return Math.trunc(+S(e)/1e3)}function yn(e){const n=S(e),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(0,0,0,0),n}function bn(e,n){return pn(yn(e),W(e),n)+1}function Qe(e,n){const a=S(e),o=S(n);return a.getTime()>o.getTime()}function Vt(e,n){const a=S(e),o=S(n);return+a<+o}function tt(e,n){const a=S(e),o=S(n);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function jn(e,n){const a=S(e),o=S(n);return a.getFullYear()===o.getFullYear()}function He(e,n){return F(e,-n)}function $e(e,n){const a=S(e),o=a.getFullYear(),r=a.getDate(),s=fe(e,0);s.setFullYear(o,n,15),s.setHours(0,0,0,0);const i=xn(s);return a.setMonth(n,Math.min(r,i)),a}function Ft(e,n){const a=S(e);return isNaN(+a)?fe(e,NaN):(a.setFullYear(n),a)}const Nn={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},wn=(e,n,a)=>{let o;const r=Nn[e];return typeof r=="string"?o=r:n===1?o=r.one:o=r.other.replace("{{count}}",String(n)),a?.addSuffix?a.comparison&&a.comparison>0?"daqui a "+o:"há "+o:o},Dn={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},_n={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Cn={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mn={date:qe({formats:Dn,defaultWidth:"full"}),time:qe({formats:_n,defaultWidth:"full"}),dateTime:qe({formats:Cn,defaultWidth:"full"})},Pn={lastWeek:e=>{const n=e.getDay();return"'"+(n===0||n===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Sn=(e,n,a,o)=>{const r=Pn[e];return typeof r=="function"?r(n):r},kn={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},Rn={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Tn={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},On={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sáb"],abbreviated:["dom","seg","ter","qua","qui","sex","sáb"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Fn={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"noite",night:"madrugada"}},An={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},Wn=(e,n)=>Number(e)+"º",Ln={ordinalNumber:Wn,era:xe({values:kn,defaultWidth:"wide"}),quarter:xe({values:Rn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xe({values:Tn,defaultWidth:"wide"}),day:xe({values:On,defaultWidth:"wide"}),dayPeriod:xe({values:Fn,defaultWidth:"wide",formattingValues:An,defaultFormattingWidth:"wide"})},En=/^(\d+)(º|ª)?/i,In=/\d+/i,Bn={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},Yn={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},qn={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º|ª)? trimestre/i},Hn={any:[/1/i,/2/i,/3/i,/4/i]},$n={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},zn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vn={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[áa]b)/i,wide:/^(domingo|segunda-?\s?feira|terça-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[áa]bado)/i},Kn={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[áa]/i]},Un={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[ãa]|tarde|noite|madrugada))/i},Xn={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[ãa]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},Gn={ordinalNumber:Za({matchPattern:En,parsePattern:In,valueCallback:e=>parseInt(e,10)}),era:ge({matchPatterns:Bn,defaultMatchWidth:"wide",parsePatterns:Yn,defaultParseWidth:"any"}),quarter:ge({matchPatterns:qn,defaultMatchWidth:"wide",parsePatterns:Hn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ge({matchPatterns:$n,defaultMatchWidth:"wide",parsePatterns:zn,defaultParseWidth:"any"}),day:ge({matchPatterns:Vn,defaultMatchWidth:"wide",parsePatterns:Kn,defaultParseWidth:"any"}),dayPeriod:ge({matchPatterns:Un,defaultMatchWidth:"any",parsePatterns:Xn,defaultParseWidth:"any"})},ze={code:"pt",formatDistance:wn,formatLong:Mn,formatRelative:Sn,localize:Ln,match:Gn,options:{weekStartsOn:1,firstWeekContainsDate:4}};var b=function(){return b=Object.assign||function(n){for(var a,o=1,r=arguments.length;o<r;o++){a=arguments[o];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},b.apply(this,arguments)};function Qn(e,n){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(a[o[r]]=e[o[r]]);return a}function Kt(e,n,a){for(var o=0,r=n.length,s;o<r;o++)(s||!(o in n))&&(s||(s=Array.prototype.slice.call(n,0,o)),s[o]=n[o]);return e.concat(s||Array.prototype.slice.call(n))}function Ne(e){return e.mode==="multiple"}function we(e){return e.mode==="range"}function Te(e){return e.mode==="single"}var Zn={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Jn(e,n){return U(e,"LLLL y",n)}function eo(e,n){return U(e,"d",n)}function to(e,n){return U(e,"LLLL",n)}function ao(e){return"".concat(e)}function no(e,n){return U(e,"cccccc",n)}function oo(e,n){return U(e,"yyyy",n)}var ro=Object.freeze({__proto__:null,formatCaption:Jn,formatDay:eo,formatMonthCaption:to,formatWeekNumber:ao,formatWeekdayName:no,formatYearCaption:oo}),so=function(e,n,a){return U(e,"do MMMM (EEEE)",a)},io=function(){return"Month: "},lo=function(){return"Go to next month"},co=function(){return"Go to previous month"},uo=function(e,n){return U(e,"cccc",n)},mo=function(e){return"Week n. ".concat(e)},fo=function(){return"Year: "},ho=Object.freeze({__proto__:null,labelDay:so,labelMonthDropdown:io,labelNext:lo,labelPrevious:co,labelWeekNumber:mo,labelWeekday:uo,labelYearDropdown:fo});function vo(){var e="buttons",n=Zn,a=Ja,o={},r={},s=1,i={},l=new Date;return{captionLayout:e,classNames:n,formatters:ro,labels:ho,locale:a,modifiersClassNames:o,modifiers:r,numberOfMonths:s,styles:i,today:l,mode:"default"}}function po(e){var n=e.fromYear,a=e.toYear,o=e.fromMonth,r=e.toMonth,s=e.fromDate,i=e.toDate;return o?s=W(o):n&&(s=new Date(n,0,1)),r?i=Je(r):a&&(i=new Date(a,11,31)),{fromDate:s?ke(s):void 0,toDate:i?ke(i):void 0}}var Ut=g.createContext(void 0);function xo(e){var n,a=e.initialProps,o=vo(),r=po(a),s=r.fromDate,i=r.toDate,l=(n=a.captionLayout)!==null&&n!==void 0?n:o.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var c;(Te(a)||Ne(a)||we(a))&&(c=a.onSelect);var m=b(b(b({},o),a),{captionLayout:l,classNames:b(b({},o.classNames),a.classNames),components:b({},a.components),formatters:b(b({},o.formatters),a.formatters),fromDate:s,labels:b(b({},o.labels),a.labels),mode:a.mode||o.mode,modifiers:b(b({},o.modifiers),a.modifiers),modifiersClassNames:b(b({},o.modifiersClassNames),a.modifiersClassNames),onSelect:c,styles:b(b({},o.styles),a.styles),toDate:i});return t.jsx(Ut.Provider,{value:m,children:e.children})}function C(){var e=g.useContext(Ut);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Xt(e){var n=C(),a=n.locale,o=n.classNames,r=n.styles,s=n.formatters.formatCaption;return t.jsx("div",{className:o.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:a})})}function go(e){return t.jsx("svg",b({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:t.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Gt(e){var n,a,o=e.onChange,r=e.value,s=e.children,i=e.caption,l=e.className,c=e.style,m=C(),u=(a=(n=m.components)===null||n===void 0?void 0:n.IconDropdown)!==null&&a!==void 0?a:go;return t.jsxs("div",{className:l,style:c,children:[t.jsx("span",{className:m.classNames.vhidden,children:e["aria-label"]}),t.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:r,onChange:o,children:s}),t.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[i,t.jsx(u,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function yo(e){var n,a=C(),o=a.fromDate,r=a.toDate,s=a.styles,i=a.locale,l=a.formatters.formatMonthCaption,c=a.classNames,m=a.components,u=a.labels.labelMonthDropdown;if(!o)return t.jsx(t.Fragment,{});if(!r)return t.jsx(t.Fragment,{});var f=[];if(jn(o,r))for(var h=W(o),y=o.getMonth();y<=r.getMonth();y++)f.push($e(h,y));else for(var h=W(new Date),y=0;y<=11;y++)f.push($e(h,y));var j=function(p){var M=Number(p.target.value),D=$e(W(e.displayMonth),M);e.onChange(D)},w=(n=m?.Dropdown)!==null&&n!==void 0?n:Gt;return t.jsx(w,{name:"months","aria-label":u(),className:c.dropdown_month,style:s.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(p){return t.jsx("option",{value:p.getMonth(),children:l(p,{locale:i})},p.getMonth())})})}function bo(e){var n,a=e.displayMonth,o=C(),r=o.fromDate,s=o.toDate,i=o.locale,l=o.styles,c=o.classNames,m=o.components,u=o.formatters.formatYearCaption,f=o.labels.labelYearDropdown,h=[];if(!r)return t.jsx(t.Fragment,{});if(!s)return t.jsx(t.Fragment,{});for(var y=r.getFullYear(),j=s.getFullYear(),w=y;w<=j;w++)h.push(Ft(en(new Date),w));var p=function(D){var Z=Ft(W(a),Number(D.target.value));e.onChange(Z)},M=(n=m?.Dropdown)!==null&&n!==void 0?n:Gt;return t.jsx(M,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:p,value:a.getFullYear(),caption:u(a,{locale:i}),children:h.map(function(D){return t.jsx("option",{value:D.getFullYear(),children:u(D,{locale:i})},D.getFullYear())})})}function jo(e,n){var a=g.useState(e),o=a[0],r=a[1],s=n===void 0?o:n;return[s,r]}function No(e){var n=e.month,a=e.defaultMonth,o=e.today,r=n||a||o||new Date,s=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&je(s,r)<0){var m=-1*(c-1);r=z(s,m)}return i&&je(r,i)<0&&(r=i),W(r)}function wo(){var e=C(),n=No(e),a=jo(n,e.month),o=a[0],r=a[1],s=function(i){var l;if(!e.disableNavigation){var c=W(i);r(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[o,s]}function Do(e,n){for(var a=n.reverseMonths,o=n.numberOfMonths,r=W(e),s=W(z(r,o)),i=je(s,r),l=[],c=0;c<i;c++){var m=z(r,c);l.push(m)}return a&&(l=l.reverse()),l}function _o(e,n){if(!n.disableNavigation){var a=n.toDate,o=n.pagedNavigation,r=n.numberOfMonths,s=r===void 0?1:r,i=o?s:1,l=W(e);if(!a)return z(l,i);var c=je(a,e);if(!(c<s))return z(l,i)}}function Co(e,n){if(!n.disableNavigation){var a=n.fromDate,o=n.pagedNavigation,r=n.numberOfMonths,s=r===void 0?1:r,i=o?s:1,l=W(e);if(!a)return z(l,-i);var c=je(l,a);if(!(c<=0))return z(l,-i)}}var Qt=g.createContext(void 0);function Mo(e){var n=C(),a=wo(),o=a[0],r=a[1],s=Do(o,n),i=_o(o,n),l=Co(o,n),c=function(f){return s.some(function(h){return tt(f,h)})},m=function(f,h){c(f)||(h&&Vt(f,h)?r(z(f,1+n.numberOfMonths*-1)):r(f))},u={currentMonth:o,displayMonths:s,goToMonth:r,goToDate:m,previousMonth:l,nextMonth:i,isDateDisplayed:c};return t.jsx(Qt.Provider,{value:u,children:e.children})}function De(){var e=g.useContext(Qt);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function At(e){var n,a=C(),o=a.classNames,r=a.styles,s=a.components,i=De().goToMonth,l=function(u){i(z(u,e.displayIndex?-e.displayIndex:0))},c=(n=s?.CaptionLabel)!==null&&n!==void 0?n:Xt,m=t.jsx(c,{id:e.id,displayMonth:e.displayMonth});return t.jsxs("div",{className:o.caption_dropdowns,style:r.caption_dropdowns,children:[t.jsx("div",{className:o.vhidden,children:m}),t.jsx(yo,{onChange:l,displayMonth:e.displayMonth}),t.jsx(bo,{onChange:l,displayMonth:e.displayMonth})]})}function Po(e){return t.jsx("svg",b({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function So(e){return t.jsx("svg",b({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Re=g.forwardRef(function(e,n){var a=C(),o=a.classNames,r=a.styles,s=[o.button_reset,o.button];e.className&&s.push(e.className);var i=s.join(" "),l=b(b({},r.button_reset),r.button);return e.style&&Object.assign(l,e.style),t.jsx("button",b({},e,{ref:n,type:"button",className:i,style:l}))});function ko(e){var n,a,o=C(),r=o.dir,s=o.locale,i=o.classNames,l=o.styles,c=o.labels,m=c.labelPrevious,u=c.labelNext,f=o.components;if(!e.nextMonth&&!e.previousMonth)return t.jsx(t.Fragment,{});var h=m(e.previousMonth,{locale:s}),y=[i.nav_button,i.nav_button_previous].join(" "),j=u(e.nextMonth,{locale:s}),w=[i.nav_button,i.nav_button_next].join(" "),p=(n=f?.IconRight)!==null&&n!==void 0?n:So,M=(a=f?.IconLeft)!==null&&a!==void 0?a:Po;return t.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&t.jsx(Re,{name:"previous-month","aria-label":h,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:r==="rtl"?t.jsx(p,{className:i.nav_icon,style:l.nav_icon}):t.jsx(M,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&t.jsx(Re,{name:"next-month","aria-label":j,className:w,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:r==="rtl"?t.jsx(M,{className:i.nav_icon,style:l.nav_icon}):t.jsx(p,{className:i.nav_icon,style:l.nav_icon})})]})}function Wt(e){var n=C().numberOfMonths,a=De(),o=a.previousMonth,r=a.nextMonth,s=a.goToMonth,i=a.displayMonths,l=i.findIndex(function(j){return tt(e.displayMonth,j)}),c=l===0,m=l===i.length-1,u=n>1&&(c||!m),f=n>1&&(m||!c),h=function(){o&&s(o)},y=function(){r&&s(r)};return t.jsx(ko,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:r,previousMonth:o,onPreviousClick:h,onNextClick:y})}function Ro(e){var n,a=C(),o=a.classNames,r=a.disableNavigation,s=a.styles,i=a.captionLayout,l=a.components,c=(n=l?.CaptionLabel)!==null&&n!==void 0?n:Xt,m;return r?m=t.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?m=t.jsx(At,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?m=t.jsxs(t.Fragment,{children:[t.jsx(At,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),t.jsx(Wt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):m=t.jsxs(t.Fragment,{children:[t.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(Wt,{displayMonth:e.displayMonth,id:e.id})]}),t.jsx("div",{className:o.caption,style:s.caption,children:m})}function To(e){var n=C(),a=n.footer,o=n.styles,r=n.classNames.tfoot;return a?t.jsx("tfoot",{className:r,style:o.tfoot,children:t.jsx("tr",{children:t.jsx("td",{colSpan:8,children:a})})}):t.jsx(t.Fragment,{})}function Oo(e,n,a){for(var o=a?Ze(new Date):be(new Date,{locale:e,weekStartsOn:n}),r=[],s=0;s<7;s++){var i=F(o,s);r.push(i)}return r}function Fo(){var e=C(),n=e.classNames,a=e.styles,o=e.showWeekNumber,r=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,m=Oo(r,s,i);return t.jsxs("tr",{style:a.head_row,className:n.head_row,children:[o&&t.jsx("td",{style:a.head_cell,className:n.head_cell}),m.map(function(u,f){return t.jsx("th",{scope:"col",className:n.head_cell,style:a.head_cell,"aria-label":c(u,{locale:r}),children:l(u,{locale:r})},f)})]})}function Ao(){var e,n=C(),a=n.classNames,o=n.styles,r=n.components,s=(e=r?.HeadRow)!==null&&e!==void 0?e:Fo;return t.jsx("thead",{style:o.head,className:a.head,children:t.jsx(s,{})})}function Wo(e){var n=C(),a=n.locale,o=n.formatters.formatDay;return t.jsx(t.Fragment,{children:o(e.date,{locale:a})})}var at=g.createContext(void 0);function Lo(e){if(!Ne(e.initialProps)){var n={selected:void 0,modifiers:{disabled:[]}};return t.jsx(at.Provider,{value:n,children:e.children})}return t.jsx(Eo,{initialProps:e.initialProps,children:e.children})}function Eo(e){var n=e.initialProps,a=e.children,o=n.selected,r=n.min,s=n.max,i=function(m,u,f){var h,y;(h=n.onDayClick)===null||h===void 0||h.call(n,m,u,f);var j=!!(u.selected&&r&&o?.length===r);if(!j){var w=!!(!u.selected&&s&&o?.length===s);if(!w){var p=o?Kt([],o):[];if(u.selected){var M=p.findIndex(function(D){return A(m,D)});p.splice(M,1)}else p.push(m);(y=n.onSelect)===null||y===void 0||y.call(n,p,m,u,f)}}},l={disabled:[]};o&&l.disabled.push(function(m){var u=s&&o.length>s-1,f=o.some(function(h){return A(h,m)});return!!(u&&!f)});var c={selected:o,onDayClick:i,modifiers:l};return t.jsx(at.Provider,{value:c,children:a})}function nt(){var e=g.useContext(at);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Io(e,n){var a=n||{},o=a.from,r=a.to;return o&&r?A(r,e)&&A(o,e)?void 0:A(r,e)?{from:r,to:void 0}:A(o,e)?void 0:Qe(o,e)?{from:e,to:r}:{from:o,to:e}:r?Qe(e,r)?{from:r,to:e}:{from:e,to:r}:o?Vt(e,o)?{from:e,to:o}:{from:o,to:e}:{from:e,to:void 0}}var ot=g.createContext(void 0);function Bo(e){if(!we(e.initialProps)){var n={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return t.jsx(ot.Provider,{value:n,children:e.children})}return t.jsx(Yo,{initialProps:e.initialProps,children:e.children})}function Yo(e){var n=e.initialProps,a=e.children,o=n.selected,r=o||{},s=r.from,i=r.to,l=n.min,c=n.max,m=function(y,j,w){var p,M;(p=n.onDayClick)===null||p===void 0||p.call(n,y,j,w);var D=Io(y,o);(M=n.onSelect)===null||M===void 0||M.call(n,D,y,j,w)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(u.range_start=[s],i?(u.range_end=[i],A(s,i)||(u.range_middle=[{after:s,before:i}])):u.range_end=[s]):i&&(u.range_start=[i],u.range_end=[i]),l&&(s&&!i&&u.disabled.push({after:He(s,l-1),before:F(s,l-1)}),s&&i&&u.disabled.push({after:s,before:F(s,l-1)}),!s&&i&&u.disabled.push({after:He(i,l-1),before:F(i,l-1)})),c){if(s&&!i&&(u.disabled.push({before:F(s,-c+1)}),u.disabled.push({after:F(s,c-1)})),s&&i){var f=Q(i,s)+1,h=c-f;u.disabled.push({before:He(s,h)}),u.disabled.push({after:F(i,h)})}!s&&i&&(u.disabled.push({before:F(i,-c+1)}),u.disabled.push({after:F(i,c-1)}))}return t.jsx(ot.Provider,{value:{selected:o,onDayClick:m,modifiers:u},children:a})}function rt(){var e=g.useContext(ot);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Se(e){return Array.isArray(e)?Kt([],e):e!==void 0?[e]:[]}function qo(e){var n={};return Object.entries(e).forEach(function(a){var o=a[0],r=a[1];n[o]=Se(r)}),n}var V;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(V||(V={}));var Ho=V.Selected,G=V.Disabled,$o=V.Hidden,zo=V.Today,Ve=V.RangeEnd,Ke=V.RangeMiddle,Ue=V.RangeStart,Vo=V.Outside;function Ko(e,n,a){var o,r=(o={},o[Ho]=Se(e.selected),o[G]=Se(e.disabled),o[$o]=Se(e.hidden),o[zo]=[e.today],o[Ve]=[],o[Ke]=[],o[Ue]=[],o[Vo]=[],o);return e.fromDate&&r[G].push({before:e.fromDate}),e.toDate&&r[G].push({after:e.toDate}),Ne(e)?r[G]=r[G].concat(n.modifiers[G]):we(e)&&(r[G]=r[G].concat(a.modifiers[G]),r[Ue]=a.modifiers[Ue],r[Ke]=a.modifiers[Ke],r[Ve]=a.modifiers[Ve]),r}var Zt=g.createContext(void 0);function Uo(e){var n=C(),a=nt(),o=rt(),r=Ko(n,a,o),s=qo(n.modifiers),i=b(b({},r),s);return t.jsx(Zt.Provider,{value:i,children:e.children})}function Jt(){var e=g.useContext(Zt);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Xo(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Go(e){return!!(e&&typeof e=="object"&&"from"in e)}function Qo(e){return!!(e&&typeof e=="object"&&"after"in e)}function Zo(e){return!!(e&&typeof e=="object"&&"before"in e)}function Jo(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function er(e,n){var a,o=n.from,r=n.to;if(o&&r){var s=Q(r,o)<0;s&&(a=[r,o],o=a[0],r=a[1]);var i=Q(e,o)>=0&&Q(r,e)>=0;return i}return r?A(r,e):o?A(o,e):!1}function tr(e){return $t(e)}function ar(e){return Array.isArray(e)&&e.every($t)}function nr(e,n){return n.some(function(a){if(typeof a=="boolean")return a;if(tr(a))return A(e,a);if(ar(a))return a.includes(e);if(Go(a))return er(e,a);if(Jo(a))return a.dayOfWeek.includes(e.getDay());if(Xo(a)){var o=Q(a.before,e),r=Q(a.after,e),s=o>0,i=r<0,l=Qe(a.before,a.after);return l?i&&s:s||i}return Qo(a)?Q(e,a.after)>0:Zo(a)?Q(a.before,e)>0:typeof a=="function"?a(e):!1})}function st(e,n,a){var o=Object.keys(n).reduce(function(s,i){var l=n[i];return nr(e,l)&&s.push(i),s},[]),r={};return o.forEach(function(s){return r[s]=!0}),a&&!tt(e,a)&&(r.outside=!0),r}function or(e,n){for(var a=W(e[0]),o=Je(e[e.length-1]),r,s,i=a;i<=o;){var l=st(i,n),c=!l.disabled&&!l.hidden;if(!c){i=F(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),r||(r=i),i=F(i,1)}return s||r}var rr=365;function ea(e,n){var a=n.moveBy,o=n.direction,r=n.context,s=n.modifiers,i=n.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=r.weekStartsOn,m=r.fromDate,u=r.toDate,f=r.locale,h={day:F,week:Ge,month:z,year:fn,startOfWeek:function(p){return r.ISOWeek?Ze(p):be(p,{locale:f,weekStartsOn:c})},endOfWeek:function(p){return r.ISOWeek?zt(p):et(p,{locale:f,weekStartsOn:c})}},y=h[a](e,o==="after"?1:-1);o==="before"&&m?y=hn([m,y]):o==="after"&&u&&(y=vn([u,y]));var j=!0;if(s){var w=st(y,s);j=!w.disabled&&!w.hidden}return j?y:l.count>rr?l.lastFocused:ea(y,{moveBy:a,direction:o,context:r,modifiers:s,retry:b(b({},l),{count:l.count+1})})}var ta=g.createContext(void 0);function sr(e){var n=De(),a=Jt(),o=g.useState(),r=o[0],s=o[1],i=g.useState(),l=i[0],c=i[1],m=or(n.displayMonths,a),u=r??(l&&n.isDateDisplayed(l))?l:m,f=function(){c(r),s(void 0)},h=function(p){s(p)},y=C(),j=function(p,M){if(r){var D=ea(r,{moveBy:p,direction:M,context:y,modifiers:a});A(r,D)||(n.goToDate(D,r),h(D))}},w={focusedDay:r,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return t.jsx(ta.Provider,{value:w,children:e.children})}function it(){var e=g.useContext(ta);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function ir(e,n){var a=Jt(),o=st(e,a,n);return o}var lt=g.createContext(void 0);function lr(e){if(!Te(e.initialProps)){var n={selected:void 0};return t.jsx(lt.Provider,{value:n,children:e.children})}return t.jsx(dr,{initialProps:e.initialProps,children:e.children})}function dr(e){var n=e.initialProps,a=e.children,o=function(s,i,l){var c,m,u;if((c=n.onDayClick)===null||c===void 0||c.call(n,s,i,l),i.selected&&!n.required){(m=n.onSelect)===null||m===void 0||m.call(n,void 0,s,i,l);return}(u=n.onSelect)===null||u===void 0||u.call(n,s,s,i,l)},r={selected:n.selected,onDayClick:o};return t.jsx(lt.Provider,{value:r,children:a})}function aa(){var e=g.useContext(lt);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function cr(e,n){var a=C(),o=aa(),r=nt(),s=rt(),i=it(),l=i.focusDayAfter,c=i.focusDayBefore,m=i.focusWeekAfter,u=i.focusWeekBefore,f=i.blur,h=i.focus,y=i.focusMonthBefore,j=i.focusMonthAfter,w=i.focusYearBefore,p=i.focusYearAfter,M=i.focusStartOfWeek,D=i.focusEndOfWeek,Z=function(x){var v,T,$,ne;Te(a)?(v=o.onDayClick)===null||v===void 0||v.call(o,e,n,x):Ne(a)?(T=r.onDayClick)===null||T===void 0||T.call(r,e,n,x):we(a)?($=s.onDayClick)===null||$===void 0||$.call(s,e,n,x):(ne=a.onDayClick)===null||ne===void 0||ne.call(a,e,n,x)},B=function(x){var v;h(e),(v=a.onDayFocus)===null||v===void 0||v.call(a,e,n,x)},re=function(x){var v;f(),(v=a.onDayBlur)===null||v===void 0||v.call(a,e,n,x)},H=function(x){var v;(v=a.onDayMouseEnter)===null||v===void 0||v.call(a,e,n,x)},se=function(x){var v;(v=a.onDayMouseLeave)===null||v===void 0||v.call(a,e,n,x)},ie=function(x){var v;(v=a.onDayPointerEnter)===null||v===void 0||v.call(a,e,n,x)},J=function(x){var v;(v=a.onDayPointerLeave)===null||v===void 0||v.call(a,e,n,x)},Ce=function(x){var v;(v=a.onDayTouchCancel)===null||v===void 0||v.call(a,e,n,x)},Fe=function(x){var v;(v=a.onDayTouchEnd)===null||v===void 0||v.call(a,e,n,x)},L=function(x){var v;(v=a.onDayTouchMove)===null||v===void 0||v.call(a,e,n,x)},ct=function(x){var v;(v=a.onDayTouchStart)===null||v===void 0||v.call(a,e,n,x)},le=function(x){var v;(v=a.onDayKeyUp)===null||v===void 0||v.call(a,e,n,x)},ve=function(x){var v;switch(x.key){case"ArrowLeft":x.preventDefault(),x.stopPropagation(),a.dir==="rtl"?l():c();break;case"ArrowRight":x.preventDefault(),x.stopPropagation(),a.dir==="rtl"?c():l();break;case"ArrowDown":x.preventDefault(),x.stopPropagation(),m();break;case"ArrowUp":x.preventDefault(),x.stopPropagation(),u();break;case"PageUp":x.preventDefault(),x.stopPropagation(),x.shiftKey?w():y();break;case"PageDown":x.preventDefault(),x.stopPropagation(),x.shiftKey?p():j();break;case"Home":x.preventDefault(),x.stopPropagation(),M();break;case"End":x.preventDefault(),x.stopPropagation(),D();break}(v=a.onDayKeyDown)===null||v===void 0||v.call(a,e,n,x)},pe={onClick:Z,onFocus:B,onBlur:re,onKeyDown:ve,onKeyUp:le,onMouseEnter:H,onMouseLeave:se,onPointerEnter:ie,onPointerLeave:J,onTouchCancel:Ce,onTouchEnd:Fe,onTouchMove:L,onTouchStart:ct};return pe}function ur(){var e=C(),n=aa(),a=nt(),o=rt(),r=Te(e)?n.selected:Ne(e)?a.selected:we(e)?o.selected:void 0;return r}function mr(e){return Object.values(V).includes(e)}function fr(e,n){var a=[e.classNames.day];return Object.keys(n).forEach(function(o){var r=e.modifiersClassNames[o];if(r)a.push(r);else if(mr(o)){var s=e.classNames["day_".concat(o)];s&&a.push(s)}}),a}function hr(e,n){var a=b({},e.styles.day);return Object.keys(n).forEach(function(o){var r;a=b(b({},a),(r=e.modifiersStyles)===null||r===void 0?void 0:r[o])}),a}function vr(e,n,a){var o,r,s,i=C(),l=it(),c=ir(e,n),m=cr(e,c),u=ur(),f=!!(i.onDayClick||i.mode!=="default");g.useEffect(function(){var H;c.outside||l.focusedDay&&f&&A(l.focusedDay,e)&&((H=a.current)===null||H===void 0||H.focus())},[l.focusedDay,e,a,f,c.outside]);var h=fr(i,c).join(" "),y=hr(i,c),j=!!(c.outside&&!i.showOutsideDays||c.hidden),w=(s=(r=i.components)===null||r===void 0?void 0:r.DayContent)!==null&&s!==void 0?s:Wo,p=t.jsx(w,{date:e,displayMonth:n,activeModifiers:c}),M={style:y,className:h,children:p,role:"gridcell"},D=l.focusTarget&&A(l.focusTarget,e)&&!c.outside,Z=l.focusedDay&&A(l.focusedDay,e),B=b(b(b({},M),(o={disabled:c.disabled,role:"gridcell"},o["aria-selected"]=c.selected,o.tabIndex=Z||D?0:-1,o)),m),re={isButton:f,isHidden:j,activeModifiers:c,selectedDays:u,buttonProps:B,divProps:M};return re}function pr(e){var n=g.useRef(null),a=vr(e.date,e.displayMonth,n);return a.isHidden?t.jsx("div",{role:"gridcell"}):a.isButton?t.jsx(Re,b({name:"day",ref:n},a.buttonProps)):t.jsx("div",b({},a.divProps))}function xr(e){var n=e.number,a=e.dates,o=C(),r=o.onWeekNumberClick,s=o.styles,i=o.classNames,l=o.locale,c=o.labels.labelWeekNumber,m=o.formatters.formatWeekNumber,u=m(Number(n),{locale:l});if(!r)return t.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:u});var f=c(Number(n),{locale:l}),h=function(y){r(n,a,y)};return t.jsx(Re,{name:"week-number","aria-label":f,className:i.weeknumber,style:s.weeknumber,onClick:h,children:u})}function gr(e){var n,a,o=C(),r=o.styles,s=o.classNames,i=o.showWeekNumber,l=o.components,c=(n=l?.Day)!==null&&n!==void 0?n:pr,m=(a=l?.WeekNumber)!==null&&a!==void 0?a:xr,u;return i&&(u=t.jsx("td",{className:s.cell,style:r.cell,children:t.jsx(m,{number:e.weekNumber,dates:e.dates})})),t.jsxs("tr",{className:s.row,style:r.row,children:[u,e.dates.map(function(f){return t.jsx("td",{className:s.cell,style:r.cell,role:"presentation",children:t.jsx(c,{displayMonth:e.displayMonth,date:f})},gn(f))})]})}function Lt(e,n,a){for(var o=a?.ISOWeek?zt(n):et(n,a),r=a?.ISOWeek?Ze(e):be(e,a),s=Q(o,r),i=[],l=0;l<=s;l++)i.push(F(r,l));var c=i.reduce(function(m,u){var f=a?.ISOWeek?tn(u):an(u,a),h=m.find(function(y){return y.weekNumber===f});return h?(h.dates.push(u),m):(m.push({weekNumber:f,dates:[u]}),m)},[]);return c}function yr(e,n){var a=Lt(W(e),Je(e),n);if(n?.useFixedWeeks){var o=bn(e,n);if(o<6){var r=a[a.length-1],s=r.dates[r.dates.length-1],i=Ge(s,6-o),l=Lt(Ge(s,1),i,n);a.push.apply(a,l)}}return a}function br(e){var n,a,o,r=C(),s=r.locale,i=r.classNames,l=r.styles,c=r.hideHead,m=r.fixedWeeks,u=r.components,f=r.weekStartsOn,h=r.firstWeekContainsDate,y=r.ISOWeek,j=yr(e.displayMonth,{useFixedWeeks:!!m,ISOWeek:y,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),w=(n=u?.Head)!==null&&n!==void 0?n:Ao,p=(a=u?.Row)!==null&&a!==void 0?a:gr,M=(o=u?.Footer)!==null&&o!==void 0?o:To;return t.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&t.jsx(w,{}),t.jsx("tbody",{className:i.tbody,style:l.tbody,children:j.map(function(D){return t.jsx(p,{displayMonth:e.displayMonth,dates:D.dates,weekNumber:D.weekNumber},D.weekNumber)})}),t.jsx(M,{displayMonth:e.displayMonth})]})}function jr(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Nr=jr()?g.useLayoutEffect:g.useEffect,Xe=!1,wr=0;function Et(){return"react-day-picker-".concat(++wr)}function Dr(e){var n,a=e??(Xe?Et():null),o=g.useState(a),r=o[0],s=o[1];return Nr(function(){r===null&&s(Et())},[]),g.useEffect(function(){Xe===!1&&(Xe=!0)},[]),(n=e??r)!==null&&n!==void 0?n:void 0}function _r(e){var n,a,o=C(),r=o.dir,s=o.classNames,i=o.styles,l=o.components,c=De().displayMonths,m=Dr(o.id?"".concat(o.id,"-").concat(e.displayIndex):void 0),u=o.id?"".concat(o.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=i.month,y=e.displayIndex===0,j=e.displayIndex===c.length-1,w=!y&&!j;r==="rtl"&&(n=[y,j],j=n[0],y=n[1]),y&&(f.push(s.caption_start),h=b(b({},h),i.caption_start)),j&&(f.push(s.caption_end),h=b(b({},h),i.caption_end)),w&&(f.push(s.caption_between),h=b(b({},h),i.caption_between));var p=(a=l?.Caption)!==null&&a!==void 0?a:Ro;return t.jsxs("div",{className:f.join(" "),style:h,children:[t.jsx(p,{id:m,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(br,{id:u,"aria-labelledby":m,displayMonth:e.displayMonth})]},e.displayIndex)}function Cr(e){var n=C(),a=n.classNames,o=n.styles;return t.jsx("div",{className:a.months,style:o.months,children:e.children})}function Mr(e){var n,a,o=e.initialProps,r=C(),s=it(),i=De(),l=g.useState(!1),c=l[0],m=l[1];g.useEffect(function(){r.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),m(!0)))},[r.initialFocus,c,s.focus,s.focusTarget,s]);var u=[r.classNames.root,r.className];r.numberOfMonths>1&&u.push(r.classNames.multiple_months),r.showWeekNumber&&u.push(r.classNames.with_weeknumber);var f=b(b({},r.styles.root),r.style),h=Object.keys(o).filter(function(j){return j.startsWith("data-")}).reduce(function(j,w){var p;return b(b({},j),(p={},p[w]=o[w],p))},{}),y=(a=(n=o.components)===null||n===void 0?void 0:n.Months)!==null&&a!==void 0?a:Cr;return t.jsx("div",b({className:u.join(" "),style:f,dir:r.dir,id:r.id,nonce:o.nonce,title:o.title,lang:o.lang},h,{children:t.jsx(y,{children:i.displayMonths.map(function(j,w){return t.jsx(_r,{displayIndex:w,displayMonth:j},w)})})}))}function Pr(e){var n=e.children,a=Qn(e,["children"]);return t.jsx(xo,{initialProps:a,children:t.jsx(Mo,{children:t.jsx(lr,{initialProps:a,children:t.jsx(Lo,{initialProps:a,children:t.jsx(Bo,{initialProps:a,children:t.jsx(Uo,{children:t.jsx(sr,{children:n})})})})})})})}function Sr(e){return t.jsx(Pr,b({},e,{children:t.jsx(Mr,{initialProps:e})}))}function na({className:e,classNames:n,showOutsideDays:a=!0,...o}){return t.jsx(Sr,{showOutsideDays:a,className:Pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Pe(Ct({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Pe(Ct({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...n},components:{IconLeft:({...r})=>t.jsx(ba,{className:"h-4 w-4"}),IconRight:({...r})=>t.jsx(ja,{className:"h-4 w-4"})},...o})}na.displayName="Calendar";var Oe="Popover",[oa,ss]=Fa(Oe,[It]),_e=It(),[kr,ae]=oa(Oe),ra=e=>{const{__scopePopover:n,children:a,open:o,defaultOpen:r,onOpenChange:s,modal:i=!1}=e,l=_e(n),c=g.useRef(null),[m,u]=g.useState(!1),[f,h]=Ea({prop:o,defaultProp:r??!1,onChange:s,caller:Oe});return t.jsx(Ia,{...l,children:t.jsx(kr,{scope:n,contentId:nn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(y=>!y),[h]),hasCustomAnchor:m,onCustomAnchorAdd:g.useCallback(()=>u(!0),[]),onCustomAnchorRemove:g.useCallback(()=>u(!1),[]),modal:i,children:a})})};ra.displayName=Oe;var sa="PopoverAnchor",Rr=g.forwardRef((e,n)=>{const{__scopePopover:a,...o}=e,r=ae(sa,a),s=_e(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=r;return g.useEffect(()=>(i(),()=>l()),[i,l]),t.jsx(Bt,{...s,...o,ref:n})});Rr.displayName=sa;var ia="PopoverTrigger",la=g.forwardRef((e,n)=>{const{__scopePopover:a,...o}=e,r=ae(ia,a),s=_e(a),i=Yt(n,r.triggerRef),l=t.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":fa(r.open),...o,ref:i,onClick:ye(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:t.jsx(Bt,{asChild:!0,...s,children:l})});la.displayName=ia;var dt="PopoverPortal",[Tr,Or]=oa(dt,{forceMount:void 0}),da=e=>{const{__scopePopover:n,forceMount:a,children:o,container:r}=e,s=ae(dt,n);return t.jsx(Tr,{scope:n,forceMount:a,children:t.jsx(Ht,{present:a||s.open,children:t.jsx(Ba,{asChild:!0,container:r,children:o})})})};da.displayName=dt;var he="PopoverContent",ca=g.forwardRef((e,n)=>{const a=Or(he,e.__scopePopover),{forceMount:o=a.forceMount,...r}=e,s=ae(he,e.__scopePopover);return t.jsx(Ht,{present:o||s.open,children:s.modal?t.jsx(Ar,{...r,ref:n}):t.jsx(Wr,{...r,ref:n})})});ca.displayName=he;var Fr=Ya("PopoverContent.RemoveScroll"),Ar=g.forwardRef((e,n)=>{const a=ae(he,e.__scopePopover),o=g.useRef(null),r=Yt(n,o),s=g.useRef(!1);return g.useEffect(()=>{const i=o.current;if(i)return Pa(i)},[]),t.jsx(Sa,{as:Fr,allowPinchZoom:!0,children:t.jsx(ua,{...e,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,i=>{i.preventDefault(),s.current||a.triggerRef.current?.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,m=l.button===2||c;s.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:ye(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Wr=g.forwardRef((e,n)=>{const a=ae(he,e.__scopePopover),o=g.useRef(!1),r=g.useRef(!1);return t.jsx(ua,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||a.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=s.target;a.triggerRef.current?.contains(i)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),ua=g.forwardRef((e,n)=>{const{__scopePopover:a,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:m,onInteractOutside:u,...f}=e,h=ae(he,a),y=_e(a);return ka(),t.jsx(Ra,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:s,children:t.jsx(Aa,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:m,onDismiss:()=>h.onOpenChange(!1),children:t.jsx(Wa,{"data-state":fa(h.open),role:"dialog",id:h.contentId,...y,...f,ref:n,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ma="PopoverClose",Lr=g.forwardRef((e,n)=>{const{__scopePopover:a,...o}=e,r=ae(ma,a);return t.jsx(qt.button,{type:"button",...o,ref:n,onClick:ye(e.onClick,()=>r.onOpenChange(!1))})});Lr.displayName=ma;var Er="PopoverArrow",Ir=g.forwardRef((e,n)=>{const{__scopePopover:a,...o}=e,r=_e(a);return t.jsx(La,{...r,...o,ref:n})});Ir.displayName=Er;function fa(e){return e?"open":"closed"}var Br=ra,Yr=la,qr=da,ha=ca;const Hr=Br,$r=Yr,va=g.forwardRef(({className:e,align:n="center",sideOffset:a=4,...o},r)=>t.jsx(qr,{children:t.jsx(ha,{ref:r,align:n,sideOffset:a,className:Pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));va.displayName=ha.displayName;const is=()=>{const{user:e}=qa(),[n]=Ca(),a=Ma(),o=Na(),[r,s]=g.useState(Ha()),[i,l]=g.useState(!1),[c,m]=g.useState(!1),[u,f]=g.useState(!1),[h,y]=g.useState([]),[j,w]=g.useState(""),[p,M]=g.useState(""),[D,Z]=g.useState(""),[B,re]=g.useState(""),H=r.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");g.useEffect(()=>{const d=n.get("filter");M(d||"")},[n]);const{data:se=[]}=za(e?.uid||""),{data:ie=[]}=Va(e?.uid||""),{data:J=[]}=Ka(e?.uid||""),Ce=Ua(),{data:Fe}=wa({queryKey:["user-config",e?.uid],queryFn:async()=>e?.uid?Xa.getUserConfig(e.uid):null,enabled:!!e?.uid}),L=J.filter(d=>(console.log("Comparando:",d.date,"===",H,"?",d.date===H),d.date===H));console.log("ResumoDia - selectedDateString:",H),console.log("ResumoDia - allTransactions:",J),console.log("ResumoDia - allTransactions dates:",J.map(d=>({id:d.id,date:d.date,type:d.type,amount:d.amount}))),console.log("ResumoDia - todayTransactions (filtradas):",L),g.useEffect(()=>{if(J.length>0&&h.length===0){const d=$a(),N=J.filter(P=>P.date===d);N.length>0&&(y(N),w(d),console.log("ResumoDia - Transações do dia original capturadas:",N),console.log("ResumoDia - Data original:",d))}},[J,h.length]);const le=(()=>{let d=L;switch(p){case"deposits":d=d.filter(N=>N.type==="deposit");break;case"withdraws":d=d.filter(N=>N.type==="withdraw");break}return D&&(d=d.filter(N=>N.platformId===D)),B&&(d=d.filter(N=>N.employeeId===B)),d})(),ve=L.filter(d=>d.type==="deposit"),pe=L.filter(d=>d.type==="withdraw"),x=ve.reduce((d,N)=>d+Number(N.amount||0),0),v=pe.reduce((d,N)=>d+Number(N.amount||0),0),T=v-x,$=le.length;console.log("ResumoDia - Cálculos:"),console.log("- deposits:",ve),console.log("- withdraws:",pe),console.log("- totalDeposits:",x),console.log("- totalWithdraws:",v),console.log("- profit:",T),console.log("- transactionCount:",$);const ne=Fe?.monthlyGoal||1e4,Ae=new Date,pa=new Date(Ae.getFullYear(),Ae.getMonth()+1,0).getDate();Ae.getDate();const ut=Math.ceil(ne/pa),We=Math.max(0,ut-T),xa=Math.min(100,Math.max(0,T/ne*100)),mt=ie.map(d=>{const N=L.filter(_=>_.platformId===d.id),P=N.filter(_=>_.type==="deposit").reduce((_,k)=>_+Number(k.amount||0),0),E=N.filter(_=>_.type==="withdraw").reduce((_,k)=>_+Number(k.amount||0),0),K=E-P;return{name:d.name,color:d.color,deposits:P,withdraws:E,profit:K,transactions:N.length}}).filter(d=>d.transactions>0).sort((d,N)=>N.profit-d.profit),ft=se.map(d=>{const N=L.filter(_=>_.employeeId===d.id),P=N.filter(_=>_.type==="deposit").reduce((_,k)=>_+Number(k.amount||0),0),E=N.filter(_=>_.type==="withdraw").reduce((_,k)=>_+Number(k.amount||0),0),K=E-P;return{name:d.name,deposits:P,withdraws:E,profit:K,transactions:N.length}}).filter(d=>d.transactions>0).sort((d,N)=>N.profit-d.profit),oe=mt[0],de=ft[0],ga=async()=>{try{const d=h.length>0?h:L,N=j||H,P=d.filter(I=>I.type==="deposit"),E=d.filter(I=>I.type==="withdraw"),K=P.reduce((I,O)=>I+Number(O.amount||0),0),_=E.reduce((I,O)=>I+Number(O.amount||0),0),k=_-K;if(console.log("Fechando dia - Data:",N),console.log("Fechando dia - Transações originais:",h),console.log("Fechando dia - Transações selecionadas:",d),console.log("Fechando dia - Total Deposits:",K),console.log("Fechando dia - Total Withdraws:",_),console.log("Fechando dia - Profit:",k),!e?.uid){ue.error("Usuário não autenticado");return}const Y=(await me.getAllDailySummaries(e.uid)).find(I=>I.date===N);let R;Y?(R={date:N,totalDeposits:(Y.totalDeposits||0)+K,totalWithdraws:(Y.totalWithdraws||0)+_,profit:(Y.profit||Y.margin||0)+k,transactionCount:(Y.transactionCount||0)+d.length,transactionsSnapshot:[...Y.transactionsSnapshot||[],...d],byEmployee:[],margin:(Y.profit||Y.margin||0)+k,createdAt:Y.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente:",R),await me.updateDailySummary(e.uid,Y.id,R)):(R={date:N,totalDeposits:K,totalWithdraws:_,profit:k,transactionCount:d.length,transactionsSnapshot:d,byEmployee:[],margin:k,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento:",R),await me.createDailySummary(e.uid,R));const ee=d.map(I=>Ce.mutateAsync(I.id));await Promise.all(ee),ue.success("Dia fechado com sucesso!"),m(!1),setTimeout(()=>{window.location.href="/dashboard"},1e3)}catch(d){console.error("Erro ao fechar o dia:",d),ue.error("Erro ao fechar o dia. Tente novamente.")}},ya=async d=>{try{if(console.log("=== INICIANDO SALVAMENTO EM OUTRA DATA ==="),console.log("Target Date recebida:",d),console.log("Transações do dia original:",h),console.log("Data original:",j),console.log("Transações do dia atual (selectedDate):",L),console.log("Total Deposits:",x),console.log("Total Withdraws:",v),console.log("Profit calculado:",T),!e?.uid){ue.error("Usuário não autenticado");return}const N=d.toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"}).split("/").reverse().join("-");console.log("Salvando em outra data - Target Date String:",N);const P=h.length>0?h:L,E=P.filter(O=>O.type==="deposit"),K=P.filter(O=>O.type==="withdraw"),_=E.reduce((O,Ee)=>O+Number(Ee.amount||0),0),k=K.reduce((O,Ee)=>O+Number(Ee.amount||0),0),ce=k-_;console.log("Dados a serem salvos:"),console.log("- transactionsToSave:",P),console.log("- totalDepositsToSave:",_),console.log("- totalWithdrawsToSave:",k),console.log("- profitToSave:",ce);const R=(await me.getAllDailySummaries(e.uid)).find(O=>O.date===N);let ee;R?(ee={date:N,totalDeposits:(R.totalDeposits||0)+_,totalWithdraws:(R.totalWithdraws||0)+k,profit:(R.profit||R.margin||0)+ce,transactionCount:(R.transactionCount||0)+P.length,transactionsSnapshot:[...R.transactionsSnapshot||[],...P],byEmployee:[],margin:(R.profit||R.margin||0)+ce,createdAt:R.createdAt,updatedAt:new Date},console.log("Atualizando fechamento existente para data:",ee),await me.updateDailySummary(e.uid,R.id,ee)):(ee={date:N,totalDeposits:_,totalWithdraws:k,profit:ce,transactionCount:P.length,transactionsSnapshot:P,byEmployee:[],margin:ce,createdAt:new Date,updatedAt:new Date},console.log("Criando novo fechamento para data:",ee),await me.createDailySummary(e.uid,ee)),console.log("Resumo salvo com sucesso na data:",N),console.log("Deletando transações do dia selecionado:",P);const I=P.map(O=>(console.log("Deletando transação:",O.id),Ce.mutateAsync(O.id)));await Promise.all(I),console.log("Todas as transações foram deletadas com sucesso"),o.invalidateQueries({queryKey:["firebase-transactions"]}),o.invalidateQueries({queryKey:["firebase-all-daily-summaries"]}),o.invalidateQueries({queryKey:["firebase-daily-summaries"]}),ue.success(`Resumo salvo para ${U(d,"dd/MM/yyyy",{locale:ze})}! Transações do dia atual foram apagadas.`),l(!1)}catch(N){console.error("Erro ao salvar em outra data:",N),ue.error("Erro ao salvar em outra data. Tente novamente.")}},Le=mt.map(d=>({name:d.name,value:d.profit,color:d.color})),ht=ft.map(d=>({name:d.name,receita:d.profit,depositos:d.deposits,saques:d.withdraws}));return t.jsx(Ta,{children:t.jsxs("div",{className:"space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h1",{className:"text-4xl font-bold",children:"Resumo do Dia"}),p&&t.jsxs(X,{variant:"secondary",className:"gap-1 bg-primary/10 text-primary border-primary/20",children:[t.jsx(Ie,{className:"h-3 w-3"}),p==="deposits"&&"Depósitos",p==="withdraws"&&"Saques",p==="profit"&&"Lucro"]})]}),t.jsx("p",{className:"text-muted-foreground",children:U(r,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:ze})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Hr,{open:i,onOpenChange:l,children:[t.jsx($r,{asChild:!0,children:t.jsxs(te,{variant:"outline",className:"gap-2 bg-orange-500 hover:bg-orange-600 text-white border-orange-500",children:[t.jsx(Da,{className:"h-4 w-4"}),"Salvar em outra data"]})}),t.jsx(va,{className:"w-auto p-0",align:"end",children:t.jsx(na,{mode:"single",selected:r,onSelect:d=>{d&&(s(d),l(!1),f(!0))},initialFocus:!0})})]}),t.jsx(gt,{open:u,onOpenChange:f,children:t.jsxs(yt,{children:[t.jsxs(bt,{children:[t.jsx(jt,{children:"Salvar em Outra Data"}),t.jsxs(Nt,{children:["Tem certeza que deseja salvar o resumo do dia atual para ",r&&U(r,"dd/MM/yyyy",{locale:ze}),"?",t.jsx("br",{}),t.jsx("br",{}),t.jsx("strong",{children:"Esta ação irá:"}),t.jsx("br",{}),"• Salvar todas as transações atuais para a data selecionada",t.jsx("br",{}),"• Apagar todas as transações do dia atual",t.jsx("br",{}),"• Permitir que você comece um novo dia",t.jsx("br",{}),t.jsx("br",{}),t.jsx("strong",{children:"Esta ação não pode ser desfeita."})]})]}),t.jsxs(wt,{children:[t.jsx(Dt,{children:"Cancelar"}),t.jsx(_t,{onClick:async()=>{r&&(console.log("Executando saveToAnotherDate com data:",r),await ya(r),f(!1))},children:"Salvar e Apagar Transações"})]})]})}),t.jsxs(gt,{open:c,onOpenChange:m,children:[t.jsx(Oa,{asChild:!0,children:t.jsxs(te,{variant:"destructive",className:"gap-2",children:[t.jsx(_a,{className:"h-4 w-4"}),"Fechar o Dia"]})}),t.jsxs(yt,{children:[t.jsxs(bt,{children:[t.jsx(jt,{children:"Fechar o Dia"}),t.jsx(Nt,{children:"Tem certeza que deseja fechar o dia? Esta ação salvará todas as movimentações do dia e resetará as transações para um novo dia."})]}),t.jsxs(wt,{children:[t.jsx(Dt,{children:"Cancelar"}),t.jsx(_t,{onClick:ga,children:"Fechar o Dia"})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(q,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Receita do Dia"}),t.jsxs("p",{className:`text-3xl font-bold ${T>=0?"text-success":"text-destructive"}`,children:["R$ ",T.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(Be,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(q,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Depósitos"}),t.jsxs("p",{className:"text-3xl font-bold text-destructive",children:["R$ ",x.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(vt,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(q,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total de Saques"}),t.jsxs("p",{className:"text-3xl font-bold text-success",children:["R$ ",v.toLocaleString("pt-BR")]})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(pt,{className:"h-6 w-6 text-primary-foreground"})})]})}),t.jsx(q,{className:"p-6 shadow-card hover:shadow-glow transition-all duration-300",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Transações"}),t.jsx("p",{className:"text-3xl font-bold",children:$})]}),t.jsx("div",{className:"p-3 bg-gradient-primary rounded-xl shadow-glow",children:t.jsx(xt,{className:"h-6 w-6 text-primary-foreground"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[oe&&t.jsxs(q,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ye,{className:"h-6 w-6 text-yellow-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Plataforma do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:oe.color}}),t.jsx("span",{className:"font-medium",children:oe.name})]}),t.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",oe.profit.toLocaleString("pt-BR")]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[oe.transactions," transações • R$ ",oe.deposits.toLocaleString("pt-BR")," depósitos • R$ ",oe.withdraws.toLocaleString("pt-BR")," saques"]})]})]}),de&&t.jsxs(q,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ye,{className:"h-6 w-6 text-yellow-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Melhor Funcionário do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"font-medium",children:de.name}),t.jsxs("p",{className:"text-2xl font-bold text-success",children:["R$ ",de.profit.toLocaleString("pt-BR")]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[de.transactions," transações • R$ ",de.deposits.toLocaleString("pt-BR")," depósitos • R$ ",de.withdraws.toLocaleString("pt-BR")," saques"]})]})]}),ht.length>0&&t.jsxs(q,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Performance por Funcionário"}),t.jsx(Tt,{width:"100%",height:300,children:t.jsxs(on,{data:ht,children:[t.jsx(rn,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),t.jsx(sn,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),t.jsx(ln,{stroke:"hsl(var(--muted-foreground))"}),t.jsx(Ot,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),t.jsx(dn,{dataKey:"receita",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(q,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ye,{className:"h-6 w-6 text-yellow-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Metas do Dia"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Meta Diária de Receita"}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:["R$ ",ut.toLocaleString("pt-BR")]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{children:["Hoje: R$ ",T.toLocaleString("pt-BR")]}),t.jsx("span",{className:We>0?"text-destructive":"text-success",children:We>0?`Faltam R$ ${We.toLocaleString("pt-BR")}`:"🎯 Meta atingida!"})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Meta mensal: R$ ",ne.toLocaleString("pt-BR")," • Progresso: ",xa.toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Status do Dia"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:"Resumo"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Depósitos: "}),t.jsxs("span",{className:"text-destructive",children:["R$ ",x.toLocaleString("pt-BR")]})]}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Saques: "}),t.jsxs("span",{className:"text-success",children:["R$ ",v.toLocaleString("pt-BR")]})]}),t.jsxs("div",{className:"text-sm font-semibold",children:[t.jsx("span",{className:"text-muted-foreground",children:"Lucro: "}),t.jsxs("span",{className:T>=0?"text-success":"text-destructive",children:["R$ ",T.toLocaleString("pt-BR")]})]})]})]})]})]}),Le.length>0&&t.jsxs(q,{className:"p-6 shadow-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Receita por Plataforma"}),t.jsx(Tt,{width:"100%",height:300,children:t.jsxs(cn,{children:[t.jsx(un,{data:Le,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:d,value:N})=>`${d}: R$ ${N.toLocaleString("pt-BR")}`,children:Le.map((d,N)=>t.jsx(mn,{fill:d.color},`cell-${N}`))}),t.jsx(Ot,{formatter:d=>[`R$ ${d.toLocaleString("pt-BR")}`,"Receita"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(q,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Be,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Comparativo Semanal"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/30 rounded-lg",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Média de transações/dia"}),t.jsx("span",{className:"font-semibold",children:Math.round($/7)})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/30 rounded-lg",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Ticket médio"}),t.jsxs("span",{className:"font-semibold",children:["R$ ",$>0?Math.round((x+v)/$).toLocaleString("pt-BR"):"0"]})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/30 rounded-lg",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Taxa de conversão"}),t.jsxs("span",{className:"font-semibold",children:[x>0?Math.round(v/x*100):0,"%"]})]})]})]}),t.jsxs(q,{className:"p-6 shadow-card",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(xt,{className:"h-6 w-6 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Insights do Dia"})]}),t.jsxs("div",{className:"space-y-3",children:[T>0?t.jsx("div",{className:"p-3 bg-success/10 border border-success/20 rounded-lg",children:t.jsxs("p",{className:"text-sm text-success font-medium",children:["🎉 Excelente! Você teve lucro hoje de R$ ",T.toLocaleString("pt-BR")]})}):T<0?t.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:t.jsxs("p",{className:"text-sm text-destructive font-medium",children:["⚠️ Atenção: Prejuízo de R$ ",Math.abs(T).toLocaleString("pt-BR")," hoje"]})}):t.jsx("div",{className:"p-3 bg-muted/30 border border-muted rounded-lg",children:t.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"📊 Resultado neutro hoje - R$ 0,00"})}),$===0&&t.jsx("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-lg",children:t.jsx("p",{className:"text-sm text-primary font-medium",children:"💡 Nenhuma transação hoje. Que tal registrar algumas movimentações?"})}),$>0&&x>v&&t.jsx("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-lg",children:t.jsx("p",{className:"text-sm text-primary font-medium",children:"📈 Você depositou mais do que sacou hoje. Mantenha essa estratégia!"})})]})]})]}),t.jsxs(q,{className:"shadow-card overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("h3",{className:"text-lg font-semibold",children:["Transações do Dia",(p||D||B)&&t.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",le.length," transação(ões) encontrada(s))"]})]})}),t.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Plataforma:"}),t.jsxs(Pt,{value:D||"all",onValueChange:d=>Z(d==="all"?"":d),children:[t.jsx(St,{className:"w-[160px]",children:t.jsx(kt,{placeholder:"Todas"})}),t.jsxs(Rt,{children:[t.jsx(Me,{value:"all",children:"Todas as plataformas"}),ie.map(d=>t.jsx(Me,{value:d.id,children:d.name},d.id))]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Funcionário:"}),t.jsxs(Pt,{value:B||"all",onValueChange:d=>re(d==="all"?"":d),children:[t.jsx(St,{className:"w-[160px]",children:t.jsx(kt,{placeholder:"Todos"})}),t.jsxs(Rt,{children:[t.jsx(Me,{value:"all",children:"Todos os funcionários"}),se.map(d=>t.jsx(Me,{value:d.id,children:d.name},d.id))]})]})]}),(p||D||B)&&t.jsx(te,{variant:"outline",size:"sm",onClick:()=>{M(""),Z(""),re(""),a("/resumo-dia")},children:"Limpar Filtros"})]})]}),t.jsxs("div",{className:"space-y-4 mt-4",children:[(p||D||B)&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20",children:[t.jsx(Ie,{className:"h-4 w-4 text-primary"}),t.jsx("span",{className:"text-sm text-primary font-medium",children:"Filtros ativos:"}),t.jsxs("div",{className:"flex gap-2",children:[p&&t.jsxs(X,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:[p==="deposits"&&"Depósitos",p==="withdraws"&&"Saques",p==="profit"&&"Lucro"]}),D&&t.jsxs(X,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Plataforma: ",ie.find(d=>d.id===D)?.name||"N/A"]}),B&&t.jsxs(X,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Funcionário: ",se.find(d=>d.id===B)?.name||"N/A"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs(te,{variant:p===""?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia"),className:"gap-2",children:[t.jsx(Ie,{className:"h-3 w-3"}),"Todas",t.jsx(X,{variant:"secondary",className:"ml-1",children:L.length})]}),t.jsxs(te,{variant:p==="deposits"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=deposits"),className:"gap-2",children:[t.jsx(vt,{className:"h-3 w-3"}),"Depósitos",t.jsx(X,{variant:"secondary",className:"ml-1",children:ve.length})]}),t.jsxs(te,{variant:p==="withdraws"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=withdraws"),className:"gap-2",children:[t.jsx(pt,{className:"h-3 w-3"}),"Saques",t.jsx(X,{variant:"secondary",className:"ml-1",children:pe.length})]}),t.jsxs(te,{variant:p==="profit"?"default":"outline",size:"sm",onClick:()=>a("/resumo-dia?filter=profit"),className:"gap-2",children:[t.jsx(Be,{className:"h-3 w-3"}),"Lucro",t.jsx(X,{variant:"secondary",className:"ml-1",children:L.length})]})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-muted/50",children:[t.jsx("th",{className:"text-left p-4 font-semibold",children:"Funcionário"}),t.jsx("th",{className:"text-left p-4 font-semibold",children:"Plataforma"}),t.jsx("th",{className:"text-center p-4 font-semibold",children:"Tipo"}),t.jsx("th",{className:"text-right p-4 font-semibold",children:"Valor"}),t.jsx("th",{className:"text-center p-4 font-semibold",children:"Horário"})]})}),t.jsxs("tbody",{children:[le.map(d=>{const N=se.find(E=>E.id===d.employeeId),P=ie.find(E=>E.id===d.platformId);return t.jsxs("tr",{className:"border-t hover:bg-muted/30",children:[t.jsx("td",{className:"p-4 font-medium",children:N?.name||"N/A"}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[P&&t.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:P.color}}),P?.name||"N/A"]})}),t.jsx("td",{className:"p-4 text-center",children:t.jsx(X,{variant:d.type==="deposit"?"destructive":"default",children:d.type==="deposit"?"Depósito":"Saque"})}),t.jsxs("td",{className:`p-4 text-right font-semibold ${d.type==="deposit"?"text-success":"text-destructive"}`,children:[d.type==="deposit"?"-":"+","R$ ",Number(d.amount||0).toLocaleString("pt-BR")]}),t.jsx("td",{className:"p-4 text-center text-sm text-muted-foreground",children:new Date(d.createdAt?.toDate?.()||d.createdAt).toLocaleTimeString("pt-BR")})]},d.id)}),le.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:p?t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:"Nenhuma transação encontrada para o filtro selecionado."}),t.jsx(te,{variant:"outline",size:"sm",onClick:()=>a("/resumo-dia"),children:"Ver todas as transações"})]}):"Nenhuma transação registrada para este dia."})})]})]})})]})]})})};export{is as default};
